{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954",
    "id": 486629707,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NDg2NjI5NzA3",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19954",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/19954.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/19954.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
    "number": 19954,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "Complete the BIP155 implementation and upgrade to TORv3",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This PR contains the two remaining commits from #19031 to complete the [BIP155](https://github.com/bitcoin/bips/blob/master/bip-0155.mediawiki) implementation:\r\n\r\n`net: CAddress & CAddrMan: (un)serialize as ADDRv2`\r\n`net: advertise support for ADDRv2 via new message`\r\n\r\nplus one more commit:\r\n\r\n`tor: make a TORv3 hidden service instead of TORv2`",
    "labels": [
      {
        "id": 98298007,
        "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
        "name": "P2P",
        "color": "006b75",
        "default": false
      }
    ],
    "milestone": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/45",
      "html_url": "https://github.com/bitcoin/bitcoin/milestone/45",
      "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/45/labels",
      "id": 4914019,
      "node_id": "MDk6TWlsZXN0b25lNDkxNDAxOQ==",
      "number": 45,
      "state": "closed",
      "title": "0.21.0",
      "description": "",
      "creator": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "open_issues": 0,
      "closed_issues": 132,
      "created_at": "2019-12-09T08:39:58Z",
      "updated_at": "2021-01-15T19:50:53Z",
      "closed_at": "2021-01-15T19:50:53Z"
    },
    "active_lock_reason": "resolved",
    "created_at": "2020-09-14T13:46:02Z",
    "updated_at": "2022-02-15T10:37:25Z",
    "closed_at": "2020-10-11T00:52:36Z",
    "mergeable_state": "unknown",
    "merged_at": "2020-10-11T00:52:36Z",
    "merge_commit_sha": "0b2abaa666d6f3331e3246ffd64dd47946e9dcdf",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "vasild:torv3",
      "ref": "torv3",
      "sha": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 120608826,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMjA2MDg4MjY=",
        "name": "bitcoin",
        "full_name": "vasild/bitcoin",
        "owner": {
          "login": "vasild",
          "id": 266751,
          "node_id": "MDQ6VXNlcjI2Njc1MQ==",
          "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/vasild",
          "html_url": "https://github.com/vasild",
          "followers_url": "https://api.github.com/users/vasild/followers",
          "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
          "organizations_url": "https://api.github.com/users/vasild/orgs",
          "repos_url": "https://api.github.com/users/vasild/repos",
          "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/vasild/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/vasild/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/vasild/bitcoin",
        "archive_url": "https://api.github.com/repos/vasild/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/vasild/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/vasild/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/vasild/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/vasild/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/vasild/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/vasild/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/vasild/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/vasild/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/vasild/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/vasild/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/vasild/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/vasild/bitcoin/events",
        "forks_url": "https://api.github.com/repos/vasild/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/vasild/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/vasild/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/vasild/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/vasild/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/vasild/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/vasild/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/vasild/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/vasild/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/vasild/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/vasild/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/vasild/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/vasild/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/vasild/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/vasild/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/vasild/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:vasild/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/vasild/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/vasild/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/vasild/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/vasild/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/vasild/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/vasild/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/vasild/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/vasild/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/vasild/bitcoin/hooks",
        "svn_url": "https://github.com/vasild/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 3,
        "watchers_count": 3,
        "size": 214063,
        "default_branch": "master",
        "open_issues_count": 2,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-02T12:37:14Z",
        "created_at": "2018-02-07T11:52:47Z",
        "updated_at": "2023-01-31T16:56:52Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "12a1c3ad1a43634d2a98717e49e3f02c4acea2fe",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35476,
        "stargazers_count": 70608,
        "watchers_count": 70608,
        "size": 236222,
        "default_branch": "master",
        "open_issues_count": 672,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-02T20:20:41Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-08-02T18:21:18Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 596,
    "deletions": 48,
    "changed_files": 19,
    "commits": 4,
    "review_comments": 127,
    "comments": 54
  },
  "events": [
    {
      "event": "commented",
      "id": 692063434,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY5MjA2MzQzNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/692063434",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-14T13:46:19Z",
      "updated_at": "2020-09-14T13:49:29Z",
      "author_association": "CONTRIBUTOR",
      "body": "This builds on top of #19031, adding one more commit to complete the [TORv3 puzzle](https://github.com/bitcoin/bitcoin/issues/18884). The dependency to #19031 is because if we create a TORv3 hidden service before #19031 is merged we will not be able to advertise it by gossiping. So, this PR is draft until all of #19031 is merged. Available for early review and testing.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-692063434",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "labeled",
      "id": 3763433471,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDM3NjM0MzM0NzE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3763433471",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-14T13:47:00Z",
      "label": {
        "name": "P2P",
        "color": "006b75"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-14T13:48:06Z",
      "updated_at": "2020-09-14T13:48:06Z",
      "source": {
        "issue": {
          "id": 612474327,
          "node_id": "MDU6SXNzdWU2MTI0NzQzMjc=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18884",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18884/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18884/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18884/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/18884",
          "number": 18884,
          "state": "closed",
          "state_reason": "completed",
          "title": "Tor v3 support",
          "body": "Meta issue to track Tor v3 support. It needs:\r\n\r\n* [ ] Finalize [BIP155](https://github.com/bitcoin/bips/blob/master/bip-0155.mediawiki):\r\n  * [x] Get this merged: [#907 BIP155: include changes from followup discussions](https://github.com/bitcoin/bips/pull/907)\r\n  * [x] Get this merged: [#967 BIP155: clarify variable integer format and change time to fixed 32 bit](https://github.com/bitcoin/bips/pull/967)\r\n  * [x] Decide how to signal for `addrv2` support - protocol version bump (as in the BIP), service bit or a new p2p message (as in the WIP implementation). Integrate that decision into the BIP (either via the above PR or separately). Done: https://github.com/bitcoin/bips/pull/907#issuecomment-641145777\r\n  * [ ] Flip the BIP from `Status: Draft` to `Status: Final`\r\n* [x] Implement BIP155\r\n  * [x] Rebase [pull#16748 [WIP] Add support for addrv2 (BIP155)](https://github.com/bitcoin/bitcoin/pull/16748)\r\n  * [x] Get all unit tests to pass (pull#16748)\r\n  * [x] Get all functional tests to pass (if they don't) (pull#16748)\r\n  * [x] Address review suggestions (pull#16748)\r\n  * [x] Create a new PR from above (ready for review). Done: [pull#19031 Implement ADDRv2 support (part of BIP155)](https://github.com/bitcoin/bitcoin/pull/19031)\r\n  * [x] Split [pull#19031](https://github.com/bitcoin/bitcoin/pull/19031) in smaller, digestible PRs, targeting each one to have 100% code coverage of modified code (see details on the PR page):\r\n    * [x] Preparation changes\r\n    * [x] Change `CNetAddr::ip` to have flexible size\r\n    * [x] Implement `addrv2` (un)serializing\r\n    * [x] Advertise support for `addrv2` and start sending such messages to peers\r\n  * [x] Document `addrv2` next to [addr](https://developer.bitcoin.org/reference/p2p_networking.html#addr) (https://github.com/bitcoin-dot-org/developer.bitcoin.org/pull/99)\r\n* [x] Implement Tor v3 on top of that (#19954).\r\n\r\nRelated:\r\n[issue#2091 Binding to multiple anonymous networks (esp. I2P)](https://github.com/bitcoin/bitcoin/issues/2091)\r\n[issue#9214 ensure ADD_ONION implementation is compatible with upstream changes, next generation onion addresses](https://github.com/bitcoin/bitcoin/issues/9214)\r\n[issue#18254 setting externalip=<version 3 onion address> results in error](https://github.com/bitcoin/bitcoin/issues/18254)\r\n",
          "user": {
            "login": "vasild",
            "id": 266751,
            "node_id": "MDQ6VXNlcjI2Njc1MQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vasild",
            "html_url": "https://github.com/vasild",
            "followers_url": "https://api.github.com/users/vasild/followers",
            "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
            "organizations_url": "https://api.github.com/users/vasild/orgs",
            "repos_url": "https://api.github.com/users/vasild/repos",
            "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/vasild/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 64583,
              "node_id": "MDU6TGFiZWw2NDU4Mw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Feature",
              "name": "Feature",
              "color": "7cf575",
              "default": false
            },
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 3,
          "closed_at": "2020-10-12T12:20:51Z",
          "created_at": "2020-05-05T09:45:42Z",
          "updated_at": "2022-02-15T10:48:01Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3763458149,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50Mzc2MzQ1ODE0OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3763458149",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-14T13:51:45Z"
    },
    {
      "event": "reviewed",
      "id": 487897429,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3ODk3NDI5",
      "url": null,
      "actor": null,
      "commit_id": "9c9ff0a8c40421b43922a6b211f99b6aaf94a798",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK, am running this right now.\r\n\r\nDebug build is clean, all tests are passing for me locally, and above all, for the first time I am operating a torv3 bitcoind service.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#pullrequestreview-487897429",
      "submitted_at": "2020-09-14T15:35:31Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
    },
    {
      "event": "reviewed",
      "id": 487933729,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3OTMzNzI5",
      "url": null,
      "actor": null,
      "commit_id": "a1b067e0896d5f8a639364494a5707bd536b99f1",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Initial (light) pass through the code looks good apart from the minor comments that follow. For the three comments with the word \"Sneak\", suggest \"Bitwise OR the\" instead.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#pullrequestreview-487933729",
      "submitted_at": "2020-09-14T16:18:50Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
    },
    {
      "event": "commented",
      "id": 692210055,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY5MjIxMDA1NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/692210055",
      "actor": {
        "login": "ghost",
        "id": 10137,
        "node_id": "MDQ6VXNlcjEwMTM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ghost",
        "html_url": "https://github.com/ghost",
        "followers_url": "https://api.github.com/users/ghost/followers",
        "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
        "organizations_url": "https://api.github.com/users/ghost/orgs",
        "repos_url": "https://api.github.com/users/ghost/repos",
        "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ghost/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-14T17:45:09Z",
      "updated_at": "2020-09-14T17:45:32Z",
      "author_association": "NONE",
      "body": "Can we also add the option to delete `onion_private_key` and `onion_private_key_obsolete_torv2`automatically every time bitcoind is restarted? So that it gets new address each time.\r\n\r\nOr is it something out of scope for this PR and will need a new issue or PR to discuss?",
      "user": {
        "login": "ghost",
        "id": 10137,
        "node_id": "MDQ6VXNlcjEwMTM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ghost",
        "html_url": "https://github.com/ghost",
        "followers_url": "https://api.github.com/users/ghost/followers",
        "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
        "organizations_url": "https://api.github.com/users/ghost/orgs",
        "repos_url": "https://api.github.com/users/ghost/repos",
        "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ghost/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-692210055",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "commented",
      "id": 692211498,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY5MjIxMTQ5OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/692211498",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-14T17:47:41Z",
      "updated_at": "2020-09-14T17:48:10Z",
      "author_association": "MEMBER",
      "body": "@prayank23 It can take a (very) long time for a node's rumoured address to be picked up, especially Tor ones. Getting a new one every time you restart your node is probably a good way to never get any incoming connections at all.\n\nIt may be useful as an optional feature, but seems out of scope here.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-692211498",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "mentioned",
      "id": 3764630547,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50Mzc2NDYzMDU0Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3764630547",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-14T17:47:42Z"
    },
    {
      "event": "subscribed",
      "id": 3764630554,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM3NjQ2MzA1NTQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3764630554",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-14T17:47:42Z"
    },
    {
      "event": "commented",
      "id": 692235271,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY5MjIzNTI3MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/692235271",
      "actor": {
        "login": "Saibato",
        "id": 34917548,
        "node_id": "MDQ6VXNlcjM0OTE3NTQ4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34917548?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Saibato",
        "html_url": "https://github.com/Saibato",
        "followers_url": "https://api.github.com/users/Saibato/followers",
        "following_url": "https://api.github.com/users/Saibato/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Saibato/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Saibato/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Saibato/subscriptions",
        "organizations_url": "https://api.github.com/users/Saibato/orgs",
        "repos_url": "https://api.github.com/users/Saibato/repos",
        "events_url": "https://api.github.com/users/Saibato/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Saibato/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-14T18:32:55Z",
      "updated_at": "2020-09-14T18:32:55Z",
      "author_association": "CONTRIBUTOR",
      "body": "@prayank23\r\n>  Can we also add the option to delete `onion_private_key` and `onion_private_key_obsolete_torv2`automatically every time bitcoind is restarted? So that it gets new address each time.\r\n\r\n> \r\ntyi; #19635 we probably will need that in some form for v3 anyway.  \r\n\r\n\r\n",
      "user": {
        "login": "Saibato",
        "id": 34917548,
        "node_id": "MDQ6VXNlcjM0OTE3NTQ4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34917548?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Saibato",
        "html_url": "https://github.com/Saibato",
        "followers_url": "https://api.github.com/users/Saibato/followers",
        "following_url": "https://api.github.com/users/Saibato/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Saibato/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Saibato/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Saibato/subscriptions",
        "organizations_url": "https://api.github.com/users/Saibato/orgs",
        "repos_url": "https://api.github.com/users/Saibato/repos",
        "events_url": "https://api.github.com/users/Saibato/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Saibato/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-692235271",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "mentioned",
      "id": 3764799657,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50Mzc2NDc5OTY1Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3764799657",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-14T18:32:55Z"
    },
    {
      "event": "subscribed",
      "id": 3764799660,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM3NjQ3OTk2NjA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3764799660",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-14T18:32:55Z"
    },
    {
      "event": "reviewed",
      "id": 488944513,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg4OTQ0NTEz",
      "url": null,
      "actor": null,
      "commit_id": "9c9ff0a8c40421b43922a6b211f99b6aaf94a798",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#pullrequestreview-488944513",
      "submitted_at": "2020-09-15T18:16:30Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
    },
    {
      "event": "commented",
      "id": 692889834,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY5Mjg4OTgzNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/692889834",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-15T18:18:56Z",
      "updated_at": "2020-09-15T21:30:31Z",
      "author_association": "MEMBER",
      "body": "@prayank23 \r\n\r\n> Can we also add the option to delete onion_private_key and onion_private_key_obsolete_torv2automatically every time bitcoind is restarted? So that it gets new address each time.\r\n\r\nYes, but out of scope here. There's an issue for this already: #17491.",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-692889834",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "mentioned",
      "id": 3769714945,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50Mzc2OTcxNDk0NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3769714945",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-15T18:18:56Z"
    },
    {
      "event": "subscribed",
      "id": 3769714946,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM3Njk3MTQ5NDY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3769714946",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-15T18:18:56Z"
    },
    {
      "event": "commented",
      "id": 692929925,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY5MjkyOTkyNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/692929925",
      "actor": {
        "login": "Saibato",
        "id": 34917548,
        "node_id": "MDQ6VXNlcjM0OTE3NTQ4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34917548?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Saibato",
        "html_url": "https://github.com/Saibato",
        "followers_url": "https://api.github.com/users/Saibato/followers",
        "following_url": "https://api.github.com/users/Saibato/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Saibato/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Saibato/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Saibato/subscriptions",
        "organizations_url": "https://api.github.com/users/Saibato/orgs",
        "repos_url": "https://api.github.com/users/Saibato/repos",
        "events_url": "https://api.github.com/users/Saibato/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Saibato/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-15T19:29:29Z",
      "updated_at": "2020-09-15T19:31:19Z",
      "author_association": "CONTRIBUTOR",
      "body": "@laanwj \r\n> I'd slightly prefer creating a new file for v3 instead \r\n\r\n@vasild \r\nFeel free to grab there, then i can close that PR \r\n\r\nhttps://github.com/bitcoin/bitcoin/pull/19485\r\n\r\n ",
      "user": {
        "login": "Saibato",
        "id": 34917548,
        "node_id": "MDQ6VXNlcjM0OTE3NTQ4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34917548?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Saibato",
        "html_url": "https://github.com/Saibato",
        "followers_url": "https://api.github.com/users/Saibato/followers",
        "following_url": "https://api.github.com/users/Saibato/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Saibato/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Saibato/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Saibato/subscriptions",
        "organizations_url": "https://api.github.com/users/Saibato/orgs",
        "repos_url": "https://api.github.com/users/Saibato/repos",
        "events_url": "https://api.github.com/users/Saibato/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Saibato/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-692929925",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "mentioned",
      "id": 3769973610,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50Mzc2OTk3MzYxMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3769973610",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-15T19:29:29Z"
    },
    {
      "event": "subscribed",
      "id": 3769973615,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM3Njk5NzM2MTU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3769973615",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-15T19:29:29Z"
    },
    {
      "event": "mentioned",
      "id": 3769980315,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50Mzc2OTk4MDMxNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3769980315",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-15T19:31:20Z"
    },
    {
      "event": "subscribed",
      "id": 3769980319,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM3Njk5ODAzMTk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3769980319",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-15T19:31:20Z"
    },
    {
      "event": "commented",
      "id": 693216828,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY5MzIxNjgyOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/693216828",
      "actor": {
        "login": "tryphe",
        "id": 8435003,
        "node_id": "MDQ6VXNlcjg0MzUwMDM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8435003?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tryphe",
        "html_url": "https://github.com/tryphe",
        "followers_url": "https://api.github.com/users/tryphe/followers",
        "following_url": "https://api.github.com/users/tryphe/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tryphe/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tryphe/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tryphe/subscriptions",
        "organizations_url": "https://api.github.com/users/tryphe/orgs",
        "repos_url": "https://api.github.com/users/tryphe/repos",
        "events_url": "https://api.github.com/users/tryphe/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tryphe/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-16T07:05:12Z",
      "updated_at": "2020-09-16T07:08:25Z",
      "author_association": "CONTRIBUTOR",
      "body": "utACK 9c9ff0a8c40421b43922a6b211f99b6aaf94a798. Light code review, code looks great, apart from several uses of `char name[1025]` which seem a bit clunky (oops, just noticed this nit was a refactor and not an addition, am okay with no change). Will need to fire up a test build. Nice work!",
      "user": {
        "login": "tryphe",
        "id": 8435003,
        "node_id": "MDQ6VXNlcjg0MzUwMDM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8435003?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tryphe",
        "html_url": "https://github.com/tryphe",
        "followers_url": "https://api.github.com/users/tryphe/followers",
        "following_url": "https://api.github.com/users/tryphe/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tryphe/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tryphe/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tryphe/subscriptions",
        "organizations_url": "https://api.github.com/users/tryphe/orgs",
        "repos_url": "https://api.github.com/users/tryphe/repos",
        "events_url": "https://api.github.com/users/tryphe/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tryphe/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-693216828",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "commented",
      "id": 694180511,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY5NDE4MDUxMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/694180511",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-17T11:52:39Z",
      "updated_at": "2020-09-17T11:54:18Z",
      "author_association": "MEMBER",
      "body": "Concept ACK, I share Wladimir's preference for \"creating a new file for v3 instead of moving the old one\". Plus it'll make this change even smaller.\r\n\r\n> Perhaps begin with v3 as opt-in, then in the following release look at making it the default.\r\n\r\nGiven that v2 is deprecated I don't think v3 needs to be opt-in, at least not for new users.\r\n\r\nExisting users might rely on a static v2 address, e.g. because they have another node connected to it, or they paired it with some remote control software. Afaik this only applies to bitcoind users, not QT (unless @luke-jr implemented pairing in Knots?). So this change needs some emphasis in the release notes.\r\n\r\nWe could add an (instantly deprecated) option `-listenonion_v2`.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-694180511",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "mentioned",
      "id": 3777562696,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50Mzc3NzU2MjY5Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3777562696",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-17T11:52:39Z"
    },
    {
      "event": "subscribed",
      "id": 3777562697,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM3Nzc1NjI2OTc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3777562697",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-17T11:52:39Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3782415485,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50Mzc4MjQxNTQ4NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3782415485",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-18T12:37:31Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3782438712,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50Mzc4MjQzODcxMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3782438712",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-18T12:43:50Z"
    },
    {
      "event": "commented",
      "id": 694852846,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY5NDg1Mjg0Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/694852846",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-18T12:59:54Z",
      "updated_at": "2020-09-18T12:59:54Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased on latest #19031 and addressed suggestions.\r\n\r\nIndeed creating a new file for the new TORv3 private key seems like a better idea. It also opens up a possibility for the users to continue using the old TORv2 service if needed by copying the contents of the old file to the new file.\r\n\r\nI think Bitcoin Core automatically creating just one Tor service is enough (that will be v3). If more complicated setup is needed, then the users can create static services in the Tor daemon - e.g. it is possible to create 5 TORv2 services and 7 TORv3 services all pointing to the same Bitcoin Core.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-694852846",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "commented",
      "id": 695014269,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY5NTAxNDI2OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/695014269",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-18T18:15:19Z",
      "updated_at": "2020-09-18T18:17:12Z",
      "author_association": "CONTRIBUTOR",
      "body": "Practical testing of this PR with various Tor configuration options by and between @vasild and I today. Will review this weekend.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-695014269",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "mentioned",
      "id": 3783735294,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50Mzc4MzczNTI5NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3783735294",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-18T18:15:19Z"
    },
    {
      "event": "subscribed",
      "id": 3783735296,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM3ODM3MzUyOTY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3783735296",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-18T18:15:19Z"
    },
    {
      "event": "commented",
      "id": 695214133,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY5NTIxNDEzMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/695214133",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-19T13:33:42Z",
      "updated_at": "2020-10-02T20:13:28Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19889 (test: Add consistent formatting for messages.py repr methods by adaminsky)\n* #19315 ([tests] Allow outbound & block-relay-only connections in functional tests. by amitiuttarwar)\n* #19238 (refactor: Replace RecursiveMutex with Mutex in CAddrMan by hebasto)\n* #18788 (tests: Update more tests to work with descriptor wallets by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-695214133",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-19T14:59:16Z",
      "updated_at": "2020-09-19T14:59:16Z",
      "source": {
        "issue": {
          "id": 654876753,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDQ3NTE2OTcz",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19485",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19485/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19485/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19485/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/19485",
          "number": 19485,
          "state": "closed",
          "state_reason": null,
          "title": "torcontrol: Create also a V3 ed25519-V3 onion address.",
          "body": "While fiddling around with the path to ADDRv2 and #19031\r\nI noticed that it might be useful if we have already ED25519-V3 onions for the node created in torcontrol.",
          "user": {
            "login": "Saibato",
            "id": 34917548,
            "node_id": "MDQ6VXNlcjM0OTE3NTQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/34917548?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Saibato",
            "html_url": "https://github.com/Saibato",
            "followers_url": "https://api.github.com/users/Saibato/followers",
            "following_url": "https://api.github.com/users/Saibato/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/Saibato/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/Saibato/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/Saibato/subscriptions",
            "organizations_url": "https://api.github.com/users/Saibato/orgs",
            "repos_url": "https://api.github.com/users/Saibato/repos",
            "events_url": "https://api.github.com/users/Saibato/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/Saibato/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 28,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19485",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/19485",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/19485.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/19485.patch"
          },
          "closed_at": "2020-09-30T11:48:39Z",
          "created_at": "2020-07-10T15:55:03Z",
          "updated_at": "2022-08-16T17:02:35Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-19T15:23:05Z",
      "updated_at": "2020-09-19T15:23:05Z",
      "source": {
        "issue": {
          "id": 636353369,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDMyNTQxMzQz",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19238",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19238/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19238/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19238/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/19238",
          "number": 19238,
          "state": "closed",
          "state_reason": null,
          "title": "refactor: Make CAddrMan::cs non-recursive",
          "body": "This PR replaces `RecursiveMutex CAddrMan::cs` with `Mutex CAddrMan::cs`.\r\n\r\nAll of the related code branches are covered by appropriate lock assertions to insure that the mutex locking policy has not been changed by accident.\r\n\r\nRelated to #19303.\r\n\r\nBased on #22025, and first three commits belong to it.",
          "user": {
            "login": "hebasto",
            "id": 32963518,
            "node_id": "MDQ6VXNlcjMyOTYzNTE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hebasto",
            "html_url": "https://github.com/hebasto",
            "followers_url": "https://api.github.com/users/hebasto/followers",
            "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
            "organizations_url": "https://api.github.com/users/hebasto/orgs",
            "repos_url": "https://api.github.com/users/hebasto/repos",
            "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/hebasto/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 28,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19238",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/19238",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/19238.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/19238.patch"
          },
          "closed_at": "2021-06-14T14:43:02Z",
          "created_at": "2020-06-10T15:39:51Z",
          "updated_at": "2022-08-16T17:24:15Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-21T12:27:45Z",
      "updated_at": "2020-09-21T12:27:45Z",
      "source": {
        "issue": {
          "id": 689199411,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDc2MjkxOTM1",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19845",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19845/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19845/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19845/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/19845",
          "number": 19845,
          "state": "closed",
          "state_reason": null,
          "title": "net: CNetAddr: add support to (un)serialize as ADDRv2",
          "body": "(chopped off from #19031 to ease review)\r\n\r\nAdd an optional support to serialize/unserialize `CNetAddr` in ADDRv2 format (BIP155). The new serialization is engaged by ORing a flag into the stream version.\r\n\r\nSo far this is only used in tests to ensure the new code works as expected.",
          "user": {
            "login": "vasild",
            "id": 266751,
            "node_id": "MDQ6VXNlcjI2Njc1MQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vasild",
            "html_url": "https://github.com/vasild",
            "followers_url": "https://api.github.com/users/vasild/followers",
            "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
            "organizations_url": "https://api.github.com/users/vasild/orgs",
            "repos_url": "https://api.github.com/users/vasild/repos",
            "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/vasild/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 23,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19845",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/19845",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/19845.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/19845.patch"
          },
          "closed_at": "2020-09-28T19:27:51Z",
          "created_at": "2020-08-31T13:15:49Z",
          "updated_at": "2022-02-15T10:36:33Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 492690290,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkyNjkwMjkw",
      "url": null,
      "actor": null,
      "commit_id": "1550aa82659506ef89db67e482d01f014f6a1977",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "tACK 1550aa82659506ef89db67e482d01f014f6a1977 just the last commit\r\n\r\nI was able launch a hidden v3 service on Ubuntu and connect to it.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#pullrequestreview-492690290",
      "submitted_at": "2020-09-21T15:19:26Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
    },
    {
      "event": "commented",
      "id": 697322694,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY5NzMyMjY5NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/697322694",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-23T12:11:38Z",
      "updated_at": "2020-09-23T12:14:20Z",
      "author_association": "MEMBER",
      "body": "> I think Bitcoin Core automatically creating just one Tor service is enough (that will be v3). \r\n\r\nThe only worry here would be that old nodes will run out of Tor nodes to connect to. But I don't know. I'm okay with this, it seems there's enough hurry to transition here that backwards compatibility concerns like that are mostly moot.\r\n\r\nEdit: a related concern is that we should start hardcoding TorV3 peers. No need to do so in this PR though. Made a note about this in #17020.",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-697322694",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-23T12:14:02Z",
      "updated_at": "2020-09-23T12:14:02Z",
      "source": {
        "issue": {
          "id": 501439297,
          "node_id": "MDU6SXNzdWU1MDE0MzkyOTc=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17020",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17020/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17020/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17020/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/17020",
          "number": 17020,
          "state": "open",
          "state_reason": null,
          "title": "contrib: makeseeds.py improvements",
          "body": "Some suggestions for improvements, or at least for discussion between major releases:\r\n\r\n\r\n- [x] Read [suspicious hosts](https://github.com/bitcoin/bitcoin/pull/16999#issuecomment-536869449)  from a file (done in #17823, removed completely in #24862)\r\n- [x] [Determinism](https://github.com/bitcoin/bitcoin/pull/16999#issuecomment-537070141) could be improved (this is useful for cross-checking)\r\n    - [x] Read ASNs from a file (Done in #24864)\r\n    - [x] Per-ASN limit [isn't consistently enforced?](https://github.com/bitcoin/bitcoin/pull/16999#issuecomment-537173086)\r\n- [x] [A max of 2 seeds per ASN seems a bit strict](https://github.com/bitcoin/bitcoin/pull/16999#issuecomment-536999544) at lest for IPv6 (done in #24818)\r\n- [x] [Should we bump MIN_BLOCKS?](https://github.com/bitcoin/bitcoin/pull/16999#issuecomment-536999544) (done in #24818)\r\n- [x] Some [typos](https://github.com/bitcoin/bitcoin/pull/16999#pullrequestreview-295794240) in the comments\r\n- [x] Handle and hardcode TorV3 peers (after #19954), see #20239\r\n- [ ] Bring back onion functionality past TorV3 switch\r\n    - [ ] We need a source of non-hardcoded V3 peers, currently the only ones are hardcoded and the seeder hasn't been updated to crawl v3 nodes yet (see sipa/bitcoin-seeder#92)\r\n    - [ ] Consider increasing uptime requirements for Tor nodes from 10% as there [appear to be enough](#issuecomment-718622693)\r\n\r\n#7398 was a previous attempt to improve this script, but was abandoned, maybe some changes are useful.",
          "user": {
            "login": "laanwj",
            "id": 126646,
            "node_id": "MDQ6VXNlcjEyNjY0Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/laanwj",
            "html_url": "https://github.com/laanwj",
            "followers_url": "https://api.github.com/users/laanwj/followers",
            "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
            "organizations_url": "https://api.github.com/users/laanwj/orgs",
            "repos_url": "https://api.github.com/users/laanwj/repos",
            "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/laanwj/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            },
            {
              "id": 231994551,
              "node_id": "MDU6TGFiZWwyMzE5OTQ1NTE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Scripts%20and%20tools",
              "name": "Scripts and tools",
              "color": "ffffee",
              "default": false
            },
            {
              "id": 349312277,
              "node_id": "MDU6TGFiZWwzNDkzMTIyNzc=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/good%20first%20issue",
              "name": "good first issue",
              "color": "c2e0c6",
              "default": true
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 14,
          "created_at": "2019-10-02T11:46:27Z",
          "updated_at": "2023-01-29T21:10:17Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 494597269,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0NTk3MjY5",
      "url": null,
      "actor": null,
      "commit_id": "1550aa82659506ef89db67e482d01f014f6a1977",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#pullrequestreview-494597269",
      "submitted_at": "2020-09-23T12:19:32Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
    },
    {
      "event": "reviewed",
      "id": 494609645,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0NjA5NjQ1",
      "url": null,
      "actor": null,
      "commit_id": "1550aa82659506ef89db67e482d01f014f6a1977",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#pullrequestreview-494609645",
      "submitted_at": "2020-09-23T12:34:08Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
    },
    {
      "event": "reviewed",
      "id": 496345797,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2MzQ1Nzk3",
      "url": null,
      "actor": null,
      "commit_id": "1550aa82659506ef89db67e482d01f014f6a1977",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Tested ACK 1550aa82659506ef89db67e482d01f014f6a1977 (what an appropriate commit hash for BIP155). Reviewed the changes, and over the past 10 days have done multiple debug builds, test runs, and have been running and re-running bitcoind on and off with this branch as a Tor v3 service connected to several peers that are also test-deploying this PR live on mainnet.\r\n\r\nThanks for adding the unit tests. A few non-blocking comments follow.\r\n",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#pullrequestreview-496345797",
      "submitted_at": "2020-09-25T13:26:58Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
    },
    {
      "event": "reviewed",
      "id": 496591006,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2NTkxMDA2",
      "url": null,
      "actor": null,
      "commit_id": "1550aa82659506ef89db67e482d01f014f6a1977",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#pullrequestreview-496591006",
      "submitted_at": "2020-09-25T16:55:53Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
    },
    {
      "event": "commented",
      "id": 699045896,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY5OTA0NTg5Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/699045896",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-25T17:08:09Z",
      "updated_at": "2020-09-25T17:08:09Z",
      "author_association": "CONTRIBUTOR",
      "body": "> The only worry here would be that old nodes will run out of Tor nodes to connect to. But I don't know. I'm okay with this, it seems there's enough hurry to transition here that backwards compatibility concerns like that are mostly moot.\r\n\r\nMaybe it would be good for the release notes to describe the situation with the planned full removal of v2 by the Tor Project and warn users running older nodes with an onion service that they will have to upgrade within less than a year after the release to v0.21+. It might not need to be in this PR though.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-699045896",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "commented",
      "id": 699850959,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY5OTg1MDk1OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/699850959",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-28T08:07:38Z",
      "updated_at": "2020-09-28T08:07:38Z",
      "author_association": "CONTRIBUTOR",
      "body": "> > I think Bitcoin Core automatically creating just one Tor service is enough (that will be v3).\r\n> \r\n> ... old nodes will run out of Tor nodes to connect to ...\r\n\r\nIf there are `N` old nodes each one of them will be able to connect to the other `N-1`. Only the very last one (when `N=1`) will have nobody to connect to. Also, statically configured Tor v2 services (via `torrc`) will keep operating as long as the Tor network supports them.\r\n\r\nAccording to https://bitnodes.io/nodes/ 37% are running the latest version (0.20.0 or 0.20.1), now, about 2 months before the release of 0.21.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-699850959",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3815048257,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzgxNTA0ODI1Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3815048257",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-28T15:08:41Z"
    },
    {
      "event": "commented",
      "id": 700068840,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwMDA2ODg0MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/700068840",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-28T15:09:44Z",
      "updated_at": "2020-09-28T15:09:44Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebase on latest #19031",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-700068840",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3815057391,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzgxNTA1NzM5MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3815057391",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-28T15:10:41Z"
    },
    {
      "event": "commented",
      "id": 700069599,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwMDA2OTU5OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/700069599",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-28T15:10:57Z",
      "updated_at": "2020-09-28T15:10:57Z",
      "author_association": "CONTRIBUTOR",
      "body": "Address review suggestions.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-700069599",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3815067324,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzgxNTA2NzMyNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3815067324",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-28T15:12:46Z"
    },
    {
      "event": "commented",
      "id": 700070980,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwMDA3MDk4MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/700070980",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-28T15:13:06Z",
      "updated_at": "2020-09-28T15:13:06Z",
      "author_association": "CONTRIBUTOR",
      "body": "Address review suggestion.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-700070980",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-28T19:37:17Z",
      "updated_at": "2020-09-28T19:37:17Z",
      "source": {
        "issue": {
          "id": 710051031,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDkzOTY5OTM3",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20028",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20028/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20028/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20028/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/20028",
          "number": 20028,
          "state": "closed",
          "state_reason": null,
          "title": "test: Check that invalid peer traffic is accounted for",
          "body": "Couldn't find a test for this and it seems something we should test, so I wrote one.",
          "user": {
            "login": "MarcoFalke",
            "id": 6399679,
            "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MarcoFalke",
            "html_url": "https://github.com/MarcoFalke",
            "followers_url": "https://api.github.com/users/MarcoFalke/followers",
            "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
            "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
            "repos_url": "https://api.github.com/users/MarcoFalke/repos",
            "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 2,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20028",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/20028",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/20028.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/20028.patch"
          },
          "closed_at": "2020-09-29T06:32:54Z",
          "created_at": "2020-09-28T08:16:50Z",
          "updated_at": "2022-02-15T10:36:30Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-28T23:12:26Z",
      "updated_at": "2020-09-28T23:12:26Z",
      "source": {
        "issue": {
          "id": 694207413,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDgwNjE3NzE5",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19889",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19889/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19889/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19889/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/19889",
          "number": 19889,
          "state": "closed",
          "state_reason": null,
          "title": "test: Add consistent formatting for messages.py repr methods",
          "body": "This PR tries to make the `__repr__` methods for messages and primitives more consistent in `test/functional/test_framework/messages.py` by making `repr` return a string with a valid constructor call to the message/primitive if that is possible, or returning information in angle brackets to show the internal state of the message/primitive. \r\n\r\nAlso, all hashes and other hex data is prefixed with \"0x\" and the correct minimum length of the hex string is set with the format string. I think the leading \"0x\" can be useful since then it is obvious what is an integer vs. hex. These functions are only used for logging, so this is meant to make it clearer how to reconstruct an object if necessary and what the size of the printed hex types are.",
          "user": {
            "login": "adaminsky",
            "id": 29065991,
            "node_id": "MDQ6VXNlcjI5MDY1OTkx",
            "avatar_url": "https://avatars.githubusercontent.com/u/29065991?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/adaminsky",
            "html_url": "https://github.com/adaminsky",
            "followers_url": "https://api.github.com/users/adaminsky/followers",
            "following_url": "https://api.github.com/users/adaminsky/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/adaminsky/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/adaminsky/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/adaminsky/subscriptions",
            "organizations_url": "https://api.github.com/users/adaminsky/orgs",
            "repos_url": "https://api.github.com/users/adaminsky/repos",
            "events_url": "https://api.github.com/users/adaminsky/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/adaminsky/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "comments": 6,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19889",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/19889",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/19889.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/19889.patch"
          },
          "closed_at": "2022-02-22T11:47:51Z",
          "created_at": "2020-09-05T23:40:07Z",
          "updated_at": "2023-02-22T10:14:08Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-29T00:02:25Z",
      "updated_at": "2020-09-29T00:02:25Z",
      "source": {
        "issue": {
          "id": 681292148,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDY5NzA0NDcw",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19763",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19763/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19763/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19763/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/19763",
          "number": 19763,
          "state": "closed",
          "state_reason": null,
          "title": "net: don't try to relay to the address' originator",
          "body": "For each address to be relayed we \"randomly\" pick 2 nodes to send the \r\naddress to (in `RelayAddress()`). However we do not take into\r\nconsideration that it does not make sense to relay the address back to\r\nits originator (`CNode::PushAddress()` will do nothing in that case).\r\n\r\nThis means that if the originator is among the \"randomly\" picked nodes,\r\nthen we will relay to one node less than intended.\r\n\r\nFix this by skipping the originating node when choosing candidates to\r\nrelay to. ",
          "user": {
            "login": "vasild",
            "id": 266751,
            "node_id": "MDQ6VXNlcjI2Njc1MQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vasild",
            "html_url": "https://github.com/vasild",
            "followers_url": "https://api.github.com/users/vasild/followers",
            "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
            "organizations_url": "https://api.github.com/users/vasild/orgs",
            "repos_url": "https://api.github.com/users/vasild/repos",
            "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/vasild/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 42,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19763",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/19763",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/19763.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/19763.patch"
          },
          "closed_at": "2020-12-14T12:40:01Z",
          "created_at": "2020-08-18T19:48:03Z",
          "updated_at": "2022-02-15T10:39:43Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-29T01:23:58Z",
      "updated_at": "2020-09-29T01:23:58Z",
      "source": {
        "issue": {
          "id": 640752006,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDM2MTA0MjAz",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19315",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19315/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19315/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19315/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/19315",
          "number": 19315,
          "state": "closed",
          "state_reason": null,
          "title": "[tests] Allow outbound & block-relay-only connections in functional tests. ",
          "body": "The existing functional test framework uses the `addnode` RPC to spin up manual connections between bitcoind nodes. This limits our ability to add integration tests for our networking code, which often executes different code paths for different connection types. \r\n\r\n**This PR enables creating `outbound` & `block-relay-only` P2P connections in the functional tests.** This allows us to increase our p2p test coverage, since we can now verify expectations around these connection types.\r\n\r\nThis builds out the [prototype](https://github.com/bitcoin/bitcoin/issues/14210#issuecomment-527421978) proposed by ajtowns in #14210. \r\n\r\nAn overview of this branch:\r\n- introduces a new test-only RPC function `addconnection` which initiates opening an `outbound` or `block-relay-only` connection. (conceptually similar to `addnode` but for different connection types & restricted to regtest)\r\n- adds `test_framework` support so a mininode can open an `outbound`/`block-relay-only` connection to a `P2PInterface`/`P2PConnection`.\r\n- updates `p2p_blocksonly` tests to create a `block-relay-only` connection & verify expectations around transaction relay. \r\n- introduces `p2p_add_connections` test that checks the behaviors of the newly introduced `add_outbound_p2p_connection` test framework function. \r\n\r\nWith these changes, there are many more behaviors that we can add integration tests for. The blocksonly updates is just one example. \r\n\r\nHuge props to ajtowns for conceiving the approach & providing me feedback as I've built out this branch. Also thank you to jnewbery for lots of thoughtful input along the way. ",
          "user": {
            "login": "amitiuttarwar",
            "id": 1500952,
            "node_id": "MDQ6VXNlcjE1MDA5NTI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amitiuttarwar",
            "html_url": "https://github.com/amitiuttarwar",
            "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
            "following_url": "https://api.github.com/users/amitiuttarwar/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/amitiuttarwar/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/amitiuttarwar/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
            "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
            "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
            "events_url": "https://api.github.com/users/amitiuttarwar/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            },
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            },
            {
              "id": 1648013533,
              "node_id": "MDU6TGFiZWwxNjQ4MDEzNTMz",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Review%20club",
              "name": "Review club",
              "description": "",
              "color": "0052cc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 34,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19315",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/19315",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/19315.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/19315.patch"
          },
          "closed_at": "2021-01-11T20:08:15Z",
          "created_at": "2020-06-17T21:25:12Z",
          "updated_at": "2022-08-16T17:11:32Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-29T02:57:53Z",
      "updated_at": "2020-09-29T02:57:53Z",
      "source": {
        "issue": {
          "id": 599951640,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDAzNDg5MDY0",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18642",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18642/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18642/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18642/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/18642",
          "number": 18642,
          "state": "closed",
          "state_reason": null,
          "title": "Use std::chrono for the time to rotate destination of addr messages + tests",
          "body": "We currently assign a destination peer for relaying particular addresses of nodes every 24 hours, and then rotate. This is done for rate-limiting (ultimately for privacy leak reduction I think?).\r\n\r\nBefore this change, 24 hours was defined as uint. I replaced it with std::chrono, which is mockable and type-safe.\r\n\r\nAlso added couple tests for this behavior.",
          "user": {
            "login": "naumenkogs",
            "id": 7975071,
            "node_id": "MDQ6VXNlcjc5NzUwNzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/naumenkogs",
            "html_url": "https://github.com/naumenkogs",
            "followers_url": "https://api.github.com/users/naumenkogs/followers",
            "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
            "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
            "repos_url": "https://api.github.com/users/naumenkogs/repos",
            "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 15,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18642",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/18642",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/18642.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/18642.patch"
          },
          "closed_at": "2022-04-27T17:02:26Z",
          "created_at": "2020-04-15T01:13:29Z",
          "updated_at": "2023-04-27T09:57:31Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-29T08:45:16Z",
      "updated_at": "2020-09-29T08:45:16Z",
      "source": {
        "issue": {
          "id": 621891785,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDIwODU2NDcz",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19031",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19031/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19031/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19031/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/19031",
          "number": 19031,
          "state": "closed",
          "state_reason": null,
          "title": "Implement ADDRv2 support (part of BIP155)",
          "body": "An implementation of [BIP155](https://github.com/bitcoin/bips/blob/master/bip-0155.mediawiki) `addrv2` messages. To ease review it is split in a few logical changes and submitted as separate, smaller, PRs.\r\n\r\nThe current one for review is: https://github.com/bitcoin/bitcoin/pull/19954\r\n\r\nPreparation changes\r\n---\r\nCommits:\r\n* [x] `test: add an edge case test for CSubNet` (merged via https://github.com/bitcoin/bitcoin/pull/19351)\r\n* [x] `net: improve encapsulation of CNetAddr` (merged via https://github.com/bitcoin/bitcoin/pull/19360)\r\n* [x] `net: document enum Network` (merged via https://github.com/bitcoin/bitcoin/pull/19534)\r\n* [x] `net: save the network type explicitly in CNetAddr` (merged via https://github.com/bitcoin/bitcoin/pull/19534)\r\n\r\nChange `CNetAddr::ip` to have flexible size\r\n---\r\nCommits:\r\n* [x] `net: change CNetAddr::ip to have flexible size` (merged via https://github.com/bitcoin/bitcoin/pull/19628)\r\n\r\nImplement `addrv2` (un)serializing\r\n---\r\nAdd support to serialize `CNetAddr` and `CAddress` in [ADDRv2](https://github.com/bitcoin/bips/blob/master/bip-0155.mediawiki#specification) format. Invoke that from `CAddrMan` serialization methods. Commits:\r\n* [x] `net: move HasPrefix() so it can be reused` (merged via https://github.com/bitcoin/bitcoin/pull/19845)\r\n* [x] `test: move HasReason() so it can be reused` (merged via https://github.com/bitcoin/bitcoin/pull/19845)\r\n* [x] `net: CNetAddr: add support to (un)serialize as ADDRv2` (merged via https://github.com/bitcoin/bitcoin/pull/19845)\r\n* [x] `net: recognize TORv3/I2P/CJDNS networks` (merged via https://github.com/bitcoin/bitcoin/pull/19845)\r\n* [x] `net: CAddress & CAddrMan: (un)serialize as ADDRv2` (merged via https://github.com/bitcoin/bitcoin/pull/19954)\r\n\r\nAdvertise support\r\n---\r\nAdvertise `ADDRv2` support to peers, handle incoming `ADDRv2` messages and send to peers in that format if they have advertised support. Commits:\r\n* [x] `net: advertise support for ADDRv2 via new message` (merged via https://github.com/bitcoin/bitcoin/pull/19954)\r\n\r\nAll the steps to get Tor v3 support are outlined in [issue#18884 Tor v3 support](https://github.com/bitcoin/bitcoin/issues/18884), this PR is one of them.",
          "user": {
            "login": "vasild",
            "id": 266751,
            "node_id": "MDQ6VXNlcjI2Njc1MQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vasild",
            "html_url": "https://github.com/vasild",
            "followers_url": "https://api.github.com/users/vasild/followers",
            "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
            "organizations_url": "https://api.github.com/users/vasild/orgs",
            "repos_url": "https://api.github.com/users/vasild/repos",
            "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/vasild/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            },
            {
              "id": 1648013533,
              "node_id": "MDU6TGFiZWwxNjQ4MDEzNTMz",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Review%20club",
              "name": "Review club",
              "description": "",
              "color": "0052cc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 42,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19031",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/19031",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/19031.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/19031.patch"
          },
          "closed_at": "2020-09-29T08:53:28Z",
          "created_at": "2020-05-20T16:16:33Z",
          "updated_at": "2022-02-15T10:36:50Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3818271576,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzgxODI3MTU3Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3818271576",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-29T08:48:42Z"
    },
    {
      "event": "ready_for_review",
      "id": 3818304381,
      "node_id": "MDE5OlJlYWR5Rm9yUmV2aWV3RXZlbnQzODE4MzA0Mzgx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3818304381",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-29T08:55:30Z"
    },
    {
      "event": "commented",
      "id": 700565667,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwMDU2NTY2Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/700565667",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-29T08:56:16Z",
      "updated_at": "2020-09-29T08:57:47Z",
      "author_association": "CONTRIBUTOR",
      "body": "Ready to move this PR out of Draft status?  Edit: snap!",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-700565667",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "commented",
      "id": 700566816,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwMDU2NjgxNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/700566816",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-29T08:58:22Z",
      "updated_at": "2020-09-29T08:58:22Z",
      "author_association": "CONTRIBUTOR",
      "body": "Opened for review. This PR supersedes #19031 and completes the TORv3 support.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-700566816",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "commented",
      "id": 700567804,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwMDU2NzgwNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/700567804",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-29T09:00:07Z",
      "updated_at": "2020-09-29T09:00:07Z",
      "author_association": "MEMBER",
      "body": "Concept ACK.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-700567804",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "renamed",
      "id": 3818341244,
      "node_id": "MDE3OlJlbmFtZWRUaXRsZUV2ZW50MzgxODM0MTI0NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3818341244",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-29T09:01:01Z",
      "rename": {
        "from": "tor: make a TORv3 hidden service instead of TORv2",
        "to": "tor: complete the TORv3 implementation"
      }
    },
    {
      "event": "reviewed",
      "id": 498284069,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4Mjg0MDY5",
      "url": null,
      "actor": null,
      "commit_id": "e025121c1ca4b86296c6b36386786522bd79a6e1",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Approach ACK ff76c3444c574b14a2c62999b82cba812816884b.\r\n\r\nnit: It seems more readable if all comparisons with `m_format` will use the same sign, say `>=`, instead of mixing `>=` and `>`.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#pullrequestreview-498284069",
      "submitted_at": "2020-09-29T09:48:14Z",
      "state": "CHANGES_REQUESTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-29T15:58:14Z",
      "updated_at": "2020-09-29T15:58:14Z",
      "source": {
        "issue": {
          "id": 706310398,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDkwODgxNTEz",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19991",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19991/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19991/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19991/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/19991",
          "number": 19991,
          "state": "closed",
          "state_reason": null,
          "title": "net: Use alternative port for incoming Tor connections",
          "body": "This PR adds ability to label incoming Tor connections as different from normal localhost connections.\r\n\r\nCloses #8973.\r\nCloses #16693.\r\n\r\nDefault onion service target ports are:\r\n- 8334 on mainnnet\r\n- 18334 on testnet\r\n- 38334 on signet\r\n- 18445 on regtest\r\n\r\nTo set the onion service target socket manually the extended `-bind` config option could be used:\r\n\r\n```\r\n$ src/bitcoind -help | grep -A 6 -e '-bind'\r\n  -bind=<addr>[:<port>][=onion]\r\n       Bind to given address and always listen on it (default: 0.0.0.0). Use\r\n       [host]:port notation for IPv6. Append =onion to tag any incoming\r\n       connections to that address and port as incoming Tor connections\r\n       (default: 127.0.0.1:8334=onion, testnet: 127.0.0.1:18334=onion,\r\n       signet: 127.0.0.1:38334=onion, regtest: 127.0.0.1:18445=onion)\r\n\r\n```\r\n\r\nSince [pr19991.02 update](https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-698882284) this PR is an alternative to #19043.",
          "user": {
            "login": "hebasto",
            "id": 32963518,
            "node_id": "MDQ6VXNlcjMyOTYzNTE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hebasto",
            "html_url": "https://github.com/hebasto",
            "followers_url": "https://api.github.com/users/hebasto/followers",
            "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
            "organizations_url": "https://api.github.com/users/hebasto/orgs",
            "repos_url": "https://api.github.com/users/hebasto/repos",
            "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/hebasto/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/45",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/45",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/45/labels",
            "id": 4914019,
            "node_id": "MDk6TWlsZXN0b25lNDkxNDAxOQ==",
            "number": 45,
            "state": "closed",
            "title": "0.21.0",
            "description": "",
            "creator": {
              "login": "laanwj",
              "id": 126646,
              "node_id": "MDQ6VXNlcjEyNjY0Ng==",
              "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/laanwj",
              "html_url": "https://github.com/laanwj",
              "followers_url": "https://api.github.com/users/laanwj/followers",
              "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
              "organizations_url": "https://api.github.com/users/laanwj/orgs",
              "repos_url": "https://api.github.com/users/laanwj/repos",
              "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/laanwj/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 132,
            "created_at": "2019-12-09T08:39:58Z",
            "updated_at": "2021-01-15T19:50:53Z",
            "closed_at": "2021-01-15T19:50:53Z"
          },
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 32,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/19991",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/19991.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/19991.patch"
          },
          "closed_at": "2020-10-02T11:38:05Z",
          "created_at": "2020-09-22T11:44:24Z",
          "updated_at": "2022-08-18T19:51:59Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3823126252,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzgyMzEyNjI1Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3823126252",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-30T07:47:37Z"
    },
    {
      "event": "commented",
      "id": 701224311,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwMTIyNDMxMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/701224311",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-30T07:49:15Z",
      "updated_at": "2020-09-30T07:49:15Z",
      "author_association": "CONTRIBUTOR",
      "body": "Addressed suggestions by @hebasto - always compare `m_format` with `>=` and use `static_cast` instead of C-style cast.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-701224311",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "mentioned",
      "id": 3823132859,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzgyMzEzMjg1OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3823132859",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-30T07:49:15Z"
    },
    {
      "event": "subscribed",
      "id": 3823132861,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM4MjMxMzI4NjE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3823132861",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-30T07:49:15Z"
    },
    {
      "event": "commented",
      "id": 701307791,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwMTMwNzc5MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/701307791",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-30T10:34:37Z",
      "updated_at": "2020-09-30T10:34:37Z",
      "author_association": "CONTRIBUTOR",
      "body": "#### Addresses with length > 512 or addresses from one of the BIP155 founding networks (1..6) with wrong length (e.g. IPv4 address with length 5):\r\n\r\nWe throw an exception during unserialize which means that subsequent addresses in the same addrv2 message will not be read and the peer is `Misbehaving()`ed.\r\n\r\n#### Addresses from unknown network id (0 or >= 7), with address length <= 512:\r\n\r\nThose are possibly legit addresses from a future extension of BIP155. We consume the address from the stream and keep parsing subsequent addresses in the same addrv2 message. The unknown address will however not be relayed or added to addrman (it is unserialized as all-0s IPv6 address which is `!IsValid()`).\r\n\r\n#### I2P and CJDNS addresses (BIP155 network ids 5 and 6):\r\n\r\n[Relevant IRC discussion on how to handle those](https://bitcoincore.reviews/19845#l-319). There are concerns whether we should relay or add them to addrman because we can't further verify their validity or check if a node actually exists at that address.\r\n\r\nThe current code actually would [not add such addresses to addrman](https://github.com/bitcoin/bitcoin/blob/1769828684f16b53e5fbf65173f508b9ea1b4b9c/src/net_processing.cpp#L2626-L2628) because they are `!IsReachable()`, so we would not get \"garbage\" in addrman.\r\n\r\nThe current code would however relay such addresses (to 1.5 peers like other `!IsReachable()` addresses).\r\n* This has the downside of garbage gossip traffic. Is it any worse than somebody gossiping garbage IPv6 addresses? Honest nodes don't have a way to verify if there is a node listening on a I2P address (yet). But even now we don't verify if there is a node listening on an address before relaying it.\r\n* The benefit is that once I2P support is added in version 0.2X then older nodes, e.g. 0.21 will relay I2P addresses and help with propagation.\r\n\r\n<details>\r\n<summary>The change to not relay I2P and CJDNS addresses is easy, click here.</summary>\r\n\r\n```diff\r\n--- i/src/net_processing.cpp\r\n+++ w/src/net_processing.cpp\r\n@@ -2643,14 +2643,14 @@ void PeerManager::ProcessMessage(CNode& pfrom, const std::string& msg_type, CDat\r\n             pfrom.AddAddressKnown(addr);\r\n             if (m_banman && (m_banman->IsDiscouraged(addr) || m_banman->IsBanned(addr))) {\r\n                 // Do not process banned/discouraged addresses beyond remembering we received them\r\n                 continue;\r\n             }\r\n             bool fReachable = IsReachable(addr);\r\n-            if (addr.nTime > nSince && !pfrom.fGetAddr && vAddr.size() <= 10 && addr.IsRoutable())\r\n-            {\r\n+            if (addr.nTime > nSince && !pfrom.fGetAddr && vAddr.size() <= 10 &&\r\n+                addr.IsRoutable() && !addr.IsI2P() && !addr.IsCJDNS()) {\r\n                 // Relay to a limited number of other nodes\r\n                 RelayAddress(addr, fReachable, m_connman);\r\n             }\r\n             // Do not store addresses outside our network\r\n             if (fReachable)\r\n                 vAddrOk.push_back(addr);\r\n```\r\n</details>\r\n\r\nWhat are your thoughts?\r\n",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-701307791",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "commented",
      "id": 701336262,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwMTMzNjI2Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/701336262",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-30T11:40:23Z",
      "updated_at": "2020-09-30T14:14:56Z",
      "author_association": "MEMBER",
      "body": "@vasild \r\n\r\n> Addresses with length > 512 or addresses from one of the BIP155 founding networks (1..6) with wrong length (e.g. IPv4 address with length 5):\r\n> We throw an exception during unserialize which means that subsequent addresses in the same addrv2 message will not be read and the peer is Misbehaving()ed.\r\n\r\nSounds like correct behavior to me. Larger addresses are explicitly forbidden, and can be seen as an indication that the entire message is malformed.\r\n\r\n> Addresses from unknown network id (0 or >= 7), with address length <= 512:\r\n> We consume the address from the stream and keep parsing subsequent addresses in the same addrv2 message. The unknown address will however not be relayed or added to addrman\r\n\r\nSeems good  to me too.\r\n\r\n> The current code would however relay such addresses (to 1.5 peers like other !IsReachable() addresses).\r\n\r\nI'm not sure about this. I'm not sure we should do anything (store, relay) with addresses that we cannot connect to ourselves.\r\nBut as you say this is a broader scope decision. Staying (at least in this PR) with the current behaviour for valid but unreachable addresses doesn't sound unreasonable to me.",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-701336262",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "mentioned",
      "id": 3824058197,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzgyNDA1ODE5Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3824058197",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-30T11:40:23Z"
    },
    {
      "event": "subscribed",
      "id": 3824058200,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM4MjQwNTgyMDA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3824058200",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-30T11:40:23Z"
    },
    {
      "event": "reviewed",
      "id": 499523621,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk5NTIzNjIx",
      "url": null,
      "actor": null,
      "commit_id": "bb01c77865a565764e4e2f86265afef45506d7d7",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#pullrequestreview-499523621",
      "submitted_at": "2020-09-30T14:57:34Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
    },
    {
      "event": "reviewed",
      "id": 499527127,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk5NTI3MTI3",
      "url": null,
      "actor": null,
      "commit_id": "bb01c77865a565764e4e2f86265afef45506d7d7",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#pullrequestreview-499527127",
      "submitted_at": "2020-09-30T15:00:40Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
    },
    {
      "event": "reviewed",
      "id": 499530501,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk5NTMwNTAx",
      "url": null,
      "actor": null,
      "commit_id": "bb01c77865a565764e4e2f86265afef45506d7d7",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#pullrequestreview-499530501",
      "submitted_at": "2020-09-30T15:03:53Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
    },
    {
      "event": "commented",
      "id": 701457565,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwMTQ1NzU2NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/701457565",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-30T15:16:11Z",
      "updated_at": "2020-09-30T15:16:11Z",
      "author_association": "CONTRIBUTOR",
      "body": "Tested re-ACK bb01c77865a565764e4e2f86265afef45506d7d7\r\n\r\nReviewed the diff since my last review per `git range-diff 301959f 1550aa8 bb01c77`, re-reviewed the changeset, rebuilt, deleted the `onion_private_key_torv3` file from previous testing and relaunched; node seems to be running nominally. The additional tests are great. A few comments above to take or leave; none are blockers.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-701457565",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "reviewed",
      "id": 500239229,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwMjM5MjI5",
      "url": null,
      "actor": null,
      "commit_id": "bb01c77865a565764e4e2f86265afef45506d7d7",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Tested bb01c77865a565764e4e2f86265afef45506d7d7 on Linux Mint 20 (x86_64). I've verified P2P messages in the testnet with Wireshark 3.2.3.\r\n\r\n- \"master-...\" means `bitcoind` compiled against master\r\n- \"pr-...\" means `bitcoind` compiled against this PR\r\n- a peer before connecting has no `peers.dat`\r\n\r\n### Setup A -- master-peer connects to pr-node\r\n\r\nThe pr-node sends the \"sendaddrv2\" message to the master-peer just after sending the \"verack\" message.\r\nIn response to master-peer's \"getaddr\" message the pr-node sends the \"addr\" message with 1000 addresses and payload size 30003 bytes (1000*30+3).\r\n\r\n### Setup B -- pr-peer connects to pr-node\r\n\r\nBoth the pr-node and the pr-peer send each other the \"sendaddrv2\" message just after sending the \"verack\" message.\r\nIn response to pr-peer's \"getaddr\" message the pr-node sends the \"addrv2\" message with 1000 addresses and payload size 16463 bytes. Some addresses I observed are 13 bytes long.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#pullrequestreview-500239229",
      "submitted_at": "2020-10-01T11:09:53Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
    },
    {
      "event": "commented",
      "id": 702129772,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwMjEyOTc3Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/702129772",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-01T13:20:24Z",
      "updated_at": "2020-10-01T14:25:30Z",
      "author_association": "MEMBER",
      "body": "~Does `addrv2` code follows https://github.com/bitcoin/bips/pull/967 ?~\r\n\r\nUPDATE: I'v verified that this PR follows BIP 155 with (yet unmerged) https://github.com/bitcoin/bips/pull/967\r\n\r\nUPDATE-2: https://github.com/bitcoin/bips/pull/967 just merged.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-702129772",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "reviewed",
      "id": 500460244,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwNDYwMjQ0",
      "url": null,
      "actor": null,
      "commit_id": "76afce803bb5309a69517df5eac68529b7af2d29",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK bb01c77865a565764e4e2f86265afef45506d7d7\r\n\r\nMay I suggest to replace s/\"onion_private_key_torv3\"/\"onion_private_key_v3\"/ as \"tor\" substring seems redundant here?",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#pullrequestreview-500460244",
      "submitted_at": "2020-10-01T15:38:10Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
    },
    {
      "event": "commented",
      "id": 702688812,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwMjY4ODgxMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/702688812",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-02T11:47:32Z",
      "updated_at": "2020-10-02T11:47:32Z",
      "author_association": "MEMBER",
      "body": "> May I suggest to replace s/\"onion_private_key_torv3\"/\"onion_private_key_v3\"/ as \"tor\" substring seems redundant here?\r\n\r\nKind of agree, the same came to mind for me but didn't bother to comment it initially. But a shorter filename that still contains the same information is good I suppose.",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-702688812",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3833818951,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzgzMzgxODk1MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3833818951",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-02T12:47:56Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3833857200,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzgzMzg1NzIwMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3833857200",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-02T12:58:19Z"
    },
    {
      "event": "commented",
      "id": 702720508,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwMjcyMDUwOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/702720508",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-02T13:00:55Z",
      "updated_at": "2020-10-02T13:00:55Z",
      "author_association": "CONTRIBUTOR",
      "body": "Addressed review suggestions. Notice - I [restored](https://github.com/bitcoin/bitcoin/pull/19954#discussion_r498801055) the original version of `p2p_addr_relay.py` and the test for addrv2 is now in a new test `p2p_addrv2_relay.py`.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-702720508",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "commented",
      "id": 702727412,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwMjcyNzQxMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/702727412",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-02T13:15:06Z",
      "updated_at": "2020-10-02T13:15:06Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I [restored](https://github.com/bitcoin/bitcoin/pull/19954#discussion_r498801055) the original version of `p2p_addr_relay.py` and the test for addrv2 is now in a new test `p2p_addrv2_relay.py`.\r\n\r\nNice!",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-702727412",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "reviewed",
      "id": 501139673,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxMTM5Njcz",
      "url": null,
      "actor": null,
      "commit_id": "c212c7eea6c0f67d7c65467c6c93f188aaeb02f3",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "re-ACK c212c7eea6c0f67d7c65467c6c93f188aaeb02f3, only suggested changes since my [previous](https://github.com/bitcoin/bitcoin/pull/19954#pullrequestreview-500460244) review.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#pullrequestreview-501139673",
      "submitted_at": "2020-10-02T13:34:59Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-02T23:37:57Z",
      "updated_at": "2020-10-02T23:37:57Z",
      "source": {
        "issue": {
          "id": 607813119,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDA5NzE0MDg2",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18788",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18788/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18788/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18788/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/18788",
          "number": 18788,
          "state": "closed",
          "state_reason": null,
          "title": "tests: Update more tests to work with descriptor wallets",
          "body": "I went through all the tests and checked whether they passed with descriptor wallets. This partially informed some changes in #16528. Some tests needed changes to work with descriptor wallets. These were primarily due to import and watchonly behavior. There are some tests and test cases that only test legacy wallet behavior so those tests won't be run with descriptor wallets.\r\n\r\nThis PR updates more tests to have to the `--descriptors` switch in `test_runner.py`. Additionally a mutually exclusive `--legacy-wallet` option has been added to force legacy wallets. This does nothing currently but will be useful in the future when descriptor wallets are the default. For the tests that rely on legacy wallet behavior, this option is being set so that we don't forget in the future. Those tests are `feature_segwit.py`, `wallet_watchonly.py`, `wallet_implicitsegwit.py`, `wallet_import_with_label.py`, and `wallet_import_with_label.py`.\r\n\r\nIf you invert the `--descriptors`/`--legacy-wallet` default so that descriptor wallets are the default, all tests (besides the legacy wallet specific ones) will pass.",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/45",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/45",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/45/labels",
            "id": 4914019,
            "node_id": "MDk6TWlsZXN0b25lNDkxNDAxOQ==",
            "number": 45,
            "state": "closed",
            "title": "0.21.0",
            "description": "",
            "creator": {
              "login": "laanwj",
              "id": 126646,
              "node_id": "MDQ6VXNlcjEyNjY0Ng==",
              "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/laanwj",
              "html_url": "https://github.com/laanwj",
              "followers_url": "https://api.github.com/users/laanwj/followers",
              "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
              "organizations_url": "https://api.github.com/users/laanwj/orgs",
              "repos_url": "https://api.github.com/users/laanwj/repos",
              "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/laanwj/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 132,
            "created_at": "2019-12-09T08:39:58Z",
            "updated_at": "2021-01-15T19:50:53Z",
            "closed_at": "2021-01-15T19:50:53Z"
          },
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 18,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/18788",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/18788.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/18788.patch"
          },
          "closed_at": "2020-11-02T17:52:38Z",
          "created_at": "2020-04-27T19:57:57Z",
          "updated_at": "2022-02-15T10:48:33Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "mentioned",
      "id": 3836468448,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzgzNjQ2ODQ0OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3836468448",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-03T10:50:39Z"
    },
    {
      "event": "subscribed",
      "id": 3836468452,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM4MzY0Njg0NTI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3836468452",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-03T10:50:39Z"
    },
    {
      "event": "commented",
      "id": 703086391,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwMzA4NjM5MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/703086391",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-03T11:07:44Z",
      "updated_at": "2020-10-03T11:07:44Z",
      "author_association": "CONTRIBUTOR",
      "body": "@vasild in the latest push, the `p2p_addr_relay.py` file perms were changed from 755 to 644; could you please revert that?\r\n\r\n<details><summary>a few suggestions for <code>p2p_addrv2_relay.py</code></summary><p>\r\n\r\n```diff\r\ndiff --git a/test/functional/p2p_addrv2_relay.py b/test/functional/p2p_addrv2_relay.py\r\nindex 19cfd0eadb..ca593148cc 100755\r\n--- a/test/functional/p2p_addrv2_relay.py\r\n+++ b/test/functional/p2p_addrv2_relay.py\r\n@@ -6,18 +6,17 @@\r\n@@ -6,18 +6,17 @@\r\n Test addrv2 relay\r\n \"\"\"\r\n \r\n+import time\r\n+\r\n from test_framework.messages import (\r\n     CAddress,\r\n+    msg_addrv2,\r\n     NODE_NETWORK,\r\n     NODE_WITNESS,\r\n-    msg_addrv2,\r\n )\r\n from test_framework.p2p import P2PInterface\r\n from test_framework.test_framework import BitcoinTestFramework\r\n-from test_framework.util import (\r\n-    assert_equal,\r\n-)\r\n-import time\r\n+from test_framework.util import assert_equal\r\n \r\n ADDRS = []\r\n for i in range(10):\r\n@@ -48,11 +47,11 @@ class AddrReceiver(P2PInterface):\r\n \r\n class AddrTest(BitcoinTestFramework):\r\n     def set_test_params(self):\r\n-        self.setup_clean_chain = False\r\n+        self.setup_clean_chain = True\r\n         self.num_nodes = 1\r\n \r\n     def run_test(self):\r\n-        self.log.info('Create connection that sends addr messages')\r\n+        self.log.info('Create connection that sends addrv2 messages')\r\n         addr_source = self.nodes[0].add_p2p_connection(P2PInterface())\r\n         msg = msg_addrv2()\r\n \r\n@@ -61,7 +60,7 @@ class AddrTest(BitcoinTestFramework):\r\n         with self.nodes[0].assert_debug_log(['addr message size = 1010']):\r\n             addr_source.send_and_ping(msg)\r\n \r\n-        self.log.info('Check that addr message content is relayed and added to addrman')\r\n+        self.log.info('Check that addrv2 message content is relayed and added to addrman')\r\n         addr_receiver = self.nodes[0].add_p2p_connection(AddrReceiver())\r\n         msg.addrs = ADDRS\r\n         with self.nodes[0].assert_debug_log([\r\n```\r\n</p></details>\r\n",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-703086391",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "mentioned",
      "id": 3836480434,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzgzNjQ4MDQzNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3836480434",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-03T11:07:44Z"
    },
    {
      "event": "subscribed",
      "id": 3836480435,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM4MzY0ODA0MzU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3836480435",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-03T11:07:44Z"
    },
    {
      "event": "reviewed",
      "id": 501539039,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxNTM5MDM5",
      "url": null,
      "actor": null,
      "commit_id": "c212c7eea6c0f67d7c65467c6c93f188aaeb02f3",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Tested that:\r\n\r\n- restarting a node after running `cp -f onion_private_key onion_private_key_v3` does indeed launch a Tor *v2* service\r\n\r\n- following which, restarting again after `rm onion_private_key_v3` creates a new Tor *v3* service\r\n\r\nI've also been testing this branch rebased over #20002, which is based on #19998, and is a clean rebase. \r\n\r\nA few more comments below. This PR seems close.\r\n",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#pullrequestreview-501539039",
      "submitted_at": "2020-10-03T11:34:12Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
    },
    {
      "event": "reviewed",
      "id": 501539911,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxNTM5OTEx",
      "url": null,
      "actor": null,
      "commit_id": "c212c7eea6c0f67d7c65467c6c93f188aaeb02f3",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#pullrequestreview-501539911",
      "submitted_at": "2020-10-03T11:35:28Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
    },
    {
      "event": "reviewed",
      "id": 501664990,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxNjY0OTkw",
      "url": null,
      "actor": null,
      "commit_id": "31876b33894a48f20a8835126faac8f9f4a8aa00",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#pullrequestreview-501664990",
      "submitted_at": "2020-10-04T22:35:04Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3840358293,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50Mzg0MDM1ODI5Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3840358293",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-05T13:10:38Z"
    },
    {
      "event": "commented",
      "id": 703627129,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwMzYyNzEyOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/703627129",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-05T13:20:21Z",
      "updated_at": "2020-10-05T13:20:21Z",
      "author_association": "CONTRIBUTOR",
      "body": "Addressed review suggestions.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-703627129",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "reviewed",
      "id": 502090310,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyMDkwMzEw",
      "url": null,
      "actor": null,
      "commit_id": "bbbc8e4c657e8ea81edb6aca2b1870cd3b7459ad",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "re-ACK bbbc8e4c657e8ea81edb6aca2b1870cd3b7459ad.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#pullrequestreview-502090310",
      "submitted_at": "2020-10-05T14:09:20Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
    },
    {
      "event": "commented",
      "id": 703662561,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwMzY2MjU2MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/703662561",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-05T14:17:57Z",
      "updated_at": "2020-10-05T14:17:57Z",
      "author_association": "MEMBER",
      "body": "I'd like that `s` and `s_` objects of the `Stream` class were named more descriptive, but I have no particular suggestion.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-703662561",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3840832674,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50Mzg0MDgzMjY3NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3840832674",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-05T14:40:35Z"
    },
    {
      "event": "commented",
      "id": 703677160,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwMzY3NzE2MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/703677160",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-05T14:41:09Z",
      "updated_at": "2020-10-05T14:41:09Z",
      "author_association": "CONTRIBUTOR",
      "body": "Addressed review suggestions.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-703677160",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "reviewed",
      "id": 502156707,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyMTU2NzA3",
      "url": null,
      "actor": null,
      "commit_id": "703db15ae197c6b2e9489c14af441c5d796ff082",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "re-ACK 703db15ae197c6b2e9489c14af441c5d796ff082, tested on Linux Mint 20 (x86_64).\r\n\r\nBesides checking [network traffic](https://github.com/bitcoin/bitcoin/pull/19954#pullrequestreview-500239229), I've verified that my node is able to connect to peers with v2 and v3 onion addresses, and is reachable via v3 onion service. Created file with key in my datadir is `onion_v3_private_key`.\r\n\r\nThanks @vasild !",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#pullrequestreview-502156707",
      "submitted_at": "2020-10-05T15:10:43Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
    },
    {
      "event": "reviewed",
      "id": 502211628,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyMjExNjI4",
      "url": null,
      "actor": null,
      "commit_id": "703db15ae197c6b2e9489c14af441c5d796ff082",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#pullrequestreview-502211628",
      "submitted_at": "2020-10-05T16:11:14Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
    },
    {
      "event": "reviewed",
      "id": 502489557,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyNDg5NTU3",
      "url": null,
      "actor": null,
      "commit_id": "03572e94cb7249165cc5333c0785e2694c620785",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#pullrequestreview-502489557",
      "submitted_at": "2020-10-06T01:12:53Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3844403998,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50Mzg0NDQwMzk5OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3844403998",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-06T09:27:11Z"
    },
    {
      "event": "commented",
      "id": 704157591,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwNDE1NzU5MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/704157591",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-06T09:47:04Z",
      "updated_at": "2020-10-06T09:47:04Z",
      "author_association": "CONTRIBUTOR",
      "body": "Addressed review suggestions and extended some tests.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-704157591",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "commented",
      "id": 704160646,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwNDE2MDY0Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/704160646",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-06T09:53:00Z",
      "updated_at": "2020-10-06T09:53:00Z",
      "author_association": "CONTRIBUTOR",
      "body": "[Filtered code coverage report](https://people.freebsd.org/~vd/pr19954_946b79a9d_coverage/) (files not modified by this PR are omitted and not modified lines in files that are otherwise modified are dimmed).\r\n\r\n[List of modified and not covered lines](https://people.freebsd.org/~vd/pr19954_946b79a9d_coverage/modified_and_not_covered.html).",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-704160646",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "reviewed",
      "id": 503416183,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzNDE2MTgz",
      "url": null,
      "actor": null,
      "commit_id": "9502ad10020778722652e41188ae9cdb11e78cf2",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#pullrequestreview-503416183",
      "submitted_at": "2020-10-06T23:06:23Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
    },
    {
      "event": "commented",
      "id": 704641206,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwNDY0MTIwNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/704641206",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-07T01:36:51Z",
      "updated_at": "2020-10-07T01:36:51Z",
      "author_association": "MEMBER",
      "body": "Code review ACK modulo nits.\r\n\r\nI tested:\r\n* `externalip=` with torv3 address, and saw it reported in logs\r\n* upgrading a automatically generated torv2 address to a v3 one\r\n* automatically creating a torv3 address\r\n* connecting two nodes with this patch to each other, and seeing `addrv2` reported in `getpeerinfo` output\r\n",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-704641206",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3849473470,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50Mzg0OTQ3MzQ3MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3849473470",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-07T09:17:26Z"
    },
    {
      "event": "commented",
      "id": 704809252,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwNDgwOTI1Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/704809252",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-07T09:22:07Z",
      "updated_at": "2020-10-07T09:22:07Z",
      "author_association": "CONTRIBUTOR",
      "body": "Addressed review suggestions.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-704809252",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "milestoned",
      "id": 3854889412,
      "node_id": "MDE1Ok1pbGVzdG9uZWRFdmVudDM4NTQ4ODk0MTI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3854889412",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-08T11:20:07Z",
      "milestone": {
        "title": "0.21.0"
      }
    },
    {
      "event": "commented",
      "id": 705504702,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwNTUwNDcwMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/705504702",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-08T11:22:04Z",
      "updated_at": "2020-10-10T09:11:18Z",
      "author_association": "MEMBER",
      "body": "~~re-ACK 1f06a2901d1ee924b95f482e8693842ee07863de~~\r\n~~Updated my nodes with the old version of this patch to the current one (and renamed the key file, the new name is good), it still works as expected.~~\r\n\r\nEdit: I have to retract this ACK for now, I'm having some problems with this PR on a FreeBSD node. It drops all outgoing connections with this dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5 merged on master (12a1c3ad1a43634d2a98717e49e3f02c4acea2fe).\r\n\r\nEdit.2: I cannot reproduce this issue in any way. I have a binary that reproduces the problem, but building the same commit doesn't reproduce it. It seems to have been a miscompile?!? In any case I doubt this is related to your specific code.\r\n\r\nEdit.3: Okay, I dived deeper in my problem here and it **100% sure** was a local miscompile issue.\r\nWhile debugging the broken binary using gdb and putting a `watch` on a node's `fDisconnect` field, I noticed something really strange: the address of the field was changing between files. The line `pfrom.fSuccessfullyConnected = true;` was setting the `fDisconnect` to true, an off-by-one error. So some incompatible/stale files were being linked when switching between branches. These had a different conception of the `CNode` structure.\r\nThe root cause is likely the `--disable-dependency-tracking` configure flag which is (or used to be) necessary to make `configure` pass on FreeBSD..\r\n\r\nSorry for the distraction. Will re-ACK.",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-705504702",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "commented",
      "id": 705629597,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwNTYyOTU5Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/705629597",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-08T15:00:12Z",
      "updated_at": "2020-10-08T15:23:46Z",
      "author_association": "CONTRIBUTOR",
      "body": "Re-reviewing and testing. I wonder if we need to warn or explain to users about the \"ERROR: DeserializeDB: Deserialize or I/O error\" and \"Invalid or missing peers.dat\" messages in the debug log if they go back to a v2 service.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-705629597",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "commented",
      "id": 705669756,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwNTY2OTc1Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/705669756",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-08T16:05:10Z",
      "updated_at": "2020-10-08T16:05:10Z",
      "author_association": "CONTRIBUTOR",
      "body": "Just to clarify (assuming this PR goes in 0.21): the format of `peers.dat` is changed in a backwards-incompatible way. Meaning that 0.20 and older will be unable to read `peers.dat` written by 0.21 or newer. This boils down to the fact that 0.20 and older cannot read e.g. torv3 addresses encoded in BIP155-addrv2 format.\r\n\r\nThis is not related in any way to the `onion_private_key` and `onion_v3_private_key` files and whether the node creates an onion service or not.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-705669756",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "reviewed",
      "id": 504927305,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0OTI3MzA1",
      "url": null,
      "actor": null,
      "commit_id": "1f06a2901d1ee924b95f482e8693842ee07863de",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK 1f06a2901d1ee924b95f482e8693842ee07863de",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#pullrequestreview-504927305",
      "submitted_at": "2020-10-08T16:08:37Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
    },
    {
      "event": "reviewed",
      "id": 504925137,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0OTI1MTM3",
      "url": null,
      "actor": null,
      "commit_id": "1f06a2901d1ee924b95f482e8693842ee07863de",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Tested re-ACK 1f06a2901d1ee924b95f482e8693842ee07863de modulo comments below. Started new v3 service by deleting `onion_v3_private_key` and after running previously on master, no errors, local addr new tor v3 address. Restarted after `cp onion_private_key onion_v3_private_key`, saw `ERROR: DeserializeDB: Deserialize or I/O error - ReadCompactSize(): size too large: iostream error` and `Invalid or missing peers.dat; recreating`, local addr usual tor v2 address. Restarted after deleting `onion_v3_private_key`, no errors, local addr new tor v3 address. I see \"addrv2\" and \"sendaddrv2\" messages in getpeerinfo in both the \"bytesrecv_per_msg\" and \"bytessent_per_msg\" objects. Would be good to nail down those errors.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#pullrequestreview-504925137",
      "submitted_at": "2020-10-08T16:22:12Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
    },
    {
      "event": "commented",
      "id": 706011334,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwNjAxMTMzNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/706011334",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-09T07:06:22Z",
      "updated_at": "2020-10-09T07:12:56Z",
      "author_association": "MEMBER",
      "body": "> Just to clarify (assuming this PR goes in 0.21): the format of peers.dat is changed in a backwards-incompatible way. Meaning that 0.20 and older will be unable to read peers.dat written by 0.21 or newer. This boils down to the fact that 0.20 and older cannot read e.g. torv3 addresses encoded in BIP155-addrv2 format.\r\n\r\nThis only means starting with (effectively) an empty peers.dat if you downgrade to a pre-0.21 version, right? That's okay. Loss of peers.dat is not a big deal to most users. As long as it doesn't result in the program *not starting at all*. That would be kind of unfriendly.\r\n\r\n(Nevertheless, it does make sense to mention the `peers.dat` format change and consequences in the release notes)",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-706011334",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "commented",
      "id": 706012255,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwNjAxMjI1NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/706012255",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-09T07:08:39Z",
      "updated_at": "2020-10-09T07:08:39Z",
      "author_association": "MEMBER",
      "body": "Earlier today on IRC:\r\n\r\n```\r\n13:39:37 < vasild> CAddress::unser: time=1601829922, services=134218813, addr=62.107.200.30:8333\r\n13:39:56 < vasild> CAddress::unser: time=1600339981, services=134217741, addr=akinbo7tlegsnsxn.onion:8333\r\n13:40:31 < vasild> jonatack: wumpus: so...\r\n13:41:05 < vasild> in the network there are some peers with services=unusually high value\r\n13:42:07 < sipa> that's 0x0800000d\r\n13:42:14 < vasild> they get in via p2p gossip into addrman without causing problems\r\n13:42:16 < vasild> sipa: right\r\n13:43:18 < vasild> using addrv1\r\n13:44:03 < vasild> then addrman saves it on disk just fine in V3_BIP155 format using READWRITE(COMPACTSIZE(services_tmp))\r\n13:44:44 < vasild> however, on read back from disk it bricks because ReadCompactSize() contains this at the end:\r\n13:44:53 < vasild>     if (nSizeRet > (uint64_t)MAX_SIZE)\r\n13:44:54 < vasild>         throw std::ios_base::failure(\"ReadCompactSize(): size too large\");\r\n13:45:18 < vasild> and MAX_SIZE is quite low value 0x02000000\r\n13:45:48 < vasild> I wondered before wtf is that limit but decided it is harmless\r\n13:46:14 < sipa> vasild: ehhhh\r\n13:46:27 < sipa> this means we need to bypass that limit when deserializing addrv2\r\n13:46:46 < vasild> so WriteCompactSize() can write >0x02000000 but ReadCompactSize() cannot read it back :-X\r\n```\r\n\r\nI wrote a small patch that allows bypassing the range check in ReadCompactSize: https://github.com/sipa/bitcoin/commits/202010_compactsize_bound. Feel free to cherry-pick or squash. It allows using without range check using `Using<CompactSizeFormatter<false>>(obj)` instead of `COMPACTSIZE(obj)`.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-706012255",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "commented",
      "id": 706017747,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwNjAxNzc0Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/706017747",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-09T07:22:12Z",
      "updated_at": "2020-10-09T07:22:12Z",
      "author_association": "MEMBER",
      "body": "> 13:46:46 < vasild> so WriteCompactSize() can write >0x02000000 but ReadCompactSize() cannot read it back :-X\r\n\r\nOuch, good catch! This makes me doubt the choice to use a `CompactSize` for anything else than a size a little. It seems like misuse of a typed value. @sipa's patch to allow to bypass the check would solve the immediate issue, I just hope it won't cause problems for maintainers in the future again if other sanity checks are added, with people thinking they'll be size specific.",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-706017747",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "mentioned",
      "id": 3858805546,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50Mzg1ODgwNTU0Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3858805546",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-09T07:22:12Z"
    },
    {
      "event": "subscribed",
      "id": 3858805551,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM4NTg4MDU1NTE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3858805551",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-09T07:22:12Z"
    },
    {
      "event": "commented",
      "id": 706019630,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwNjAxOTYzMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/706019630",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-09T07:26:49Z",
      "updated_at": "2020-10-09T07:26:49Z",
      "author_association": "MEMBER",
      "body": "@laanwj Well, they're already used as non-size values in BIP152, though luckily they're restricted to 16-bit values there, so the range limit was not an issue.\n\nI think it's fine to use it in BIP155 as well. The code is a bit confusing but perhaps we should just rename CompactSize to something else at some point. It's already known under other names outside Bitcoin Core anyway.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-706019630",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "mentioned",
      "id": 3858820314,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50Mzg1ODgyMDMxNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3858820314",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-09T07:26:49Z"
    },
    {
      "event": "subscribed",
      "id": 3858820320,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM4NTg4MjAzMjA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3858820320",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-09T07:26:49Z"
    },
    {
      "event": "commented",
      "id": 706022112,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwNjAyMjExMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/706022112",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-09T07:33:08Z",
      "updated_at": "2020-10-09T07:34:54Z",
      "author_association": "CONTRIBUTOR",
      "body": "> This only means starting with (effectively) an empty peers.dat if you downgrade to a pre-0.21 version, right?\r\n\r\nYes, that's what I'm seeing.\r\n\r\n> (Nevertheless, it does make sense to mention the `peers.dat` format change and consequences in the release notes)\r\n\r\n:+1: ",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-706022112",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzoxZDNlYzJhMWZkYTc0NDYzMjM3ODZhNTJkYTFmZDEwOWMwMWFhNmZi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1d3ec2a1fda7446323786a52da1fd109c01aa6fb",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/1d3ec2a1fda7446323786a52da1fd109c01aa6fb",
      "tree": {
        "sha": "7d4dd26269bf40b771e360c64ca3a12388ec5880",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7d4dd26269bf40b771e360c64ca3a12388ec5880"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 7d4dd26269bf40b771e360c64ca3a12388ec5880\nparent 6af9b31bfc6dd6086d245c00eb7cff762fc34a1e\nauthor Pieter Wuille <pieter@wuille.net> 1602214047 -0700\ncommitter Vasil Dimov <vd@FreeBSD.org> 1602232339 +0200\n\nSupport bypassing range check in ReadCompactSize\n\nThis is needed when we want to encode an arbitrary number as CompactSize\nlike node service flags, which is a bitmask and could be bigger than the\nusual size of an object.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAl+AIBQACgkQVN8G9ktV\ny7+hKh/+NEbP7SBxaGDrWtXI5reqWIiM1N7k7Savzq4uPXNXTyZn6Fobi8xK0oaD\n10K35aK+BO4++NUZpXEnC6tjPX13p/Mmbr0JWXUjaV7dZ62/G5Fbyl1LQOYmi4i/\n/ILceOmjVfjGpJWptEchPA98/VOTrP2mkjukUx1U/Le8WViCebDl52wD3GWT6s7I\nPTZUccW7lb2C2frd0wlQvBwYOkBqJBFyKPKw4G0ZEMp2DW5/DF/cooXakEduwjTq\nqi3SsjEl9Z/vUHoQKGbWDbHrMuQw6adLPWWHuX573rThDZbF/eSHLvgn44GjQVx3\nqMrfhKCeWmvkCvvn5xMGx4d/TVqeApbvxgnRsQxH4b6U888rJ2gWdAljV4qCC6qA\nPFUhg9w6ixZANiA6KA8SCDKSzBHb+kj4/agS1wiKkDUhCY6sqr4yC5MEF8/VvEiq\n4IcVDvt8zNk3wDDkXAv48W037mMJAQzx/T9QsFKLbJh8Zr3lhonSS2hmuztqkKu9\nwnpiuIfKrgaiXCdT50DwLUvoXGGDeLb1JLVuGuFqdWSqSvmi/gzr4Bn9Hu4/cxI/\n8yOo4lHHeA3sWA6kvkLSf7U7Qc/6uUcL/Gb27jit4vigf222G2+ktMYZSeNt3uS9\n0H2+lbawRNVuLGjMGkEvmv6zHCnLhup+Luxpqia+Kaz/RbPz9nM1Yy/936FmTpRy\n4IWr6xCC3ZEL3zWG+9E4lsctRNgLN/kyIux6hz5n8XJ2Ibpf3YP1ie4uEYVUz4/k\ntRfwoPYYYpCSdXrCazD8vSNgDb2MjOawhh1BhlvMo02Sdi4ChLkBAiXTrSpQN5u2\n35DZXer39ZgPsK1MARzUU5nEbY968095skVHUPQn6dAz/80Cl/+6gmEsIJTjiAsa\nklTzYjrd92rEi/JsvzjFprrhdE4p2mBDKeF0aZin+afex1/3xUShRWGgwt4QtKDs\nswmPXcn+InVECbdN3WEQpmtq8sr1aA6VYjJIumaB2/skBTdMJJXwpm6SPQsGcpOE\nMAzZjEUTUPGIuh+xQ2JWKP54lDvmWozqhwfxgR+O+5XzxzKt2BLskjSztVWd4o32\nIPZprFrc08/TZTlF6tUbzcJ4lRQYaF9MrhvzwlGDDFEq8X/OVd8tJ3HpE/eMPqup\ncuwws0IG7Jxi5focRRcdVRPjd0oQTWLLBucLlY8Bnb6oTY3+eG5SJn235NXo57NL\nY1WX5oGbuSgLR5rJ9cQD7+sqK5uwnoFsxCkvhIt05Lw1w54W4Ka0FgioeJtDYMD4\nom7zgCeD0DXGF76sV+gjXS9eCib9/VHoBO4TkqoMocI+HOp0pkF6CkspnPrcBhI7\nQ5QMuh2IUggb6sJQnyu+fsqMaL/50Q==\n=V994\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6af9b31bfc6dd6086d245c00eb7cff762fc34a1e",
          "sha": "6af9b31bfc6dd6086d245c00eb7cff762fc34a1e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/6af9b31bfc6dd6086d245c00eb7cff762fc34a1e"
        }
      ],
      "message": "Support bypassing range check in ReadCompactSize\n\nThis is needed when we want to encode an arbitrary number as CompactSize\nlike node service flags, which is a bitmask and could be bigger than the\nusual size of an object.",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2020-10-09T08:32:19Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2020-10-09T03:27:27Z"
      },
      "sha": "1d3ec2a1fda7446323786a52da1fd109c01aa6fb"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3859212382,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50Mzg1OTIxMjM4Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3859212382",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-09T09:11:57Z"
    },
    {
      "event": "commented",
      "id": 706071612,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwNjA3MTYxMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/706071612",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-09T09:20:56Z",
      "updated_at": "2020-10-09T09:20:56Z",
      "author_association": "CONTRIBUTOR",
      "body": "Addressed review suggestions plus\r\n\r\n* Added release notes on the `peers.dat` format change\r\n* Made it possible to read big compact-size numbers (thanks to @sipa for the patch) this will enable addrman to read arbitrary big service flags from its database and also for the p2p layer to receive them when in `addrv2` encoding (the old `addr` encoding uses fixed 8-byte representation)\r\n* Added a human-readable error message if addrman detects a future format of `peers.dat`",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-706071612",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "mentioned",
      "id": 3859247625,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50Mzg1OTI0NzYyNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3859247625",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-09T09:20:56Z"
    },
    {
      "event": "subscribed",
      "id": 3859247629,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM4NTkyNDc2Mjk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3859247629",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-09T09:20:56Z"
    },
    {
      "event": "commented",
      "id": 706087447,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwNjA4NzQ0Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/706087447",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-09T09:55:05Z",
      "updated_at": "2020-10-09T12:34:56Z",
      "author_association": "CONTRIBUTOR",
      "body": "Initial updated suggestion for the release notes, though I am sure it can be improved further (pinging @harding). It may need to be edited by hand in the wiki if the notes have already been merged and branched off.\r\n\r\n```\r\nMigration from deprecated Tor v2 to Tor v3\r\n-----------------------\r\nThe Tor onion service that is automatically created (`-listenonion`) will now be\r\ncreated as a Tor v3 service instead of Tor v2. The private key that was used for\r\nTor v2 (if any) will be left untouched in `onion_private_key` in `-datadir` and\r\ncan be removed if not needed. Bitcoin Core will no longer attempt to read it.\r\nThe private key for the Tor v3 service will be saved in `onion_v3_private_key`.\r\nTo use the deprecated Tor v2 service (not recommended), the `onion_private_key` file\r\ncan be copied over `onion_v3_private_key`, e.g. `cp -f onion_private_key\r\nonion_v3_private_key`. (#19954)\r\n\r\nPeers.dat file format change\r\n-----------------------\r\nThe node's known peers are persisted to disk in a file called `peers.dat`. Starting\r\nwith this v0.21.0 release, the `peers.dat` file format is changed in a backwards-incompatible\r\nway to accommodate the storage of large BIP155 addresses, such as Tor v3 addresses.\r\nPre-0.21 Bitcoin Core software will not be able to read this new `peers.dat` format. In the\r\nevent of downgrading to pre-0.21 after running 0.21, the debug log may print an error that\r\ndeserialization has failed and a message that peers.dat is invalid or missing and is being\r\nrecreated, and bitcoind will continue normal operation with a new `peers.dat` file. (#19954)\r\n```\r\n",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-706087447",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "mentioned",
      "id": 3859377239,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50Mzg1OTM3NzIzOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3859377239",
      "actor": {
        "login": "harding",
        "id": 61096,
        "node_id": "MDQ6VXNlcjYxMDk2",
        "avatar_url": "https://avatars.githubusercontent.com/u/61096?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/harding",
        "html_url": "https://github.com/harding",
        "followers_url": "https://api.github.com/users/harding/followers",
        "following_url": "https://api.github.com/users/harding/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/harding/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/harding/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/harding/subscriptions",
        "organizations_url": "https://api.github.com/users/harding/orgs",
        "repos_url": "https://api.github.com/users/harding/repos",
        "events_url": "https://api.github.com/users/harding/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/harding/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-09T09:55:05Z"
    },
    {
      "event": "subscribed",
      "id": 3859377242,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM4NTkzNzcyNDI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3859377242",
      "actor": {
        "login": "harding",
        "id": 61096,
        "node_id": "MDQ6VXNlcjYxMDk2",
        "avatar_url": "https://avatars.githubusercontent.com/u/61096?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/harding",
        "html_url": "https://github.com/harding",
        "followers_url": "https://api.github.com/users/harding/followers",
        "following_url": "https://api.github.com/users/harding/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/harding/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/harding/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/harding/subscriptions",
        "organizations_url": "https://api.github.com/users/harding/orgs",
        "repos_url": "https://api.github.com/users/harding/repos",
        "events_url": "https://api.github.com/users/harding/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/harding/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-09T09:55:05Z"
    },
    {
      "event": "reviewed",
      "id": 505506381,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1NTA2Mzgx",
      "url": null,
      "actor": null,
      "commit_id": "9b56a68a85ce32b13d3db605ac56bb9743437d2f",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK 9b56a68a85ce32b13d3db605ac56bb9743437d2f per `git diff 1f06a29 9b56a68`, tested with v3/v2/v3 onion private keys, tested on v0.18.1, and tested the new error message.\r\n\r\nIn my testing, the new patch has fixed the DB deserialize errors and peers.dat messages on this branch after `cp onion_private_key onion_v3_private_key`.\r\n\r\nRestarting on v0.18.1, as expected I see `ERROR: DeserializeDB: Deserialize or I/O error - CAutoFile::read: end of file: iostream error` and `Invalid or missing peers.dat; recreating`.\r\n",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#pullrequestreview-505506381",
      "submitted_at": "2020-10-09T10:30:32Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
    },
    {
      "event": "commented",
      "id": 706151636,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwNjE1MTYzNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/706151636",
      "actor": {
        "login": "harding",
        "id": 61096,
        "node_id": "MDQ6VXNlcjYxMDk2",
        "avatar_url": "https://avatars.githubusercontent.com/u/61096?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/harding",
        "html_url": "https://github.com/harding",
        "followers_url": "https://api.github.com/users/harding/followers",
        "following_url": "https://api.github.com/users/harding/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/harding/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/harding/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/harding/subscriptions",
        "organizations_url": "https://api.github.com/users/harding/orgs",
        "repos_url": "https://api.github.com/users/harding/repos",
        "events_url": "https://api.github.com/users/harding/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/harding/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-09T12:27:39Z",
      "updated_at": "2020-10-09T12:27:39Z",
      "author_association": "CONTRIBUTOR",
      "body": "@jonatack The peers.dat text looks fine to me.  Here's a few suggestions for the v3 onion service text, but I also think that was fine.\r\n\r\n```diff\r\n-The Tor onion service that is automatically created (`-listenonion`) will now be\r\n+The Tor onion service that is automatically created by setting the `-listenonion` configuration parameter will now be\r\n created as a Tor v3 service instead of Tor v2. The private key that was used for\r\n-Tor v2 (if any) will be left untouched in `onion_private_key` in `-datadir` and\r\n+Tor v2 (if any) will be left untouched in the `onion_private_key` file in the data directory (see `-datadir`)  and\r\n can be removed if not needed. Bitcoin Core will no longer attempt to read it.\r\n-The private key for the Tor v3 service will be saved in `onion_v3_private_key`.\r\n+The private key for the Tor v3 service will be saved in a file named `onion_v3_private_key`.\r\n To use the deprecated Tor v2 service (not recommended), then `onion_private_key`\r\n can be copied over `onion_v3_private_key`, e.g. `cp -f onion_private_key\r\n onion_v3_private_key`. (#19954)\r\n```",
      "user": {
        "login": "harding",
        "id": 61096,
        "node_id": "MDQ6VXNlcjYxMDk2",
        "avatar_url": "https://avatars.githubusercontent.com/u/61096?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/harding",
        "html_url": "https://github.com/harding",
        "followers_url": "https://api.github.com/users/harding/followers",
        "following_url": "https://api.github.com/users/harding/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/harding/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/harding/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/harding/subscriptions",
        "organizations_url": "https://api.github.com/users/harding/orgs",
        "repos_url": "https://api.github.com/users/harding/repos",
        "events_url": "https://api.github.com/users/harding/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/harding/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-706151636",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "mentioned",
      "id": 3859913108,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50Mzg1OTkxMzEwOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3859913108",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-09T12:27:39Z"
    },
    {
      "event": "subscribed",
      "id": 3859913113,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM4NTk5MTMxMTM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3859913113",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-09T12:27:39Z"
    },
    {
      "event": "commented",
      "id": 706153861,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwNjE1Mzg2MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/706153861",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-09T12:32:36Z",
      "updated_at": "2020-10-09T12:32:36Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thanks @harding!",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-706153861",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "mentioned",
      "id": 3859931627,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50Mzg1OTkzMTYyNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3859931627",
      "actor": {
        "login": "harding",
        "id": 61096,
        "node_id": "MDQ6VXNlcjYxMDk2",
        "avatar_url": "https://avatars.githubusercontent.com/u/61096?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/harding",
        "html_url": "https://github.com/harding",
        "followers_url": "https://api.github.com/users/harding/followers",
        "following_url": "https://api.github.com/users/harding/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/harding/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/harding/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/harding/subscriptions",
        "organizations_url": "https://api.github.com/users/harding/orgs",
        "repos_url": "https://api.github.com/users/harding/repos",
        "events_url": "https://api.github.com/users/harding/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/harding/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-09T12:32:37Z"
    },
    {
      "event": "subscribed",
      "id": 3859931629,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM4NTk5MzE2Mjk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3859931629",
      "actor": {
        "login": "harding",
        "id": 61096,
        "node_id": "MDQ6VXNlcjYxMDk2",
        "avatar_url": "https://avatars.githubusercontent.com/u/61096?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/harding",
        "html_url": "https://github.com/harding",
        "followers_url": "https://api.github.com/users/harding/followers",
        "following_url": "https://api.github.com/users/harding/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/harding/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/harding/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/harding/subscriptions",
        "organizations_url": "https://api.github.com/users/harding/orgs",
        "repos_url": "https://api.github.com/users/harding/repos",
        "events_url": "https://api.github.com/users/harding/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/harding/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-09T12:32:37Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyMDFhNDU5NmQ5MmQ2NDBkNWViN2U3NmNjOGQ5NTkyMjhmYTA5ZGJi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/201a4596d92d640d5eb7e76cc8d959228fa09dbb",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/201a4596d92d640d5eb7e76cc8d959228fa09dbb",
      "tree": {
        "sha": "1f0641dfee1f4d475336a32f3fea930eded9d629",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1f0641dfee1f4d475336a32f3fea930eded9d629"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 1f0641dfee1f4d475336a32f3fea930eded9d629\nparent 1d3ec2a1fda7446323786a52da1fd109c01aa6fb\nauthor Vasil Dimov <vd@FreeBSD.org> 1589902745 +0200\ncommitter Vasil Dimov <vd@FreeBSD.org> 1602254569 +0200\n\nnet: CAddress & CAddrMan: (un)serialize as ADDRv2\n\nChange the serialization of `CAddrMan` to serialize its addresses\nin ADDRv2/BIP155 format by default. Introduce a new `CAddrMan` format\nversion (3).\n\nAdd support for ADDRv2 format in `CAddress` (un)serialization.\n\nCo-authored-by: Carl Dong <contact@carldong.me>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAl+AdukACgkQVN8G9ktV\ny7+DSx/6As2WF9xwftpHDLho/vKy3FWrkhTK/B0gGHCzOy/27jBuFMb5U2OZEMqH\nLr04awTGd1QMVqo1zlIWCLu4j9nj9ngxod0L6DP4mm1Zy6VFtVz9nEEdk7Gh5qV0\ny+I6j/XOoNnRJZ7Z17TIfhM500zWWKptN0uDmU2MkW93Frz9sTSBZIBzRuk1ZRq2\nI3pgBtNV7Jd5N8gMY1Gx/OrrwxssiTKyTUA38g/uXgeAxzz9+o3LV4WKWFaNvRB7\nS9I+IiW/8sJNHOO6W+nQognAGH36VeeWoPDOgTh1qX9SLrx+uykV+nEcBNzi2nq9\nDbU5WE9Zxfw+qgLIp1M236RciVRXfe/nJp/F9OaYtyk16OZDtkgEDkhEFndrluih\nyHxQ1D/sjYILI8ggcDzj3oP8AbeM3UgsCakwGsP+K2rYQd3pVOSlZ57tBOiD/FZy\nYBqmWYUPjq7I+Nagxayuqq+0lqt9ojpOYi3+NTXxGaGfHwgQsw5b2JMnCmgY+Eu1\ncd1v658nl+Cem+qTGQjpwkOl/S5Rngvll+ngClNmmy17nfvvC4VtZBNODx/KQfNI\n7HCjmlZWMBv/k7GOvzXvq0ZpEq0EWVBtsiB/S6o35i7z90GmlIqXzNYmY+DEJbOg\n1flXoOR7UFhpp28vmbQ5w9ZhPBz099O98UXGaF7pbjQQ7dvXAM+R32dz1NJs9KF3\nDDhnX93iOqPtthnHQDqO0qPjzCbpZp8q8yB3JmHMBYXVghFe+KDk2edWzVoxjQ2Q\nYiQGrsGdDjtWXYXddlgOsdb5osQDf0FsnTyp5GrLxYCsqFdUakBUzQb4ofx27b7W\n0qqqmtErOP4HoDhkzI93N/J2ok9LmcIEr81lG+DiAZwkJIvfjEgP/jNw85ZQ5gAc\nQfOHwpgysr1/IwMjqXNS9zhRelmAR0e3PwgQ8P4uSWu+Bc0fxUfd+H9kOKOuvDFS\nU1FO9ls+vd5ZFMN/z8Dpd73Qnil2NlKBn2CANREcBPoAFp0PYFw2N/koYNTQPdPS\nPDy9VSux1cF+eYP/vYvNLjZye3udR+VhmcsxRnkChiRGZhRlYUIGoKi9dtm+cPQj\nFOuNDhDHx/FWo/h1/axQCx45subdu5Yi9ejNJW9MdrRI+VMPlruqJJy/6+JMFQ3N\ny0ieCJnsP8t2MuVCUTg/uKtFqMjRNhDXlrAUYuXvTqZAMCBJH5sPk+b1k/Vpn+pb\n3E5/EYyXTYmi4yVabx6l8zdNFXwrWMOEkiZRiuGEz0QIQPbF1qlq56uie6X6cbGT\nlbgV2kcHHnSmqcEnBrGVsMg6/cULqoa5MJKCTahF147B3EDUr5jSCMYFeJA++jDe\n/PdbhYN3Y5dcR6KqsCpTsRfDlQso8Q==\n=GHYL\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1d3ec2a1fda7446323786a52da1fd109c01aa6fb",
          "sha": "1d3ec2a1fda7446323786a52da1fd109c01aa6fb",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/1d3ec2a1fda7446323786a52da1fd109c01aa6fb"
        }
      ],
      "message": "net: CAddress & CAddrMan: (un)serialize as ADDRv2\n\nChange the serialization of `CAddrMan` to serialize its addresses\nin ADDRv2/BIP155 format by default. Introduce a new `CAddrMan` format\nversion (3).\n\nAdd support for ADDRv2 format in `CAddress` (un)serialization.\n\nCo-authored-by: Carl Dong <contact@carldong.me>",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2020-10-09T14:42:49Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2020-05-19T15:39:05Z"
      },
      "sha": "201a4596d92d640d5eb7e76cc8d959228fa09dbb"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzozNTNhM2ZkYWFkMDU1ZWVhNDJhMGJhZjczMjZiZGQ1OTFmNTQxMTcw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/353a3fdaad055eea42a0baf7326bdd591f541170",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/353a3fdaad055eea42a0baf7326bdd591f541170",
      "tree": {
        "sha": "ab25e783cbf347df239d98060f83dcf2ea72209a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ab25e783cbf347df239d98060f83dcf2ea72209a"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree ab25e783cbf347df239d98060f83dcf2ea72209a\nparent 201a4596d92d640d5eb7e76cc8d959228fa09dbb\nauthor Vasil Dimov <vd@FreeBSD.org> 1589969118 +0200\ncommitter Vasil Dimov <vd@FreeBSD.org> 1602254570 +0200\n\nnet: advertise support for ADDRv2 via new message\n\nIntroduce a new message `sendaddrv2` to signal support for ADDRv2.\nSend the new message immediately after sending the `VERACK` message.\n\nAdd support for receiving and parsing ADDRv2 messages.\n\nSend ADDRv2 messages (instead of ADDR) to a peer if he has\nadvertised support for it.\n\nCo-authored-by: Carl Dong <contact@carldong.me>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAl+AduoACgkQVN8G9ktV\ny78s1x//QODMQnS5WFYzRedGBIKRS7h7Iolnk9uGq7bDen9olqURrzZLpgbEdl5z\nKCCJB6WNBdpa+WUKqlFzZoYaKjkSxmmwLU0BKcGu2a9pVWkCNcQ6uUoKQWXeqX/3\nF/RzoNh+nZI4D8DDBCHjaa+IrxtPX5V0cTjpLeT78820FSVIhHhaf60bJr+/r3Ka\ntyXRunaHBfUeiS2lbW87Duede77gBK+muGV5uE8nsN3YpxuwET6cLgE4m3ztsvFS\nJ9KrSrWw1rumXG7v0H6ayKwrleDbRW0ntWI7spqvY5LGvqwI4mBd78W7l5kmTKl8\nmsIkNwxH69arohR20QnyqtNRVmziSsTM/5l3uWhlqi6kUSPIWyvGL8rjY3/BtGT4\n7bACo7mZAY+Q4S+bHws6Nr4wFfxnkWFyZgYiVkslVK28AaLdB4hc4BgxQ5sbehvM\nZ30vkcioOBoGAuBP6Uj78elqGN2z1qncGKOU8g7FgpCAt/sIWHPsAmoMilPrtKY+\nOcnWkWIYfxp66sFaFfzC/SMKmsyJNvPS/N3Y93XUdhFhVv3OJ6ooLIlxZL5qZuKm\nqiMcKsbMoOubLzO2QdeVTeKwytdIKQYZToArEIoEL3cn7tqbLzjGBwsgBeTLruqh\nEkPnpkn6m4ttCNulNwscSGefINt87rTnK8EcmHRGnL39HcylOSqAtWcYPxvvnExW\n/U5UXiXNy3YIa46Fjl0A6jHi1/AQI1xORHFrUmLTt0VHxzcEtNXEZyopFjaapUtV\nJ67yTCR8pPtYfKnti8BSmTmaXHM3m8HZl/LXa01eEyrVBtrA3DRbggsjg/WzWe6O\n3uHFmGoalnUzz+MVIwr3Oq3UAJOVFm/RIjU2VOFNL5IVR+aUXNYvkaxamohjZaGg\n5H0v3AANKOkVYCvnlHHgnJOyvPgTzlt3QmkogScomiudKkIjW/WcbkSgVeEK9zuM\nfOG3ntXgGtmGArb/HetHj0RiIbaiDTdwhtmMJ41zzB3UZsAgvbr8Fj5aHBPv3q5F\n4/eCUECjXmf5tH0dkDwX9xil43tM7/tut36NGT5yGgCxmm7meNJISNCYXgEUE99P\nyIcZQRHqIWmef9X+Tpm5fr0gsIc0DRPx0Aoz8ydIXqGjfuYHsbnoBN4C5CVX7ZzZ\nbBAjS+zO6rTOvv8lPUl8W3kNPmo3ngJkbQZPjuCORLrag94K3EMym99OkhUzu6Sr\n07iWclPG59xRh1P9uCIJgVIiAjRRTcM5Nk8Xx+4G4urhwSTddGZpIjEho8123zs4\n+LAaXaJdrwIZv+UfujSFIOB4hVvykNR53GbAErZofFH1yYcQy2PnzuBLp57+K+H3\nrTFfboncHn9v9Ki4NM+eyMcrN9z7rQ==\n=jkZF\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/201a4596d92d640d5eb7e76cc8d959228fa09dbb",
          "sha": "201a4596d92d640d5eb7e76cc8d959228fa09dbb",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/201a4596d92d640d5eb7e76cc8d959228fa09dbb"
        }
      ],
      "message": "net: advertise support for ADDRv2 via new message\n\nIntroduce a new message `sendaddrv2` to signal support for ADDRv2.\nSend the new message immediately after sending the `VERACK` message.\n\nAdd support for receiving and parsing ADDRv2 messages.\n\nSend ADDRv2 messages (instead of ADDR) to a peer if he has\nadvertised support for it.\n\nCo-authored-by: Carl Dong <contact@carldong.me>",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2020-10-09T14:42:50Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2020-05-20T10:05:18Z"
      },
      "sha": "353a3fdaad055eea42a0baf7326bdd591f541170"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkY2YwY2I0Nzc2OTlkMTFhZmQwZmYzN2M4YmZiMmIxYjRmN2YxZWU1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "tree": {
        "sha": "0aa35085ba830cf29850697bf93dc85953a53217",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0aa35085ba830cf29850697bf93dc85953a53217"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 0aa35085ba830cf29850697bf93dc85953a53217\nparent 353a3fdaad055eea42a0baf7326bdd591f541170\nauthor Vasil Dimov <vd@FreeBSD.org> 1600086615 +0200\ncommitter Vasil Dimov <vd@FreeBSD.org> 1602254570 +0200\n\ntor: make a TORv3 hidden service instead of TORv2\n\nTORv2 is deprecated [1], thus whenever we create the hidden service\nourselves create a TORv3 one instead.\n\n[1] https://blog.torproject.org/v2-deprecation-timeline\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAl+AduoACgkQVN8G9ktV\ny78LRB/+OJziNSr7y0l6wbAE4LQUwgK1VIvWdKKv84hM4xJ+YJn9/lwu3w3Su+Em\nRUsIsrq4jl25qz7S3TBvuDa1qQ6vXtgPE97G8Hx2jwrVRoU7ue6DX6h5WJZL/qvs\nH35tj04fGiwlanKF4AqBjUa3+1SGHCpFK0WGm8I9zPwQCGti+D94YT/lIrXap2ZX\nnSFqa1FYW4cibZ34YD/xvwnuk18Jcbdvr8FyLlU+dNyKKrmWElD5mWTwwB1KdZ1N\nN9CN2GDahvx8fmdauraSmGsvoqSOQTaIsZCcPbL5dIVkmrzdK8eZeD9n4IpY5a/p\nDFGYoEFmAFcKjcWcV4/54kYVvDIK0kNnH+jCFjPmJp3nLfkXvLtUOS/b73tyi/4M\nKiEXCPB1K6Zk2f148tDaA6s4RLZIauk44Y4L0zAp8eAJ7o+PP7pK5SzdRl9/ROy0\nisz3LTFtgNWWgqe5hJPWBQXcn+VOOjS4ggdaeeXQA4ohlwhDA4yLhqrBSXrmeewP\nq/s6LL8nljw+LWdeQHR64KscRMudsZAh4/VMWXDJsafGO3UhBaM1bJB8QfCv6jVp\nAfOO2dQYMAI+w+1HbNWmaKtH/QM/RgvYhfHyQoJYFb08vo8YT1L9no24sMEq2RYk\nYv2KnRySHF/bdlHQ5WnhGFH5qANWaJ+rY0cwGKwG1mbpoFVj6NYKoISqlyaJJGDS\n0Gty/MkXR/J+1g9P4Yl3yH47d7Mktdotj0RAyrx1mwP2n8RlWGpQpPau3G/1aTYX\nkVCoMnKXvBPHkXlHVL6UiHTLFBqNaVTs7aoB/kugWHQMt5aLDfhu0ylkabSCXVR+\nmagi+VwXPnUQkrUiOPcGz2UxeIpdxKeKoQ0PdGK1KYEK4ucFX66q+benuHtu/I4m\nTW3sXp01OfZ5NGHkLm3gmIjNSwgMn9gJvaw7rn7y/8m0y3mmd870pw4enobhnSZl\nZFLwyQv0cDZz7wdIXa4k26rhT7upWZePGTMHmZ3tj5Ikwt+dhNvdPcgLZVtCl2vt\n0XEnExOxPSntNKRKaS9ct0gpSCoduVfORA3i6Y/FonBoowiN38ePCvOpZkID3iUm\nsiaxXFJFzRMIvMxzL5lh+u1z2WuYcRqf91Se6ea3dSHb2PUQJvwYKGtDgzE4oxK2\nVjwusnpfCEJGDDsr5EwKKSSJMSZxvks0bSJ4Xf8ZQWExim1ww0H3AMJztdi1KsSN\nJ4V06SGyQNv0zExE4P1in4FhXZn1R5FN47leAYXWmxjghZ98urjYXac/42rgLuxC\nPrAdceTeMjt4sauzrWht/N0DcHMZ6ypcfu0qQYYfjhAWKxksV7s47oY/sKunPRZd\naGY+HggWxuKxJbVsCGzv92ZnwesixA==\n=2XFG\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/353a3fdaad055eea42a0baf7326bdd591f541170",
          "sha": "353a3fdaad055eea42a0baf7326bdd591f541170",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/353a3fdaad055eea42a0baf7326bdd591f541170"
        }
      ],
      "message": "tor: make a TORv3 hidden service instead of TORv2\n\nTORv2 is deprecated [1], thus whenever we create the hidden service\nourselves create a TORv3 one instead.\n\n[1] https://blog.torproject.org/v2-deprecation-timeline",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2020-10-09T14:42:50Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2020-09-14T12:30:15Z"
      },
      "sha": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3860514458,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50Mzg2MDUxNDQ1OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3860514458",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-09T14:46:09Z"
    },
    {
      "event": "commented",
      "id": 706224142,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwNjIyNDE0Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/706224142",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-09T14:46:12Z",
      "updated_at": "2020-10-09T14:50:20Z",
      "author_association": "CONTRIBUTOR",
      "body": "Did some rewording of the release notes, mostly as suggested.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-706224142",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "commented",
      "id": 706316340,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwNjMxNjM0MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/706316340",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-09T17:43:05Z",
      "updated_at": "2020-10-09T17:43:05Z",
      "author_association": "MEMBER",
      "body": "Tested that spinning up a v3 onion and connecting to it still works as of dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5. The PR title should probably mention that we start using `sendaddrv2` here, with TorV3 just being the cherry on top.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-706316340",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "renamed",
      "id": 3861501771,
      "node_id": "MDE3OlJlbmFtZWRUaXRsZUV2ZW50Mzg2MTUwMTc3MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3861501771",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-09T19:21:03Z",
      "rename": {
        "from": "tor: complete the TORv3 implementation",
        "to": "Complete the BIP155 implementation and upgrade to TORv3"
      }
    },
    {
      "event": "reviewed",
      "id": 506041004,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2MDQxMDA0",
      "url": null,
      "actor": null,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Ongoing review, minor points so far.\r\n\r\nI do have a concern with a BIP about future extensions of the network IDs table. \r\n\r\nHow a BIP-155-with-extended-table node will learn the set of supported network IDs by a BIP-155-with-original-table peer and thus avoid to waste bandwidth on non-understood by receiver addresses ? \r\n\r\nI think this is independent of the question if a connection is established or not to the known network. Maybe `sendaddrv2` should have a version bit, this would avoid introducing `sendaddrvX` at each table update, as far as yet-to-added network address are under maximum v2 length.",
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#pullrequestreview-506041004",
      "submitted_at": "2020-10-10T01:10:40Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
    },
    {
      "event": "reviewed",
      "id": 506097102,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2MDk3MTAy",
      "url": null,
      "actor": null,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "re-ACK dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5, the node works flawlessly in all of the modes: Tor-only, clearnet-only, mixed.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#pullrequestreview-506097102",
      "submitted_at": "2020-10-10T13:21:32Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
    },
    {
      "event": "commented",
      "id": 706585308,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwNjU4NTMwOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/706585308",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-10T17:36:47Z",
      "updated_at": "2020-10-10T17:41:53Z",
      "author_association": "MEMBER",
      "body": "ACK dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5\r\n\r\nTwo small follow-ups (not blockers here):\r\n* Mention BIP155 support in `doc/bips.md`\r\n* Don't relay I2P/CJDNS in `RelayAddress` (until there is a sizable network that actually supports it)\r\n",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-706585308",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "commented",
      "id": 706590084,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwNjU5MDA4NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/706590084",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-10T18:14:52Z",
      "updated_at": "2020-10-12T12:30:54Z",
      "author_association": "CONTRIBUTOR",
      "body": "re-ACK dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5 per `git diff 9b56a68 dcf0cb4` only change since last review is an update to the release notes which partially picked up the suggested text. Running a node on this branch and addnode-ing to 6 other Tor v3 nodes, I see \"addrv2\" and \"sendaddrv2\" messages in getpeerinfo in both the \"bytesrecv_per_msg\" and \"bytessent_per_msg\" JSON objects.\r\n\r\n```\r\n    \"bytessent_per_msg\": {\r\n      \"addrv2\": 132,\r\n      \"feefilter\": 32,\r\n      \"getaddr\": 24,\r\n      \"getdata\": 3918,\r\n      \"getheaders\": 1053,\r\n      \"headers\": 25,\r\n      \"inv\": 30017,\r\n      \"ping\": 96,\r\n      \"pong\": 96,\r\n      \"sendaddrv2\": 24,\r\n      \"sendcmpct\": 66,\r\n      \"sendheaders\": 24,\r\n      \"verack\": 24,\r\n      \"version\": 127,\r\n      \"wtxidrelay\": 24\r\n    },\r\n    \"bytesrecv_per_msg\": {\r\n      \"addrv2\": 17444,\r\n      \"feefilter\": 32,\r\n      \"getheaders\": 1053,\r\n      \"headers\": 106,\r\n      \"inv\": 16996,\r\n      \"notfound\": 61,\r\n      \"ping\": 96,\r\n      \"pong\": 96,\r\n      \"sendaddrv2\": 24,\r\n      \"sendcmpct\": 66,\r\n      \"sendheaders\": 24,\r\n      \"tx\": 39740,\r\n      \"verack\": 24,\r\n      \"version\": 127,\r\n      \"wtxidrelay\": 24\r\n    },\r\n```\r\n",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-706590084",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "commented",
      "id": 706628217,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwNjYyODIxNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/706628217",
      "actor": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-11T00:04:46Z",
      "updated_at": "2020-10-11T00:04:46Z",
      "author_association": "MEMBER",
      "body": "Code Review ACK dcf0cb4",
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-706628217",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "merged",
      "id": 3863233692,
      "node_id": "MDExOk1lcmdlZEV2ZW50Mzg2MzIzMzY5Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3863233692",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "0b2abaa666d6f3331e3246ffd64dd47946e9dcdf",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0b2abaa666d6f3331e3246ffd64dd47946e9dcdf",
      "created_at": "2020-10-11T00:52:36Z"
    },
    {
      "event": "closed",
      "id": 3863233693,
      "node_id": "MDExOkNsb3NlZEV2ZW50Mzg2MzIzMzY5Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3863233693",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-11T00:52:36Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-11T11:13:57Z",
      "updated_at": "2020-10-11T11:13:57Z",
      "source": {
        "issue": {
          "id": 718776934,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NTAxMDkzMjQ3",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20119",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20119/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20119/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20119/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/20119",
          "number": 20119,
          "state": "closed",
          "state_reason": null,
          "title": "BIP155 follow-ups",
          "body": "This:\r\n* Documents BIP155 support in doc/bips.md\r\n* Restricts addrv2 relay to IPv4, IPv6, and Tor addresses. Relaying addresses in ranges that no network software has support for seems like a gratuitous spam vector.",
          "user": {
            "login": "sipa",
            "id": 548488,
            "node_id": "MDQ6VXNlcjU0ODQ4OA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sipa",
            "html_url": "https://github.com/sipa",
            "followers_url": "https://api.github.com/users/sipa/followers",
            "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
            "organizations_url": "https://api.github.com/users/sipa/orgs",
            "repos_url": "https://api.github.com/users/sipa/repos",
            "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/sipa/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 4,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20119",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/20119",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/20119.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/20119.patch"
          },
          "closed_at": "2020-10-12T07:48:02Z",
          "created_at": "2020-10-11T07:17:40Z",
          "updated_at": "2022-02-15T10:36:51Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_deleted",
      "id": 3863919385,
      "node_id": "MDE5OkhlYWRSZWZEZWxldGVkRXZlbnQzODYzOTE5Mzg1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3863919385",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-11T17:49:41Z"
    },
    {
      "event": "reviewed",
      "id": 506337899,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2MzM3ODk5",
      "url": null,
      "actor": null,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#pullrequestreview-506337899",
      "submitted_at": "2020-10-12T06:56:46Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-12T07:02:59Z",
      "updated_at": "2020-10-12T07:02:59Z",
      "source": {
        "issue": {
          "id": 719118094,
          "node_id": "MDU6SXNzdWU3MTkxMTgwOTQ=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20127",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20127/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20127/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20127/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/20127",
          "number": 20127,
          "state": "closed",
          "state_reason": "completed",
          "title": "Gitian build is broken after #19954",
          "body": "Comment from Marco [here](https://github.com/bitcoin/bitcoin/pull/19954#discussion_r503075378):\r\n> + make -C src --jobs=1 check-security V=1\r\nmake: Entering directory '/bitcoin/distsrc-x86_64-linux-gnu/src'\r\nChecking binary security...\r\nREADELF=/gnu/store/pzq9s5ldl90h72p26jkdakyccdg9ib3k-profile/bin/x86_64-linux-gnu-readelf OBJDUMP=x86_64-linux-gnu-objdump OTOOL= /gnu/store/pzq9s5ldl90h72p26jkdakyccdg9ib3k-profile/bin/python3.7 ../contrib/devtools/security-check.py bitcoind  bitcoin-cli bitcoin-tx bitcoin-wallet test/test_bitcoin bench/bench_bitcoin qt/bitcoin-qt  \r\nmake: Leaving directory '/bitcoin/distsrc-x86_64-linux-gnu/src'\r\n> + case \"$HOST\" in\r\n> + make -C src --jobs=1 check-symbols V=1\r\nmake: Entering directory '/bitcoin/distsrc-x86_64-linux-gnu/src'\r\nChecking glibc back compat...\r\nREADELF=/gnu/store/pzq9s5ldl90h72p26jkdakyccdg9ib3k-profile/bin/x86_64-linux-gnu-readelf CPPFILT=/gnu/store/pzq9s5ldl90h72p26jkdakyccdg9ib3k-profile/bin/x86_64-linux-gnu-c++filt /gnu/store/pzq9s5ldl90h72p26jkdakyccdg9ib3k-profile/bin/python3.7 ../contrib/devtools/symbol-check.py bitcoind  bitcoin-cli bitcoin-tx bitcoin-wallet test/test_bitcoin bench/bench_bitcoin qt/bitcoin-qt  \r\ntest/test_bitcoin: export of symbol in6addr_loopback not allowed\r\ntest/test_bitcoin: failed EXPORTED_SYMBOLS\r\nmake: *** [Makefile:20952: check-symbols] Error 1\r\nmake: Leaving directory '/bitcoin/distsrc-x86_64-linux-gnu/src'\r\n\r\n**test/test_bitcoin: export of symbol in6addr_loopback not allowed**",
          "user": {
            "login": "fanquake",
            "id": 863730,
            "node_id": "MDQ6VXNlcjg2MzczMA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fanquake",
            "html_url": "https://github.com/fanquake",
            "followers_url": "https://api.github.com/users/fanquake/followers",
            "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
            "organizations_url": "https://api.github.com/users/fanquake/orgs",
            "repos_url": "https://api.github.com/users/fanquake/repos",
            "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/fanquake/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 64585,
              "node_id": "MDU6TGFiZWw2NDU4NQ==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug",
              "name": "Bug",
              "color": "FBBAAB",
              "default": false
            },
            {
              "id": 61889416,
              "node_id": "MDU6TGFiZWw2MTg4OTQxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system",
              "name": "Build system",
              "color": "5319e7",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/45",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/45",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/45/labels",
            "id": 4914019,
            "node_id": "MDk6TWlsZXN0b25lNDkxNDAxOQ==",
            "number": 45,
            "state": "closed",
            "title": "0.21.0",
            "description": "",
            "creator": {
              "login": "laanwj",
              "id": 126646,
              "node_id": "MDQ6VXNlcjEyNjY0Ng==",
              "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/laanwj",
              "html_url": "https://github.com/laanwj",
              "followers_url": "https://api.github.com/users/laanwj/followers",
              "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
              "organizations_url": "https://api.github.com/users/laanwj/orgs",
              "repos_url": "https://api.github.com/users/laanwj/repos",
              "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/laanwj/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 132,
            "created_at": "2019-12-09T08:39:58Z",
            "updated_at": "2021-01-15T19:50:53Z",
            "closed_at": "2021-01-15T19:50:53Z"
          },
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 1,
          "closed_at": "2020-10-14T08:35:34Z",
          "created_at": "2020-10-12T07:02:59Z",
          "updated_at": "2022-02-15T10:48:07Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 707078873,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwNzA3ODg3Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/707078873",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-12T12:04:59Z",
      "updated_at": "2020-10-12T12:04:59Z",
      "author_association": "CONTRIBUTOR",
      "body": "Congratulations to everybody involved :tada: \r\n\r\nNotice - I did not write the BIP, did not write the code initially, did not do the reviews nor did I test it much or nag people to prioritize it. Yet, this got a clean specification, solid code, thorough reviews and testing and was merged in time for 0.21. A true team effort!\r\n\r\nJust Epic!",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#issuecomment-707078873",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19954"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-12T12:10:12Z",
      "updated_at": "2020-10-12T12:10:12Z",
      "source": {
        "issue": {
          "id": 191408144,
          "node_id": "MDU6SXNzdWUxOTE0MDgxNDQ=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9214",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9214/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9214/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9214/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/9214",
          "number": 9214,
          "state": "closed",
          "state_reason": "completed",
          "title": "ensure ADD_ONION implementation is compatible with upstream changes, next generation onion addresses",
          "body": "Very soon Tor will implement proposal 224, also known as next generation onion services.\r\n\r\nThis means the addresses will be bigger, whole keys (ed25519) base 32 encoded and with .onion at the end. \r\nExample: a1uik0w1gmfq3i5ievxdm9ceu27e88g6o7pe0rffdw9jmntwkdsd.onion\r\n\r\nThis means ADD_ONION:BEST will produce a new key (best which is ed25519) rather than RSA1024.\r\n\r\nBitcoin Core should fully support the new address types, or change torcontrol.cpp#L473 from ADD_ONION:BEST to ADD_ONION:RSA1024 . The 2 address types (RSA1024 and ed25519) will work simultaneously for a transition period, which means Bitcoin Core also has to support both to ensure working configurations do not break. \r\n\r\nThis affects new setups, nodes that previously generated a RSA1024 key and upgrade Tor should be able to preserve that key based on current code.",
          "user": {
            "login": "gits7r",
            "id": 6549887,
            "node_id": "MDQ6VXNlcjY1NDk4ODc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6549887?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gits7r",
            "html_url": "https://github.com/gits7r",
            "followers_url": "https://api.github.com/users/gits7r/followers",
            "following_url": "https://api.github.com/users/gits7r/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/gits7r/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/gits7r/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/gits7r/subscriptions",
            "organizations_url": "https://api.github.com/users/gits7r/orgs",
            "repos_url": "https://api.github.com/users/gits7r/repos",
            "events_url": "https://api.github.com/users/gits7r/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/gits7r/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            },
            {
              "id": 159815356,
              "node_id": "MDU6TGFiZWwxNTk4MTUzNTY=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Upstream",
              "name": "Upstream",
              "color": "bfd4f2",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "NONE",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 14,
          "closed_at": "2020-10-12T12:23:34Z",
          "created_at": "2016-11-24T00:25:22Z",
          "updated_at": "2022-02-15T10:48:01Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-12T14:05:47Z",
      "updated_at": "2020-10-12T14:05:47Z",
      "source": {
        "issue": {
          "id": 574707565,
          "node_id": "MDU6SXNzdWU1NzQ3MDc1NjU=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18254",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18254/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18254/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18254/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/18254",
          "number": 18254,
          "state": "closed",
          "state_reason": "completed",
          "title": "setting externalip=<version 3 onion address> results in error",
          "body": "Hi all!\r\n\r\nI have been running a Bitcoin node reachable via a onion address for a long time. Today I decided to upgrade to a Version 3 address, but encountered an error.\r\n\r\n`2020-03-03T Error: Cannot resolve -externalip address: 'rn2rjwuxfjzvjfkg2hmrduc2n7tjjpasrlianfskdhhhhfqqvf7kliyd.onion'`\r\n\r\nMy new bitcoin.conf file:\r\n```onion=127.0.0.1:9050\r\nlisten=1\r\nexternalip=rn2rjwuxfjzvjfkg2hmrduc2n7tjjpasrlianfskdhhhhfqqvf7kliyd.onion\r\n```\r\n\r\nMy old bitcoin.conf file:\r\n```onion=127.0.0.1:9050\r\nlisten=1\r\nexternalip=llljnatksfgtlhko.onion\r\n```\r\nThis works fine: `2020-03-03 AddLocal(llljnatksfgtlhko.onion:8333,4)`\r\n\r\nBitcoin Core version:\r\nv0.18.0.0-g2472733a24a9364e4c6233ccd04166a26a68cc65\r\n",
          "user": {
            "login": "Liongrass",
            "id": 2104935,
            "node_id": "MDQ6VXNlcjIxMDQ5MzU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2104935?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Liongrass",
            "html_url": "https://github.com/Liongrass",
            "followers_url": "https://api.github.com/users/Liongrass/followers",
            "following_url": "https://api.github.com/users/Liongrass/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/Liongrass/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/Liongrass/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/Liongrass/subscriptions",
            "organizations_url": "https://api.github.com/users/Liongrass/orgs",
            "repos_url": "https://api.github.com/users/Liongrass/repos",
            "events_url": "https://api.github.com/users/Liongrass/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/Liongrass/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "NONE",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 3,
          "closed_at": "2020-03-04T12:03:42Z",
          "created_at": "2020-03-03T14:28:54Z",
          "updated_at": "2022-02-15T10:48:02Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 521213719,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIxMjEzNzE5",
      "url": null,
      "actor": null,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#pullrequestreview-521213719",
      "submitted_at": "2020-11-01T11:06:29Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-02T11:04:12Z",
      "updated_at": "2020-11-02T11:04:12Z",
      "source": {
        "issue": {
          "id": 734410401,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NTEzOTc5MDIz",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20284",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20284/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20284/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20284/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/20284",
          "number": 20284,
          "state": "closed",
          "state_reason": null,
          "title": "addrman: ensure old versions don't parse peers.dat",
          "body": "Even though the format of `peers.dat` was changed in a backwards\r\nincompatible way, it is not guaranteed that old versions will fail to\r\nparse it. There is a chance that old versions parse its contents as\r\ngarbage and use it.\r\n\r\nOld versions expect the \"key size\" field to be 32 and fail the parsing\r\nif it is not. Thus, we put something other than 32 in it. This will make\r\nversions between 0.11.0 and 0.20.1 deterministically fail on the new\r\nformat. Versions prior to https://github.com/bitcoin/bitcoin/pull/5941\r\nwill still parse it as garbage.\r\n\r\nAlso, introduce a way to increment the `peers.dat` format in a way that\r\ndoes not necessary make older versions refuse to read it.\r\n",
          "user": {
            "login": "vasild",
            "id": 266751,
            "node_id": "MDQ6VXNlcjI2Njc1MQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vasild",
            "html_url": "https://github.com/vasild",
            "followers_url": "https://api.github.com/users/vasild/followers",
            "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
            "organizations_url": "https://api.github.com/users/vasild/orgs",
            "repos_url": "https://api.github.com/users/vasild/repos",
            "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/vasild/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/45",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/45",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/45/labels",
            "id": 4914019,
            "node_id": "MDk6TWlsZXN0b25lNDkxNDAxOQ==",
            "number": 45,
            "state": "closed",
            "title": "0.21.0",
            "description": "",
            "creator": {
              "login": "laanwj",
              "id": 126646,
              "node_id": "MDQ6VXNlcjEyNjY0Ng==",
              "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/laanwj",
              "html_url": "https://github.com/laanwj",
              "followers_url": "https://api.github.com/users/laanwj/followers",
              "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
              "organizations_url": "https://api.github.com/users/laanwj/orgs",
              "repos_url": "https://api.github.com/users/laanwj/repos",
              "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/laanwj/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 132,
            "created_at": "2019-12-09T08:39:58Z",
            "updated_at": "2021-01-15T19:50:53Z",
            "closed_at": "2021-01-15T19:50:53Z"
          },
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 21,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20284",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/20284",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/20284.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/20284.patch"
          },
          "closed_at": "2020-11-12T16:06:39Z",
          "created_at": "2020-11-02T11:03:21Z",
          "updated_at": "2022-02-15T10:37:54Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "lontivero",
        "id": 127973,
        "node_id": "MDQ6VXNlcjEyNzk3Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127973?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lontivero",
        "html_url": "https://github.com/lontivero",
        "followers_url": "https://api.github.com/users/lontivero/followers",
        "following_url": "https://api.github.com/users/lontivero/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/lontivero/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/lontivero/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/lontivero/subscriptions",
        "organizations_url": "https://api.github.com/users/lontivero/orgs",
        "repos_url": "https://api.github.com/users/lontivero/repos",
        "events_url": "https://api.github.com/users/lontivero/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/lontivero/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-16T20:13:24Z",
      "updated_at": "2020-11-16T20:13:24Z",
      "source": {
        "issue": {
          "id": 744149249,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NTIxOTIzMjY0",
          "url": "https://api.github.com/repos/MetacoSA/NBitcoin/issues/940",
          "repository_url": "https://api.github.com/repos/MetacoSA/NBitcoin",
          "labels_url": "https://api.github.com/repos/MetacoSA/NBitcoin/issues/940/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/MetacoSA/NBitcoin/issues/940/comments",
          "events_url": "https://api.github.com/repos/MetacoSA/NBitcoin/issues/940/events",
          "html_url": "https://github.com/MetacoSA/NBitcoin/pull/940",
          "number": 940,
          "state": "closed",
          "state_reason": null,
          "title": "BIP155 `sendaddrv2` and `addrv2`",
          "body": "Since September 15th Tor started warning onion service operators that v2 is deprecated. In part because of that Bitcoin Core has merged [PR 19954](https://github.com/bitcoin/bitcoin/pull/19954) that implements [BIP155 addrv2 message](https://github.com/bitcoin/bips/blob/master/bip-0155.mediawiki). The new p2p messages allow share nodes' endpoints other than ip:port (onion v3, I2P, etc).\r\n\r\nCurrently Wasabi connects to third-party nodes through v2 onion services only because v2 addresses can be encoded as IPv6 addresses (onioncat) what makes the connection transparent because it is the tor client the one that knows how to solve the real onion address.\r\n\r\nAfter onion services v2 are completely removed Wasabi will not be able to connect to third-party nodes any more.\r\n \r\n### This PR includes some WIP code that:\r\n\r\n* signals the preference for `addrv2` messages using `sendaddrv2`.\r\n* adds `addrv2` p2p messages.\r\n* adds SHA3 digest (the `NBitcoin.Altcoins` contains an implementation but moving that it is a big change)\r\n* adds code to keep backward compatibility.\r\n\r\n### Problems\r\n\r\nThe p2p code in NBitcoin uses `IPEndpoint` in many places and it seems we have to use the `NetworkAddress` instead and also know when it needs to use a proxy.\r\n\r\nAny commment, suggestion, clue or whatever that could help me to implement this is very much welcome.  ",
          "user": {
            "login": "lontivero",
            "id": 127973,
            "node_id": "MDQ6VXNlcjEyNzk3Mw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/127973?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/lontivero",
            "html_url": "https://github.com/lontivero",
            "followers_url": "https://api.github.com/users/lontivero/followers",
            "following_url": "https://api.github.com/users/lontivero/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/lontivero/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/lontivero/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/lontivero/subscriptions",
            "organizations_url": "https://api.github.com/users/lontivero/orgs",
            "repos_url": "https://api.github.com/users/lontivero/repos",
            "events_url": "https://api.github.com/users/lontivero/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/lontivero/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 7,
          "pull_request": {
            "url": "https://api.github.com/repos/MetacoSA/NBitcoin/pulls/940",
            "html_url": "https://github.com/MetacoSA/NBitcoin/pull/940",
            "diff_url": "https://github.com/MetacoSA/NBitcoin/pull/940.diff",
            "patch_url": "https://github.com/MetacoSA/NBitcoin/pull/940.patch"
          },
          "closed_at": "2020-12-09T16:54:32Z",
          "created_at": "2020-11-16T20:13:23Z",
          "updated_at": "2020-12-09T16:54:32Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-12-14T20:53:53Z",
      "updated_at": "2020-12-14T20:53:53Z",
      "source": {
        "issue": {
          "id": 765684230,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NTM5MDM0Mzkz",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20646",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20646/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20646/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20646/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/20646",
          "number": 20646,
          "state": "closed",
          "state_reason": null,
          "title": "doc: refer to BIPs 339/155 in feature negotiation",
          "body": "of `wtxidrelay` and `addrv2`/`sendaddrv2`, and add `fSuccessfullyConnected` doxygen documentation to clarify that it is set to true on VERACK.",
          "user": {
            "login": "jonatack",
            "id": 2415484,
            "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jonatack",
            "html_url": "https://github.com/jonatack",
            "followers_url": "https://api.github.com/users/jonatack/followers",
            "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
            "organizations_url": "https://api.github.com/users/jonatack/orgs",
            "repos_url": "https://api.github.com/users/jonatack/repos",
            "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/jonatack/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 36,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20646",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/20646",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/20646.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/20646.patch"
          },
          "closed_at": "2021-02-05T10:16:05Z",
          "created_at": "2020-12-13T22:37:18Z",
          "updated_at": "2022-08-16T17:03:52Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "lucasmoten",
        "id": 14304023,
        "node_id": "MDQ6VXNlcjE0MzA0MDIz",
        "avatar_url": "https://avatars.githubusercontent.com/u/14304023?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lucasmoten",
        "html_url": "https://github.com/lucasmoten",
        "followers_url": "https://api.github.com/users/lucasmoten/followers",
        "following_url": "https://api.github.com/users/lucasmoten/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/lucasmoten/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/lucasmoten/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/lucasmoten/subscriptions",
        "organizations_url": "https://api.github.com/users/lucasmoten/orgs",
        "repos_url": "https://api.github.com/users/lucasmoten/repos",
        "events_url": "https://api.github.com/users/lucasmoten/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/lucasmoten/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-17T06:29:52Z",
      "updated_at": "2021-01-17T06:29:52Z",
      "source": {
        "issue": {
          "id": 787406828,
          "node_id": "MDU6SXNzdWU3ODc0MDY4Mjg=",
          "url": "https://api.github.com/repos/raspibolt/raspibolt/issues/689",
          "repository_url": "https://api.github.com/repos/raspibolt/raspibolt",
          "labels_url": "https://api.github.com/repos/raspibolt/raspibolt/issues/689/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/raspibolt/raspibolt/issues/689/comments",
          "events_url": "https://api.github.com/repos/raspibolt/raspibolt/issues/689/events",
          "html_url": "https://github.com/raspibolt/raspibolt/issues/689",
          "number": 689,
          "state": "closed",
          "state_reason": "completed",
          "title": "Bitcoin Core 0.21.0",
          "body": "Just upgraded to the latest Bitcoin core version and now my TOR V3 address score is stuck at 4. Also, I get 0 inbound connections. Outbound connections are solid 10. \n\nAny ideas?",
          "user": {
            "login": "captCovalent",
            "id": 29493544,
            "node_id": "MDQ6VXNlcjI5NDkzNTQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/29493544?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/captCovalent",
            "html_url": "https://github.com/captCovalent",
            "followers_url": "https://api.github.com/users/captCovalent/followers",
            "following_url": "https://api.github.com/users/captCovalent/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/captCovalent/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/captCovalent/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/captCovalent/subscriptions",
            "organizations_url": "https://api.github.com/users/captCovalent/orgs",
            "repos_url": "https://api.github.com/users/captCovalent/repos",
            "events_url": "https://api.github.com/users/captCovalent/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/captCovalent/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "NONE",
          "locked": false,
          "comments": 20,
          "closed_at": "2021-11-27T10:22:31Z",
          "created_at": "2021-01-16T09:06:21Z",
          "updated_at": "2021-11-27T10:22:31Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 4318603604,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQzMTg2MDM2MDQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4318603604",
      "actor": {
        "login": "Fabcien",
        "id": 44533924,
        "node_id": "MDQ6VXNlcjQ0NTMzOTI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/44533924?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Fabcien",
        "html_url": "https://github.com/Fabcien",
        "followers_url": "https://api.github.com/users/Fabcien/followers",
        "following_url": "https://api.github.com/users/Fabcien/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Fabcien/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Fabcien/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Fabcien/subscriptions",
        "organizations_url": "https://api.github.com/users/Fabcien/orgs",
        "repos_url": "https://api.github.com/users/Fabcien/repos",
        "events_url": "https://api.github.com/users/Fabcien/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Fabcien/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "9f2f484d69d2d3f5cc5da0580c2972696dfd282f",
      "commit_url": "https://api.github.com/repos/Bitcoin-ABC/bitcoin-abc/commits/9f2f484d69d2d3f5cc5da0580c2972696dfd282f",
      "created_at": "2021-02-11T08:26:52Z"
    },
    {
      "event": "referenced",
      "id": 4318603606,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQzMTg2MDM2MDY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4318603606",
      "actor": {
        "login": "Fabcien",
        "id": 44533924,
        "node_id": "MDQ6VXNlcjQ0NTMzOTI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/44533924?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Fabcien",
        "html_url": "https://github.com/Fabcien",
        "followers_url": "https://api.github.com/users/Fabcien/followers",
        "following_url": "https://api.github.com/users/Fabcien/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Fabcien/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Fabcien/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Fabcien/subscriptions",
        "organizations_url": "https://api.github.com/users/Fabcien/orgs",
        "repos_url": "https://api.github.com/users/Fabcien/repos",
        "events_url": "https://api.github.com/users/Fabcien/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Fabcien/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "e9b2955f860d6391c5431c08e083aaf8dc66b5a7",
      "commit_url": "https://api.github.com/repos/Bitcoin-ABC/bitcoin-abc/commits/e9b2955f860d6391c5431c08e083aaf8dc66b5a7",
      "created_at": "2021-02-11T08:26:52Z"
    },
    {
      "event": "referenced",
      "id": 4318623095,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQzMTg2MjMwOTU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4318623095",
      "actor": {
        "login": "Fabcien",
        "id": 44533924,
        "node_id": "MDQ6VXNlcjQ0NTMzOTI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/44533924?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Fabcien",
        "html_url": "https://github.com/Fabcien",
        "followers_url": "https://api.github.com/users/Fabcien/followers",
        "following_url": "https://api.github.com/users/Fabcien/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Fabcien/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Fabcien/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Fabcien/subscriptions",
        "organizations_url": "https://api.github.com/users/Fabcien/orgs",
        "repos_url": "https://api.github.com/users/Fabcien/repos",
        "events_url": "https://api.github.com/users/Fabcien/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Fabcien/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "15f4d6097a4a34a0d437e26e785fa55c0eb695c4",
      "commit_url": "https://api.github.com/repos/Bitcoin-ABC/bitcoin-abc/commits/15f4d6097a4a34a0d437e26e785fa55c0eb695c4",
      "created_at": "2021-02-11T08:32:36Z"
    },
    {
      "event": "referenced",
      "id": 4318623099,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQzMTg2MjMwOTk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4318623099",
      "actor": {
        "login": "Fabcien",
        "id": 44533924,
        "node_id": "MDQ6VXNlcjQ0NTMzOTI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/44533924?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Fabcien",
        "html_url": "https://github.com/Fabcien",
        "followers_url": "https://api.github.com/users/Fabcien/followers",
        "following_url": "https://api.github.com/users/Fabcien/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Fabcien/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Fabcien/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Fabcien/subscriptions",
        "organizations_url": "https://api.github.com/users/Fabcien/orgs",
        "repos_url": "https://api.github.com/users/Fabcien/repos",
        "events_url": "https://api.github.com/users/Fabcien/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Fabcien/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "6ade7a6442a3a7ae2e3b10102a7fd6f58dbca93d",
      "commit_url": "https://api.github.com/repos/Bitcoin-ABC/bitcoin-abc/commits/6ade7a6442a3a7ae2e3b10102a7fd6f58dbca93d",
      "created_at": "2021-02-11T08:32:36Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "kwvg",
        "id": 63189531,
        "node_id": "MDQ6VXNlcjYzMTg5NTMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/63189531?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kwvg",
        "html_url": "https://github.com/kwvg",
        "followers_url": "https://api.github.com/users/kwvg/followers",
        "following_url": "https://api.github.com/users/kwvg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kwvg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kwvg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kwvg/subscriptions",
        "organizations_url": "https://api.github.com/users/kwvg/orgs",
        "repos_url": "https://api.github.com/users/kwvg/repos",
        "events_url": "https://api.github.com/users/kwvg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kwvg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-08T20:12:41Z",
      "updated_at": "2021-03-08T20:12:41Z",
      "source": {
        "issue": {
          "id": 824911747,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NTg3MDY5MDQ5",
          "url": "https://api.github.com/repos/dashpay/dash/issues/4025",
          "repository_url": "https://api.github.com/repos/dashpay/dash",
          "labels_url": "https://api.github.com/repos/dashpay/dash/issues/4025/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/dashpay/dash/issues/4025/comments",
          "events_url": "https://api.github.com/repos/dashpay/dash/issues/4025/events",
          "html_url": "https://github.com/dashpay/dash/pull/4025",
          "number": 4025,
          "state": "closed",
          "state_reason": null,
          "title": "partial #8149 and merge #19845, #19954: Complete the BIP155 implementation and upgrade to TORv3",
          "body": "## Overview\r\n\r\nContinuing the work from https://github.com/dashpay/dash/pull/3939 to ensure that Tor support is available after the deprecation of Torv2 ([source](https://blog.torproject.org/v2-deprecation-timeline)). More information about it is available at https://github.com/bitcoin/bitcoin/issues/18884.\r\n\r\nThis PR attempts to implement https://github.com/bitcoin/bitcoin/pull/19031 (which were split into various pull requests for ease of review) so that Torv3 support is available in Core. \r\n\r\n## Contents\r\n\r\nThe PR heavily relies upon functionality that _wasn't been implemented then, requiring multiple dependencies_. Therefore, those features have also been backported and logged accordingly.\r\n\r\n### Dependencies needed by https://github.com/bitcoin/bitcoin/pull/19031\r\n\r\n* ~~Merge https://github.com/bitcoin/bitcoin/pull/16702 (\"p2p: supplying and using asmap to improve IP bucketing in addrman\" by naumenkogs)~~\r\n\r\n* ~~Merge https://github.com/bitcoin/bitcoin/pull/17812 (\"config, net, test: asmap feature refinements and functional tests\" by fanquake)~~\r\n\r\n* ~~Merge https://github.com/bitcoin/bitcoin/pull/16730 (\"Support serialization of std::vector<bool>\" by sipa)~~\r\n\r\n  * **Segmented and available for review as https://github.com/dashpay/dash/pull/4028**\r\n\r\n* ~~Merge https://github.com/bitcoin/bitcoin/pull/13815 (\"util: Add [[nodiscard]] to all {Decode,Parse}[...](...) functions returning bool\" by practicalswift)~~\r\n\r\n  *  **Segmented and available for review as https://github.com/dashpay/dash/pull/4035**\r\n\r\n* ~~Partial merge https://github.com/bitcoin/bitcoin/pull/13697 (\"Support output descriptors in scantxoutset\" by sipa)~~\r\n* ~~Mostly merge https://github.com/bitcoin/bitcoin/pull/18591 (\"Add C++17 build to Travis\" by sipa)~~\r\n* ~~Mostly merge https://github.com/bitcoin/bitcoin/pull/19387 (\"span: update constructors to match c++20 draft spec and add lifetimebound attribute\" by theuni)~~\r\n\r\n  *  **Segmented and available for review as https://github.com/dashpay/dash/pull/4036**\r\n\r\n* ~~Mostly merge https://github.com/bitcoin/bitcoin/pull/18112 (\"Serialization improvements step 5 (blockencodings)\" by sipa)~~\r\n* ~~Partial merge https://github.com/bitcoin/bitcoin/pull/18021 (\"Serialization improvements step 4 (undo.h)\" by sipa)~~\r\n  *  **Segmented and available for review as https://github.com/dashpay/dash/pull/4037**\r\n\r\n* ~~Merge  https://github.com/bitcoin/bitcoin/pull/19660 (\"refactor: Make HexStr take a span\" by laanwj)~~\r\n* ~~Merge https://github.com/bitcoin/bitcoin/pull/19373 (\"refactor: Replace HexStr(o.begin(), o.end()) with HexStr(o)\" by laanwj, using script documented by [MarcoFalke](https://github.com/bitcoin/bitcoin/pull/19373#issuecomment-648988027))~~\r\n* ~~Merge https://github.com/bitcoin/bitcoin/pull/19841 (\"Implement Keccak and SHA3_256\" by laanwj)~~\r\n   *  **Segmented and available for review as https://github.com/dashpay/dash/pull/4164**\r\n \r\n* ~~Merge https://github.com/bitcoin/bitcoin/pull/19687 (\"refactor: make EncodeBase{32,64} consume Spans\" by theStack)~~\r\n  *  **Segmented and available for review as https://github.com/dashpay/dash/pull/4166**\r\n\r\n### As part of https://github.com/bitcoin/bitcoin/pull/19031\r\n\r\n* ~~https://github.com/bitcoin/bitcoin/pull/19954 (\"Complete the BIP155 implementation and upgrade to TORv3\" by vasild)~~\r\n* ~~https://github.com/bitcoin/bitcoin/pull/19845 (\"net: CNetAddr: add support to (un)serialize as ADDRv2\" by vasild)~~\r\n  * **Segmented and available for review as #4025 (this pull request)**\r\n\r\n* ~~https://github.com/bitcoin/bitcoin/pull/19628 (\"net: change CNetAddr::ip to have flexible size\" by vasild)~~\r\n  *  **Segmented and available for review as https://github.com/dashpay/dash/pull/4166**\r\n# Disclosures\r\n\r\n* **This is a work in progress**. Dash-specific changes have not been tested, only compilation and unit test success has been ensured. Running the client on a testnet _is_ necessary.\r\n* ~~Tests fail. I do not know why, I do not know how. They fail.~~ No, they don't :)\r\n* I am not too familiar with serialization logic and it is _possible_ that some of the code will break.\r\n\r\n## Changes that need review\r\n\r\n* `SerializationOp`'s handling of `nServices` in `CAddress` https://github.com/dashpay/dash/commit/28878d3712829c0d58d97c67d49eb745185be0b4#diff-8e2ffc8fe0e0847a6aac311a93b2faeebd2d76ddb2c81741bb8cf7448287807eR381\r\n\r\n",
          "user": {
            "login": "kwvg",
            "id": 63189531,
            "node_id": "MDQ6VXNlcjYzMTg5NTMx",
            "avatar_url": "https://avatars.githubusercontent.com/u/63189531?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kwvg",
            "html_url": "https://github.com/kwvg",
            "followers_url": "https://api.github.com/users/kwvg/followers",
            "following_url": "https://api.github.com/users/kwvg/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/kwvg/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/kwvg/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/kwvg/subscriptions",
            "organizations_url": "https://api.github.com/users/kwvg/orgs",
            "repos_url": "https://api.github.com/users/kwvg/repos",
            "events_url": "https://api.github.com/users/kwvg/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/kwvg/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "COLLABORATOR",
          "locked": false,
          "comments": 2,
          "pull_request": {
            "url": "https://api.github.com/repos/dashpay/dash/pulls/4025",
            "html_url": "https://github.com/dashpay/dash/pull/4025",
            "diff_url": "https://github.com/dashpay/dash/pull/4025.diff",
            "patch_url": "https://github.com/dashpay/dash/pull/4025.patch"
          },
          "closed_at": "2021-05-30T05:38:54Z",
          "created_at": "2021-03-08T20:12:41Z",
          "updated_at": "2021-06-05T05:30:39Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 4790179547,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ3OTAxNzk1NDc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4790179547",
      "actor": {
        "login": "kwvg",
        "id": 63189531,
        "node_id": "MDQ6VXNlcjYzMTg5NTMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/63189531?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kwvg",
        "html_url": "https://github.com/kwvg",
        "followers_url": "https://api.github.com/users/kwvg/followers",
        "following_url": "https://api.github.com/users/kwvg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kwvg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kwvg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kwvg/subscriptions",
        "organizations_url": "https://api.github.com/users/kwvg/orgs",
        "repos_url": "https://api.github.com/users/kwvg/repos",
        "events_url": "https://api.github.com/users/kwvg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kwvg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "c0b91501dfddad87a74022eae9b48b35c406fdcb",
      "commit_url": "https://api.github.com/repos/kwvg/dash/commits/c0b91501dfddad87a74022eae9b48b35c406fdcb",
      "created_at": "2021-05-25T05:36:40Z"
    },
    {
      "event": "referenced",
      "id": 4790187284,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ3OTAxODcyODQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4790187284",
      "actor": {
        "login": "kwvg",
        "id": 63189531,
        "node_id": "MDQ6VXNlcjYzMTg5NTMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/63189531?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kwvg",
        "html_url": "https://github.com/kwvg",
        "followers_url": "https://api.github.com/users/kwvg/followers",
        "following_url": "https://api.github.com/users/kwvg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kwvg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kwvg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kwvg/subscriptions",
        "organizations_url": "https://api.github.com/users/kwvg/orgs",
        "repos_url": "https://api.github.com/users/kwvg/repos",
        "events_url": "https://api.github.com/users/kwvg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kwvg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "81741adc9278380d86d6c9642f663d5be4fce140",
      "commit_url": "https://api.github.com/repos/kwvg/dash/commits/81741adc9278380d86d6c9642f663d5be4fce140",
      "created_at": "2021-05-25T05:38:59Z"
    },
    {
      "event": "referenced",
      "id": 4792988816,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ3OTI5ODg4MTY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4792988816",
      "actor": {
        "login": "kwvg",
        "id": 63189531,
        "node_id": "MDQ6VXNlcjYzMTg5NTMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/63189531?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kwvg",
        "html_url": "https://github.com/kwvg",
        "followers_url": "https://api.github.com/users/kwvg/followers",
        "following_url": "https://api.github.com/users/kwvg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kwvg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kwvg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kwvg/subscriptions",
        "organizations_url": "https://api.github.com/users/kwvg/orgs",
        "repos_url": "https://api.github.com/users/kwvg/repos",
        "events_url": "https://api.github.com/users/kwvg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kwvg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "33fa22b85cdaa5302627823b067a209cad9cb0a4",
      "commit_url": "https://api.github.com/repos/kwvg/dash/commits/33fa22b85cdaa5302627823b067a209cad9cb0a4",
      "created_at": "2021-05-25T14:08:58Z"
    },
    {
      "event": "referenced",
      "id": 4793164360,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ3OTMxNjQzNjA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4793164360",
      "actor": {
        "login": "kwvg",
        "id": 63189531,
        "node_id": "MDQ6VXNlcjYzMTg5NTMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/63189531?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kwvg",
        "html_url": "https://github.com/kwvg",
        "followers_url": "https://api.github.com/users/kwvg/followers",
        "following_url": "https://api.github.com/users/kwvg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kwvg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kwvg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kwvg/subscriptions",
        "organizations_url": "https://api.github.com/users/kwvg/orgs",
        "repos_url": "https://api.github.com/users/kwvg/repos",
        "events_url": "https://api.github.com/users/kwvg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kwvg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "4df4517bcae11b76ddaac4fccceca3eae31dbf9e",
      "commit_url": "https://api.github.com/repos/kwvg/dash/commits/4df4517bcae11b76ddaac4fccceca3eae31dbf9e",
      "created_at": "2021-05-25T14:34:38Z"
    },
    {
      "event": "referenced",
      "id": 4810952595,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ4MTA5NTI1OTU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4810952595",
      "actor": {
        "login": "UdjinM6",
        "id": 1935069,
        "node_id": "MDQ6VXNlcjE5MzUwNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1935069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/UdjinM6",
        "html_url": "https://github.com/UdjinM6",
        "followers_url": "https://api.github.com/users/UdjinM6/followers",
        "following_url": "https://api.github.com/users/UdjinM6/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/UdjinM6/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/UdjinM6/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/UdjinM6/subscriptions",
        "organizations_url": "https://api.github.com/users/UdjinM6/orgs",
        "repos_url": "https://api.github.com/users/UdjinM6/repos",
        "events_url": "https://api.github.com/users/UdjinM6/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/UdjinM6/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "f5b4b28afe2417d0a9cd245ddd866ef78829765c",
      "commit_url": "https://api.github.com/repos/UdjinM6/dash/commits/f5b4b28afe2417d0a9cd245ddd866ef78829765c",
      "created_at": "2021-05-28T08:40:19Z"
    },
    {
      "event": "referenced",
      "id": 4811748747,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ4MTE3NDg3NDc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4811748747",
      "actor": {
        "login": "UdjinM6",
        "id": 1935069,
        "node_id": "MDQ6VXNlcjE5MzUwNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1935069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/UdjinM6",
        "html_url": "https://github.com/UdjinM6",
        "followers_url": "https://api.github.com/users/UdjinM6/followers",
        "following_url": "https://api.github.com/users/UdjinM6/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/UdjinM6/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/UdjinM6/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/UdjinM6/subscriptions",
        "organizations_url": "https://api.github.com/users/UdjinM6/orgs",
        "repos_url": "https://api.github.com/users/UdjinM6/repos",
        "events_url": "https://api.github.com/users/UdjinM6/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/UdjinM6/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "fff5fcfd95443f91a7e258757ff6801ffe38f53c",
      "commit_url": "https://api.github.com/repos/UdjinM6/dash/commits/fff5fcfd95443f91a7e258757ff6801ffe38f53c",
      "created_at": "2021-05-28T11:04:05Z"
    },
    {
      "event": "referenced",
      "id": 4816410225,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ4MTY0MTAyMjU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4816410225",
      "actor": {
        "login": "UdjinM6",
        "id": 1935069,
        "node_id": "MDQ6VXNlcjE5MzUwNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1935069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/UdjinM6",
        "html_url": "https://github.com/UdjinM6",
        "followers_url": "https://api.github.com/users/UdjinM6/followers",
        "following_url": "https://api.github.com/users/UdjinM6/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/UdjinM6/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/UdjinM6/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/UdjinM6/subscriptions",
        "organizations_url": "https://api.github.com/users/UdjinM6/orgs",
        "repos_url": "https://api.github.com/users/UdjinM6/repos",
        "events_url": "https://api.github.com/users/UdjinM6/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/UdjinM6/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "680067ce7ac185741084bdcd1f6d8a3a444f17a2",
      "commit_url": "https://api.github.com/repos/UdjinM6/dash/commits/680067ce7ac185741084bdcd1f6d8a3a444f17a2",
      "created_at": "2021-05-29T20:25:10Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-07T14:57:01Z",
      "updated_at": "2021-06-07T14:57:01Z",
      "source": {
        "issue": {
          "id": 913645538,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NjYzNjQ2MDcz",
          "url": "https://api.github.com/repos/PIVX-Project/PIVX/issues/2411",
          "repository_url": "https://api.github.com/repos/PIVX-Project/PIVX",
          "labels_url": "https://api.github.com/repos/PIVX-Project/PIVX/issues/2411/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/PIVX-Project/PIVX/issues/2411/comments",
          "events_url": "https://api.github.com/repos/PIVX-Project/PIVX/issues/2411/events",
          "html_url": "https://github.com/PIVX-Project/PIVX/pull/2411",
          "number": 2411,
          "state": "closed",
          "state_reason": null,
          "title": "Road to Tor v3 support (BIP155)",
          "body": "Conjunction of a large number of back ports, updates and refactorings that made with the final goal of implementing v3 Onion addresses support (BIP155 https://github.com/bitcoin/bips/blob/master/bip-0155.mediawiki) before the tor v2 addresses EOL, scheduled, by the Tor project, for (1) July 15th: v2 addr support removal from the code base, and (2) October 15th: v2 addr network disable, where **every peer in our network running under Tor will loose the connection and drop the network**.\r\n\r\nAs BIP155 describes, this is introducing a new P2P message to gossip longer node addresses over the P2P network. This is required to support new-generation Onion addresses, I2P, and potentially other networks that have longer endpoint addresses than fit in the 128 bits of the current addr message.\r\n\r\nIn order to achieve the end goal, had to:\r\n1.  Create Span class and push it up to latest Bitcoin implementation. \r\n2.  Update the whole serialization framework and every object using it up to latest Bitcoin implementation (3-4 years ahead of what we currently are in master).\r\n3.  Update the address manager implementing ASN-based bucketing of the network nodes.\r\n4.  Update and refactor the netAddress and address manager tests to latest Bitcoin implementation (4 years ahead of what we currently are in master).\r\n5.  Several util string, vector, encodings, parsing, hashing backports and more..\r\n\r\nImportant note: \r\nThis PR it is not meant to be merged as a standalone PR, will decouple smaller ones moving on. Adding on each sub-PR its own description isolated from this big monster.\r\n\r\nSecond note:\r\nThis is still a **work-in-progress**, not ready for testing yet. I'm probably missing to mention few PRs that have already adapted to our sources. Just making it public so can decouple the changes, we can start merging them and i can continue working a bit more confortable (rebase a +170 commits separate branch is not fun..).\r\n\r\n### List of back ported and adapted PRs:\r\n\r\nSpan and Serialization:\r\n----------------\r\n*  #12886.\r\n*  #12916.\r\n*  #13558.\r\n*  #13697. (Only Span's commit 29943a90)\r\n*  #17850.\r\n*  #17896.\r\n*  #12752.\r\n*  #16577.\r\n*  #16670. (without faebf627)\r\n*  #17957.\r\n*  #18021.\r\n*  #18087.\r\n*  #18112 (only from 353f3762 that we don't support).\r\n*  #18167.\r\n*  #18317.\r\n*  #18591 (only Span's commit 0fbde488)\r\n*  #18468.\r\n*  #19020.\r\n*  #19032.\r\n*  #19367.\r\n*  #19387.\r\n\r\nNet, NetAddress and AddrMan:\r\n----------------\r\n\r\n*  #7932.\r\n*  #10756.\r\n*  #10765.\r\n*  #12218.\r\n*  #12855.\r\n*  #13532.\r\n*  #13575.\r\n*  #13815.\r\n*  #14532.\r\n*  #15051.\r\n*  #15138.\r\n*  #15689.\r\n*  #16702.\r\n*  #17243.\r\n*  #17345.\r\n*  #17754.\r\n*  #17758.\r\n*  #17812.\r\n*  #18023.\r\n*  #18454.\r\n*  #18512.\r\n*  #19314.\r\n*  #19687\r\n\r\nKeys and Addresses encoding:\r\n----------------\r\n* #11372.\r\n* #17511.\r\n* #17721.\r\n\r\nUtil:\r\n----------------\r\n* #9140.\r\n* #16577.\r\n* #16889.\r\n* #19593.\r\n\r\nBench:\r\n----------------\r\n* #16299.\r\n\r\nBIP155:\r\n----------------\r\n*  #19351.\r\n*  #19360.\r\n*  #19534.\r\n*  #19628.\r\n*  #19841.\r\n*  #19845.\r\n*  #19954.\r\n*  #19991 (pending).\r\n*  #19845.\r\n*  #20000 (pending).\r\n*  #20120.\r\n*  #20284.\r\n*  #20564.\r\n*  #21157 (pending).\r\n*  #21564 (pending).\r\n*  Fully removed v2 onion addr support.\r\n*  Add hardcoded seeds.\r\n*  Add release-notes, changes to files.md and every needed documentation.\r\n\r\nI'm currently working on the PRs marked as \"pending\", this isn't over, but I'm pretty pretty close :). What a long road..",
          "user": {
            "login": "furszy",
            "id": 5377650,
            "node_id": "MDQ6VXNlcjUzNzc2NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/furszy",
            "html_url": "https://github.com/furszy",
            "followers_url": "https://api.github.com/users/furszy/followers",
            "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
            "organizations_url": "https://api.github.com/users/furszy/orgs",
            "repos_url": "https://api.github.com/users/furszy/repos",
            "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/furszy/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 566256651,
              "node_id": "MDU6TGFiZWw1NjYyNTY2NTE=",
              "url": "https://api.github.com/repos/PIVX-Project/PIVX/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            },
            {
              "id": 566257187,
              "node_id": "MDU6TGFiZWw1NjYyNTcxODc=",
              "url": "https://api.github.com/repos/PIVX-Project/PIVX/labels/Upstream",
              "name": "Upstream",
              "color": "bfd4f2",
              "default": false
            },
            {
              "id": 577484685,
              "node_id": "MDU6TGFiZWw1Nzc0ODQ2ODU=",
              "url": "https://api.github.com/repos/PIVX-Project/PIVX/labels/Docs%20and%20Output",
              "name": "Docs and Output",
              "color": "02d7e1",
              "default": false
            },
            {
              "id": 608273048,
              "node_id": "MDU6TGFiZWw2MDgyNzMwNDg=",
              "url": "https://api.github.com/repos/PIVX-Project/PIVX/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            },
            {
              "id": 816679263,
              "node_id": "MDU6TGFiZWw4MTY2NzkyNjM=",
              "url": "https://api.github.com/repos/PIVX-Project/PIVX/labels/Network",
              "name": "Network",
              "color": "f9d0c4",
              "default": false
            },
            {
              "id": 826053417,
              "node_id": "MDU6TGFiZWw4MjYwNTM0MTc=",
              "url": "https://api.github.com/repos/PIVX-Project/PIVX/labels/Protocol-Update",
              "name": "Protocol-Update",
              "color": "ff0000",
              "default": false
            }
          ],
          "assignee": {
            "login": "furszy",
            "id": 5377650,
            "node_id": "MDQ6VXNlcjUzNzc2NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/furszy",
            "html_url": "https://github.com/furszy",
            "followers_url": "https://api.github.com/users/furszy/followers",
            "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
            "organizations_url": "https://api.github.com/users/furszy/orgs",
            "repos_url": "https://api.github.com/users/furszy/repos",
            "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/furszy/received_events",
            "type": "User",
            "site_admin": false
          },
          "assignees": [
            {
              "login": "furszy",
              "id": 5377650,
              "node_id": "MDQ6VXNlcjUzNzc2NTA=",
              "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/furszy",
              "html_url": "https://github.com/furszy",
              "followers_url": "https://api.github.com/users/furszy/followers",
              "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
              "organizations_url": "https://api.github.com/users/furszy/orgs",
              "repos_url": "https://api.github.com/users/furszy/repos",
              "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/furszy/received_events",
              "type": "User",
              "site_admin": false
            }
          ],
          "author_association": "NONE",
          "milestone": {
            "url": "https://api.github.com/repos/PIVX-Project/PIVX/milestones/32",
            "html_url": "https://github.com/PIVX-Project/PIVX/milestone/32",
            "labels_url": "https://api.github.com/repos/PIVX-Project/PIVX/milestones/32/labels",
            "id": 6590958,
            "node_id": "MDk6TWlsZXN0b25lNjU5MDk1OA==",
            "number": 32,
            "state": "closed",
            "title": "5.3.0",
            "description": "",
            "creator": {
              "login": "random-zebra",
              "id": 18186894,
              "node_id": "MDQ6VXNlcjE4MTg2ODk0",
              "avatar_url": "https://avatars.githubusercontent.com/u/18186894?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/random-zebra",
              "html_url": "https://github.com/random-zebra",
              "followers_url": "https://api.github.com/users/random-zebra/followers",
              "following_url": "https://api.github.com/users/random-zebra/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/random-zebra/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/random-zebra/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/random-zebra/subscriptions",
              "organizations_url": "https://api.github.com/users/random-zebra/orgs",
              "repos_url": "https://api.github.com/users/random-zebra/repos",
              "events_url": "https://api.github.com/users/random-zebra/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/random-zebra/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 187,
            "created_at": "2021-03-25T15:12:45Z",
            "updated_at": "2021-08-30T19:28:54Z",
            "closed_at": "2021-08-30T19:28:54Z",
            "due_on": "2021-08-15T07:00:00Z"
          },
          "locked": false,
          "comments": 19,
          "pull_request": {
            "url": "https://api.github.com/repos/PIVX-Project/PIVX/pulls/2411",
            "html_url": "https://github.com/PIVX-Project/PIVX/pull/2411",
            "diff_url": "https://github.com/PIVX-Project/PIVX/pull/2411.diff",
            "patch_url": "https://github.com/PIVX-Project/PIVX/pull/2411.patch"
          },
          "closed_at": "2021-08-11T10:09:46Z",
          "created_at": "2021-06-07T14:56:59Z",
          "updated_at": "2022-11-29T15:44:51Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "fdoving",
        "id": 26197922,
        "node_id": "MDQ6VXNlcjI2MTk3OTIy",
        "avatar_url": "https://avatars.githubusercontent.com/u/26197922?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fdoving",
        "html_url": "https://github.com/fdoving",
        "followers_url": "https://api.github.com/users/fdoving/followers",
        "following_url": "https://api.github.com/users/fdoving/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fdoving/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fdoving/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fdoving/subscriptions",
        "organizations_url": "https://api.github.com/users/fdoving/orgs",
        "repos_url": "https://api.github.com/users/fdoving/repos",
        "events_url": "https://api.github.com/users/fdoving/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fdoving/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-11T21:23:09Z",
      "updated_at": "2021-06-11T21:23:09Z",
      "source": {
        "issue": {
          "id": 919220087,
          "node_id": "MDU6SXNzdWU5MTkyMjAwODc=",
          "url": "https://api.github.com/repos/RavenProject/Ravencoin/issues/1062",
          "repository_url": "https://api.github.com/repos/RavenProject/Ravencoin",
          "labels_url": "https://api.github.com/repos/RavenProject/Ravencoin/issues/1062/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/RavenProject/Ravencoin/issues/1062/comments",
          "events_url": "https://api.github.com/repos/RavenProject/Ravencoin/issues/1062/events",
          "html_url": "https://github.com/RavenProject/Ravencoin/issues/1062",
          "number": 1062,
          "state": "open",
          "state_reason": null,
          "title": "Add support for TOR V3",
          "body": "V2 being deprecated.\r\nhttps://blog.torproject.org/v2-deprecation-timeline\r\n\r\nAdded to BTC\r\nAdded to DASH - https://github.com/dashpay/dash/pull/4025/commits/c8e14a3e41534450a3ed8105ae3f13d41f3232c5\r\n",
          "user": {
            "login": "TronBlack",
            "id": 9275874,
            "node_id": "MDQ6VXNlcjkyNzU4NzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9275874?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TronBlack",
            "html_url": "https://github.com/TronBlack",
            "followers_url": "https://api.github.com/users/TronBlack/followers",
            "following_url": "https://api.github.com/users/TronBlack/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/TronBlack/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/TronBlack/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/TronBlack/subscriptions",
            "organizations_url": "https://api.github.com/users/TronBlack/orgs",
            "repos_url": "https://api.github.com/users/TronBlack/repos",
            "events_url": "https://api.github.com/users/TronBlack/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/TronBlack/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 3032772673,
              "node_id": "MDU6TGFiZWwzMDMyNzcyNjcz",
              "url": "https://api.github.com/repos/RavenProject/Ravencoin/labels/upstream%20fix",
              "name": "upstream fix",
              "description": "",
              "color": "188B6C",
              "default": false
            },
            {
              "id": 3080398538,
              "node_id": "MDU6TGFiZWwzMDgwMzk4NTM4",
              "url": "https://api.github.com/repos/RavenProject/Ravencoin/labels/deprecated%20code",
              "name": "deprecated code",
              "description": "",
              "color": "694F3E",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "COLLABORATOR",
          "locked": false,
          "comments": 1,
          "created_at": "2021-06-11T21:15:03Z",
          "updated_at": "2021-06-12T10:10:57Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 5141021499,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDUxNDEwMjE0OTk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5141021499",
      "actor": {
        "login": "random-zebra",
        "id": 18186894,
        "node_id": "MDQ6VXNlcjE4MTg2ODk0",
        "avatar_url": "https://avatars.githubusercontent.com/u/18186894?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/random-zebra",
        "html_url": "https://github.com/random-zebra",
        "followers_url": "https://api.github.com/users/random-zebra/followers",
        "following_url": "https://api.github.com/users/random-zebra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/random-zebra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/random-zebra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/random-zebra/subscriptions",
        "organizations_url": "https://api.github.com/users/random-zebra/orgs",
        "repos_url": "https://api.github.com/users/random-zebra/repos",
        "events_url": "https://api.github.com/users/random-zebra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/random-zebra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "b4751e10ce976864c5d06e56c6e6f5a8f315e167",
      "commit_url": "https://api.github.com/repos/PIVX-Project/PIVX/commits/b4751e10ce976864c5d06e56c6e6f5a8f315e167",
      "created_at": "2021-08-11T10:09:48Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "zancas",
        "id": 640955,
        "node_id": "MDQ6VXNlcjY0MDk1NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/640955?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/zancas",
        "html_url": "https://github.com/zancas",
        "followers_url": "https://api.github.com/users/zancas/followers",
        "following_url": "https://api.github.com/users/zancas/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/zancas/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/zancas/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/zancas/subscriptions",
        "organizations_url": "https://api.github.com/users/zancas/orgs",
        "repos_url": "https://api.github.com/users/zancas/repos",
        "events_url": "https://api.github.com/users/zancas/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/zancas/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-20T16:25:24Z",
      "updated_at": "2021-09-20T16:25:24Z",
      "source": {
        "issue": {
          "id": 970830345,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NzEyNzIwMzg5",
          "url": "https://api.github.com/repos/zcash/zcash/issues/5276",
          "repository_url": "https://api.github.com/repos/zcash/zcash",
          "labels_url": "https://api.github.com/repos/zcash/zcash/issues/5276/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/zcash/zcash/issues/5276/comments",
          "events_url": "https://api.github.com/repos/zcash/zcash/issues/5276/events",
          "html_url": "https://github.com/zcash/zcash/pull/5276",
          "number": 5276,
          "state": "closed",
          "state_reason": null,
          "title": "WIP:  A draft PR for collaborating on ZIP155",
          "body": "High Level\r\n========\r\n\r\n@AloeareV, @dannasessha and I began this project by inspecting the PR that merged TorV3 addresses into bitcoin `main`.\r\n\r\nFrom the perspective of \"bitcoin main\" circa 2019, there are two upgrades that were required. Add support for BIP155-style version 2 network addresses, part of [BIP155](https://github.com/bitcoin/bips/blob/master/bip-0155.mediawiki):\r\n\r\n1.  https://github.com/bitcoin/bitcoin/pull/19031\r\n\r\nAnd, given support for BIP155 `addrv2`s, add support for TorV3 addresses:\r\n\r\n2.  https://github.com/bitcoin/bitcoin/pull/19954\r\n\r\nAdding Support for BIP155\r\n====================\r\n\r\nThe addition of `addrv2` support was initiated by adding regression tests:\r\n\r\n3.  https://github.com/bitcoin/bitcoin/pull/19351\r\n\r\nWhen we inspected that regression test code, we saw that the `netbase` code had been updated (relative to zcash `main` circa 2021) to reduce the responsibilities of the `CNetAddr`, `CService`, and `CSubNet` classes.  In particular newer versions are not responsible for name resolution.\r\n\r\nWe discovered that we minimally required:\r\n\r\n  https://github.com/bitcoin/bitcoin/pull/8128/commits/b6c3ff3daed432e71d1c5bfe2357c4bb9fdc862a\r\n\r\nIn order to proceed with the backport of 19351.\r\n\r\nWe noted the coherent structure of:\r\n\r\n4.  https://github.com/bitcoin/bitcoin/pull/8128\r\n\r\nWe surmised that all of 8128 would eventually be relevant for TorV3 support, and further noted it's dependence on:\r\n\r\n5.  https://github.com/bitcoin/bitcoin/pull/7868\r\n\r\nFollowing the above reasoning we backported 7868 which depended on a small upgrade to error message formatting:\r\n\r\n6. https://github.com/bitcoin/bitcoin/pull/7257\r\n\r\n\r\nThe \r\n\r\nWe need this code for `NODE_NONE`:\r\n\r\nhttps://github.com/bitcoin/bitcoin/pull/7749/commits/ee06e04369c37da21e048fda849cce2a1f066f84\r\n\r\n\r\nWe cherry-picked https://github.com/bitcoin/bitcoin/pull/13575/commits/07c493f2d1053d6a1c7d0ca1650da7b6f94c8948 for the `NET_TOR` to `NET_ONION` change.\r\n\r\nThis commit introduces GetAddrBytes:   https://github.com/bitcoin/bitcoin/pull/19219/commits/b691f2df5f7d443c0c9ee056ab94aa0fc19566d5\r\n\r\nThis commit introduces the `NET_INTERNAL` network variant:   https://github.com/bitcoin/bitcoin/pull/10446/commits/7f31762cb6261806542cc6d1188ca07db98a6950\r\n\r\nThe FLEXIBLE_SIZE change is part of prepation for us:\r\n\r\nhttps://github.com/bitcoin/bitcoin/pull/19628/commits/1ea57ad67406b3aaaef5254bc2fa7e4134f3a6df\r\n\r\n\r\nWe're going to need to backport span, prior to other bps (Making `CNetAddr` members variable length), because `Span` is used in core methods.\r\n\r\nADDING SUPPORT FOR BITCOIN STYLE SERIALIZATION:\r\n\r\nhttps://github.com/bitcoin/bitcoin/pulls?q=is%3Apr+is%3Amerged+%22Serialization+improvements%22+in%3Atitle\r\n\r\nNOTES:\r\n  *  I use `main` as slang for `master` where I deem it to be (sufficiently) unambiguous.",
          "user": {
            "login": "zancas",
            "id": 640955,
            "node_id": "MDQ6VXNlcjY0MDk1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/640955?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zancas",
            "html_url": "https://github.com/zancas",
            "followers_url": "https://api.github.com/users/zancas/followers",
            "following_url": "https://api.github.com/users/zancas/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/zancas/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/zancas/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/zancas/subscriptions",
            "organizations_url": "https://api.github.com/users/zancas/orgs",
            "repos_url": "https://api.github.com/users/zancas/repos",
            "events_url": "https://api.github.com/users/zancas/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/zancas/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 1,
          "pull_request": {
            "url": "https://api.github.com/repos/zcash/zcash/pulls/5276",
            "html_url": "https://github.com/zcash/zcash/pull/5276",
            "diff_url": "https://github.com/zcash/zcash/pull/5276.diff",
            "patch_url": "https://github.com/zcash/zcash/pull/5276.patch"
          },
          "closed_at": "2022-01-07T17:48:49Z",
          "created_at": "2021-08-14T05:17:42Z",
          "updated_at": "2022-01-07T17:48:49Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "strophy",
        "id": 32928115,
        "node_id": "MDQ6VXNlcjMyOTI4MTE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/32928115?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/strophy",
        "html_url": "https://github.com/strophy",
        "followers_url": "https://api.github.com/users/strophy/followers",
        "following_url": "https://api.github.com/users/strophy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/strophy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/strophy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/strophy/subscriptions",
        "organizations_url": "https://api.github.com/users/strophy/orgs",
        "repos_url": "https://api.github.com/users/strophy/repos",
        "events_url": "https://api.github.com/users/strophy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/strophy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-28T15:21:31Z",
      "updated_at": "2021-09-28T15:21:31Z",
      "source": {
        "issue": {
          "id": 903978538,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NjU1MTc1Njcw",
          "url": "https://api.github.com/repos/dashevo/dashmate/issues/368",
          "repository_url": "https://api.github.com/repos/dashevo/dashmate",
          "labels_url": "https://api.github.com/repos/dashevo/dashmate/issues/368/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/dashevo/dashmate/issues/368/comments",
          "events_url": "https://api.github.com/repos/dashevo/dashmate/issues/368/events",
          "html_url": "https://github.com/dashevo/dashmate/pull/368",
          "number": 368,
          "state": "closed",
          "state_reason": null,
          "title": "feat: add Tor service",
          "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n<!--- Pull request titles must use the [conventional commits](https://www.conventionalcommits.org/en/v1.0.0/#summary) format -->\r\n\r\n## Issue being fixed or feature implemented\r\n<!--- Why is this change required? What problem does it solve? -->\r\n<!--- If it fixes an open issue, please link to the issue here. -->\r\nCore devs have requested a Tor service option. This PR is based on [this forum post](https://www.dash.org/forum/threads/how-to-tor.50363/) by xkcd.\r\n\r\n## What was done?\r\n<!--- Describe your changes in detail -->\r\n- Added Tor service as override service\r\n- Added config to enable and parametrize Tor service\r\n\r\n## How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\nTesting on testnet. Following concerns:\r\n- [x] `[warn] You specified a public address '0.0.0.0:9040' for TransPort. Other people on the Internet might find your computer and use it as an open proxy. Please don't allow this unless you have a good reason.`\r\n  How do we want this configured?\r\n- [x] `[warn] You specified a public address '0.0.0.0:9050' for SocksPort. Other people on the Internet might find your computer and use it as an open proxy. Please don't allow this unless you have a good reason.`\r\n  How do we want this configured?\r\n- [x] `[warn] You have a ControlPort set to accept connections from a non-local address.  This means that programs not running on your computer can reconfigure your Tor.  That's pretty bad, since the controller protocol isn't encrypted!  Maybe you should just listen on 127.0.0.1 and use a tool like stunnel or ssh to encrypt remote connections to your control port.`\r\n  I believe this is secure because only containers in the Docker network can access this port. Let me know if I should try to implement stunnel or ssh anyway.\r\n- [x] Tor service starts conditionally based on updated logic in this PR. Test image `strophy/dashd:tor` is currently specified in [this PR](https://github.com/dashpay/dash/pull/4182).\r\n- [ ] How can I test if the hidden service is working?\r\n\r\n## Breaking Changes\r\n<!--- Please describe any breaking changes your code introduces and verify that -->\r\n<!--- the title includes \"!\" following the conventional commit type (e.g. \"feat!: ...\"-->\r\n- Tor is enabled by default on testnet\r\n\r\n\r\n## Checklist:\r\n<!--- Go over all the following points, and put an `x` in all the boxes that apply. -->\r\n- [ ] I have performed a self-review of my own code\r\n- [ ] I have commented my code, particularly in hard-to-understand areas\r\n- [ ] I have added or updated relevant unit/integration/functional/e2e tests\r\n- [ ] I have made corresponding changes to the documentation\r\n\r\n**For repository code-owners and collaborators only**\r\n- [ ] I have assigned this pull request to a milestone\r\n",
          "user": {
            "login": "strophy",
            "id": 32928115,
            "node_id": "MDQ6VXNlcjMyOTI4MTE1",
            "avatar_url": "https://avatars.githubusercontent.com/u/32928115?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/strophy",
            "html_url": "https://github.com/strophy",
            "followers_url": "https://api.github.com/users/strophy/followers",
            "following_url": "https://api.github.com/users/strophy/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/strophy/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/strophy/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/strophy/subscriptions",
            "organizations_url": "https://api.github.com/users/strophy/orgs",
            "repos_url": "https://api.github.com/users/strophy/repos",
            "events_url": "https://api.github.com/users/strophy/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/strophy/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "comments": 6,
          "pull_request": {
            "url": "https://api.github.com/repos/dashevo/dashmate/pulls/368",
            "html_url": "https://github.com/dashevo/dashmate/pull/368",
            "diff_url": "https://github.com/dashevo/dashmate/pull/368.diff",
            "patch_url": "https://github.com/dashevo/dashmate/pull/368.patch"
          },
          "closed_at": "2021-10-19T14:27:33Z",
          "created_at": "2021-05-27T16:42:47Z",
          "updated_at": "2021-10-19T14:27:33Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "locked",
      "id": 6073833271,
      "node_id": "LOE_lADOABII584pyjotzwAAAAFqB1c3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6073833271",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-02-15T10:37:25Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/488028133",
      "pull_request_review_id": 487897429,
      "id": 488028133,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODAyODEzMw==",
      "diff_hunk": "@@ -464,10 +466,23 @@ TorController::TorController(struct event_base* _base, const std::string& _targe\n         LogPrintf(\"tor: Initiating connection to Tor control port %s failed\\n\", _target);\n     }\n     // Read service private key if cached\n-    std::pair<bool,std::string> pkf = ReadBinaryFile(GetPrivateKeyFile());\n-    if (pkf.first) {\n-        LogPrint(BCLog::TOR, \"tor: Reading cached private key from %s\\n\", GetPrivateKeyFile().string());\n-        private_key = pkf.second;\n+    bool read_ok;\n+    std::tie(read_ok, private_key) = ReadBinaryFile(GetPrivateKeyFile());\n+    if (!read_ok) {\n+        return;\n+    }\n+    LogPrint(BCLog::TOR, \"tor: Read cached private key from %s\\n\", GetPrivateKeyFile().string());\n+\n+    // Check if we have an old TORv2 (RSA1024) private key cached and if so move it\n+    // away and assume empty key so that TorController::auth_cb() can create a new\n+    // TORv3 (ED25519-V3) one.\n+    static const char torv2_key_prefix[] = \"RSA1024:\";\n+    if (private_key.substr(0, strlen(torv2_key_prefix)) == torv2_key_prefix) {\n+        auto obsolete_key_file = GetPrivateKeyFile().string() + \"_obsolete_torv2\";\n+        LogPrint(BCLog::TOR, \"tor: Detected an obsolete TORv2 private key, will move it \"\n+                             \"to %s and will create new TORv3 one\\n\", obsolete_key_file);",
      "path": "src/torcontrol.cpp",
      "position": null,
      "original_position": 36,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "9c9ff0a8c40421b43922a6b211f99b6aaf94a798",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Linter fails on missing newline here.\r\n```\r\n$ test/lint/lint-logs.sh\r\nAll calls to LogPrintf() and LogPrint() should be terminated with \\n\r\n```",
      "created_at": "2020-09-14T15:33:21Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r488028133",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/488028133"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 483,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/488055752",
      "pull_request_review_id": 487933729,
      "id": 488055752,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODA1NTc1Mg==",
      "diff_hunk": "@@ -76,6 +76,19 @@ extern const char* VERACK;\n  * network.\n  */\n extern const char* ADDR;\n+/**\n+ * The addrv2 message relays connection information for peers on the network just\n+ * like the addr message, but is extended to allow gossipping of longer node",
      "path": "src/protocol.h",
      "position": null,
      "original_position": 6,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "a1b067e0896d5f8a639364494a5707bd536b99f1",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: gossiping",
      "created_at": "2020-09-14T16:13:17Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r488055752",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/488055752"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 81,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/488057593",
      "pull_request_review_id": 487933729,
      "id": 488057593,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODA1NzU5Mw==",
      "diff_hunk": "@@ -76,6 +76,19 @@ extern const char* VERACK;\n  * network.\n  */\n extern const char* ADDR;\n+/**\n+ * The addrv2 message relays connection information for peers on the network just\n+ * like the addr message, but is extended to allow gossipping of longer node\n+ * addresses (see BIP155).\n+ */\n+extern const char *ADDRv2;\n+/**\n+ * The sendaddrv2 message signals support for receiving ADDRv2 messages (BIP155).\n+ * It also implies that its sender can encode as ADDRv2 and would send ADDRv2\n+ * instead of ADDR to a peer who has indicated ADDRv2 support (has sent\n+ * SENDADDRv2 himself).",
      "path": "src/protocol.h",
      "position": null,
      "original_position": 14,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "a1b067e0896d5f8a639364494a5707bd536b99f1",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "s/who has indicated ADDRv2 support (has sent SENDADDRV2 himself)/that has signaled ADDRv2 support by sending SENDADDRv2./",
      "created_at": "2020-09-14T16:15:57Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r488057593",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/488057593"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 89,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/488870384",
      "pull_request_review_id": 488944513,
      "id": 488870384,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODg3MDM4NA==",
      "diff_hunk": "@@ -57,6 +57,7 @@ Subdirectory       | File(s)               | Description\n `./`               | `guisettings.ini.bak` | Backup of former [GUI settings](#gui-settings) after `-resetguisettings` option is used\n `./`               | `mempool.dat`         | Dump of the mempool's transactions\n `./`               | `onion_private_key`   | Cached Tor onion service private key for `-listenonion` option\n+`./`               | `onion_private_key_obsolete_torv2` | Obsolete Tor onion service private key used to create TORv2 hidden services. This file is automatically created as a backup when new TORv3 private key is generated and saved into `onion_private_key`. Bitcoin Core does not need it and will never attempt to read it. Remove if you do not need the old TORv2 hidden service.",
      "path": "doc/files.md",
      "position": null,
      "original_position": 4,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "9c9ff0a8c40421b43922a6b211f99b6aaf94a798",
      "in_reply_to_id": null,
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'd slightly prefer creating a new file for v3 instead of moving the old one. This makes it easier to go back and forth to test this (as well as downgrade, when this becomes part of a release).\r\n\r\nIt also makes for amore straightforward path to both v2 and v3 hidden services (as @jonatack suggests).",
      "created_at": "2020-09-15T18:16:30Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r488870384",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/488870384"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 60,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/490922645",
      "pull_request_review_id": 491429443,
      "id": 490922645,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDkyMjY0NQ==",
      "diff_hunk": "@@ -76,6 +76,19 @@ extern const char* VERACK;\n  * network.\n  */\n extern const char* ADDR;\n+/**\n+ * The addrv2 message relays connection information for peers on the network just\n+ * like the addr message, but is extended to allow gossipping of longer node",
      "path": "src/protocol.h",
      "position": null,
      "original_position": 6,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "a1b067e0896d5f8a639364494a5707bd536b99f1",
      "in_reply_to_id": 488055752,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed.",
      "created_at": "2020-09-18T12:44:01Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r490922645",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/490922645"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 81,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/490922857",
      "pull_request_review_id": 491429688,
      "id": 490922857,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDkyMjg1Nw==",
      "diff_hunk": "@@ -76,6 +76,19 @@ extern const char* VERACK;\n  * network.\n  */\n extern const char* ADDR;\n+/**\n+ * The addrv2 message relays connection information for peers on the network just\n+ * like the addr message, but is extended to allow gossipping of longer node\n+ * addresses (see BIP155).\n+ */\n+extern const char *ADDRv2;\n+/**\n+ * The sendaddrv2 message signals support for receiving ADDRv2 messages (BIP155).\n+ * It also implies that its sender can encode as ADDRv2 and would send ADDRv2\n+ * instead of ADDR to a peer who has indicated ADDRv2 support (has sent\n+ * SENDADDRv2 himself).",
      "path": "src/protocol.h",
      "position": null,
      "original_position": 14,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "a1b067e0896d5f8a639364494a5707bd536b99f1",
      "in_reply_to_id": 488057593,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Changed.",
      "created_at": "2020-09-18T12:44:23Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r490922857",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/490922857"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 89,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/490923255",
      "pull_request_review_id": 491430132,
      "id": 490923255,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDkyMzI1NQ==",
      "diff_hunk": "@@ -464,10 +466,23 @@ TorController::TorController(struct event_base* _base, const std::string& _targe\n         LogPrintf(\"tor: Initiating connection to Tor control port %s failed\\n\", _target);\n     }\n     // Read service private key if cached\n-    std::pair<bool,std::string> pkf = ReadBinaryFile(GetPrivateKeyFile());\n-    if (pkf.first) {\n-        LogPrint(BCLog::TOR, \"tor: Reading cached private key from %s\\n\", GetPrivateKeyFile().string());\n-        private_key = pkf.second;\n+    bool read_ok;\n+    std::tie(read_ok, private_key) = ReadBinaryFile(GetPrivateKeyFile());\n+    if (!read_ok) {\n+        return;\n+    }\n+    LogPrint(BCLog::TOR, \"tor: Read cached private key from %s\\n\", GetPrivateKeyFile().string());\n+\n+    // Check if we have an old TORv2 (RSA1024) private key cached and if so move it\n+    // away and assume empty key so that TorController::auth_cb() can create a new\n+    // TORv3 (ED25519-V3) one.\n+    static const char torv2_key_prefix[] = \"RSA1024:\";\n+    if (private_key.substr(0, strlen(torv2_key_prefix)) == torv2_key_prefix) {\n+        auto obsolete_key_file = GetPrivateKeyFile().string() + \"_obsolete_torv2\";\n+        LogPrint(BCLog::TOR, \"tor: Detected an obsolete TORv2 private key, will move it \"\n+                             \"to %s and will create new TORv3 one\\n\", obsolete_key_file);",
      "path": "src/torcontrol.cpp",
      "position": null,
      "original_position": 36,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "9c9ff0a8c40421b43922a6b211f99b6aaf94a798",
      "in_reply_to_id": 488028133,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Deleted this code altogether.",
      "created_at": "2020-09-18T12:45:03Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r490923255",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/490923255"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 483,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/490923656",
      "pull_request_review_id": 491430653,
      "id": 490923656,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDkyMzY1Ng==",
      "diff_hunk": "@@ -57,6 +57,7 @@ Subdirectory       | File(s)               | Description\n `./`               | `guisettings.ini.bak` | Backup of former [GUI settings](#gui-settings) after `-resetguisettings` option is used\n `./`               | `mempool.dat`         | Dump of the mempool's transactions\n `./`               | `onion_private_key`   | Cached Tor onion service private key for `-listenonion` option\n+`./`               | `onion_private_key_obsolete_torv2` | Obsolete Tor onion service private key used to create TORv2 hidden services. This file is automatically created as a backup when new TORv3 private key is generated and saved into `onion_private_key`. Bitcoin Core does not need it and will never attempt to read it. Remove if you do not need the old TORv2 hidden service.",
      "path": "doc/files.md",
      "position": null,
      "original_position": 4,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "9c9ff0a8c40421b43922a6b211f99b6aaf94a798",
      "in_reply_to_id": 488870384,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Indeed. Done!",
      "created_at": "2020-09-18T12:45:45Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r490923656",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/490923656"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 60,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/492108245",
      "pull_request_review_id": 492690290,
      "id": 492108245,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjEwODI0NQ==",
      "diff_hunk": "@@ -533,7 +533,7 @@ void TorController::auth_cb(TorControlConnection& _conn, const TorControlReply&\n \n         // Finally - now create the service\n         if (private_key.empty()) // No private key, generate one",
      "path": "src/torcontrol.cpp",
      "position": null,
      "original_position": 3,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "1550aa82659506ef89db67e482d01f014f6a1977",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: add `{`",
      "created_at": "2020-09-21T14:49:11Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r492108245",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/492108245"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 535,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/493521433",
      "pull_request_review_id": 494597269,
      "id": 493521433,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzUyMTQzMw==",
      "diff_hunk": "@@ -56,7 +56,8 @@ Subdirectory       | File(s)               | Description\n `./`               | `fee_estimates.dat`   | Stores statistics used to estimate minimum transaction fees and priorities required for confirmation\n `./`               | `guisettings.ini.bak` | Backup of former [GUI settings](#gui-settings) after `-resetguisettings` option is used\n `./`               | `mempool.dat`         | Dump of the mempool's transactions\n-`./`               | `onion_private_key`   | Cached Tor onion service private key for `-listenonion` option\n+`./`               | `onion_private_key`   | Obsolete: cached Tor onion service private key for `-listenonion` option. Was used for TORv2 services. Bitcoin Core does not need this file and ignores it starting from version 0.21.",
      "path": "doc/files.md",
      "position": null,
      "original_position": 5,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "1550aa82659506ef89db67e482d01f014f6a1977",
      "in_reply_to_id": null,
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Maybe move this line to `## Legacy subdirectories and files`, if we're no longer going to spin up a v2 service.",
      "created_at": "2020-09-23T12:19:32Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r493521433",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/493521433"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 59,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/493535027",
      "pull_request_review_id": 494609645,
      "id": 493535027,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzUzNTAyNw==",
      "diff_hunk": "@@ -53,6 +53,13 @@ void static inline WriteLE64(unsigned char* ptr, uint64_t x)\n     memcpy(ptr, (char*)&v, 8);\n }\n \n+uint16_t static inline ReadBE16(const unsigned char* ptr)\n+{\n+    uint16_t x;\n+    memcpy((char*)&x, ptr, 2);\n+    return be16toh(x);",
      "path": "src/crypto/common.h",
      "position": null,
      "original_position": 8,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "1550aa82659506ef89db67e482d01f014f6a1977",
      "in_reply_to_id": null,
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Good, looks ilke we already have an implementation of `be16toh` in `src/compat/endian.h`, so it doesn't need to be added.",
      "created_at": "2020-09-23T12:34:08Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r493535027",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/493535027"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 60,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494932190",
      "pull_request_review_id": 496345797,
      "id": 494932190,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDkzMjE5MA==",
      "diff_hunk": "@@ -74,6 +74,14 @@ P2P and network changes\n   node using P2P relay. This version reduces the initial broadcast guarantees\n   for wallet transactions submitted via P2P to a node running the wallet. (#18038)\n \n+- The TOR hidden service that is automatically created (`-listenonion`) will be\n+  now created as a TORv3 service instead of TORv2. The private key that was used\n+  for TORv2 (if any) will be left untouched in `onion_private_key` and can be\n+  removed if not needed. Bitcoin Core will not attempt to read it anymore. The\n+  private key for the TORv3 service will be saved in `onion_private_key_torv3`.\n+  If using the old TORv2 service is desirable (not recommended), then\n+  `onion_private_key` can be copied over `onion_private_key_torv3`.",
      "path": "doc/release-notes.md",
      "position": null,
      "original_position": 10,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "1550aa82659506ef89db67e482d01f014f6a1977",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "1550aa8 suggestions\r\n\r\n- s/TOR/Tor / throughout, e.g. TORv2 -> Tor v2 -- the Tor project even tweeted recently to the community to please write \"Tor\" rather than \"TOR\"\r\n\r\n- s/will be now/will now be/\r\n\r\n- s/Bitcoin Core will not attempt to read it anymore/Bitcoin Core will no longer attempt to read it/ (or \"will henceforth ignore it\")\r\n\r\n- s/If using the old TORv2 service is desirable/To use the deprecated Tor v2 service/ (prefer active voice to passive voice)\r\n\r\n- maybe mention that these cookie auth files are located in the `.bitcoin` directory\r\n\r\n- \"can be copied over\" is unclear (to me)\r\n",
      "created_at": "2020-09-25T11:44:42Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r494932190",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494932190"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 83,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494934753",
      "pull_request_review_id": 496345797,
      "id": 494934753,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDkzNDc1Mw==",
      "diff_hunk": "@@ -318,8 +329,15 @@ friend class CAddrManTest;\n     {\n         LOCK(cs);\n \n-        unsigned char nVersion = 2;\n-        s << nVersion;\n+        const auto stream_version_orig = s.GetVersion();\n+\n+        if (m_format >= Format::V3) {",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 37,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "1550aa82659506ef89db67e482d01f014f6a1977",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "896a5af style nit, `Format::V3` having the meaning of \"want addrv2\" is somewhat confusing, maybe create a boolean helper function `IsAddrV2Format()` to use both here and line 405 below for the code to be self-explanatory, or use more descriptive enum `Format` names, not sure here.\r\n\r\nIdem for `m_format > Format::V0`, `m_format > Format::V1`,and `m_format >= Format::V2`",
      "created_at": "2020-09-25T11:50:16Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r494934753",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494934753"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 334,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494964219",
      "pull_request_review_id": 496345797,
      "id": 494964219,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDk2NDIxOQ==",
      "diff_hunk": "@@ -2584,9 +2587,29 @@ void PeerManager::ProcessMessage(CNode& pfrom, const std::string& msg_type, CDat\n         return;\n     }\n \n-    if (msg_type == NetMsgType::ADDR) {\n+    if (msg_type == NetMsgType::ADDR || msg_type == NetMsgType::ADDRv2) {\n+        const auto version_orig = vRecv.GetVersion();\n+        if (msg_type == NetMsgType::ADDRv2) {\n+            // Add ADDRV2_FORMAT to the version so that the CNetAddr and CAddress\n+            // unserialize methods know that an address in v2 format is coming.\n+            vRecv.SetVersion(version_orig | ADDRV2_FORMAT);\n+        }\n         std::vector<CAddress> vAddr;\n-        vRecv >> vAddr;\n+\n+        try {\n+            vRecv >> vAddr;\n+        } catch (const std::exception& e) {\n+            vRecv.SetVersion(version_orig);\n+\n+            LOCK(cs_main);\n+            Misbehaving(pfrom.GetId(), 20,\n+                strprintf(\n+                    \"Supplied us with a message that contains an unparsable address: %s\",\n+                    e.what()));",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 34,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "1550aa82659506ef89db67e482d01f014f6a1977",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "99047b077 is there test coverage for this new try/catch/Misbehaving/logging unparseable address code? has there been discussion on how much to add to the misbehavior score for this?",
      "created_at": "2020-09-25T12:49:08Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r494964219",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494964219"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2609,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494966330",
      "pull_request_review_id": 496345797,
      "id": 494966330,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDk2NjMzMA==",
      "diff_hunk": "@@ -2612,6 +2635,11 @@ void PeerManager::ProcessMessage(CNode& pfrom, const std::string& msg_type, CDat\n             if (!MayHaveUsefulAddressDB(addr.nServices) && !HasAllDesirableServiceFlags(addr.nServices))\n                 continue;\n \n+            // Skip invalid addresses, maybe a new BIP155 network id from the future.\n+            if (!addr.IsValid()) {\n+                continue;",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 48,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "1550aa82659506ef89db67e482d01f014f6a1977",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "99047b0 covered by a test? ",
      "created_at": "2020-09-25T12:52:51Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r494966330",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494966330"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2640,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494976240",
      "pull_request_review_id": 496345797,
      "id": 494976240,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDk3NjI0MA==",
      "diff_hunk": "@@ -76,6 +76,18 @@ extern const char* VERACK;\n  * network.\n  */\n extern const char* ADDR;\n+/**\n+ * The addrv2 message relays connection information for peers on the network just\n+ * like the addr message, but is extended to allow gossiping of longer node",
      "path": "src/protocol.h",
      "position": 6,
      "original_position": 6,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "1550aa82659506ef89db67e482d01f014f6a1977",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "99047b07 nit, maybe \"gossiping of longer node addresses up to 512 bytes\"",
      "created_at": "2020-09-25T13:10:37Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r494976240",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494976240"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 81,
      "original_line": 81,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494978423",
      "pull_request_review_id": 496345797,
      "id": 494978423,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDk3ODQyMw==",
      "diff_hunk": "@@ -56,7 +56,8 @@ Subdirectory       | File(s)               | Description\n `./`               | `fee_estimates.dat`   | Stores statistics used to estimate minimum transaction fees and priorities required for confirmation\n `./`               | `guisettings.ini.bak` | Backup of former [GUI settings](#gui-settings) after `-resetguisettings` option is used\n `./`               | `mempool.dat`         | Dump of the mempool's transactions\n-`./`               | `onion_private_key`   | Cached Tor onion service private key for `-listenonion` option\n+`./`               | `onion_private_key`   | Obsolete: cached Tor onion service private key for `-listenonion` option. Was used for TORv2 services. Bitcoin Core does not need this file and ignores it starting from version 0.21.",
      "path": "doc/files.md",
      "position": null,
      "original_position": 5,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "1550aa82659506ef89db67e482d01f014f6a1977",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "1550aa8 nits, s/TORv2/Tor v2/ and s/does not need/no longer needs/ (though if you move it to the legacy section, use the \"replaced by\" format instead)",
      "created_at": "2020-09-25T13:14:22Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r494978423",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494978423"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 59,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495115151",
      "pull_request_review_id": 496591006,
      "id": 495115151,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTExNTE1MQ==",
      "diff_hunk": "@@ -2637,6 +2665,11 @@ void PeerManager::ProcessMessage(CNode& pfrom, const std::string& msg_type, CDat\n         return;\n     }\n \n+    if (msg_type == NetMsgType::SENDADDRv2) {\n+        pfrom.m_wants_addrv2 = true;",
      "path": "src/net_processing.cpp",
      "position": 61,
      "original_position": 59,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "1550aa82659506ef89db67e482d01f014f6a1977",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Had a look at if this needs a lock; it doesn't seem so.",
      "created_at": "2020-09-25T16:55:53Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r495115151",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495115151"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2654,
      "original_line": 2654,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496024495",
      "pull_request_review_id": 497632542,
      "id": 496024495,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjAyNDQ5NQ==",
      "diff_hunk": "@@ -533,7 +533,7 @@ void TorController::auth_cb(TorControlConnection& _conn, const TorControlReply&\n \n         // Finally - now create the service\n         if (private_key.empty()) // No private key, generate one",
      "path": "src/torcontrol.cpp",
      "position": null,
      "original_position": 3,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "1550aa82659506ef89db67e482d01f014f6a1977",
      "in_reply_to_id": 492108245,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2020-09-28T15:12:43Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r496024495",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496024495"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 535,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496025807",
      "pull_request_review_id": 497633590,
      "id": 496025807,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjAyNTgwNw==",
      "diff_hunk": "@@ -56,7 +56,8 @@ Subdirectory       | File(s)               | Description\n `./`               | `fee_estimates.dat`   | Stores statistics used to estimate minimum transaction fees and priorities required for confirmation\n `./`               | `guisettings.ini.bak` | Backup of former [GUI settings](#gui-settings) after `-resetguisettings` option is used\n `./`               | `mempool.dat`         | Dump of the mempool's transactions\n-`./`               | `onion_private_key`   | Cached Tor onion service private key for `-listenonion` option\n+`./`               | `onion_private_key`   | Obsolete: cached Tor onion service private key for `-listenonion` option. Was used for TORv2 services. Bitcoin Core does not need this file and ignores it starting from version 0.21.",
      "path": "doc/files.md",
      "position": null,
      "original_position": 5,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "1550aa82659506ef89db67e482d01f014f6a1977",
      "in_reply_to_id": 493521433,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2020-09-28T15:13:51Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r496025807",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496025807"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 59,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496027199",
      "pull_request_review_id": 497634785,
      "id": 496027199,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjAyNzE5OQ==",
      "diff_hunk": "@@ -74,6 +74,14 @@ P2P and network changes\n   node using P2P relay. This version reduces the initial broadcast guarantees\n   for wallet transactions submitted via P2P to a node running the wallet. (#18038)\n \n+- The TOR hidden service that is automatically created (`-listenonion`) will be\n+  now created as a TORv3 service instead of TORv2. The private key that was used\n+  for TORv2 (if any) will be left untouched in `onion_private_key` and can be\n+  removed if not needed. Bitcoin Core will not attempt to read it anymore. The\n+  private key for the TORv3 service will be saved in `onion_private_key_torv3`.\n+  If using the old TORv2 service is desirable (not recommended), then\n+  `onion_private_key` can be copied over `onion_private_key_torv3`.",
      "path": "doc/release-notes.md",
      "position": null,
      "original_position": 10,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "1550aa82659506ef89db67e482d01f014f6a1977",
      "in_reply_to_id": 494932190,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.\r\n\r\n`cp -f onion_private_key onion_private_key_torv3` is clearer? :)",
      "created_at": "2020-09-28T15:15:02Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r496027199",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496027199"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 83,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496030562",
      "pull_request_review_id": 497637674,
      "id": 496030562,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjAzMDU2Mg==",
      "diff_hunk": "@@ -318,8 +329,15 @@ friend class CAddrManTest;\n     {\n         LOCK(cs);\n \n-        unsigned char nVersion = 2;\n-        s << nVersion;\n+        const auto stream_version_orig = s.GetVersion();\n+\n+        if (m_format >= Format::V3) {",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 37,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "1550aa82659506ef89db67e482d01f014f6a1977",
      "in_reply_to_id": 494934753,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "AddrMan already had versions on its on-disk database with numbers. So I left the convention as is and just added new version \"3\" since the last one used was \"2\". This has nothing to do with \"addrv2\" or \"torv3\" :)\r\n\r\n`IsAddrV2Format()` would spoil the strict ordering of the AddrMan on-disk versions.",
      "created_at": "2020-09-28T15:18:06Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r496030562",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496030562"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 334,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496032822",
      "pull_request_review_id": 497639580,
      "id": 496032822,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjAzMjgyMg==",
      "diff_hunk": "@@ -2584,9 +2587,29 @@ void PeerManager::ProcessMessage(CNode& pfrom, const std::string& msg_type, CDat\n         return;\n     }\n \n-    if (msg_type == NetMsgType::ADDR) {\n+    if (msg_type == NetMsgType::ADDR || msg_type == NetMsgType::ADDRv2) {\n+        const auto version_orig = vRecv.GetVersion();\n+        if (msg_type == NetMsgType::ADDRv2) {\n+            // Add ADDRV2_FORMAT to the version so that the CNetAddr and CAddress\n+            // unserialize methods know that an address in v2 format is coming.\n+            vRecv.SetVersion(version_orig | ADDRV2_FORMAT);\n+        }\n         std::vector<CAddress> vAddr;\n-        vRecv >> vAddr;\n+\n+        try {\n+            vRecv >> vAddr;\n+        } catch (const std::exception& e) {\n+            vRecv.SetVersion(version_orig);\n+\n+            LOCK(cs_main);\n+            Misbehaving(pfrom.GetId(), 20,\n+                strprintf(\n+                    \"Supplied us with a message that contains an unparsable address: %s\",\n+                    e.what()));",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 34,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "1550aa82659506ef89db67e482d01f014f6a1977",
      "in_reply_to_id": 494964219,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes! (since the last push with updated tests)\r\n\r\n> has there been discussion on how much to add to the misbehavior score for this?\r\n\r\nI don't think so. It is currently punishing the peer as much as if he sent us an addr message with >1000 addresses. I do not insist on that.",
      "created_at": "2020-09-28T15:20:08Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r496032822",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496032822"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2609,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496033072",
      "pull_request_review_id": 497639774,
      "id": 496033072,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjAzMzA3Mg==",
      "diff_hunk": "@@ -2612,6 +2635,11 @@ void PeerManager::ProcessMessage(CNode& pfrom, const std::string& msg_type, CDat\n             if (!MayHaveUsefulAddressDB(addr.nServices) && !HasAllDesirableServiceFlags(addr.nServices))\n                 continue;\n \n+            // Skip invalid addresses, maybe a new BIP155 network id from the future.\n+            if (!addr.IsValid()) {\n+                continue;",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 48,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "1550aa82659506ef89db67e482d01f014f6a1977",
      "in_reply_to_id": 494966330,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes! (since the last push with updated tests)",
      "created_at": "2020-09-28T15:20:21Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r496033072",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496033072"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2640,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496034538",
      "pull_request_review_id": 497640946,
      "id": 496034538,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjAzNDUzOA==",
      "diff_hunk": "@@ -76,6 +76,18 @@ extern const char* VERACK;\n  * network.\n  */\n extern const char* ADDR;\n+/**\n+ * The addrv2 message relays connection information for peers on the network just\n+ * like the addr message, but is extended to allow gossiping of longer node",
      "path": "src/protocol.h",
      "position": 6,
      "original_position": 6,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "1550aa82659506ef89db67e482d01f014f6a1977",
      "in_reply_to_id": 494976240,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I deliberately leave numbers outside of comments - as too much unnecessary details and also could go out of sync if the code is updated and the comment not.",
      "created_at": "2020-09-28T15:21:37Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r496034538",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496034538"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 81,
      "original_line": 81,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496034952",
      "pull_request_review_id": 497641322,
      "id": 496034952,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjAzNDk1Mg==",
      "diff_hunk": "@@ -56,7 +56,8 @@ Subdirectory       | File(s)               | Description\n `./`               | `fee_estimates.dat`   | Stores statistics used to estimate minimum transaction fees and priorities required for confirmation\n `./`               | `guisettings.ini.bak` | Backup of former [GUI settings](#gui-settings) after `-resetguisettings` option is used\n `./`               | `mempool.dat`         | Dump of the mempool's transactions\n-`./`               | `onion_private_key`   | Cached Tor onion service private key for `-listenonion` option\n+`./`               | `onion_private_key`   | Obsolete: cached Tor onion service private key for `-listenonion` option. Was used for TORv2 services. Bitcoin Core does not need this file and ignores it starting from version 0.21.",
      "path": "doc/files.md",
      "position": null,
      "original_position": 5,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "1550aa82659506ef89db67e482d01f014f6a1977",
      "in_reply_to_id": 494978423,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done - \"replaced by ...\"",
      "created_at": "2020-09-28T15:21:58Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r496034952",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496034952"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 59,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496575638",
      "pull_request_review_id": 498284069,
      "id": 496575638,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjU3NTYzOA==",
      "diff_hunk": "@@ -318,8 +329,15 @@ friend class CAddrManTest;\n     {\n         LOCK(cs);\n \n-        unsigned char nVersion = 2;\n-        s << nVersion;\n+        const auto stream_version_orig = s.GetVersion();\n+\n+        if (m_format >= Format::V3) {\n+            // Add ADDRV2_FORMAT to the version so that the CNetAddr and CAddress\n+            // serialize methods produce an address in v2 format.\n+            s.SetVersion(stream_version_orig | ADDRV2_FORMAT);\n+        }\n+\n+        s << (uint8_t)m_format;",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 43,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "e025121c1ca4b86296c6b36386786522bd79a6e1",
      "in_reply_to_id": null,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "e025121c1ca4b86296c6b36386786522bd79a6e1\r\n\r\n```suggestion\r\n        s << static_cast<uint8_t>(m_format);\r\n```",
      "created_at": "2020-09-29T09:31:35Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r496575638",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496575638"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 340,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496579158",
      "pull_request_review_id": 498284069,
      "id": 496579158,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjU3OTE1OA==",
      "diff_hunk": "@@ -376,8 +396,17 @@ friend class CAddrManTest;\n         LOCK(cs);\n \n         Clear();\n-        unsigned char nVersion;\n-        s >> nVersion;\n+\n+        const auto stream_version_orig = s.GetVersion();\n+\n+        uint8_t format_tmp;\n+        s >> format_tmp;\n+        m_format = (Format)format_tmp;",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 67,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "e025121c1ca4b86296c6b36386786522bd79a6e1",
      "in_reply_to_id": null,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "e025121c1ca4b86296c6b36386786522bd79a6e1\r\n```suggestion\r\n        m_format = static_cast<Format>(format_tmp);\r\n```",
      "created_at": "2020-09-29T09:36:47Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r496579158",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496579158"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 404,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/497309187",
      "pull_request_review_id": 499167608,
      "id": 497309187,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzMwOTE4Nw==",
      "diff_hunk": "@@ -376,8 +396,17 @@ friend class CAddrManTest;\n         LOCK(cs);\n \n         Clear();\n-        unsigned char nVersion;\n-        s >> nVersion;\n+\n+        const auto stream_version_orig = s.GetVersion();\n+\n+        uint8_t format_tmp;\n+        s >> format_tmp;\n+        m_format = (Format)format_tmp;",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 67,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "e025121c1ca4b86296c6b36386786522bd79a6e1",
      "in_reply_to_id": 496579158,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2020-09-30T07:49:33Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r497309187",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/497309187"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 404,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/497309288",
      "pull_request_review_id": 499167734,
      "id": 497309288,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzMwOTI4OA==",
      "diff_hunk": "@@ -318,8 +329,15 @@ friend class CAddrManTest;\n     {\n         LOCK(cs);\n \n-        unsigned char nVersion = 2;\n-        s << nVersion;\n+        const auto stream_version_orig = s.GetVersion();\n+\n+        if (m_format >= Format::V3) {\n+            // Add ADDRV2_FORMAT to the version so that the CNetAddr and CAddress\n+            // serialize methods produce an address in v2 format.\n+            s.SetVersion(stream_version_orig | ADDRV2_FORMAT);\n+        }\n+\n+        s << (uint8_t)m_format;",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 43,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "e025121c1ca4b86296c6b36386786522bd79a6e1",
      "in_reply_to_id": 496575638,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2020-09-30T07:49:45Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r497309288",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/497309288"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 340,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/497572479",
      "pull_request_review_id": 499515650,
      "id": 497572479,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzU3MjQ3OQ==",
      "diff_hunk": "@@ -74,6 +74,14 @@ P2P and network changes\n   node using P2P relay. This version reduces the initial broadcast guarantees\n   for wallet transactions submitted via P2P to a node running the wallet. (#18038)\n \n+- The TOR hidden service that is automatically created (`-listenonion`) will be\n+  now created as a TORv3 service instead of TORv2. The private key that was used\n+  for TORv2 (if any) will be left untouched in `onion_private_key` and can be\n+  removed if not needed. Bitcoin Core will not attempt to read it anymore. The\n+  private key for the TORv3 service will be saved in `onion_private_key_torv3`.\n+  If using the old TORv2 service is desirable (not recommended), then\n+  `onion_private_key` can be copied over `onion_private_key_torv3`.",
      "path": "doc/release-notes.md",
      "position": null,
      "original_position": 10,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "1550aa82659506ef89db67e482d01f014f6a1977",
      "in_reply_to_id": 494932190,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "LGTM",
      "created_at": "2020-09-30T14:50:00Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r497572479",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/497572479"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 83,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/497573433",
      "pull_request_review_id": 499516932,
      "id": 497573433,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzU3MzQzMw==",
      "diff_hunk": "@@ -318,8 +329,15 @@ friend class CAddrManTest;\n     {\n         LOCK(cs);\n \n-        unsigned char nVersion = 2;\n-        s << nVersion;\n+        const auto stream_version_orig = s.GetVersion();\n+\n+        if (m_format >= Format::V3) {",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 37,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "1550aa82659506ef89db67e482d01f014f6a1977",
      "in_reply_to_id": 494934753,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, I understand. Helper functions that replace the various `m_format >= Format::V<n>` may possibly be nice, but opinions can vary and it isn't a blocker.",
      "created_at": "2020-09-30T14:51:12Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r497573433",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/497573433"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 334,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/497574106",
      "pull_request_review_id": 499517872,
      "id": 497574106,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzU3NDEwNg==",
      "diff_hunk": "@@ -318,8 +329,15 @@ friend class CAddrManTest;\n     {\n         LOCK(cs);\n \n-        unsigned char nVersion = 2;\n-        s << nVersion;\n+        const auto stream_version_orig = s.GetVersion();\n+\n+        if (m_format >= Format::V3) {\n+            // Add ADDRV2_FORMAT to the version so that the CNetAddr and CAddress\n+            // serialize methods produce an address in v2 format.\n+            s.SetVersion(stream_version_orig | ADDRV2_FORMAT);\n+        }\n+\n+        s << (uint8_t)m_format;",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 43,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "e025121c1ca4b86296c6b36386786522bd79a6e1",
      "in_reply_to_id": 496575638,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Per https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#es49-if-you-must-use-a-cast-use-a-named-cast and *C++ Programming Language 4th Edition*, section 11.5, it might be good to update the next line as well if you retouch.\r\n```diff\r\n         s << static_cast<uint8_t>(m_format);\r\n-        s << ((unsigned char)32);\r\n+        s << static_cast<unsigned char>(32);\r\n```",
      "created_at": "2020-09-30T14:52:05Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r497574106",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/497574106"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 340,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/497578644",
      "pull_request_review_id": 499523621,
      "id": 497578644,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzU3ODY0NA==",
      "diff_hunk": "@@ -98,6 +98,7 @@ Path           | Description | Repository notes\n `blkindex.dat` | Blockchain index BDB database; replaced by {`chainstate/`, `blocks/index/`, `blocks/revNNNNN.dat`<sup>[\\[2\\]](#note2)</sup>} in 0.8.0 | [PR #1677](https://github.com/bitcoin/bitcoin/pull/1677)\n `blk000?.dat`  | Block data (custom format, 2 GiB per file); replaced by `blocks/blkNNNNN.dat`<sup>[\\[2\\]](#note2)</sup> in 0.8.0 | [PR #1677](https://github.com/bitcoin/bitcoin/pull/1677)\n `addr.dat`     | Peer IP address BDB database; replaced by `peers.dat` in [0.7.0](https://github.com/bitcoin/bitcoin/blob/master/doc/release-notes/release-notes-0.7.0.md) | [PR #1198](https://github.com/bitcoin/bitcoin/pull/1198), [`928d3a01`](https://github.com/bitcoin/bitcoin/commit/928d3a011cc66c7f907c4d053f674ea77dc611cc)\n+`onion_private_key` | Cached Tor onion service private key for `-listenonion` option. Was used for Tor v2 services; replaced by `onion_private_key_torv3` in [0.21.0](https://github.com/bitcoin/bitcoin/blob/master/doc/release-notes/release-notes-0.21.0.md) [PR #19954](https://github.com/bitcoin/bitcoin/pull/19954)",
      "path": "doc/files.md",
      "position": null,
      "original_position": 13,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "bb01c77865a565764e4e2f86265afef45506d7d7",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Missing column separator `|`?\r\n```suggestion\r\n`onion_private_key` | Cached Tor onion service private key for `-listenonion` option. Was used for Tor v2 services; replaced by `onion_private_key_torv3` in [0.21.0](https://github.com/bitcoin/bitcoin/blob/master/doc/release-notes/release-notes-0.21.0.md) | [PR #19954](https://github.com/bitcoin/bitcoin/pull/19954)\r\n```",
      "created_at": "2020-09-30T14:57:33Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r497578644",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/497578644"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 101,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/497581232",
      "pull_request_review_id": 499527127,
      "id": 497581232,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzU4MTIzMg==",
      "diff_hunk": "@@ -74,6 +74,15 @@ P2P and network changes\n   node using P2P relay. This version reduces the initial broadcast guarantees\n   for wallet transactions submitted via P2P to a node running the wallet. (#18038)\n \n+- The Tor hidden service that is automatically created (`-listenonion`) will now\n+  be created as a Tor v3 service instead of Tor v2. The private key that was used\n+  for Tor v2 (if any) will be left untouched in `onion_private_key` in `-datadir`\n+  and can be removed if not needed. Bitcoin Core will no longer attempt to read it.\n+  The private key for the Tor v3 service will be saved in `onion_private_key_torv3`.\n+  To use the deprecated Tor v2 service (not recommended), then `onion_private_key`\n+  can be copied over `onion_private_key_torv3`\n+  (`cp -f onion_private_key onion_private_key_torv3`).",
      "path": "doc/release-notes.md",
      "position": null,
      "original_position": 11,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "bb01c77865a565764e4e2f86265afef45506d7d7",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "(`code`) markup inside parentheses; maybe easier to read as: \r\n```suggestion\r\n  , e.g. `cp -f onion_private_key onion_private_key_torv3`.\r\n```",
      "created_at": "2020-09-30T15:00:39Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r497581232",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/497581232"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 84,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/497583701",
      "pull_request_review_id": 499530501,
      "id": 497583701,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzU4MzcwMQ==",
      "diff_hunk": "@@ -10,7 +10,7 @@\n     CAddress,\n     NODE_NETWORK,\n     NODE_WITNESS,\n-    msg_addr,\n+    msg_addrv2,",
      "path": "test/functional/p2p_addr_relay.py",
      "position": null,
      "original_position": 5,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "bb01c77865a565764e4e2f86265afef45506d7d7",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Should we test for both `msg_addr` and `msg_addrv2`?",
      "created_at": "2020-09-30T15:03:53Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r497583701",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/497583701"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 13,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/497588719",
      "pull_request_review_id": 499537188,
      "id": 497588719,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzU4ODcxOQ==",
      "diff_hunk": "@@ -2584,9 +2587,29 @@ void PeerManager::ProcessMessage(CNode& pfrom, const std::string& msg_type, CDat\n         return;\n     }\n \n-    if (msg_type == NetMsgType::ADDR) {\n+    if (msg_type == NetMsgType::ADDR || msg_type == NetMsgType::ADDRv2) {\n+        const auto version_orig = vRecv.GetVersion();\n+        if (msg_type == NetMsgType::ADDRv2) {\n+            // Add ADDRV2_FORMAT to the version so that the CNetAddr and CAddress\n+            // unserialize methods know that an address in v2 format is coming.\n+            vRecv.SetVersion(version_orig | ADDRV2_FORMAT);\n+        }\n         std::vector<CAddress> vAddr;\n-        vRecv >> vAddr;\n+\n+        try {\n+            vRecv >> vAddr;\n+        } catch (const std::exception& e) {\n+            vRecv.SetVersion(version_orig);\n+\n+            LOCK(cs_main);\n+            Misbehaving(pfrom.GetId(), 20,\n+                strprintf(\n+                    \"Supplied us with a message that contains an unparsable address: %s\",\n+                    e.what()));",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 34,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "1550aa82659506ef89db67e482d01f014f6a1977",
      "in_reply_to_id": 494964219,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Nice work on the tests!",
      "created_at": "2020-09-30T15:10:25Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r497588719",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/497588719"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2609,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498327611",
      "pull_request_review_id": 500460244,
      "id": 498327611,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODMyNzYxMQ==",
      "diff_hunk": "@@ -2414,6 +2414,9 @@ void PeerManager::ProcessMessage(CNode& pfrom, const std::string& msg_type, CDat\n \n         m_connman.PushMessage(&pfrom, CNetMsgMaker(greatest_common_version).Make(NetMsgType::VERACK));\n \n+        // Signal ADDRv2 support (BIP155).\n+        m_connman.PushMessage(&pfrom, CNetMsgMaker(INIT_PROTO_VERSION).Make(NetMsgType::SENDADDRv2));",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "76afce803bb5309a69517df5eac68529b7af2d29",
      "in_reply_to_id": null,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "76afce803bb5309a69517df5eac68529b7af2d29\r\n```suggestion\r\n        m_connman.PushMessage(&pfrom, CNetMsgMaker(greatest_common_version).Make(NetMsgType::SENDADDRv2));\r\n```",
      "created_at": "2020-10-01T15:20:26Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r498327611",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498327611"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2418,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498336765",
      "pull_request_review_id": 500460244,
      "id": 498336765,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODMzNjc2NQ==",
      "diff_hunk": "@@ -532,8 +532,9 @@ void TorController::auth_cb(TorControlConnection& _conn, const TorControlReply&\n         }\n \n         // Finally - now create the service\n-        if (private_key.empty()) // No private key, generate one\n-            private_key = \"NEW:RSA1024\"; // Explicitly request RSA1024 - see issue #9214\n+        if (private_key.empty()) { // No private key, generate one\n+            private_key = \"NEW:ED25519-V3\"; // Explicitly request key type - see issue #9214\n+        }",
      "path": "src/torcontrol.cpp",
      "position": 8,
      "original_position": 8,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "bb01c77865a565764e4e2f86265afef45506d7d7",
      "in_reply_to_id": null,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "bb01c77865a565764e4e2f86265afef45506d7d7\r\n\r\nThe comment about #9214 seems outdated now:\r\n```suggestion\r\n        if (private_key.empty()) {\r\n            // No private key, generate one.\r\n            private_key = \"NEW:ED25519-V3\";\r\n        }\r\n```\r\n",
      "created_at": "2020-10-01T15:32:59Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r498336765",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498336765"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": 535,
      "original_start_line": 535,
      "start_side": "RIGHT",
      "line": 537,
      "original_line": 537,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498338888",
      "pull_request_review_id": 500460244,
      "id": 498338888,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODMzODg4OA==",
      "diff_hunk": "@@ -74,6 +74,15 @@ P2P and network changes\n   node using P2P relay. This version reduces the initial broadcast guarantees\n   for wallet transactions submitted via P2P to a node running the wallet. (#18038)\n \n+- The Tor hidden service that is automatically created (`-listenonion`) will now",
      "path": "doc/release-notes.md",
      "position": null,
      "original_position": 4,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "bb01c77865a565764e4e2f86265afef45506d7d7",
      "in_reply_to_id": null,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "bb01c77865a565764e4e2f86265afef45506d7d7\r\n\r\nSee #19638:\r\n```suggestion\r\n- The Tor onion service that is automatically created (`-listenonion`) will now\r\n```",
      "created_at": "2020-10-01T15:35:57Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r498338888",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498338888"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 77,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498799536",
      "pull_request_review_id": 501103868,
      "id": 498799536,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODc5OTUzNg==",
      "diff_hunk": "@@ -98,6 +98,7 @@ Path           | Description | Repository notes\n `blkindex.dat` | Blockchain index BDB database; replaced by {`chainstate/`, `blocks/index/`, `blocks/revNNNNN.dat`<sup>[\\[2\\]](#note2)</sup>} in 0.8.0 | [PR #1677](https://github.com/bitcoin/bitcoin/pull/1677)\n `blk000?.dat`  | Block data (custom format, 2 GiB per file); replaced by `blocks/blkNNNNN.dat`<sup>[\\[2\\]](#note2)</sup> in 0.8.0 | [PR #1677](https://github.com/bitcoin/bitcoin/pull/1677)\n `addr.dat`     | Peer IP address BDB database; replaced by `peers.dat` in [0.7.0](https://github.com/bitcoin/bitcoin/blob/master/doc/release-notes/release-notes-0.7.0.md) | [PR #1198](https://github.com/bitcoin/bitcoin/pull/1198), [`928d3a01`](https://github.com/bitcoin/bitcoin/commit/928d3a011cc66c7f907c4d053f674ea77dc611cc)\n+`onion_private_key` | Cached Tor onion service private key for `-listenonion` option. Was used for Tor v2 services; replaced by `onion_private_key_torv3` in [0.21.0](https://github.com/bitcoin/bitcoin/blob/master/doc/release-notes/release-notes-0.21.0.md) [PR #19954](https://github.com/bitcoin/bitcoin/pull/19954)",
      "path": "doc/files.md",
      "position": null,
      "original_position": 13,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "bb01c77865a565764e4e2f86265afef45506d7d7",
      "in_reply_to_id": 497578644,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed",
      "created_at": "2020-10-02T12:48:24Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r498799536",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498799536"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 101,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498799651",
      "pull_request_review_id": 501104027,
      "id": 498799651,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODc5OTY1MQ==",
      "diff_hunk": "@@ -74,6 +74,15 @@ P2P and network changes\n   node using P2P relay. This version reduces the initial broadcast guarantees\n   for wallet transactions submitted via P2P to a node running the wallet. (#18038)\n \n+- The Tor hidden service that is automatically created (`-listenonion`) will now\n+  be created as a Tor v3 service instead of Tor v2. The private key that was used\n+  for Tor v2 (if any) will be left untouched in `onion_private_key` in `-datadir`\n+  and can be removed if not needed. Bitcoin Core will no longer attempt to read it.\n+  The private key for the Tor v3 service will be saved in `onion_private_key_torv3`.\n+  To use the deprecated Tor v2 service (not recommended), then `onion_private_key`\n+  can be copied over `onion_private_key_torv3`\n+  (`cp -f onion_private_key onion_private_key_torv3`).",
      "path": "doc/release-notes.md",
      "position": null,
      "original_position": 11,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "bb01c77865a565764e4e2f86265afef45506d7d7",
      "in_reply_to_id": 497581232,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2020-10-02T12:48:38Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r498799651",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498799651"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 84,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498801055",
      "pull_request_review_id": 501105863,
      "id": 498801055,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODgwMTA1NQ==",
      "diff_hunk": "@@ -10,7 +10,7 @@\n     CAddress,\n     NODE_NETWORK,\n     NODE_WITNESS,\n-    msg_addr,\n+    msg_addrv2,",
      "path": "test/functional/p2p_addr_relay.py",
      "position": null,
      "original_position": 5,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "bb01c77865a565764e4e2f86265afef45506d7d7",
      "in_reply_to_id": 497583701,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Right, `p2p_addr_relay.py` is the only test that exercises `msg_addr` and if we flip it to test `msg_addrv2` then `msg_addr` will be untested.\r\n\r\nI tried to combine both in one test, but it became too convoluted and so I copied the new test to `p2p_addrv2_relay.py` and restored the original `p2p_addr_relay.py`.",
      "created_at": "2020-10-02T12:51:15Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r498801055",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498801055"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 13,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498801234",
      "pull_request_review_id": 501106136,
      "id": 498801234,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODgwMTIzNA==",
      "diff_hunk": "@@ -2414,6 +2414,9 @@ void PeerManager::ProcessMessage(CNode& pfrom, const std::string& msg_type, CDat\n \n         m_connman.PushMessage(&pfrom, CNetMsgMaker(greatest_common_version).Make(NetMsgType::VERACK));\n \n+        // Signal ADDRv2 support (BIP155).\n+        m_connman.PushMessage(&pfrom, CNetMsgMaker(INIT_PROTO_VERSION).Make(NetMsgType::SENDADDRv2));",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "76afce803bb5309a69517df5eac68529b7af2d29",
      "in_reply_to_id": 498327611,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2020-10-02T12:51:36Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r498801234",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498801234"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2418,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498801401",
      "pull_request_review_id": 501106347,
      "id": 498801401,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODgwMTQwMQ==",
      "diff_hunk": "@@ -74,6 +74,15 @@ P2P and network changes\n   node using P2P relay. This version reduces the initial broadcast guarantees\n   for wallet transactions submitted via P2P to a node running the wallet. (#18038)\n \n+- The Tor hidden service that is automatically created (`-listenonion`) will now",
      "path": "doc/release-notes.md",
      "position": null,
      "original_position": 4,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "bb01c77865a565764e4e2f86265afef45506d7d7",
      "in_reply_to_id": 498338888,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Changed",
      "created_at": "2020-10-02T12:51:55Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r498801401",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498801401"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 77,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498803183",
      "pull_request_review_id": 501108829,
      "id": 498803183,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODgwMzE4Mw==",
      "diff_hunk": "@@ -532,8 +532,9 @@ void TorController::auth_cb(TorControlConnection& _conn, const TorControlReply&\n         }\n \n         // Finally - now create the service\n-        if (private_key.empty()) // No private key, generate one\n-            private_key = \"NEW:RSA1024\"; // Explicitly request RSA1024 - see issue #9214\n+        if (private_key.empty()) { // No private key, generate one\n+            private_key = \"NEW:ED25519-V3\"; // Explicitly request key type - see issue #9214\n+        }",
      "path": "src/torcontrol.cpp",
      "position": 8,
      "original_position": 8,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "bb01c77865a565764e4e2f86265afef45506d7d7",
      "in_reply_to_id": 498336765,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The comment is still relevant - we want to explicitly request the key type in order to avoid problems like #9214 in the future.\r\n\r\nIn other words - we don't want somebody to change this to `NEW:BEST` because if/when Tor upgrades to v4 then we may have #9214 again.",
      "created_at": "2020-10-02T12:55:32Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r498803183",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498803183"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": 535,
      "original_start_line": 535,
      "start_side": "RIGHT",
      "line": 537,
      "original_line": 537,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498807007",
      "pull_request_review_id": 501114927,
      "id": 498807007,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODgwNzAwNw==",
      "diff_hunk": "@@ -318,8 +329,15 @@ friend class CAddrManTest;\n     {\n         LOCK(cs);\n \n-        unsigned char nVersion = 2;\n-        s << nVersion;\n+        const auto stream_version_orig = s.GetVersion();\n+\n+        if (m_format >= Format::V3) {\n+            // Add ADDRV2_FORMAT to the version so that the CNetAddr and CAddress\n+            // serialize methods produce an address in v2 format.\n+            s.SetVersion(stream_version_orig | ADDRV2_FORMAT);\n+        }\n+\n+        s << (uint8_t)m_format;",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 43,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "e025121c1ca4b86296c6b36386786522bd79a6e1",
      "in_reply_to_id": 496575638,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "That line is unmodified by the patch. I try to avoid sneaking unrelated improvements to surrounding code in order to ease reviewers and future history observers.",
      "created_at": "2020-10-02T13:03:02Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r498807007",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498807007"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 340,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498812638",
      "pull_request_review_id": 501122763,
      "id": 498812638,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODgxMjYzOA==",
      "diff_hunk": "@@ -318,8 +329,15 @@ friend class CAddrManTest;\n     {\n         LOCK(cs);\n \n-        unsigned char nVersion = 2;\n-        s << nVersion;\n+        const auto stream_version_orig = s.GetVersion();\n+\n+        if (m_format >= Format::V3) {\n+            // Add ADDRV2_FORMAT to the version so that the CNetAddr and CAddress\n+            // serialize methods produce an address in v2 format.\n+            s.SetVersion(stream_version_orig | ADDRV2_FORMAT);\n+        }\n+\n+        s << (uint8_t)m_format;",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 43,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "e025121c1ca4b86296c6b36386786522bd79a6e1",
      "in_reply_to_id": 496575638,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "That's fair.",
      "created_at": "2020-10-02T13:13:41Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r498812638",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498812638"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 340,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498825564",
      "pull_request_review_id": 501140722,
      "id": 498825564,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODgyNTU2NA==",
      "diff_hunk": "@@ -532,8 +532,9 @@ void TorController::auth_cb(TorControlConnection& _conn, const TorControlReply&\n         }\n \n         // Finally - now create the service\n-        if (private_key.empty()) // No private key, generate one\n-            private_key = \"NEW:RSA1024\"; // Explicitly request RSA1024 - see issue #9214\n+        if (private_key.empty()) { // No private key, generate one\n+            private_key = \"NEW:ED25519-V3\"; // Explicitly request key type - see issue #9214\n+        }",
      "path": "src/torcontrol.cpp",
      "position": 8,
      "original_position": 8,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "bb01c77865a565764e4e2f86265afef45506d7d7",
      "in_reply_to_id": 498336765,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Correct.",
      "created_at": "2020-10-02T13:36:12Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r498825564",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498825564"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": 535,
      "original_start_line": 535,
      "start_side": "RIGHT",
      "line": 537,
      "original_line": 537,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499139208",
      "pull_request_review_id": 501539039,
      "id": 499139208,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTEzOTIwOA==",
      "diff_hunk": "@@ -718,7 +719,7 @@ void TorController::Reconnect()\n \n fs::path TorController::GetPrivateKeyFile()\n {\n-    return GetDataDir() / \"onion_private_key\";\n+    return GetDataDir() / \"onion_private_key_v3\";",
      "path": "src/torcontrol.cpp",
      "position": null,
      "original_position": 17,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "c212c7eea6c0f67d7c65467c6c93f188aaeb02f3",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n    return GetDataDir() / \"onion_v3_private_key\";\r\n```",
      "created_at": "2020-10-03T11:16:44Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r499139208",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499139208"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 722,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499139283",
      "pull_request_review_id": 501539039,
      "id": 499139283,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTEzOTI4Mw==",
      "diff_hunk": "@@ -22,7 +22,12 @@\n     P2PInterface,\n )\n from test_framework.test_framework import BitcoinTestFramework\n-from test_framework.util import assert_equal\n+from test_framework.util import (\n+    assert_equal,\n+    hex_str_to_bytes,\n+)\n+import struct\n+import time",
      "path": "test/functional/p2p_invalid_messages.py",
      "position": null,
      "original_position": 10,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "c212c7eea6c0f67d7c65467c6c93f188aaeb02f3",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: IIRC, per PEP8, OS-level and stdlib imports go at the top. ",
      "created_at": "2020-10-03T11:18:10Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r499139283",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499139283"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 30,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499140417",
      "pull_request_review_id": 501539911,
      "id": 499140417,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE0MDQxNw==",
      "diff_hunk": "@@ -2610,6 +2635,11 @@ void PeerManager::ProcessMessage(CNode& pfrom, const std::string& msg_type, CDat\n             if (!MayHaveUsefulAddressDB(addr.nServices) && !HasAllDesirableServiceFlags(addr.nServices))\n                 continue;\n \n+            // Skip invalid addresses, maybe a new BIP155 network id from the future.\n+            if (!addr.IsValid()) {\n+                continue;",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 57,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "c212c7eea6c0f67d7c65467c6c93f188aaeb02f3",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Should skipping invalid BIP155 addresses be applied only for `addrv2` messages?\r\n```cpp\r\nif (!addr.IsValid() && msg_type == NetMsgType::ADDRv2) {\r\n    continue;\r\n}\r\n```",
      "created_at": "2020-10-03T11:35:27Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r499140417",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499140417"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2640,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499295620",
      "pull_request_review_id": 501664990,
      "id": 499295620,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTI5NTYyMA==",
      "diff_hunk": "@@ -264,6 +264,17 @@ friend class CAddrManTest;\n     void SetServices_(const CService &addr, ServiceFlags nServices) EXCLUSIVE_LOCKS_REQUIRED(cs);\n \n public:\n+    //! Serialization versions.\n+    enum class Format : uint8_t {\n+        V0 = 0, //!< historic format, before commit e6b343d88",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 6,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "31876b33894a48f20a8835126faac8f9f4a8aa00",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "How about giving these a bit more descriptive names, like `V0_HISTORICAL`, `V1_DETERMINISTIC`, `V2_ASMAP`, `V3_BIP155`?",
      "created_at": "2020-10-04T22:29:13Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r499295620",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499295620"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 269,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499295803",
      "pull_request_review_id": 501664990,
      "id": 499295803,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTI5NTgwMw==",
      "diff_hunk": "@@ -318,8 +329,15 @@ friend class CAddrManTest;\n     {\n         LOCK(cs);\n \n-        unsigned char nVersion = 2;\n-        s << nVersion;\n+        const auto stream_version_orig = s.GetVersion();\n+\n+        if (m_format >= Format::V3) {\n+            // Add ADDRV2_FORMAT to the version so that the CNetAddr and CAddress\n+            // serialize methods produce an address in v2 format.\n+            s.SetVersion(stream_version_orig | ADDRV2_FORMAT);",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 40,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "31876b33894a48f20a8835126faac8f9f4a8aa00",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "A cleaner approach is using `OverrideStream` here (and elsewhere), which removes the need to undo the version change, or having a mutable version in CHashWriter.",
      "created_at": "2020-10-04T22:31:45Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r499295803",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499295803"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 337,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499586890",
      "pull_request_review_id": 502039808,
      "id": 499586890,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTU4Njg5MA==",
      "diff_hunk": "@@ -718,7 +719,7 @@ void TorController::Reconnect()\n \n fs::path TorController::GetPrivateKeyFile()\n {\n-    return GetDataDir() / \"onion_private_key\";\n+    return GetDataDir() / \"onion_private_key_v3\";",
      "path": "src/torcontrol.cpp",
      "position": null,
      "original_position": 17,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "c212c7eea6c0f67d7c65467c6c93f188aaeb02f3",
      "in_reply_to_id": 499139208,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2020-10-05T13:12:01Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r499586890",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499586890"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 722,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499586991",
      "pull_request_review_id": 502039960,
      "id": 499586991,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTU4Njk5MQ==",
      "diff_hunk": "@@ -22,7 +22,12 @@\n     P2PInterface,\n )\n from test_framework.test_framework import BitcoinTestFramework\n-from test_framework.util import assert_equal\n+from test_framework.util import (\n+    assert_equal,\n+    hex_str_to_bytes,\n+)\n+import struct\n+import time",
      "path": "test/functional/p2p_invalid_messages.py",
      "position": null,
      "original_position": 10,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "c212c7eea6c0f67d7c65467c6c93f188aaeb02f3",
      "in_reply_to_id": 499139283,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2020-10-05T13:12:11Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r499586991",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499586991"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 30,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499588933",
      "pull_request_review_id": 502042603,
      "id": 499588933,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTU4ODkzMw==",
      "diff_hunk": "@@ -2610,6 +2635,11 @@ void PeerManager::ProcessMessage(CNode& pfrom, const std::string& msg_type, CDat\n             if (!MayHaveUsefulAddressDB(addr.nServices) && !HasAllDesirableServiceFlags(addr.nServices))\n                 continue;\n \n+            // Skip invalid addresses, maybe a new BIP155 network id from the future.\n+            if (!addr.IsValid()) {\n+                continue;",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 57,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "c212c7eea6c0f67d7c65467c6c93f188aaeb02f3",
      "in_reply_to_id": 499140417,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I realized that this code is not necessary so I dropped it altogether - an invalid address is not routable and is not reachable, so we are not going to do anything with it.",
      "created_at": "2020-10-05T13:15:04Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r499588933",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499588933"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2640,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499589759",
      "pull_request_review_id": 502043799,
      "id": 499589759,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTU4OTc1OQ==",
      "diff_hunk": "@@ -264,6 +264,17 @@ friend class CAddrManTest;\n     void SetServices_(const CService &addr, ServiceFlags nServices) EXCLUSIVE_LOCKS_REQUIRED(cs);\n \n public:\n+    //! Serialization versions.\n+    enum class Format : uint8_t {\n+        V0 = 0, //!< historic format, before commit e6b343d88",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 6,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "31876b33894a48f20a8835126faac8f9f4a8aa00",
      "in_reply_to_id": 499295620,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Renamed",
      "created_at": "2020-10-05T13:16:19Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r499589759",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499589759"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 269,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499590590",
      "pull_request_review_id": 502044946,
      "id": 499590590,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTU5MDU5MA==",
      "diff_hunk": "@@ -318,8 +329,15 @@ friend class CAddrManTest;\n     {\n         LOCK(cs);\n \n-        unsigned char nVersion = 2;\n-        s << nVersion;\n+        const auto stream_version_orig = s.GetVersion();\n+\n+        if (m_format >= Format::V3) {\n+            // Add ADDRV2_FORMAT to the version so that the CNetAddr and CAddress\n+            // serialize methods produce an address in v2 format.\n+            s.SetVersion(stream_version_orig | ADDRV2_FORMAT);",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 40,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "31876b33894a48f20a8835126faac8f9f4a8aa00",
      "in_reply_to_id": 499295803,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Right, changed to `OverrideStream`.\r\n\r\nhttps://github.com/bitcoin/bitcoin/pull/19503 is also an alternative if/when it gets merged.",
      "created_at": "2020-10-05T13:17:31Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r499590590",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499590590"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 337,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499623542",
      "pull_request_review_id": 502090310,
      "id": 499623542,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTYyMzU0Mg==",
      "diff_hunk": "@@ -371,13 +390,25 @@ friend class CAddrManTest;\n     }\n \n     template<typename Stream>",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 58,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "bbbc8e4c657e8ea81edb6aca2b1870cd3b7459ad",
      "in_reply_to_id": null,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "pico-nit:\r\n```suggestion\r\n    template <typename Stream>\r\n```",
      "created_at": "2020-10-05T14:04:34Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r499623542",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499623542"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 392,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499625806",
      "pull_request_review_id": 502090310,
      "id": 499625806,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTYyNTgwNg==",
      "diff_hunk": "@@ -264,6 +264,17 @@ friend class CAddrManTest;\n     void SetServices_(const CService &addr, ServiceFlags nServices) EXCLUSIVE_LOCKS_REQUIRED(cs);\n \n public:\n+    //! Serialization versions.\n+    enum class Format : uint8_t {\n+        V0_HISTORICAL = 0, //!< historic format, before commit e6b343d88\n+        V1_DETERMINISTIC = 1, //!< for pre-asmap files\n+        V2_ASMAP = 2, //!< for files including asmap version\n+        V3_BIP155 = 3, //!< same as V2 plus addresses are in BIP155 format",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 9,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "bbbc8e4c657e8ea81edb6aca2b1870cd3b7459ad",
      "in_reply_to_id": null,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "pico-nit, as `clang-format` suggests, and s/V2/V2_ASMAP/ in comment:\r\n```suggestion\r\n        V0_HISTORICAL = 0,    //!< historic format, before commit e6b343d88\r\n        V1_DETERMINISTIC = 1, //!< for pre-asmap files\r\n        V2_ASMAP = 2,         //!< for files including asmap version\r\n        V3_BIP155 = 3,        //!< same as V2_ASMAP plus addresses are in BIP155 format\r\n```",
      "created_at": "2020-10-05T14:07:54Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r499625806",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499625806"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": 269,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 272,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499626217",
      "pull_request_review_id": 502090310,
      "id": 499626217,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTYyNjIxNw==",
      "diff_hunk": "@@ -102,13 +102,14 @@ class CHashWriter\n     CSHA256 ctx;\n \n     const int nType;\n-    const int nVersion;\n+    int nVersion;\n public:",
      "path": "src/hash.h",
      "position": null,
      "original_position": 6,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "bbbc8e4c657e8ea81edb6aca2b1870cd3b7459ad",
      "in_reply_to_id": null,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "pico-nit:\r\n```suggestion\r\n    int nVersion;\r\n\r\npublic:\r\n```",
      "created_at": "2020-10-05T14:08:33Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r499626217",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499626217"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": 105,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 106,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499650613",
      "pull_request_review_id": 502127617,
      "id": 499650613,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTY1MDYxMw==",
      "diff_hunk": "@@ -102,13 +102,14 @@ class CHashWriter\n     CSHA256 ctx;\n \n     const int nType;\n-    const int nVersion;\n+    int nVersion;\n public:",
      "path": "src/hash.h",
      "position": null,
      "original_position": 6,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "bbbc8e4c657e8ea81edb6aca2b1870cd3b7459ad",
      "in_reply_to_id": 499626217,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2020-10-05T14:41:19Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r499650613",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499650613"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": 105,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 106,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499650706",
      "pull_request_review_id": 502127760,
      "id": 499650706,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTY1MDcwNg==",
      "diff_hunk": "@@ -264,6 +264,17 @@ friend class CAddrManTest;\n     void SetServices_(const CService &addr, ServiceFlags nServices) EXCLUSIVE_LOCKS_REQUIRED(cs);\n \n public:\n+    //! Serialization versions.\n+    enum class Format : uint8_t {\n+        V0_HISTORICAL = 0, //!< historic format, before commit e6b343d88\n+        V1_DETERMINISTIC = 1, //!< for pre-asmap files\n+        V2_ASMAP = 2, //!< for files including asmap version\n+        V3_BIP155 = 3, //!< same as V2 plus addresses are in BIP155 format",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 9,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "bbbc8e4c657e8ea81edb6aca2b1870cd3b7459ad",
      "in_reply_to_id": 499625806,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2020-10-05T14:41:28Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r499650706",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499650706"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": 269,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 272,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499650830",
      "pull_request_review_id": 502127927,
      "id": 499650830,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTY1MDgzMA==",
      "diff_hunk": "@@ -371,13 +390,25 @@ friend class CAddrManTest;\n     }\n \n     template<typename Stream>",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 58,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "bbbc8e4c657e8ea81edb6aca2b1870cd3b7459ad",
      "in_reply_to_id": 499623542,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2020-10-05T14:41:38Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r499650830",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499650830"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 392,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499714046",
      "pull_request_review_id": 502211628,
      "id": 499714046,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTcxNDA0Ng==",
      "diff_hunk": "@@ -102,13 +102,15 @@ class CHashWriter\n     CSHA256 ctx;\n \n     const int nType;\n-    const int nVersion;\n+    int nVersion;\n+\n public:\n \n     CHashWriter(int nTypeIn, int nVersionIn) : nType(nTypeIn), nVersion(nVersionIn) {}\n \n     int GetType() const { return nType; }\n     int GetVersion() const { return nVersion; }\n+    void SetVersion(int n) { nVersion = n; }",
      "path": "src/hash.h",
      "position": null,
      "original_position": 13,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "703db15ae197c6b2e9489c14af441c5d796ff082",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "03572e9 After `git diff c212c7e 703db15` using `OverrideStream`, it looks like we can now revert these changes in `hash.h` and `streams.h`.\r\n```diff\r\n+++ b/src/hash.h\r\n@@ -102,7 +102,7 @@ private:\r\n     const int nType;\r\n-    int nVersion;\r\n+    const int nVersion;\r\n@@ -110,7 +110,6 @@ public:\r\n     int GetVersion() const { return nVersion; }\r\n-    void SetVersion(int n) { nVersion = n; }\r\n\r\n+++ b/src/streams.h\r\n@@ -603,7 +603,7 @@ class CAutoFile\r\n     const int nType;\r\n-    int nVersion;\r\n+    const int nVersion; \r\n@@ -651,7 +651,6 @@ public:\r\n     int GetVersion() const       { return nVersion; }\r\n-    void SetVersion(int n)       { nVersion = n; }\r\n```",
      "created_at": "2020-10-05T16:11:14Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r499714046",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499714046"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 113,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499926937",
      "pull_request_review_id": 502489557,
      "id": 499926937,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTkyNjkzNw==",
      "diff_hunk": "@@ -370,14 +389,26 @@ friend class CAddrManTest;\n         s << asmap_version;\n     }\n \n-    template<typename Stream>\n-    void Unserialize(Stream& s)\n+    template <typename Stream>\n+    void Unserialize(Stream& s_)\n     {\n         LOCK(cs);\n \n         Clear();\n-        unsigned char nVersion;\n-        s >> nVersion;\n+\n+        uint8_t format_tmp;",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 70,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "03572e94cb7249165cc5333c0785e2694c620785",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "You could use `s_ >> Using<CustomUintFormatter<1>>(m_format)` here (and possibly also in `Serialize`, for consistency, though it isn't really a gain there).",
      "created_at": "2020-10-05T23:32:56Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r499926937",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499926937"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 399,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499929630",
      "pull_request_review_id": 502489557,
      "id": 499929630,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTkyOTYzMA==",
      "diff_hunk": "@@ -650,6 +651,7 @@ class CAutoFile\n     //\n     int GetType() const          { return nType; }\n     int GetVersion() const       { return nVersion; }\n+    void SetVersion(int n)       { nVersion = n; }",
      "path": "src/streams.h",
      "position": null,
      "original_position": 21,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "03572e94cb7249165cc5333c0785e2694c620785",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This should be unnecessary as well.",
      "created_at": "2020-10-05T23:43:10Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r499929630",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499929630"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 654,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499932221",
      "pull_request_review_id": 502489557,
      "id": 499932221,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTkzMjIyMQ==",
      "diff_hunk": "@@ -264,6 +264,17 @@ friend class CAddrManTest;\n     void SetServices_(const CService &addr, ServiceFlags nServices) EXCLUSIVE_LOCKS_REQUIRED(cs);\n \n public:\n+    //! Serialization versions.\n+    enum class Format : uint8_t {\n+        V0_HISTORICAL = 0,    //!< historic format, before commit e6b343d88\n+        V1_DETERMINISTIC = 1, //!< for pre-asmap files\n+        V2_ASMAP = 2,         //!< for files including asmap version\n+        V3_BIP155 = 3,        //!< same as V2_ASMAP plus addresses are in BIP155 format\n+    };\n+\n+    //! Serialization / unserialization format.\n+    Format m_format = Format::V3_BIP155;",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 13,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "03572e94cb7249165cc5333c0785e2694c620785",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It's a bit ugly to make the choice of how addrman is serialized on disk dependent on external code properly setting this m_format variable.\r\n\r\nI think it's fine to just always serialize in the latest format. In that case the `format` variable can be just be local to the deserialization code.\r\n\r\nAlternatively, if you want to focus on retaining backward compatibility as long as no BIP155 has been used, you could make the format decision at serialization depend on whether or not IsAddrV1Compatible() is true for all addresses in it.",
      "created_at": "2020-10-05T23:50:58Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r499932221",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499932221"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 276,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499952970",
      "pull_request_review_id": 502489557,
      "id": 499952970,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTk1Mjk3MA==",
      "diff_hunk": "@@ -4104,14 +4137,14 @@ bool PeerManager::SendMessages(CNode* pto)\n                     // receiver rejects addr messages larger than MAX_ADDR_TO_SEND\n                     if (vAddr.size() >= MAX_ADDR_TO_SEND)\n                     {\n-                        m_connman.PushMessage(pto, msgMaker.Make(NetMsgType::ADDR, vAddr));\n+                        m_connman.PushMessage(pto, msgMaker.Make(msg_type, vAddr));",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 93,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "44364147d739cc4566cd1b202f1effd6f81539d8",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "If you use the `CNetMsgMaker:: Make(int nFlags, std::string msg_type, Args&&... args)` variant here, you can control the serialization flags, without needing the special casing for ADDRV2 inside `Make`.",
      "created_at": "2020-10-06T01:11:25Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r499952970",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499952970"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4140,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500134583",
      "pull_request_review_id": 502751215,
      "id": 500134583,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEzNDU4Mw==",
      "diff_hunk": "@@ -102,13 +102,15 @@ class CHashWriter\n     CSHA256 ctx;\n \n     const int nType;\n-    const int nVersion;\n+    int nVersion;\n+\n public:\n \n     CHashWriter(int nTypeIn, int nVersionIn) : nType(nTypeIn), nVersion(nVersionIn) {}\n \n     int GetType() const { return nType; }\n     int GetVersion() const { return nVersion; }\n+    void SetVersion(int n) { nVersion = n; }",
      "path": "src/hash.h",
      "position": null,
      "original_position": 13,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "703db15ae197c6b2e9489c14af441c5d796ff082",
      "in_reply_to_id": 499714046,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Good catch! Removed.",
      "created_at": "2020-10-06T09:28:14Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r500134583",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500134583"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 113,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500135370",
      "pull_request_review_id": 502752290,
      "id": 500135370,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEzNTM3MA==",
      "diff_hunk": "@@ -370,14 +389,26 @@ friend class CAddrManTest;\n         s << asmap_version;\n     }\n \n-    template<typename Stream>\n-    void Unserialize(Stream& s)\n+    template <typename Stream>\n+    void Unserialize(Stream& s_)\n     {\n         LOCK(cs);\n \n         Clear();\n-        unsigned char nVersion;\n-        s >> nVersion;\n+\n+        uint8_t format_tmp;",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 70,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "03572e94cb7249165cc5333c0785e2694c620785",
      "in_reply_to_id": 499926937,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Used `CustomUintFormatter` here, but in `Serialize` it did not compile:\r\n```\r\nsrc/serialize.h:504:15: error: invalid operands to binary expression ('CAddrMan::Format' and 'int')\r\n        if (v < 0 || v > MAX) throw std::ios_base::failure(\"CustomUintFormatter value out of range\");\r\n            ~ ^ ~\r\n```\r\nso I left the `static_cast` there.",
      "created_at": "2020-10-06T09:29:31Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r500135370",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500135370"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 399,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500135658",
      "pull_request_review_id": 502752629,
      "id": 500135658,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEzNTY1OA==",
      "diff_hunk": "@@ -650,6 +651,7 @@ class CAutoFile\n     //\n     int GetType() const          { return nType; }\n     int GetVersion() const       { return nVersion; }\n+    void SetVersion(int n)       { nVersion = n; }",
      "path": "src/streams.h",
      "position": null,
      "original_position": 21,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "03572e94cb7249165cc5333c0785e2694c620785",
      "in_reply_to_id": 499929630,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Removed",
      "created_at": "2020-10-06T09:29:56Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r500135658",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500135658"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 654,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500137462",
      "pull_request_review_id": 502754928,
      "id": 500137462,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEzNzQ2Mg==",
      "diff_hunk": "@@ -264,6 +264,17 @@ friend class CAddrManTest;\n     void SetServices_(const CService &addr, ServiceFlags nServices) EXCLUSIVE_LOCKS_REQUIRED(cs);\n \n public:\n+    //! Serialization versions.\n+    enum class Format : uint8_t {\n+        V0_HISTORICAL = 0,    //!< historic format, before commit e6b343d88\n+        V1_DETERMINISTIC = 1, //!< for pre-asmap files\n+        V2_ASMAP = 2,         //!< for files including asmap version\n+        V3_BIP155 = 3,        //!< same as V2_ASMAP plus addresses are in BIP155 format\n+    };\n+\n+    //! Serialization / unserialization format.\n+    Format m_format = Format::V3_BIP155;",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 13,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "03572e94cb7249165cc5333c0785e2694c620785",
      "in_reply_to_id": 499932221,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I agree \"it's fine to just always serialize in the latest format\", changed the code accordingly - now the format variable is a local one in `Unserialize()` while `Serialize()` just serializes the constant `Format::V3_BIP155`.\r\n\r\nThis is also closer to the behavior before this PR (it always serialized in version 2, the latest at the time).",
      "created_at": "2020-10-06T09:32:53Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r500137462",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500137462"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 276,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500137760",
      "pull_request_review_id": 502755354,
      "id": 500137760,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEzNzc2MA==",
      "diff_hunk": "@@ -264,6 +264,17 @@ friend class CAddrManTest;\n     void SetServices_(const CService &addr, ServiceFlags nServices) EXCLUSIVE_LOCKS_REQUIRED(cs);\n \n public:\n+    //! Serialization versions.\n+    enum class Format : uint8_t {\n+        V0_HISTORICAL = 0,    //!< historic format, before commit e6b343d88\n+        V1_DETERMINISTIC = 1, //!< for pre-asmap files\n+        V2_ASMAP = 2,         //!< for files including asmap version\n+        V3_BIP155 = 3,        //!< same as V2_ASMAP plus addresses are in BIP155 format\n+    };\n+\n+    //! Serialization / unserialization format.\n+    Format m_format = Format::V3_BIP155;",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 13,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "03572e94cb7249165cc5333c0785e2694c620785",
      "in_reply_to_id": 499932221,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Does this mean that `peers.dat` becomes unreadable if a user choose to downgrade his node at some point in the future?",
      "created_at": "2020-10-06T09:33:26Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r500137760",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500137760"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 276,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500144970",
      "pull_request_review_id": 502764808,
      "id": 500144970,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDE0NDk3MA==",
      "diff_hunk": "@@ -4104,14 +4137,14 @@ bool PeerManager::SendMessages(CNode* pto)\n                     // receiver rejects addr messages larger than MAX_ADDR_TO_SEND\n                     if (vAddr.size() >= MAX_ADDR_TO_SEND)\n                     {\n-                        m_connman.PushMessage(pto, msgMaker.Make(NetMsgType::ADDR, vAddr));\n+                        m_connman.PushMessage(pto, msgMaker.Make(msg_type, vAddr));",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 93,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "44364147d739cc4566cd1b202f1effd6f81539d8",
      "in_reply_to_id": 499952970,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "A good interface is [hard or impossible to misuse](https://testing.googleblog.com/2018/07/code-health-make-interfaces-hard-to.html). If we add `ADDRV2_FORMAT` to `nFlags` inside `Make()` that makes it impossible for the caller to misuse it like:\r\n\r\n```cpp\r\nmsgMaker.Make(0, NetMsgType::ADDRv2, vAddr); // huh!?\r\n```\r\n\r\nI think it is not good to impose on the caller: \"whenever you pass `NetMsgType::ADDRv2` for `msg_type` you must also pass `ADDRV2_FORMAT` in `nFlags`\".",
      "created_at": "2020-10-06T09:45:27Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r500144970",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500144970"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4140,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500464672",
      "pull_request_review_id": 503188633,
      "id": 500464672,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDQ2NDY3Mg==",
      "diff_hunk": "@@ -4104,14 +4137,14 @@ bool PeerManager::SendMessages(CNode* pto)\n                     // receiver rejects addr messages larger than MAX_ADDR_TO_SEND\n                     if (vAddr.size() >= MAX_ADDR_TO_SEND)\n                     {\n-                        m_connman.PushMessage(pto, msgMaker.Make(NetMsgType::ADDR, vAddr));\n+                        m_connman.PushMessage(pto, msgMaker.Make(msg_type, vAddr));",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 93,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "44364147d739cc4566cd1b202f1effd6f81539d8",
      "in_reply_to_id": 499952970,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "@vasild I agree with the notion, but this is just the wrong layer to deal with that. The serialization framework (which I'd consider netmessagemaker to be a thin wrapper around) shouldn't have knowledge about the data being serialized, or even about which message types exist.\r\n\r\n> I think it is not good to impose on the caller: \"whenever you pass `NetMsgType::ADDRv2` for `msg_type` you must also pass `ADDRV2_FORMAT` in `nFlags`\".\r\n\r\nI think that's the wrong way to think about it. `CNetMsgMaker` should do as it's told: serializing the object passed with the specified flags, and nothing else. Knowledge about what message types exist, and how data is serialized in them belongs in net_processing.",
      "created_at": "2020-10-06T17:15:12Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r500464672",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500464672"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4140,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500470051",
      "pull_request_review_id": 503195650,
      "id": 500470051,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDQ3MDA1MQ==",
      "diff_hunk": "@@ -264,6 +264,17 @@ friend class CAddrManTest;\n     void SetServices_(const CService &addr, ServiceFlags nServices) EXCLUSIVE_LOCKS_REQUIRED(cs);\n \n public:\n+    //! Serialization versions.\n+    enum class Format : uint8_t {\n+        V0_HISTORICAL = 0,    //!< historic format, before commit e6b343d88\n+        V1_DETERMINISTIC = 1, //!< for pre-asmap files\n+        V2_ASMAP = 2,         //!< for files including asmap version\n+        V3_BIP155 = 3,        //!< same as V2_ASMAP plus addresses are in BIP155 format\n+    };\n+\n+    //! Serialization / unserialization format.\n+    Format m_format = Format::V3_BIP155;",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 13,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "03572e94cb7249165cc5333c0785e2694c620785",
      "in_reply_to_id": 499932221,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Testing this branch:\r\n\r\nOne or two restarts (always the first, sometimes a second one as well) after `cp onion_private_key onion_v3_private_key` to run a v2 service\r\n\r\n```\r\nERROR: DeserializeDB: Deserialize or I/O error - ReadCompactSize(): size too large: iostream error \r\nInvalid or missing peers.dat; recreating\r\n```\r\n\r\nOne, and sometimes two, restarts after `rm onion_v3_private_key` to return to v3\r\n\r\n```\r\nERROR: DeserializeDB: Deserialize or I/O error - ReadCompactSize(): size too large: iostream error \r\nInvalid or missing peers.dat; recreating\r\n```\r\n\r\n\r\nEdit: verified that these messages are new in the debug log and were absent from testing of previous versions.",
      "created_at": "2020-10-06T17:24:01Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r500470051",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500470051"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 276,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500642162",
      "pull_request_review_id": 503416183,
      "id": 500642162,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY0MjE2Mg==",
      "diff_hunk": "@@ -2582,16 +2588,37 @@ void PeerManager::ProcessMessage(CNode& pfrom, const std::string& msg_type, CDat\n         return;\n     }\n \n-    if (msg_type == NetMsgType::ADDR) {\n+    if (msg_type == NetMsgType::ADDR || msg_type == NetMsgType::ADDRv2) {\n+        int stream_version = vRecv.GetVersion();\n+        if (msg_type == NetMsgType::ADDRv2) {\n+            // Add ADDRV2_FORMAT to the version so that the CNetAddr and CAddress\n+            // unserialize methods know that an address in v2 format is coming.\n+            stream_version |= ADDRV2_FORMAT;\n+        }\n+\n+        OverrideStream<CDataStream> s(&vRecv, vRecv.GetType(), stream_version);\n         std::vector<CAddress> vAddr;\n-        vRecv >> vAddr;\n+\n+        try {\n+            s >> vAddr;\n+        } catch (const std::exception& e) {",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 46,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "9502ad10020778722652e41188ae9cdb11e78cf2",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This block shouldn't be needed, `PeerManager::ProcessMessages` will catch exceptions thrown during message processing, and skip to the next message. That doesn't trigger any `Misbehaving`, but whether deserialization failure should have a misbehavior score (and the future of misbehavior scores at all...) seems like an orthogonal issue that needn't be addressed here.",
      "created_at": "2020-10-06T22:57:27Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r500642162",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500642162"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2604,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500643659",
      "pull_request_review_id": 503416183,
      "id": 500643659,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY0MzY1OQ==",
      "diff_hunk": "@@ -2582,16 +2588,37 @@ void PeerManager::ProcessMessage(CNode& pfrom, const std::string& msg_type, CDat\n         return;\n     }\n \n-    if (msg_type == NetMsgType::ADDR) {\n+    if (msg_type == NetMsgType::ADDR || msg_type == NetMsgType::ADDRv2) {\n+        int stream_version = vRecv.GetVersion();\n+        if (msg_type == NetMsgType::ADDRv2) {\n+            // Add ADDRV2_FORMAT to the version so that the CNetAddr and CAddress\n+            // unserialize methods know that an address in v2 format is coming.\n+            stream_version |= ADDRV2_FORMAT;\n+        }\n+\n+        OverrideStream<CDataStream> s(&vRecv, vRecv.GetType(), stream_version);\n         std::vector<CAddress> vAddr;\n-        vRecv >> vAddr;\n+\n+        try {\n+            s >> vAddr;\n+        } catch (const std::exception& e) {\n+            LOCK(cs_main);\n+            Misbehaving(pfrom.GetId(), 20,\n+                strprintf(\n+                    \"Supplied us with a message that contains an unparsable address: %s\",\n+                    e.what()));\n+            return;\n+        }\n \n         if (!pfrom.RelayAddrsWithConn()) {\n             return;\n         }\n         if (vAddr.size() > MAX_ADDR_TO_SEND)\n         {\n-            Misbehaving(pfrom.GetId(), 20, strprintf(\"addr message size = %u\", vAddr.size()));\n+            Misbehaving(pfrom.GetId(), 20,\n+                        strprintf(\"%s message size = %u\",\n+                                  msg_type == NetMsgType::ADDR ? \"addr\" : \"addrv2\",",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 63,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "9502ad10020778722652e41188ae9cdb11e78cf2",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This can instead be:\r\n\r\n```c++\r\nMisbehaving(pfrom.GetId(), 20, strprintf(\"%s message size = %u\", msg_type, vAddr.size()));\r\n```\r\n\r\nAs msg_type is just `const char*`.",
      "created_at": "2020-10-06T23:02:11Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r500643659",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500643659"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2620,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500644138",
      "pull_request_review_id": 503416183,
      "id": 500644138,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY0NDEzOA==",
      "diff_hunk": "@@ -76,6 +76,18 @@ extern const char* VERACK;\n  * network.\n  */\n extern const char* ADDR;\n+/**\n+ * The addrv2 message relays connection information for peers on the network just\n+ * like the addr message, but is extended to allow gossiping of longer node\n+ * addresses (see BIP155).\n+ */\n+extern const char *ADDRv2;",
      "path": "src/protocol.h",
      "position": null,
      "original_position": 9,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "9502ad10020778722652e41188ae9cdb11e78cf2",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Style nit: constants are all caps, so `ADDRV2`",
      "created_at": "2020-10-06T23:03:51Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r500644138",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500644138"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 84,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500644218",
      "pull_request_review_id": 503416183,
      "id": 500644218,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY0NDIxOA==",
      "diff_hunk": "@@ -76,6 +76,18 @@ extern const char* VERACK;\n  * network.\n  */\n extern const char* ADDR;\n+/**\n+ * The addrv2 message relays connection information for peers on the network just\n+ * like the addr message, but is extended to allow gossiping of longer node\n+ * addresses (see BIP155).\n+ */\n+extern const char *ADDRv2;\n+/**\n+ * The sendaddrv2 message signals support for receiving ADDRv2 messages (BIP155).\n+ * It also implies that its sender can encode as ADDRv2 and would send ADDRv2\n+ * instead of ADDR to a peer that has signaled ADDRv2 support by sending SENDADDRv2.\n+ */\n+extern const char *SENDADDRv2;",
      "path": "src/protocol.h",
      "position": null,
      "original_position": 15,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "9502ad10020778722652e41188ae9cdb11e78cf2",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Style nit: constants are all caps, so `SENDADDRV2`.",
      "created_at": "2020-10-06T23:04:07Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r500644218",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500644218"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 90,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500862471",
      "pull_request_review_id": 503682738,
      "id": 500862471,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDg2MjQ3MQ==",
      "diff_hunk": "@@ -4104,14 +4137,14 @@ bool PeerManager::SendMessages(CNode* pto)\n                     // receiver rejects addr messages larger than MAX_ADDR_TO_SEND\n                     if (vAddr.size() >= MAX_ADDR_TO_SEND)\n                     {\n-                        m_connman.PushMessage(pto, msgMaker.Make(NetMsgType::ADDR, vAddr));\n+                        m_connman.PushMessage(pto, msgMaker.Make(msg_type, vAddr));",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 93,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "44364147d739cc4566cd1b202f1effd6f81539d8",
      "in_reply_to_id": 499952970,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "That is also a valid point. Changed.",
      "created_at": "2020-10-07T09:18:00Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r500862471",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500862471"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4140,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500863644",
      "pull_request_review_id": 503684364,
      "id": 500863644,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDg2MzY0NA==",
      "diff_hunk": "@@ -2582,16 +2588,37 @@ void PeerManager::ProcessMessage(CNode& pfrom, const std::string& msg_type, CDat\n         return;\n     }\n \n-    if (msg_type == NetMsgType::ADDR) {\n+    if (msg_type == NetMsgType::ADDR || msg_type == NetMsgType::ADDRv2) {\n+        int stream_version = vRecv.GetVersion();\n+        if (msg_type == NetMsgType::ADDRv2) {\n+            // Add ADDRV2_FORMAT to the version so that the CNetAddr and CAddress\n+            // unserialize methods know that an address in v2 format is coming.\n+            stream_version |= ADDRV2_FORMAT;\n+        }\n+\n+        OverrideStream<CDataStream> s(&vRecv, vRecv.GetType(), stream_version);\n         std::vector<CAddress> vAddr;\n-        vRecv >> vAddr;\n+\n+        try {\n+            s >> vAddr;\n+        } catch (const std::exception& e) {",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 46,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "9502ad10020778722652e41188ae9cdb11e78cf2",
      "in_reply_to_id": 500642162,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I agree, removed the `try/catch`.",
      "created_at": "2020-10-07T09:19:56Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r500863644",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500863644"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2604,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500864365",
      "pull_request_review_id": 503685342,
      "id": 500864365,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDg2NDM2NQ==",
      "diff_hunk": "@@ -2582,16 +2588,37 @@ void PeerManager::ProcessMessage(CNode& pfrom, const std::string& msg_type, CDat\n         return;\n     }\n \n-    if (msg_type == NetMsgType::ADDR) {\n+    if (msg_type == NetMsgType::ADDR || msg_type == NetMsgType::ADDRv2) {\n+        int stream_version = vRecv.GetVersion();\n+        if (msg_type == NetMsgType::ADDRv2) {\n+            // Add ADDRV2_FORMAT to the version so that the CNetAddr and CAddress\n+            // unserialize methods know that an address in v2 format is coming.\n+            stream_version |= ADDRV2_FORMAT;\n+        }\n+\n+        OverrideStream<CDataStream> s(&vRecv, vRecv.GetType(), stream_version);\n         std::vector<CAddress> vAddr;\n-        vRecv >> vAddr;\n+\n+        try {\n+            s >> vAddr;\n+        } catch (const std::exception& e) {\n+            LOCK(cs_main);\n+            Misbehaving(pfrom.GetId(), 20,\n+                strprintf(\n+                    \"Supplied us with a message that contains an unparsable address: %s\",\n+                    e.what()));\n+            return;\n+        }\n \n         if (!pfrom.RelayAddrsWithConn()) {\n             return;\n         }\n         if (vAddr.size() > MAX_ADDR_TO_SEND)\n         {\n-            Misbehaving(pfrom.GetId(), 20, strprintf(\"addr message size = %u\", vAddr.size()));\n+            Misbehaving(pfrom.GetId(), 20,\n+                        strprintf(\"%s message size = %u\",\n+                                  msg_type == NetMsgType::ADDR ? \"addr\" : \"addrv2\",",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 63,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "9502ad10020778722652e41188ae9cdb11e78cf2",
      "in_reply_to_id": 500643659,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Changed. Btw `msg_type` is `std::string` (not `const char*`). `strprintf()` takes it either way.",
      "created_at": "2020-10-07T09:21:04Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r500864365",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500864365"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2620,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500864492",
      "pull_request_review_id": 503685515,
      "id": 500864492,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDg2NDQ5Mg==",
      "diff_hunk": "@@ -76,6 +76,18 @@ extern const char* VERACK;\n  * network.\n  */\n extern const char* ADDR;\n+/**\n+ * The addrv2 message relays connection information for peers on the network just\n+ * like the addr message, but is extended to allow gossiping of longer node\n+ * addresses (see BIP155).\n+ */\n+extern const char *ADDRv2;",
      "path": "src/protocol.h",
      "position": null,
      "original_position": 9,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "9502ad10020778722652e41188ae9cdb11e78cf2",
      "in_reply_to_id": 500644138,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Renamed",
      "created_at": "2020-10-07T09:21:16Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r500864492",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500864492"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 84,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500864676",
      "pull_request_review_id": 503685743,
      "id": 500864676,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDg2NDY3Ng==",
      "diff_hunk": "@@ -76,6 +76,18 @@ extern const char* VERACK;\n  * network.\n  */\n extern const char* ADDR;\n+/**\n+ * The addrv2 message relays connection information for peers on the network just\n+ * like the addr message, but is extended to allow gossiping of longer node\n+ * addresses (see BIP155).\n+ */\n+extern const char *ADDRv2;\n+/**\n+ * The sendaddrv2 message signals support for receiving ADDRv2 messages (BIP155).\n+ * It also implies that its sender can encode as ADDRv2 and would send ADDRv2\n+ * instead of ADDR to a peer that has signaled ADDRv2 support by sending SENDADDRv2.\n+ */\n+extern const char *SENDADDRv2;",
      "path": "src/protocol.h",
      "position": null,
      "original_position": 15,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "9502ad10020778722652e41188ae9cdb11e78cf2",
      "in_reply_to_id": 500644218,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Renamed",
      "created_at": "2020-10-07T09:21:33Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r500864676",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500864676"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 90,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/501572509",
      "pull_request_review_id": 504588708,
      "id": 501572509,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTU3MjUwOQ==",
      "diff_hunk": "@@ -264,6 +264,17 @@ friend class CAddrManTest;\n     void SetServices_(const CService &addr, ServiceFlags nServices) EXCLUSIVE_LOCKS_REQUIRED(cs);\n \n public:\n+    //! Serialization versions.\n+    enum class Format : uint8_t {\n+        V0_HISTORICAL = 0,    //!< historic format, before commit e6b343d88\n+        V1_DETERMINISTIC = 1, //!< for pre-asmap files\n+        V2_ASMAP = 2,         //!< for files including asmap version\n+        V3_BIP155 = 3,        //!< same as V2_ASMAP plus addresses are in BIP155 format\n+    };\n+\n+    //! Serialization / unserialization format.\n+    Format m_format = Format::V3_BIP155;",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 13,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "03572e94cb7249165cc5333c0785e2694c620785",
      "in_reply_to_id": 499932221,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> Does this mean that peers.dat becomes unreadable if a user choose to downgrade his node at some point in the future?\r\n\r\nYes. We can't have bitcoind-before-this-PR to read e.g. torv3 addresses from `peers.dat`.",
      "created_at": "2020-10-08T09:21:22Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r501572509",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/501572509"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 276,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/501812570",
      "pull_request_review_id": 504906013,
      "id": 501812570,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTgxMjU3MA==",
      "diff_hunk": "@@ -264,6 +264,17 @@ friend class CAddrManTest;\n     void SetServices_(const CService &addr, ServiceFlags nServices) EXCLUSIVE_LOCKS_REQUIRED(cs);\n \n public:\n+    //! Serialization versions.\n+    enum class Format : uint8_t {\n+        V0_HISTORICAL = 0,    //!< historic format, before commit e6b343d88\n+        V1_DETERMINISTIC = 1, //!< for pre-asmap files\n+        V2_ASMAP = 2,         //!< for files including asmap version\n+        V3_BIP155 = 3,        //!< same as V2_ASMAP plus addresses are in BIP155 format\n+    };\n+\n+    //! Serialization / unserialization format.\n+    Format m_format = Format::V3_BIP155;",
      "path": "src/addrman.h",
      "position": null,
      "original_position": 13,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "03572e94cb7249165cc5333c0785e2694c620785",
      "in_reply_to_id": 499932221,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Does this require mention in release notes?",
      "created_at": "2020-10-08T15:28:24Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r501812570",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/501812570"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 276,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/501826865",
      "pull_request_review_id": 504925137,
      "id": 501826865,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTgyNjg2NQ==",
      "diff_hunk": "@@ -60,6 +60,7 @@ class OverrideStream\n     int GetVersion() const { return nVersion; }\n     int GetType() const { return nType; }\n     size_t size() const { return stream->size(); }\n+    void ignore(size_t size) { return stream->ignore(size); }",
      "path": "src/streams.h",
      "position": 4,
      "original_position": 4,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "1f06a2901d1ee924b95f482e8693842ee07863de",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "0e05e14\r\n```suggestion\r\n    void ignore(size_t size) const { return stream->ignore(size); }\r\n```",
      "created_at": "2020-10-08T15:48:29Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r501826865",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/501826865"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 63,
      "original_line": 63,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/501828537",
      "pull_request_review_id": 504927305,
      "id": 501828537,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTgyODUzNw==",
      "diff_hunk": "@@ -74,6 +74,15 @@ P2P and network changes\n   node using P2P relay. This version reduces the initial broadcast guarantees\n   for wallet transactions submitted via P2P to a node running the wallet. (#18038)\n \n+- The Tor onion service that is automatically created (`-listenonion`) will now\n+  be created as a Tor v3 service instead of Tor v2. The private key that was used\n+  for Tor v2 (if any) will be left untouched in `onion_private_key` in `-datadir`\n+  and can be removed if not needed. Bitcoin Core will no longer attempt to read it.\n+  The private key for the Tor v3 service will be saved in `onion_v3_private_key`.\n+  To use the deprecated Tor v2 service (not recommended), then `onion_private_key`\n+  can be copied over `onion_v3_private_key`, e.g.\n+  `cp -f onion_private_key onion_v3_private_key`.",
      "path": "doc/release-notes.md",
      "position": null,
      "original_position": 11,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "1f06a2901d1ee924b95f482e8693842ee07863de",
      "in_reply_to_id": null,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This seems like a possible source of user error, but I'm not sure how best to resolve it...\r\nPerhaps we could allow for `-listenonion=v2` and `-listenonion=v3`? Somehow that doesn't seem the most satisfying to me either... ",
      "created_at": "2020-10-08T15:50:46Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r501828537",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/501828537"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": 82,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 92,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/501834717",
      "pull_request_review_id": 504925137,
      "id": 501834717,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTgzNDcxNw==",
      "diff_hunk": "@@ -474,6 +474,26 @@ bool CNetAddr::IsInternal() const\n    return m_net == NET_INTERNAL;\n }\n \n+bool CNetAddr::IsAddrV1Compatible() const\n+{\n+    switch (m_net) {\n+    case NET_IPV4:\n+    case NET_IPV6:\n+    case NET_INTERNAL:\n+        return true;\n+    case NET_ONION:\n+        return m_addr.size() == ADDR_TORV2_SIZE;\n+    case NET_I2P:\n+    case NET_CJDNS:\n+        return false;\n+    case NET_UNROUTABLE: // m_net is never and should not be set to NET_UNROUTABLE\n+    case NET_MAX:        // m_net is never and should not be set to NET_MAX\n+        assert(false);\n+    }\n+\n+    return false;\n+}",
      "path": "src/netaddress.cpp",
      "position": 22,
      "original_position": 22,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "1f06a2901d1ee924b95f482e8693842ee07863de",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "93c8f0ea suggestion (like `GetBIP155Network`)\r\n```diff\r\n-    }\r\n-\r\n-    return false;\r\n+    } // no default case, so the compiler can warn about missing cases\r\n+    assert(false);\r\n }\r\n```\r\n",
      "created_at": "2020-10-08T15:59:36Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r501834717",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/501834717"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 495,
      "original_line": 495,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/501840169",
      "pull_request_review_id": 504925137,
      "id": 501840169,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTg0MDE2OQ==",
      "diff_hunk": "@@ -74,6 +74,15 @@ P2P and network changes\n   node using P2P relay. This version reduces the initial broadcast guarantees\n   for wallet transactions submitted via P2P to a node running the wallet. (#18038)\n \n+- The Tor onion service that is automatically created (`-listenonion`) will now\n+  be created as a Tor v3 service instead of Tor v2. The private key that was used\n+  for Tor v2 (if any) will be left untouched in `onion_private_key` in `-datadir`\n+  and can be removed if not needed. Bitcoin Core will no longer attempt to read it.\n+  The private key for the Tor v3 service will be saved in `onion_v3_private_key`.\n+  To use the deprecated Tor v2 service (not recommended), then `onion_private_key`\n+  can be copied over `onion_v3_private_key`, e.g.\n+  `cp -f onion_private_key onion_v3_private_key`.",
      "path": "doc/release-notes.md",
      "position": null,
      "original_position": 11,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "1f06a2901d1ee924b95f482e8693842ee07863de",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "1f06a2901d1ee924b95f482e8693842ee07863de Perhaps inform users of the debug log messages, e.g. `ERROR: DeserializeDB: Deserialize or I/O error` and `Invalid or missing peers.dat`, that they may see if they use tor v2 henceforth, at least per my testing.",
      "created_at": "2020-10-08T16:07:43Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r501840169",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/501840169"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 92,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502227966",
      "pull_request_review_id": 505410868,
      "id": 502227966,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjIyNzk2Ng==",
      "diff_hunk": "@@ -74,6 +74,15 @@ P2P and network changes\n   node using P2P relay. This version reduces the initial broadcast guarantees\n   for wallet transactions submitted via P2P to a node running the wallet. (#18038)\n \n+- The Tor onion service that is automatically created (`-listenonion`) will now\n+  be created as a Tor v3 service instead of Tor v2. The private key that was used\n+  for Tor v2 (if any) will be left untouched in `onion_private_key` in `-datadir`\n+  and can be removed if not needed. Bitcoin Core will no longer attempt to read it.\n+  The private key for the Tor v3 service will be saved in `onion_v3_private_key`.\n+  To use the deprecated Tor v2 service (not recommended), then `onion_private_key`\n+  can be copied over `onion_v3_private_key`, e.g.\n+  `cp -f onion_private_key onion_v3_private_key`.",
      "path": "doc/release-notes.md",
      "position": null,
      "original_position": 11,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "1f06a2901d1ee924b95f482e8693842ee07863de",
      "in_reply_to_id": 501828537,
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Personally, I think it would be ok to not support v2 addresses at all anymore. Given the short time they have left. But that there's a workaround (even if clunky) might help for some people.",
      "created_at": "2020-10-09T07:04:34Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r502227966",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502227966"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": 82,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 92,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502257883",
      "pull_request_review_id": 505449321,
      "id": 502257883,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI1Nzg4Mw==",
      "diff_hunk": "@@ -74,6 +74,15 @@ P2P and network changes\n   node using P2P relay. This version reduces the initial broadcast guarantees\n   for wallet transactions submitted via P2P to a node running the wallet. (#18038)\n \n+- The Tor onion service that is automatically created (`-listenonion`) will now\n+  be created as a Tor v3 service instead of Tor v2. The private key that was used\n+  for Tor v2 (if any) will be left untouched in `onion_private_key` in `-datadir`\n+  and can be removed if not needed. Bitcoin Core will no longer attempt to read it.\n+  The private key for the Tor v3 service will be saved in `onion_v3_private_key`.\n+  To use the deprecated Tor v2 service (not recommended), then `onion_private_key`\n+  can be copied over `onion_v3_private_key`, e.g.\n+  `cp -f onion_private_key onion_v3_private_key`.",
      "path": "doc/release-notes.md",
      "position": null,
      "original_position": 11,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "1f06a2901d1ee924b95f482e8693842ee07863de",
      "in_reply_to_id": 501828537,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "@laanwj, I agree, given torv2 addresses will cease in less than a year - no need to add new config options (or extend existent ones) only to deprecate them immediately.",
      "created_at": "2020-10-09T08:06:27Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r502257883",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502257883"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": 82,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 92,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502261017",
      "pull_request_review_id": 505454458,
      "id": 502261017,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI2MTAxNw==",
      "diff_hunk": "@@ -60,6 +60,7 @@ class OverrideStream\n     int GetVersion() const { return nVersion; }\n     int GetType() const { return nType; }\n     size_t size() const { return stream->size(); }\n+    void ignore(size_t size) { return stream->ignore(size); }",
      "path": "src/streams.h",
      "position": 4,
      "original_position": 4,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "1f06a2901d1ee924b95f482e8693842ee07863de",
      "in_reply_to_id": 501826865,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`ignore()` modifies the state of the stream. It is not `const` in `CDataStream` and `CAutoFile` so this would not compile.",
      "created_at": "2020-10-09T08:12:07Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r502261017",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502261017"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 63,
      "original_line": 63,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502280047",
      "pull_request_review_id": 505478415,
      "id": 502280047,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI4MDA0Nw==",
      "diff_hunk": "@@ -60,6 +60,7 @@ class OverrideStream\n     int GetVersion() const { return nVersion; }\n     int GetType() const { return nType; }\n     size_t size() const { return stream->size(); }\n+    void ignore(size_t size) { return stream->ignore(size); }",
      "path": "src/streams.h",
      "position": 4,
      "original_position": 4,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "1f06a2901d1ee924b95f482e8693842ee07863de",
      "in_reply_to_id": 501826865,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It does compile (I test if my suggestions compile before making them), though arguably const on a void function may not make sense. Consider this suggestion a question.",
      "created_at": "2020-10-09T08:45:19Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r502280047",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502280047"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 63,
      "original_line": 63,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502292684",
      "pull_request_review_id": 505494557,
      "id": 502292684,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI5MjY4NA==",
      "diff_hunk": "@@ -60,6 +60,7 @@ class OverrideStream\n     int GetVersion() const { return nVersion; }\n     int GetType() const { return nType; }\n     size_t size() const { return stream->size(); }\n+    void ignore(size_t size) { return stream->ignore(size); }",
      "path": "src/streams.h",
      "position": 4,
      "original_position": 4,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "1f06a2901d1ee924b95f482e8693842ee07863de",
      "in_reply_to_id": 501826865,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "\"void f() const makes the function itself const. This only really has meaning for member functions. Making a member function const means that it cannot call any non-const member functions, nor can it change any member variables. It also means that the function can be called via a const object of the class.\" http://www.cplusplus.com/forum/general/12087/ (reply in 2009)\r\n\r\nalso: https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#con2-by-default-make-member-functions-const",
      "created_at": "2020-10-09T09:07:08Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r502292684",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502292684"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 63,
      "original_line": 63,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502295708",
      "pull_request_review_id": 505498483,
      "id": 502295708,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI5NTcwOA==",
      "diff_hunk": "@@ -74,6 +74,15 @@ P2P and network changes\n   node using P2P relay. This version reduces the initial broadcast guarantees\n   for wallet transactions submitted via P2P to a node running the wallet. (#18038)\n \n+- The Tor onion service that is automatically created (`-listenonion`) will now\n+  be created as a Tor v3 service instead of Tor v2. The private key that was used\n+  for Tor v2 (if any) will be left untouched in `onion_private_key` in `-datadir`\n+  and can be removed if not needed. Bitcoin Core will no longer attempt to read it.\n+  The private key for the Tor v3 service will be saved in `onion_v3_private_key`.\n+  To use the deprecated Tor v2 service (not recommended), then `onion_private_key`\n+  can be copied over `onion_v3_private_key`, e.g.\n+  `cp -f onion_private_key onion_v3_private_key`.",
      "path": "doc/release-notes.md",
      "position": null,
      "original_position": 11,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "1f06a2901d1ee924b95f482e8693842ee07863de",
      "in_reply_to_id": 501840169,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Added a release notes mention.",
      "created_at": "2020-10-09T09:12:35Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r502295708",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502295708"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 92,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502295809",
      "pull_request_review_id": 505498591,
      "id": 502295809,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI5NTgwOQ==",
      "diff_hunk": "@@ -474,6 +474,26 @@ bool CNetAddr::IsInternal() const\n    return m_net == NET_INTERNAL;\n }\n \n+bool CNetAddr::IsAddrV1Compatible() const\n+{\n+    switch (m_net) {\n+    case NET_IPV4:\n+    case NET_IPV6:\n+    case NET_INTERNAL:\n+        return true;\n+    case NET_ONION:\n+        return m_addr.size() == ADDR_TORV2_SIZE;\n+    case NET_I2P:\n+    case NET_CJDNS:\n+        return false;\n+    case NET_UNROUTABLE: // m_net is never and should not be set to NET_UNROUTABLE\n+    case NET_MAX:        // m_net is never and should not be set to NET_MAX\n+        assert(false);\n+    }\n+\n+    return false;\n+}",
      "path": "src/netaddress.cpp",
      "position": 22,
      "original_position": 22,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "1f06a2901d1ee924b95f482e8693842ee07863de",
      "in_reply_to_id": 501834717,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2020-10-09T09:12:45Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r502295809",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502295809"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 495,
      "original_line": 495,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502296690",
      "pull_request_review_id": 505499825,
      "id": 502296690,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI5NjY5MA==",
      "diff_hunk": "@@ -60,6 +60,7 @@ class OverrideStream\n     int GetVersion() const { return nVersion; }\n     int GetType() const { return nType; }\n     size_t size() const { return stream->size(); }\n+    void ignore(size_t size) { return stream->ignore(size); }",
      "path": "src/streams.h",
      "position": 4,
      "original_position": 4,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "1f06a2901d1ee924b95f482e8693842ee07863de",
      "in_reply_to_id": 501826865,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think it should not be `const` because it modifies the state of the stream. I guess it is not `const` for the same reason in the other stream classes.",
      "created_at": "2020-10-09T09:14:21Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r502296690",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502296690"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 63,
      "original_line": 63,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502301880",
      "pull_request_review_id": 505506381,
      "id": 502301880,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjMwMTg4MA==",
      "diff_hunk": "@@ -24,7 +24,11 @@\n #include <prevector.h>\n #include <span.h>\n \n-static const unsigned int MAX_SIZE = 0x02000000;\n+/**\n+ * The maximum size of a serialized object in bytes or number of elements\n+ * (for eg vectors) when the size is encoded as CompactSize.",
      "path": "src/serialize.h",
      "position": 7,
      "original_position": 7,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "9b56a68a85ce32b13d3db605ac56bb9743437d2f",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "1d3ec2a nit\r\n```suggestion\r\n * (e.g. for vectors) when the size is encoded as CompactSize.\r\n```",
      "created_at": "2020-10-09T09:23:20Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r502301880",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502301880"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 29,
      "original_line": 29,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502333178",
      "pull_request_review_id": 505506381,
      "id": 502333178,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjMzMzE3OA==",
      "diff_hunk": "@@ -370,14 +382,34 @@ friend class CAddrManTest;\n         s << asmap_version;\n     }\n \n-    template<typename Stream>\n-    void Unserialize(Stream& s)\n+    template <typename Stream>\n+    void Unserialize(Stream& s_)\n     {\n         LOCK(cs);\n \n         Clear();\n-        unsigned char nVersion;\n-        s >> nVersion;\n+\n+        Format format;\n+        s_ >> Using<CustomUintFormatter<1>>(format);\n+\n+        static constexpr Format maximum_supported_format = Format::V3_BIP155;\n+        if (format > maximum_supported_format) {\n+            throw std::ios_base::failure(strprintf(\n+                \"Unsupported format of addrman database: %u. Maximum supported is %u. \"\n+                \"Continuing operation without using the saved list of peers.\",",
      "path": "src/addrman.h",
      "position": 77,
      "original_position": 77,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "9b56a68a85ce32b13d3db605ac56bb9743437d2f",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "6fce3ce maybe\r\n```suggestion\r\n                \"Continuing operation by creating a new peers.dat file in the maximum supported format\",\r\n```\r\ncurrently (for me on debian) it would print\r\n\r\n`ERROR: DeserializeDB: Deserialize or I/O error - Unsupported format of addrman database: 4. Maximum supported is 3. Continuing operation without using the saved list of peers.: iostream error`",
      "created_at": "2020-10-09T10:22:46Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r502333178",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502333178"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 399,
      "original_line": 399,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502350905",
      "pull_request_review_id": 505571377,
      "id": 502350905,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjM1MDkwNQ==",
      "diff_hunk": "@@ -24,7 +24,11 @@\n #include <prevector.h>\n #include <span.h>\n \n-static const unsigned int MAX_SIZE = 0x02000000;\n+/**\n+ * The maximum size of a serialized object in bytes or number of elements\n+ * (for eg vectors) when the size is encoded as CompactSize.",
      "path": "src/serialize.h",
      "position": 7,
      "original_position": 7,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "9b56a68a85ce32b13d3db605ac56bb9743437d2f",
      "in_reply_to_id": 502301880,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The dot terminates the doxygen title.\r\n![dox1](https://user-images.githubusercontent.com/266751/95575574-3abae680-0a2f-11eb-91e7-8b39ef12e317.jpg)\r\n![dox2](https://user-images.githubusercontent.com/266751/95575577-3b537d00-0a2f-11eb-98df-659dd55565dc.jpg)\r\n",
      "created_at": "2020-10-09T11:00:08Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r502350905",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502350905"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 29,
      "original_line": 29,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502355359",
      "pull_request_review_id": 505577316,
      "id": 502355359,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjM1NTM1OQ==",
      "diff_hunk": "@@ -24,7 +24,11 @@\n #include <prevector.h>\n #include <span.h>\n \n-static const unsigned int MAX_SIZE = 0x02000000;\n+/**\n+ * The maximum size of a serialized object in bytes or number of elements\n+ * (for eg vectors) when the size is encoded as CompactSize.",
      "path": "src/serialize.h",
      "position": 7,
      "original_position": 7,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "9b56a68a85ce32b13d3db605ac56bb9743437d2f",
      "in_reply_to_id": 502301880,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "TIL, thanks. Apparently, per https://www.doxygen.nl/manual/docblocks.html#docexamples: \"To enable this behavior you should set JAVADOC_AUTOBRIEF to YES in the configuration file. If you enable this option and want to put a dot in the middle of a sentence without ending it, you should put a backslash and a space after it. Here is an example: `/** Brief description (e.g.\\ using only a few words). Details follow. */`\"\r\n\r\nIndeed, doesn't seem worth it.\r\n",
      "created_at": "2020-10-09T11:10:11Z",
      "updated_at": "2020-10-09T14:46:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r502355359",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502355359"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 29,
      "original_line": 29,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502482433",
      "pull_request_review_id": 505745488,
      "id": 502482433,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjQ4MjQzMw==",
      "diff_hunk": "@@ -370,14 +382,34 @@ friend class CAddrManTest;\n         s << asmap_version;\n     }\n \n-    template<typename Stream>\n-    void Unserialize(Stream& s)\n+    template <typename Stream>\n+    void Unserialize(Stream& s_)\n     {\n         LOCK(cs);\n \n         Clear();\n-        unsigned char nVersion;\n-        s >> nVersion;\n+\n+        Format format;\n+        s_ >> Using<CustomUintFormatter<1>>(format);\n+\n+        static constexpr Format maximum_supported_format = Format::V3_BIP155;\n+        if (format > maximum_supported_format) {\n+            throw std::ios_base::failure(strprintf(\n+                \"Unsupported format of addrman database: %u. Maximum supported is %u. \"\n+                \"Continuing operation without using the saved list of peers.\",",
      "path": "src/addrman.h",
      "position": 77,
      "original_position": 77,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "9b56a68a85ce32b13d3db605ac56bb9743437d2f",
      "in_reply_to_id": 502333178,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "\"Continuing operation by creating a new peers.dat\" is, strictly speaking, not true because the new `peers.dat` will not be created at the time this message is printed. It will be created later during shutdown or during one of the periodic dumps to disk.\r\n\r\nI left it as is.",
      "created_at": "2020-10-09T14:49:12Z",
      "updated_at": "2020-10-09T14:49:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r502482433",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502482433"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 399,
      "original_line": 399,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502715960",
      "pull_request_review_id": 506041004,
      "id": 502715960,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjcxNTk2MA==",
      "diff_hunk": "@@ -370,14 +382,34 @@ friend class CAddrManTest;\n         s << asmap_version;\n     }\n \n-    template<typename Stream>\n-    void Unserialize(Stream& s)\n+    template <typename Stream>\n+    void Unserialize(Stream& s_)\n     {\n         LOCK(cs);\n \n         Clear();\n-        unsigned char nVersion;\n-        s >> nVersion;\n+\n+        Format format;\n+        s_ >> Using<CustomUintFormatter<1>>(format);\n+\n+        static constexpr Format maximum_supported_format = Format::V3_BIP155;\n+        if (format > maximum_supported_format) {\n+            throw std::ios_base::failure(strprintf(\n+                \"Unsupported format of addrman database: %u. Maximum supported is %u. \"\n+                \"Continuing operation without using the saved list of peers.\",\n+                static_cast<uint8_t>(format),\n+                static_cast<uint8_t>(maximum_supported_format)));\n+        }\n+\n+        int stream_version = s_.GetVersion();\n+        if (format >= Format::V3_BIP155) {",
      "path": "src/addrman.h",
      "position": 83,
      "original_position": 83,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "in_reply_to_id": null,
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "As `maximum_supported_format` is currently V3_BIP155, the format should never be superior otherwise it would have throw L397. Did this is an attempt to future-proof  bump of the serialization format ? A future serialization format may override ADDRV2_FORMAT.",
      "created_at": "2020-10-09T23:54:07Z",
      "updated_at": "2020-10-10T01:10:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r502715960",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502715960"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 405,
      "original_line": 405,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502719748",
      "pull_request_review_id": 506041004,
      "id": 502719748,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjcxOTc0OA==",
      "diff_hunk": "@@ -868,6 +868,11 @@ class CNode\n     bool m_legacyWhitelisted{false};\n     bool fClient{false}; // set by version message\n     bool m_limited_node{false}; //after BIP159, set by version message\n+    /**\n+     * Whether the peer has signaled support for receiving ADDRv2 (BIP155)\n+     * messages, implying a preference to receive ADDRv2 instead of ADDR ones.",
      "path": "src/net.h",
      "position": 6,
      "original_position": 6,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "in_reply_to_id": null,
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think the BIP could be clearer on `addr/addrv2` processing responsibility once a `sendaddrv2` is received. \r\n\r\nOnce a `sendaddrv2` is received from a peer, a node :\r\n* MUST use `addrv2` messages to gossip addresses\r\n* MUST accept `addrv2`messages\r\n* MAY accept `addr` messages\r\n\r\nI guess it's better to be liberal with acceptance of legacy `addr` messages from `addrv2`-signaling peers (AFAICT what this PR does) to avoid loosing a potentially good block/tx-relay peer, even if it's a clear hint of a buggy BIP155 implementation.",
      "created_at": "2020-10-10T00:17:26Z",
      "updated_at": "2020-10-10T01:10:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r502719748",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502719748"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 873,
      "original_line": 873,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502722714",
      "pull_request_review_id": 506041004,
      "id": 502722714,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjcyMjcxNA==",
      "diff_hunk": "@@ -1115,11 +1120,16 @@ class CNode\n \n     void PushAddress(const CAddress& _addr, FastRandomContext &insecure_rand)\n     {\n+        // Whether the peer supports the address in `_addr`. For example,\n+        // nodes that do not implement BIP155 cannot receive Tor v3 addresses\n+        // because they require ADDRv2 (BIP155) encoding.\n+        const bool addr_format_supported = m_wants_addrv2 || _addr.IsAddrV1Compatible();",
      "path": "src/net.h",
      "position": 19,
      "original_position": 19,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "in_reply_to_id": null,
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think this check could be part of the net_processing layer, thus saving a function call in case of not-supported address as nothing is done otherwise. Further, it avoids having `m_wants_addrv2` in `CNode` which may contradict @jnewbery 's #19398, especially this PoC cleaning branch : https://github.com/jnewbery/bitcoin/commit/6fb753520787e13b5fdcbf835be781506537841b\r\n\r\nThat said, gathering the check here likely avoids duplicating checks in net_processing, and it can be clean-up later if it considered as worthy.",
      "created_at": "2020-10-10T00:40:30Z",
      "updated_at": "2020-10-10T01:10:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r502722714",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502722714"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1126,
      "original_line": 1126,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502724858",
      "pull_request_review_id": 506041004,
      "id": 502724858,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjcyNDg1OA==",
      "diff_hunk": "@@ -2582,16 +2588,25 @@ void PeerManager::ProcessMessage(CNode& pfrom, const std::string& msg_type, CDat\n         return;\n     }\n \n-    if (msg_type == NetMsgType::ADDR) {\n+    if (msg_type == NetMsgType::ADDR || msg_type == NetMsgType::ADDRV2) {\n+        int stream_version = vRecv.GetVersion();\n+        if (msg_type == NetMsgType::ADDRV2) {\n+            // Add ADDRV2_FORMAT to the version so that the CNetAddr and CAddress\n+            // unserialize methods know that an address in v2 format is coming.\n+            stream_version |= ADDRV2_FORMAT;",
      "path": "src/net_processing.cpp",
      "position": 37,
      "original_position": 37,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "in_reply_to_id": null,
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It might be interesting to underscore in comment that an address discovered from a BIP155 upgraded peer will be relayed further (`RelayAddress`) to non-upgraded ones through legacy `addr` message if the contained address is understood. \r\n\r\nI think it should even be part of the BIP to make a best-effort of BIP155 implementations filtering and relaying forward to non-upgraded peers addresses initially discovered through `addrv2`. What you want to avoid is a node failing to relay a whole ADDRV2 blob to non-upgraded peers, without extracting the peer-understood addresses.",
      "created_at": "2020-10-10T00:58:42Z",
      "updated_at": "2020-10-10T01:10:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r502724858",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502724858"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2596,
      "original_line": 2596,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502783796",
      "pull_request_review_id": 506092744,
      "id": 502783796,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjc4Mzc5Ng==",
      "diff_hunk": "@@ -370,14 +382,34 @@ friend class CAddrManTest;\n         s << asmap_version;\n     }\n \n-    template<typename Stream>\n-    void Unserialize(Stream& s)\n+    template <typename Stream>\n+    void Unserialize(Stream& s_)\n     {\n         LOCK(cs);\n \n         Clear();\n-        unsigned char nVersion;\n-        s >> nVersion;\n+\n+        Format format;\n+        s_ >> Using<CustomUintFormatter<1>>(format);\n+\n+        static constexpr Format maximum_supported_format = Format::V3_BIP155;\n+        if (format > maximum_supported_format) {\n+            throw std::ios_base::failure(strprintf(\n+                \"Unsupported format of addrman database: %u. Maximum supported is %u. \"\n+                \"Continuing operation without using the saved list of peers.\",\n+                static_cast<uint8_t>(format),\n+                static_cast<uint8_t>(maximum_supported_format)));\n+        }\n+\n+        int stream_version = s_.GetVersion();\n+        if (format >= Format::V3_BIP155) {",
      "path": "src/addrman.h",
      "position": 83,
      "original_position": 83,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "in_reply_to_id": 502715960,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, this code will now only be reached if `format == V3_BIP155`. In the future `format` may be higher. By using `>=` we assume that a future format `V4_FOO` will also use `addrv2` encoding in which case this code will not have to be changed. If a future `V4_FOO` does not use `addrv2`, then this line will have to be changed to `==`.\r\n\r\nNotice however that if we use `==` now and a future `V4_FOO` still uses `addrv2`, then this line will have to be changed from `==` to `>=`.",
      "created_at": "2020-10-10T12:07:59Z",
      "updated_at": "2020-10-10T12:07:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r502783796",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502783796"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 405,
      "original_line": 405,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502785105",
      "pull_request_review_id": 506093649,
      "id": 502785105,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjc4NTEwNQ==",
      "diff_hunk": "@@ -868,6 +868,11 @@ class CNode\n     bool m_legacyWhitelisted{false};\n     bool fClient{false}; // set by version message\n     bool m_limited_node{false}; //after BIP159, set by version message\n+    /**\n+     * Whether the peer has signaled support for receiving ADDRv2 (BIP155)\n+     * messages, implying a preference to receive ADDRv2 instead of ADDR ones.",
      "path": "src/net.h",
      "position": 6,
      "original_position": 6,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "in_reply_to_id": 502719748,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Do you mean this?\r\n\r\n> Once `B` receives `sendaddrv2` from `A`:\r\n>\r\n> * `B` MUST use `addrv2` messages to gossip addresses to `A`\r\n> * `B` MUST accept `addrv2` messages from `A`\r\n> * `B` MAY accept `addr` messages from `A`\r\n\r\nThe current PR accepts both `addr` and `addrv2` no matter whether `sendaddrv2` has been sent or received.",
      "created_at": "2020-10-10T12:23:38Z",
      "updated_at": "2020-10-10T12:23:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r502785105",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502785105"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 873,
      "original_line": 873,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502787260",
      "pull_request_review_id": 506094085,
      "id": 502787260,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjc4NzI2MA==",
      "diff_hunk": "@@ -2582,16 +2588,25 @@ void PeerManager::ProcessMessage(CNode& pfrom, const std::string& msg_type, CDat\n         return;\n     }\n \n-    if (msg_type == NetMsgType::ADDR) {\n+    if (msg_type == NetMsgType::ADDR || msg_type == NetMsgType::ADDRV2) {\n+        int stream_version = vRecv.GetVersion();\n+        if (msg_type == NetMsgType::ADDRV2) {\n+            // Add ADDRV2_FORMAT to the version so that the CNetAddr and CAddress\n+            // unserialize methods know that an address in v2 format is coming.\n+            stream_version |= ADDRV2_FORMAT;",
      "path": "src/net_processing.cpp",
      "position": 37,
      "original_position": 37,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "in_reply_to_id": 502724858,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`addr` and `addrv2` are just a transport encodings. Once received, the address is not in any particular encoding, it is a `CAddress` object in the memory of the node, not in `addr` nor in `addrv2` encoding.\r\n\r\nSo, when we further relay a `CAddress` object we don't care in what encoding we received it.",
      "created_at": "2020-10-10T12:48:28Z",
      "updated_at": "2020-10-10T12:48:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r502787260",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502787260"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2596,
      "original_line": 2596,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502787620",
      "pull_request_review_id": 506095393,
      "id": 502787620,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjc4NzYyMA==",
      "diff_hunk": "@@ -1115,11 +1120,16 @@ class CNode\n \n     void PushAddress(const CAddress& _addr, FastRandomContext &insecure_rand)\n     {\n+        // Whether the peer supports the address in `_addr`. For example,\n+        // nodes that do not implement BIP155 cannot receive Tor v3 addresses\n+        // because they require ADDRv2 (BIP155) encoding.\n+        const bool addr_format_supported = m_wants_addrv2 || _addr.IsAddrV1Compatible();",
      "path": "src/net.h",
      "position": 19,
      "original_position": 19,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "in_reply_to_id": 502722714,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`PushAddress()` is called from 5 places. We don't want to duplicate the same code in 5 places.",
      "created_at": "2020-10-10T12:52:39Z",
      "updated_at": "2020-10-10T12:52:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r502787620",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502787620"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1126,
      "original_line": 1126,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502797250",
      "pull_request_review_id": 506102144,
      "id": 502797250,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjc5NzI1MA==",
      "diff_hunk": "@@ -1115,11 +1120,16 @@ class CNode\n \n     void PushAddress(const CAddress& _addr, FastRandomContext &insecure_rand)\n     {\n+        // Whether the peer supports the address in `_addr`. For example,\n+        // nodes that do not implement BIP155 cannot receive Tor v3 addresses\n+        // because they require ADDRv2 (BIP155) encoding.\n+        const bool addr_format_supported = m_wants_addrv2 || _addr.IsAddrV1Compatible();",
      "path": "src/net.h",
      "position": 19,
      "original_position": 19,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "in_reply_to_id": 502722714,
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Well another alternative is a new method `IsAddrUnderstood` on `CNode` making the call to `PushAddress()` conditional on it results. It can be done later, not a real concern.",
      "created_at": "2020-10-10T14:38:17Z",
      "updated_at": "2020-10-10T14:38:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r502797250",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502797250"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1126,
      "original_line": 1126,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502797362",
      "pull_request_review_id": 506102226,
      "id": 502797362,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjc5NzM2Mg==",
      "diff_hunk": "@@ -868,6 +868,11 @@ class CNode\n     bool m_legacyWhitelisted{false};\n     bool fClient{false}; // set by version message\n     bool m_limited_node{false}; //after BIP159, set by version message\n+    /**\n+     * Whether the peer has signaled support for receiving ADDRv2 (BIP155)\n+     * messages, implying a preference to receive ADDRv2 instead of ADDR ones.",
      "path": "src/net.h",
      "position": 6,
      "original_position": 6,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "in_reply_to_id": 502719748,
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> Do you mean this?\r\n\r\nYes, I think the BIP should state this clearly to hint other implementations. The current PR code is correct.",
      "created_at": "2020-10-10T14:39:22Z",
      "updated_at": "2020-10-10T14:39:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r502797362",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502797362"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 873,
      "original_line": 873,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502797750",
      "pull_request_review_id": 506102496,
      "id": 502797750,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjc5Nzc1MA==",
      "diff_hunk": "@@ -2582,16 +2588,25 @@ void PeerManager::ProcessMessage(CNode& pfrom, const std::string& msg_type, CDat\n         return;\n     }\n \n-    if (msg_type == NetMsgType::ADDR) {\n+    if (msg_type == NetMsgType::ADDR || msg_type == NetMsgType::ADDRV2) {\n+        int stream_version = vRecv.GetVersion();\n+        if (msg_type == NetMsgType::ADDRV2) {\n+            // Add ADDRV2_FORMAT to the version so that the CNetAddr and CAddress\n+            // unserialize methods know that an address in v2 format is coming.\n+            stream_version |= ADDRV2_FORMAT;",
      "path": "src/net_processing.cpp",
      "position": 37,
      "original_position": 37,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "in_reply_to_id": 502724858,
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> So, when we further relay a CAddress object we don't care in what encoding we received it.\r\n\r\nRight, it's a just a matter of stating this in the BIP to avoid other implementations not propagating addresses due to receiving transport encoding A but forgetting to relay the decoded addr stream to peers speaking transport encoding B.",
      "created_at": "2020-10-10T14:43:17Z",
      "updated_at": "2020-10-10T14:43:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r502797750",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502797750"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2596,
      "original_line": 2596,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502809727",
      "pull_request_review_id": 506111359,
      "id": 502809727,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjgwOTcyNw==",
      "diff_hunk": "@@ -2582,16 +2588,25 @@ void PeerManager::ProcessMessage(CNode& pfrom, const std::string& msg_type, CDat\n         return;\n     }\n \n-    if (msg_type == NetMsgType::ADDR) {\n+    if (msg_type == NetMsgType::ADDR || msg_type == NetMsgType::ADDRV2) {\n+        int stream_version = vRecv.GetVersion();\n+        if (msg_type == NetMsgType::ADDRV2) {\n+            // Add ADDRV2_FORMAT to the version so that the CNetAddr and CAddress\n+            // unserialize methods know that an address in v2 format is coming.\n+            stream_version |= ADDRV2_FORMAT;",
      "path": "src/net_processing.cpp",
      "position": 37,
      "original_position": 37,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "in_reply_to_id": 502724858,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I don't think we should aim to specify relay behavior in BIPs. There is no requirement that all software behaves the same, and best practices around it are constant changing in response to attacks and observed network conditions.\r\n\r\nThe BIP specifies what means of communicating addresses are available. What that gets used for is local node policy.",
      "created_at": "2020-10-10T16:53:59Z",
      "updated_at": "2020-10-10T16:53:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r502809727",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/502809727"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2596,
      "original_line": 2596,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/503075378",
      "pull_request_review_id": 506337899,
      "id": 503075378,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzA3NTM3OA==",
      "diff_hunk": "@@ -443,4 +447,105 @@ BOOST_AUTO_TEST_CASE(netbase_dont_resolve_strings_with_embedded_nul_characters)\n     BOOST_CHECK(!LookupSubNet(std::string(\"5wyqrzbvrdsumnok.onion\\0example.com\\0\", 35), ret));\n }\n \n+// Since CNetAddr (un)ser is tested separately in net_tests.cpp here we only\n+// try a few edge cases for port, service flags and time.\n+\n+static const std::vector<CAddress> fixture_addresses({\n+    CAddress(\n+        CService(CNetAddr(in6addr_loopback), 0 /* port */),\n+        NODE_NONE,\n+        0x4966bc61U /* Fri Jan  9 02:54:25 UTC 2009 */\n+    ),\n+    CAddress(\n+        CService(CNetAddr(in6addr_loopback), 0x00f1 /* port */),\n+        NODE_NETWORK,\n+        0x83766279U /* Tue Nov 22 11:22:33 UTC 2039 */\n+    ),\n+    CAddress(\n+        CService(CNetAddr(in6addr_loopback), 0xf1f2 /* port */),",
      "path": "src/test/netbase_tests.cpp",
      "position": 33,
      "original_position": 33,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```\r\n+ make -C src --jobs=1 check-security V=1\r\nmake: Entering directory '/bitcoin/distsrc-x86_64-linux-gnu/src'\r\nChecking binary security...\r\nREADELF=/gnu/store/pzq9s5ldl90h72p26jkdakyccdg9ib3k-profile/bin/x86_64-linux-gnu-readelf OBJDUMP=x86_64-linux-gnu-objdump OTOOL= /gnu/store/pzq9s5ldl90h72p26jkdakyccdg9ib3k-profile/bin/python3.7 ../contrib/devtools/security-check.py bitcoind  bitcoin-cli bitcoin-tx bitcoin-wallet test/test_bitcoin bench/bench_bitcoin qt/bitcoin-qt  \r\nmake: Leaving directory '/bitcoin/distsrc-x86_64-linux-gnu/src'\r\n+ case \"$HOST\" in\r\n+ make -C src --jobs=1 check-symbols V=1\r\nmake: Entering directory '/bitcoin/distsrc-x86_64-linux-gnu/src'\r\nChecking glibc back compat...\r\nREADELF=/gnu/store/pzq9s5ldl90h72p26jkdakyccdg9ib3k-profile/bin/x86_64-linux-gnu-readelf CPPFILT=/gnu/store/pzq9s5ldl90h72p26jkdakyccdg9ib3k-profile/bin/x86_64-linux-gnu-c++filt /gnu/store/pzq9s5ldl90h72p26jkdakyccdg9ib3k-profile/bin/python3.7 ../contrib/devtools/symbol-check.py bitcoind  bitcoin-cli bitcoin-tx bitcoin-wallet test/test_bitcoin bench/bench_bitcoin qt/bitcoin-qt  \r\ntest/test_bitcoin: export of symbol in6addr_loopback not allowed\r\ntest/test_bitcoin: failed EXPORTED_SYMBOLS\r\nmake: *** [Makefile:20952: check-symbols] Error 1\r\nmake: Leaving directory '/bitcoin/distsrc-x86_64-linux-gnu/src'\r\n",
      "created_at": "2020-10-12T06:56:46Z",
      "updated_at": "2020-10-12T06:56:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r503075378",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/503075378"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 465,
      "original_line": 465,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/503075539",
      "pull_request_review_id": 506338096,
      "id": 503075539,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzA3NTUzOQ==",
      "diff_hunk": "@@ -443,4 +447,105 @@ BOOST_AUTO_TEST_CASE(netbase_dont_resolve_strings_with_embedded_nul_characters)\n     BOOST_CHECK(!LookupSubNet(std::string(\"5wyqrzbvrdsumnok.onion\\0example.com\\0\", 35), ret));\n }\n \n+// Since CNetAddr (un)ser is tested separately in net_tests.cpp here we only\n+// try a few edge cases for port, service flags and time.\n+\n+static const std::vector<CAddress> fixture_addresses({\n+    CAddress(\n+        CService(CNetAddr(in6addr_loopback), 0 /* port */),\n+        NODE_NONE,\n+        0x4966bc61U /* Fri Jan  9 02:54:25 UTC 2009 */\n+    ),\n+    CAddress(\n+        CService(CNetAddr(in6addr_loopback), 0x00f1 /* port */),\n+        NODE_NETWORK,\n+        0x83766279U /* Tue Nov 22 11:22:33 UTC 2039 */\n+    ),\n+    CAddress(\n+        CService(CNetAddr(in6addr_loopback), 0xf1f2 /* port */),",
      "path": "src/test/netbase_tests.cpp",
      "position": 33,
      "original_position": 33,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "in_reply_to_id": 503075378,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This breaks the guix/gitian build. cc @fanquake ",
      "created_at": "2020-10-12T06:57:05Z",
      "updated_at": "2020-10-12T06:57:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r503075539",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/503075539"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 465,
      "original_line": 465,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/503093949",
      "pull_request_review_id": 506362017,
      "id": 503093949,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzA5Mzk0OQ==",
      "diff_hunk": "@@ -443,4 +447,105 @@ BOOST_AUTO_TEST_CASE(netbase_dont_resolve_strings_with_embedded_nul_characters)\n     BOOST_CHECK(!LookupSubNet(std::string(\"5wyqrzbvrdsumnok.onion\\0example.com\\0\", 35), ret));\n }\n \n+// Since CNetAddr (un)ser is tested separately in net_tests.cpp here we only\n+// try a few edge cases for port, service flags and time.\n+\n+static const std::vector<CAddress> fixture_addresses({\n+    CAddress(\n+        CService(CNetAddr(in6addr_loopback), 0 /* port */),\n+        NODE_NONE,\n+        0x4966bc61U /* Fri Jan  9 02:54:25 UTC 2009 */\n+    ),\n+    CAddress(\n+        CService(CNetAddr(in6addr_loopback), 0x00f1 /* port */),\n+        NODE_NETWORK,\n+        0x83766279U /* Tue Nov 22 11:22:33 UTC 2039 */\n+    ),\n+    CAddress(\n+        CService(CNetAddr(in6addr_loopback), 0xf1f2 /* port */),",
      "path": "src/test/netbase_tests.cpp",
      "position": 33,
      "original_position": 33,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "in_reply_to_id": 503075378,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The patch below may fix it, but I can't confirm because on my machine `contrib/devtools/symbol-check.py` is happy with `src/test/test_bitcoin` which contains:\r\n\r\n```sh\r\nnm src/test/test_bitcoin |grep in6addr_loopback\r\n                 U in6addr_loopback\r\n```\r\n\r\n<details>\r\n<summary>possible workaround symbol-check.py in6addr_loopback</summary>\r\n\r\n```diff\r\ndiff --git i/src/test/netbase_tests.cpp w/src/test/netbase_tests.cpp\r\nindex eb0d95a37..f473c092a 100644\r\n--- i/src/test/netbase_tests.cpp\r\n+++ w/src/test/netbase_tests.cpp\r\n@@ -447,25 +447,27 @@ BOOST_AUTO_TEST_CASE(netbase_dont_resolve_strings_with_embedded_nul_characters)\r\n     BOOST_CHECK(!LookupSubNet(std::string(\"5wyqrzbvrdsumnok.onion\\0example.com\\0\", 35), ret));\r\n }\r\n \r\n // Since CNetAddr (un)ser is tested separately in net_tests.cpp here we only\r\n // try a few edge cases for port, service flags and time.\r\n \r\n+static const struct in6_addr in6addr_loopback_ = IN6ADDR_LOOPBACK_INIT;\r\n+\r\n static const std::vector<CAddress> fixture_addresses({\r\n     CAddress(\r\n-        CService(CNetAddr(in6addr_loopback), 0 /* port */),\r\n+        CService(CNetAddr(in6addr_loopback_), 0 /* port */),\r\n         NODE_NONE,\r\n         0x4966bc61U /* Fri Jan  9 02:54:25 UTC 2009 */\r\n     ),\r\n     CAddress(\r\n-        CService(CNetAddr(in6addr_loopback), 0x00f1 /* port */),\r\n+        CService(CNetAddr(in6addr_loopback_), 0x00f1 /* port */),\r\n         NODE_NETWORK,\r\n         0x83766279U /* Tue Nov 22 11:22:33 UTC 2039 */\r\n     ),\r\n     CAddress(\r\n-        CService(CNetAddr(in6addr_loopback), 0xf1f2 /* port */),\r\n+        CService(CNetAddr(in6addr_loopback_), 0xf1f2 /* port */),\r\n         static_cast<ServiceFlags>(NODE_WITNESS | NODE_COMPACT_FILTERS | NODE_NETWORK_LIMITED),\r\n         0xffffffffU /* Sun Feb  7 06:28:15 UTC 2106 */\r\n     )\r\n });\r\n \r\n // fixture_addresses should equal to this when serialized in V1 format.\r\n```",
      "created_at": "2020-10-12T07:35:46Z",
      "updated_at": "2020-10-12T07:35:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r503093949",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/503093949"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 465,
      "original_line": 465,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/503094701",
      "pull_request_review_id": 506363102,
      "id": 503094701,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzA5NDcwMQ==",
      "diff_hunk": "@@ -443,4 +447,105 @@ BOOST_AUTO_TEST_CASE(netbase_dont_resolve_strings_with_embedded_nul_characters)\n     BOOST_CHECK(!LookupSubNet(std::string(\"5wyqrzbvrdsumnok.onion\\0example.com\\0\", 35), ret));\n }\n \n+// Since CNetAddr (un)ser is tested separately in net_tests.cpp here we only\n+// try a few edge cases for port, service flags and time.\n+\n+static const std::vector<CAddress> fixture_addresses({\n+    CAddress(\n+        CService(CNetAddr(in6addr_loopback), 0 /* port */),\n+        NODE_NONE,\n+        0x4966bc61U /* Fri Jan  9 02:54:25 UTC 2009 */\n+    ),\n+    CAddress(\n+        CService(CNetAddr(in6addr_loopback), 0x00f1 /* port */),\n+        NODE_NETWORK,\n+        0x83766279U /* Tue Nov 22 11:22:33 UTC 2039 */\n+    ),\n+    CAddress(\n+        CService(CNetAddr(in6addr_loopback), 0xf1f2 /* port */),",
      "path": "src/test/netbase_tests.cpp",
      "position": 33,
      "original_position": 33,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "in_reply_to_id": 503075378,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "See #20127.",
      "created_at": "2020-10-12T07:37:21Z",
      "updated_at": "2020-10-12T07:37:36Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r503094701",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/503094701"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 465,
      "original_line": 465,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/503240292",
      "pull_request_review_id": 506547210,
      "id": 503240292,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzI0MDI5Mg==",
      "diff_hunk": "@@ -1115,11 +1120,16 @@ class CNode\n \n     void PushAddress(const CAddress& _addr, FastRandomContext &insecure_rand)\n     {\n+        // Whether the peer supports the address in `_addr`. For example,\n+        // nodes that do not implement BIP155 cannot receive Tor v3 addresses\n+        // because they require ADDRv2 (BIP155) encoding.\n+        const bool addr_format_supported = m_wants_addrv2 || _addr.IsAddrV1Compatible();",
      "path": "src/net.h",
      "position": 19,
      "original_position": 19,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "in_reply_to_id": 502722714,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`PushAddress()` and all of the addr relay data will eventually move into net processing. See the commits in https://github.com/jnewbery/bitcoin/commits/2020-06-cs-main-split. That work obviously shouldn't hold up new features like BIP 155 and I'll continue to rebase those commits on master as things change. #19829 and #19910 are the next PRs to review if you'd like to help.",
      "created_at": "2020-10-12T11:48:00Z",
      "updated_at": "2020-10-12T11:48:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r503240292",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/503240292"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1126,
      "original_line": 1126,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515607619",
      "pull_request_review_id": 521213719,
      "id": 515607619,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTYwNzYxOQ==",
      "diff_hunk": "@@ -60,6 +60,14 @@ From Bitcoin Core 0.20.0 onwards, macOS versions earlier than 10.12 are no\n longer supported. Additionally, Bitcoin Core does not yet change appearance\n when macOS \"dark mode\" is activated.\n \n+The node's known peers are persisted to disk in a file called `peers.dat`. The\n+format of this file has been changed in a backwards-incompatible way in order to\n+accommodate the storage of Tor v3 and other BIP155 addresses. This means that if\n+the file is modified by 0.21.0 or newer then older versions will not be able to\n+read it. Those old versions, in the event of a downgrade, will log an error\n+message that deserialization has failed and will continue normal operation\n+as if the file was missing, creating a new empty one. (#19954)",
      "path": "doc/release-notes.md",
      "position": 10,
      "original_position": 10,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "\"if the file is modified by 0.21.0 or newer then older versions will not be able to read it. Those old versions, in the event of a downgrade, will log an error message that deserialization has failed and will continue normal operation\"\r\n\r\nI don't see where this is enforced in 0.20 or earlier versions. If I'm understanding the v0.20 code correctly, then it'll try to unserialize the file, read garbage for the CAddress objects because the format has changed, but then not necessarily fail.",
      "created_at": "2020-11-01T11:06:29Z",
      "updated_at": "2020-11-01T11:06:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r515607619",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515607619"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": 65,
      "original_start_line": 65,
      "start_side": "RIGHT",
      "line": 69,
      "original_line": 69,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515630531",
      "pull_request_review_id": 521230876,
      "id": 515630531,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTYzMDUzMQ==",
      "diff_hunk": "@@ -60,6 +60,14 @@ From Bitcoin Core 0.20.0 onwards, macOS versions earlier than 10.12 are no\n longer supported. Additionally, Bitcoin Core does not yet change appearance\n when macOS \"dark mode\" is activated.\n \n+The node's known peers are persisted to disk in a file called `peers.dat`. The\n+format of this file has been changed in a backwards-incompatible way in order to\n+accommodate the storage of Tor v3 and other BIP155 addresses. This means that if\n+the file is modified by 0.21.0 or newer then older versions will not be able to\n+read it. Those old versions, in the event of a downgrade, will log an error\n+message that deserialization has failed and will continue normal operation\n+as if the file was missing, creating a new empty one. (#19954)",
      "path": "doc/release-notes.md",
      "position": 10,
      "original_position": 10,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "in_reply_to_id": 515607619,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "You are right!\r\n\r\nA dirty hack like the following would trick `<=0.20.1` to always fail deserialization of files in format `>=Format::V3_BIP155` with `Incorrect keysize in addrman deserialization`\r\n\r\n```diff\r\ndiff --git i/src/addrman.h w/src/addrman.h\r\nindex b4089dc89..9f6614cd1 100644\r\n--- i/src/addrman.h\r\n+++ w/src/addrman.h\r\n@@ -326,19 +326,19 @@ public:\r\n     void Serialize(Stream& s_) const\r\n     {\r\n         LOCK(cs);\r\n \r\n         // Always serialize in the latest version (currently Format::V3_BIP155).\r\n \r\n         OverrideStream<Stream> s(&s_, s_.GetType(), s_.GetVersion() | ADDRV2_FORMAT);\r\n \r\n         s << static_cast<uint8_t>(Format::V3_BIP155);\r\n-        s << ((unsigned char)32);\r\n+        s << ((unsigned char)33);\r\n         s << nKey;\r\n         s << nNew;\r\n         s << nTried;\r\n \r\n         int nUBuckets = ADDRMAN_NEW_BUCKET_COUNT ^ (1 << 30);\r\n         s << nUBuckets;\r\n         std::map<int, int> mapUnkIds;\r\n         int nIds = 0;\r\n         for (const auto& entry : mapInfo) {\r\n@@ -406,18 +406,21 @@ public:\r\n             // Add ADDRV2_FORMAT to the version so that the CNetAddr and CAddress\r\n             // unserialize methods know that an address in addrv2 format is coming.\r\n             stream_version |= ADDRV2_FORMAT;\r\n         }\r\n \r\n         OverrideStream<Stream> s(&s_, s_.GetType(), stream_version);\r\n \r\n         unsigned char nKeySize;\r\n         s >> nKeySize;\r\n+        if (format >= Format::V3_BIP155) {\r\n+            --nKeySize;\r\n+        }\r\n         if (nKeySize != 32) throw std::ios_base::failure(\"Incorrect keysize in addrman deserialization\");\r\n         s >> nKey;\r\n         s >> nNew;\r\n         s >> nTried;\r\n         int nUBuckets = 0;\r\n         s >> nUBuckets;\r\n         if (format >= Format::V1_DETERMINISTIC) {\r\n             nUBuckets ^= (1 << 30);\r\n         }\r\n```",
      "created_at": "2020-11-01T14:42:50Z",
      "updated_at": "2020-11-01T14:42:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r515630531",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515630531"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": 65,
      "original_start_line": 65,
      "start_side": "RIGHT",
      "line": 69,
      "original_line": 69,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515635869",
      "pull_request_review_id": 521234889,
      "id": 515635869,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTYzNTg2OQ==",
      "diff_hunk": "@@ -60,6 +60,14 @@ From Bitcoin Core 0.20.0 onwards, macOS versions earlier than 10.12 are no\n longer supported. Additionally, Bitcoin Core does not yet change appearance\n when macOS \"dark mode\" is activated.\n \n+The node's known peers are persisted to disk in a file called `peers.dat`. The\n+format of this file has been changed in a backwards-incompatible way in order to\n+accommodate the storage of Tor v3 and other BIP155 addresses. This means that if\n+the file is modified by 0.21.0 or newer then older versions will not be able to\n+read it. Those old versions, in the event of a downgrade, will log an error\n+message that deserialization has failed and will continue normal operation\n+as if the file was missing, creating a new empty one. (#19954)",
      "path": "doc/release-notes.md",
      "position": 10,
      "original_position": 10,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "in_reply_to_id": 515607619,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, that would work. It's essentially repurposing the keysize field in the peers.dat file as a \"non forward-compatible version number\" (i.e. if a newer version of the software writes a higher number here, then an older version of the software wouldn't be able to read that file).\r\n\r\nI believe that's what you wanted to achieve with the code here: https://github.com/bitcoin/bitcoin/pull/19954/files#diff-164bd9e2e30f54d0a79eb7cc372309e2f2155edc6c3f051290ab078f03f6a771R396, but of course that only applies for v0.21 onwards, for file versions higher than `Format::V3_BIP155`. That code means that we now have no way to make a downgrade-safe change to the peers.dat file version. Any bump to the format number means that older software versions can't read the file. Note that we have made downgrade-safe version changes before (I think both v0-v1 and v1-v2 were both downgrade-safe), and it would be nice to keep this as a possibility.\r\n\r\nRepurposing the keysize field and reverting the change to the format field seems ok and would almost be turning them into major (non-forward-compatible) and minor (forward-compatible) version numbers. It should go without saying that we always want to have backward-compatibility, so peers.dat files written by old versions are readable by new versions.\r\n\r\nObviously we should get any changes made before the 0.21 release.",
      "created_at": "2020-11-01T15:31:30Z",
      "updated_at": "2020-11-01T15:31:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r515635869",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515635869"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": 65,
      "original_start_line": 65,
      "start_side": "RIGHT",
      "line": 69,
      "original_line": 69,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515899539",
      "pull_request_review_id": 521534944,
      "id": 515899539,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTg5OTUzOQ==",
      "diff_hunk": "@@ -60,6 +60,14 @@ From Bitcoin Core 0.20.0 onwards, macOS versions earlier than 10.12 are no\n longer supported. Additionally, Bitcoin Core does not yet change appearance\n when macOS \"dark mode\" is activated.\n \n+The node's known peers are persisted to disk in a file called `peers.dat`. The\n+format of this file has been changed in a backwards-incompatible way in order to\n+accommodate the storage of Tor v3 and other BIP155 addresses. This means that if\n+the file is modified by 0.21.0 or newer then older versions will not be able to\n+read it. Those old versions, in the event of a downgrade, will log an error\n+message that deserialization has failed and will continue normal operation\n+as if the file was missing, creating a new empty one. (#19954)",
      "path": "doc/release-notes.md",
      "position": 10,
      "original_position": 10,
      "commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "original_commit_id": "dcf0cb477699d11afd0ff37c8bfb2b1b4f7f1ee5",
      "in_reply_to_id": 515607619,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "See if this will make sense to you: https://github.com/bitcoin/bitcoin/pull/20284",
      "created_at": "2020-11-02T11:09:51Z",
      "updated_at": "2020-11-02T11:09:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/19954#discussion_r515899539",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515899539"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19954"
        }
      },
      "start_line": 65,
      "original_start_line": 65,
      "start_side": "RIGHT",
      "line": 69,
      "original_line": 69,
      "side": "RIGHT"
    }
  ]
}