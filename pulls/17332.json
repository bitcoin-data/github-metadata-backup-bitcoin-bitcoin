{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17332",
    "id": 335093894,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MzM1MDkzODk0",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17332",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/17332.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/17332.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17332",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17332/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17332/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17332/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/06da4d62a888dc63d7ed0685471d501d80efa817",
    "number": 17332,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "p2p: Proof-of-concept: Improve DoS-resistance to low-work headers chains",
    "user": {
      "login": "sdaftuar",
      "id": 7463573,
      "node_id": "MDQ6VXNlcjc0NjM1NzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sdaftuar",
      "html_url": "https://github.com/sdaftuar",
      "followers_url": "https://api.github.com/users/sdaftuar/followers",
      "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
      "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
      "repos_url": "https://api.github.com/users/sdaftuar/repos",
      "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "A low-work headers chain might be valid according to consensus rules, yet\r\nuninteresting for reaching consensus, because of the little work on the chain.\r\nCurrently, a low-work headers chain that is received by bitcoind is\r\nnevertheless stored in memory (permanently), because the headers download logic\r\nstores valid headers as it goes, and we only look at the total work on the\r\nchain at a later point.\r\n\r\nBy definition, a low-work headers chain can be cheap to produce, so the cost to\r\nan adversary for performing a memory DoS (on the entire network of reachable\r\nnodes) is not very high (checkpoints currently make this cost non-trivial, but the cost is not increasing as the chain advances).\r\n\r\nIdeally, the cost to making a node store a headers chain should be related to\r\nthe total work on the best chain, as we're only ever interested in the most\r\nwork chain for consensus purposes. (If an adversary is able to perform a memory\r\nDoS by producing a headers chain with work comparable to the work on the best\r\nchain, there's not much we could do about it, as a node must be aware of all\r\nheaders chains that potentially have the most work in order to remain in\r\nconsensus. So requiring that a headers chain have work comparable to the\r\nmost-work chain before we store it is essentially the best we can do.)\r\n\r\nThis patch introduces a headers download scheme that attempts to verify that a\r\npeer's headers chain has sufficient work (namely, within a week of our current\r\ntip and at least as much work as nMinimumChainWork) before committing to\r\npermanent storage.\r\n\r\nIf a peer gives us a headers message whose last header has less work than our\r\nanti-DoS threshold, then we store those headers in memory that is allocated to\r\njust that peer, until we've seen a chain tip building on those headers that has\r\nsufficient work. At that point, the headers will be processed and stored\r\nglobally.\r\n\r\nBecause of the time-warp problem, where a chain producing blocks at a rate of 6\r\nblocks/second can theoretically be valid even while being low-work, we have to\r\nconsider the possibility of being fed a very long, low-work chain. If we stored\r\nall of a peer's headers even in temporary memory, this could be enough to be a\r\nmemory DoS by itself. To address this, this patch uses a heuristic to cache\r\njust the last header in each message if the time on the chain is progressing\r\nslower than expected. If the chain ends up having sufficient work, then we\r\ncan redownload the chain, verifying that we get the same headers back by using\r\nthese cached headers as intermediate markers that must match the redownloaded\r\nchain.\r\n\r\nUsing this scheme, we can bound the memory used for headers download by a\r\nsingle peer to roughly the amount of memory we'd expect an \"honest\" chain to\r\nuse (1 block header per 10 minutes starting at the genesis block).  To prevent\r\nan adversary from using many inbound peers to flood a node's memory due to\r\nsimultaneous headers sync, this patch also includes logic to restrict using the\r\nper-peer headers sync memory by more than one peer at a time, along with timeout\r\nlogic to prevent a single peer from starving headers sync from other peers.",
    "labels": [
      {
        "id": 98298007,
        "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
        "name": "P2P",
        "color": "006b75",
        "default": false
      }
    ],
    "active_lock_reason": "resolved",
    "created_at": "2019-10-31T19:03:36Z",
    "updated_at": "2021-12-16T14:12:30Z",
    "closed_at": "2019-11-08T17:40:28Z",
    "mergeable_state": "unknown",
    "merge_commit_sha": "297ef00210e087ce466977b6765bccd766c899a3",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "sdaftuar:2019-10-no-checkpoints-cleanedup",
      "ref": "2019-10-no-checkpoints-cleanedup",
      "sha": "06da4d62a888dc63d7ed0685471d501d80efa817",
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 28761781,
        "node_id": "MDEwOlJlcG9zaXRvcnkyODc2MTc4MQ==",
        "name": "bitcoin",
        "full_name": "sdaftuar/bitcoin",
        "owner": {
          "login": "sdaftuar",
          "id": 7463573,
          "node_id": "MDQ6VXNlcjc0NjM1NzM=",
          "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/sdaftuar",
          "html_url": "https://github.com/sdaftuar",
          "followers_url": "https://api.github.com/users/sdaftuar/followers",
          "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
          "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
          "repos_url": "https://api.github.com/users/sdaftuar/repos",
          "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/sdaftuar/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/sdaftuar/bitcoin",
        "archive_url": "https://api.github.com/repos/sdaftuar/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/sdaftuar/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/sdaftuar/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/sdaftuar/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/sdaftuar/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/sdaftuar/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/sdaftuar/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/sdaftuar/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/sdaftuar/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/sdaftuar/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/sdaftuar/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/sdaftuar/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/sdaftuar/bitcoin/events",
        "forks_url": "https://api.github.com/repos/sdaftuar/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/sdaftuar/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/sdaftuar/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/sdaftuar/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/sdaftuar/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/sdaftuar/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/sdaftuar/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/sdaftuar/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/sdaftuar/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/sdaftuar/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/sdaftuar/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/sdaftuar/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/sdaftuar/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/sdaftuar/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/sdaftuar/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/sdaftuar/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:sdaftuar/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/sdaftuar/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/sdaftuar/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/sdaftuar/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/sdaftuar/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/sdaftuar/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/sdaftuar/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/sdaftuar/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/sdaftuar/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/sdaftuar/bitcoin/hooks",
        "svn_url": "https://github.com/sdaftuar/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 3,
        "watchers_count": 3,
        "size": 245665,
        "default_branch": "master",
        "open_issues_count": 1,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-06T22:41:53Z",
        "created_at": "2015-01-04T02:52:13Z",
        "updated_at": "2023-02-11T10:16:01Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "c737839471feeebdd6c4e9e29d81ed33cdbc5540",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34348,
        "stargazers_count": 69853,
        "watchers_count": 69853,
        "size": 234261,
        "default_branch": "master",
        "open_issues_count": 631,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-08T22:17:10Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-06-09T07:25:15Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17332"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 691,
    "deletions": 112,
    "changed_files": 4,
    "commits": 2,
    "review_comments": 0,
    "comments": 5
  },
  "events": [
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmODYyYTRjNjkyNjkxZjljNzNiNzcyMzNiMWE3YjhjMTYxNWZiMWM2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f862a4c692691f9c73b77233b1a7b8c1615fb1c6",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f862a4c692691f9c73b77233b1a7b8c1615fb1c6",
      "tree": {
        "sha": "9240994e1c41e83aab615f290422342851f4fcb8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9240994e1c41e83aab615f290422342851f4fcb8"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3c40bc6726b6dc639c4ca2c00c720bccd4cd4dc7",
          "sha": "3c40bc6726b6dc639c4ca2c00c720bccd4cd4dc7",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/3c40bc6726b6dc639c4ca2c00c720bccd4cd4dc7"
        }
      ],
      "message": "[refactor] Break up ProcessHeadersMessage() into smaller pieces",
      "committer": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@gmail.com",
        "date": "2019-10-30T16:46:23Z"
      },
      "author": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@gmail.com",
        "date": "2019-10-07T19:22:56Z"
      },
      "sha": "f862a4c692691f9c73b77233b1a7b8c1615fb1c6"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzowNmRhNGQ2MmE4ODhkYzYzZDdlZDA2ODU0NzFkNTAxZDgwZWZhODE3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/06da4d62a888dc63d7ed0685471d501d80efa817",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/06da4d62a888dc63d7ed0685471d501d80efa817",
      "tree": {
        "sha": "ea369c9c0098945d97e0108758bacaf4d2984af5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ea369c9c0098945d97e0108758bacaf4d2984af5"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f862a4c692691f9c73b77233b1a7b8c1615fb1c6",
          "sha": "f862a4c692691f9c73b77233b1a7b8c1615fb1c6",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f862a4c692691f9c73b77233b1a7b8c1615fb1c6"
        }
      ],
      "message": "Improve DoS-resistance to low-work headers chains\n\nA low-work headers chain might be valid according to consensus rules, yet\nuninteresting for reaching consensus, because of the little work on the chain.\nCurrently, a low-work headers chain that is received by bitcoind is\nnevertheless stored in memory (permanently), because the headers download logic\nstores valid headers as it goes, and we only look at the total work on the\nchain at a later point.\n\nBy definition, a low-work headers chain can be cheap to produce, so the cost to\nan adversary for performing a memory DoS (on the entire network of reachable\nnodes) is not very high.\n\nIdeally, the cost to making a node store a headers chain should be related to\nthe total work on the best chain, as we're only ever interested in the most\nwork chain for consensus purposes. (If an adversary is able to perform a memory\nDoS by producing a headers chain with work comparable to the work on the best\nchain, there's not much we could do about it, as a node must be aware of all\nheaders chains that potentially have the most work in order to remain in\nconsensus. So requiring that a headers chain have work comparable to the\nmost-work chain before we store it is essentially the best we can do.)\n\nThis patch introduces a headers download scheme that attempts to verify that a\npeer's headers chain has sufficient work (namely, within a week of our current\ntip and at least as much work as nMinimumChainWork) before committing to\npermanent storage.\n\nIf a peer gives us a headers message whose last header has less work than our\nanti-DoS threshold, then we store those headers in memory that is allocated to\njust that peer, until we've seen a chain tip building on those headers that has\nsufficient work. At that point, the headers will be processed and stored\nglobally.\n\nBecause of the time-warp problem, where a chain producing blocks at a rate of 6\nblocks/second can theoretically be valid even while being low-work, we have to\nconsider the possibility of being fed a very long, low-work chain. If we stored\nall of a peer's headers even in temporary memory, this could be enough to be a\nmemory DoS by itself. To address this, this patch uses a heuristic to cache\njust the last header in each message if the time on the chain is progressing\nslower than expected. If the chain ends up having sufficient work, then we\ncan redownload the chain, verifying that we get the same headers back by using\nthese cached headers as intermediate markers that must match the redownloaded\nchain.\n\nUsing this scheme, we can bound the memory used for headers download by a\nsingle peer to roughly the amount of memory we'd expect an \"honest\" chain to\nuse (1 block header per 10 minutes starting at the genesis block).  To prevent\nan adversary from using many inbound peers to flood a node's memory due to\nsimultaneous headers sync, this patch also includes logic to restrict using the\nper-peer headers sync memory by more than one peer at a time, along with timeout\nlogic to prevent a single peer from starving headers sync from other peers.",
      "committer": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@gmail.com",
        "date": "2019-10-31T18:05:50Z"
      },
      "author": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@gmail.com",
        "date": "2019-10-02T15:32:17Z"
      },
      "sha": "06da4d62a888dc63d7ed0685471d501d80efa817"
    },
    {
      "event": "labeled",
      "id": 2761062931,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDI3NjEwNjI5MzE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2761062931",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-10-31T19:04:13Z",
      "label": {
        "name": "P2P",
        "color": "006b75"
      }
    },
    {
      "event": "commented",
      "id": 548524127,
      "node_id": "MDEyOklzc3VlQ29tbWVudDU0ODUyNDEyNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/548524127",
      "actor": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-10-31T19:04:43Z",
      "updated_at": "2019-10-31T19:04:43Z",
      "author_association": "MEMBER",
      "body": "Please see\r\nhttps://lists.linuxfoundation.org/pipermail/bitcoin-dev/2019-October/017354.html\r\nfor additional background on memory attacks possible using low-work headers\r\nchains. Currently, checkpoints are our only defense against memory attacks on\r\nour algorithm for storing headers, and the cost of attack (as described in that\r\nmailing list post) is not very high. Notably, the cost of an attack does not\r\nincrease as the consensus chain accumulates work, because attacking our\r\nalgorithm now relies on just being able to ramp down difficulty on a chain that\r\nforks from the last checkpointed block header.\r\n\r\nMy goal with this patch is to demonstrate that it should be possible to\r\ndrastically increase the cost of this type of attack with changes only at our\r\np2p application layer.\r\n\r\nThe algorithm is described a bit in the OP and further in comments in\r\nnet_processing.cpp. This patchset is complex and difficult to reason about, I\r\nthink for two reasons:\r\n\r\n(a) We reuse the \"headers\" message in many contexts (it can be a response to a\r\ngetheaders, which can be sent either for an initial chain sync or in response\r\nto a block announcement; or it can be a newly announced block).  The different\r\ncontexts that might be in play when processing a headers message makes\r\nreasoning about our state machine fairly difficult.\r\n\r\n(b) Because our p2p protocol does not support downloading headers in reverse,\r\nwhich is a functionality needed by the algorithm I tried to use here, I had to\r\napproximate that by doing something fairly complicated (storing 1 block hash\r\nfrom each headers message, so that when I got to the point where I'd want to\r\ndownload headers in reverse, I instead download them forwards a second time and\r\nensure I'm getting the same chain on the second try). This in turn means that\r\nthe algorithm uses much more peer memory than desirable in the face of an\r\nattacker chain, which in turn requires additional complexity around limiting\r\nthe number of simultaneously syncing peers, and preventing a sync peer from\r\nstarving other peers whose chains need to sync.\r\n\r\nIn the absence of an attacker giving a node a \"fake\" chain, this code would\r\nonly have one effect: it changes initial headers sync to not fully process\r\nheaders until we've downloaded the chain up to our nMinimumChainWork, at which\r\npoint all the headers are processed in one go. After that, headers processing\r\nshould be essentially unchanged from how it operates today.\r\n\r\nThat said, this patch is very complex, and I am not sure it's worth the review\r\neffort that would be required to merge this change in. It may be interesting as\r\na proof-of-concept however, so that we have a defense on standby in the event\r\nof a memory attack on the network using low-work headers, and so that we have a\r\ngood answer to any mistaken notions that checkpoints are somehow required to\r\nmaintain Bitcoin's security model (they are not).\r\n\r\nOne alternate idea for increasing the cost of attack, which would be vastly\r\nsimpler to deploy, is to raise the minimum difficulty of blocks (eg after the\r\nlast checkpoint height). If we make an arbitrary chain cost at least, say, $1/block to\r\ncreate (assuming current mining hardware capabilities), then mining 100M blocks\r\nto create 8GB of memory usage would be quite expensive! I think this is a\r\nreasonable approach, but has two downsides:\r\n\r\n(a) The cost of an attack still does not go up as the chain work goes up (so in\r\nparticular, if the cost of an attack were to come down as hardware gets more\r\nefficient in the future, we could become vulnerable again).\r\n\r\n(b) Changing the consensus rules we enforce comes with a higher bar for\r\njustification. Even though in this case I think someone could make a coherent\r\nargument for why this is not a meaningful consensus change (and, debatably,\r\nshouldn't even require community consensus!), this may not be well-understood\r\nwithout significant discussion and education. I think it's probably not worth\r\nthe social effort of changing the consensus rules, just to solve what is\r\nfundamentally a problem at the p2p layer. But perhaps I'm overly pessimistic\r\nhere.\r\n\r\nIf this high level approach (of having peers prove that their headers chains\r\nhave sufficient work in order to permanently store them) seems like something\r\nwe might want to include, but if this patch is indeed not worth the effort to\r\ntry to merge, then another option would be to consider a p2p protocol upgrade\r\nthat would make this logic easier to implement, such as a set of new headers\r\nsync messages that support the underlying functionality, while giving other\r\nimprovements as well, such as compression or parallel-download features\r\ndescribed by Jim Posen\r\n(https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2018-March/015851.html).\r\nThe advantage to that should be much simpler logic; the downside is that we run\r\ninto issues with syncing headers chains from unupgraded peers who do not\r\nsupport the new message types.\r\n",
      "user": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/17332#issuecomment-548524127",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17332"
    },
    {
      "event": "renamed",
      "id": 2761065652,
      "node_id": "MDE3OlJlbmFtZWRUaXRsZUV2ZW50Mjc2MTA2NTY1Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2761065652",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-10-31T19:05:08Z",
      "rename": {
        "from": "[p2p] Proof-of-concept: Improve DoS-resistance to low-work headers chains",
        "to": "p2p: Proof-of-concept: Improve DoS-resistance to low-work headers chains"
      }
    },
    {
      "event": "commented",
      "id": 548530294,
      "node_id": "MDEyOklzc3VlQ29tbWVudDU0ODUzMDI5NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/548530294",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-10-31T19:21:31Z",
      "updated_at": "2019-11-07T22:19:06Z",
      "author_association": "MEMBER",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#17383](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17383.html) (Refactor: Move consts to their correct translation units by jnewbery)\n* [#17376](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17376.html) (Add Parallel P2P Client in Rust by TheBlueMatt)\n* [#16762](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16762.html) (Rust-based Backup over-REST block downloader by TheBlueMatt)\n* [#16748](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16748.html) ([WIP] Add support for addrv2 (BIP155) by dongcarl)\n* [#16442](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16442.html) (Serve BIP 157 compact filters by jimpo)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/17332#issuecomment-548530294",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17332"
    },
    {
      "event": "commented",
      "id": 548558030,
      "node_id": "MDEyOklzc3VlQ29tbWVudDU0ODU1ODAzMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/548558030",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-10-31T20:36:08Z",
      "updated_at": "2019-10-31T20:36:08Z",
      "author_association": "CONTRIBUTOR",
      "body": "this would be so much cleaner and simpler if the p2p protocol had explicit measures for reverse fetching...  ( https://en.bitcoin.it/w/index.php?title=User:Gmaxwell/Reverse_header-fetching_sync&action=history )",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/17332#issuecomment-548558030",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17332"
    },
    {
      "event": "commented",
      "id": 548796841,
      "node_id": "MDEyOklzc3VlQ29tbWVudDU0ODc5Njg0MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/548796841",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-11-01T13:57:09Z",
      "updated_at": "2019-11-01T13:57:09Z",
      "author_association": "MEMBER",
      "body": "Cool, I had heard of the mitigation a long time ago but hadn't seen it written anywhere(hadn't seen bitcointalk thread either). ",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/17332#issuecomment-548796841",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17332"
    },
    {
      "event": "commented",
      "id": 548811143,
      "node_id": "MDEyOklzc3VlQ29tbWVudDU0ODgxMTE0Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/548811143",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-11-01T14:36:07Z",
      "updated_at": "2019-11-01T14:36:07Z",
      "author_association": "MEMBER",
      "body": "Too bad that this requires so much additional code and modifications to inner critical logic. Also, it doesn't compile on any of the ci builds.",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/17332#issuecomment-548811143",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17332"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 2764393820,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50Mjc2NDM5MzgyMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2764393820",
      "actor": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-11-01T20:27:10Z"
    },
    {
      "event": "closed",
      "id": 2784011548,
      "node_id": "MDExOkNsb3NlZEV2ZW50Mjc4NDAxMTU0OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2784011548",
      "actor": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-11-08T17:40:28Z"
    },
    {
      "event": "locked",
      "id": 5778627242,
      "node_id": "LOE_lADOABII584evInvzwAAAAFYbtqq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5778627242",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-16T14:12:30Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": []
}