{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22249",
    "id": 670129939,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NjcwMTI5OTM5",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22249",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/22249.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/22249.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22249",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22249/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22249/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22249/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/451b96f7d2796d00eabaec56d831f9e9b1a569cc",
    "number": 22249,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "test: kill process group to avoid dangling processes when using `--failfast`",
    "user": {
      "login": "S3RK",
      "id": 1466284,
      "node_id": "MDQ6VXNlcjE0NjYyODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/S3RK",
      "html_url": "https://github.com/S3RK",
      "followers_url": "https://api.github.com/users/S3RK/followers",
      "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
      "organizations_url": "https://api.github.com/users/S3RK/orgs",
      "repos_url": "https://api.github.com/users/S3RK/repos",
      "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/S3RK/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This is an alternative to #19281\r\n\r\nThis PR fixes a problem when after test failure with `--failfast` option there could be dangling nodes. The nodes will continue to occupy rpc/p2p ports on the machine and will cause further test failures.\r\n\r\nIf there are any dangling nodes left at the end of the test run we kill the whole process group.\r\nPros: the operations is immediate and won't lead to CI timeout\r\nCons: the test_runner process is also killed and exit code is 137\r\n\r\nExample output:\r\n```\r\n...\r\nEarly exiting after test failure\r\n\r\nTEST                           | STATUS    | DURATION\r\n\r\nrpc_decodescript.py            | ✓ Passed  | 2 s\r\nrpc_deprecated.py              | ✓ Passed  | 2 s\r\nrpc_deriveaddresses.py         | ✓ Passed  | 2 s\r\nrpc_dumptxoutset.py            | ✖ Failed  | 2 s\r\n\r\nALL                            | ✖ Failed  | 8 s (accumulated)\r\nRuntime: 4 s\r\n\r\nKilled: 9\r\n> echo $?\r\n137\r\n```",
    "labels": [
      {
        "id": 62963516,
        "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
        "name": "Tests",
        "color": "d4c5f9",
        "default": false
      }
    ],
    "active_lock_reason": "resolved",
    "created_at": "2021-06-15T07:09:36Z",
    "updated_at": "2022-08-18T18:31:34Z",
    "closed_at": "2021-06-18T12:24:55Z",
    "mergeable_state": "unknown",
    "merged_at": "2021-06-18T12:24:54Z",
    "merge_commit_sha": "0844084c13af36c45a0e4fc49fc0c6c0d9513406",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "S3RK:test_kill_process_group",
      "ref": "test_kill_process_group",
      "sha": "451b96f7d2796d00eabaec56d831f9e9b1a569cc",
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 268426115,
        "node_id": "MDEwOlJlcG9zaXRvcnkyNjg0MjYxMTU=",
        "name": "bitcoin",
        "full_name": "S3RK/bitcoin",
        "owner": {
          "login": "S3RK",
          "id": 1466284,
          "node_id": "MDQ6VXNlcjE0NjYyODQ=",
          "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/S3RK",
          "html_url": "https://github.com/S3RK",
          "followers_url": "https://api.github.com/users/S3RK/followers",
          "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
          "organizations_url": "https://api.github.com/users/S3RK/orgs",
          "repos_url": "https://api.github.com/users/S3RK/repos",
          "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/S3RK/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/S3RK/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/S3RK/bitcoin",
        "archive_url": "https://api.github.com/repos/S3RK/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/S3RK/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/S3RK/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/S3RK/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/S3RK/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/S3RK/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/S3RK/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/S3RK/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/S3RK/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/S3RK/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/S3RK/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/S3RK/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/S3RK/bitcoin/events",
        "forks_url": "https://api.github.com/repos/S3RK/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/S3RK/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/S3RK/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/S3RK/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/S3RK/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/S3RK/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/S3RK/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/S3RK/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/S3RK/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/S3RK/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/S3RK/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/S3RK/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/S3RK/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/S3RK/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/S3RK/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/S3RK/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:S3RK/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/S3RK/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/S3RK/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/S3RK/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/S3RK/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/S3RK/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/S3RK/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/S3RK/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/S3RK/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/S3RK/bitcoin/hooks",
        "svn_url": "https://github.com/S3RK/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 1,
        "watchers_count": 1,
        "size": 213012,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-02-15T08:37:12Z",
        "created_at": "2020-06-01T04:37:33Z",
        "updated_at": "2022-11-28T07:47:20Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "8cb43077b3705ca7b34f9e7d981d19d600213e98",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35476,
        "stargazers_count": 70608,
        "watchers_count": 70608,
        "size": 236222,
        "default_branch": "master",
        "open_issues_count": 672,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-02T20:20:41Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-08-02T18:21:18Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22249"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 6,
    "deletions": 13,
    "changed_files": 1,
    "commits": 1,
    "review_comments": 2,
    "comments": 8
  },
  "events": [
    {
      "event": "labeled",
      "id": 4889689176,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQ4ODk2ODkxNzY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4889689176",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-15T07:12:36Z",
      "label": {
        "name": "Tests",
        "color": "d4c5f9"
      }
    },
    {
      "event": "reviewed",
      "id": 683640698,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjgzNjQwNjk4",
      "url": null,
      "actor": null,
      "commit_id": "5012bf02a0dace65ae5bfa14aaab216e33bd9ce5",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "This means `--failfast` no longer works on Windows, but who uses that anyway :man_shrugging: ",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22249#pullrequestreview-683640698",
      "submitted_at": "2021-06-15T07:20:42Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22249"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0NTFiOTZmN2QyNzk2ZDAwZWFiYWVjNTZkODMxZjllOWIxYTU2OWNj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/451b96f7d2796d00eabaec56d831f9e9b1a569cc",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/451b96f7d2796d00eabaec56d831f9e9b1a569cc",
      "tree": {
        "sha": "ed74d34ea415368dc5aa4d2f4dcdf3bfd0af976e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ed74d34ea415368dc5aa4d2f4dcdf3bfd0af976e"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/de5512e28df220990ad123b914167aadd6f50979",
          "sha": "de5512e28df220990ad123b914167aadd6f50979",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/de5512e28df220990ad123b914167aadd6f50979"
        }
      ],
      "message": "test: kill process group to avoid dangling processes",
      "committer": {
        "name": "S3RK",
        "email": "1466284+S3RK@users.noreply.github.com",
        "date": "2021-06-15T07:37:58Z"
      },
      "author": {
        "name": "S3RK",
        "email": "1466284+S3RK@users.noreply.github.com",
        "date": "2021-06-14T07:44:11Z"
      },
      "sha": "451b96f7d2796d00eabaec56d831f9e9b1a569cc"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4889830611,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDg4OTgzMDYxMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4889830611",
      "actor": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-15T07:38:42Z"
    },
    {
      "event": "commented",
      "id": 861263177,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg2MTI2MzE3Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/861263177",
      "actor": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-15T07:39:48Z",
      "updated_at": "2021-06-15T07:39:48Z",
      "author_association": "CONTRIBUTOR",
      "body": "I can add different code paths for Win and Unix if desirable",
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22249#issuecomment-861263177",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22249"
    },
    {
      "event": "commented",
      "id": 861361725,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg2MTM2MTcyNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/861361725",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-15T09:56:34Z",
      "updated_at": "2021-06-15T09:56:34Z",
      "author_association": "MEMBER",
      "body": "review ACK 451b96f7d2796d00eabaec56d831f9e9b1a569cc\r\n\r\nmind pushing a temporary commit with a logic error in one of the tests, so that we can observe the CI fails properly?",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22249#issuecomment-861361725",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22249"
    },
    {
      "event": "commented",
      "id": 861365899,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg2MTM2NTg5OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/861365899",
      "actor": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-15T10:02:21Z",
      "updated_at": "2021-06-15T10:02:21Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK on addressing the annoying dangling `bitcoind` issue :)",
      "user": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22249#issuecomment-861365899",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22249"
    },
    {
      "event": "commented",
      "id": 861431309,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg2MTQzMTMwOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/861431309",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-15T11:49:42Z",
      "updated_at": "2021-06-15T11:49:42Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19281 (test: fix dangling bitcoind in functional tests by S3RK)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22249#issuecomment-861431309",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22249"
    },
    {
      "event": "reviewed",
      "id": 683999029,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjgzOTk5MDI5",
      "url": null,
      "actor": null,
      "commit_id": "451b96f7d2796d00eabaec56d831f9e9b1a569cc",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "It's not clear to me what is wrong with the kill+wait approach, why does it result in dangling processes.",
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22249#pullrequestreview-683999029",
      "submitted_at": "2021-06-15T13:22:01Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22249"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-15T16:39:58Z",
      "updated_at": "2021-06-15T16:39:58Z",
      "source": {
        "issue": {
          "id": 638555822,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDM0Mjk2OTUx",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19281",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19281/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19281/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19281/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/19281",
          "number": 19281,
          "state": "closed",
          "state_reason": null,
          "title": "test: fix dangling bitcoind in functional tests",
          "body": "This PR fixes a problem when after failure of a test with `--failfast` option there are dangling nodes. The nodes will continue to occupy rpc/p2p ports on the machine and will cause further test failures.\r\n\r\nThe fix: Introduce new test status — `cancelled` and register a signal handler that will raise TestCancelled exception to properly handle termination. Test runner now sends SIGTERM instead of SIGKILL.\r\n\r\n",
          "user": {
            "login": "S3RK",
            "id": 1466284,
            "node_id": "MDQ6VXNlcjE0NjYyODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/S3RK",
            "html_url": "https://github.com/S3RK",
            "followers_url": "https://api.github.com/users/S3RK/followers",
            "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
            "organizations_url": "https://api.github.com/users/S3RK/orgs",
            "repos_url": "https://api.github.com/users/S3RK/repos",
            "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/S3RK/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 9,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19281",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/19281",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/19281.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/19281.patch"
          },
          "closed_at": "2021-06-18T12:50:56Z",
          "created_at": "2020-06-15T05:30:15Z",
          "updated_at": "2022-08-18T18:31:31Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 861766355,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg2MTc2NjM1NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/861766355",
      "actor": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-15T19:17:02Z",
      "updated_at": "2021-06-15T19:17:02Z",
      "author_association": "CONTRIBUTOR",
      "body": "> It's not clear to me what is wrong with the kill+wait approach, why does it result in dangling processes.\r\n\r\nSo, we have three layers of processes, something like\r\n```uml\r\ntest_runner.py[100] -> test_1.py[101] -> bitcoind[102]\r\n                    -> test_2.py[103] -> bitcoind[104] \r\n```\r\n\r\nCurrently `test_runner.py[100]` sends SIGKILL to all `test_x.py` which leads to its immediate termination and orphaned bitcoind processes being linked to `init`. E.g. `test_1.py[101]` got killed and `bitcoind[102]` is dangling. Actually, I'm not sure why do we use `wait` there, I don't think it changes anything.\r\n\r\nTo avoid that we can do SIGTERM and wait, but that could lead to CI timeouts. I've tried that first in #19281 \r\n\r\nAnother alternative is to setup signal handler in child process (bitcoind) to listen when parent process exits, but that's feels backward.\r\n\r\n> mind pushing a temporary commit with a logic error in one of the tests, so that we can observe the CI fails properly?\r\n\r\nSure, will do",
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22249#issuecomment-861766355",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22249"
    },
    {
      "event": "commented",
      "id": 861897461,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg2MTg5NzQ2MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/861897461",
      "actor": {
        "login": "aitorjs",
        "id": 1209012,
        "node_id": "MDQ6VXNlcjEyMDkwMTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1209012?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aitorjs",
        "html_url": "https://github.com/aitorjs",
        "followers_url": "https://api.github.com/users/aitorjs/followers",
        "following_url": "https://api.github.com/users/aitorjs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aitorjs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aitorjs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aitorjs/subscriptions",
        "organizations_url": "https://api.github.com/users/aitorjs/orgs",
        "repos_url": "https://api.github.com/users/aitorjs/repos",
        "events_url": "https://api.github.com/users/aitorjs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aitorjs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-15T23:24:09Z",
      "updated_at": "2021-06-15T23:24:09Z",
      "author_association": "CONTRIBUTOR",
      "body": "ACK 451b96f7d2796d00eabaec56d831f9e9b1a569cc. Manual testing with and without **--failfast**.\r\n\r\nFailing an assert with --failfast, passes through [reviewed code](https://github.com/bitcoin/bitcoin/pull/22249/files#diff-437d7f6e9f2229879b60aae574a8217f14c643bbf3cfa9225d8011d6d52df00cR556). When fails, exits gracefully stopping of processes.\r\n\r\n<details>\r\n<summary>Log</summary>\r\n<br>\r\n<p>\r\n$ test/functional/test_runner.py --failfast\r\n rpc_decodescript.py rpc_deprecated.py rpc_deriveaddresses.py rpc_dumptxoutset.py\r\n<br><br>\r\nTemporary test directory at /tmp/test_runner_₿_🏃_20210616_004909\r\nRunning Unit Tests for Test Framework Modules\r\n..........\r\n----------------------------------------------------------------------\r\nRan 10 tests in 0.715s\r\n\r\nOK\r\nRemaining jobs: [rpc_decodescript.py, rpc_deprecated.py, rpc_deriveaddresses.py, rpc_dumptxoutset.py]\r\n1/4 - rpc_decodescript.py failed, Duration: 1 s\r\n\r\nstdout:\r\n2021-06-15T22:49:12.613000Z TestFramework (INFO): Initializing test directory /tmp/test_runner_₿_🏃_20210616_004909/rpc_decodescript_3\r\n2021-06-15T22:49:13.132000Z TestFramework (ERROR): Assertion failed\r\nTraceback (most recent call last):\r\n  File \"/home/bitcoin/blockchain/bitcoinPR/22249/test/functional/test_framework/test_framework.py\", line 128, in main\r\n    self.run_test()\r\n  File \"/home/bitcoin/blockchain/bitcoinPR/22249/test/functional/rpc_decodescript.py\", line 230, in run_test\r\n    self.decodescript_script_pub_key()\r\n  File \"/home/bitcoin/blockchain/bitcoinPR/22249/test/functional/rpc_decodescript.py\", line 67, in decodescript_script_pub_key\r\n    assert_equal('1 ' + public_key_hash, rpc_result['segwit']['asm'])\r\n  File \"/home/bitcoin/blockchain/bitcoinPR/22249/test/functional/test_framework/util.py\", line 51, in assert_equal\r\n    raise AssertionError(\"not(%s)\" % \" == \".join(str(arg) for arg in (thing1, thing2) + args))\r\nAssertionError: not(1 5dd1d3a048119c27b28293056724d9522f26d945 == 0 5dd1d3a048119c27b28293056724d9522f26d945)\r\n2021-06-15T22:49:13.183000Z TestFramework (INFO): Stopping nodes\r\n2021-06-15T22:49:13.285000Z TestFramework (WARNING): Not cleaning up dir /tmp/test_runner_₿_🏃_20210616_004909/rpc_decodescript_3\r\n2021-06-15T22:49:13.285000Z TestFramework (ERROR): Test failed. Test logging available at /tmp/test_runner_₿_🏃_20210616_004909/rpc_decodescript_3/test_framework.log\r\n2021-06-15T22:49:13.285000Z TestFramework (ERROR): \r\n2021-06-15T22:49:13.286000Z TestFramework (ERROR): Hint: Call /home/bitcoin/blockchain/bitcoinPR/22249/test/functional/combine_logs.py '/tmp/test_runner_₿_🏃_20210616_004909/rpc_decodescript_3' to consolidate all logs\r\n2021-06-15T22:49:13.286000Z TestFramework (ERROR): \r\n2021-06-15T22:49:13.286000Z TestFramework (ERROR): If this failure happened unexpectedly or intermittently, please file a bug and provide a link or upload of the combined log.\r\n2021-06-15T22:49:13.286000Z TestFramework (ERROR): https://github.com/bitcoin/bitcoin/issues\r\n2021-06-15T22:49:13.286000Z TestFramework (ERROR): \r\n\r\n\r\nstderr:\r\n\r\n\r\nEarly exiting after test failure\r\n\r\nTEST                   | STATUS    | DURATION\r\n\r\nrpc_decodescript.py    | ✖ Failed  | 1 s\r\n\r\nALL                    | ✖ Failed  | 1 s (accumulated) \r\nRuntime: 1 s\r\n\r\ndangling processes <!-- Print I write to know if it goes through the added part in test_runner.py --->\r\nTerminado (killed)\r\n</p>\r\n</details>\r\n\r\nFailing an assert without --failfast, dont  passes through [reviewed code](https://github.com/bitcoin/bitcoin/pull/22249/files#diff-437d7f6e9f2229879b60aae574a8217f14c643bbf3cfa9225d8011d6d52df00cR556) and all tests are run.\r\n\r\n\r\n\r\n\r\n <details>\r\n<summary>Log</summary>\r\n<br>\r\n$ test/functional/test_runner.py\r\n rpc_decodescript.py rpc_deprecated.py rpc_deriveaddresses.py rpc_dumptxoutset.py\r\n<br><br>\r\n<p>\r\nTemporary test directory at /tmp/test_runner_₿_🏃_20210616_005950\r\nRunning Unit Tests for Test Framework Modules\r\n..........\r\n----------------------------------------------------------------------\r\nRan 10 tests in 0.680s\r\n\r\nOK\r\nRemaining jobs: [rpc_decodescript.py, rpc_deprecated.py, rpc_deriveaddresses.py, rpc_dumptxoutset.py]\r\n1/4 - rpc_decodescript.py failed, Duration: 1 s\r\n\r\nstdout:\r\n2021-06-15T22:59:53.470000Z TestFramework (INFO): Initializing test directory /tmp/test_runner_₿_🏃_20210616_005950/rpc_decodescript_3\r\n2021-06-15T22:59:53.735000Z TestFramework (ERROR): Assertion failed\r\nTraceback (most recent call last):\r\n  File \"/home/bitcoin/blockchain/bitcoinPR/22249/test/functional/test_framework/test_framework.py\", line 128, in main\r\n    self.run_test()\r\n  File \"/home/bitcoin/blockchain/bitcoinPR/22249/test/functional/rpc_decodescript.py\", line 230, in run_test\r\n    self.decodescript_script_pub_key()\r\n  File \"/home/bitcoin/blockchain/bitcoinPR/22249/test/functional/rpc_decodescript.py\", line 67, in decodescript_script_pub_key\r\n    assert_equal('1 ' + public_key_hash, rpc_result['segwit']['asm'])\r\n  File \"/home/bitcoin/blockchain/bitcoinPR/22249/test/functional/test_framework/util.py\", line 51, in assert_equal\r\n    raise AssertionError(\"not(%s)\" % \" == \".join(str(arg) for arg in (thing1, thing2) + args))\r\nAssertionError: not(1 5dd1d3a048119c27b28293056724d9522f26d945 == 0 5dd1d3a048119c27b28293056724d9522f26d945)\r\n2021-06-15T22:59:53.786000Z TestFramework (INFO): Stopping nodes\r\n2021-06-15T22:59:53.888000Z TestFramework (WARNING): Not cleaning up dir /tmp/test_runner_₿_🏃_20210616_005950/rpc_decodescript_3\r\n2021-06-15T22:59:53.888000Z TestFramework (ERROR): Test failed. Test logging available at /tmp/test_runner_₿_🏃_20210616_005950/rpc_decodescript_3/test_framework.log\r\n2021-06-15T22:59:53.888000Z TestFramework (ERROR): \r\n2021-06-15T22:59:53.889000Z TestFramework (ERROR): Hint: Call /home/bitcoin/blockchain/bitcoinPR/22249/test/functional/combine_logs.py '/tmp/test_runner_₿_🏃_20210616_005950/rpc_decodescript_3' to consolidate all logs\r\n2021-06-15T22:59:53.889000Z TestFramework (ERROR): \r\n2021-06-15T22:59:53.889000Z TestFramework (ERROR): If this failure happened unexpectedly or intermittently, please file a bug and provide a link or upload of the combined log.\r\n2021-06-15T22:59:53.889000Z TestFramework (ERROR): https://github.com/bitcoin/bitcoin/issues\r\n2021-06-15T22:59:53.889000Z TestFramework (ERROR): \r\n\r\n\r\nstderr:\r\n\r\n\r\nRemaining jobs: [rpc_deprecated.py, rpc_deriveaddresses.py, rpc_dumptxoutset.py]\r\n2/4 - rpc_deprecated.py passed, Duration: 1 s\r\nRemaining jobs: [rpc_deriveaddresses.py, rpc_dumptxoutset.py]\r\n3/4 - rpc_deriveaddresses.py passed, Duration: 2 s\r\nRemaining jobs: [rpc_dumptxoutset.py]\r\n4/4 - rpc_dumptxoutset.py passed, Duration: 2 s\r\n\r\nTEST                   | STATUS    | DURATION\r\n\r\nrpc_deprecated.py      | ✓ Passed  | 1 s\r\nrpc_deriveaddresses.py | ✓ Passed  | 2 s\r\nrpc_dumptxoutset.py    | ✓ Passed  | 2 s\r\nrpc_decodescript.py    | ✖ Failed  | 1 s\r\n\r\nALL                    | ✖ Failed  | 6 s (accumulated) \r\nRuntime: 2 s\r\n</p>\r\n</details>",
      "user": {
        "login": "aitorjs",
        "id": 1209012,
        "node_id": "MDQ6VXNlcjEyMDkwMTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1209012?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aitorjs",
        "html_url": "https://github.com/aitorjs",
        "followers_url": "https://api.github.com/users/aitorjs/followers",
        "following_url": "https://api.github.com/users/aitorjs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aitorjs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aitorjs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aitorjs/subscriptions",
        "organizations_url": "https://api.github.com/users/aitorjs/orgs",
        "repos_url": "https://api.github.com/users/aitorjs/repos",
        "events_url": "https://api.github.com/users/aitorjs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aitorjs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22249#issuecomment-861897461",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22249"
    },
    {
      "event": "commented",
      "id": 862985303,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg2Mjk4NTMwMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/862985303",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-17T07:02:36Z",
      "updated_at": "2021-06-17T07:02:36Z",
      "author_association": "MEMBER",
      "body": "Example failure is here and looks good: https://cirrus-ci.com/build/5678106947092480\r\n\r\nCommit can be removed again.",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22249#issuecomment-862985303",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22249"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4906256032,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDkwNjI1NjAzMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4906256032",
      "actor": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-17T19:43:57Z"
    },
    {
      "event": "commented",
      "id": 863516088,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg2MzUxNjA4OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/863516088",
      "actor": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-17T19:45:36Z",
      "updated_at": "2021-06-17T19:45:36Z",
      "author_association": "CONTRIBUTOR",
      "body": "Done",
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22249#issuecomment-863516088",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22249"
    },
    {
      "event": "merged",
      "id": 4909537445,
      "node_id": "MDExOk1lcmdlZEV2ZW50NDkwOTUzNzQ0NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4909537445",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "0844084c13af36c45a0e4fc49fc0c6c0d9513406",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0844084c13af36c45a0e4fc49fc0c6c0d9513406",
      "created_at": "2021-06-18T12:24:54Z"
    },
    {
      "event": "closed",
      "id": 4909537451,
      "node_id": "MDExOkNsb3NlZEV2ZW50NDkwOTUzNzQ1MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4909537451",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-18T12:24:55Z"
    },
    {
      "event": "referenced",
      "id": 4911848041,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ5MTE4NDgwNDE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4911848041",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "0f79e33528167657969c07feff598e26cb688289",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/0f79e33528167657969c07feff598e26cb688289",
      "created_at": "2021-06-18T23:13:42Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-10T07:52:58Z",
      "updated_at": "2021-09-10T07:52:58Z",
      "source": {
        "issue": {
          "id": 992898668,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NzMxMTY4NzIx",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22936",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22936/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22936/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22936/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/22936",
          "number": 22936,
          "state": "closed",
          "state_reason": null,
          "title": "test: don't try and use os.killpg() on Windows",
          "body": "os.killpg and os.getpgid are [Unix only](https://docs.python.org/3.6/library/os.html#os.killpg). Seen in at least [#20744](https://github.com/bitcoin/bitcoin/pull/20744/checks?check_run_id=3563419559):\r\n\r\n```bash\r\nRuntime: 1 s\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\ContainerAdministrator\\AppData\\Local\\Temp\\cirrus-ci-build\\test\\functional\\test_runner.py\", line 797, in <module>\r\n    main()\r\n  File \"C:\\Users\\ContainerAdministrator\\AppData\\Local\\Temp\\cirrus-ci-build\\test\\functional\\test_runner.py\", line 446, in main\r\n    run_tests(\r\n  File \"C:\\Users\\ContainerAdministrator\\AppData\\Local\\Temp\\cirrus-ci-build\\test\\functional\\test_runner.py\", line 567, in run_tests\r\n    os.killpg(os.getpgid(0), signal.SIGKILL)\r\nAttributeError: module 'os' has no attribute 'killpg'\r\n\r\nC:\\Users\\ContainerAdministrator\\AppData\\Local\\Temp\\cirrus-ci-build>if 1 NEQ 0 exit /b 1 \r\n```",
          "user": {
            "login": "fanquake",
            "id": 863730,
            "node_id": "MDQ6VXNlcjg2MzczMA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fanquake",
            "html_url": "https://github.com/fanquake",
            "followers_url": "https://api.github.com/users/fanquake/followers",
            "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
            "organizations_url": "https://api.github.com/users/fanquake/orgs",
            "repos_url": "https://api.github.com/users/fanquake/repos",
            "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/fanquake/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 12,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22936",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/22936",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/22936.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/22936.patch"
          },
          "closed_at": "2021-09-17T03:05:30Z",
          "created_at": "2021-09-10T05:18:16Z",
          "updated_at": "2022-10-30T19:09:06Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-15T11:21:59Z",
      "updated_at": "2021-09-15T11:21:59Z",
      "source": {
        "issue": {
          "id": 996965551,
          "node_id": "PR_kwDOABII584rxyKf",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22980",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22980/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22980/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22980/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/22980",
          "number": 22980,
          "state": "closed",
          "state_reason": null,
          "title": "qa: Ignore `--failfast` option of `test_runner.py` on Windows",
          "body": "The current `--failfast` [implementation](https://github.com/bitcoin/bitcoin/pull/22249) does [not work](https://github.com/bitcoin/bitcoin/pull/22249#pullrequestreview-683640698) on Windows.\r\n\r\nThis PR is an alternative to #22936, and it is based on the https://github.com/bitcoin/bitcoin/pull/22936#pullrequestreview-751153668:\r\n> An alternative would be to just not fix it. I mean who uses Windows anyway (to run the functional tests with --failfast).\r\n>\r\n> At least with the error message, it well be clear that something went wrong. With this patch it will leave them dangling.\r\n\r\n",
          "user": {
            "login": "hebasto",
            "id": 32963518,
            "node_id": "MDQ6VXNlcjMyOTYzNTE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hebasto",
            "html_url": "https://github.com/hebasto",
            "followers_url": "https://api.github.com/users/hebasto/followers",
            "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
            "organizations_url": "https://api.github.com/users/hebasto/orgs",
            "repos_url": "https://api.github.com/users/hebasto/repos",
            "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/hebasto/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 5,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22980",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/22980",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/22980.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/22980.patch"
          },
          "closed_at": "2021-09-15T13:53:34Z",
          "created_at": "2021-09-15T11:21:59Z",
          "updated_at": "2022-11-15T13:10:37Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 6723198775,
      "node_id": "REFE_lADOABII58425nkyzwAAAAGQu983",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6723198775",
      "actor": {
        "login": "gwillen",
        "id": 458997,
        "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gwillen",
        "html_url": "https://github.com/gwillen",
        "followers_url": "https://api.github.com/users/gwillen/followers",
        "following_url": "https://api.github.com/users/gwillen/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gwillen/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gwillen/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
        "organizations_url": "https://api.github.com/users/gwillen/orgs",
        "repos_url": "https://api.github.com/users/gwillen/repos",
        "events_url": "https://api.github.com/users/gwillen/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gwillen/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "16c93fc36093197cf1e09d0657d2cabd36c4c7bf",
      "commit_url": "https://api.github.com/repos/ElementsProject/elements/commits/16c93fc36093197cf1e09d0657d2cabd36c4c7bf",
      "created_at": "2022-06-01T21:22:34Z"
    },
    {
      "event": "locked",
      "id": 7216583652,
      "node_id": "LOE_lADOABII58425nkyzwAAAAGuJFPk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7216583652",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-18T18:31:34Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/651514278",
      "pull_request_review_id": 683640698,
      "id": 651514278,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MTUxNDI3OA==",
      "diff_hunk": "@@ -548,9 +549,11 @@ def run_tests(*, test_list, src_dir, build_dir, tmpdir, jobs=1, enable_coverage=\n \n     all_passed = all(map(lambda test_result: test_result.was_successful, test_results)) and coverage_passed\n \n-    # This will be a no-op unless failfast is True in which case there may be dangling\n-    # processes which need to be killed.\n-    job_queue.kill_and_join()\n+    # Clean up dangling processes if any. This may only happen with --failfast option.\n+    # Killing the process group will also terminate the current process but that is\n+    # not an issue\n+    if len(job_queue.jobs):\n+        os.killpg(os.getpid(), signal.SIGKILL)",
      "path": "test/functional/test_runner.py",
      "position": null,
      "original_position": 19,
      "commit_id": "451b96f7d2796d00eabaec56d831f9e9b1a569cc",
      "original_commit_id": "5012bf02a0dace65ae5bfa14aaab216e33bd9ce5",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "shouldn't this use https://docs.python.org/3.6/library/os.html#os.getpgid ?",
      "created_at": "2021-06-15T07:18:13Z",
      "updated_at": "2021-06-15T07:20:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22249#discussion_r651514278",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/651514278"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22249"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 556,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/651528988",
      "pull_request_review_id": 683660375,
      "id": 651528988,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MTUyODk4OA==",
      "diff_hunk": "@@ -548,9 +549,11 @@ def run_tests(*, test_list, src_dir, build_dir, tmpdir, jobs=1, enable_coverage=\n \n     all_passed = all(map(lambda test_result: test_result.was_successful, test_results)) and coverage_passed\n \n-    # This will be a no-op unless failfast is True in which case there may be dangling\n-    # processes which need to be killed.\n-    job_queue.kill_and_join()\n+    # Clean up dangling processes if any. This may only happen with --failfast option.\n+    # Killing the process group will also terminate the current process but that is\n+    # not an issue\n+    if len(job_queue.jobs):\n+        os.killpg(os.getpid(), signal.SIGKILL)",
      "path": "test/functional/test_runner.py",
      "position": null,
      "original_position": 19,
      "commit_id": "451b96f7d2796d00eabaec56d831f9e9b1a569cc",
      "original_commit_id": "5012bf02a0dace65ae5bfa14aaab216e33bd9ce5",
      "in_reply_to_id": 651514278,
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, thanks",
      "created_at": "2021-06-15T07:39:06Z",
      "updated_at": "2021-06-15T07:39:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22249#discussion_r651528988",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/651528988"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22249"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 556,
      "side": "RIGHT"
    }
  ]
}