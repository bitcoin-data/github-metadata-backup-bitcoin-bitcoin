{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124",
    "id": 3119599294,
    "node_id": "PR_kwDOABII58658U6-",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/34124",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/34124.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/34124.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34124",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34124/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/4fdcf62bb56c0549dfff1f812a6ce880c42f5989",
    "number": 34124,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "refactor: make `CCoinsView` a pure virtual interface",
    "user": {
      "login": "l0rinc",
      "id": 1841944,
      "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l0rinc",
      "html_url": "https://github.com/l0rinc",
      "followers_url": "https://api.github.com/users/l0rinc/followers",
      "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
      "organizations_url": "https://api.github.com/users/l0rinc/orgs",
      "repos_url": "https://api.github.com/users/l0rinc/repos",
      "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/l0rinc/received_events",
      "type": "User",
      "site_admin": false,
      "name": null,
      "patch_url": null
    },
    "body": "### Problem\r\n`CCoinsView` serves as the interface for the coins database layer, but historically had a dual nature that caused confusion:\r\n\r\n* It provided default noop implementations (returning `std::nullopt`, `uint256()`, `false`, `nullptr`) instead of being pure virtual\r\n* Callers could instantiate a bare `CCoinsView` and get silent no-op behavior\r\n* Mixing the interface definition with a built-in dummy implementation blurred the abstraction boundary\r\n\r\n### Context\r\nThis is part of ongoing coins caching cleanup efforts, see https://github.com/bitcoin/bitcoin/issues/34280.\r\n\r\n### Fix\r\nThis PR separates interface and noop behavior, and makes `CCoinsView` pure virtual in incremental steps:\r\n* Add `CCoinsViewEmpty` as an explicit noop coins view for tests, benchmarks, and temporary backends\r\n* Replace direct bare-`CCoinsView` test/dummy instantiations with `CCoinsViewEmpty`\r\n* Incrementally make `CCoinsView` methods pure virtual (`GetCoin`, `GetBestBlock`, `BatchWrite`, `EstimateSize`, `Cursor`, `GetHeadBlocks`)\r\n* Keep default `HaveCoin(outpoint)` behavior (`GetCoin(outpoint).has_value()`)\r\n* Remove moved legacy default implementations from `coins.cpp`\r\n* Update the coins view fuzzer to switch between a real db-backed view and `CCoinsViewEmpty`\r\n* In `MemPoolAccept::PreChecks`, cache `best_block` before switching backend to `CCoinsViewEmpty` to avoid relying on empty-backend `GetBestBlock()`",
    "labels": [
      {
        "id": 135961,
        "node_id": "MDU6TGFiZWwxMzU5NjE=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
        "name": "Refactoring",
        "color": "E6F6D6",
        "default": false
      }
    ],
    "created_at": "2025-12-20T08:47:33Z",
    "updated_at": "2026-02-06T16:49:24Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "a95689f8b9d386113fa4747ed0bbfa7654ff0c4f",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    ],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "l0rinc:l0rinc/pure-virtual-CCoinsView",
      "ref": "l0rinc/pure-virtual-CCoinsView",
      "sha": "4fdcf62bb56c0549dfff1f812a6ce880c42f5989",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 674169038,
        "node_id": "R_kgDOKC8Azg",
        "name": "bitcoin",
        "full_name": "l0rinc/bitcoin",
        "owner": {
          "login": "l0rinc",
          "id": 1841944,
          "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
          "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/l0rinc",
          "html_url": "https://github.com/l0rinc",
          "followers_url": "https://api.github.com/users/l0rinc/followers",
          "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
          "organizations_url": "https://api.github.com/users/l0rinc/orgs",
          "repos_url": "https://api.github.com/users/l0rinc/repos",
          "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/l0rinc/received_events",
          "type": "User",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/l0rinc/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/l0rinc/bitcoin",
        "archive_url": "https://api.github.com/repos/l0rinc/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/l0rinc/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/l0rinc/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/l0rinc/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/l0rinc/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/l0rinc/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/l0rinc/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/l0rinc/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/l0rinc/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/l0rinc/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/l0rinc/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/l0rinc/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/l0rinc/bitcoin/events",
        "forks_url": "https://api.github.com/repos/l0rinc/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/l0rinc/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/l0rinc/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/l0rinc/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/l0rinc/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/l0rinc/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/l0rinc/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/l0rinc/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/l0rinc/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/l0rinc/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/l0rinc/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/l0rinc/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/l0rinc/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/l0rinc/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/l0rinc/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/l0rinc/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:l0rinc/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/l0rinc/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/l0rinc/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/l0rinc/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/l0rinc/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/l0rinc/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/l0rinc/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/l0rinc/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/l0rinc/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/l0rinc/bitcoin/hooks",
        "svn_url": "https://github.com/l0rinc/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 4,
        "watchers_count": 4,
        "size": 283370,
        "default_branch": "master",
        "open_issues_count": 43,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2026-02-06T16:42:46Z",
        "created_at": "2023-08-03T09:49:12Z",
        "updated_at": "2026-02-05T12:40:37Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "28160c1e3dc1266531463ebaed531cd99c7d29dc",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 38850,
        "stargazers_count": 87977,
        "watchers_count": 87977,
        "size": 303119,
        "default_branch": "master",
        "open_issues_count": 739,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2026-02-06T14:11:24Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2026-02-06T16:17:23Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 133,
    "deletions": 133,
    "changed_files": 19,
    "commits": 11,
    "review_comments": 52,
    "comments": 7
  },
  "events": [
    {
      "event": "labeled",
      "id": 21683616602,
      "node_id": "LE_lADOABII587fgV9xzwAAAAUMcbta",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21683616602",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-20T08:47:37Z",
      "label": {
        "name": "Refactoring",
        "color": "E6F6D6"
      }
    },
    {
      "event": "commented",
      "id": 3677609717,
      "node_id": "IC_kwDOABII587bM971",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3677609717",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-20T08:47:41Z",
      "updated_at": "2026-02-05T00:19:19Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/34124.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [andrewtoth](https://github.com/bitcoin/bitcoin/pull/34124#issuecomment-3678038276), [ajtowns](https://github.com/bitcoin/bitcoin/pull/34124#pullrequestreview-3602578034), [sipa](https://github.com/bitcoin/bitcoin/pull/34124#pullrequestreview-3618585105) |\n| Stale ACK | [w0xlt](https://github.com/bitcoin/bitcoin/pull/34124#pullrequestreview-3690102337) |\n\nIf your review is incorrectly listed, please copy-paste <code>&lt;!--meta-tag:bot-skip--&gt;</code> into the comment that the bot should ignore.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#34320](https://github.com/bitcoin/bitcoin/pull/34320) (coins: remove redundant and confusing `CCoinsViewDB::HaveCoin` by l0rinc)\n* [#34165](https://github.com/bitcoin/bitcoin/pull/34165) (coins: don't mutate main cache when connecting block by andrewtoth)\n* [#34132](https://github.com/bitcoin/bitcoin/pull/34132) (coins: fail fast on database read deserialization errors by l0rinc)\n* [#33512](https://github.com/bitcoin/bitcoin/pull/33512) (coins: use number of dirty cache entries in flush warnings/logs by l0rinc)\n* [#31132](https://github.com/bitcoin/bitcoin/pull/31132) (validation: fetch block inputs on parallel threads 3x faster IBD by andrewtoth)\n* [#30342](https://github.com/bitcoin/bitcoin/pull/30342) (kernel, logging: Pass Logger instances to kernel objects by ryanofsky)\n* [#29060](https://github.com/bitcoin/bitcoin/pull/29060) (Policy: Report debug message why inputs are non standard by ismaelsadeeq)\n* [#27865](https://github.com/bitcoin/bitcoin/pull/27865) (wallet: Track no-longer-spendable TXOs separately by achow101)\n* [#21283](https://github.com/bitcoin/bitcoin/pull/21283) (Implement BIP 370 PSBTv2 by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#issuecomment-3677609717",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34124"
    },
    {
      "event": "commented",
      "id": 3678038276,
      "node_id": "IC_kwDOABII587bOmkE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3678038276",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-20T19:02:06Z",
      "updated_at": "2025-12-20T19:02:06Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK\n\nMakes sense to make an empty view explicit, and having the base class be purely virtual.",
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#issuecomment-3678038276",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34124"
    },
    {
      "event": "renamed",
      "id": 21686184225,
      "node_id": "RTE_lADOABII587fgV9xzwAAAAUMmOkh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21686184225",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-20T19:16:47Z",
      "rename": {
        "from": "refactor: make `CCoinsView` a purely abstract base class",
        "to": "refactor: make `CCoinsView` a purely virtual abstract base class"
      }
    },
    {
      "event": "reviewed",
      "id": 3602578034,
      "node_id": "PRR_kwDOABII587Wuvpy",
      "url": null,
      "actor": null,
      "commit_id": "38ae4082a13b2e6dd07e84d228c9e58d3df27b11",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-12-22T04:23:14Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK, this seemed better separated as an interface and a dummy implementation to me too.\r\n\r\nI think squashing all the commits after the first into a single commit would be better though.",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#pullrequestreview-3602578034",
      "submitted_at": "2025-12-22T04:23:14Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21713218511,
      "node_id": "HRFPE_lADOABII587fgV9xzwAAAAUONWvP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21713218511",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "d5c77c71428b667b9c9f1a8eb84a75d5874b85af",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/d5c77c71428b667b9c9f1a8eb84a75d5874b85af",
      "created_at": "2025-12-22T21:19:09Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21769399409,
      "node_id": "HRFPE_lADOABII587fgV9xzwAAAAURjqxx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21769399409",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "784769b5b1a8465d1a09ec489a303c4616d11896",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/784769b5b1a8465d1a09ec489a303c4616d11896",
      "created_at": "2025-12-28T10:58:14Z"
    },
    {
      "event": "commented",
      "id": 3694658009,
      "node_id": "IC_kwDOABII587cOAHZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3694658009",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-28T11:04:11Z",
      "updated_at": "2025-12-28T11:04:11Z",
      "author_association": "CONTRIBUTOR",
      "body": "This change also revealed a potential UB in `MemPoolAccept` member init order. Since class members are constructed in [declaration order](https://en.cppreference.com/w/cpp/language/initializer_list.html#Initialization_order) (not initializer-list order), calls to a virtual method (having `m_view` depend on `m_dummy` but declared before it) can result in a virtual call through an uninitialized vptr and crash.\r\nSince the constructor didn't dereference `m_dummy` during `m_view` construction, the latent ordering hazard stayed dormant. This cleanup accidentally fixed it, but to make it explicit, I have extracted it to the first commit as a temporary fix.",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#issuecomment-3694658009",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34124"
    },
    {
      "event": "reviewed",
      "id": 3614915324,
      "node_id": "PRR_kwDOABII587Xdzr8",
      "url": null,
      "actor": null,
      "commit_id": "436765c23a009c18a2a8e29e8b9534924e80d1d0",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-12-29T01:33:36Z",
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#pullrequestreview-3614915324",
      "submitted_at": "2025-12-29T01:33:36Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
    },
    {
      "event": "reviewed",
      "id": 3615075843,
      "node_id": "PRR_kwDOABII587Xea4D",
      "url": null,
      "actor": null,
      "commit_id": "784769b5b1a8465d1a09ec489a303c4616d11896",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-12-29T05:39:46Z",
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#pullrequestreview-3615075843",
      "submitted_at": "2025-12-29T05:39:46Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
    },
    {
      "event": "reviewed",
      "id": 3615082648,
      "node_id": "PRR_kwDOABII587XeciY",
      "url": null,
      "actor": null,
      "commit_id": "784769b5b1a8465d1a09ec489a303c4616d11896",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-12-29T05:46:39Z",
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#pullrequestreview-3615082648",
      "submitted_at": "2025-12-29T05:46:39Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21783858694,
      "node_id": "HRFPE_lADOABII587fgV9xzwAAAAUSa04G",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21783858694",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "a69ea84b83d22c66ddeeba6d27b761036d6fec40",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/a69ea84b83d22c66ddeeba6d27b761036d6fec40",
      "created_at": "2025-12-29T20:21:41Z"
    },
    {
      "event": "reviewed",
      "id": 3618585105,
      "node_id": "PRR_kwDOABII587XrzoR",
      "url": null,
      "actor": null,
      "commit_id": "a69ea84b83d22c66ddeeba6d27b761036d6fec40",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-12-30T16:21:26Z",
      "author_association": "MEMBER",
      "body": "Concept ACK",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#pullrequestreview-3618585105",
      "submitted_at": "2025-12-30T16:21:26Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21801346703,
      "node_id": "HRFPE_lADOABII587fgV9xzwAAAAUTdiaP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21801346703",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "b23d784b6baee140f75882fe009be5676db4cb0b",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/b23d784b6baee140f75882fe009be5676db4cb0b",
      "created_at": "2025-12-30T23:14:12Z"
    },
    {
      "event": "reviewed",
      "id": 3622026233,
      "node_id": "PRR_kwDOABII587X47v5",
      "url": null,
      "actor": null,
      "commit_id": "b23d784b6baee140f75882fe009be5676db4cb0b",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-01-01T19:50:51Z",
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#pullrequestreview-3622026233",
      "submitted_at": "2026-01-01T19:50:51Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
    },
    {
      "event": "reviewed",
      "id": 3622038231,
      "node_id": "PRR_kwDOABII587X4-rX",
      "url": null,
      "actor": null,
      "commit_id": "b23d784b6baee140f75882fe009be5676db4cb0b",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-01-01T20:27:10Z",
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#pullrequestreview-3622038231",
      "submitted_at": "2026-01-01T20:27:10Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21821003039,
      "node_id": "HRFPE_lADOABII587fgV9xzwAAAAUUohUf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21821003039",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "50245cadd68c3345c551cd65f878e9c7ca3ae1a4",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/50245cadd68c3345c551cd65f878e9c7ca3ae1a4",
      "created_at": "2026-01-01T20:42:56Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21821305216,
      "node_id": "HRFPE_lADOABII587fgV9xzwAAAAUUprGA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21821305216",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "e3d4435b94ff7a1153d06e3e6bb709431b18b76b",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/e3d4435b94ff7a1153d06e3e6bb709431b18b76b",
      "created_at": "2026-01-01T21:36:41Z"
    },
    {
      "event": "labeled",
      "id": 21833960474,
      "node_id": "LE_lADOABII587fgV9xzwAAAAUVZ8wa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21833960474",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-03T02:36:48Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21836035022,
      "node_id": "HRFPE_lADOABII587fgV9xzwAAAAUVh3PO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21836035022",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "d82eedd0a7510dce9b4b7135a7c5d1a7edc6678c",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/d82eedd0a7510dce9b4b7135a7c5d1a7edc6678c",
      "created_at": "2026-01-03T13:19:01Z"
    },
    {
      "event": "commented",
      "id": 3707052652,
      "node_id": "IC_kwDOABII587c9SJs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3707052652",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-03T13:21:29Z",
      "updated_at": "2026-01-03T13:31:10Z",
      "author_association": "CONTRIBUTOR",
      "body": "A slightly more involved rebase after https://github.com/bitcoin/bitcoin/pull/33866.\r\nMost of the conflicts were around moving `BatchWrite` around.\r\nI have also separated the second commit into 3, to address reviewer feedback regarding cleaning up naming and formatting of affected methods. This way - after a boring refactor commit - the non-trivial follow-up commits are easier to review.\r\nCan be reviewed via `git range-diff -w -U0 master e3d4435 3b800c9`.",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#issuecomment-3707052652",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34124"
    },
    {
      "event": "unlabeled",
      "id": 21836047952,
      "node_id": "UNLE_lADOABII587fgV9xzwAAAAUVh6ZQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21836047952",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-03T13:23:03Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21836071895,
      "node_id": "HRFPE_lADOABII587fgV9xzwAAAAUViAPX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21836071895",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "3b800c9e939f3c8dcaef6537624033c5be01a64e",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/3b800c9e939f3c8dcaef6537624033c5be01a64e",
      "created_at": "2026-01-03T13:30:42Z"
    },
    {
      "event": "labeled",
      "id": 21836073678,
      "node_id": "LE_lADOABII587fgV9xzwAAAAUViArO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21836073678",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-03T13:31:16Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 3707057937,
      "node_id": "IC_kwDOABII587c9TcR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3707057937",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-03T13:31:25Z",
      "updated_at": "2026-01-03T13:31:25Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\n At least one of the CI tasks failed.\n<sub>Task `ASan + LSan + UBSan + integer`: https://github.com/bitcoin/bitcoin/actions/runs/20677817262/job/59367841784</sub>\n<sub>LLM reason ( experimental): Compiler error in fuzz/coins_view.cpp: attempted assignment with no viable overloaded operator=, causing the build to fail.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#issuecomment-3707057937",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34124"
    },
    {
      "event": "unlabeled",
      "id": 21836690467,
      "node_id": "UNLE_lADOABII587fgV9xzwAAAAUVkXQj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21836690467",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-03T16:03:30Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 3690102337,
      "node_id": "PRR_kwDOABII587b8n5B",
      "url": null,
      "actor": null,
      "commit_id": "3b800c9e939f3c8dcaef6537624033c5be01a64e",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-01-22T00:52:06Z",
      "author_association": "CONTRIBUTOR",
      "body": "ACK 3b800c9e939f3c8dcaef6537624033c5be01a64e\r\n\r\n1) Good separation between CCoinsView (interface), CCoinsViewEmpty (no-op), and CCoinsViewBacked (delegator).\r\n2) Test files are notably cleaner, removing the repetitive `CCoinsView coinsDummy; CCoinsViewCache coins(&coinsDummy);` pattern.",
      "user": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#pullrequestreview-3690102337",
      "submitted_at": "2026-01-22T00:52:06Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
    },
    {
      "event": "review_requested",
      "id": 22203154477,
      "node_id": "RRE_lADOABII587fgV9xzwAAAAUraUAt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22203154477",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-22T00:52:11Z",
      "requested_reviewer": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    },
    {
      "event": "review_requested",
      "id": 22203154708,
      "node_id": "RRE_lADOABII587fgV9xzwAAAAUraUEU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22203154708",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-22T00:52:13Z",
      "requested_reviewer": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    },
    {
      "event": "review_requested",
      "id": 22203154921,
      "node_id": "RRE_lADOABII587fgV9xzwAAAAUraUHp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22203154921",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-22T00:52:14Z",
      "requested_reviewer": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    },
    {
      "event": "labeled",
      "id": 22391501786,
      "node_id": "LE_lADOABII587fgV9xzwAAAAU2ozPa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22391501786",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-30T00:06:39Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22401094601,
      "node_id": "HRFPE_lADOABII587fgV9xzwAAAAU3NZPJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22401094601",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "427cff7620246432cc57777ea43e86e9c5e9e680",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/427cff7620246432cc57777ea43e86e9c5e9e680",
      "created_at": "2026-01-30T08:41:23Z"
    },
    {
      "event": "unlabeled",
      "id": 22401402927,
      "node_id": "UNLE_lADOABII587fgV9xzwAAAAU3Okgv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22401402927",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-30T08:55:33Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 22404364088,
      "node_id": "LE_lADOABII587fgV9xzwAAAAU3Z3c4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22404364088",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-30T11:00:53Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 3823124049,
      "node_id": "IC_kwDOABII587j4D5R",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3823124049",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-30T11:01:03Z",
      "updated_at": "2026-01-30T11:01:03Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\n At least one of the CI tasks failed.\n<sub>Task `test max 6 ancestor commits`: https://github.com/bitcoin/bitcoin/actions/runs/21509735101/job/61973587699</sub>\n<sub>LLM reason ( experimental): CI failed because the git rebase could not continue: the index has uncommitted changes preventing merge/rebase.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#issuecomment-3823124049",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34124"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22404477926,
      "node_id": "HRFPE_lADOABII587fgV9xzwAAAAU3aTPm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22404477926",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "515dbf1e72ef4ba0233aedcc4b40f44221f899dc",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/515dbf1e72ef4ba0233aedcc4b40f44221f899dc",
      "created_at": "2026-01-30T11:06:36Z"
    },
    {
      "event": "unlabeled",
      "id": 22407834093,
      "node_id": "UNLE_lADOABII587fgV9xzwAAAAU3nGnt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22407834093",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-30T13:41:32Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 3753423708,
      "node_id": "PRR_kwDOABII587fuLNc",
      "url": null,
      "actor": null,
      "commit_id": "515dbf1e72ef4ba0233aedcc4b40f44221f899dc",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-02-04T23:18:25Z",
      "author_association": "CONTRIBUTOR",
      "body": "Code review 515dbf1e72ef4ba0233aedcc4b40f44221f899dc. This looks good but I want to spend a little more time checking before acking. Making `CoinsView` pure-virtual seems like a clearly good change. Some things here are maybe not ideal though:\n\n- It doesn't seem good that `CCoinsViewCache` is now default constructible, but if it is default-constructed it behaves like a test class and discards data written to it. It would seem safer to requiring passing a no-op base view if you want that behavior, or to provide a separate `NoOpCoinsCache` subclass that discards data for tests.\n\n- It seems unfortunate to lose the default `HaveCoin(outpoint)` implementation (`GetCoin(outpoint).has_value()`) and force subclasses to re-implement it. Not sure if there would be any downside to keeping this method.\n\nIn general removing the no-op behaviors from the `CCoinsView` base class seems like a clearly good thing, but it would be nice to reduce uses of CCoinsViewEmpty as well. Maybe a followup could do this (or some followups already do).",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#pullrequestreview-3753423708",
      "submitted_at": "2026-02-04T23:18:25Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDAzNjg1Nzc0YzBlZTQ0YWFiMzk3YWVhMzRkMGNkNzkwMmI3OThmMTg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/03685774c0ee44aab397aea34d0cd7902b798f18",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/03685774c0ee44aab397aea34d0cd7902b798f18",
      "tree": {
        "sha": "cb299f0e860fa724d0cf0fc77389308b6dfd0f16",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/cb299f0e860fa724d0cf0fc77389308b6dfd0f16"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree cb299f0e860fa724d0cf0fc77389308b6dfd0f16\nparent 01651324f4e540f6b96cff31e89752c3f9417293\nauthor Lrinc <pap.lorinc@gmail.com> 1767442196 +0100\ncommitter Lrinc <pap.lorinc@gmail.com> 1770396127 +0100\n\nrefactor: change `CCoinsView` parameter to pointer in `TestCoinsView`\n\nThis makes the `backend_coins_view` parameter relocatable in a follow-up commit.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqXy8dDLWkKQdUrTAZp//D/pHenYFAmmGGd8ACgkQZp//D/pH\nenYqHw//WYC3HWUdWrjeMgfCgmRpLc1MhIzQXOcCe3iVAxfQf9YtqFRxAnihUyCZ\nflq6+GOYSTzcJsFw6LGewAgkizPFcEAX4UJ+BElLve3xuAnnMD1B0iio3XpQJhDh\nTrmWBLInWgja38gs7Mp03yKYP/HAh01TSY270NDPk/2r2b0UbWbkQE2MmgeBjNlW\n2u7xC6AD7dMGguaezdKa2xfM3yxryKIho3bHFyVI9ypjjp27WnSd9pCLEmY/QVAw\nn8X/gO0o/x5SntKBR1cL5VNcxj99w0xArE/5OiMJoMb/MAK5q9Ujwav7s5yCXdy1\nayWBGy1R/pxaTjpM+DP+G3w+x7/EQlV4BXLxVmruyi1EAKloSBpdy26lI27FcBIa\nPskZuVN3+rZd79wFE9zF3eh+/scRymYXP+IgPW8jl31q2HKR470tIbWwYDCwv3Xn\n+t/yDxAydOZcERdU+HDAzRsTNHlDT/H8kePLGfgCDeLw2dp+0PVvKG/kmztGMlFp\nXOLXXzGG0dgCwpdqrSI/9d73jp/nYV9QBFKfOd/WD3qoo4nxrCkTPZD9cQrJ6TIe\n6IcLjIphRfPVCULI6B5WAW6mTTLBgUwUejjCrHMWcv13/kl1WO00+UdNJfK+lNeQ\n5sAZepN68ZWrGnoFtjkgfY4eO7HdOvGvRdhNP/T/Ec58fVxjKQ8=\n=MVqp\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/01651324f4e540f6b96cff31e89752c3f9417293",
          "sha": "01651324f4e540f6b96cff31e89752c3f9417293",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/01651324f4e540f6b96cff31e89752c3f9417293"
        }
      ],
      "message": "refactor: change `CCoinsView` parameter to pointer in `TestCoinsView`\n\nThis makes the `backend_coins_view` parameter relocatable in a follow-up commit.",
      "committer": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-02-06T16:42:07Z"
      },
      "author": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-01-03T12:09:56Z"
      },
      "sha": "03685774c0ee44aab397aea34d0cd7902b798f18"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGNhYTU3NDkwM2NkMDAzZDAzY2MwOGYwZWU2MzY2MTUwNmY3YTVkODg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/caa574903cd003d03cc08f0ee63661506f7a5d88",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/caa574903cd003d03cc08f0ee63661506f7a5d88",
      "tree": {
        "sha": "792296171c41aef7204d01bbfdfa6241c8a22c4c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/792296171c41aef7204d01bbfdfa6241c8a22c4c"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 792296171c41aef7204d01bbfdfa6241c8a22c4c\nparent 03685774c0ee44aab397aea34d0cd7902b798f18\nauthor Lrinc <pap.lorinc@gmail.com> 1767441713 +0100\ncommitter Lrinc <pap.lorinc@gmail.com> 1770396127 +0100\n\nrefactor: standardize parameter naming in CCoinsView classes\n\nBesides the parameter and field renames and reformats, the `CCoinsViewBacked` constructor was also made explicit, and the `SetBackend` method moved up higher. The `CCoinsViews` destructor was also moved to the top.\n\nThis should derisk and simplify follow-up commits by reducing noise.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqXy8dDLWkKQdUrTAZp//D/pHenYFAmmGGd8ACgkQZp//D/pH\nenbeoxAAlhIo5pK1rGnZEkneBeuJ7zDKTQmKveZxvfz0a2DOPx6p9c6Ed2SMGL94\nksGGfh0VabEXUw4bZvR6IcYJCnNwhfl2nLPbAmvCSTkUOBBtLKRfcdYzUFuAze1w\nD6q7ALPOy96K0fwYk5DkaVFvYWio85twQaNj8O+Gzce+Agk3r03sUNG81KxoSUbs\nNWJ3nzkpZaAe5Bq8VhtflPcWpOfjkK6/6mDu4KEIPYStoQFI8fkMNNrV9nKYafzI\nwgMX9tRynJCf5zYVwCn7/3jZzUuJsFnA3eGFLElCO1qfPiRa4o3hHIZUpwPZNlMz\nsHCF1dr51VocjUOewpF7okXpcU0hJm4TP4ShSu0oE1IJSoAggY+7Jlrf36tG8Xbk\n2aQoCAgK++rDhNYxgEAV14k5kc1NKs6LUZ0SE7LShPqwN4pFe2B66QEemTjkq7wx\nMTYLcMXq/U3EHE1HM9IeIq9oXXR601G/Y50OM+K3niuFzctdjbEXrxBOq9T8N3ve\nzl/Pfhi4M2HVK46gETi590f5a+WQHwBxRS+cVQpokJmPfL5tqFH2K5fOAs1AcReZ\nFfyuKyUAUnt126p60VK2dFbjhZgoB59JR9u9aAa403eGf/tV1sB4d41Rqx0fL45f\nE0WNYNfc2Zgj+bAwVbOmpx/Uiw1gg+nCpOZX9Oz+gT97kG/HK1E=\n=vaFS\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/03685774c0ee44aab397aea34d0cd7902b798f18",
          "sha": "03685774c0ee44aab397aea34d0cd7902b798f18",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/03685774c0ee44aab397aea34d0cd7902b798f18"
        }
      ],
      "message": "refactor: standardize parameter naming in CCoinsView classes\n\nBesides the parameter and field renames and reformats, the `CCoinsViewBacked` constructor was also made explicit, and the `SetBackend` method moved up higher. The `CCoinsViews` destructor was also moved to the top.\n\nThis should derisk and simplify follow-up commits by reducing noise.",
      "committer": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-02-06T16:42:07Z"
      },
      "author": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-01-03T12:01:53Z"
      },
      "sha": "caa574903cd003d03cc08f0ee63661506f7a5d88"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDhlYjc3M2Y4MzJiNTZjYTBlMGQ5OTcxZDJiY2M4ZjQyZjNhYmU0NjU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8eb773f832b56ca0e0d9971d2bcc8f42f3abe465",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/8eb773f832b56ca0e0d9971d2bcc8f42f3abe465",
      "tree": {
        "sha": "3d1c80a56999471004c3f0ed00264002ed8558fa",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3d1c80a56999471004c3f0ed00264002ed8558fa"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 3d1c80a56999471004c3f0ed00264002ed8558fa\nparent caa574903cd003d03cc08f0ee63661506f7a5d88\nauthor Lrinc <pap.lorinc@gmail.com> 1766917892 +0200\ncommitter Lrinc <pap.lorinc@gmail.com> 1770396127 +0100\n\nvalidation: fix `MemPoolAccept` member init order\n\n`MemPoolAccept` constructs `m_view` with a backend pointer to a `CCoinsView`.\nSince class members are constructed in declaration order (not initializer-list order), calls to a virtual method (having `m_view` declared before `m_dummy`) can result in a virtual call through an uninitialized vptr and crash.\n\nAdd a small `CCoinsViewCache` constructor sanity check (`base->GetBestBlock()`) so uninitialized backends are caught immediately. This is meant to demonstrate a possible UB and will be removed in a follow-up commit after the field is initialized by a singleton instead.\n\nWithout the move:\n```\nThe following tests FAILED:\n        112 - txdownload_tests (SEGFAULT)\n        115 - txpackage_tests (SEGFAULT)\n        118 - txvalidation_tests (SEGFAULT)\n        119 - txvalidationcache_tests (SEGFAULT)\n        127 - validation_block_tests (SEGFAULT)\n        146 - wallet_tests (SEGFAULT)\n```\n\nMove `m_dummy` before `m_view` so it is constructed first.\nIn a follow-up `m_dummy` will be completely removed, this commit was meant to demonstrate why it needs fixing.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqXy8dDLWkKQdUrTAZp//D/pHenYFAmmGGd8ACgkQZp//D/pH\nenZ/aw//aYhQ7XU/FGUOp1avb9pOf8Dswii8s3HAA2vWL32H021ATfykvWl7qiO5\nLcTl6yBfLgWyxKzQbgoV19762TLlTsaj66TAn/jg+w6r8PXT1INjyZfFg1cKcgQk\n9+GU9KgXsU7wjXoOLurHKEwIJq/A6Ae3WjDo0XK07VX9D4Rr1GNaow/i8WJAQEKU\nnBKPCSDuqQl7A278Z2gRaYhubx4PdeSBRLprd4mbnbkb+bOIY4zV8PTvDq0GZIXb\nDTx2sGgcFkiK39d4xdG9eIDgf1tC/CdDe6RnczUvlnLOzIPr4xWEF6GmanPqSXJb\n2w9BVqdDXeRnymBuBpHT7fFimNHKwir5QapI6/29sIcs2/jBud/bpDgpQg3WMeE/\nmH83gARtvfMyoKqSL6b4I1avzAnzQk4sSx5NbAp1F31ZM78kuubDse+SvW7O+Rw8\nsmrciwGF/DHecLeEJn+exsZrV8UrDgUTbsUJn3QEqvYBC8P2oO0XdTDK0ulEpACs\n6ogYeKmsUvA6v/Eotr4Zm1Mpw+QNTE7cTFYyfTZU6xB/gaidCs0XR6MjR16XwV8j\nwXERY3MhE9CQx6MS0pc9v6/+6QxNVHIO/KGp1Zh96n2JqXPkOZzhzjcvSmb6gNwk\nap0vlc99HXzKMIaq3mpLD4xdgH+Ysafwm0aA8WSYJ+55cNptT7E=\n=qEk7\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/caa574903cd003d03cc08f0ee63661506f7a5d88",
          "sha": "caa574903cd003d03cc08f0ee63661506f7a5d88",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/caa574903cd003d03cc08f0ee63661506f7a5d88"
        }
      ],
      "message": "validation: fix `MemPoolAccept` member init order\n\n`MemPoolAccept` constructs `m_view` with a backend pointer to a `CCoinsView`.\nSince class members are constructed in declaration order (not initializer-list order), calls to a virtual method (having `m_view` declared before `m_dummy`) can result in a virtual call through an uninitialized vptr and crash.\n\nAdd a small `CCoinsViewCache` constructor sanity check (`base->GetBestBlock()`) so uninitialized backends are caught immediately. This is meant to demonstrate a possible UB and will be removed in a follow-up commit after the field is initialized by a singleton instead.\n\nWithout the move:\n```\nThe following tests FAILED:\n        112 - txdownload_tests (SEGFAULT)\n        115 - txpackage_tests (SEGFAULT)\n        118 - txvalidation_tests (SEGFAULT)\n        119 - txvalidationcache_tests (SEGFAULT)\n        127 - validation_block_tests (SEGFAULT)\n        146 - wallet_tests (SEGFAULT)\n```\n\nMove `m_dummy` before `m_view` so it is constructed first.\nIn a follow-up `m_dummy` will be completely removed, this commit was meant to demonstrate why it needs fixing.",
      "committer": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-02-06T16:42:07Z"
      },
      "author": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-12-28T10:31:32Z"
      },
      "sha": "8eb773f832b56ca0e0d9971d2bcc8f42f3abe465"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGVlNzZiYzAwNTZkZmEwOTRhNDY3ODUxYmZiNWYyZmIyM2FjMTNiMzk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ee76bc0056dfa094a467851bfb5f2fb23ac13b39",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ee76bc0056dfa094a467851bfb5f2fb23ac13b39",
      "tree": {
        "sha": "6e82e685e0d19df8a2fac79529e5f588c8d840e4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6e82e685e0d19df8a2fac79529e5f588c8d840e4"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 6e82e685e0d19df8a2fac79529e5f588c8d840e4\nparent 8eb773f832b56ca0e0d9971d2bcc8f42f3abe465\nauthor Lrinc <pap.lorinc@gmail.com> 1766146162 +0100\ncommitter Lrinc <pap.lorinc@gmail.com> 1770396154 +0100\n\nrefactor: add `CCoinsViewEmpty` as a noop implementation for base and testing\n\nThis enables making `CCoinsView` purely virtual - which is done step-by-step in the following commits.\n\n`CCoinsViewEmpty` is now only constructible via `CCoinsViewEmpty::Get()`.\nSimplified all usages to delegate to the stateless singleton instead.\n\nThe fuzzer was also updated to switch randomly between real db backing and empty view.\n\nAlso removed the sanity check introduced in the previous commit from the `CCoinsViewCache` constructor since the initialization isn't done via a local `dummy` field anymore.\n\nCo-authored-by: Andrew Toth <andrewstoth@gmail.com>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqXy8dDLWkKQdUrTAZp//D/pHenYFAmmGGfsACgkQZp//D/pH\nenZnGBAAw8sb5LgkRqV0CyDtX1nTzCG/t9zt+jMdrbREFWqqeBZiy1pwidHSgfgX\nL+nyuGnCZDRBneS3x7H9g1P6VW8VuHtGwC7vsj5Ifp+IA77rRIcmyYUbeeIQbKFQ\n9woUIhW+OfEqmi8ZWMqezk3nUMwU9nRTBoDoH2sJAMEI98xEKDGG0YBdnFuufgxj\nVplWCg/Mp+wWAFloQ1/N1Y1jGkBz2i3LhsapNrJWHGXYWG1cij102WtB9XVT12nY\nXr7Mc13KB7SLRt5Y//7f7lWp9qUSgFGC4omFslM+1kksoc1y37wDM0zxHtIAaV0e\nzi62iSz/f7Npnz94pdIe4fUU0N/GMjnaIlC+XFQuYK87PR1WCc5iGBDVA02hwAU6\np0fCO5IRlRP6yJX3uMj/3wyGb7AXNmgWKYXzxEqk6a4Z16TZ/BNPYRQLciDIdiAq\nY7ZpqUUtFnvgLeYlV3I/Jh4k4TIwUuyH6/BYXzwEXgZgvLbazz3Yg4AIVD4wE3lV\nSNImK/bTO7CCOL29lHSGVR9SSwieoXRTN0Yqot72NaQSxEF2z+uIhj5kmp5wP0dN\n4wtJxnMTFVr4EDGOlYkDMx1aXFMilKleXNGtW1XSbwdaawjhwJ3lz/rGtrhDRCH4\nJy3OKzVKe8WBec+mXb6b7QPjDBRaAh2eHatwq8QjkhOShYDcCIA=\n=+9M3\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8eb773f832b56ca0e0d9971d2bcc8f42f3abe465",
          "sha": "8eb773f832b56ca0e0d9971d2bcc8f42f3abe465",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/8eb773f832b56ca0e0d9971d2bcc8f42f3abe465"
        }
      ],
      "message": "refactor: add `CCoinsViewEmpty` as a noop implementation for base and testing\n\nThis enables making `CCoinsView` purely virtual - which is done step-by-step in the following commits.\n\n`CCoinsViewEmpty` is now only constructible via `CCoinsViewEmpty::Get()`.\nSimplified all usages to delegate to the stateless singleton instead.\n\nThe fuzzer was also updated to switch randomly between real db backing and empty view.\n\nAlso removed the sanity check introduced in the previous commit from the `CCoinsViewCache` constructor since the initialization isn't done via a local `dummy` field anymore.\n\nCo-authored-by: Andrew Toth <andrewstoth@gmail.com>",
      "committer": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-02-06T16:42:34Z"
      },
      "author": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-12-19T12:09:22Z"
      },
      "sha": "ee76bc0056dfa094a467851bfb5f2fb23ac13b39"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGExODAzYzlhNDYyMjVhODY3M2I1ZmYzZDIzYjM4OWExOGMzODk2NWU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a1803c9a46225a8673b5ff3d23b389a18c38965e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a1803c9a46225a8673b5ff3d23b389a18c38965e",
      "tree": {
        "sha": "8e873de168328b0fee595d63c0e9ba8e5d511bac",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8e873de168328b0fee595d63c0e9ba8e5d511bac"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 8e873de168328b0fee595d63c0e9ba8e5d511bac\nparent ee76bc0056dfa094a467851bfb5f2fb23ac13b39\nauthor Lrinc <pap.lorinc@gmail.com> 1770395022 +0100\ncommitter Lrinc <pap.lorinc@gmail.com> 1770396155 +0100\n\nvalidation: avoid `GetBestBlock` after empty backend switch\n\nIn `MemPoolAccept::PreChecks`, `m_view` is switched to `CCoinsViewEmpty` once required inputs are cached, to prevent additional mempool and UTXO lookups.\n\nAvoid calling `m_view.GetBestBlock()` after this switch, because the empty backend does not represent the active chain tip and can return a placeholder value.\n\nRead and store the best block before switching backend, then assert against the stored value afterward.\n\nAlso clarify in the member comment that `m_view` starts with an empty backend and is connected to `m_viewmempool` only during lookup phases.\n\nCo-authored-by: Ryan Ofsky <ryan@ofsky.org>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqXy8dDLWkKQdUrTAZp//D/pHenYFAmmGGfsACgkQZp//D/pH\nenZlQw/8CBbHiMNBVN/5zMJwskPqoxiN0b8iFa6clwNmIbkXvJFRubI3YniZ1iGz\nKggPgSmkXDB8id518HmR00cmrzFAMVMYQjtYe4SSVaX/jWJPBKPd26fDkzBN/b9D\nF8iHNgQMaKpM6ScDwHOaCjLRTaN0vaIIo7cs3TP4DJ39CZwr94naKXjV8EAVnf7Z\n6HNlotn2eFcIlxXnsijrxHKUERmvoB0YDFCThmOwlMIrvh03DwruPH1ij1X1B8gt\nDHa3k/A64nrjZkYX7oeX6+PmqJh+Fpd6DItwtPidDR0GN5rdWPB6WcTr6l1efflq\naM12txQN0l2NezBeJWmzJY7+nrHjxur3p/ooLpoMo8y18d/gHNcbUFikTSrBf2AW\ndoOmljk+MGIBg8YaDoqq94ranrJE4qXuxGvAptbyRqiPHTPKbM/wqjLVgLPcVaNh\n1hHGf88ycB72Ln3u3rHsNYf/9rVmNawW16FzSvmUzqYKMZlc+EmWyVpiMvmbv5gf\nxwjQDNYuIpxz7aetGAz5SG2s/W88lHD5rXO+k5QGcFf8B1+HyS7elRiIdd0xCP1j\nN1v9puHztNCcFFKirgmx/xVfbK+Jj7CB2xQY0mFSYrhpnacWFRg6nESRc8yzheow\nU4cFp3DE5ovw1EpKn1NAu3lxLKxNSEZJFIOz2JIf1jAHbJtwZNM=\n=ltNU\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ee76bc0056dfa094a467851bfb5f2fb23ac13b39",
          "sha": "ee76bc0056dfa094a467851bfb5f2fb23ac13b39",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ee76bc0056dfa094a467851bfb5f2fb23ac13b39"
        }
      ],
      "message": "validation: avoid `GetBestBlock` after empty backend switch\n\nIn `MemPoolAccept::PreChecks`, `m_view` is switched to `CCoinsViewEmpty` once required inputs are cached, to prevent additional mempool and UTXO lookups.\n\nAvoid calling `m_view.GetBestBlock()` after this switch, because the empty backend does not represent the active chain tip and can return a placeholder value.\n\nRead and store the best block before switching backend, then assert against the stored value afterward.\n\nAlso clarify in the member comment that `m_view` starts with an empty backend and is connected to `m_viewmempool` only during lookup phases.\n\nCo-authored-by: Ryan Ofsky <ryan@ofsky.org>",
      "committer": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-02-06T16:42:35Z"
      },
      "author": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-02-06T16:23:42Z"
      },
      "sha": "a1803c9a46225a8673b5ff3d23b389a18c38965e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDg1NTllMGE1YzI5MzQxNmVhZGQxMTNkZWE0ZDE3MTNhNmI4Y2M4Nzc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8559e0a5c293416eadd113dea4d1713a6b8cc877",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/8559e0a5c293416eadd113dea4d1713a6b8cc877",
      "tree": {
        "sha": "5660acef3db306f9488728c8b563fbb74b342914",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5660acef3db306f9488728c8b563fbb74b342914"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 5660acef3db306f9488728c8b563fbb74b342914\nparent a1803c9a46225a8673b5ff3d23b389a18c38965e\nauthor Lrinc <pap.lorinc@gmail.com> 1766147559 +0100\ncommitter Lrinc <pap.lorinc@gmail.com> 1770396155 +0100\n\nrefactor: make `GetCoin`, `GetBestBlock`, and `BatchWrite` purely virtual in `CCoinsView`\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqXy8dDLWkKQdUrTAZp//D/pHenYFAmmGGfsACgkQZp//D/pH\nenb7lxAArIgqTBjt2TX/dBlXnlY1KsAKkzgSatuqXOl/F2mlaliJ//CRd6tfzLk/\n11Ox7hvg0sfpOjH8GvLO56INO4wTP4GtKh9ii+B0a/XUSF+JItPqUZxvcB2LwNmH\nQTzXlLRtItuCxBxixrYf+dTzy0Hgh3vrjjM1RNhJJORtmGNifHS8F5rca4krOi6e\nEEKES/vhzLfZRi8eAGRxhD7iw4d+yFIc/wsXCht3Mf0VEuqW+5rAcpnMGn5uHUKE\n0BecFvDILAwksBYlD46kz7cjqGh9yaaYJeo6qBuc/a5IvQFJfSr1BFo+n/3JR2XU\nWmdJBfzWUKzsPde1zLVxl8s2FZ7pqFEyMDQrS6FdumvD9ckvMzIDpHFP0xhwXcGp\n6BQvnWJH+asHhRGuZ9Z0/LO495rLdF6YqAX2PLJOfqomQkHX6svSgoRQAlT3FXxT\n/79/9i6P4WCzljNHd+t+wyA30SRmlDUQ8pvs1LCHehBsKwgtgNIKdVs+GIFDTYZh\n1n7fyKw9yVod/7m/MeAf9jEybeFMAlmIvl+Hkl5gaRxUQ3517x53x5KzZrNCk394\nUzE8Y3OqxD7xXiPrV4aMr+suW1F0iIbrXZqqlPHA2X9siIPm/TI6iTukEfwjeWkw\nKXquW+Cfh0p3qo4F+Neg08MrMkGscuPDK8JIGsDMVJEWj47i5Ig=\n=vDP0\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a1803c9a46225a8673b5ff3d23b389a18c38965e",
          "sha": "a1803c9a46225a8673b5ff3d23b389a18c38965e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a1803c9a46225a8673b5ff3d23b389a18c38965e"
        }
      ],
      "message": "refactor: make `GetCoin`, `GetBestBlock`, and `BatchWrite` purely virtual in `CCoinsView`",
      "committer": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-02-06T16:42:35Z"
      },
      "author": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-12-19T12:32:39Z"
      },
      "sha": "8559e0a5c293416eadd113dea4d1713a6b8cc877"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGRiZWJjYmNkZGUyYTQ0YjljZDBiNGI0MDMyZmVkYzYyNzQ5ZWY1NGQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dbebcbcdde2a44b9cd0b4b4032fedc62749ef54d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/dbebcbcdde2a44b9cd0b4b4032fedc62749ef54d",
      "tree": {
        "sha": "d2ae1b68b5be0aa78bd12b343ed7e6d46aabda0a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d2ae1b68b5be0aa78bd12b343ed7e6d46aabda0a"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree d2ae1b68b5be0aa78bd12b343ed7e6d46aabda0a\nparent 8559e0a5c293416eadd113dea4d1713a6b8cc877\nauthor Lrinc <pap.lorinc@gmail.com> 1766146666 +0100\ncommitter Lrinc <pap.lorinc@gmail.com> 1770396155 +0100\n\nrefactor: make `CCoinsView::EstimateSize` purely virtual\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqXy8dDLWkKQdUrTAZp//D/pHenYFAmmGGfsACgkQZp//D/pH\nenaDBw/+NjCiYlv6onM/mEUeUuYMXy5+qN0jY0+gZcjX9WuAZX7bM7Z5yIkBAhU1\nO9UJkq7nAtel2s9o1dT7mHwmlSpFoKUKbTx0uVaVotkLNIZGtkiOK8YkeeK41bRZ\nt/OqhxGxbqW8ybi2LQAh3Y+3PLu7tG09PFzn3nYiVolQzDwr05NSuirueqk6eAox\nNUzEnCdHuC4+y/IXcqxLLM8fGJ7pqmrIjCDjfvWm/UrprKGmlsqvkmnL/FxlZW3i\n0DS+v0L07Pmt5OlGYJNLfErg81aeCepNEOiDKCpqdcTQ83DxtxVM8tdUlHvZNRtQ\neim5YFfGVZGkMvWsirBSp1iBPsPlfUv6d42RZN2K6bkFyjwGLqsUjuoZ4N7vf0co\nEFVUG1mvfThSs2LMBSIbBUXkl9Wm8GdC3vmRm0v2SDVgl+3Q5putgz9ixZ6SHf5G\npbW9DrOI3XIABZ2AOLodpwFxIk8KNUuzO15gRIzljDnN1+ZSZDfYhXflhWkm+8zS\nsGHuCrYUeEjpceh2QgnQ3z/RsQKXbck8t1ZKHdIJA9GEAvRnN4sdB6wQYgWlozKH\nSFtafO0egnVQ06x48z48eyFx2pHOezlR28yHBLOgRaEu85B59TFK1Oh4YjAOIVxl\nd7Gkpfx7RDWOgETdHSGH4dtPZxZjl3zU12eYIouJVpaih7hAA0w=\n=aIAf\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8559e0a5c293416eadd113dea4d1713a6b8cc877",
          "sha": "8559e0a5c293416eadd113dea4d1713a6b8cc877",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/8559e0a5c293416eadd113dea4d1713a6b8cc877"
        }
      ],
      "message": "refactor: make `CCoinsView::EstimateSize` purely virtual",
      "committer": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-02-06T16:42:35Z"
      },
      "author": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-12-19T12:17:46Z"
      },
      "sha": "dbebcbcdde2a44b9cd0b4b4032fedc62749ef54d"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDk5MzBhOTYwNzQ3ZjhkYjI2MjMxZjk2NGZmYmJlYTMyYjRhN2MxMjU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9930a960747f8db26231f964ffbbea32b4a7c125",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/9930a960747f8db26231f964ffbbea32b4a7c125",
      "tree": {
        "sha": "3662619953c6c7ed0152950da29cb5c61fa43fb1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3662619953c6c7ed0152950da29cb5c61fa43fb1"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 3662619953c6c7ed0152950da29cb5c61fa43fb1\nparent dbebcbcdde2a44b9cd0b4b4032fedc62749ef54d\nauthor Lrinc <pap.lorinc@gmail.com> 1766147174 +0100\ncommitter Lrinc <pap.lorinc@gmail.com> 1770396155 +0100\n\nrefactor: make `CCoinsView::Cursor` purely virtual\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqXy8dDLWkKQdUrTAZp//D/pHenYFAmmGGfsACgkQZp//D/pH\nenYzuQ//YJlpwmJThsGN0Xoiez084Js5pHKyfCZJZlpmNlHI2w2wQBaK2WXz1etk\nMixZyiPP8EJozPlt8b45bPz9bv6Xdqyb5GKFLdwAQzfR9gYiB5KStT4SdpT2dluE\nNKIrpkZ11u5dTSKiDiKECrRcrwHcbnEidEMbmmBuyUrwzlJbr6PZdpk4VX56nCZ8\nv+gY8MU1nEuwYyvPhy12JBvpWCEU/ZzJ5kWFE6CtfVbVRIrDfBvmEvE2jpoW7DkK\nOa59cVk9U+NYPJtG9HLedjGO3MNCOxN7Zt+J/wB61sBkjF+86+mPIAisK6p7t5wl\nsVAwwu5XrDLuGJPYg4yscDzrALrd6dxXQMEXiEpoXYC1jWx3FIKvckUzrrQd1MLv\nwwpWFyemWtJh0GY5ayeWgI5OPnyJ2eCmnFtvfhvPiHpg1HP/G2KC2Xy/RekLqR+N\nDisOsOJrCXmMTrSIvllAqXuqNikE0lXuJn9tXr6j8SxvslxwNtXKV9Uhb3Z8iK74\n5GuFgts/Ym+SYLQZxgQNjS7BpU0v47YmwJU/Q40qmiljpG9tNEpC/D84OwvJImm4\ngugSuWMt9ZOG0SJN13SWsSY7bXXPf+q8c1zHap95D9JEujRvdIIEpWV7dzB6PH8d\nBJn1yUdbUSEPPNbaexu6/Wh4DfjXBsiUKZHqpbRJ3tBpqrOffvk=\n=6IJK\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dbebcbcdde2a44b9cd0b4b4032fedc62749ef54d",
          "sha": "dbebcbcdde2a44b9cd0b4b4032fedc62749ef54d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/dbebcbcdde2a44b9cd0b4b4032fedc62749ef54d"
        }
      ],
      "message": "refactor: make `CCoinsView::Cursor` purely virtual",
      "committer": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-02-06T16:42:35Z"
      },
      "author": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-12-19T12:26:14Z"
      },
      "sha": "9930a960747f8db26231f964ffbbea32b4a7c125"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDAwMDAxMzZlYzM2MGY5ZTZlZDhkZWYwMmUzYTJhYjg2ZGVhY2QwNDk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0000136ec360f9e6ed8def02e3a2ab86deacd049",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/0000136ec360f9e6ed8def02e3a2ab86deacd049",
      "tree": {
        "sha": "53b8cccbdcae0386750627cc401c11d4b0bb303d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/53b8cccbdcae0386750627cc401c11d4b0bb303d"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 53b8cccbdcae0386750627cc401c11d4b0bb303d\nparent 9930a960747f8db26231f964ffbbea32b4a7c125\nauthor Lrinc <pap.lorinc@gmail.com> 1766147680 +0100\ncommitter Lrinc <pap.lorinc@gmail.com> 1770396155 +0100\n\nrefactor: make `CCoinsView::GetHeadBlocks` purely virtual\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqXy8dDLWkKQdUrTAZp//D/pHenYFAmmGGfsACgkQZp//D/pH\nena5nw//Y+YCcSEFDcWUl+xAx14UMuQKH+ZndA0qe5rUVvUWfeLy+XZrXd57eHVp\nYN3ckwL212JAAvwkqui7ur9/IP/B7d8hw6/QKZF2J7pVPyHRn+I8aXD2XJBXaSOg\nZmfaRWgJuEf6qJoCrT25DNEwI2ZeVnIaEMK5IR4WMn1xIVeIL0TeFfek5FyhfKLE\nvtM60eqkdAysBur9XME+T/xZ6cYRAQBRndyewKXcz8B6dOmhSo9GPgHOPU31hSNt\nIrHzLopqLFJRYN1q1fgAxaBJk90SNEcqrHYny3eDPFJf5hJr3pf1yCaU7rPTQjaH\nAWBxRdn6c77AeWvGMYpg+6SZTUbx6HzKG/HnQNi397x0pz/XTUCk3/o1a0AAWRAK\nCqa2wZwNuE2OtHI/Ui7BSTDeVY5CT/ND/lbrw2EExhdb8ePG5xcSN7kNYQ4CyqaS\npbZUM8UgUPJWVimsij3PV/RoTt4gueFZ7NJXWEdmzo7M7ysYiDawqYNyfkGxSj/H\nFiDTm9RXVSEUJVPNBMdxdf71dtkbH+oR8RjScRip/cekLrOxlXSZJk902ptC13Tl\nnsOPc6NLz+/K94LvQMe/aYYLUuJeXRALF8cuhiVXKxMjUJ367sHJvwR+raFd/xfU\naZGF+YrDZpRrxUzeJks9MbwDLfeamsiG0Q62B68We+zLCeLlQE4=\n=MboH\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9930a960747f8db26231f964ffbbea32b4a7c125",
          "sha": "9930a960747f8db26231f964ffbbea32b4a7c125",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/9930a960747f8db26231f964ffbbea32b4a7c125"
        }
      ],
      "message": "refactor: make `CCoinsView::GetHeadBlocks` purely virtual",
      "committer": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-02-06T16:42:35Z"
      },
      "author": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-12-19T12:34:40Z"
      },
      "sha": "0000136ec360f9e6ed8def02e3a2ab86deacd049"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGQyZTUxNmUwNzliYWU0OTU4NzZiNjQ0YTFjZTRmZWYxZmVlMGMwOWU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d2e516e079bae495876b644a1ce4fef1fee0c09e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d2e516e079bae495876b644a1ce4fef1fee0c09e",
      "tree": {
        "sha": "ebc2b234e051e16a6faab331fe7938f17e458d3a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ebc2b234e051e16a6faab331fe7938f17e458d3a"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree ebc2b234e051e16a6faab331fe7938f17e458d3a\nparent 0000136ec360f9e6ed8def02e3a2ab86deacd049\nauthor Lrinc <pap.lorinc@gmail.com> 1766147784 +0100\ncommitter Lrinc <pap.lorinc@gmail.com> 1770396156 +0100\n\nrefactor: make `CCoinsView::HaveCoin` purely virtual\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqXy8dDLWkKQdUrTAZp//D/pHenYFAmmGGfwACgkQZp//D/pH\nenYE/BAAg9g8YXUjiAXEHziHXTgG04S/+fGOGLekZU2NAVbwXeBSYQ6IESTp2G5l\nymIOZ8KOMHA03deZnjvIMNkrIcQM4XvDeInekCBHSq7KiATB6/KYLw+tQAu67oQC\nWd3ABR/vWuFASGLPBV28r8f3blu2R6/z9dxCrorOEIGVBtBCOKH0MewbtNT5YIaN\neoIbMRNSsDdT4UYdt/YXJs7QRo5VcfgksvDeT4wVCec2UGIsrjJoGoHrexvc/Reb\naUoGiw8/6rm9pIJGthdUyc8o2YRmzGTWuA3mhiPAwO+PXqHueGHdkU/A6U/w/zPd\nUumNytM+JFpcSiH2//0qGuizmyLkTYiSNwBHlGVCfY6c2nQQzuXYXJLGkh6e910e\nXasOJmGocOG/NWQRinRroxHVzqAuU7fVMrovfUdhhwT6xFSKnZD+BDnNrgeV88PU\naeQW9ip9uRzvx6RvRpx4e+hS8I6F3QvaLFGRx6tcVdxQ+Gd58JIb9d2PAtg7jL1t\njCYvmGgrVdnL8StDjsc39o+b7W8ZUuBEPfbH2hic6/IEEd2UlTBA2waRSzHX0Zc9\nsQR3kEcTX+fydtp1tx4IS7gmcHM0GQySlYAKpJNM3EoTOimnxZV5/LdHwOv1NBmp\nuip0LoV/LU3gfCKX/BcO+aRVtasPPxQ+z5/Twyz9y1Pz6AVWBC8=\n=TIba\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0000136ec360f9e6ed8def02e3a2ab86deacd049",
          "sha": "0000136ec360f9e6ed8def02e3a2ab86deacd049",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/0000136ec360f9e6ed8def02e3a2ab86deacd049"
        }
      ],
      "message": "refactor: make `CCoinsView::HaveCoin` purely virtual",
      "committer": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-02-06T16:42:36Z"
      },
      "author": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-12-19T12:36:24Z"
      },
      "sha": "d2e516e079bae495876b644a1ce4fef1fee0c09e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDRmZGNmNjJiYjU2YzA1NDlkZmZmMWY4MTJhNmNlODgwYzQyZjU5ODk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4fdcf62bb56c0549dfff1f812a6ce880c42f5989",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/4fdcf62bb56c0549dfff1f812a6ce880c42f5989",
      "tree": {
        "sha": "3f7403d61027d71797b6fba236f586e0620f88a3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3f7403d61027d71797b6fba236f586e0620f88a3"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 3f7403d61027d71797b6fba236f586e0620f88a3\nparent d2e516e079bae495876b644a1ce4fef1fee0c09e\nauthor Lrinc <pap.lorinc@gmail.com> 1766438006 +0200\ncommitter Lrinc <pap.lorinc@gmail.com> 1770396156 +0100\n\nrefactor: inline `CCoinsViewBacked` implementation to header\n\nIt's a simple delegate, the cpp is already really crowded, let's do these inline.\n\nAlso note that the `CCoinsViewBacked` constructor is asserted to not take any `nullptr` values anymore, since the reason why `base` was stored as a pointer was that references cannot be reallocated, and we need to call `SetBackend` in a few places - which takes a reference, also proving that `nullptr` was never the goal.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqXy8dDLWkKQdUrTAZp//D/pHenYFAmmGGfwACgkQZp//D/pH\nenYmERAAyN9Sv4PWe3kPcPoQ+Pm6sDHsNu2NsoPNkLTKLSHGH1PB1TYI2hY/gR/o\nLlDf2krYyMiet6cPAWRAmjD/dt9e0byLc9HVSScO6WNgTYfJkYXOm5SiUU/87+i4\n1Bp1z6Qu0NftCySavmX8VqvdQiQBLEGgrXymHemnf0V3Vzqj0E2sxPRycv8vnqLD\ncQ1p4O/hwS6KEf1JUyxopRFiLIs+KL3DYLxEJ4pFiOuHTySMSaQSuA7F8j1ZyuRU\nC1q6k1ZCL1IA2x9Sp5gre2uaCXSdPYl1PIbfaaEc3MyXh250Su5ECphKCsPxcUbF\n7NlOsaYnNxdO7r8zXIjEhfShIGslRkh9afTMUyFEh0MQVGo98OttYWikTGZmJ/kJ\nCyy+Jv+b+aP8O1HMLSqb2U9D+ktPjBifWD3CiZ5zijvosIL9j2dw7eQ4894W69PP\nfymm4rNJ4KzngmBUkB7igkmVVMiIjvPZREalmuATAZeZ8HGnS7Ak+kECb/xsa3v3\n0gIai20bsHO+YWkzBcP1WQakTecLOs4o5Wat5dJalVKNuhOivC6ne0QZ13tWRPOu\n1CWARpRsieElMpcCY7XwiXPLIZKkmlQmZnYSRATzZvNbiGzhPVdYTgifL8nJCRGO\nIg9jQLUZTT1hs48Rk0sMQx/nTzvIPmYJ/ScTaGi+d/+y+8xdjJo=\n=r3ih\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d2e516e079bae495876b644a1ce4fef1fee0c09e",
          "sha": "d2e516e079bae495876b644a1ce4fef1fee0c09e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d2e516e079bae495876b644a1ce4fef1fee0c09e"
        }
      ],
      "message": "refactor: inline `CCoinsViewBacked` implementation to header\n\nIt's a simple delegate, the cpp is already really crowded, let's do these inline.\n\nAlso note that the `CCoinsViewBacked` constructor is asserted to not take any `nullptr` values anymore, since the reason why `base` was stored as a pointer was that references cannot be reallocated, and we need to call `SetBackend` in a few places - which takes a reference, also proving that `nullptr` was never the goal.",
      "committer": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-02-06T16:42:36Z"
      },
      "author": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-12-22T21:13:26Z"
      },
      "sha": "4fdcf62bb56c0549dfff1f812a6ce880c42f5989"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22594419231,
      "node_id": "HRFPE_lADOABII587fgV9xzwAAAAVCu3of",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22594419231",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "4fdcf62bb56c0549dfff1f812a6ce880c42f5989",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/4fdcf62bb56c0549dfff1f812a6ce880c42f5989",
      "created_at": "2026-02-06T16:42:47Z"
    },
    {
      "event": "renamed",
      "id": 22594495617,
      "node_id": "RTE_lADOABII587fgV9xzwAAAAVCvKSB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22594495617",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-06T16:45:47Z",
      "rename": {
        "from": "refactor: make `CCoinsView` a purely virtual abstract base class",
        "to": "refactor: make `CCoinsView` a pure virtual interface"
      }
    },
    {
      "event": "commented",
      "id": 3861473216,
      "node_id": "IC_kwDOABII587mKWfA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3861473216",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-06T16:47:56Z",
      "updated_at": "2026-02-06T16:47:56Z",
      "author_association": "CONTRIBUTOR",
      "body": "> It doesn't seem good that CCoinsViewCache is now default constructible\r\n\r\nIndeed, inlined the default constructor to make these explicit - thanks!\r\n\r\n> It seems unfortunate to lose the default HaveCoin(outpoint) implementation (GetCoin(outpoint).has_value()) and force subclasses to re-implement it.\r\n\r\nHere I was going for the simplest transition, `HaveCoin` is just a slight \"optimization\" that is more confusing often than useful (isn't used on most paths but we have to do dummy implementations anyway - should be tackled in a dedicated PR, part of it is done in https://github.com/bitcoin/bitcoin/pull/34320, though the interface should still be split in follow-ups). Here in the fuzzer we're just testing the test for the `HaveCoin` call, but I have changed it to test existing code by delegating to `!!GetCoin(outpoint)` instead.\r\n\r\nUpdated PR description based on the [changes](https://github.com/bitcoin/bitcoin/compare/515dbf1e72ef4ba0233aedcc4b40f44221f899dc..4fdcf62bb56c0549dfff1f812a6ce880c42f5989).",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#issuecomment-3861473216",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34124"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2638581366",
      "pull_request_review_id": 3602578034,
      "id": 2638581366,
      "node_id": "PRRC_kwDOABII586dRY52",
      "diff_hunk": "@@ -13,17 +13,6 @@ TRACEPOINT_SEMAPHORE(utxocache, add);\n TRACEPOINT_SEMAPHORE(utxocache, spent);\n TRACEPOINT_SEMAPHORE(utxocache, uncache);\n \n-std::optional<Coin> CCoinsView::GetCoin(const COutPoint& outpoint) const { return std::nullopt; }\n-uint256 CCoinsView::GetBestBlock() const { return uint256(); }\n-std::vector<uint256> CCoinsView::GetHeadBlocks() const { return std::vector<uint256>(); }\n-bool CCoinsView::BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) { return false; }\n-std::unique_ptr<CCoinsViewCursor> CCoinsView::Cursor() const { return nullptr; }",
      "path": "src/coins.cpp",
      "position": 12,
      "original_position": 8,
      "commit_id": "4fdcf62bb56c0549dfff1f812a6ce880c42f5989",
      "original_commit_id": "38ae4082a13b2e6dd07e84d228c9e58d3df27b11",
      "in_reply_to_id": null,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Don't see any value in deleting these in a separate commit from making them pure virtual.",
      "created_at": "2025-12-22T04:18:46Z",
      "updated_at": "2025-12-22T04:23:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2638581366",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2638581366"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 25,
      "original_line": 25,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2638581846",
      "pull_request_review_id": 3602578034,
      "id": 2638581846,
      "node_id": "PRRC_kwDOABII586dRZBW",
      "diff_hunk": "@@ -13,17 +13,6 @@ TRACEPOINT_SEMAPHORE(utxocache, add);\n TRACEPOINT_SEMAPHORE(utxocache, spent);\n TRACEPOINT_SEMAPHORE(utxocache, uncache);\n \n-std::optional<Coin> CCoinsView::GetCoin(const COutPoint& outpoint) const { return std::nullopt; }\n-uint256 CCoinsView::GetBestBlock() const { return uint256(); }\n-std::vector<uint256> CCoinsView::GetHeadBlocks() const { return std::vector<uint256>(); }\n-bool CCoinsView::BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) { return false; }\n-std::unique_ptr<CCoinsViewCursor> CCoinsView::Cursor() const { return nullptr; }\n-\n-bool CCoinsView::HaveCoin(const COutPoint &outpoint) const\n-{\n-    return GetCoin(outpoint).has_value();\n-}",
      "path": "src/coins.cpp",
      "position": 17,
      "original_position": 13,
      "commit_id": "4fdcf62bb56c0549dfff1f812a6ce880c42f5989",
      "original_commit_id": "38ae4082a13b2e6dd07e84d228c9e58d3df27b11",
      "in_reply_to_id": null,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I could see keeping this one; it seems like a reasonable default?",
      "created_at": "2025-12-22T04:19:14Z",
      "updated_at": "2025-12-22T04:23:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2638581846",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2638581846"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 30,
      "original_line": 30,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2641275940",
      "pull_request_review_id": 3605780432,
      "id": 2641275940,
      "node_id": "PRRC_kwDOABII586dbqwk",
      "diff_hunk": "@@ -13,17 +13,6 @@ TRACEPOINT_SEMAPHORE(utxocache, add);\n TRACEPOINT_SEMAPHORE(utxocache, spent);\n TRACEPOINT_SEMAPHORE(utxocache, uncache);\n \n-std::optional<Coin> CCoinsView::GetCoin(const COutPoint& outpoint) const { return std::nullopt; }\n-uint256 CCoinsView::GetBestBlock() const { return uint256(); }\n-std::vector<uint256> CCoinsView::GetHeadBlocks() const { return std::vector<uint256>(); }\n-bool CCoinsView::BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) { return false; }\n-std::unique_ptr<CCoinsViewCursor> CCoinsView::Cursor() const { return nullptr; }",
      "path": "src/coins.cpp",
      "position": 12,
      "original_position": 8,
      "commit_id": "4fdcf62bb56c0549dfff1f812a6ce880c42f5989",
      "original_commit_id": "38ae4082a13b2e6dd07e84d228c9e58d3df27b11",
      "in_reply_to_id": 2638581366,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Indeed, moved each deletion to the commit that made the method pure, thanks.\r\nAlso made the empty class a singleton which simplified all nested usages significantly.\r\nAnd inlined the trivial implementation of `*Backing` to the header to reduce the clutter in the cpp a bit more.\r\nhttps://github.com/bitcoin/bitcoin/compare/38ae4082a13b2e6dd07e84d228c9e58d3df27b11..d5c77c71428b667b9c9f1a8eb84a75d5874b85af",
      "created_at": "2025-12-22T21:19:08Z",
      "updated_at": "2025-12-23T08:08:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2641275940",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2641275940"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 25,
      "original_line": 25,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2641276223",
      "pull_request_review_id": 3605780748,
      "id": 2641276223,
      "node_id": "PRRC_kwDOABII586dbq0_",
      "diff_hunk": "@@ -13,17 +13,6 @@ TRACEPOINT_SEMAPHORE(utxocache, add);\n TRACEPOINT_SEMAPHORE(utxocache, spent);\n TRACEPOINT_SEMAPHORE(utxocache, uncache);\n \n-std::optional<Coin> CCoinsView::GetCoin(const COutPoint& outpoint) const { return std::nullopt; }\n-uint256 CCoinsView::GetBestBlock() const { return uint256(); }\n-std::vector<uint256> CCoinsView::GetHeadBlocks() const { return std::vector<uint256>(); }\n-bool CCoinsView::BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) { return false; }\n-std::unique_ptr<CCoinsViewCursor> CCoinsView::Cursor() const { return nullptr; }\n-\n-bool CCoinsView::HaveCoin(const COutPoint &outpoint) const\n-{\n-    return GetCoin(outpoint).has_value();\n-}",
      "path": "src/coins.cpp",
      "position": 17,
      "original_position": 13,
      "commit_id": "4fdcf62bb56c0549dfff1f812a6ce880c42f5989",
      "original_commit_id": "38ae4082a13b2e6dd07e84d228c9e58d3df27b11",
      "in_reply_to_id": 2638581846,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "We need this method because of the specialized database access which doesn't need to deserialize the read value:\r\n* https://github.com/bitcoin/bitcoin/blob/fa5f29774872d18febc0df38831a6e45f3de69cc/src/txdb.cpp#L74-L76\r\n\r\nOtherwise we could of course replace it with `!!GetCoin(outpoint)`:\r\n* https://github.com/bitcoin/bitcoin/blob/7f295e1d9b44c225c823242c1f04239f46fb27a6/src/coins.cpp#L166-L169\r\n\r\nWe're not even really using the former in production code anyway (see https://github.com/bitcoin/bitcoin/pull/34132), we could probably easily inline the `!!GetCoin(outpoint)` to the few remaining call sites instead. Regardless, the current change should simplify usage and we can investigate that later.\r\n\r\n------\r\n\r\nAlso, the underlying problem is that having a separate `CCoinsView` makes adding defaults weird, there's no logical default behavior.\r\nBut we could inline it into `CCoinsViewBacked` (and delete `CCoinsView` and rename `CCoinsViewBacked` back to `CCoinsView`)  and use that as the base for the other caches, with the default implementation simply delegating to `base`, something like:\r\n```patch\r\ndiff --git a/src/coins.cpp b/src/coins.cpp\r\nindex 9bdcb42f45..4f66ed447b 100644\r\n--- a/src/coins.cpp\r\n+++ b/src/coins.cpp\r\n@@ -14,7 +14,7 @@ TRACEPOINT_SEMAPHORE(utxocache, spent);\r\n TRACEPOINT_SEMAPHORE(utxocache, uncache);\r\n \r\n CCoinsViewCache::CCoinsViewCache(CCoinsView* baseIn, bool deterministic) :\r\n-    CCoinsViewBacked(baseIn), m_deterministic(deterministic),\r\n+    CCoinsView(baseIn), m_deterministic(deterministic),\r\n     cacheCoins(0, SaltedOutpointHasher(/*deterministic=*/deterministic), CCoinsMap::key_equal{}, &m_cache_coins_memory_resource)\r\n {\r\n     m_sentinel.second.SelfRef(m_sentinel);\r\n@@ -362,10 +362,10 @@ static ReturnType ExecuteBackedWrapper(Func func, const std::vector<std::functio\r\n \r\n std::optional<Coin> CCoinsViewErrorCatcher::GetCoin(const COutPoint& outpoint) const\r\n {\r\n-    return ExecuteBackedWrapper<std::optional<Coin>>([&]() { return CCoinsViewBacked::GetCoin(outpoint); }, m_err_callbacks);\r\n+    return ExecuteBackedWrapper<std::optional<Coin>>([&]() { return CCoinsView::GetCoin(outpoint); }, m_err_callbacks);\r\n }\r\n \r\n bool CCoinsViewErrorCatcher::HaveCoin(const COutPoint& outpoint) const\r\n {\r\n-    return ExecuteBackedWrapper<bool>([&]() { return CCoinsViewBacked::HaveCoin(outpoint); }, m_err_callbacks);\r\n+    return ExecuteBackedWrapper<bool>([&]() { return CCoinsView::HaveCoin(outpoint); }, m_err_callbacks);\r\n }\r\ndiff --git a/src/coins.h b/src/coins.h\r\nindex a64f30376d..7e8120f710 100644\r\n--- a/src/coins.h\r\n+++ b/src/coins.h\r\n@@ -303,37 +303,46 @@ private:\r\n     bool m_will_erase;\r\n };\r\n \r\n-/** Pure abstract view on the open txout dataset. */\r\n+/** Coins view backed by another CCoinsView. */\r\n class CCoinsView\r\n {\r\n+protected:\r\n+    CCoinsView* base{nullptr};\r\n+\r\n+    CCoinsView() = default;\r\n+\r\n public:\r\n+    explicit CCoinsView(CCoinsView* viewIn) : base(Assert(viewIn)) {}\r\n+\r\n     //! As we use CCoinsViews polymorphically, have a virtual destructor\r\n     virtual ~CCoinsView() = default;\r\n \r\n+    void SetBackend(CCoinsView& viewIn) { base = &viewIn; }\r\n+\r\n     //! Retrieve the Coin (unspent transaction output) for a given outpoint.\r\n-    virtual std::optional<Coin> GetCoin(const COutPoint& outpoint) const = 0;\r\n+    virtual std::optional<Coin> GetCoin(const COutPoint& outpoint) const { return base->GetCoin(outpoint); }\r\n \r\n     //! Just check whether a given outpoint is unspent.\r\n-    virtual bool HaveCoin(const COutPoint& outpoint) const = 0;\r\n+    virtual bool HaveCoin(const COutPoint& outpoint) const { return base->HaveCoin(outpoint); }\r\n \r\n     //! Retrieve the block hash whose state this CCoinsView currently represents\r\n-    virtual uint256 GetBestBlock() const = 0;\r\n+    virtual uint256 GetBestBlock() const { return base->GetBestBlock(); }\r\n \r\n     //! Retrieve the range of blocks that may have been only partially written.\r\n     //! If the database is in a consistent state, the result is the empty vector.\r\n     //! Otherwise, a two-element vector is returned consisting of the new and\r\n     //! the old block hash, in that order.\r\n-    virtual std::vector<uint256> GetHeadBlocks() const = 0;\r\n+    virtual std::vector<uint256> GetHeadBlocks() const { return base->GetHeadBlocks(); }\r\n \r\n     //! Do a bulk modification (multiple Coin changes + BestBlock change).\r\n     //! The passed cursor is used to iterate through the coins.\r\n-    virtual bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256& hashBlock) = 0;\r\n+    virtual bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256& hashBlock) { return base->BatchWrite(cursor, hashBlock); }\r\n \r\n     //! Get a cursor to iterate over the whole state\r\n-    virtual std::unique_ptr<CCoinsViewCursor> Cursor() const = 0;\r\n+    virtual std::unique_ptr<CCoinsViewCursor> Cursor() const { return base->Cursor(); }\r\n \r\n     //! Estimate database size\r\n-    virtual size_t EstimateSize() const = 0;\r\n+    virtual size_t EstimateSize() const { return base->EstimateSize(); }\r\n };\r\n \r\n /** Noop coins view. */\r\n@@ -361,28 +370,8 @@ public:\r\n     size_t EstimateSize() const override { return 0; }\r\n };\r\n \r\n-/** CCoinsView backed by another CCoinsView */\r\n-class CCoinsViewBacked : public CCoinsView\r\n-{\r\n-protected:\r\n-    CCoinsView* base;\r\n-\r\n-public:\r\n-    explicit CCoinsViewBacked(CCoinsView* viewIn) : base{viewIn} {}\r\n-\r\n-    void SetBackend(CCoinsView& viewIn) { base = &viewIn; }\r\n-\r\n-    std::optional<Coin> GetCoin(const COutPoint& outpoint) const override { return base->GetCoin(outpoint); }\r\n-    bool HaveCoin(const COutPoint& outpoint) const override { return base->HaveCoin(outpoint); }\r\n-    uint256 GetBestBlock() const override { return base->GetBestBlock(); }\r\n-    std::vector<uint256> GetHeadBlocks() const override { return base->GetHeadBlocks(); }\r\n-    bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256& hashBlock) override { return base->BatchWrite(cursor, hashBlock); }\r\n-    std::unique_ptr<CCoinsViewCursor> Cursor() const override { return base->Cursor(); }\r\n-    size_t EstimateSize() const override { return base->EstimateSize(); }\r\n-};\r\n-\r\n /** CCoinsView that adds a memory cache for transactions to another CCoinsView */\r\n-class CCoinsViewCache : public CCoinsViewBacked\r\n+class CCoinsViewCache : public CCoinsView\r\n {\r\n private:\r\n     const bool m_deterministic;\r\n@@ -534,10 +523,10 @@ const Coin& AccessByTxid(const CCoinsViewCache& cache, const Txid& txid);\r\n  *\r\n  * Writes do not need similar protection, as failure to write is handled by the caller.\r\n */\r\n-class CCoinsViewErrorCatcher final : public CCoinsViewBacked\r\n+class CCoinsViewErrorCatcher final : public CCoinsView\r\n {\r\n public:\r\n-    explicit CCoinsViewErrorCatcher(CCoinsView* view) : CCoinsViewBacked(view) {}\r\n+    explicit CCoinsViewErrorCatcher(CCoinsView* view) : CCoinsView(view) {}\r\n \r\n     void AddReadErrCallback(std::function<void()> f) {\r\n         m_err_callbacks.emplace_back(std::move(f));\r\ndiff --git a/src/txmempool.cpp b/src/txmempool.cpp\r\nindex 4dc692bfd8..3e47428e8e 100644\r\n--- a/src/txmempool.cpp\r\n+++ b/src/txmempool.cpp\r\n@@ -720,7 +720,7 @@ bool CTxMemPool::HasNoInputsOf(const CTransaction &tx) const\r\n     return true;\r\n }\r\n \r\n-CCoinsViewMemPool::CCoinsViewMemPool(CCoinsView* baseIn, const CTxMemPool& mempoolIn) : CCoinsViewBacked(baseIn), mempool(mempoolIn) { }\r\n+CCoinsViewMemPool::CCoinsViewMemPool(CCoinsView* baseIn, const CTxMemPool& mempoolIn) : CCoinsView(baseIn), mempool(mempoolIn) { }\r\n \r\n std::optional<Coin> CCoinsViewMemPool::GetCoin(const COutPoint& outpoint) const\r\n {\r\ndiff --git a/src/txmempool.h b/src/txmempool.h\r\nindex 166a024823..4c24766c77 100644\r\n--- a/src/txmempool.h\r\n+++ b/src/txmempool.h\r\n@@ -778,7 +778,7 @@ public:\r\n  * signrawtransactionwithkey and signrawtransactionwithwallet,\r\n  * as long as the conflicting transaction is not yet confirmed.\r\n  */\r\n-class CCoinsViewMemPool : public CCoinsViewBacked\r\n+class CCoinsViewMemPool : public CCoinsView\r\n {\r\n     /**\r\n     * Coins made available by transactions being validated. Tracking these allows for package\r\n\r\n```\r\n\r\nThis would introduce a sensible default as the base class behavior (always delegating) and we'd instantiate it with the empty sigleton, which would always do nothin'.\r\nI haven't included this yet, we can discuss if it's a good idea.",
      "created_at": "2025-12-22T21:19:13Z",
      "updated_at": "2025-12-22T21:19:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2641276223",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2641276223"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 30,
      "original_line": 30,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2650048046",
      "pull_request_review_id": 3614915324,
      "id": 2650048046,
      "node_id": "PRRC_kwDOABII586d9IYu",
      "diff_hunk": "@@ -722,6 +722,11 @@ class MemPoolAccept\n     }\n \n private:\n+    /** When m_view is connected to m_dummy, it can no longer look up coins from the mempool or UTXO set (meaning no disk\n+     * operations happen), but can still return coins it accessed previously. Useful for keeping track of which coins\n+     * were pulled from disk. */\n+    CCoinsView m_dummy;\n+",
      "path": "src/validation.cpp",
      "position": 1,
      "original_position": 8,
      "commit_id": "784769b5b1a8465d1a09ec489a303c4616d11896",
      "original_commit_id": "436765c23a009c18a2a8e29e8b9534924e80d1d0",
      "in_reply_to_id": null,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit 436765c23a009c18a2a8e29e8b9534924e80d1d0, it looks like you forgot to include the removal diff.\r\n\r\nEdit: It's doubly removed in 148a0a94c65425b7ea9b6cc667502167b8c1c7a0, but that second removal should be here.",
      "created_at": "2025-12-29T01:33:36Z",
      "updated_at": "2025-12-29T05:31:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2650048046",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2650048046"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 729,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2650227623",
      "pull_request_review_id": 3615075843,
      "id": 2650227623,
      "node_id": "PRRC_kwDOABII586d90On",
      "diff_hunk": "@@ -378,6 +403,7 @@ class CCoinsViewCache : public CCoinsViewBacked\n \n public:\n     CCoinsViewCache(CCoinsView *baseIn, bool deterministic = false);\n+    CCoinsViewCache() : CCoinsViewCache{&CCoinsViewEmpty::Get()} {}",
      "path": "src/coins.h",
      "position": 1,
      "original_position": 111,
      "commit_id": "515dbf1e72ef4ba0233aedcc4b40f44221f899dc",
      "original_commit_id": "784769b5b1a8465d1a09ec489a303c4616d11896",
      "in_reply_to_id": null,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Should this constructor be on `CCoinsViewBacked` instead?",
      "created_at": "2025-12-29T05:39:46Z",
      "updated_at": "2025-12-29T05:39:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2650227623",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2650227623"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 410,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2650234336",
      "pull_request_review_id": 3615082648,
      "id": 2650234336,
      "node_id": "PRRC_kwDOABII586d913g",
      "diff_hunk": "@@ -13,31 +13,11 @@ TRACEPOINT_SEMAPHORE(utxocache, add);\n TRACEPOINT_SEMAPHORE(utxocache, spent);\n TRACEPOINT_SEMAPHORE(utxocache, uncache);\n \n-std::optional<Coin> CCoinsView::GetCoin(const COutPoint& outpoint) const { return std::nullopt; }\n-uint256 CCoinsView::GetBestBlock() const { return uint256(); }\n-std::vector<uint256> CCoinsView::GetHeadBlocks() const { return std::vector<uint256>(); }\n-bool CCoinsView::BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) { return false; }\n-std::unique_ptr<CCoinsViewCursor> CCoinsView::Cursor() const { return nullptr; }\n-\n-bool CCoinsView::HaveCoin(const COutPoint &outpoint) const\n-{\n-    return GetCoin(outpoint).has_value();\n-}\n-\n-CCoinsViewBacked::CCoinsViewBacked(CCoinsView *viewIn) : base(viewIn) { }\n-std::optional<Coin> CCoinsViewBacked::GetCoin(const COutPoint& outpoint) const { return base->GetCoin(outpoint); }\n-bool CCoinsViewBacked::HaveCoin(const COutPoint &outpoint) const { return base->HaveCoin(outpoint); }\n-uint256 CCoinsViewBacked::GetBestBlock() const { return base->GetBestBlock(); }\n-std::vector<uint256> CCoinsViewBacked::GetHeadBlocks() const { return base->GetHeadBlocks(); }\n-void CCoinsViewBacked::SetBackend(CCoinsView &viewIn) { base = &viewIn; }\n-bool CCoinsViewBacked::BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) { return base->BatchWrite(cursor, hashBlock); }\n-std::unique_ptr<CCoinsViewCursor> CCoinsViewBacked::Cursor() const { return base->Cursor(); }\n-size_t CCoinsViewBacked::EstimateSize() const { return base->EstimateSize(); }\n-\n CCoinsViewCache::CCoinsViewCache(CCoinsView* baseIn, bool deterministic) :\n     CCoinsViewBacked(baseIn), m_deterministic(deterministic),\n     cacheCoins(0, SaltedOutpointHasher(/*deterministic=*/deterministic), CCoinsMap::key_equal{}, &m_cache_coins_memory_resource)\n {\n+    (void)base->GetBestBlock(); // Sanity check validity of base",
      "path": "src/coins.cpp",
      "position": 1,
      "original_position": 29,
      "commit_id": "a69ea84b83d22c66ddeeba6d27b761036d6fec40",
      "original_commit_id": "784769b5b1a8465d1a09ec489a303c4616d11896",
      "in_reply_to_id": null,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I'm not sure about this sanity check. We're checking that a call to this method will work? Is this better than an assertion that baseIn is non-null? Why not refactor `baseIn` to be a reference?",
      "created_at": "2025-12-29T05:46:39Z",
      "updated_at": "2025-12-29T05:46:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2650234336",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2650234336"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2650833138",
      "pull_request_review_id": 3615731889,
      "id": 2650833138,
      "node_id": "PRRC_kwDOABII586eAIDy",
      "diff_hunk": "@@ -13,31 +13,11 @@ TRACEPOINT_SEMAPHORE(utxocache, add);\n TRACEPOINT_SEMAPHORE(utxocache, spent);\n TRACEPOINT_SEMAPHORE(utxocache, uncache);\n \n-std::optional<Coin> CCoinsView::GetCoin(const COutPoint& outpoint) const { return std::nullopt; }\n-uint256 CCoinsView::GetBestBlock() const { return uint256(); }\n-std::vector<uint256> CCoinsView::GetHeadBlocks() const { return std::vector<uint256>(); }\n-bool CCoinsView::BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) { return false; }\n-std::unique_ptr<CCoinsViewCursor> CCoinsView::Cursor() const { return nullptr; }\n-\n-bool CCoinsView::HaveCoin(const COutPoint &outpoint) const\n-{\n-    return GetCoin(outpoint).has_value();\n-}\n-\n-CCoinsViewBacked::CCoinsViewBacked(CCoinsView *viewIn) : base(viewIn) { }\n-std::optional<Coin> CCoinsViewBacked::GetCoin(const COutPoint& outpoint) const { return base->GetCoin(outpoint); }\n-bool CCoinsViewBacked::HaveCoin(const COutPoint &outpoint) const { return base->HaveCoin(outpoint); }\n-uint256 CCoinsViewBacked::GetBestBlock() const { return base->GetBestBlock(); }\n-std::vector<uint256> CCoinsViewBacked::GetHeadBlocks() const { return base->GetHeadBlocks(); }\n-void CCoinsViewBacked::SetBackend(CCoinsView &viewIn) { base = &viewIn; }\n-bool CCoinsViewBacked::BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) { return base->BatchWrite(cursor, hashBlock); }\n-std::unique_ptr<CCoinsViewCursor> CCoinsViewBacked::Cursor() const { return base->Cursor(); }\n-size_t CCoinsViewBacked::EstimateSize() const { return base->EstimateSize(); }\n-\n CCoinsViewCache::CCoinsViewCache(CCoinsView* baseIn, bool deterministic) :\n     CCoinsViewBacked(baseIn), m_deterministic(deterministic),\n     cacheCoins(0, SaltedOutpointHasher(/*deterministic=*/deterministic), CCoinsMap::key_equal{}, &m_cache_coins_memory_resource)\n {\n+    (void)base->GetBestBlock(); // Sanity check validity of base",
      "path": "src/coins.cpp",
      "position": 1,
      "original_position": 29,
      "commit_id": "a69ea84b83d22c66ddeeba6d27b761036d6fec40",
      "original_commit_id": "784769b5b1a8465d1a09ec489a303c4616d11896",
      "in_reply_to_id": 2650234336,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "it's not null, it will give illegal access since it points to a random address. Try reverting and running any of the mentioned tests from the commit message.",
      "created_at": "2025-12-29T12:07:36Z",
      "updated_at": "2025-12-29T12:07:36Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2650833138",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2650833138"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2651156940",
      "pull_request_review_id": 3616078914,
      "id": 2651156940,
      "node_id": "PRRC_kwDOABII586eBXHM",
      "diff_hunk": "@@ -13,31 +13,11 @@ TRACEPOINT_SEMAPHORE(utxocache, add);\n TRACEPOINT_SEMAPHORE(utxocache, spent);\n TRACEPOINT_SEMAPHORE(utxocache, uncache);\n \n-std::optional<Coin> CCoinsView::GetCoin(const COutPoint& outpoint) const { return std::nullopt; }\n-uint256 CCoinsView::GetBestBlock() const { return uint256(); }\n-std::vector<uint256> CCoinsView::GetHeadBlocks() const { return std::vector<uint256>(); }\n-bool CCoinsView::BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) { return false; }\n-std::unique_ptr<CCoinsViewCursor> CCoinsView::Cursor() const { return nullptr; }\n-\n-bool CCoinsView::HaveCoin(const COutPoint &outpoint) const\n-{\n-    return GetCoin(outpoint).has_value();\n-}\n-\n-CCoinsViewBacked::CCoinsViewBacked(CCoinsView *viewIn) : base(viewIn) { }\n-std::optional<Coin> CCoinsViewBacked::GetCoin(const COutPoint& outpoint) const { return base->GetCoin(outpoint); }\n-bool CCoinsViewBacked::HaveCoin(const COutPoint &outpoint) const { return base->HaveCoin(outpoint); }\n-uint256 CCoinsViewBacked::GetBestBlock() const { return base->GetBestBlock(); }\n-std::vector<uint256> CCoinsViewBacked::GetHeadBlocks() const { return base->GetHeadBlocks(); }\n-void CCoinsViewBacked::SetBackend(CCoinsView &viewIn) { base = &viewIn; }\n-bool CCoinsViewBacked::BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) { return base->BatchWrite(cursor, hashBlock); }\n-std::unique_ptr<CCoinsViewCursor> CCoinsViewBacked::Cursor() const { return base->Cursor(); }\n-size_t CCoinsViewBacked::EstimateSize() const { return base->EstimateSize(); }\n-\n CCoinsViewCache::CCoinsViewCache(CCoinsView* baseIn, bool deterministic) :\n     CCoinsViewBacked(baseIn), m_deterministic(deterministic),\n     cacheCoins(0, SaltedOutpointHasher(/*deterministic=*/deterministic), CCoinsMap::key_equal{}, &m_cache_coins_memory_resource)\n {\n+    (void)base->GetBestBlock(); // Sanity check validity of base",
      "path": "src/coins.cpp",
      "position": 1,
      "original_position": 29,
      "commit_id": "a69ea84b83d22c66ddeeba6d27b761036d6fec40",
      "original_commit_id": "784769b5b1a8465d1a09ec489a303c4616d11896",
      "in_reply_to_id": 2650234336,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Ok, but if it's a pointer it is legal for it to be a nullptr. So we should check first if it is not nullptr.\r\nAlso, instead of accessing a method, we could do a dynamic cast to `CCoinsView*` and assert the result.\r\n```suggestion\r\n    assert(!base || dynamic_cast<CCoinsView*>(base));\r\n```",
      "created_at": "2025-12-29T14:58:56Z",
      "updated_at": "2025-12-29T17:13:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2651156940",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2651156940"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2651708755",
      "pull_request_review_id": 3616683354,
      "id": 2651708755,
      "node_id": "PRRC_kwDOABII586eDd1T",
      "diff_hunk": "@@ -13,31 +13,11 @@ TRACEPOINT_SEMAPHORE(utxocache, add);\n TRACEPOINT_SEMAPHORE(utxocache, spent);\n TRACEPOINT_SEMAPHORE(utxocache, uncache);\n \n-std::optional<Coin> CCoinsView::GetCoin(const COutPoint& outpoint) const { return std::nullopt; }\n-uint256 CCoinsView::GetBestBlock() const { return uint256(); }\n-std::vector<uint256> CCoinsView::GetHeadBlocks() const { return std::vector<uint256>(); }\n-bool CCoinsView::BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) { return false; }\n-std::unique_ptr<CCoinsViewCursor> CCoinsView::Cursor() const { return nullptr; }\n-\n-bool CCoinsView::HaveCoin(const COutPoint &outpoint) const\n-{\n-    return GetCoin(outpoint).has_value();\n-}\n-\n-CCoinsViewBacked::CCoinsViewBacked(CCoinsView *viewIn) : base(viewIn) { }\n-std::optional<Coin> CCoinsViewBacked::GetCoin(const COutPoint& outpoint) const { return base->GetCoin(outpoint); }\n-bool CCoinsViewBacked::HaveCoin(const COutPoint &outpoint) const { return base->HaveCoin(outpoint); }\n-uint256 CCoinsViewBacked::GetBestBlock() const { return base->GetBestBlock(); }\n-std::vector<uint256> CCoinsViewBacked::GetHeadBlocks() const { return base->GetHeadBlocks(); }\n-void CCoinsViewBacked::SetBackend(CCoinsView &viewIn) { base = &viewIn; }\n-bool CCoinsViewBacked::BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) { return base->BatchWrite(cursor, hashBlock); }\n-std::unique_ptr<CCoinsViewCursor> CCoinsViewBacked::Cursor() const { return base->Cursor(); }\n-size_t CCoinsViewBacked::EstimateSize() const { return base->EstimateSize(); }\n-\n CCoinsViewCache::CCoinsViewCache(CCoinsView* baseIn, bool deterministic) :\n     CCoinsViewBacked(baseIn), m_deterministic(deterministic),\n     cacheCoins(0, SaltedOutpointHasher(/*deterministic=*/deterministic), CCoinsMap::key_equal{}, &m_cache_coins_memory_resource)\n {\n+    (void)base->GetBestBlock(); // Sanity check validity of base",
      "path": "src/coins.cpp",
      "position": 1,
      "original_position": 29,
      "commit_id": "a69ea84b83d22c66ddeeba6d27b761036d6fec40",
      "original_commit_id": "784769b5b1a8465d1a09ec489a303c4616d11896",
      "in_reply_to_id": 2650234336,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "`assert(!base || dynamic_cast<CCoinsView*>(base));` doesn't trigger the failure.\r\n\r\nReverting `m_dummy` (which I did accidentally in the first commit already):\r\n```patch\r\ndiff --git a/src/validation.cpp b/src/validation.cpp\r\n--- a/src/validation.cpp\t(revision 5f5ff9798098a7cf9c5311dc54c615245fec1a3b)\r\n+++ b/src/validation.cpp\t(date 1767039346685)\r\n@@ -722,11 +722,6 @@\r\n     }\r\n \r\n private:\r\n-    /** When m_view is connected to m_dummy, it can no longer look up coins from the mempool or UTXO set (meaning no disk\r\n-     * operations happen), but can still return coins it accessed previously. Useful for keeping track of which coins\r\n-     * were pulled from disk. */\r\n-    CCoinsView m_dummy;\r\n-\r\n     CTxMemPool& m_pool;\r\n \r\n     /** Holds a cached view of available coins from the UTXO set, mempool, and artificial temporary coins (to enable package validation).\r\n@@ -746,6 +741,10 @@\r\n     /** When m_view is connected to m_viewmempool as its backend, it can pull coins from the mempool and from the UTXO\r\n      * set. This is also where temporary coins are stored. */\r\n     CCoinsViewMemPool m_viewmempool;\r\n+    /** When m_view is connected to m_dummy, it can no longer look up coins from the mempool or UTXO set (meaning no disk\r\n+     * operations happen), but can still return coins it accessed previously. Useful for keeping track of which coins\r\n+     * were pulled from disk. */\r\n+    CCoinsView m_dummy;\r\n \r\n     Chainstate& m_active_chainstate;\r\n```\r\n\r\nAnd running:\r\n> cmake -B build  -DCMAKE_BUILD_TYPE=Debug && cmake --build build && ./build/bin/test_bitcoin --run_test=wallet_tests\r\n\r\nfails correctly with:\r\n> Running 13 test cases...\r\n> ******** errors disabling the alternate stack:\r\n>         #error:22\r\n>         Invalid argument\r\n> unknown location:0: fatal error: in \"wallet_tests/CreateWallet\": memory access violation at address: 0x5f4d1884: invalid permissions\r\n>  wallet/test/wallet_tests.cpp:622: last checkpoint\r\n\r\nMoved the proper removal to the first commit: https://github.com/bitcoin/bitcoin/compare/784769b5b1a8465d1a09ec489a303c4616d11896..a69ea84b83d22c66ddeeba6d27b761036d6fec40",
      "created_at": "2025-12-29T20:20:22Z",
      "updated_at": "2025-12-29T20:22:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2651708755",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2651708755"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2651711783",
      "pull_request_review_id": 3616686593,
      "id": 2651711783,
      "node_id": "PRRC_kwDOABII586eDekn",
      "diff_hunk": "@@ -378,6 +403,7 @@ class CCoinsViewCache : public CCoinsViewBacked\n \n public:\n     CCoinsViewCache(CCoinsView *baseIn, bool deterministic = false);\n+    CCoinsViewCache() : CCoinsViewCache{&CCoinsViewEmpty::Get()} {}",
      "path": "src/coins.h",
      "position": 1,
      "original_position": 111,
      "commit_id": "515dbf1e72ef4ba0233aedcc4b40f44221f899dc",
      "original_commit_id": "784769b5b1a8465d1a09ec489a303c4616d11896",
      "in_reply_to_id": 2650227623,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "How so? We have to init `m_deterministic` as well...",
      "created_at": "2025-12-29T20:21:32Z",
      "updated_at": "2025-12-29T20:21:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2651711783",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2651711783"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 410,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2652027175",
      "pull_request_review_id": 3617058212,
      "id": 2652027175,
      "node_id": "PRRC_kwDOABII586eErkn",
      "diff_hunk": "@@ -13,31 +13,11 @@ TRACEPOINT_SEMAPHORE(utxocache, add);\n TRACEPOINT_SEMAPHORE(utxocache, spent);\n TRACEPOINT_SEMAPHORE(utxocache, uncache);\n \n-std::optional<Coin> CCoinsView::GetCoin(const COutPoint& outpoint) const { return std::nullopt; }\n-uint256 CCoinsView::GetBestBlock() const { return uint256(); }\n-std::vector<uint256> CCoinsView::GetHeadBlocks() const { return std::vector<uint256>(); }\n-bool CCoinsView::BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) { return false; }\n-std::unique_ptr<CCoinsViewCursor> CCoinsView::Cursor() const { return nullptr; }\n-\n-bool CCoinsView::HaveCoin(const COutPoint &outpoint) const\n-{\n-    return GetCoin(outpoint).has_value();\n-}\n-\n-CCoinsViewBacked::CCoinsViewBacked(CCoinsView *viewIn) : base(viewIn) { }\n-std::optional<Coin> CCoinsViewBacked::GetCoin(const COutPoint& outpoint) const { return base->GetCoin(outpoint); }\n-bool CCoinsViewBacked::HaveCoin(const COutPoint &outpoint) const { return base->HaveCoin(outpoint); }\n-uint256 CCoinsViewBacked::GetBestBlock() const { return base->GetBestBlock(); }\n-std::vector<uint256> CCoinsViewBacked::GetHeadBlocks() const { return base->GetHeadBlocks(); }\n-void CCoinsViewBacked::SetBackend(CCoinsView &viewIn) { base = &viewIn; }\n-bool CCoinsViewBacked::BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) { return base->BatchWrite(cursor, hashBlock); }\n-std::unique_ptr<CCoinsViewCursor> CCoinsViewBacked::Cursor() const { return base->Cursor(); }\n-size_t CCoinsViewBacked::EstimateSize() const { return base->EstimateSize(); }\n-\n CCoinsViewCache::CCoinsViewCache(CCoinsView* baseIn, bool deterministic) :\n     CCoinsViewBacked(baseIn), m_deterministic(deterministic),\n     cacheCoins(0, SaltedOutpointHasher(/*deterministic=*/deterministic), CCoinsMap::key_equal{}, &m_cache_coins_memory_resource)\n {\n+    (void)base->GetBestBlock(); // Sanity check validity of base",
      "path": "src/coins.cpp",
      "position": 1,
      "original_position": 29,
      "commit_id": "a69ea84b83d22c66ddeeba6d27b761036d6fec40",
      "original_commit_id": "784769b5b1a8465d1a09ec489a303c4616d11896",
      "in_reply_to_id": 2650234336,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Hmm dynamic casting uninitialized memory should be UB as well, but I guess it doesn't trigger a memory access violation.\r\nBut, we still need to check that `base` is not `nullptr` before accessing, otherwise passing `nullptr` would trigger undefined behavior.",
      "created_at": "2025-12-30T01:08:33Z",
      "updated_at": "2025-12-30T01:08:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2652027175",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2652027175"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2652387942",
      "pull_request_review_id": 3617447177,
      "id": 2652387942,
      "node_id": "PRRC_kwDOABII586eGDpm",
      "diff_hunk": "@@ -13,31 +13,11 @@ TRACEPOINT_SEMAPHORE(utxocache, add);\n TRACEPOINT_SEMAPHORE(utxocache, spent);\n TRACEPOINT_SEMAPHORE(utxocache, uncache);\n \n-std::optional<Coin> CCoinsView::GetCoin(const COutPoint& outpoint) const { return std::nullopt; }\n-uint256 CCoinsView::GetBestBlock() const { return uint256(); }\n-std::vector<uint256> CCoinsView::GetHeadBlocks() const { return std::vector<uint256>(); }\n-bool CCoinsView::BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) { return false; }\n-std::unique_ptr<CCoinsViewCursor> CCoinsView::Cursor() const { return nullptr; }\n-\n-bool CCoinsView::HaveCoin(const COutPoint &outpoint) const\n-{\n-    return GetCoin(outpoint).has_value();\n-}\n-\n-CCoinsViewBacked::CCoinsViewBacked(CCoinsView *viewIn) : base(viewIn) { }\n-std::optional<Coin> CCoinsViewBacked::GetCoin(const COutPoint& outpoint) const { return base->GetCoin(outpoint); }\n-bool CCoinsViewBacked::HaveCoin(const COutPoint &outpoint) const { return base->HaveCoin(outpoint); }\n-uint256 CCoinsViewBacked::GetBestBlock() const { return base->GetBestBlock(); }\n-std::vector<uint256> CCoinsViewBacked::GetHeadBlocks() const { return base->GetHeadBlocks(); }\n-void CCoinsViewBacked::SetBackend(CCoinsView &viewIn) { base = &viewIn; }\n-bool CCoinsViewBacked::BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) { return base->BatchWrite(cursor, hashBlock); }\n-std::unique_ptr<CCoinsViewCursor> CCoinsViewBacked::Cursor() const { return base->Cursor(); }\n-size_t CCoinsViewBacked::EstimateSize() const { return base->EstimateSize(); }\n-\n CCoinsViewCache::CCoinsViewCache(CCoinsView* baseIn, bool deterministic) :\n     CCoinsViewBacked(baseIn), m_deterministic(deterministic),\n     cacheCoins(0, SaltedOutpointHasher(/*deterministic=*/deterministic), CCoinsMap::key_equal{}, &m_cache_coins_memory_resource)\n {\n+    (void)base->GetBestBlock(); // Sanity check validity of base",
      "path": "src/coins.cpp",
      "position": 1,
      "original_position": 29,
      "commit_id": "a69ea84b83d22c66ddeeba6d27b761036d6fec40",
      "original_commit_id": "784769b5b1a8465d1a09ec489a303c4616d11896",
      "in_reply_to_id": 2650234336,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "i don't think we support nullptr currently - it's why we have a default implementation with dummy values. ",
      "created_at": "2025-12-30T07:21:04Z",
      "updated_at": "2025-12-30T07:21:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2652387942",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2652387942"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2653138327",
      "pull_request_review_id": 3618429076,
      "id": 2653138327,
      "node_id": "PRRC_kwDOABII586eI62X",
      "diff_hunk": "@@ -13,31 +13,11 @@ TRACEPOINT_SEMAPHORE(utxocache, add);\n TRACEPOINT_SEMAPHORE(utxocache, spent);\n TRACEPOINT_SEMAPHORE(utxocache, uncache);\n \n-std::optional<Coin> CCoinsView::GetCoin(const COutPoint& outpoint) const { return std::nullopt; }\n-uint256 CCoinsView::GetBestBlock() const { return uint256(); }\n-std::vector<uint256> CCoinsView::GetHeadBlocks() const { return std::vector<uint256>(); }\n-bool CCoinsView::BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) { return false; }\n-std::unique_ptr<CCoinsViewCursor> CCoinsView::Cursor() const { return nullptr; }\n-\n-bool CCoinsView::HaveCoin(const COutPoint &outpoint) const\n-{\n-    return GetCoin(outpoint).has_value();\n-}\n-\n-CCoinsViewBacked::CCoinsViewBacked(CCoinsView *viewIn) : base(viewIn) { }\n-std::optional<Coin> CCoinsViewBacked::GetCoin(const COutPoint& outpoint) const { return base->GetCoin(outpoint); }\n-bool CCoinsViewBacked::HaveCoin(const COutPoint &outpoint) const { return base->HaveCoin(outpoint); }\n-uint256 CCoinsViewBacked::GetBestBlock() const { return base->GetBestBlock(); }\n-std::vector<uint256> CCoinsViewBacked::GetHeadBlocks() const { return base->GetHeadBlocks(); }\n-void CCoinsViewBacked::SetBackend(CCoinsView &viewIn) { base = &viewIn; }\n-bool CCoinsViewBacked::BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) { return base->BatchWrite(cursor, hashBlock); }\n-std::unique_ptr<CCoinsViewCursor> CCoinsViewBacked::Cursor() const { return base->Cursor(); }\n-size_t CCoinsViewBacked::EstimateSize() const { return base->EstimateSize(); }\n-\n CCoinsViewCache::CCoinsViewCache(CCoinsView* baseIn, bool deterministic) :\n     CCoinsViewBacked(baseIn), m_deterministic(deterministic),\n     cacheCoins(0, SaltedOutpointHasher(/*deterministic=*/deterministic), CCoinsMap::key_equal{}, &m_cache_coins_memory_resource)\n {\n+    (void)base->GetBestBlock(); // Sanity check validity of base",
      "path": "src/coins.cpp",
      "position": 1,
      "original_position": 29,
      "commit_id": "a69ea84b83d22c66ddeeba6d27b761036d6fec40",
      "original_commit_id": "784769b5b1a8465d1a09ec489a303c4616d11896",
      "in_reply_to_id": 2650234336,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "The API supports it. I use it in #31132. If we want to disallow it then we should change the parameter to a reference.",
      "created_at": "2025-12-30T14:35:02Z",
      "updated_at": "2025-12-30T14:35:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2653138327",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2653138327"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2653248652",
      "pull_request_review_id": 3618585105,
      "id": 2653248652,
      "node_id": "PRRC_kwDOABII586eJVyM",
      "diff_hunk": "@@ -13,31 +13,11 @@ TRACEPOINT_SEMAPHORE(utxocache, add);\n TRACEPOINT_SEMAPHORE(utxocache, spent);\n TRACEPOINT_SEMAPHORE(utxocache, uncache);\n \n-std::optional<Coin> CCoinsView::GetCoin(const COutPoint& outpoint) const { return std::nullopt; }\n-uint256 CCoinsView::GetBestBlock() const { return uint256(); }\n-std::vector<uint256> CCoinsView::GetHeadBlocks() const { return std::vector<uint256>(); }\n-bool CCoinsView::BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) { return false; }\n-std::unique_ptr<CCoinsViewCursor> CCoinsView::Cursor() const { return nullptr; }\n-\n-bool CCoinsView::HaveCoin(const COutPoint &outpoint) const\n-{\n-    return GetCoin(outpoint).has_value();\n-}\n-\n-CCoinsViewBacked::CCoinsViewBacked(CCoinsView *viewIn) : base(viewIn) { }\n-std::optional<Coin> CCoinsViewBacked::GetCoin(const COutPoint& outpoint) const { return base->GetCoin(outpoint); }\n-bool CCoinsViewBacked::HaveCoin(const COutPoint &outpoint) const { return base->HaveCoin(outpoint); }\n-uint256 CCoinsViewBacked::GetBestBlock() const { return base->GetBestBlock(); }\n-std::vector<uint256> CCoinsViewBacked::GetHeadBlocks() const { return base->GetHeadBlocks(); }\n-void CCoinsViewBacked::SetBackend(CCoinsView &viewIn) { base = &viewIn; }\n-bool CCoinsViewBacked::BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) { return base->BatchWrite(cursor, hashBlock); }\n-std::unique_ptr<CCoinsViewCursor> CCoinsViewBacked::Cursor() const { return base->Cursor(); }\n-size_t CCoinsViewBacked::EstimateSize() const { return base->EstimateSize(); }\n-\n CCoinsViewCache::CCoinsViewCache(CCoinsView* baseIn, bool deterministic) :\n     CCoinsViewBacked(baseIn), m_deterministic(deterministic),\n     cacheCoins(0, SaltedOutpointHasher(/*deterministic=*/deterministic), CCoinsMap::key_equal{}, &m_cache_coins_memory_resource)\n {\n+    (void)base->GetBestBlock(); // Sanity check validity of base",
      "path": "src/coins.cpp",
      "position": 1,
      "original_position": 29,
      "commit_id": "a69ea84b83d22c66ddeeba6d27b761036d6fec40",
      "original_commit_id": "784769b5b1a8465d1a09ec489a303c4616d11896",
      "in_reply_to_id": 2650234336,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "As I understand it, this is sanity testing through triggering UB in the case the bug is present. I don't think that is ideal, as the compiler is allowed to assume it won't happen and optimize it away. This isn't too far fetched - if it could be inferred that (all implementations of) `CCoinsView::GetBestBlock` are side-effect free, then the statement `(void)base->GetBestBlock();` could just be optimized away.\n\nTesting for bugs due to initialization order seems more like a job for UBSan. Unfortunately, it seems none of the current fuzz tests (with UBSan enabled) trigger with the following patch (on master):\n\n```diff\ndiff --git a/src/coins.cpp b/src/coins.cpp\nindex 14381ecb0aa..c7206c22554 100644\n--- a/src/coins.cpp\n+++ b/src/coins.cpp\n@@ -38,6 +38,7 @@ CCoinsViewCache::CCoinsViewCache(CCoinsView* baseIn, bool deterministic) :\n     CCoinsViewBacked(baseIn), m_deterministic(deterministic),\n     cacheCoins(0, SaltedOutpointHasher(/*deterministic=*/deterministic), CCoinsMap::key_equal{}, &m_cache_coins_memory_resource)\n {\n+    assert(!base || dynamic_cast<CCoinsView*>(base));\n     m_sentinel.second.SelfRef(m_sentinel);\n }\n```\n\nI'm not objecting to this change, but I think it would be better if we could test for bugs of this class in a more systematic way.\n",
      "created_at": "2025-12-30T15:31:21Z",
      "updated_at": "2025-12-30T16:21:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2653248652",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2653248652"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2653974593",
      "pull_request_review_id": 3619382385,
      "id": 2653974593,
      "node_id": "PRRC_kwDOABII586eMHBB",
      "diff_hunk": "@@ -13,31 +13,11 @@ TRACEPOINT_SEMAPHORE(utxocache, add);\n TRACEPOINT_SEMAPHORE(utxocache, spent);\n TRACEPOINT_SEMAPHORE(utxocache, uncache);\n \n-std::optional<Coin> CCoinsView::GetCoin(const COutPoint& outpoint) const { return std::nullopt; }\n-uint256 CCoinsView::GetBestBlock() const { return uint256(); }\n-std::vector<uint256> CCoinsView::GetHeadBlocks() const { return std::vector<uint256>(); }\n-bool CCoinsView::BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) { return false; }\n-std::unique_ptr<CCoinsViewCursor> CCoinsView::Cursor() const { return nullptr; }\n-\n-bool CCoinsView::HaveCoin(const COutPoint &outpoint) const\n-{\n-    return GetCoin(outpoint).has_value();\n-}\n-\n-CCoinsViewBacked::CCoinsViewBacked(CCoinsView *viewIn) : base(viewIn) { }\n-std::optional<Coin> CCoinsViewBacked::GetCoin(const COutPoint& outpoint) const { return base->GetCoin(outpoint); }\n-bool CCoinsViewBacked::HaveCoin(const COutPoint &outpoint) const { return base->HaveCoin(outpoint); }\n-uint256 CCoinsViewBacked::GetBestBlock() const { return base->GetBestBlock(); }\n-std::vector<uint256> CCoinsViewBacked::GetHeadBlocks() const { return base->GetHeadBlocks(); }\n-void CCoinsViewBacked::SetBackend(CCoinsView &viewIn) { base = &viewIn; }\n-bool CCoinsViewBacked::BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) { return base->BatchWrite(cursor, hashBlock); }\n-std::unique_ptr<CCoinsViewCursor> CCoinsViewBacked::Cursor() const { return base->Cursor(); }\n-size_t CCoinsViewBacked::EstimateSize() const { return base->EstimateSize(); }\n-\n CCoinsViewCache::CCoinsViewCache(CCoinsView* baseIn, bool deterministic) :\n     CCoinsViewBacked(baseIn), m_deterministic(deterministic),\n     cacheCoins(0, SaltedOutpointHasher(/*deterministic=*/deterministic), CCoinsMap::key_equal{}, &m_cache_coins_memory_resource)\n {\n+    (void)base->GetBestBlock(); // Sanity check validity of base",
      "path": "src/coins.cpp",
      "position": 1,
      "original_position": 29,
      "commit_id": "a69ea84b83d22c66ddeeba6d27b761036d6fec40",
      "original_commit_id": "784769b5b1a8465d1a09ec489a303c4616d11896",
      "in_reply_to_id": 2650234336,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> The API supports it. I use it in https://github.com/bitcoin/bitcoin/pull/31132. If we want to disallow it then we should change the parameter to a reference.\r\n\r\nMy understanding is that it was stored as a pointer since references cannot be reallocated and we need to call `SetBackend` currently in a few places (which takes a reference, also proving that `nullptr` was never the goal).\r\nWe can change it to `std::reference_wrapper<CCoinsView> base` but it would trigger a huge changeset if it percolates to getting rid of all pointers in the constructors. But I don't mind adding an `Assert` to forbid that at least during runtime and fix the constructor and call sites after this PR is merged:\r\n```C++\r\nclass CCoinsViewBacked : public CCoinsView\r\n{\r\nprotected:\r\n    std::reference_wrapper<CCoinsView> base;\r\n\r\npublic:\r\n    explicit CCoinsViewBacked(CCoinsView* viewIn) : base{*Assert(viewIn)} {} // TODO change to reference\r\n\r\n    void SetBackend(CCoinsView& viewIn) { base = std::ref(viewIn); }\r\n\r\n    std::optional<Coin> GetCoin(const COutPoint& outpoint) const override { return base.get().GetCoin(outpoint); }\r\n    bool HaveCoin(const COutPoint& outpoint) const override { return base.get().HaveCoin(outpoint); }\r\n    uint256 GetBestBlock() const override { return base.get().GetBestBlock(); }\r\n    std::vector<uint256> GetHeadBlocks() const override { return base.get().GetHeadBlocks(); }\r\n    bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256& hashBlock) override { return base.get().BatchWrite(cursor, hashBlock); }\r\n    std::unique_ptr<CCoinsViewCursor> Cursor() const override { return base.get().Cursor(); }\r\n    size_t EstimateSize() const override { return base.get().EstimateSize(); }\r\n};\r\n```",
      "created_at": "2025-12-30T22:07:07Z",
      "updated_at": "2025-12-30T22:07:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2653974593",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2653974593"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2653979894",
      "pull_request_review_id": 3619387129,
      "id": 2653979894,
      "node_id": "PRRC_kwDOABII586eMIT2",
      "diff_hunk": "@@ -13,31 +13,11 @@ TRACEPOINT_SEMAPHORE(utxocache, add);\n TRACEPOINT_SEMAPHORE(utxocache, spent);\n TRACEPOINT_SEMAPHORE(utxocache, uncache);\n \n-std::optional<Coin> CCoinsView::GetCoin(const COutPoint& outpoint) const { return std::nullopt; }\n-uint256 CCoinsView::GetBestBlock() const { return uint256(); }\n-std::vector<uint256> CCoinsView::GetHeadBlocks() const { return std::vector<uint256>(); }\n-bool CCoinsView::BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) { return false; }\n-std::unique_ptr<CCoinsViewCursor> CCoinsView::Cursor() const { return nullptr; }\n-\n-bool CCoinsView::HaveCoin(const COutPoint &outpoint) const\n-{\n-    return GetCoin(outpoint).has_value();\n-}\n-\n-CCoinsViewBacked::CCoinsViewBacked(CCoinsView *viewIn) : base(viewIn) { }\n-std::optional<Coin> CCoinsViewBacked::GetCoin(const COutPoint& outpoint) const { return base->GetCoin(outpoint); }\n-bool CCoinsViewBacked::HaveCoin(const COutPoint &outpoint) const { return base->HaveCoin(outpoint); }\n-uint256 CCoinsViewBacked::GetBestBlock() const { return base->GetBestBlock(); }\n-std::vector<uint256> CCoinsViewBacked::GetHeadBlocks() const { return base->GetHeadBlocks(); }\n-void CCoinsViewBacked::SetBackend(CCoinsView &viewIn) { base = &viewIn; }\n-bool CCoinsViewBacked::BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) { return base->BatchWrite(cursor, hashBlock); }\n-std::unique_ptr<CCoinsViewCursor> CCoinsViewBacked::Cursor() const { return base->Cursor(); }\n-size_t CCoinsViewBacked::EstimateSize() const { return base->EstimateSize(); }\n-\n CCoinsViewCache::CCoinsViewCache(CCoinsView* baseIn, bool deterministic) :\n     CCoinsViewBacked(baseIn), m_deterministic(deterministic),\n     cacheCoins(0, SaltedOutpointHasher(/*deterministic=*/deterministic), CCoinsMap::key_equal{}, &m_cache_coins_memory_resource)\n {\n+    (void)base->GetBestBlock(); // Sanity check validity of base",
      "path": "src/coins.cpp",
      "position": 1,
      "original_position": 29,
      "commit_id": "a69ea84b83d22c66ddeeba6d27b761036d6fec40",
      "original_commit_id": "784769b5b1a8465d1a09ec489a303c4616d11896",
      "in_reply_to_id": 2650234336,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Sorry if I was unclear. `base` should remain a pointer. `viewIn` should be a reference in the constructor, as it is in `SetBackend`.",
      "created_at": "2025-12-30T22:09:14Z",
      "updated_at": "2025-12-30T22:09:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2653979894",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2653979894"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2654002456",
      "pull_request_review_id": 3619410447,
      "id": 2654002456,
      "node_id": "PRRC_kwDOABII586eMN0Y",
      "diff_hunk": "@@ -13,31 +13,11 @@ TRACEPOINT_SEMAPHORE(utxocache, add);\n TRACEPOINT_SEMAPHORE(utxocache, spent);\n TRACEPOINT_SEMAPHORE(utxocache, uncache);\n \n-std::optional<Coin> CCoinsView::GetCoin(const COutPoint& outpoint) const { return std::nullopt; }\n-uint256 CCoinsView::GetBestBlock() const { return uint256(); }\n-std::vector<uint256> CCoinsView::GetHeadBlocks() const { return std::vector<uint256>(); }\n-bool CCoinsView::BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) { return false; }\n-std::unique_ptr<CCoinsViewCursor> CCoinsView::Cursor() const { return nullptr; }\n-\n-bool CCoinsView::HaveCoin(const COutPoint &outpoint) const\n-{\n-    return GetCoin(outpoint).has_value();\n-}\n-\n-CCoinsViewBacked::CCoinsViewBacked(CCoinsView *viewIn) : base(viewIn) { }\n-std::optional<Coin> CCoinsViewBacked::GetCoin(const COutPoint& outpoint) const { return base->GetCoin(outpoint); }\n-bool CCoinsViewBacked::HaveCoin(const COutPoint &outpoint) const { return base->HaveCoin(outpoint); }\n-uint256 CCoinsViewBacked::GetBestBlock() const { return base->GetBestBlock(); }\n-std::vector<uint256> CCoinsViewBacked::GetHeadBlocks() const { return base->GetHeadBlocks(); }\n-void CCoinsViewBacked::SetBackend(CCoinsView &viewIn) { base = &viewIn; }\n-bool CCoinsViewBacked::BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) { return base->BatchWrite(cursor, hashBlock); }\n-std::unique_ptr<CCoinsViewCursor> CCoinsViewBacked::Cursor() const { return base->Cursor(); }\n-size_t CCoinsViewBacked::EstimateSize() const { return base->EstimateSize(); }\n-\n CCoinsViewCache::CCoinsViewCache(CCoinsView* baseIn, bool deterministic) :\n     CCoinsViewBacked(baseIn), m_deterministic(deterministic),\n     cacheCoins(0, SaltedOutpointHasher(/*deterministic=*/deterministic), CCoinsMap::key_equal{}, &m_cache_coins_memory_resource)\n {\n+    (void)base->GetBestBlock(); // Sanity check validity of base",
      "path": "src/coins.cpp",
      "position": 1,
      "original_position": 29,
      "commit_id": "a69ea84b83d22c66ddeeba6d27b761036d6fec40",
      "original_commit_id": "784769b5b1a8465d1a09ec489a303c4616d11896",
      "in_reply_to_id": 2650234336,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> viewIn should be a reference in the constructor\r\n\r\nyeah, that's what I meant by:\r\n\r\n> it would trigger a huge changeset if it percolates to getting rid of all pointers in the constructors\r\n\r\nIt triggered changes in 22 files so far - I have stopped refactoring after a while. We can prohibit new `nullptr` bases via an `Assert` for now, and clean up this area in a separate PR since it's a bit messy.",
      "created_at": "2025-12-30T22:17:45Z",
      "updated_at": "2025-12-30T22:19:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2654002456",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2654002456"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2654282589",
      "pull_request_review_id": 3619698402,
      "id": 2654282589,
      "node_id": "PRRC_kwDOABII586eNSNd",
      "diff_hunk": "@@ -13,31 +13,11 @@ TRACEPOINT_SEMAPHORE(utxocache, add);\n TRACEPOINT_SEMAPHORE(utxocache, spent);\n TRACEPOINT_SEMAPHORE(utxocache, uncache);\n \n-std::optional<Coin> CCoinsView::GetCoin(const COutPoint& outpoint) const { return std::nullopt; }\n-uint256 CCoinsView::GetBestBlock() const { return uint256(); }\n-std::vector<uint256> CCoinsView::GetHeadBlocks() const { return std::vector<uint256>(); }\n-bool CCoinsView::BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) { return false; }\n-std::unique_ptr<CCoinsViewCursor> CCoinsView::Cursor() const { return nullptr; }\n-\n-bool CCoinsView::HaveCoin(const COutPoint &outpoint) const\n-{\n-    return GetCoin(outpoint).has_value();\n-}\n-\n-CCoinsViewBacked::CCoinsViewBacked(CCoinsView *viewIn) : base(viewIn) { }\n-std::optional<Coin> CCoinsViewBacked::GetCoin(const COutPoint& outpoint) const { return base->GetCoin(outpoint); }\n-bool CCoinsViewBacked::HaveCoin(const COutPoint &outpoint) const { return base->HaveCoin(outpoint); }\n-uint256 CCoinsViewBacked::GetBestBlock() const { return base->GetBestBlock(); }\n-std::vector<uint256> CCoinsViewBacked::GetHeadBlocks() const { return base->GetHeadBlocks(); }\n-void CCoinsViewBacked::SetBackend(CCoinsView &viewIn) { base = &viewIn; }\n-bool CCoinsViewBacked::BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) { return base->BatchWrite(cursor, hashBlock); }\n-std::unique_ptr<CCoinsViewCursor> CCoinsViewBacked::Cursor() const { return base->Cursor(); }\n-size_t CCoinsViewBacked::EstimateSize() const { return base->EstimateSize(); }\n-\n CCoinsViewCache::CCoinsViewCache(CCoinsView* baseIn, bool deterministic) :\n     CCoinsViewBacked(baseIn), m_deterministic(deterministic),\n     cacheCoins(0, SaltedOutpointHasher(/*deterministic=*/deterministic), CCoinsMap::key_equal{}, &m_cache_coins_memory_resource)\n {\n+    (void)base->GetBestBlock(); // Sanity check validity of base",
      "path": "src/coins.cpp",
      "position": 1,
      "original_position": 29,
      "commit_id": "a69ea84b83d22c66ddeeba6d27b761036d6fec40",
      "original_commit_id": "784769b5b1a8465d1a09ec489a303c4616d11896",
      "in_reply_to_id": 2650234336,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> I don't think that is ideal, as the compiler is allowed to assume it won't happen and optimize it away.\r\n\r\nI needed something to demonstrate the UB - and that it's fixed now, so [I have removed this reproducer in the second commit](https://github.com/bitcoin/bitcoin/compare/a69ea84b83d22c66ddeeba6d27b761036d6fec40..b23d784b6baee140f75882fe009be5676db4cb0b#diff-f0ed73d62dae6ca28ebd3045e5fc0d5d02eaaacadb4c2a292985a3fbd7e1c77cL20). Would be cool if we could instrument the code with something like `-fsanitize=vptr` or `-Wreorder-ctor` (haven't tried any of them, not sure they would have found this one).\r\n\r\nI've also [added the `Assert`](https://github.com/bitcoin/bitcoin/compare/a69ea84b83d22c66ddeeba6d27b761036d6fec40..b23d784b6baee140f75882fe009be5676db4cb0b#diff-095ce1081a930998a10b37358fae5499ac47f8cb6f25f5df5d88e920a54e0341L371) to prohibit `nullptr` bases in `CCoinsViewBacked` - we should use `CCoinsViewEmpty::Get()` from now on to stop the propagation.",
      "created_at": "2025-12-30T23:18:12Z",
      "updated_at": "2025-12-31T06:47:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2654282589",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2654282589"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2656573494",
      "pull_request_review_id": 3622026233,
      "id": 2656573494,
      "node_id": "PRRC_kwDOABII586eWBg2",
      "diff_hunk": "@@ -303,58 +303,83 @@ struct CoinsViewCacheCursor\n     bool m_will_erase;\n };\n \n-/** Abstract view on the open txout dataset. */\n+/** Pure abstract view on the open txout dataset. */\n class CCoinsView\n {\n public:\n+    //! As we use CCoinsViews polymorphically, have a virtual destructor\n+    virtual ~CCoinsView() = default;\n+\n     //! Retrieve the Coin (unspent transaction output) for a given outpoint.\n-    virtual std::optional<Coin> GetCoin(const COutPoint& outpoint) const;\n+    virtual std::optional<Coin> GetCoin(const COutPoint& outpoint) const = 0;\n \n     //! Just check whether a given outpoint is unspent.\n-    virtual bool HaveCoin(const COutPoint &outpoint) const;\n+    virtual bool HaveCoin(const COutPoint& outpoint) const = 0;\n \n     //! Retrieve the block hash whose state this CCoinsView currently represents\n-    virtual uint256 GetBestBlock() const;\n+    virtual uint256 GetBestBlock() const = 0;\n \n     //! Retrieve the range of blocks that may have been only partially written.\n     //! If the database is in a consistent state, the result is the empty vector.\n     //! Otherwise, a two-element vector is returned consisting of the new and\n     //! the old block hash, in that order.\n-    virtual std::vector<uint256> GetHeadBlocks() const;\n+    virtual std::vector<uint256> GetHeadBlocks() const = 0;\n \n     //! Do a bulk modification (multiple Coin changes + BestBlock change).\n     //! The passed cursor is used to iterate through the coins.\n-    virtual bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256& hashBlock);\n+    virtual bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256& hashBlock) = 0;",
      "path": "src/coins.h",
      "position": 1,
      "original_position": 34,
      "commit_id": "b23d784b6baee140f75882fe009be5676db4cb0b",
      "original_commit_id": "b23d784b6baee140f75882fe009be5676db4cb0b",
      "in_reply_to_id": null,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "```suggestion\r\n    virtual bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256& block_hash) = 0;\r\n```",
      "created_at": "2026-01-01T19:44:57Z",
      "updated_at": "2026-01-01T19:50:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2656573494",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2656573494"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 330,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2656574800",
      "pull_request_review_id": 3622026233,
      "id": 2656574800,
      "node_id": "PRRC_kwDOABII586eWB1Q",
      "diff_hunk": "@@ -303,58 +303,83 @@ struct CoinsViewCacheCursor\n     bool m_will_erase;\n };\n \n-/** Abstract view on the open txout dataset. */\n+/** Pure abstract view on the open txout dataset. */\n class CCoinsView\n {\n public:\n+    //! As we use CCoinsViews polymorphically, have a virtual destructor\n+    virtual ~CCoinsView() = default;\n+\n     //! Retrieve the Coin (unspent transaction output) for a given outpoint.\n-    virtual std::optional<Coin> GetCoin(const COutPoint& outpoint) const;\n+    virtual std::optional<Coin> GetCoin(const COutPoint& outpoint) const = 0;\n \n     //! Just check whether a given outpoint is unspent.\n-    virtual bool HaveCoin(const COutPoint &outpoint) const;\n+    virtual bool HaveCoin(const COutPoint& outpoint) const = 0;\n \n     //! Retrieve the block hash whose state this CCoinsView currently represents\n-    virtual uint256 GetBestBlock() const;\n+    virtual uint256 GetBestBlock() const = 0;\n \n     //! Retrieve the range of blocks that may have been only partially written.\n     //! If the database is in a consistent state, the result is the empty vector.\n     //! Otherwise, a two-element vector is returned consisting of the new and\n     //! the old block hash, in that order.\n-    virtual std::vector<uint256> GetHeadBlocks() const;\n+    virtual std::vector<uint256> GetHeadBlocks() const = 0;\n \n     //! Do a bulk modification (multiple Coin changes + BestBlock change).\n     //! The passed cursor is used to iterate through the coins.\n-    virtual bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256& hashBlock);\n+    virtual bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256& hashBlock) = 0;\n \n     //! Get a cursor to iterate over the whole state\n-    virtual std::unique_ptr<CCoinsViewCursor> Cursor() const;\n-\n-    //! As we use CCoinsViews polymorphically, have a virtual destructor\n-    virtual ~CCoinsView() = default;\n+    virtual std::unique_ptr<CCoinsViewCursor> Cursor() const = 0;\n \n-    //! Estimate database size (0 if not implemented)\n-    virtual size_t EstimateSize() const { return 0; }\n+    //! Estimate database size\n+    virtual size_t EstimateSize() const = 0;\n };\n \n+/** Noop coins view. */\n+class CCoinsViewEmpty final : public CCoinsView\n+{\n+private:\n+    CCoinsViewEmpty() = default;\n+\n+public:\n+    static CCoinsViewEmpty& Get()\n+    {\n+        static CCoinsViewEmpty instance;\n+        return instance;\n+    }\n+\n+    CCoinsViewEmpty(const CCoinsViewEmpty&) = delete;\n+    CCoinsViewEmpty& operator=(const CCoinsViewEmpty&) = delete;\n+\n+    std::optional<Coin> GetCoin(const COutPoint&) const override { return {}; }\n+    bool HaveCoin(const COutPoint&) const override { return false; }\n+    uint256 GetBestBlock() const override { return {}; }\n+    std::vector<uint256> GetHeadBlocks() const override { return {}; }\n+    bool BatchWrite(CoinsViewCacheCursor&, const uint256&) override { return false; }",
      "path": "src/coins.h",
      "position": 1,
      "original_position": 69,
      "commit_id": "b23d784b6baee140f75882fe009be5676db4cb0b",
      "original_commit_id": "b23d784b6baee140f75882fe009be5676db4cb0b",
      "in_reply_to_id": null,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Should we iterate through the cursor here to clear it, and return `true`? If we return `false` we leave the parent cache in an inconsistent state.",
      "created_at": "2026-01-01T19:47:55Z",
      "updated_at": "2026-01-01T19:50:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2656574800",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2656574800"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 359,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2656574925",
      "pull_request_review_id": 3622026233,
      "id": 2656574925,
      "node_id": "PRRC_kwDOABII586eWB3N",
      "diff_hunk": "@@ -303,58 +303,83 @@ struct CoinsViewCacheCursor\n     bool m_will_erase;\n };\n \n-/** Abstract view on the open txout dataset. */\n+/** Pure abstract view on the open txout dataset. */\n class CCoinsView\n {\n public:\n+    //! As we use CCoinsViews polymorphically, have a virtual destructor\n+    virtual ~CCoinsView() = default;\n+\n     //! Retrieve the Coin (unspent transaction output) for a given outpoint.\n-    virtual std::optional<Coin> GetCoin(const COutPoint& outpoint) const;\n+    virtual std::optional<Coin> GetCoin(const COutPoint& outpoint) const = 0;\n \n     //! Just check whether a given outpoint is unspent.\n-    virtual bool HaveCoin(const COutPoint &outpoint) const;\n+    virtual bool HaveCoin(const COutPoint& outpoint) const = 0;\n \n     //! Retrieve the block hash whose state this CCoinsView currently represents\n-    virtual uint256 GetBestBlock() const;\n+    virtual uint256 GetBestBlock() const = 0;\n \n     //! Retrieve the range of blocks that may have been only partially written.\n     //! If the database is in a consistent state, the result is the empty vector.\n     //! Otherwise, a two-element vector is returned consisting of the new and\n     //! the old block hash, in that order.\n-    virtual std::vector<uint256> GetHeadBlocks() const;\n+    virtual std::vector<uint256> GetHeadBlocks() const = 0;\n \n     //! Do a bulk modification (multiple Coin changes + BestBlock change).\n     //! The passed cursor is used to iterate through the coins.\n-    virtual bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256& hashBlock);\n+    virtual bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256& hashBlock) = 0;\n \n     //! Get a cursor to iterate over the whole state\n-    virtual std::unique_ptr<CCoinsViewCursor> Cursor() const;\n-\n-    //! As we use CCoinsViews polymorphically, have a virtual destructor\n-    virtual ~CCoinsView() = default;\n+    virtual std::unique_ptr<CCoinsViewCursor> Cursor() const = 0;\n \n-    //! Estimate database size (0 if not implemented)\n-    virtual size_t EstimateSize() const { return 0; }\n+    //! Estimate database size\n+    virtual size_t EstimateSize() const = 0;\n };\n \n+/** Noop coins view. */\n+class CCoinsViewEmpty final : public CCoinsView\n+{\n+private:\n+    CCoinsViewEmpty() = default;\n+\n+public:\n+    static CCoinsViewEmpty& Get()\n+    {\n+        static CCoinsViewEmpty instance;\n+        return instance;\n+    }\n+\n+    CCoinsViewEmpty(const CCoinsViewEmpty&) = delete;\n+    CCoinsViewEmpty& operator=(const CCoinsViewEmpty&) = delete;\n+\n+    std::optional<Coin> GetCoin(const COutPoint&) const override { return {}; }\n+    bool HaveCoin(const COutPoint&) const override { return false; }\n+    uint256 GetBestBlock() const override { return {}; }\n+    std::vector<uint256> GetHeadBlocks() const override { return {}; }\n+    bool BatchWrite(CoinsViewCacheCursor&, const uint256&) override { return false; }\n+    std::unique_ptr<CCoinsViewCursor> Cursor() const override { return {}; }\n+    size_t EstimateSize() const override { return 0; }\n+};\n \n /** CCoinsView backed by another CCoinsView */\n class CCoinsViewBacked : public CCoinsView\n {\n protected:\n-    CCoinsView *base;\n+    CCoinsView* base;\n \n public:\n-    CCoinsViewBacked(CCoinsView *viewIn);\n-    std::optional<Coin> GetCoin(const COutPoint& outpoint) const override;\n-    bool HaveCoin(const COutPoint &outpoint) const override;\n-    uint256 GetBestBlock() const override;\n-    std::vector<uint256> GetHeadBlocks() const override;\n-    void SetBackend(CCoinsView &viewIn);\n-    bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) override;\n-    std::unique_ptr<CCoinsViewCursor> Cursor() const override;\n-    size_t EstimateSize() const override;\n-};\n+    explicit CCoinsViewBacked(CCoinsView* viewIn) : base{Assert(viewIn)} {}",
      "path": "src/coins.h",
      "position": 1,
      "original_position": 92,
      "commit_id": "b23d784b6baee140f75882fe009be5676db4cb0b",
      "original_commit_id": "b23d784b6baee140f75882fe009be5676db4cb0b",
      "in_reply_to_id": null,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "```suggestion\r\n    explicit CCoinsViewBacked(CCoinsView* view_in) : base{Assert(view_in)} {}\r\n```",
      "created_at": "2026-01-01T19:48:10Z",
      "updated_at": "2026-01-01T19:50:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2656574925",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2656574925"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 371,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2656575022",
      "pull_request_review_id": 3622026233,
      "id": 2656575022,
      "node_id": "PRRC_kwDOABII586eWB4u",
      "diff_hunk": "@@ -303,58 +303,83 @@ struct CoinsViewCacheCursor\n     bool m_will_erase;\n };\n \n-/** Abstract view on the open txout dataset. */\n+/** Pure abstract view on the open txout dataset. */\n class CCoinsView\n {\n public:\n+    //! As we use CCoinsViews polymorphically, have a virtual destructor\n+    virtual ~CCoinsView() = default;\n+\n     //! Retrieve the Coin (unspent transaction output) for a given outpoint.\n-    virtual std::optional<Coin> GetCoin(const COutPoint& outpoint) const;\n+    virtual std::optional<Coin> GetCoin(const COutPoint& outpoint) const = 0;\n \n     //! Just check whether a given outpoint is unspent.\n-    virtual bool HaveCoin(const COutPoint &outpoint) const;\n+    virtual bool HaveCoin(const COutPoint& outpoint) const = 0;\n \n     //! Retrieve the block hash whose state this CCoinsView currently represents\n-    virtual uint256 GetBestBlock() const;\n+    virtual uint256 GetBestBlock() const = 0;\n \n     //! Retrieve the range of blocks that may have been only partially written.\n     //! If the database is in a consistent state, the result is the empty vector.\n     //! Otherwise, a two-element vector is returned consisting of the new and\n     //! the old block hash, in that order.\n-    virtual std::vector<uint256> GetHeadBlocks() const;\n+    virtual std::vector<uint256> GetHeadBlocks() const = 0;\n \n     //! Do a bulk modification (multiple Coin changes + BestBlock change).\n     //! The passed cursor is used to iterate through the coins.\n-    virtual bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256& hashBlock);\n+    virtual bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256& hashBlock) = 0;\n \n     //! Get a cursor to iterate over the whole state\n-    virtual std::unique_ptr<CCoinsViewCursor> Cursor() const;\n-\n-    //! As we use CCoinsViews polymorphically, have a virtual destructor\n-    virtual ~CCoinsView() = default;\n+    virtual std::unique_ptr<CCoinsViewCursor> Cursor() const = 0;\n \n-    //! Estimate database size (0 if not implemented)\n-    virtual size_t EstimateSize() const { return 0; }\n+    //! Estimate database size\n+    virtual size_t EstimateSize() const = 0;\n };\n \n+/** Noop coins view. */\n+class CCoinsViewEmpty final : public CCoinsView\n+{\n+private:\n+    CCoinsViewEmpty() = default;\n+\n+public:\n+    static CCoinsViewEmpty& Get()\n+    {\n+        static CCoinsViewEmpty instance;\n+        return instance;\n+    }\n+\n+    CCoinsViewEmpty(const CCoinsViewEmpty&) = delete;\n+    CCoinsViewEmpty& operator=(const CCoinsViewEmpty&) = delete;\n+\n+    std::optional<Coin> GetCoin(const COutPoint&) const override { return {}; }\n+    bool HaveCoin(const COutPoint&) const override { return false; }\n+    uint256 GetBestBlock() const override { return {}; }\n+    std::vector<uint256> GetHeadBlocks() const override { return {}; }\n+    bool BatchWrite(CoinsViewCacheCursor&, const uint256&) override { return false; }\n+    std::unique_ptr<CCoinsViewCursor> Cursor() const override { return {}; }\n+    size_t EstimateSize() const override { return 0; }\n+};\n \n /** CCoinsView backed by another CCoinsView */\n class CCoinsViewBacked : public CCoinsView\n {\n protected:\n-    CCoinsView *base;\n+    CCoinsView* base;\n \n public:\n-    CCoinsViewBacked(CCoinsView *viewIn);\n-    std::optional<Coin> GetCoin(const COutPoint& outpoint) const override;\n-    bool HaveCoin(const COutPoint &outpoint) const override;\n-    uint256 GetBestBlock() const override;\n-    std::vector<uint256> GetHeadBlocks() const override;\n-    void SetBackend(CCoinsView &viewIn);\n-    bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) override;\n-    std::unique_ptr<CCoinsViewCursor> Cursor() const override;\n-    size_t EstimateSize() const override;\n-};\n+    explicit CCoinsViewBacked(CCoinsView* viewIn) : base{Assert(viewIn)} {}\n \n+    void SetBackend(CCoinsView& viewIn) { base = &viewIn; }",
      "path": "src/coins.h",
      "position": 1,
      "original_position": 94,
      "commit_id": "b23d784b6baee140f75882fe009be5676db4cb0b",
      "original_commit_id": "b23d784b6baee140f75882fe009be5676db4cb0b",
      "in_reply_to_id": null,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "```suggestion\r\n    void SetBackend(CCoinsView& view_in) { base = &view_in; }\r\n```",
      "created_at": "2026-01-01T19:48:22Z",
      "updated_at": "2026-01-01T19:50:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2656575022",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2656575022"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 373,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2656575277",
      "pull_request_review_id": 3622026233,
      "id": 2656575277,
      "node_id": "PRRC_kwDOABII586eWB8t",
      "diff_hunk": "@@ -303,58 +303,83 @@ struct CoinsViewCacheCursor\n     bool m_will_erase;\n };\n \n-/** Abstract view on the open txout dataset. */\n+/** Pure abstract view on the open txout dataset. */\n class CCoinsView\n {\n public:\n+    //! As we use CCoinsViews polymorphically, have a virtual destructor\n+    virtual ~CCoinsView() = default;\n+\n     //! Retrieve the Coin (unspent transaction output) for a given outpoint.\n-    virtual std::optional<Coin> GetCoin(const COutPoint& outpoint) const;\n+    virtual std::optional<Coin> GetCoin(const COutPoint& outpoint) const = 0;\n \n     //! Just check whether a given outpoint is unspent.\n-    virtual bool HaveCoin(const COutPoint &outpoint) const;\n+    virtual bool HaveCoin(const COutPoint& outpoint) const = 0;\n \n     //! Retrieve the block hash whose state this CCoinsView currently represents\n-    virtual uint256 GetBestBlock() const;\n+    virtual uint256 GetBestBlock() const = 0;\n \n     //! Retrieve the range of blocks that may have been only partially written.\n     //! If the database is in a consistent state, the result is the empty vector.\n     //! Otherwise, a two-element vector is returned consisting of the new and\n     //! the old block hash, in that order.\n-    virtual std::vector<uint256> GetHeadBlocks() const;\n+    virtual std::vector<uint256> GetHeadBlocks() const = 0;\n \n     //! Do a bulk modification (multiple Coin changes + BestBlock change).\n     //! The passed cursor is used to iterate through the coins.\n-    virtual bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256& hashBlock);\n+    virtual bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256& hashBlock) = 0;\n \n     //! Get a cursor to iterate over the whole state\n-    virtual std::unique_ptr<CCoinsViewCursor> Cursor() const;\n-\n-    //! As we use CCoinsViews polymorphically, have a virtual destructor\n-    virtual ~CCoinsView() = default;\n+    virtual std::unique_ptr<CCoinsViewCursor> Cursor() const = 0;\n \n-    //! Estimate database size (0 if not implemented)\n-    virtual size_t EstimateSize() const { return 0; }\n+    //! Estimate database size\n+    virtual size_t EstimateSize() const = 0;\n };\n \n+/** Noop coins view. */\n+class CCoinsViewEmpty final : public CCoinsView\n+{\n+private:\n+    CCoinsViewEmpty() = default;\n+\n+public:\n+    static CCoinsViewEmpty& Get()\n+    {\n+        static CCoinsViewEmpty instance;\n+        return instance;\n+    }\n+\n+    CCoinsViewEmpty(const CCoinsViewEmpty&) = delete;\n+    CCoinsViewEmpty& operator=(const CCoinsViewEmpty&) = delete;\n+\n+    std::optional<Coin> GetCoin(const COutPoint&) const override { return {}; }\n+    bool HaveCoin(const COutPoint&) const override { return false; }\n+    uint256 GetBestBlock() const override { return {}; }\n+    std::vector<uint256> GetHeadBlocks() const override { return {}; }\n+    bool BatchWrite(CoinsViewCacheCursor&, const uint256&) override { return false; }\n+    std::unique_ptr<CCoinsViewCursor> Cursor() const override { return {}; }\n+    size_t EstimateSize() const override { return 0; }\n+};\n \n /** CCoinsView backed by another CCoinsView */\n class CCoinsViewBacked : public CCoinsView\n {\n protected:\n-    CCoinsView *base;\n+    CCoinsView* base;\n \n public:\n-    CCoinsViewBacked(CCoinsView *viewIn);\n-    std::optional<Coin> GetCoin(const COutPoint& outpoint) const override;\n-    bool HaveCoin(const COutPoint &outpoint) const override;\n-    uint256 GetBestBlock() const override;\n-    std::vector<uint256> GetHeadBlocks() const override;\n-    void SetBackend(CCoinsView &viewIn);\n-    bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) override;\n-    std::unique_ptr<CCoinsViewCursor> Cursor() const override;\n-    size_t EstimateSize() const override;\n-};\n+    explicit CCoinsViewBacked(CCoinsView* viewIn) : base{Assert(viewIn)} {}\n \n+    void SetBackend(CCoinsView& viewIn) { base = &viewIn; }\n+\n+    std::optional<Coin> GetCoin(const COutPoint& outpoint) const override { return base->GetCoin(outpoint); }\n+    bool HaveCoin(const COutPoint& outpoint) const override { return base->HaveCoin(outpoint); }\n+    uint256 GetBestBlock() const override { return base->GetBestBlock(); }\n+    std::vector<uint256> GetHeadBlocks() const override { return base->GetHeadBlocks(); }\n+    bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256& hashBlock) override { return base->BatchWrite(cursor, hashBlock); }",
      "path": "src/coins.h",
      "position": 1,
      "original_position": 100,
      "commit_id": "b23d784b6baee140f75882fe009be5676db4cb0b",
      "original_commit_id": "b23d784b6baee140f75882fe009be5676db4cb0b",
      "in_reply_to_id": null,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "```suggestion\r\n    bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256& block_hash) override { return base->BatchWrite(cursor, block_hash); }\r\n```",
      "created_at": "2026-01-01T19:48:53Z",
      "updated_at": "2026-01-01T19:50:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2656575277",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2656575277"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 379,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2656576235",
      "pull_request_review_id": 3622026233,
      "id": 2656576235,
      "node_id": "PRRC_kwDOABII586eWCLr",
      "diff_hunk": "@@ -13,31 +13,11 @@ TRACEPOINT_SEMAPHORE(utxocache, add);\n TRACEPOINT_SEMAPHORE(utxocache, spent);\n TRACEPOINT_SEMAPHORE(utxocache, uncache);\n \n-std::optional<Coin> CCoinsView::GetCoin(const COutPoint& outpoint) const { return std::nullopt; }\n-uint256 CCoinsView::GetBestBlock() const { return uint256(); }\n-std::vector<uint256> CCoinsView::GetHeadBlocks() const { return std::vector<uint256>(); }\n-bool CCoinsView::BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) { return false; }\n-std::unique_ptr<CCoinsViewCursor> CCoinsView::Cursor() const { return nullptr; }\n-\n-bool CCoinsView::HaveCoin(const COutPoint &outpoint) const\n-{\n-    return GetCoin(outpoint).has_value();\n-}\n-\n-CCoinsViewBacked::CCoinsViewBacked(CCoinsView *viewIn) : base(viewIn) { }\n-std::optional<Coin> CCoinsViewBacked::GetCoin(const COutPoint& outpoint) const { return base->GetCoin(outpoint); }\n-bool CCoinsViewBacked::HaveCoin(const COutPoint &outpoint) const { return base->HaveCoin(outpoint); }\n-uint256 CCoinsViewBacked::GetBestBlock() const { return base->GetBestBlock(); }\n-std::vector<uint256> CCoinsViewBacked::GetHeadBlocks() const { return base->GetHeadBlocks(); }\n-void CCoinsViewBacked::SetBackend(CCoinsView &viewIn) { base = &viewIn; }\n-bool CCoinsViewBacked::BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) { return base->BatchWrite(cursor, hashBlock); }\n-std::unique_ptr<CCoinsViewCursor> CCoinsViewBacked::Cursor() const { return base->Cursor(); }\n-size_t CCoinsViewBacked::EstimateSize() const { return base->EstimateSize(); }\n-\n CCoinsViewCache::CCoinsViewCache(CCoinsView* baseIn, bool deterministic) :\n     CCoinsViewBacked(baseIn), m_deterministic(deterministic),\n     cacheCoins(0, SaltedOutpointHasher(/*deterministic=*/deterministic), CCoinsMap::key_equal{}, &m_cache_coins_memory_resource)\n {\n+    (void)base->GetBestBlock(); // Sanity check validity of base",
      "path": "src/coins.cpp",
      "position": 1,
      "original_position": 29,
      "commit_id": "a69ea84b83d22c66ddeeba6d27b761036d6fec40",
      "original_commit_id": "784769b5b1a8465d1a09ec489a303c4616d11896",
      "in_reply_to_id": 2650234336,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I'm not sure we need this commit at all, since the PR deletes `m_dummy` and doesn't keep this line either.",
      "created_at": "2026-01-01T19:50:43Z",
      "updated_at": "2026-01-01T19:50:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2656576235",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2656576235"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2656592223",
      "pull_request_review_id": 3622038231,
      "id": 2656592223,
      "node_id": "PRRC_kwDOABII586eWGFf",
      "diff_hunk": "@@ -93,10 +93,11 @@ void TestCoinsView(FuzzedDataProvider& fuzzed_data_provider, CCoinsView& backend\n                 coins_view_cache.Uncache(random_out_point);\n             },\n             [&] {\n-                if (fuzzed_data_provider.ConsumeBool()) {\n-                    backend_coins_view = CCoinsView{};\n+                if (is_db || fuzzed_data_provider.ConsumeBool()) {",
      "path": "src/test/fuzz/coins_view.cpp",
      "position": 1,
      "original_position": 6,
      "commit_id": "50245cadd68c3345c551cd65f878e9c7ca3ae1a4",
      "original_commit_id": "b23d784b6baee140f75882fe009be5676db4cb0b",
      "in_reply_to_id": null,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "We want to keep the behavior of resetting the backend.\r\n\r\n```suggestion\r\n                if (is_db || fuzzed_data_provider.ConsumeBool()) {\r\n                    auto db_params = DBParams{\r\n                        .path = \"\",\r\n                        .cache_bytes = 1_MiB,\r\n                        .memory_only = true,\r\n                    };\r\n                    backend_coins_view = CCoinsViewDB{std::move(db_params), CoinsViewOptions{}};\r\n                }\r\n                coins_view_cache.SetBackend(backend_coins_view);\r\n```",
      "created_at": "2026-01-01T20:27:10Z",
      "updated_at": "2026-01-01T20:27:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2656592223",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2656592223"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 96,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2656599709",
      "pull_request_review_id": 3622042612,
      "id": 2656599709,
      "node_id": "PRRC_kwDOABII586eWH6d",
      "diff_hunk": "@@ -303,58 +303,83 @@ struct CoinsViewCacheCursor\n     bool m_will_erase;\n };\n \n-/** Abstract view on the open txout dataset. */\n+/** Pure abstract view on the open txout dataset. */\n class CCoinsView\n {\n public:\n+    //! As we use CCoinsViews polymorphically, have a virtual destructor\n+    virtual ~CCoinsView() = default;\n+\n     //! Retrieve the Coin (unspent transaction output) for a given outpoint.\n-    virtual std::optional<Coin> GetCoin(const COutPoint& outpoint) const;\n+    virtual std::optional<Coin> GetCoin(const COutPoint& outpoint) const = 0;\n \n     //! Just check whether a given outpoint is unspent.\n-    virtual bool HaveCoin(const COutPoint &outpoint) const;\n+    virtual bool HaveCoin(const COutPoint& outpoint) const = 0;\n \n     //! Retrieve the block hash whose state this CCoinsView currently represents\n-    virtual uint256 GetBestBlock() const;\n+    virtual uint256 GetBestBlock() const = 0;\n \n     //! Retrieve the range of blocks that may have been only partially written.\n     //! If the database is in a consistent state, the result is the empty vector.\n     //! Otherwise, a two-element vector is returned consisting of the new and\n     //! the old block hash, in that order.\n-    virtual std::vector<uint256> GetHeadBlocks() const;\n+    virtual std::vector<uint256> GetHeadBlocks() const = 0;\n \n     //! Do a bulk modification (multiple Coin changes + BestBlock change).\n     //! The passed cursor is used to iterate through the coins.\n-    virtual bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256& hashBlock);\n+    virtual bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256& hashBlock) = 0;",
      "path": "src/coins.h",
      "position": 1,
      "original_position": 34,
      "commit_id": "b23d784b6baee140f75882fe009be5676db4cb0b",
      "original_commit_id": "b23d784b6baee140f75882fe009be5676db4cb0b",
      "in_reply_to_id": 2656573494,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Done in the second commit to get that out of the way.",
      "created_at": "2026-01-01T20:42:57Z",
      "updated_at": "2026-01-01T20:42:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2656599709",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2656599709"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 330,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2656599768",
      "pull_request_review_id": 3622042643,
      "id": 2656599768,
      "node_id": "PRRC_kwDOABII586eWH7Y",
      "diff_hunk": "@@ -303,58 +303,83 @@ struct CoinsViewCacheCursor\n     bool m_will_erase;\n };\n \n-/** Abstract view on the open txout dataset. */\n+/** Pure abstract view on the open txout dataset. */\n class CCoinsView\n {\n public:\n+    //! As we use CCoinsViews polymorphically, have a virtual destructor\n+    virtual ~CCoinsView() = default;\n+\n     //! Retrieve the Coin (unspent transaction output) for a given outpoint.\n-    virtual std::optional<Coin> GetCoin(const COutPoint& outpoint) const;\n+    virtual std::optional<Coin> GetCoin(const COutPoint& outpoint) const = 0;\n \n     //! Just check whether a given outpoint is unspent.\n-    virtual bool HaveCoin(const COutPoint &outpoint) const;\n+    virtual bool HaveCoin(const COutPoint& outpoint) const = 0;\n \n     //! Retrieve the block hash whose state this CCoinsView currently represents\n-    virtual uint256 GetBestBlock() const;\n+    virtual uint256 GetBestBlock() const = 0;\n \n     //! Retrieve the range of blocks that may have been only partially written.\n     //! If the database is in a consistent state, the result is the empty vector.\n     //! Otherwise, a two-element vector is returned consisting of the new and\n     //! the old block hash, in that order.\n-    virtual std::vector<uint256> GetHeadBlocks() const;\n+    virtual std::vector<uint256> GetHeadBlocks() const = 0;\n \n     //! Do a bulk modification (multiple Coin changes + BestBlock change).\n     //! The passed cursor is used to iterate through the coins.\n-    virtual bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256& hashBlock);\n+    virtual bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256& hashBlock) = 0;\n \n     //! Get a cursor to iterate over the whole state\n-    virtual std::unique_ptr<CCoinsViewCursor> Cursor() const;\n-\n-    //! As we use CCoinsViews polymorphically, have a virtual destructor\n-    virtual ~CCoinsView() = default;\n+    virtual std::unique_ptr<CCoinsViewCursor> Cursor() const = 0;\n \n-    //! Estimate database size (0 if not implemented)\n-    virtual size_t EstimateSize() const { return 0; }\n+    //! Estimate database size\n+    virtual size_t EstimateSize() const = 0;\n };\n \n+/** Noop coins view. */\n+class CCoinsViewEmpty final : public CCoinsView\n+{\n+private:\n+    CCoinsViewEmpty() = default;\n+\n+public:\n+    static CCoinsViewEmpty& Get()\n+    {\n+        static CCoinsViewEmpty instance;\n+        return instance;\n+    }\n+\n+    CCoinsViewEmpty(const CCoinsViewEmpty&) = delete;\n+    CCoinsViewEmpty& operator=(const CCoinsViewEmpty&) = delete;\n+\n+    std::optional<Coin> GetCoin(const COutPoint&) const override { return {}; }\n+    bool HaveCoin(const COutPoint&) const override { return false; }\n+    uint256 GetBestBlock() const override { return {}; }\n+    std::vector<uint256> GetHeadBlocks() const override { return {}; }\n+    bool BatchWrite(CoinsViewCacheCursor&, const uint256&) override { return false; }",
      "path": "src/coins.h",
      "position": 1,
      "original_position": 69,
      "commit_id": "b23d784b6baee140f75882fe009be5676db4cb0b",
      "original_commit_id": "b23d784b6baee140f75882fe009be5676db4cb0b",
      "in_reply_to_id": 2656574800,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> If we return false \r\n\r\nI expect this to be merged after https://github.com/bitcoin/bitcoin/pull/33866/files#diff-f0ed73d62dae6ca28ebd3045e5fc0d5d02eaaacadb4c2a292985a3fbd7e1c77cR19-R22, where there is no return value anymore.\r\n\r\n> Should we iterate through the cursor here to clear it\r\n\r\nThanks, done.",
      "created_at": "2026-01-01T20:43:04Z",
      "updated_at": "2026-01-01T20:43:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2656599768",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2656599768"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 359,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2656599790",
      "pull_request_review_id": 3622042662,
      "id": 2656599790,
      "node_id": "PRRC_kwDOABII586eWH7u",
      "diff_hunk": "@@ -303,58 +303,83 @@ struct CoinsViewCacheCursor\n     bool m_will_erase;\n };\n \n-/** Abstract view on the open txout dataset. */\n+/** Pure abstract view on the open txout dataset. */\n class CCoinsView\n {\n public:\n+    //! As we use CCoinsViews polymorphically, have a virtual destructor\n+    virtual ~CCoinsView() = default;\n+\n     //! Retrieve the Coin (unspent transaction output) for a given outpoint.\n-    virtual std::optional<Coin> GetCoin(const COutPoint& outpoint) const;\n+    virtual std::optional<Coin> GetCoin(const COutPoint& outpoint) const = 0;\n \n     //! Just check whether a given outpoint is unspent.\n-    virtual bool HaveCoin(const COutPoint &outpoint) const;\n+    virtual bool HaveCoin(const COutPoint& outpoint) const = 0;\n \n     //! Retrieve the block hash whose state this CCoinsView currently represents\n-    virtual uint256 GetBestBlock() const;\n+    virtual uint256 GetBestBlock() const = 0;\n \n     //! Retrieve the range of blocks that may have been only partially written.\n     //! If the database is in a consistent state, the result is the empty vector.\n     //! Otherwise, a two-element vector is returned consisting of the new and\n     //! the old block hash, in that order.\n-    virtual std::vector<uint256> GetHeadBlocks() const;\n+    virtual std::vector<uint256> GetHeadBlocks() const = 0;\n \n     //! Do a bulk modification (multiple Coin changes + BestBlock change).\n     //! The passed cursor is used to iterate through the coins.\n-    virtual bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256& hashBlock);\n+    virtual bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256& hashBlock) = 0;\n \n     //! Get a cursor to iterate over the whole state\n-    virtual std::unique_ptr<CCoinsViewCursor> Cursor() const;\n-\n-    //! As we use CCoinsViews polymorphically, have a virtual destructor\n-    virtual ~CCoinsView() = default;\n+    virtual std::unique_ptr<CCoinsViewCursor> Cursor() const = 0;\n \n-    //! Estimate database size (0 if not implemented)\n-    virtual size_t EstimateSize() const { return 0; }\n+    //! Estimate database size\n+    virtual size_t EstimateSize() const = 0;\n };\n \n+/** Noop coins view. */\n+class CCoinsViewEmpty final : public CCoinsView\n+{\n+private:\n+    CCoinsViewEmpty() = default;\n+\n+public:\n+    static CCoinsViewEmpty& Get()\n+    {\n+        static CCoinsViewEmpty instance;\n+        return instance;\n+    }\n+\n+    CCoinsViewEmpty(const CCoinsViewEmpty&) = delete;\n+    CCoinsViewEmpty& operator=(const CCoinsViewEmpty&) = delete;\n+\n+    std::optional<Coin> GetCoin(const COutPoint&) const override { return {}; }\n+    bool HaveCoin(const COutPoint&) const override { return false; }\n+    uint256 GetBestBlock() const override { return {}; }\n+    std::vector<uint256> GetHeadBlocks() const override { return {}; }\n+    bool BatchWrite(CoinsViewCacheCursor&, const uint256&) override { return false; }\n+    std::unique_ptr<CCoinsViewCursor> Cursor() const override { return {}; }\n+    size_t EstimateSize() const override { return 0; }\n+};\n \n /** CCoinsView backed by another CCoinsView */\n class CCoinsViewBacked : public CCoinsView\n {\n protected:\n-    CCoinsView *base;\n+    CCoinsView* base;\n \n public:\n-    CCoinsViewBacked(CCoinsView *viewIn);\n-    std::optional<Coin> GetCoin(const COutPoint& outpoint) const override;\n-    bool HaveCoin(const COutPoint &outpoint) const override;\n-    uint256 GetBestBlock() const override;\n-    std::vector<uint256> GetHeadBlocks() const override;\n-    void SetBackend(CCoinsView &viewIn);\n-    bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) override;\n-    std::unique_ptr<CCoinsViewCursor> Cursor() const override;\n-    size_t EstimateSize() const override;\n-};\n+    explicit CCoinsViewBacked(CCoinsView* viewIn) : base{Assert(viewIn)} {}",
      "path": "src/coins.h",
      "position": 1,
      "original_position": 92,
      "commit_id": "b23d784b6baee140f75882fe009be5676db4cb0b",
      "original_commit_id": "b23d784b6baee140f75882fe009be5676db4cb0b",
      "in_reply_to_id": 2656574925,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Done",
      "created_at": "2026-01-01T20:43:08Z",
      "updated_at": "2026-01-01T20:43:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2656599790",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2656599790"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 371,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2656599809",
      "pull_request_review_id": 3622042685,
      "id": 2656599809,
      "node_id": "PRRC_kwDOABII586eWH8B",
      "diff_hunk": "@@ -303,58 +303,83 @@ struct CoinsViewCacheCursor\n     bool m_will_erase;\n };\n \n-/** Abstract view on the open txout dataset. */\n+/** Pure abstract view on the open txout dataset. */\n class CCoinsView\n {\n public:\n+    //! As we use CCoinsViews polymorphically, have a virtual destructor\n+    virtual ~CCoinsView() = default;\n+\n     //! Retrieve the Coin (unspent transaction output) for a given outpoint.\n-    virtual std::optional<Coin> GetCoin(const COutPoint& outpoint) const;\n+    virtual std::optional<Coin> GetCoin(const COutPoint& outpoint) const = 0;\n \n     //! Just check whether a given outpoint is unspent.\n-    virtual bool HaveCoin(const COutPoint &outpoint) const;\n+    virtual bool HaveCoin(const COutPoint& outpoint) const = 0;\n \n     //! Retrieve the block hash whose state this CCoinsView currently represents\n-    virtual uint256 GetBestBlock() const;\n+    virtual uint256 GetBestBlock() const = 0;\n \n     //! Retrieve the range of blocks that may have been only partially written.\n     //! If the database is in a consistent state, the result is the empty vector.\n     //! Otherwise, a two-element vector is returned consisting of the new and\n     //! the old block hash, in that order.\n-    virtual std::vector<uint256> GetHeadBlocks() const;\n+    virtual std::vector<uint256> GetHeadBlocks() const = 0;\n \n     //! Do a bulk modification (multiple Coin changes + BestBlock change).\n     //! The passed cursor is used to iterate through the coins.\n-    virtual bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256& hashBlock);\n+    virtual bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256& hashBlock) = 0;\n \n     //! Get a cursor to iterate over the whole state\n-    virtual std::unique_ptr<CCoinsViewCursor> Cursor() const;\n-\n-    //! As we use CCoinsViews polymorphically, have a virtual destructor\n-    virtual ~CCoinsView() = default;\n+    virtual std::unique_ptr<CCoinsViewCursor> Cursor() const = 0;\n \n-    //! Estimate database size (0 if not implemented)\n-    virtual size_t EstimateSize() const { return 0; }\n+    //! Estimate database size\n+    virtual size_t EstimateSize() const = 0;\n };\n \n+/** Noop coins view. */\n+class CCoinsViewEmpty final : public CCoinsView\n+{\n+private:\n+    CCoinsViewEmpty() = default;\n+\n+public:\n+    static CCoinsViewEmpty& Get()\n+    {\n+        static CCoinsViewEmpty instance;\n+        return instance;\n+    }\n+\n+    CCoinsViewEmpty(const CCoinsViewEmpty&) = delete;\n+    CCoinsViewEmpty& operator=(const CCoinsViewEmpty&) = delete;\n+\n+    std::optional<Coin> GetCoin(const COutPoint&) const override { return {}; }\n+    bool HaveCoin(const COutPoint&) const override { return false; }\n+    uint256 GetBestBlock() const override { return {}; }\n+    std::vector<uint256> GetHeadBlocks() const override { return {}; }\n+    bool BatchWrite(CoinsViewCacheCursor&, const uint256&) override { return false; }\n+    std::unique_ptr<CCoinsViewCursor> Cursor() const override { return {}; }\n+    size_t EstimateSize() const override { return 0; }\n+};\n \n /** CCoinsView backed by another CCoinsView */\n class CCoinsViewBacked : public CCoinsView\n {\n protected:\n-    CCoinsView *base;\n+    CCoinsView* base;\n \n public:\n-    CCoinsViewBacked(CCoinsView *viewIn);\n-    std::optional<Coin> GetCoin(const COutPoint& outpoint) const override;\n-    bool HaveCoin(const COutPoint &outpoint) const override;\n-    uint256 GetBestBlock() const override;\n-    std::vector<uint256> GetHeadBlocks() const override;\n-    void SetBackend(CCoinsView &viewIn);\n-    bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) override;\n-    std::unique_ptr<CCoinsViewCursor> Cursor() const override;\n-    size_t EstimateSize() const override;\n-};\n+    explicit CCoinsViewBacked(CCoinsView* viewIn) : base{Assert(viewIn)} {}\n \n+    void SetBackend(CCoinsView& viewIn) { base = &viewIn; }",
      "path": "src/coins.h",
      "position": 1,
      "original_position": 94,
      "commit_id": "b23d784b6baee140f75882fe009be5676db4cb0b",
      "original_commit_id": "b23d784b6baee140f75882fe009be5676db4cb0b",
      "in_reply_to_id": 2656575022,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Done",
      "created_at": "2026-01-01T20:43:10Z",
      "updated_at": "2026-01-01T20:43:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2656599809",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2656599809"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 373,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2656599841",
      "pull_request_review_id": 3622042719,
      "id": 2656599841,
      "node_id": "PRRC_kwDOABII586eWH8h",
      "diff_hunk": "@@ -303,58 +303,83 @@ struct CoinsViewCacheCursor\n     bool m_will_erase;\n };\n \n-/** Abstract view on the open txout dataset. */\n+/** Pure abstract view on the open txout dataset. */\n class CCoinsView\n {\n public:\n+    //! As we use CCoinsViews polymorphically, have a virtual destructor\n+    virtual ~CCoinsView() = default;\n+\n     //! Retrieve the Coin (unspent transaction output) for a given outpoint.\n-    virtual std::optional<Coin> GetCoin(const COutPoint& outpoint) const;\n+    virtual std::optional<Coin> GetCoin(const COutPoint& outpoint) const = 0;\n \n     //! Just check whether a given outpoint is unspent.\n-    virtual bool HaveCoin(const COutPoint &outpoint) const;\n+    virtual bool HaveCoin(const COutPoint& outpoint) const = 0;\n \n     //! Retrieve the block hash whose state this CCoinsView currently represents\n-    virtual uint256 GetBestBlock() const;\n+    virtual uint256 GetBestBlock() const = 0;\n \n     //! Retrieve the range of blocks that may have been only partially written.\n     //! If the database is in a consistent state, the result is the empty vector.\n     //! Otherwise, a two-element vector is returned consisting of the new and\n     //! the old block hash, in that order.\n-    virtual std::vector<uint256> GetHeadBlocks() const;\n+    virtual std::vector<uint256> GetHeadBlocks() const = 0;\n \n     //! Do a bulk modification (multiple Coin changes + BestBlock change).\n     //! The passed cursor is used to iterate through the coins.\n-    virtual bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256& hashBlock);\n+    virtual bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256& hashBlock) = 0;\n \n     //! Get a cursor to iterate over the whole state\n-    virtual std::unique_ptr<CCoinsViewCursor> Cursor() const;\n-\n-    //! As we use CCoinsViews polymorphically, have a virtual destructor\n-    virtual ~CCoinsView() = default;\n+    virtual std::unique_ptr<CCoinsViewCursor> Cursor() const = 0;\n \n-    //! Estimate database size (0 if not implemented)\n-    virtual size_t EstimateSize() const { return 0; }\n+    //! Estimate database size\n+    virtual size_t EstimateSize() const = 0;\n };\n \n+/** Noop coins view. */\n+class CCoinsViewEmpty final : public CCoinsView\n+{\n+private:\n+    CCoinsViewEmpty() = default;\n+\n+public:\n+    static CCoinsViewEmpty& Get()\n+    {\n+        static CCoinsViewEmpty instance;\n+        return instance;\n+    }\n+\n+    CCoinsViewEmpty(const CCoinsViewEmpty&) = delete;\n+    CCoinsViewEmpty& operator=(const CCoinsViewEmpty&) = delete;\n+\n+    std::optional<Coin> GetCoin(const COutPoint&) const override { return {}; }\n+    bool HaveCoin(const COutPoint&) const override { return false; }\n+    uint256 GetBestBlock() const override { return {}; }\n+    std::vector<uint256> GetHeadBlocks() const override { return {}; }\n+    bool BatchWrite(CoinsViewCacheCursor&, const uint256&) override { return false; }\n+    std::unique_ptr<CCoinsViewCursor> Cursor() const override { return {}; }\n+    size_t EstimateSize() const override { return 0; }\n+};\n \n /** CCoinsView backed by another CCoinsView */\n class CCoinsViewBacked : public CCoinsView\n {\n protected:\n-    CCoinsView *base;\n+    CCoinsView* base;\n \n public:\n-    CCoinsViewBacked(CCoinsView *viewIn);\n-    std::optional<Coin> GetCoin(const COutPoint& outpoint) const override;\n-    bool HaveCoin(const COutPoint &outpoint) const override;\n-    uint256 GetBestBlock() const override;\n-    std::vector<uint256> GetHeadBlocks() const override;\n-    void SetBackend(CCoinsView &viewIn);\n-    bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) override;\n-    std::unique_ptr<CCoinsViewCursor> Cursor() const override;\n-    size_t EstimateSize() const override;\n-};\n+    explicit CCoinsViewBacked(CCoinsView* viewIn) : base{Assert(viewIn)} {}\n \n+    void SetBackend(CCoinsView& viewIn) { base = &viewIn; }\n+\n+    std::optional<Coin> GetCoin(const COutPoint& outpoint) const override { return base->GetCoin(outpoint); }\n+    bool HaveCoin(const COutPoint& outpoint) const override { return base->HaveCoin(outpoint); }\n+    uint256 GetBestBlock() const override { return base->GetBestBlock(); }\n+    std::vector<uint256> GetHeadBlocks() const override { return base->GetHeadBlocks(); }\n+    bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256& hashBlock) override { return base->BatchWrite(cursor, hashBlock); }",
      "path": "src/coins.h",
      "position": 1,
      "original_position": 100,
      "commit_id": "b23d784b6baee140f75882fe009be5676db4cb0b",
      "original_commit_id": "b23d784b6baee140f75882fe009be5676db4cb0b",
      "in_reply_to_id": 2656575277,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Done",
      "created_at": "2026-01-01T20:43:15Z",
      "updated_at": "2026-01-01T20:43:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2656599841",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2656599841"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 379,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2656602352",
      "pull_request_review_id": 3622044422,
      "id": 2656602352,
      "node_id": "PRRC_kwDOABII586eWIjw",
      "diff_hunk": "@@ -93,10 +93,11 @@ void TestCoinsView(FuzzedDataProvider& fuzzed_data_provider, CCoinsView& backend\n                 coins_view_cache.Uncache(random_out_point);\n             },\n             [&] {\n-                if (fuzzed_data_provider.ConsumeBool()) {\n-                    backend_coins_view = CCoinsView{};\n+                if (is_db || fuzzed_data_provider.ConsumeBool()) {",
      "path": "src/test/fuzz/coins_view.cpp",
      "position": 1,
      "original_position": 6,
      "commit_id": "50245cadd68c3345c551cd65f878e9c7ca3ae1a4",
      "original_commit_id": "b23d784b6baee140f75882fe009be5676db4cb0b",
      "in_reply_to_id": 2656592223,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Can you explain why you think so? If we have a database backing the cache than we should switch it to another one? in https://github.com/bitcoin/bitcoin/blob/7817197cf2eb07aae32a6f67408c4493a57ea465/src/validation.cpp#L880 we have a normal db switched to an empty one. Here we're either setting the provided `backend_coins_view` or creating a new one - is that not what you think we should do?",
      "created_at": "2026-01-01T20:49:04Z",
      "updated_at": "2026-01-01T20:49:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2656602352",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2656602352"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 96,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2656602847",
      "pull_request_review_id": 3622044687,
      "id": 2656602847,
      "node_id": "PRRC_kwDOABII586eWIrf",
      "diff_hunk": "@@ -13,31 +13,11 @@ TRACEPOINT_SEMAPHORE(utxocache, add);\n TRACEPOINT_SEMAPHORE(utxocache, spent);\n TRACEPOINT_SEMAPHORE(utxocache, uncache);\n \n-std::optional<Coin> CCoinsView::GetCoin(const COutPoint& outpoint) const { return std::nullopt; }\n-uint256 CCoinsView::GetBestBlock() const { return uint256(); }\n-std::vector<uint256> CCoinsView::GetHeadBlocks() const { return std::vector<uint256>(); }\n-bool CCoinsView::BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) { return false; }\n-std::unique_ptr<CCoinsViewCursor> CCoinsView::Cursor() const { return nullptr; }\n-\n-bool CCoinsView::HaveCoin(const COutPoint &outpoint) const\n-{\n-    return GetCoin(outpoint).has_value();\n-}\n-\n-CCoinsViewBacked::CCoinsViewBacked(CCoinsView *viewIn) : base(viewIn) { }\n-std::optional<Coin> CCoinsViewBacked::GetCoin(const COutPoint& outpoint) const { return base->GetCoin(outpoint); }\n-bool CCoinsViewBacked::HaveCoin(const COutPoint &outpoint) const { return base->HaveCoin(outpoint); }\n-uint256 CCoinsViewBacked::GetBestBlock() const { return base->GetBestBlock(); }\n-std::vector<uint256> CCoinsViewBacked::GetHeadBlocks() const { return base->GetHeadBlocks(); }\n-void CCoinsViewBacked::SetBackend(CCoinsView &viewIn) { base = &viewIn; }\n-bool CCoinsViewBacked::BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) { return base->BatchWrite(cursor, hashBlock); }\n-std::unique_ptr<CCoinsViewCursor> CCoinsViewBacked::Cursor() const { return base->Cursor(); }\n-size_t CCoinsViewBacked::EstimateSize() const { return base->EstimateSize(); }\n-\n CCoinsViewCache::CCoinsViewCache(CCoinsView* baseIn, bool deterministic) :\n     CCoinsViewBacked(baseIn), m_deterministic(deterministic),\n     cacheCoins(0, SaltedOutpointHasher(/*deterministic=*/deterministic), CCoinsMap::key_equal{}, &m_cache_coins_memory_resource)\n {\n+    (void)base->GetBestBlock(); // Sanity check validity of base",
      "path": "src/coins.cpp",
      "position": 1,
      "original_position": 29,
      "commit_id": "a69ea84b83d22c66ddeeba6d27b761036d6fec40",
      "original_commit_id": "784769b5b1a8465d1a09ec489a303c4616d11896",
      "in_reply_to_id": 2650234336,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "The reason is explain in the commit message:\r\n> In a follow-up `m_dummy` will be completely removed, this commit was meant to demonstrate why that was necessary.\r\n\r\nI.e. I don't want the fix to be accidental - fix first, replace after.",
      "created_at": "2026-01-01T20:50:03Z",
      "updated_at": "2026-01-01T20:50:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2656602847",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2656602847"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2656604510",
      "pull_request_review_id": 3622045880,
      "id": 2656604510,
      "node_id": "PRRC_kwDOABII586eWJFe",
      "diff_hunk": "@@ -93,10 +93,11 @@ void TestCoinsView(FuzzedDataProvider& fuzzed_data_provider, CCoinsView& backend\n                 coins_view_cache.Uncache(random_out_point);\n             },\n             [&] {\n-                if (fuzzed_data_provider.ConsumeBool()) {\n-                    backend_coins_view = CCoinsView{};\n+                if (is_db || fuzzed_data_provider.ConsumeBool()) {",
      "path": "src/test/fuzz/coins_view.cpp",
      "position": 1,
      "original_position": 6,
      "commit_id": "50245cadd68c3345c551cd65f878e9c7ca3ae1a4",
      "original_commit_id": "b23d784b6baee140f75882fe009be5676db4cb0b",
      "in_reply_to_id": 2656592223,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "We are making assertions on `backend_coins_view` below, where we assume it is what is set as the backend of `coins_view_cache`. So if we set the backend as the empty view singleton and don't update `backend_coins_view` those assertions will fail.",
      "created_at": "2026-01-01T20:54:23Z",
      "updated_at": "2026-01-01T20:54:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2656604510",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2656604510"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 96,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2656605146",
      "pull_request_review_id": 3622046185,
      "id": 2656605146,
      "node_id": "PRRC_kwDOABII586eWJPa",
      "diff_hunk": "@@ -13,31 +13,11 @@ TRACEPOINT_SEMAPHORE(utxocache, add);\n TRACEPOINT_SEMAPHORE(utxocache, spent);\n TRACEPOINT_SEMAPHORE(utxocache, uncache);\n \n-std::optional<Coin> CCoinsView::GetCoin(const COutPoint& outpoint) const { return std::nullopt; }\n-uint256 CCoinsView::GetBestBlock() const { return uint256(); }\n-std::vector<uint256> CCoinsView::GetHeadBlocks() const { return std::vector<uint256>(); }\n-bool CCoinsView::BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) { return false; }\n-std::unique_ptr<CCoinsViewCursor> CCoinsView::Cursor() const { return nullptr; }\n-\n-bool CCoinsView::HaveCoin(const COutPoint &outpoint) const\n-{\n-    return GetCoin(outpoint).has_value();\n-}\n-\n-CCoinsViewBacked::CCoinsViewBacked(CCoinsView *viewIn) : base(viewIn) { }\n-std::optional<Coin> CCoinsViewBacked::GetCoin(const COutPoint& outpoint) const { return base->GetCoin(outpoint); }\n-bool CCoinsViewBacked::HaveCoin(const COutPoint &outpoint) const { return base->HaveCoin(outpoint); }\n-uint256 CCoinsViewBacked::GetBestBlock() const { return base->GetBestBlock(); }\n-std::vector<uint256> CCoinsViewBacked::GetHeadBlocks() const { return base->GetHeadBlocks(); }\n-void CCoinsViewBacked::SetBackend(CCoinsView &viewIn) { base = &viewIn; }\n-bool CCoinsViewBacked::BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) { return base->BatchWrite(cursor, hashBlock); }\n-std::unique_ptr<CCoinsViewCursor> CCoinsViewBacked::Cursor() const { return base->Cursor(); }\n-size_t CCoinsViewBacked::EstimateSize() const { return base->EstimateSize(); }\n-\n CCoinsViewCache::CCoinsViewCache(CCoinsView* baseIn, bool deterministic) :\n     CCoinsViewBacked(baseIn), m_deterministic(deterministic),\n     cacheCoins(0, SaltedOutpointHasher(/*deterministic=*/deterministic), CCoinsMap::key_equal{}, &m_cache_coins_memory_resource)\n {\n+    (void)base->GetBestBlock(); // Sanity check validity of base",
      "path": "src/coins.cpp",
      "position": 1,
      "original_position": 29,
      "commit_id": "a69ea84b83d22c66ddeeba6d27b761036d6fec40",
      "original_commit_id": "784769b5b1a8465d1a09ec489a303c4616d11896",
      "in_reply_to_id": 2650234336,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "But it's not necessary. There is no UB unless you add this commit.",
      "created_at": "2026-01-01T20:55:26Z",
      "updated_at": "2026-01-01T20:55:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2656605146",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2656605146"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2656611435",
      "pull_request_review_id": 3622050508,
      "id": 2656611435,
      "node_id": "PRRC_kwDOABII586eWKxr",
      "diff_hunk": "@@ -93,10 +93,11 @@ void TestCoinsView(FuzzedDataProvider& fuzzed_data_provider, CCoinsView& backend\n                 coins_view_cache.Uncache(random_out_point);\n             },\n             [&] {\n-                if (fuzzed_data_provider.ConsumeBool()) {\n-                    backend_coins_view = CCoinsView{};\n+                if (is_db || fuzzed_data_provider.ConsumeBool()) {",
      "path": "src/test/fuzz/coins_view.cpp",
      "position": 1,
      "original_position": 6,
      "commit_id": "50245cadd68c3345c551cd65f878e9c7ca3ae1a4",
      "original_commit_id": "b23d784b6baee140f75882fe009be5676db4cb0b",
      "in_reply_to_id": 2656592223,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Edit: [pushed](https://github.com/bitcoin/bitcoin/compare/50245cadd68c3345c551cd65f878e9c7ca3ae1a4..e3d4435b94ff7a1153d06e3e6bb709431b18b76b#diff-1ef3b6a1936b50f3d5ec4a1786d9e2d63d1a3e1815b103e67f20601995f355b4R96) something, what do you think?",
      "created_at": "2026-01-01T21:09:35Z",
      "updated_at": "2026-01-01T21:37:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2656611435",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2656611435"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 96,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2658905806",
      "pull_request_review_id": 3624327337,
      "id": 2658905806,
      "node_id": "PRRC_kwDOABII586ee67O",
      "diff_hunk": "@@ -303,58 +303,83 @@ struct CoinsViewCacheCursor\n     bool m_will_erase;\n };\n \n-/** Abstract view on the open txout dataset. */\n+/** Pure abstract view on the open txout dataset. */\n class CCoinsView\n {\n public:\n+    //! As we use CCoinsViews polymorphically, have a virtual destructor\n+    virtual ~CCoinsView() = default;\n+\n     //! Retrieve the Coin (unspent transaction output) for a given outpoint.\n-    virtual std::optional<Coin> GetCoin(const COutPoint& outpoint) const;\n+    virtual std::optional<Coin> GetCoin(const COutPoint& outpoint) const = 0;\n \n     //! Just check whether a given outpoint is unspent.\n-    virtual bool HaveCoin(const COutPoint &outpoint) const;\n+    virtual bool HaveCoin(const COutPoint& outpoint) const = 0;\n \n     //! Retrieve the block hash whose state this CCoinsView currently represents\n-    virtual uint256 GetBestBlock() const;\n+    virtual uint256 GetBestBlock() const = 0;\n \n     //! Retrieve the range of blocks that may have been only partially written.\n     //! If the database is in a consistent state, the result is the empty vector.\n     //! Otherwise, a two-element vector is returned consisting of the new and\n     //! the old block hash, in that order.\n-    virtual std::vector<uint256> GetHeadBlocks() const;\n+    virtual std::vector<uint256> GetHeadBlocks() const = 0;\n \n     //! Do a bulk modification (multiple Coin changes + BestBlock change).\n     //! The passed cursor is used to iterate through the coins.\n-    virtual bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256& hashBlock);\n+    virtual bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256& hashBlock) = 0;\n \n     //! Get a cursor to iterate over the whole state\n-    virtual std::unique_ptr<CCoinsViewCursor> Cursor() const;\n-\n-    //! As we use CCoinsViews polymorphically, have a virtual destructor\n-    virtual ~CCoinsView() = default;\n+    virtual std::unique_ptr<CCoinsViewCursor> Cursor() const = 0;\n \n-    //! Estimate database size (0 if not implemented)\n-    virtual size_t EstimateSize() const { return 0; }\n+    //! Estimate database size\n+    virtual size_t EstimateSize() const = 0;\n };\n \n+/** Noop coins view. */\n+class CCoinsViewEmpty final : public CCoinsView\n+{\n+private:\n+    CCoinsViewEmpty() = default;\n+\n+public:\n+    static CCoinsViewEmpty& Get()\n+    {\n+        static CCoinsViewEmpty instance;\n+        return instance;\n+    }\n+\n+    CCoinsViewEmpty(const CCoinsViewEmpty&) = delete;\n+    CCoinsViewEmpty& operator=(const CCoinsViewEmpty&) = delete;\n+\n+    std::optional<Coin> GetCoin(const COutPoint&) const override { return {}; }\n+    bool HaveCoin(const COutPoint&) const override { return false; }\n+    uint256 GetBestBlock() const override { return {}; }\n+    std::vector<uint256> GetHeadBlocks() const override { return {}; }\n+    bool BatchWrite(CoinsViewCacheCursor&, const uint256&) override { return false; }\n+    std::unique_ptr<CCoinsViewCursor> Cursor() const override { return {}; }\n+    size_t EstimateSize() const override { return 0; }\n+};\n \n /** CCoinsView backed by another CCoinsView */\n class CCoinsViewBacked : public CCoinsView\n {\n protected:\n-    CCoinsView *base;\n+    CCoinsView* base;\n \n public:\n-    CCoinsViewBacked(CCoinsView *viewIn);\n-    std::optional<Coin> GetCoin(const COutPoint& outpoint) const override;\n-    bool HaveCoin(const COutPoint &outpoint) const override;\n-    uint256 GetBestBlock() const override;\n-    std::vector<uint256> GetHeadBlocks() const override;\n-    void SetBackend(CCoinsView &viewIn);\n-    bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) override;\n-    std::unique_ptr<CCoinsViewCursor> Cursor() const override;\n-    size_t EstimateSize() const override;\n-};\n+    explicit CCoinsViewBacked(CCoinsView* viewIn) : base{Assert(viewIn)} {}\n \n+    void SetBackend(CCoinsView& viewIn) { base = &viewIn; }\n+\n+    std::optional<Coin> GetCoin(const COutPoint& outpoint) const override { return base->GetCoin(outpoint); }\n+    bool HaveCoin(const COutPoint& outpoint) const override { return base->HaveCoin(outpoint); }\n+    uint256 GetBestBlock() const override { return base->GetBestBlock(); }\n+    std::vector<uint256> GetHeadBlocks() const override { return base->GetHeadBlocks(); }\n+    bool BatchWrite(CoinsViewCacheCursor& cursor, const uint256& hashBlock) override { return base->BatchWrite(cursor, hashBlock); }",
      "path": "src/coins.h",
      "position": 1,
      "original_position": 100,
      "commit_id": "b23d784b6baee140f75882fe009be5676db4cb0b",
      "original_commit_id": "b23d784b6baee140f75882fe009be5676db4cb0b",
      "in_reply_to_id": 2656575277,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Separated the renames and simple moves to a completely new commit to simplify review",
      "created_at": "2026-01-03T12:46:58Z",
      "updated_at": "2026-01-03T12:46:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2658905806",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2658905806"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 379,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2658906983",
      "pull_request_review_id": 3624328096,
      "id": 2658906983,
      "node_id": "PRRC_kwDOABII586ee7Nn",
      "diff_hunk": "@@ -13,31 +13,11 @@ TRACEPOINT_SEMAPHORE(utxocache, add);\n TRACEPOINT_SEMAPHORE(utxocache, spent);\n TRACEPOINT_SEMAPHORE(utxocache, uncache);\n \n-std::optional<Coin> CCoinsView::GetCoin(const COutPoint& outpoint) const { return std::nullopt; }\n-uint256 CCoinsView::GetBestBlock() const { return uint256(); }\n-std::vector<uint256> CCoinsView::GetHeadBlocks() const { return std::vector<uint256>(); }\n-bool CCoinsView::BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) { return false; }\n-std::unique_ptr<CCoinsViewCursor> CCoinsView::Cursor() const { return nullptr; }\n-\n-bool CCoinsView::HaveCoin(const COutPoint &outpoint) const\n-{\n-    return GetCoin(outpoint).has_value();\n-}\n-\n-CCoinsViewBacked::CCoinsViewBacked(CCoinsView *viewIn) : base(viewIn) { }\n-std::optional<Coin> CCoinsViewBacked::GetCoin(const COutPoint& outpoint) const { return base->GetCoin(outpoint); }\n-bool CCoinsViewBacked::HaveCoin(const COutPoint &outpoint) const { return base->HaveCoin(outpoint); }\n-uint256 CCoinsViewBacked::GetBestBlock() const { return base->GetBestBlock(); }\n-std::vector<uint256> CCoinsViewBacked::GetHeadBlocks() const { return base->GetHeadBlocks(); }\n-void CCoinsViewBacked::SetBackend(CCoinsView &viewIn) { base = &viewIn; }\n-bool CCoinsViewBacked::BatchWrite(CoinsViewCacheCursor& cursor, const uint256 &hashBlock) { return base->BatchWrite(cursor, hashBlock); }\n-std::unique_ptr<CCoinsViewCursor> CCoinsViewBacked::Cursor() const { return base->Cursor(); }\n-size_t CCoinsViewBacked::EstimateSize() const { return base->EstimateSize(); }\n-\n CCoinsViewCache::CCoinsViewCache(CCoinsView* baseIn, bool deterministic) :\n     CCoinsViewBacked(baseIn), m_deterministic(deterministic),\n     cacheCoins(0, SaltedOutpointHasher(/*deterministic=*/deterministic), CCoinsMap::key_equal{}, &m_cache_coins_memory_resource)\n {\n+    (void)base->GetBestBlock(); // Sanity check validity of base",
      "path": "src/coins.cpp",
      "position": 1,
      "original_position": 29,
      "commit_id": "a69ea84b83d22c66ddeeba6d27b761036d6fec40",
      "original_commit_id": "784769b5b1a8465d1a09ec489a303c4616d11896",
      "in_reply_to_id": 2650234336,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Yes, that's why I added that commit to demonstrate that we're fixing a potential UB as well here.\r\nIt *may* not be UB currently since it *may* not be triggered by any compiler we're using currently - but I don't want to think about those, it's why I'm demonstrating the problem explicitly.",
      "created_at": "2026-01-03T12:49:43Z",
      "updated_at": "2026-01-03T12:49:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2658906983",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2658906983"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2766083950",
      "pull_request_review_id": 3753423708,
      "id": 2766083950,
      "node_id": "PRRC_kwDOABII586k3xdu",
      "diff_hunk": "@@ -43,6 +43,7 @@ CCoinsViewCache::CCoinsViewCache(CCoinsView* baseIn, bool deterministic) :\n     CCoinsViewBacked(baseIn), m_deterministic(deterministic),\n     cacheCoins(0, SaltedOutpointHasher(/*deterministic=*/deterministic), CCoinsMap::key_equal{}, &m_cache_coins_memory_resource)\n {\n+    (void)base->GetBestBlock(); // Sanity check validity of base",
      "path": "src/coins.cpp",
      "position": 1,
      "original_position": 4,
      "commit_id": "4f44250955c6429a338027e2606c5c33a473a366",
      "original_commit_id": "4f44250955c6429a338027e2606c5c33a473a366",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \"validation: fix `MemPoolAccept` member init order\" (4f44250955c6429a338027e2606c5c33a473a366)\r\n\r\nI think it would be better to drop this line or add a comment explaining why it is important for `base` to point to a view object that is fully initialized.\r\n\r\nIt seems like it should be OK to pass a pointer to a partially initialized view object to this constructor, as long as the constructor is just initializing itself and not doing lookups.\r\n\r\nI guess I'm curious what the original bug was that motivated this change, because it seems like this commit is essentially adding a bug and fixing it at the same time.\r\n\r\n",
      "created_at": "2026-02-04T21:37:50Z",
      "updated_at": "2026-02-04T23:18:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2766083950",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2766083950"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 46,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2766093722",
      "pull_request_review_id": 3753423708,
      "id": 2766093722,
      "node_id": "PRRC_kwDOABII586k3z2a",
      "diff_hunk": "@@ -720,6 +720,11 @@ class MemPoolAccept\n     }\n \n private:\n+    /** When m_view is connected to m_dummy, it can no longer look up coins from the mempool or UTXO set (meaning no disk\n+     * operations happen), but can still return coins it accessed previously. Useful for keeping track of which coins\n+     * were pulled from disk. */\n+    CCoinsView m_dummy;",
      "path": "src/validation.cpp",
      "position": 1,
      "original_position": 7,
      "commit_id": "4f44250955c6429a338027e2606c5c33a473a366",
      "original_commit_id": "4f44250955c6429a338027e2606c5c33a473a366",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \"validation: fix `MemPoolAccept` member init order\" (4f44250955c6429a338027e2606c5c33a473a366)\n\nFeels like a more logical place for this would be directly before `m_view` since `m_view` is the object which depends on it.",
      "created_at": "2026-02-04T21:40:08Z",
      "updated_at": "2026-02-04T23:18:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2766093722",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2766093722"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 726,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2766105394",
      "pull_request_review_id": 3753423708,
      "id": 2766105394,
      "node_id": "PRRC_kwDOABII586k32sy",
      "diff_hunk": "",
      "path": "src/validation.cpp",
      "position": 1,
      "original_position": 1,
      "commit_id": "4f44250955c6429a338027e2606c5c33a473a366",
      "original_commit_id": "4f44250955c6429a338027e2606c5c33a473a366",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \"validation: fix `MemPoolAccept` member init order\" (4f44250955c6429a338027e2606c5c33a473a366)\r\n\r\nCan this be changed to `m_view{&m_dummy}`? This would make it obvious that `m_view` depends on `m_dummy`",
      "created_at": "2026-02-04T21:42:40Z",
      "updated_at": "2026-02-04T23:18:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2766105394",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2766105394"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 737,
      "original_line": 737,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2766244892",
      "pull_request_review_id": 3753423708,
      "id": 2766244892,
      "node_id": "PRRC_kwDOABII586k4Ywc",
      "diff_hunk": "@@ -330,6 +330,33 @@ class CCoinsView\n     virtual size_t EstimateSize() const { return 0; }\n };\n \n+/** Noop coins view. */\n+class CCoinsViewEmpty final : public CCoinsView\n+{\n+private:\n+    CCoinsViewEmpty() = default;\n+\n+public:\n+    static CCoinsViewEmpty& Get()\n+    {\n+        static CCoinsViewEmpty instance;\n+        return instance;\n+    }\n+\n+    CCoinsViewEmpty(const CCoinsViewEmpty&) = delete;\n+    CCoinsViewEmpty& operator=(const CCoinsViewEmpty&) = delete;\n+\n+    std::optional<Coin> GetCoin(const COutPoint&) const override { return {}; }\n+    bool HaveCoin(const COutPoint&) const override { return false; }\n+    uint256 GetBestBlock() const override { return {}; }",
      "path": "src/coins.h",
      "position": 76,
      "original_position": 22,
      "commit_id": "4fdcf62bb56c0549dfff1f812a6ce880c42f5989",
      "original_commit_id": "9e08e4881ea02120573480f22bc2082dd8f57f6e",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \"refactor: add `CCoinsViewEmpty` as a noop implementation for base and testing\" (9e08e4881ea02120573480f22bc2082dd8f57f6e)\r\n\r\ni guess all of these methods are copied from `CCoinsView` but it seems like the implementation of this class contains some footguns. \r\n\r\nFor example the `MemPoolAccept::PreChecks` sets the `CCoinsViewEmpty` as the `m_view` backend and immediately does:\r\n\r\n```c++\r\nassert(m_active_chainstate.m_blockman.LookupBlockIndex(m_view.GetBestBlock()) == m_active_chainstate.m_chain.Tip());\r\n```\r\n\r\nEven though `m_view.GetBestBlock()` can call this method and it will return a fake value. It would seem better either to give CCoinsViewEmpty a best block member and have `GetBestBlock` return a real value, or to make it an error to call `GetBestBlock` by asserting false or raising logic_error(\"not implemented\") or something like that. There is precedent for the latter:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/4ae00e9a7183cb15877c3014bf46f2e36470c304/src/coins.h#L393-L395\r\n\r\nSimilarly the `BatchWrite` implementation seems error prone since it uses the cursor argument, but drops the best block argument. Unless something actually needs that implementation, it would seem better for it to be an error to call that method.\r\n\r\nThese are pre-existing problems and the commit doesn't make them worse, but they might be worth addressing later, or here if they could be addressed simply.\r\n\r\n",
      "created_at": "2026-02-04T22:26:44Z",
      "updated_at": "2026-02-04T23:18:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2766244892",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2766244892"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 351,
      "original_line": 351,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2766253652",
      "pull_request_review_id": 3753423708,
      "id": 2766253652,
      "node_id": "PRRC_kwDOABII586k4a5U",
      "diff_hunk": "@@ -43,7 +43,6 @@ CCoinsViewCache::CCoinsViewCache(CCoinsView* base_in, bool deterministic) :\n     CCoinsViewBacked(base_in), m_deterministic(deterministic),\n     cacheCoins(0, SaltedOutpointHasher(/*deterministic=*/deterministic), CCoinsMap::key_equal{}, &m_cache_coins_memory_resource)\n {\n-    (void)base->GetBestBlock(); // Sanity check validity of base",
      "path": "src/coins.cpp",
      "position": 1,
      "original_position": 4,
      "commit_id": "9e08e4881ea02120573480f22bc2082dd8f57f6e",
      "original_commit_id": "9e08e4881ea02120573480f22bc2082dd8f57f6e",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \"refactor: add `CCoinsViewEmpty` as a noop implementation for base and testing\" (9e08e4881ea02120573480f22bc2082dd8f57f6e)\n\nUnclear why this line is being deleted this commit. Might be worth mentioning in commit message if it is was needed earlier but is redundant now, or something like that.",
      "created_at": "2026-02-04T22:29:47Z",
      "updated_at": "2026-02-04T23:18:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2766253652",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2766253652"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 46,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2766285633",
      "pull_request_review_id": 3753423708,
      "id": 2766285633,
      "node_id": "PRRC_kwDOABII586k4itB",
      "diff_hunk": "@@ -14,14 +14,7 @@ TRACEPOINT_SEMAPHORE(utxocache, add);\n TRACEPOINT_SEMAPHORE(utxocache, spent);\n TRACEPOINT_SEMAPHORE(utxocache, uncache);\n \n-std::optional<Coin> CCoinsView::GetCoin(const COutPoint& outpoint) const { return std::nullopt; }",
      "path": "src/coins.cpp",
      "position": 4,
      "original_position": 4,
      "commit_id": "4fdcf62bb56c0549dfff1f812a6ce880c42f5989",
      "original_commit_id": "95f2f8b2d36509f06d0de84463f260040be80029",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \"refactor: make `GetCoin`, `GetBestBlock`, and `BatchWrite` purely virtual in `CCoinsView`\" (95f2f8b2d36509f06d0de84463f260040be80029)\r\n\r\nIMO, this PR would be easier to understand and verify if code moved within single commits instead of being duplicated in an earlier commit and then deleted by later ones.\r\n\r\nThat is, I think it would be better if earlier commit \"refactor: add `CCoinsViewEmpty`\" just inherited `GetCoin()`, and similar methods instead of duplicating them. Then the methods could be moved in these later commits and it would be more obvious the implementations were not changing.\r\n\r\n\r\n\r\n\r\n\r\n",
      "created_at": "2026-02-04T22:42:12Z",
      "updated_at": "2026-02-04T23:18:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2766285633",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2766285633"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 17,
      "original_line": 17,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2766288640",
      "pull_request_review_id": 3753423708,
      "id": 2766288640,
      "node_id": "PRRC_kwDOABII586k4jcA",
      "diff_hunk": "@@ -156,7 +156,7 @@ class CoinsViewBottom final : public CCoinsView\n     uint256 GetBestBlock() const final { return {}; }\n     std::vector<uint256> GetHeadBlocks() const final { return {}; }\n     std::unique_ptr<CCoinsViewCursor> Cursor() const final { return {}; }\n-    size_t EstimateSize() const final { return m_data.size(); }\n+    size_t EstimateSize() const override { return m_data.size(); }",
      "path": "src/test/fuzz/coinscache_sim.cpp",
      "position": 1,
      "original_position": 5,
      "commit_id": "5a6542a0a377b9efa7a921eb15df8476b7136ee6",
      "original_commit_id": "5a6542a0a377b9efa7a921eb15df8476b7136ee6",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit \"refactor: make `CCoinsView::EstimateSize` purely virtual\" (5a6542a0a377b9efa7a921eb15df8476b7136ee6)\n\nCurious why this was changed",
      "created_at": "2026-02-04T22:43:19Z",
      "updated_at": "2026-02-04T23:18:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2766288640",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2766288640"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": 158,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 159,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2774680856",
      "pull_request_review_id": 3763694331,
      "id": 2774680856,
      "node_id": "PRRC_kwDOABII586lYkUY",
      "diff_hunk": "@@ -43,7 +43,6 @@ CCoinsViewCache::CCoinsViewCache(CCoinsView* base_in, bool deterministic) :\n     CCoinsViewBacked(base_in), m_deterministic(deterministic),\n     cacheCoins(0, SaltedOutpointHasher(/*deterministic=*/deterministic), CCoinsMap::key_equal{}, &m_cache_coins_memory_resource)\n {\n-    (void)base->GetBestBlock(); // Sanity check validity of base",
      "path": "src/coins.cpp",
      "position": 1,
      "original_position": 4,
      "commit_id": "9e08e4881ea02120573480f22bc2082dd8f57f6e",
      "original_commit_id": "9e08e4881ea02120573480f22bc2082dd8f57f6e",
      "in_reply_to_id": 2766253652,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "The commit message mentions this explicitly:\r\n> Also removed the sanity check from `CCoinsViewCache` constructor since the initialization isn't done via a local field anymore.\r\n\r\nDo you think I should make it even more explicit?",
      "created_at": "2026-02-06T15:21:03Z",
      "updated_at": "2026-02-06T16:39:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2774680856",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2774680856"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 46,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2774972635",
      "pull_request_review_id": 3764001223,
      "id": 2774972635,
      "node_id": "PRRC_kwDOABII586lZrjb",
      "diff_hunk": "@@ -330,6 +330,33 @@ class CCoinsView\n     virtual size_t EstimateSize() const { return 0; }\n };\n \n+/** Noop coins view. */\n+class CCoinsViewEmpty final : public CCoinsView\n+{\n+private:\n+    CCoinsViewEmpty() = default;\n+\n+public:\n+    static CCoinsViewEmpty& Get()\n+    {\n+        static CCoinsViewEmpty instance;\n+        return instance;\n+    }\n+\n+    CCoinsViewEmpty(const CCoinsViewEmpty&) = delete;\n+    CCoinsViewEmpty& operator=(const CCoinsViewEmpty&) = delete;\n+\n+    std::optional<Coin> GetCoin(const COutPoint&) const override { return {}; }\n+    bool HaveCoin(const COutPoint&) const override { return false; }\n+    uint256 GetBestBlock() const override { return {}; }",
      "path": "src/coins.h",
      "position": 76,
      "original_position": 22,
      "commit_id": "4fdcf62bb56c0549dfff1f812a6ce880c42f5989",
      "original_commit_id": "9e08e4881ea02120573480f22bc2082dd8f57f6e",
      "in_reply_to_id": 2766244892,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> Even though m_view.GetBestBlock() can call this method and it will return a fake value\r\n\r\nYeah, that fake getter lazy init was always super-smelly.\r\nI added a commit before the `CCoinsViewEmpty` change that stores `best_block` before switching to the empty backend, then asserts against the stored value. This avoids relying on `CCoinsViewEmpty::GetBestBlock()` in `PreChecks`.\r\nI added you as co-author, thanks for this suggestion.\r\n\r\n> These are pre-existing problems and the commit doesn't make them worse,\r\n\r\nMy understanding is that the throw/default behavior weirdness is a workaround for a lack of a segregated interfaces with focused behavior coverage.\r\nI am planning on investigating that after we clean these up, but seems a bit more involved and dangerous at this stage to add throws where previous code was just returning dummy values. I fully agree that it's messy, it's what motivated me to clean this area up, but seems a bit premature to me to change this yet - please let me know if you disagree, I hope I'm wrong, I would love to add additional cleanups here.",
      "created_at": "2026-02-06T16:30:01Z",
      "updated_at": "2026-02-06T16:38:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2774972635",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2774972635"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 351,
      "original_line": 351,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2774975617",
      "pull_request_review_id": 3764003707,
      "id": 2774975617,
      "node_id": "PRRC_kwDOABII586lZsSB",
      "diff_hunk": "@@ -14,14 +14,7 @@ TRACEPOINT_SEMAPHORE(utxocache, add);\n TRACEPOINT_SEMAPHORE(utxocache, spent);\n TRACEPOINT_SEMAPHORE(utxocache, uncache);\n \n-std::optional<Coin> CCoinsView::GetCoin(const COutPoint& outpoint) const { return std::nullopt; }",
      "path": "src/coins.cpp",
      "position": 4,
      "original_position": 4,
      "commit_id": "4fdcf62bb56c0549dfff1f812a6ce880c42f5989",
      "original_commit_id": "95f2f8b2d36509f06d0de84463f260040be80029",
      "in_reply_to_id": 2766285633,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "If I understood you correctly, you would prefer introducing the empty view as a simple placeholder for `CCoinsView` (inheriting everything at first), which we populate with dedicated implementations as we are eliminating the defaults in the follow-up commits.\r\nI have played with it a bit and I think it's an excellent idea, modified the commits to do just that, thanks for the hint! Let me know if this is what you meant.",
      "created_at": "2026-02-06T16:30:47Z",
      "updated_at": "2026-02-06T16:48:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2774975617",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2774975617"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 17,
      "original_line": 17,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2774975813",
      "pull_request_review_id": 3764003707,
      "id": 2774975813,
      "node_id": "PRRC_kwDOABII586lZsVF",
      "diff_hunk": "@@ -156,7 +156,7 @@ class CoinsViewBottom final : public CCoinsView\n     uint256 GetBestBlock() const final { return {}; }\n     std::vector<uint256> GetHeadBlocks() const final { return {}; }\n     std::unique_ptr<CCoinsViewCursor> Cursor() const final { return {}; }\n-    size_t EstimateSize() const final { return m_data.size(); }\n+    size_t EstimateSize() const override { return m_data.size(); }",
      "path": "src/test/fuzz/coinscache_sim.cpp",
      "position": 1,
      "original_position": 5,
      "commit_id": "5a6542a0a377b9efa7a921eb15df8476b7136ee6",
      "original_commit_id": "5a6542a0a377b9efa7a921eb15df8476b7136ee6",
      "in_reply_to_id": 2766288640,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Yeah, it was an attempt to make the campsite a bit cleaner than I found it since I'm already modifying `EstimateSize`: it's a redundant 'final' specifier on a function in a final class, but without an `overwrite` which would actually be useful. Changed it back to reduce diff, we can do redundant-specifier cleanup separately.\r\n",
      "created_at": "2026-02-06T16:30:50Z",
      "updated_at": "2026-02-06T16:48:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2774975813",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2774975813"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": 158,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 159,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2774976478",
      "pull_request_review_id": 3764003707,
      "id": 2774976478,
      "node_id": "PRRC_kwDOABII586lZsfe",
      "diff_hunk": "",
      "path": "src/validation.cpp",
      "position": 1,
      "original_position": 1,
      "commit_id": "4f44250955c6429a338027e2606c5c33a473a366",
      "original_commit_id": "4f44250955c6429a338027e2606c5c33a473a366",
      "in_reply_to_id": 2766105394,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "we don't have to, this is completely eliminated in follow-up commits, the first commit is just meant to make the problem obvious - which we're fixing in the next commit, but wanted to make it obvious first why we need to fix it.",
      "created_at": "2026-02-06T16:30:59Z",
      "updated_at": "2026-02-06T16:48:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2774976478",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2774976478"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 737,
      "original_line": 737,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2774976617",
      "pull_request_review_id": 3764003707,
      "id": 2774976617,
      "node_id": "PRRC_kwDOABII586lZshp",
      "diff_hunk": "@@ -720,6 +720,11 @@ class MemPoolAccept\n     }\n \n private:\n+    /** When m_view is connected to m_dummy, it can no longer look up coins from the mempool or UTXO set (meaning no disk\n+     * operations happen), but can still return coins it accessed previously. Useful for keeping track of which coins\n+     * were pulled from disk. */\n+    CCoinsView m_dummy;",
      "path": "src/validation.cpp",
      "position": 1,
      "original_position": 7,
      "commit_id": "4f44250955c6429a338027e2606c5c33a473a366",
      "original_commit_id": "4f44250955c6429a338027e2606c5c33a473a366",
      "in_reply_to_id": 2766093722,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "We don't need a dummy anymore after this PR.",
      "created_at": "2026-02-06T16:31:02Z",
      "updated_at": "2026-02-06T16:48:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2774976617",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2774976617"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 726,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2774976819",
      "pull_request_review_id": 3764003707,
      "id": 2774976819,
      "node_id": "PRRC_kwDOABII586lZskz",
      "diff_hunk": "@@ -43,6 +43,7 @@ CCoinsViewCache::CCoinsViewCache(CCoinsView* baseIn, bool deterministic) :\n     CCoinsViewBacked(baseIn), m_deterministic(deterministic),\n     cacheCoins(0, SaltedOutpointHasher(/*deterministic=*/deterministic), CCoinsMap::key_equal{}, &m_cache_coins_memory_resource)\n {\n+    (void)base->GetBestBlock(); // Sanity check validity of base",
      "path": "src/coins.cpp",
      "position": 1,
      "original_position": 4,
      "commit_id": "4f44250955c6429a338027e2606c5c33a473a366",
      "original_commit_id": "4f44250955c6429a338027e2606c5c33a473a366",
      "in_reply_to_id": 2766083950,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> because it seems like this commit is essentially adding a bug and fixing it at the same time\r\n\r\nYes. This commit intentionally makes a pre-existing initialization-order hazard explicit, and the next commit removes that hazard by deleting the dummy backend path.\r\n\r\nI could drop the commit and add it as a patch to the PR description as well, but it's a pre-existing bug that I chose to reveal in the first commit instead.",
      "created_at": "2026-02-06T16:31:05Z",
      "updated_at": "2026-02-06T16:48:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34124#discussion_r2774976819",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2774976819"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34124"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 46,
      "side": "RIGHT"
    }
  ]
}