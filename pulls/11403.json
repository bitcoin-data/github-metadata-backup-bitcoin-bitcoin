{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403",
    "id": 143021240,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MTQzMDIxMjQw",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11403",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/11403.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/11403.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/b224a47a1a5feac380506abff63fae91d7a93b39",
    "number": 11403,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "SegWit wallet support",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This implements a minimum viable implementation of SegWit wallet support, based on top of #11389, and includes part of the functionality from #11089.\r\n\r\nTwo new configuration options are added:\r\n* `-addresstype`, with options `legacy`, `p2sh`, and `bech32`. It controls what kind of addresses are produced by `getnewaddress`, `getaccountaddress`, and `createmultisigaddress`.\r\n* `-changetype`, with the same options, and by default equal to `-addresstype`, that controls what kind of change is used.\r\n\r\nAll wallet private and public keys can be used for any type of address. Support for address types dependent on different derivation paths will need a major overhaul of how our internal detection of outputs work. I expect that that will happen for a next major version.\r\n\r\nThe above also applies to imported keys, as having a distinction there but not for normal operations is a disaster for testing, and probably for comprehension of users. This has some ugly effects, like needing to associate the provided label to `importprivkey` with each style address for the corresponding key.\r\n\r\nTo deal with witness outputs requiring a corresponding redeemscript in wallet, three approaches are used:\r\n* All SegWit addresses created through `getnewaddress` or multisig RPCs explicitly get their redeemscripts added to the wallet file. This means that downgrading after creating a witness address will work, as long as the wallet file is up to date.\r\n* All SegWit keys in the wallet get an _implicit_ redeemscript added, without it being written to the file. This means recovery of an old backup will work, as long as you use new software.\r\n* All keypool keys that are seen used in transactions explicitly get their redeemscripts added to the wallet files. This means that downgrading after recovering from a backup that includes a witness address will work.\r\n\r\nThese approaches correspond to solutions 3a, 1a, and 5a respectively from https://gist.github.com/sipa/125cfa1615946d0c3f3eec2ad7f250a2. As argued there, there is no full solution for dealing with the case where you both downgrade and restore a backup, so that's also not implemented.\r\n\r\n`dumpwallet`, `importwallet`, `importmulti`, `signmessage` and `verifymessage` don't work with SegWit addresses yet. They're remaining TODOs, for this PR or a follow-up. Because of that, several tests unexpectedly run with `-addresstype=legacy` for now.",
    "labels": [
      {
        "id": 135946,
        "node_id": "MDU6TGFiZWwxMzU5NDY=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/GUI",
        "name": "GUI",
        "color": "02d7e1",
        "default": false
      },
      {
        "id": 149424,
        "node_id": "MDU6TGFiZWwxNDk0MjQ=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
        "name": "Wallet",
        "color": "08a781",
        "default": false
      }
    ],
    "milestone": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/30",
      "html_url": "https://github.com/bitcoin/bitcoin/milestone/30",
      "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/30/labels",
      "id": 2626187,
      "node_id": "MDk6TWlsZXN0b25lMjYyNjE4Nw==",
      "number": 30,
      "state": "closed",
      "title": "0.16.0",
      "description": "This will be the release of segwit wallet. ðŸŽ‰ ",
      "creator": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "open_issues": 0,
      "closed_issues": 70,
      "created_at": "2017-07-06T19:58:41Z",
      "updated_at": "2018-03-07T16:28:13Z",
      "closed_at": "2018-03-07T16:28:13Z"
    },
    "active_lock_reason": "resolved",
    "created_at": "2017-09-26T01:49:42Z",
    "updated_at": "2022-02-15T10:31:46Z",
    "closed_at": "2018-01-11T06:56:15Z",
    "mergeable_state": "unknown",
    "merged_at": "2018-01-11T06:56:15Z",
    "merge_commit_sha": "b224a47a1a5feac380506abff63fae91d7a93b39",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "sipa:201709_segwitwallet2",
      "ref": "201709_segwitwallet2",
      "sha": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 1458655,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNDU4NjU1",
        "name": "bitcoin",
        "full_name": "sipa/bitcoin",
        "owner": {
          "login": "sipa",
          "id": 548488,
          "node_id": "MDQ6VXNlcjU0ODQ4OA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/sipa",
          "html_url": "https://github.com/sipa",
          "followers_url": "https://api.github.com/users/sipa/followers",
          "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
          "organizations_url": "https://api.github.com/users/sipa/orgs",
          "repos_url": "https://api.github.com/users/sipa/repos",
          "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/sipa/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/sipa/bitcoin",
        "description": "Bitcoin integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/sipa/bitcoin",
        "archive_url": "https://api.github.com/repos/sipa/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/sipa/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/sipa/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/sipa/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/sipa/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/sipa/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/sipa/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/sipa/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/sipa/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/sipa/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/sipa/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/sipa/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/sipa/bitcoin/events",
        "forks_url": "https://api.github.com/repos/sipa/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/sipa/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/sipa/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/sipa/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/sipa/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/sipa/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/sipa/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/sipa/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/sipa/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/sipa/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/sipa/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/sipa/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/sipa/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/sipa/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/sipa/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/sipa/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:sipa/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/sipa/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/sipa/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/sipa/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/sipa/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/sipa/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/sipa/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/sipa/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/sipa/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/sipa/bitcoin/hooks",
        "svn_url": "https://github.com/sipa/bitcoin",
        "homepage": "http://www.bitcoin.org",
        "language": "TypeScript",
        "forks_count": 20,
        "stargazers_count": 82,
        "watchers_count": 82,
        "size": 215860,
        "default_branch": "lows",
        "open_issues_count": 16,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-06T11:52:48Z",
        "created_at": "2011-03-09T10:46:59Z",
        "updated_at": "2023-06-07T12:26:51Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "45173fa6fca9537abb0a0554f731d14b9f89c456",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34348,
        "stargazers_count": 69851,
        "watchers_count": 69851,
        "size": 234261,
        "default_branch": "master",
        "open_issues_count": 631,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-08T22:17:10Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-06-09T03:19:05Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 730,
    "deletions": 181,
    "changed_files": 37,
    "commits": 12,
    "review_comments": 296,
    "comments": 91
  },
  "events": [
    {
      "event": "labeled",
      "id": 1264842652,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDEyNjQ4NDI2NTI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1264842652",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-09-26T01:50:28Z",
      "label": {
        "name": "Wallet",
        "color": "08a781"
      }
    },
    {
      "event": "reviewed",
      "id": 65141769,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjUxNDE3Njk=",
      "url": null,
      "actor": null,
      "commit_id": "1ae94623eceb96728b6a791732776d01a455f83f",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Light review, it would be nice to push base PR's.",
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-65141769",
      "submitted_at": "2017-09-26T12:08:42Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "reviewed",
      "id": 65348501,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjUzNDg1MDE=",
      "url": null,
      "actor": null,
      "commit_id": "a3a79cdb2193facac697857a472fe90c235f7c82",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-65348501",
      "submitted_at": "2017-09-26T20:30:15Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "commented",
      "id": 332935671,
      "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjkzNTY3MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/332935671",
      "actor": {
        "login": "petertodd",
        "id": 7042,
        "node_id": "MDQ6VXNlcjcwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/petertodd",
        "html_url": "https://github.com/petertodd",
        "followers_url": "https://api.github.com/users/petertodd/followers",
        "following_url": "https://api.github.com/users/petertodd/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/petertodd/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/petertodd/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/petertodd/subscriptions",
        "organizations_url": "https://api.github.com/users/petertodd/orgs",
        "repos_url": "https://api.github.com/users/petertodd/repos",
        "events_url": "https://api.github.com/users/petertodd/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/petertodd/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-09-28T19:12:15Z",
      "updated_at": "2017-09-28T19:12:15Z",
      "author_association": "CONTRIBUTOR",
      "body": "A potential problem with supporting `-addressstyle=segwit` w/ Bech32 on day zero is it may confuse people into thinking segwit *needs* the new address format. OTOH, if we don't, it probably makes the P2SH adoption hell more likely.",
      "user": {
        "login": "petertodd",
        "id": 7042,
        "node_id": "MDQ6VXNlcjcwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/petertodd",
        "html_url": "https://github.com/petertodd",
        "followers_url": "https://api.github.com/users/petertodd/followers",
        "following_url": "https://api.github.com/users/petertodd/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/petertodd/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/petertodd/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/petertodd/subscriptions",
        "organizations_url": "https://api.github.com/users/petertodd/orgs",
        "repos_url": "https://api.github.com/users/petertodd/repos",
        "events_url": "https://api.github.com/users/petertodd/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/petertodd/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-332935671",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "commented",
      "id": 332964633,
      "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjk2NDYzMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/332964633",
      "actor": {
        "login": "flack",
        "id": 425166,
        "node_id": "MDQ6VXNlcjQyNTE2Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/425166?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/flack",
        "html_url": "https://github.com/flack",
        "followers_url": "https://api.github.com/users/flack/followers",
        "following_url": "https://api.github.com/users/flack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/flack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/flack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/flack/subscriptions",
        "organizations_url": "https://api.github.com/users/flack/orgs",
        "repos_url": "https://api.github.com/users/flack/repos",
        "events_url": "https://api.github.com/users/flack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/flack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-09-28T21:08:38Z",
      "updated_at": "2017-09-28T21:08:38Z",
      "author_association": "CONTRIBUTOR",
      "body": "maybe it should be renamed to `-addressstyle=bech32`? ",
      "user": {
        "login": "flack",
        "id": 425166,
        "node_id": "MDQ6VXNlcjQyNTE2Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/425166?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/flack",
        "html_url": "https://github.com/flack",
        "followers_url": "https://api.github.com/users/flack/followers",
        "following_url": "https://api.github.com/users/flack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/flack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/flack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/flack/subscriptions",
        "organizations_url": "https://api.github.com/users/flack/orgs",
        "repos_url": "https://api.github.com/users/flack/repos",
        "events_url": "https://api.github.com/users/flack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/flack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-332964633",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "referenced",
      "id": 1271204681,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDEyNzEyMDQ2ODE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1271204681",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "aa624b61c928295c27ffbb4d27be582f5aa31b56",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/aa624b61c928295c27ffbb4d27be582f5aa31b56",
      "created_at": "2017-09-29T08:19:55Z"
    },
    {
      "event": "commented",
      "id": 333107294,
      "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzEwNzI5NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/333107294",
      "actor": {
        "login": "meshcollider",
        "id": 3211283,
        "node_id": "MDQ6VXNlcjMyMTEyODM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/meshcollider",
        "html_url": "https://github.com/meshcollider",
        "followers_url": "https://api.github.com/users/meshcollider/followers",
        "following_url": "https://api.github.com/users/meshcollider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/meshcollider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/meshcollider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
        "organizations_url": "https://api.github.com/users/meshcollider/orgs",
        "repos_url": "https://api.github.com/users/meshcollider/repos",
        "events_url": "https://api.github.com/users/meshcollider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/meshcollider/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-09-29T11:57:57Z",
      "updated_at": "2017-09-29T11:57:57Z",
      "author_association": "CONTRIBUTOR",
      "body": "Needs rebase after #11167 merge but that'll make it clearer what's new here to review :+1:",
      "user": {
        "login": "meshcollider",
        "id": 3211283,
        "node_id": "MDQ6VXNlcjMyMTEyODM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/meshcollider",
        "html_url": "https://github.com/meshcollider",
        "followers_url": "https://api.github.com/users/meshcollider/followers",
        "following_url": "https://api.github.com/users/meshcollider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/meshcollider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/meshcollider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
        "organizations_url": "https://api.github.com/users/meshcollider/orgs",
        "repos_url": "https://api.github.com/users/meshcollider/repos",
        "events_url": "https://api.github.com/users/meshcollider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/meshcollider/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-333107294",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "reviewed",
      "id": 66202799,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjYyMDI3OTk=",
      "url": null,
      "actor": null,
      "commit_id": "a3a79cdb2193facac697857a472fe90c235f7c82",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-66202799",
      "submitted_at": "2017-09-29T16:23:36Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "reviewed",
      "id": 66203188,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjYyMDMxODg=",
      "url": null,
      "actor": null,
      "commit_id": "1ae94623eceb96728b6a791732776d01a455f83f",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-66203188",
      "submitted_at": "2017-09-29T16:25:14Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1272160610,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTI3MjE2MDYxMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1272160610",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-09-29T18:36:12Z"
    },
    {
      "event": "commented",
      "id": 333205001,
      "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzIwNTAwMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/333205001",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-09-29T18:36:44Z",
      "updated_at": "2017-09-29T18:36:44Z",
      "author_association": "MEMBER",
      "body": "Rebased after #11167 merge.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-333205001",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "reviewed",
      "id": 66263128,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjYyNjMxMjg=",
      "url": null,
      "actor": null,
      "commit_id": "7f88d8ad7796c0f6d1e80d11943c19f0af2cda62",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-66263128",
      "submitted_at": "2017-09-29T21:08:39Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1272542018,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTI3MjU0MjAxOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1272542018",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-09-29T23:50:11Z"
    },
    {
      "event": "milestoned",
      "id": 1279720870,
      "node_id": "MDE1Ok1pbGVzdG9uZWRFdmVudDEyNzk3MjA4NzA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1279720870",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-10-05T11:26:30Z",
      "milestone": {
        "title": "0.15.1"
      }
    },
    {
      "event": "labeled",
      "id": 1279720986,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDEyNzk3MjA5ODY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1279720986",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-10-05T11:26:35Z",
      "label": {
        "name": "Needs backport",
        "color": "ff8200"
      }
    },
    {
      "event": "commented",
      "id": 335931037,
      "node_id": "MDEyOklzc3VlQ29tbWVudDMzNTkzMTAzNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/335931037",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-10-11T20:02:48Z",
      "updated_at": "2017-10-11T20:02:48Z",
      "author_association": "CONTRIBUTOR",
      "body": "Regarding petertodd's concern, I think something like flack's suggestion would address it.",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-335931037",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "reviewed",
      "id": 68814644,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Njg4MTQ2NDQ=",
      "url": null,
      "actor": null,
      "commit_id": "5632374f2f71bca384ceed07ca6842fd87102346",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "utACK 5632374f2f71bca384ceed07ca6842fd87102346",
      "user": {
        "login": "kallewoof",
        "id": 250224,
        "node_id": "MDQ6VXNlcjI1MDIyNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kallewoof",
        "html_url": "https://github.com/kallewoof",
        "followers_url": "https://api.github.com/users/kallewoof/followers",
        "following_url": "https://api.github.com/users/kallewoof/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kallewoof/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kallewoof/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
        "organizations_url": "https://api.github.com/users/kallewoof/orgs",
        "repos_url": "https://api.github.com/users/kallewoof/repos",
        "events_url": "https://api.github.com/users/kallewoof/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kallewoof/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-68814644",
      "submitted_at": "2017-10-12T04:56:05Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "reviewed",
      "id": 68822415,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Njg4MjI0MTU=",
      "url": null,
      "actor": null,
      "commit_id": "5632374f2f71bca384ceed07ca6842fd87102346",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-68822415",
      "submitted_at": "2017-10-12T05:56:19Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1293240255,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTI5MzI0MDI1NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1293240255",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-10-14T02:00:30Z"
    },
    {
      "event": "reviewed",
      "id": 70011130,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NzAwMTExMzA=",
      "url": null,
      "actor": null,
      "commit_id": "fb0361d74a578c626b8876e71ad35775d718aed9",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-70011130",
      "submitted_at": "2017-10-17T20:02:36Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "reviewed",
      "id": 70018324,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NzAwMTgzMjQ=",
      "url": null,
      "actor": null,
      "commit_id": "97f4fc173dda51f21cc092b9b29a9ea4b208f8e2",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Added a few more comments.\r\n\r\nI suspect I'm missing something about the generic-ish functions in CWallet. Do you maybe have plans to make those per-wallet as @instagibbs suggested?",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-70018324",
      "submitted_at": "2017-10-17T22:38:45Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "commented",
      "id": 338192534,
      "node_id": "MDEyOklzc3VlQ29tbWVudDMzODE5MjUzNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/338192534",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-10-20T12:28:22Z",
      "updated_at": "2017-10-20T12:41:24Z",
      "author_association": "MEMBER",
      "body": "The wallet probably needs to be able to generate both `p2sh` and `bech32` addresses, depending on who the user needs to communicate the address to. In fact, the UI might need to display both at the same time. \r\n\r\nFor example, I might send an email requesting payment to a `bech32` address, and telling the recipient to use the `p2sh` address only if their wallet doesn't support the new format. A backwards compatible QR code could contain (admittedly ad hoc): `bitcoin:3ba1...?amount=0.01&bech32=bc1qw5...`.\r\n\r\nSo rather than `-addressstyle`, isn't it better to make address style an argument for calls to `getnewaddress` and `createmultisigaddress`?\r\n\r\nI think this was brought up elsewhere, but If `bech32` is the default, wouldn't that confuse RPC consumers, especially if they do any input validation? `p2sh` seems like a safer default.\r\nAlternatively, perhaps the default can be `bech32`, but with ~a `configure` flag~ _command line option_ to use a different default (and a warning in the release notes). It would be nice if RPC calls were versioned.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-338192534",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "commented",
      "id": 338193000,
      "node_id": "MDEyOklzc3VlQ29tbWVudDMzODE5MzAwMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/338193000",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-10-20T12:30:32Z",
      "updated_at": "2017-10-20T12:30:32Z",
      "author_association": "MEMBER",
      "body": "@Sjors There is an RPC argument added to address-creating RPCs to override the default.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-338193000",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1302909449,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTMwMjkwOTQ0OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1302909449",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-10-20T12:30:32Z"
    },
    {
      "event": "subscribed",
      "id": 1302909450,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzMDI5MDk0NTA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1302909450",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-10-20T12:30:32Z"
    },
    {
      "event": "commented",
      "id": 338195284,
      "node_id": "MDEyOklzc3VlQ29tbWVudDMzODE5NTI4NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/338195284",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-10-20T12:40:49Z",
      "updated_at": "2017-10-20T12:40:49Z",
      "author_association": "MEMBER",
      "body": "@sipa I see, perhaps `-addressstyle` should be `-addressstyledefault` instead to make that more clear?",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-338195284",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1302925360,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTMwMjkyNTM2MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1302925360",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-10-20T12:40:49Z"
    },
    {
      "event": "subscribed",
      "id": 1302925361,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzMDI5MjUzNjE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1302925361",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-10-20T12:40:49Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1307725125,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTMwNzcyNTEyNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1307725125",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-10-24T13:21:09Z"
    },
    {
      "event": "added_to_project",
      "id": 1325998629,
      "node_id": "MDE5OkFkZGVkVG9Qcm9qZWN0RXZlbnQxMzI1OTk4NjI5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1325998629",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-04T09:26:47Z",
      "project_card": {
        "id": 5494086,
        "url": "https://api.github.com/projects/columns/cards/5494086",
        "project_id": 49587,
        "project_url": "https://api.github.com/projects/49587",
        "column_name": "In progress"
      }
    },
    {
      "event": "commented",
      "id": 342642285,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM0MjY0MjI4NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/342642285",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-07T22:18:57Z",
      "updated_at": "2017-11-07T22:18:57Z",
      "author_association": "MEMBER",
      "body": "rebase_me_pls",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-342642285",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1330885594,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTMzMDg4NTU5NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1330885594",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-08T00:19:20Z"
    },
    {
      "event": "commented",
      "id": 342668198,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM0MjY2ODE5OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/342668198",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-08T00:19:42Z",
      "updated_at": "2017-11-08T00:19:42Z",
      "author_association": "MEMBER",
      "body": "rebased_it",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-342668198",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "added_to_project",
      "id": 1334652760,
      "node_id": "MDE5OkFkZGVkVG9Qcm9qZWN0RXZlbnQxMzM0NjUyNzYw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1334652760",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-09T19:09:20Z",
      "project_card": {
        "id": 5589794,
        "url": "https://api.github.com/projects/columns/cards/5589794",
        "project_id": 481835,
        "project_url": "https://api.github.com/projects/481835",
        "column_name": "Blockers"
      }
    },
    {
      "event": "unlabeled",
      "id": 1334726453,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50MTMzNDcyNjQ1Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1334726453",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-09T19:46:14Z",
      "label": {
        "name": "Needs backport",
        "color": "ff8200"
      }
    },
    {
      "event": "demilestoned",
      "id": 1334726543,
      "node_id": "MDE3OkRlbWlsZXN0b25lZEV2ZW50MTMzNDcyNjU0Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1334726543",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-09T19:46:16Z",
      "milestone": {
        "title": "0.15.2"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1335328347,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTMzNTMyODM0Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1335328347",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-10T03:02:50Z"
    },
    {
      "event": "reviewed",
      "id": 75766547,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NzU3NjY1NDc=",
      "url": null,
      "actor": null,
      "commit_id": "2cd3e3259c5813b4d1a295549e02a2e08ec459d9",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "flack",
        "id": 425166,
        "node_id": "MDQ6VXNlcjQyNTE2Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/425166?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/flack",
        "html_url": "https://github.com/flack",
        "followers_url": "https://api.github.com/users/flack/followers",
        "following_url": "https://api.github.com/users/flack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/flack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/flack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/flack/subscriptions",
        "organizations_url": "https://api.github.com/users/flack/orgs",
        "repos_url": "https://api.github.com/users/flack/repos",
        "events_url": "https://api.github.com/users/flack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/flack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-75766547",
      "submitted_at": "2017-11-10T14:09:25Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "commented",
      "id": 343675953,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzY3NTk1Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/343675953",
      "actor": {
        "login": "pilotmoon",
        "id": 17520,
        "node_id": "MDQ6VXNlcjE3NTIw",
        "avatar_url": "https://avatars.githubusercontent.com/u/17520?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pilotmoon",
        "html_url": "https://github.com/pilotmoon",
        "followers_url": "https://api.github.com/users/pilotmoon/followers",
        "following_url": "https://api.github.com/users/pilotmoon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pilotmoon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pilotmoon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pilotmoon/subscriptions",
        "organizations_url": "https://api.github.com/users/pilotmoon/orgs",
        "repos_url": "https://api.github.com/users/pilotmoon/repos",
        "events_url": "https://api.github.com/users/pilotmoon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pilotmoon/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-11T16:19:53Z",
      "updated_at": "2017-11-11T16:19:53Z",
      "author_association": "NONE",
      "body": "What is the reasoning for having `addressstyle` and `changestyle` as separate options; that is, what is the envisaged use case for setting these defaults to different things?",
      "user": {
        "login": "pilotmoon",
        "id": 17520,
        "node_id": "MDQ6VXNlcjE3NTIw",
        "avatar_url": "https://avatars.githubusercontent.com/u/17520?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pilotmoon",
        "html_url": "https://github.com/pilotmoon",
        "followers_url": "https://api.github.com/users/pilotmoon/followers",
        "following_url": "https://api.github.com/users/pilotmoon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pilotmoon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pilotmoon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pilotmoon/subscriptions",
        "organizations_url": "https://api.github.com/users/pilotmoon/orgs",
        "repos_url": "https://api.github.com/users/pilotmoon/repos",
        "events_url": "https://api.github.com/users/pilotmoon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pilotmoon/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-343675953",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "commented",
      "id": 343746694,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM0Mzc0NjY5NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/343746694",
      "actor": {
        "login": "martin-lizner",
        "id": 11314444,
        "node_id": "MDQ6VXNlcjExMzE0NDQ0",
        "avatar_url": "https://avatars.githubusercontent.com/u/11314444?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/martin-lizner",
        "html_url": "https://github.com/martin-lizner",
        "followers_url": "https://api.github.com/users/martin-lizner/followers",
        "following_url": "https://api.github.com/users/martin-lizner/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/martin-lizner/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/martin-lizner/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/martin-lizner/subscriptions",
        "organizations_url": "https://api.github.com/users/martin-lizner/orgs",
        "repos_url": "https://api.github.com/users/martin-lizner/repos",
        "events_url": "https://api.github.com/users/martin-lizner/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/martin-lizner/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-12T15:55:31Z",
      "updated_at": "2017-11-12T15:55:31Z",
      "author_association": "NONE",
      "body": "Milestone 0.15.2 was removed, does it mean it goes straight to 0.16 only? Thanks.",
      "user": {
        "login": "martin-lizner",
        "id": 11314444,
        "node_id": "MDQ6VXNlcjExMzE0NDQ0",
        "avatar_url": "https://avatars.githubusercontent.com/u/11314444?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/martin-lizner",
        "html_url": "https://github.com/martin-lizner",
        "followers_url": "https://api.github.com/users/martin-lizner/followers",
        "following_url": "https://api.github.com/users/martin-lizner/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/martin-lizner/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/martin-lizner/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/martin-lizner/subscriptions",
        "organizations_url": "https://api.github.com/users/martin-lizner/orgs",
        "repos_url": "https://api.github.com/users/martin-lizner/repos",
        "events_url": "https://api.github.com/users/martin-lizner/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/martin-lizner/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-343746694",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "commented",
      "id": 343749957,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM0Mzc0OTk1Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/343749957",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-12T16:42:56Z",
      "updated_at": "2017-11-12T16:42:56Z",
      "author_association": "MEMBER",
      "body": "Yes\n\nOn Nov 12, 2017 10:55, \"Martin LÃ­zner\" <notifications@github.com> wrote:\n\n> Milestone 0.15.2 was removed, does it mean it goes straight to 0.16 only?\n> Thanks.\n>\n> â€”\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-343746694>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AGGmv7mc0a0e0Y92zjU3aPymx17snBlFks5s1xUIgaJpZM4PjkGp>\n> .\n>\n",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-343749957",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "commented",
      "id": 343757936,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM0Mzc1NzkzNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/343757936",
      "actor": {
        "login": "martin-lizner",
        "id": 11314444,
        "node_id": "MDQ6VXNlcjExMzE0NDQ0",
        "avatar_url": "https://avatars.githubusercontent.com/u/11314444?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/martin-lizner",
        "html_url": "https://github.com/martin-lizner",
        "followers_url": "https://api.github.com/users/martin-lizner/followers",
        "following_url": "https://api.github.com/users/martin-lizner/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/martin-lizner/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/martin-lizner/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/martin-lizner/subscriptions",
        "organizations_url": "https://api.github.com/users/martin-lizner/orgs",
        "repos_url": "https://api.github.com/users/martin-lizner/repos",
        "events_url": "https://api.github.com/users/martin-lizner/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/martin-lizner/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-12T18:45:21Z",
      "updated_at": "2017-11-12T18:45:21Z",
      "author_association": "NONE",
      "body": "Does this mean we will have segwit in GUI and bech32 in around May? If that so, would you pls comment on why 0.15.2 milestone was dropped?",
      "user": {
        "login": "martin-lizner",
        "id": 11314444,
        "node_id": "MDQ6VXNlcjExMzE0NDQ0",
        "avatar_url": "https://avatars.githubusercontent.com/u/11314444?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/martin-lizner",
        "html_url": "https://github.com/martin-lizner",
        "followers_url": "https://api.github.com/users/martin-lizner/followers",
        "following_url": "https://api.github.com/users/martin-lizner/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/martin-lizner/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/martin-lizner/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/martin-lizner/subscriptions",
        "organizations_url": "https://api.github.com/users/martin-lizner/orgs",
        "repos_url": "https://api.github.com/users/martin-lizner/repos",
        "events_url": "https://api.github.com/users/martin-lizner/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/martin-lizner/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-343757936",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "commented",
      "id": 343786495,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM0Mzc4NjQ5NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/343786495",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-13T01:27:52Z",
      "updated_at": "2017-11-13T01:27:52Z",
      "author_association": "MEMBER",
      "body": "The 0.15.2 milestone would only delay segwit wallet. The current plan is to\nget the segwit wallet out as soon as it is ready with the next major\nrelease.\n\nOn Sun, Nov 12, 2017 at 6:45 PM, Martin LÃ­zner <notifications@github.com>\nwrote:\n\n> Does this mean we will have segwit in GUI and bech32 in around May? If\n> that so, would you pls comment on why 0.15.2 milestone was dropped?\n>\n> â€”\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-343757936>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AGGmv9SEn6dU3nzJU7gZVx9z2cf7jbCTks5s1zzYgaJpZM4PjkGp>\n> .\n>\n",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-343786495",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "commented",
      "id": 345039809,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTAzOTgwOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345039809",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-16T19:41:11Z",
      "updated_at": "2017-11-16T19:41:11Z",
      "author_association": "MEMBER",
      "body": "I've made a writeup about wallet design in the future, and how SegWit support now interacts with it: https://gist.github.com/sipa/125cfa1615946d0c3f3eec2ad7f250a2\r\n\r\nThe PR currently only implements solution (I.1) from the document, but I'm happy to reconsider.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-345039809",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1346300145,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTM0NjMwMDE0NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1346300145",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-17T00:55:20Z"
    },
    {
      "event": "commented",
      "id": 345415518,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTQxNTUxOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345415518",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-18T03:38:46Z",
      "updated_at": "2017-11-18T03:38:46Z",
      "author_association": "MEMBER",
      "body": "@invariant You may wish to use bech32 as change style as soon as possible (for cost) or once it's used sufficiently on the network (for privacy), even if your recipients don't support bech32 yet.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-345415518",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1348244287,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM0ODI0NDI4Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1348244287",
      "actor": {
        "login": "pilotmoon",
        "id": 17520,
        "node_id": "MDQ6VXNlcjE3NTIw",
        "avatar_url": "https://avatars.githubusercontent.com/u/17520?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pilotmoon",
        "html_url": "https://github.com/pilotmoon",
        "followers_url": "https://api.github.com/users/pilotmoon/followers",
        "following_url": "https://api.github.com/users/pilotmoon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pilotmoon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pilotmoon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pilotmoon/subscriptions",
        "organizations_url": "https://api.github.com/users/pilotmoon/orgs",
        "repos_url": "https://api.github.com/users/pilotmoon/repos",
        "events_url": "https://api.github.com/users/pilotmoon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pilotmoon/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-18T03:38:46Z"
    },
    {
      "event": "subscribed",
      "id": 1348244288,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzNDgyNDQyODg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1348244288",
      "actor": {
        "login": "pilotmoon",
        "id": 17520,
        "node_id": "MDQ6VXNlcjE3NTIw",
        "avatar_url": "https://avatars.githubusercontent.com/u/17520?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pilotmoon",
        "html_url": "https://github.com/pilotmoon",
        "followers_url": "https://api.github.com/users/pilotmoon/followers",
        "following_url": "https://api.github.com/users/pilotmoon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pilotmoon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pilotmoon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pilotmoon/subscriptions",
        "organizations_url": "https://api.github.com/users/pilotmoon/orgs",
        "repos_url": "https://api.github.com/users/pilotmoon/repos",
        "events_url": "https://api.github.com/users/pilotmoon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pilotmoon/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-18T03:38:46Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1348244362,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTM0ODI0NDM2Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1348244362",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-18T03:39:10Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1348250873,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTM0ODI1MDg3Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1348250873",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-18T03:59:32Z"
    },
    {
      "event": "commented",
      "id": 345416387,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTQxNjM4Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345416387",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-18T03:59:50Z",
      "updated_at": "2017-11-18T03:59:50Z",
      "author_association": "MEMBER",
      "body": "Rebased and addressed my review comments.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-345416387",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1348280640,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTM0ODI4MDY0MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1348280640",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-18T06:01:25Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1348281932,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTM0ODI4MTkzMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1348281932",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-18T06:07:31Z"
    },
    {
      "event": "reviewed",
      "id": 77615804,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Nzc2MTU4MDQ=",
      "url": null,
      "actor": null,
      "commit_id": "3c44c27398c8c5e80790f95c747d654cbe716b0c",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "I assume the goal of this PR isn't to change the GUI, but merely to make sure the QT doesn't break?\r\n\r\nI tested QT with a fresh wallet. The first receive address was a P2SH-P2WPKH address. Sending coins also used a P2SH-P2WPKH address for change. Bump fee also works. That's certainly an improvement over v0.15.1.\r\n\r\nLaunching QT with `-addresstype=bech32` also worked. I was able to fund* it using a bech32 address, and then send to another bech32 address, which used a bech32 change address.\r\n\r\nAny suggestions for potentially problematic scenarios to test?\r\n\r\nUsing P2SH-P2WPKH as a receive address seems a safe conservative approach, for this PR. But not using bech32 for the change address seems wasteful, although not strictly worse than v0.15.1. See my inline suggestion.\r\n\r\n* = for anyone trying to get fund a bech32 address without using the RPC: as suggested [here](https://btcmanager.com/electrum-3-0-first-wallet-enable-bech32-segwit-addresses/), create a non-SegWit Electrum 3 wallet, fund it, then use it to send to to bech32 address.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-77615804",
      "submitted_at": "2017-11-18T14:51:09Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "commented",
      "id": 345468205,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTQ2ODIwNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345468205",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-18T20:15:45Z",
      "updated_at": "2017-11-18T20:15:45Z",
      "author_association": "MEMBER",
      "body": "> I assume the goal of this PR isn't to change the GUI, but merely to make sure the QT doesn't break?\r\n\r\nExactly. In particular, we'll want bech32 error detection at some point when entering such addresses, but that's not a priority now.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-345468205",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "reviewed",
      "id": 77624980,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Nzc2MjQ5ODA=",
      "url": null,
      "actor": null,
      "commit_id": "2eda8768388bb32d70fa004b9c307814614c900f",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "flack",
        "id": 425166,
        "node_id": "MDQ6VXNlcjQyNTE2Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/425166?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/flack",
        "html_url": "https://github.com/flack",
        "followers_url": "https://api.github.com/users/flack/followers",
        "following_url": "https://api.github.com/users/flack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/flack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/flack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/flack/subscriptions",
        "organizations_url": "https://api.github.com/users/flack/orgs",
        "repos_url": "https://api.github.com/users/flack/repos",
        "events_url": "https://api.github.com/users/flack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/flack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-77624980",
      "submitted_at": "2017-11-18T20:30:49Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "reviewed",
      "id": 77630558,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Nzc2MzA1NTg=",
      "url": null,
      "actor": null,
      "commit_id": "dd94446cff5bea5ae14e86ff8b9e1e375c2424b5",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "utACK https://github.com/bitcoin/bitcoin/pull/11403/commits/3c44c27398c8c5e80790f95c747d654cbe716b0c\r\n\r\nI'm okay with the approach taken based on the write-up, seems like a good step to me\r\n\r\nBTW commit \"Expose method to find key for a single-key destination\" should be before the two previous commits IMO, which use the method it introduces",
      "user": {
        "login": "meshcollider",
        "id": 3211283,
        "node_id": "MDQ6VXNlcjMyMTEyODM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/meshcollider",
        "html_url": "https://github.com/meshcollider",
        "followers_url": "https://api.github.com/users/meshcollider/followers",
        "following_url": "https://api.github.com/users/meshcollider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/meshcollider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/meshcollider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
        "organizations_url": "https://api.github.com/users/meshcollider/orgs",
        "repos_url": "https://api.github.com/users/meshcollider/repos",
        "events_url": "https://api.github.com/users/meshcollider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/meshcollider/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-77630558",
      "submitted_at": "2017-11-19T02:10:59Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1348921274,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTM0ODkyMTI3NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1348921274",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-19T21:08:15Z"
    },
    {
      "event": "commented",
      "id": 345550244,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTU1MDI0NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345550244",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-19T21:16:26Z",
      "updated_at": "2017-11-19T21:16:26Z",
      "author_association": "MEMBER",
      "body": "Addressed some comments, and added solution 3a from my writeup.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-345550244",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "commented",
      "id": 345550330,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTU1MDMzMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345550330",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-19T21:17:50Z",
      "updated_at": "2017-11-19T21:17:50Z",
      "author_association": "MEMBER",
      "body": "@MeshCollider The commits are in the right order, it's just GitHub that shows them by author date rather than dependency ordering.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-345550330",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1348924417,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM0ODkyNDQxNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1348924417",
      "actor": {
        "login": "meshcollider",
        "id": 3211283,
        "node_id": "MDQ6VXNlcjMyMTEyODM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/meshcollider",
        "html_url": "https://github.com/meshcollider",
        "followers_url": "https://api.github.com/users/meshcollider/followers",
        "following_url": "https://api.github.com/users/meshcollider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/meshcollider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/meshcollider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
        "organizations_url": "https://api.github.com/users/meshcollider/orgs",
        "repos_url": "https://api.github.com/users/meshcollider/repos",
        "events_url": "https://api.github.com/users/meshcollider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/meshcollider/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-19T21:17:50Z"
    },
    {
      "event": "subscribed",
      "id": 1348924419,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzNDg5MjQ0MTk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1348924419",
      "actor": {
        "login": "meshcollider",
        "id": 3211283,
        "node_id": "MDQ6VXNlcjMyMTEyODM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/meshcollider",
        "html_url": "https://github.com/meshcollider",
        "followers_url": "https://api.github.com/users/meshcollider/followers",
        "following_url": "https://api.github.com/users/meshcollider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/meshcollider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/meshcollider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
        "organizations_url": "https://api.github.com/users/meshcollider/orgs",
        "repos_url": "https://api.github.com/users/meshcollider/repos",
        "events_url": "https://api.github.com/users/meshcollider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/meshcollider/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-19T21:17:50Z"
    },
    {
      "event": "reviewed",
      "id": 77833289,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Nzc4MzMyODk=",
      "url": null,
      "actor": null,
      "commit_id": "d0c76c351aad0454bea1cf2e4da7a8910f30c714",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "2nd round code review. Will test.",
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-77833289",
      "submitted_at": "2017-11-20T16:27:12Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "commented",
      "id": 346646997,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM0NjY0Njk5Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/346646997",
      "actor": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-23T15:30:18Z",
      "updated_at": "2017-11-23T15:30:18Z",
      "author_association": "MEMBER",
      "body": "Tested ACK d0c76c3.",
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-346646997",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "reviewed",
      "id": 79261530,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NzkyNjE1MzA=",
      "url": null,
      "actor": null,
      "commit_id": "d0c76c351aad0454bea1cf2e4da7a8910f30c714",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "\"default\" behavior aside, utACK",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-79261530",
      "submitted_at": "2017-11-27T18:22:06Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "reviewed",
      "id": 79372207,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NzkzNzIyMDc=",
      "url": null,
      "actor": null,
      "commit_id": "d0c76c351aad0454bea1cf2e4da7a8910f30c714",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-79372207",
      "submitted_at": "2017-11-28T01:59:11Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "commented",
      "id": 347394871,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM0NzM5NDg3MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/347394871",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-11-28T02:35:29Z",
      "updated_at": "2017-11-28T02:35:29Z",
      "author_association": "MEMBER",
      "body": "utACK after the current comments are addressed. Nice work :)",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-347394871",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1366804261,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTM2NjgwNDI2MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1366804261",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-01T00:38:44Z"
    },
    {
      "event": "commented",
      "id": 348367131,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODM2NzEzMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/348367131",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-01T00:41:05Z",
      "updated_at": "2017-12-01T00:41:05Z",
      "author_association": "MEMBER",
      "body": "Addressed comments, and made some significant changes to the command line argument handling.\r\n\r\nI also added a commit that explicitly adds the P2SH-P2WPKH script for keypool keys that are seen used on the network. This means that downgrading after restoring a backup that needed recovery is supported.\r\n\r\nI would very much like to hear opinions about testing this. It's nontrivial as the complicated scenarios always involve downgrading/upgrading between versions - something our testing framework can't really deal with.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-348367131",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1366814628,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTM2NjgxNDYyOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1366814628",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-01T00:49:37Z"
    },
    {
      "event": "reviewed",
      "id": 80476697,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3ODA0NzY2OTc=",
      "url": null,
      "actor": null,
      "commit_id": "b088ab65407346408ed45fdad637e54c591eb348",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-80476697",
      "submitted_at": "2017-12-01T11:54:43Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "commented",
      "id": 348482391,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODQ4MjM5MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/348482391",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-01T12:27:00Z",
      "updated_at": "2017-12-11T11:29:04Z",
      "author_association": "MEMBER",
      "body": "I suggest updating the description of this pull request with a list of all known scenario's that need to be tested. Under each item, note if there any automated tests that cover it.\r\n\r\nIs it a safe assumption that testing on testnet is sufficient? Can anyone think of mainnet specific potential bug related to a change like this?\r\n\r\nCan we also assume no support for pre-release wallets after v0.15.1?\r\n\r\nTo save some permutations, are we worried `changetype` set to something to other than `addresstype`?\r\n\r\nHere's a start.\r\n\r\n## QT\r\nFull UI support is for another PR. Scope is to ensure nothing breaks.\r\n\r\n### New wallet, default settings\r\n\r\n* create payment request, address should start with 2 ([UI test](master/src/qt/test/wallettests.cpp#L207) only checks that button works, not the address type - but see RPC)\r\n* fund from external source\r\n  * tx should appear under Recent transactions\r\n  * popup notification should appear\r\n* send to self\r\n  * pending balance should be 0 (with or without RBF)\r\n  * total balance should be reduced only by the fee of this transaction\r\n* send to external P2SH address\r\n* send to external bech32 address\r\n\r\n### New wallet `-addresstype=bech32`\r\n(there's no bech32 compatible faucet, so just copy-paste a bech32 receive address and relaunch with the normal address type to fund it)\r\n* ...\r\n\r\n### Existing HD wallet\r\n* ...\r\n\r\n### Existing non-HD wallet\r\n* ...\r\n\r\n### Existing wallet that used `getwitnessaddress`\r\n\r\n## RPC\r\n### New wallet, default settings\r\n* create new address, should start with 2 ([link to RPC test])\r\n\r\n### New wallet `-addresstype=bech32`\r\n* ...\r\n\r\n### Existing HD wallet\r\n* ...\r\n\r\n### Existing non-HD wallet\r\n* ...\r\n\r\n## Issues I'm seeing:\r\n\r\n- [x] (Pending) balance is zero (seems fixed with #11839)\r\n<img width=\"1020\" alt=\"testnet 0 balance\" src=\"https://user-images.githubusercontent.com/10217/33481408-a01d546c-d694-11e7-97e6-cdc28757ca9a.png\">\r\nNot sure if this is intended / existing behavior. I received coins on a P2SH address, then spent some of it to another P2SH address in the wallet. That transaction is not confirmed yet. I would expect this balance to be pending. (will retest after #11839)\r\n\r\nI then sent more funds from an external source:\r\n<img width=\"1006\" alt=\"testnet balance\" src=\"https://user-images.githubusercontent.com/10217/33482147-f4321760-d697-11e7-9967-1090e6009e9e.png\">\r\nThe new funds show up under pending. Suddenly the total balance is correct again.\r\n\r\nWith bech32 I'm seeing something slightly different:\r\n<img width=\"506\" alt=\"bech32\" src=\"https://user-images.githubusercontent.com/10217/33487995-7e4c193e-d6af-11e7-8900-6009c1124819.png\">\r\n- [x] This time the total balance is correct, but the pending balance should be 0.1 BTC, since that transaction to myself is still unconfirmed (I didn't use RBF).  (seems fixed with #11839)\r\n\r\n- [x] ~\"unknown new rules activated (version bit 1)\"~ (happens on master as well, so unrelated)\r\n\r\n- [x] ~I didn't see a popup when transaction arrived (~maybe I missed it~ I can reproduce this)~ (not related, see #11840)",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-348482391",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1371651694,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTM3MTY1MTY5NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1371651694",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-05T00:09:44Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1373302285,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTM3MzMwMjI4NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1373302285",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-05T18:55:18Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1374144175,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTM3NDE0NDE3NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1374144175",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-06T06:02:08Z"
    },
    {
      "event": "commented",
      "id": 349544345,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTU0NDM0NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/349544345",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-06T06:04:12Z",
      "updated_at": "2017-12-06T06:04:12Z",
      "author_association": "MEMBER",
      "body": "@Sjors Thanks for the UI testing! I can't really explain what you're seeing, but note that sends-to-self always behave somewhat as an edge-case (as they're both from-self and to-self). Have a look at the `address_type.py` test I added, which acts entirely as expected, with 16 combinations of sends/receives between address/change types.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-349544345",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1374145964,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM3NDE0NTk2NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1374145964",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-06T06:04:12Z"
    },
    {
      "event": "subscribed",
      "id": 1374145965,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzNzQxNDU5NjU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1374145965",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-06T06:04:12Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1374180871,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTM3NDE4MDg3MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1374180871",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-06T06:41:25Z"
    },
    {
      "event": "mentioned",
      "id": 1374994849,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM3NDk5NDg0OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1374994849",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-06T15:22:17Z"
    },
    {
      "event": "subscribed",
      "id": 1374994850,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzNzQ5OTQ4NTA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1374994850",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-06T15:22:17Z"
    },
    {
      "event": "reviewed",
      "id": 81556928,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3ODE1NTY5Mjg=",
      "url": null,
      "actor": null,
      "commit_id": "e2e9ead25fe0ddb364e35f8eabb5a7f937d3973b",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-81556928",
      "submitted_at": "2017-12-06T15:22:17Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "reviewed",
      "id": 81560255,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3ODE1NjAyNTU=",
      "url": null,
      "actor": null,
      "commit_id": "e2e9ead25fe0ddb364e35f8eabb5a7f937d3973b",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-81560255",
      "submitted_at": "2017-12-06T15:31:14Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "commented",
      "id": 349679353,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTY3OTM1Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/349679353",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-06T15:45:36Z",
      "updated_at": "2017-12-06T15:45:36Z",
      "author_association": "MEMBER",
      "body": "@Sjors \"That transaction is not confirmed yet. I would expect this balance to be pending.\"\r\n\r\nSelf-sent coins(including change) are considered `IsTrusted`, which will account for these as \"Available\" and immediately spendable.\r\n\r\nNot sure why it wasn't showing as Available however. Testing here shows it there.\r\n\r\nWhat type of p2sh address was it? nested-p2wpkh?",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-349679353",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1375046456,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM3NTA0NjQ1Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1375046456",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-06T15:45:36Z"
    },
    {
      "event": "subscribed",
      "id": 1375046457,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzNzUwNDY0NTc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1375046457",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-06T15:45:36Z"
    },
    {
      "event": "commented",
      "id": 349681967,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTY4MTk2Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/349681967",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-06T15:53:47Z",
      "updated_at": "2017-12-06T15:53:47Z",
      "author_association": "MEMBER",
      "body": "I'm getting non-determinstic balance behavior. I have done a couple self-sends of the largest coin, seemed fine.\r\n\r\nIf I stop and restart, sometimes it shows in confirmed balance(-cli) or \"Available\"(qt), sometimes it doesn't. Repeating this process results in it either existing or not.\r\n\r\nI checked my debug.log, the transactions in the mempool are being accepted in either case.\r\n\r\nGenerating a block results in it being permanently accounted for. I'll dig in some more.",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-349681967",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "commented",
      "id": 349682089,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTY4MjA4OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/349682089",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-06T15:54:09Z",
      "updated_at": "2017-12-06T15:54:09Z",
      "author_association": "MEMBER",
      "body": "@instagibbs the p2sh generated if you launch without any arguments, so P2SH-P2WPKH. Where are `IsTrusted` and \"Available\" determined? At the wallet level, or is QT doing (some of) that?",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-349682089",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1375066217,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM3NTA2NjIxNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1375066217",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-06T15:54:09Z"
    },
    {
      "event": "subscribed",
      "id": 1375066218,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzNzUwNjYyMTg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1375066218",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-06T15:54:09Z"
    },
    {
      "event": "commented",
      "id": 349707242,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTcwNzI0Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/349707242",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-06T17:06:47Z",
      "updated_at": "2017-12-06T17:06:47Z",
      "author_association": "MEMBER",
      "body": "looks like we were chasing our tails, unrelated to this PR https://github.com/bitcoin/bitcoin/pull/11839",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-349707242",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1375524657,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM3NTUyNDY1Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1375524657",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-06T19:47:04Z"
    },
    {
      "event": "subscribed",
      "id": 1375524658,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzNzU1MjQ2NTg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1375524658",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-06T19:47:04Z"
    },
    {
      "event": "mentioned",
      "id": 1377522385,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM3NzUyMjM4NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1377522385",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-07T18:54:00Z"
    },
    {
      "event": "subscribed",
      "id": 1377522387,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzNzc1MjIzODc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1377522387",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-07T18:54:00Z"
    },
    {
      "event": "mentioned",
      "id": 1377522389,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM3NzUyMjM4OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1377522389",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-07T18:54:00Z"
    },
    {
      "event": "subscribed",
      "id": 1377522390,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzNzc1MjIzOTA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1377522390",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-07T18:54:00Z"
    },
    {
      "event": "reviewed",
      "id": 81882149,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3ODE4ODIxNDk=",
      "url": null,
      "actor": null,
      "commit_id": "3e2d5aa9a4694586a561f0e1b2ec3cc32981ba24",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Didn't get through a thourough review, mostly just read new code.",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-81882149",
      "submitted_at": "2017-12-07T23:12:20Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "commented",
      "id": 350123945,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDEyMzk0NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/350123945",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-07T23:14:39Z",
      "updated_at": "2017-12-07T23:14:39Z",
      "author_association": "MEMBER",
      "body": "Oh, obviously needs some docs that describe how to find lost funds if you downgrade and then upgrade again (rescan from segwit activation height). Though do we want some explicit RPC for this or so that rescans from max(oldest key time, segwit activation height)?",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-350123945",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "referenced",
      "id": 1379272446,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDEzNzkyNzI0NDY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1379272446",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "9c8eca7704e88b3f4ee38cf85bef0f1febc440e5",
      "commit_url": "https://api.github.com/repos/ryanofsky/bitcoin/commits/9c8eca7704e88b3f4ee38cf85bef0f1febc440e5",
      "created_at": "2017-12-08T17:56:13Z"
    },
    {
      "event": "reviewed",
      "id": 81980100,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3ODE5ODAxMDA=",
      "url": null,
      "actor": null,
      "commit_id": "7cf2eea1ebd76fbbe25b7a4bbabf9cc1df7b72eb",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-81980100",
      "submitted_at": "2017-12-08T22:28:25Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1380852105,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTM4MDg1MjEwNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1380852105",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-11T07:21:24Z"
    },
    {
      "event": "commented",
      "id": 350642408,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDY0MjQwOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/350642408",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-11T07:26:56Z",
      "updated_at": "2017-12-11T07:31:15Z",
      "author_association": "MEMBER",
      "body": "Pushed a change addressing:\r\n* Several of @TheBlueMatt and @ryanofsky's comments.\r\n* Rewrote the `validateaddress` changes; behaviour of P2SH and P2WSH is now much more consistent and documented (both will return `embedded` if possible). Also added a `pubkeys` field (as a replacement for the confusing `addresses` field for multisig, which remains supported for P2SH).\r\n* Renamed several functions (ImplicitlyLearnRelatedScripts, AddDestinationForKey, AddDestinationForScript).\r\n* Expanded `address_types.py` to include `validateaddress` and `addmultisigaddress` coverage.\r\n\r\nNo rebase, but the fixes are all squashed (e2e9ead25fe0ddb364e35f8eabb5a7f937d3973b -> 5b669dd51ae871d55312d2e83ca6c28b2e1e60fb).",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-350642408",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1380857948,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM4MDg1Nzk0OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1380857948",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-11T07:26:56Z"
    },
    {
      "event": "subscribed",
      "id": 1380857949,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzODA4NTc5NDk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1380857949",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-11T07:26:56Z"
    },
    {
      "event": "mentioned",
      "id": 1380857950,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM4MDg1Nzk1MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1380857950",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-11T07:26:56Z"
    },
    {
      "event": "subscribed",
      "id": 1380857951,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzODA4NTc5NTE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1380857951",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-11T07:26:56Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1380956474,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTM4MDk1NjQ3NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1380956474",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-11T08:47:24Z"
    },
    {
      "event": "commented",
      "id": 350698571,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDY5ODU3MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/350698571",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-11T11:31:17Z",
      "updated_at": "2017-12-11T11:31:17Z",
      "author_association": "MEMBER",
      "body": "The balance issues I found disappear when I cherry-pick #11839.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-350698571",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "reviewed",
      "id": 82465620,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3ODI0NjU2MjA=",
      "url": null,
      "actor": null,
      "commit_id": "04e82bca42409007fe42da534e2bedea1e929f00",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Needs a QT label?\r\n\r\nI find this latest version much easier to read.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-82465620",
      "submitted_at": "2017-12-11T13:50:08Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1382602242,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTM4MjYwMjI0Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1382602242",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-12T00:35:37Z"
    },
    {
      "event": "labeled",
      "id": 1383784865,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDEzODM3ODQ4NjU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1383784865",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-12T15:35:05Z",
      "label": {
        "name": "GUI",
        "color": "02d7e1"
      }
    },
    {
      "event": "commented",
      "id": 351107035,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MTEwNzAzNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/351107035",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-12T16:33:42Z",
      "updated_at": "2017-12-12T17:47:54Z",
      "author_association": "MEMBER",
      "body": "~~not a request for feature/change, just a note: `addmultisigaddress` creates a legacy p2sh no matter what argument is set. This means `addwitnessaddress` is still required for now at least in the case of witness multisig.~~\r\n\r\nNot sure how I got this wrong, it does do `addresstype` default.",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-351107035",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "commented",
      "id": 351113548,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MTExMzU0OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/351113548",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-12T16:54:24Z",
      "updated_at": "2017-12-12T17:48:16Z",
      "author_association": "MEMBER",
      "body": ">addmultisigaddress 1 '[\"bcrt1qk92l37qy9fvz7pmv88w4m0xz4cqlrag4d5fjxrz79av93mwjh7ssgtkemm\"]'\r\n>bcrt1qk92l37qy9fvz7pmv88w4m0xz4cqlrag4d5fjxrz79av93mwjh7ssgtkemm does not refer to a key (code -1)\r\n\r\n~~While I understand the reasoning behind not allowing it(moving towards always providing a pubkey), the error is pretty vague and confusing if the internals are not understood.~~ I was attempting to use a p2wsh inadvertently.",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-351113548",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "commented",
      "id": 351115650,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MTExNTY1MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/351115650",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-12T17:00:42Z",
      "updated_at": "2017-12-12T17:00:42Z",
      "author_association": "MEMBER",
      "body": "light tACK 0934bf61fbaeb1ea2bf4bd4a99c687a60c9fbf04",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-351115650",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "referenced",
      "id": 1384205025,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDEzODQyMDUwMjU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1384205025",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "22149540f9e74ddff84973d9818ec9a34a533764",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/22149540f9e74ddff84973d9818ec9a34a533764",
      "created_at": "2017-12-12T18:58:37Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1384237095,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTM4NDIzNzA5NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1384237095",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-12T19:16:32Z"
    },
    {
      "event": "commented",
      "id": 351161505,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MTE2MTUwNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/351161505",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-12T19:17:10Z",
      "updated_at": "2017-12-12T19:17:10Z",
      "author_association": "MEMBER",
      "body": "Rebased after merge of #11854.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-351161505",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "reviewed",
      "id": 82927083,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3ODI5MjcwODM=",
      "url": null,
      "actor": null,
      "commit_id": "4dbd4bb8ba6edd83fc8069fc7673f12e6ea5c7e8",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-82927083",
      "submitted_at": "2017-12-12T19:36:08Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "reviewed",
      "id": 82962510,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3ODI5NjI1MTA=",
      "url": null,
      "actor": null,
      "commit_id": "212d794ea5b2ade021657625a31527d85570781e",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-82962510",
      "submitted_at": "2017-12-12T21:55:14Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1384786421,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTM4NDc4NjQyMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1384786421",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-13T01:52:34Z"
    },
    {
      "event": "commented",
      "id": 351256637,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MTI1NjYzNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/351256637",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-13T01:55:39Z",
      "updated_at": "2017-12-13T01:55:39Z",
      "author_association": "MEMBER",
      "body": "Updated to address some of @ryanofsky's comments: a7661006b82484969506da49ffc695d2a5bea3d2 -> 50038c2cc7d6456a6725e120b0a11537585e2415.\r\n",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-351256637",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1384789222,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM4NDc4OTIyMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1384789222",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-13T01:55:39Z"
    },
    {
      "event": "subscribed",
      "id": 1384789223,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzODQ3ODkyMjM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1384789223",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-13T01:55:39Z"
    },
    {
      "event": "reviewed",
      "id": 82997805,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3ODI5OTc4MDU=",
      "url": null,
      "actor": null,
      "commit_id": "04e82bca42409007fe42da534e2bedea1e929f00",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "utACK 50038c2cc7d6456a6725e120b0a11537585e2415 for C++ code. Haven't looked closely at tests yet.\r\n\r\n@sipa thanks so much for answering all my questions and adding so many comments. It's really helped me understand a lot of wallet code I didn't get before.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-82997805",
      "submitted_at": "2017-12-13T23:08:09Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1386839553,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTM4NjgzOTU1Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1386839553",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-14T01:35:52Z"
    },
    {
      "event": "commented",
      "id": 351583330,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MTU4MzMzMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/351583330",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-14T01:50:02Z",
      "updated_at": "2017-12-14T01:50:02Z",
      "author_association": "MEMBER",
      "body": "Added in more comments in response to @ryanofsky's review. 50038c2cc7d6456a6725e120b0a11537585e2415 -> 23bbb033f6551b826ab63cdb57980e483ccecf92.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-351583330",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1386852119,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM4Njg1MjExOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1386852119",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-14T01:50:03Z"
    },
    {
      "event": "subscribed",
      "id": 1386852122,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzODY4NTIxMjI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1386852122",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-14T01:50:03Z"
    },
    {
      "event": "reviewed",
      "id": 83563917,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3ODM1NjM5MTc=",
      "url": null,
      "actor": null,
      "commit_id": "23bbb033f6551b826ab63cdb57980e483ccecf92",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "utACK 23bbb033f6551b826ab63cdb57980e483ccecf92. Change looks great and I hope this close to being merged!\r\n\r\nI collected remaining TODOs from comments above. IMO, none are particularly important, and it'd be fine to skip or save any of these for future PRs.\r\n\r\n- [ ] add -addresstype and -changetype parsing tests https://github.com/bitcoin/bitcoin/pull/11403#discussion_r141033697, https://github.com/bitcoin/bitcoin/pull/11403#discussion_r141966093\r\n- [ ] add getnewaddress address_type parsing test https://github.com/bitcoin/bitcoin/pull/11403#discussion_r141034483\r\n- [ ] add getrawchangeaddress address_type parsing test https://github.com/bitcoin/bitcoin/pull/11403#discussion_r141034981, https://github.com/bitcoin/bitcoin/pull/11403#discussion_r141966363\r\n- [ ] avoid redundant AddCScript calls in AddDestinationForKey, AddDestinationForScript, and AddRelatedScripts https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155665399\r\n- [ ] remove or move AddCScript calls in AddDestinationForKey, AddDestinationForScript by either dropping support for downgrading or by inserting scripts in more appropriate place, like on removal of keys from keypool https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155889073\r\n- [ ] document downgrade/upgrade procedure https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-350123945\r\n- [ ] replace overloaded CKeyID/CScriptID types in CTxDestination variant https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155821355\r\n- [ ] add some kind of test coverage for downgrade code that we may never know is broken https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156506863",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-83563917",
      "submitted_at": "2017-12-14T17:13:28Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "commented",
      "id": 351855906,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MTg1NTkwNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/351855906",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-14T22:29:42Z",
      "updated_at": "2017-12-14T22:29:42Z",
      "author_association": "MEMBER",
      "body": "@TheBlueMatt asked me to review the integration tests part of this. I got as far as the new address_types test, but I found it really difficult to read because of the nested for loops with unobvious index names. I ended up rewriting it completely here: https://github.com/jnewbery/bitcoin/tree/pr11403.1\r\n\r\n@sipa - can you take a look. Feel free to take the commit entirely or pick out bits that you like. I made a few other changes while I was there:\r\n- moved block generation to a 5th node, so accounting in the test didn't need to worry about coinbases maturing out of nowhere.\r\n- overrode the `setup_network()` method so all nodes are connected in a mesh. Default topology in the test framework is a chain, and I noticed tx propogation was really slow. changing to a full mesh network cuts test time in half.\r\n- added commenting and logging.\r\n- added checking for the sending node's {unconfirmed,} balance after each iteration.\r\n\r\nYour original test iterated over each node 4 times (twice for single key addresses and twice for multisig addresses). I don't know if that's strictly necessary, but I've retained it in my version of the test.",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-351855906",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1388648476,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM4ODY0ODQ3Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1388648476",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-14T22:29:42Z"
    },
    {
      "event": "subscribed",
      "id": 1388648477,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzODg2NDg0Nzc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1388648477",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-14T22:29:42Z"
    },
    {
      "event": "mentioned",
      "id": 1388648478,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM4ODY0ODQ3OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1388648478",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-14T22:29:42Z"
    },
    {
      "event": "subscribed",
      "id": 1388648479,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzODg2NDg0Nzk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1388648479",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-14T22:29:42Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1390214635,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTM5MDIxNDYzNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1390214635",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-15T19:43:09Z"
    },
    {
      "event": "commented",
      "id": 352095070,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjA5NTA3MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352095070",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-15T19:45:50Z",
      "updated_at": "2017-12-15T19:45:50Z",
      "author_association": "MEMBER",
      "body": "@ryanofsky Thanks a lot for your extensive review and agree with most things on the TODO list, though I prefer not expanding the scope in this PR right now.\r\n\r\n@jnewbery Thanks, that looks easier to read indeed. I've squashed it into my commit, and made some more changes.\r\n\r\nAll: I noticed that when selecting `-addresstype=p2sh`, `addmultisigaddress` would produce P2SH-multisig addresses rather than P2SH-P2WSH-multisig (which isn't really consistent with `getnewaddress` which would produce P2SH-P2WPKH in that case). I've rectified this, and adapted the tests.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-352095070",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1390218946,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM5MDIxODk0Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1390218946",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-15T19:45:50Z"
    },
    {
      "event": "subscribed",
      "id": 1390218947,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzOTAyMTg5NDc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1390218947",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-15T19:45:50Z"
    },
    {
      "event": "mentioned",
      "id": 1390218951,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM5MDIxODk1MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1390218951",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-15T19:45:50Z"
    },
    {
      "event": "subscribed",
      "id": 1390218953,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzOTAyMTg5NTM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1390218953",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-15T19:45:50Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1390502714,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTM5MDUwMjcxNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1390502714",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-15T23:39:31Z"
    },
    {
      "event": "commented",
      "id": 352169821,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjE2OTgyMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352169821",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-16T08:37:24Z",
      "updated_at": "2017-12-16T08:37:24Z",
      "author_association": "MEMBER",
      "body": "Fails the windows tests currently on travis:\r\n```\r\nRunning A272 test cases...\r\n\r\nssertion failed!\r\n\r\nProgram: Z:\\home\\travis\\build\\bitcoin\\bitcoin\\build\\bitcoin-x86_64-w64-mingw32\\src\\test\\test_bitcoin.exe\r\nFile: wallet/wallet.cpp, Line 4202\r\n\r\nExpression: false\r\n```\r\n",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-352169821",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "commented",
      "id": 352265566,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjI2NTU2Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352265566",
      "actor": {
        "login": "FelixWeis",
        "id": 551068,
        "node_id": "MDQ6VXNlcjU1MTA2OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/551068?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/FelixWeis",
        "html_url": "https://github.com/FelixWeis",
        "followers_url": "https://api.github.com/users/FelixWeis/followers",
        "following_url": "https://api.github.com/users/FelixWeis/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/FelixWeis/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/FelixWeis/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/FelixWeis/subscriptions",
        "organizations_url": "https://api.github.com/users/FelixWeis/orgs",
        "repos_url": "https://api.github.com/users/FelixWeis/repos",
        "events_url": "https://api.github.com/users/FelixWeis/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/FelixWeis/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-17T15:58:30Z",
      "updated_at": "2017-12-17T16:02:33Z",
      "author_association": "CONTRIBUTOR",
      "body": "What's the rationale for not using `bech32` by default for `-changetype`? They are never user-facing so (short term) compatibility isn't an issue and the sender will enjoy full segwit savings for successive spending operations.",
      "user": {
        "login": "FelixWeis",
        "id": 551068,
        "node_id": "MDQ6VXNlcjU1MTA2OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/551068?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/FelixWeis",
        "html_url": "https://github.com/FelixWeis",
        "followers_url": "https://api.github.com/users/FelixWeis/followers",
        "following_url": "https://api.github.com/users/FelixWeis/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/FelixWeis/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/FelixWeis/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/FelixWeis/subscriptions",
        "organizations_url": "https://api.github.com/users/FelixWeis/orgs",
        "repos_url": "https://api.github.com/users/FelixWeis/repos",
        "events_url": "https://api.github.com/users/FelixWeis/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/FelixWeis/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-352265566",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "commented",
      "id": 352272903,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjI3MjkwMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352272903",
      "actor": {
        "login": "Ulmo",
        "id": 224672,
        "node_id": "MDQ6VXNlcjIyNDY3Mg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/224672?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Ulmo",
        "html_url": "https://github.com/Ulmo",
        "followers_url": "https://api.github.com/users/Ulmo/followers",
        "following_url": "https://api.github.com/users/Ulmo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Ulmo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Ulmo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Ulmo/subscriptions",
        "organizations_url": "https://api.github.com/users/Ulmo/orgs",
        "repos_url": "https://api.github.com/users/Ulmo/repos",
        "events_url": "https://api.github.com/users/Ulmo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Ulmo/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-17T17:50:48Z",
      "updated_at": "2017-12-17T23:46:55Z",
      "author_association": "NONE",
      "body": "I've never used GIT for specific patches, and pretty new to GIT overall.  How do I get a merge patchball from GIT to apply this change to test it?  I just did \"git pull origin master\", built, and started \"bitcoin-qt -addresstype bech32\", and Console's \"getnewaddress\" gave me \"16ESqniuMJ3eXViX7MiHWSBb2iGN4PcScS\", which is clearly not a Bech32 address.\r\n\r\nI did \"make check\" and everything passed.",
      "user": {
        "login": "Ulmo",
        "id": 224672,
        "node_id": "MDQ6VXNlcjIyNDY3Mg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/224672?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Ulmo",
        "html_url": "https://github.com/Ulmo",
        "followers_url": "https://api.github.com/users/Ulmo/followers",
        "following_url": "https://api.github.com/users/Ulmo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Ulmo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Ulmo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Ulmo/subscriptions",
        "organizations_url": "https://api.github.com/users/Ulmo/orgs",
        "repos_url": "https://api.github.com/users/Ulmo/repos",
        "events_url": "https://api.github.com/users/Ulmo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Ulmo/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-352272903",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "commented",
      "id": 352274028,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjI3NDAyOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352274028",
      "actor": {
        "login": "flack",
        "id": 425166,
        "node_id": "MDQ6VXNlcjQyNTE2Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/425166?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/flack",
        "html_url": "https://github.com/flack",
        "followers_url": "https://api.github.com/users/flack/followers",
        "following_url": "https://api.github.com/users/flack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/flack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/flack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/flack/subscriptions",
        "organizations_url": "https://api.github.com/users/flack/orgs",
        "repos_url": "https://api.github.com/users/flack/repos",
        "events_url": "https://api.github.com/users/flack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/flack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-17T18:06:49Z",
      "updated_at": "2017-12-17T18:06:49Z",
      "author_association": "CONTRIBUTOR",
      "body": "@Ulmo try https://gist.github.com/piscisaureus/3342247 (or Stackoverflow if it doesn't work)",
      "user": {
        "login": "flack",
        "id": 425166,
        "node_id": "MDQ6VXNlcjQyNTE2Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/425166?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/flack",
        "html_url": "https://github.com/flack",
        "followers_url": "https://api.github.com/users/flack/followers",
        "following_url": "https://api.github.com/users/flack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/flack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/flack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/flack/subscriptions",
        "organizations_url": "https://api.github.com/users/flack/orgs",
        "repos_url": "https://api.github.com/users/flack/repos",
        "events_url": "https://api.github.com/users/flack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/flack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-352274028",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1391155580,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM5MTE1NTU4MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1391155580",
      "actor": {
        "login": "Ulmo",
        "id": 224672,
        "node_id": "MDQ6VXNlcjIyNDY3Mg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/224672?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Ulmo",
        "html_url": "https://github.com/Ulmo",
        "followers_url": "https://api.github.com/users/Ulmo/followers",
        "following_url": "https://api.github.com/users/Ulmo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Ulmo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Ulmo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Ulmo/subscriptions",
        "organizations_url": "https://api.github.com/users/Ulmo/orgs",
        "repos_url": "https://api.github.com/users/Ulmo/repos",
        "events_url": "https://api.github.com/users/Ulmo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Ulmo/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-17T18:06:49Z"
    },
    {
      "event": "subscribed",
      "id": 1391155581,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzOTExNTU1ODE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1391155581",
      "actor": {
        "login": "Ulmo",
        "id": 224672,
        "node_id": "MDQ6VXNlcjIyNDY3Mg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/224672?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Ulmo",
        "html_url": "https://github.com/Ulmo",
        "followers_url": "https://api.github.com/users/Ulmo/followers",
        "following_url": "https://api.github.com/users/Ulmo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Ulmo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Ulmo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Ulmo/subscriptions",
        "organizations_url": "https://api.github.com/users/Ulmo/orgs",
        "repos_url": "https://api.github.com/users/Ulmo/repos",
        "events_url": "https://api.github.com/users/Ulmo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Ulmo/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-17T18:06:49Z"
    },
    {
      "event": "commented",
      "id": 352277235,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjI3NzIzNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352277235",
      "actor": {
        "login": "hsjoberg",
        "id": 3824379,
        "node_id": "MDQ6VXNlcjM4MjQzNzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3824379?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hsjoberg",
        "html_url": "https://github.com/hsjoberg",
        "followers_url": "https://api.github.com/users/hsjoberg/followers",
        "following_url": "https://api.github.com/users/hsjoberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hsjoberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hsjoberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hsjoberg/subscriptions",
        "organizations_url": "https://api.github.com/users/hsjoberg/orgs",
        "repos_url": "https://api.github.com/users/hsjoberg/repos",
        "events_url": "https://api.github.com/users/hsjoberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hsjoberg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-17T19:00:58Z",
      "updated_at": "2017-12-17T19:00:58Z",
      "author_association": "CONTRIBUTOR",
      "body": "@Ulmo manually doing\r\n```\r\ngit remote add sipa https://github.com/sipa/bitcoin\r\ngit fetch sipa 201709_segwitwallet2\r\ngit checkout sipa/201709_segwitwallet2 \r\n```\r\n\r\nShould work too.",
      "user": {
        "login": "hsjoberg",
        "id": 3824379,
        "node_id": "MDQ6VXNlcjM4MjQzNzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3824379?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hsjoberg",
        "html_url": "https://github.com/hsjoberg",
        "followers_url": "https://api.github.com/users/hsjoberg/followers",
        "following_url": "https://api.github.com/users/hsjoberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hsjoberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hsjoberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hsjoberg/subscriptions",
        "organizations_url": "https://api.github.com/users/hsjoberg/orgs",
        "repos_url": "https://api.github.com/users/hsjoberg/repos",
        "events_url": "https://api.github.com/users/hsjoberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hsjoberg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-352277235",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1391171401,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM5MTE3MTQwMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1391171401",
      "actor": {
        "login": "Ulmo",
        "id": 224672,
        "node_id": "MDQ6VXNlcjIyNDY3Mg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/224672?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Ulmo",
        "html_url": "https://github.com/Ulmo",
        "followers_url": "https://api.github.com/users/Ulmo/followers",
        "following_url": "https://api.github.com/users/Ulmo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Ulmo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Ulmo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Ulmo/subscriptions",
        "organizations_url": "https://api.github.com/users/Ulmo/orgs",
        "repos_url": "https://api.github.com/users/Ulmo/repos",
        "events_url": "https://api.github.com/users/Ulmo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Ulmo/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-17T19:00:58Z"
    },
    {
      "event": "subscribed",
      "id": 1391171402,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzOTExNzE0MDI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1391171402",
      "actor": {
        "login": "Ulmo",
        "id": 224672,
        "node_id": "MDQ6VXNlcjIyNDY3Mg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/224672?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Ulmo",
        "html_url": "https://github.com/Ulmo",
        "followers_url": "https://api.github.com/users/Ulmo/followers",
        "following_url": "https://api.github.com/users/Ulmo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Ulmo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Ulmo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Ulmo/subscriptions",
        "organizations_url": "https://api.github.com/users/Ulmo/orgs",
        "repos_url": "https://api.github.com/users/Ulmo/repos",
        "events_url": "https://api.github.com/users/Ulmo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Ulmo/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-17T19:00:58Z"
    },
    {
      "event": "commented",
      "id": 352277484,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjI3NzQ4NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352277484",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-17T19:05:17Z",
      "updated_at": "2017-12-17T19:06:15Z",
      "author_association": "MEMBER",
      "body": "Tested ACK e721efb\r\n\r\n> Should work too.\r\n\r\nAlternatively (assuming remote `origin` is pointed to `bitcoin/bitcoin`):\r\n```\r\ngit fetch origin pull/11403/head\r\ngit checkout FETCH_HEAD\r\n```",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-352277484",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "commented",
      "id": 352278840,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjI3ODg0MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352278840",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-17T19:24:25Z",
      "updated_at": "2017-12-17T19:24:25Z",
      "author_association": "CONTRIBUTOR",
      "body": "Tested ACK e721efb2bd3687176c0e93e1c5a9e9e31f76b083\r\n* Compiled and run on different environments\r\n* Extensively tested on OSX\r\n\r\nGitian build:\r\nhttps://bitcoin.jonasschnelli.ch/build/422 (failed linux build is unrelated)\r\n",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-352278840",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "commented",
      "id": 352280329,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjI4MDMyOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352280329",
      "actor": {
        "login": "hsjoberg",
        "id": 3824379,
        "node_id": "MDQ6VXNlcjM4MjQzNzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3824379?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hsjoberg",
        "html_url": "https://github.com/hsjoberg",
        "followers_url": "https://api.github.com/users/hsjoberg/followers",
        "following_url": "https://api.github.com/users/hsjoberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hsjoberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hsjoberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hsjoberg/subscriptions",
        "organizations_url": "https://api.github.com/users/hsjoberg/orgs",
        "repos_url": "https://api.github.com/users/hsjoberg/repos",
        "events_url": "https://api.github.com/users/hsjoberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hsjoberg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-17T19:46:59Z",
      "updated_at": "2017-12-17T19:53:48Z",
      "author_association": "CONTRIBUTOR",
      "body": "Tested ACK e721efb.\r\n\r\nCompiles and runs fine on Linux x86_64 Debian (Mint).\r\nAre there any outstanding issues that need help/testing?",
      "user": {
        "login": "hsjoberg",
        "id": 3824379,
        "node_id": "MDQ6VXNlcjM4MjQzNzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3824379?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hsjoberg",
        "html_url": "https://github.com/hsjoberg",
        "followers_url": "https://api.github.com/users/hsjoberg/followers",
        "following_url": "https://api.github.com/users/hsjoberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hsjoberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hsjoberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hsjoberg/subscriptions",
        "organizations_url": "https://api.github.com/users/hsjoberg/orgs",
        "repos_url": "https://api.github.com/users/hsjoberg/repos",
        "events_url": "https://api.github.com/users/hsjoberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hsjoberg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-352280329",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "commented",
      "id": 352283400,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjI4MzQwMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352283400",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-17T20:35:38Z",
      "updated_at": "2017-12-17T20:35:38Z",
      "author_association": "MEMBER",
      "body": "bip68-sequence.py is broken on this branch (+ the travis assert failures)",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-352283400",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "commented",
      "id": 352285423,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjI4NTQyMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352285423",
      "actor": {
        "login": "juscamarena",
        "id": 446261,
        "node_id": "MDQ6VXNlcjQ0NjI2MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/446261?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/juscamarena",
        "html_url": "https://github.com/juscamarena",
        "followers_url": "https://api.github.com/users/juscamarena/followers",
        "following_url": "https://api.github.com/users/juscamarena/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/juscamarena/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/juscamarena/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/juscamarena/subscriptions",
        "organizations_url": "https://api.github.com/users/juscamarena/orgs",
        "repos_url": "https://api.github.com/users/juscamarena/repos",
        "events_url": "https://api.github.com/users/juscamarena/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/juscamarena/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-17T21:04:41Z",
      "updated_at": "2017-12-17T21:04:41Z",
      "author_association": "NONE",
      "body": "@FelixWeis if it's default I'm not sure every service can receive from bech32, looking at coinbase. I'd prefer it, but it I'm wondering how many other services are as broken as coinbase. https://twitter.com/karel_3d/status/939974972163940353\r\n\r\nI guess it's on them to fix it and conform to standard behavior anyway. There is also privacy related issues with that.",
      "user": {
        "login": "juscamarena",
        "id": 446261,
        "node_id": "MDQ6VXNlcjQ0NjI2MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/446261?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/juscamarena",
        "html_url": "https://github.com/juscamarena",
        "followers_url": "https://api.github.com/users/juscamarena/followers",
        "following_url": "https://api.github.com/users/juscamarena/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/juscamarena/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/juscamarena/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/juscamarena/subscriptions",
        "organizations_url": "https://api.github.com/users/juscamarena/orgs",
        "repos_url": "https://api.github.com/users/juscamarena/repos",
        "events_url": "https://api.github.com/users/juscamarena/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/juscamarena/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-352285423",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1391207522,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM5MTIwNzUyMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1391207522",
      "actor": {
        "login": "FelixWeis",
        "id": 551068,
        "node_id": "MDQ6VXNlcjU1MTA2OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/551068?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/FelixWeis",
        "html_url": "https://github.com/FelixWeis",
        "followers_url": "https://api.github.com/users/FelixWeis/followers",
        "following_url": "https://api.github.com/users/FelixWeis/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/FelixWeis/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/FelixWeis/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/FelixWeis/subscriptions",
        "organizations_url": "https://api.github.com/users/FelixWeis/orgs",
        "repos_url": "https://api.github.com/users/FelixWeis/repos",
        "events_url": "https://api.github.com/users/FelixWeis/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/FelixWeis/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-17T21:04:41Z"
    },
    {
      "event": "subscribed",
      "id": 1391207523,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzOTEyMDc1MjM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1391207523",
      "actor": {
        "login": "FelixWeis",
        "id": 551068,
        "node_id": "MDQ6VXNlcjU1MTA2OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/551068?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/FelixWeis",
        "html_url": "https://github.com/FelixWeis",
        "followers_url": "https://api.github.com/users/FelixWeis/followers",
        "following_url": "https://api.github.com/users/FelixWeis/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/FelixWeis/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/FelixWeis/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/FelixWeis/subscriptions",
        "organizations_url": "https://api.github.com/users/FelixWeis/orgs",
        "repos_url": "https://api.github.com/users/FelixWeis/repos",
        "events_url": "https://api.github.com/users/FelixWeis/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/FelixWeis/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-17T21:04:41Z"
    },
    {
      "event": "commented",
      "id": 352285560,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjI4NTU2MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352285560",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-17T21:06:48Z",
      "updated_at": "2017-12-17T21:07:21Z",
      "author_association": "MEMBER",
      "body": "@FelixWeis the rationale is to not reveal which output of yours is change by default as it would massively harm privacy by default.\r\n\r\n@juscamarena it shouldnt matter for change, for default address types, indeed, it would be premature to use bech32 by default, but for change we can do whatever we want.",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-352285560",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1391208160,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM5MTIwODE2MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1391208160",
      "actor": {
        "login": "FelixWeis",
        "id": 551068,
        "node_id": "MDQ6VXNlcjU1MTA2OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/551068?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/FelixWeis",
        "html_url": "https://github.com/FelixWeis",
        "followers_url": "https://api.github.com/users/FelixWeis/followers",
        "following_url": "https://api.github.com/users/FelixWeis/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/FelixWeis/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/FelixWeis/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/FelixWeis/subscriptions",
        "organizations_url": "https://api.github.com/users/FelixWeis/orgs",
        "repos_url": "https://api.github.com/users/FelixWeis/repos",
        "events_url": "https://api.github.com/users/FelixWeis/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/FelixWeis/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-17T21:06:48Z"
    },
    {
      "event": "subscribed",
      "id": 1391208161,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzOTEyMDgxNjE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1391208161",
      "actor": {
        "login": "FelixWeis",
        "id": 551068,
        "node_id": "MDQ6VXNlcjU1MTA2OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/551068?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/FelixWeis",
        "html_url": "https://github.com/FelixWeis",
        "followers_url": "https://api.github.com/users/FelixWeis/followers",
        "following_url": "https://api.github.com/users/FelixWeis/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/FelixWeis/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/FelixWeis/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/FelixWeis/subscriptions",
        "organizations_url": "https://api.github.com/users/FelixWeis/orgs",
        "repos_url": "https://api.github.com/users/FelixWeis/repos",
        "events_url": "https://api.github.com/users/FelixWeis/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/FelixWeis/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-17T21:06:48Z"
    },
    {
      "event": "mentioned",
      "id": 1391208318,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM5MTIwODMxOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1391208318",
      "actor": {
        "login": "juscamarena",
        "id": 446261,
        "node_id": "MDQ6VXNlcjQ0NjI2MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/446261?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/juscamarena",
        "html_url": "https://github.com/juscamarena",
        "followers_url": "https://api.github.com/users/juscamarena/followers",
        "following_url": "https://api.github.com/users/juscamarena/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/juscamarena/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/juscamarena/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/juscamarena/subscriptions",
        "organizations_url": "https://api.github.com/users/juscamarena/orgs",
        "repos_url": "https://api.github.com/users/juscamarena/repos",
        "events_url": "https://api.github.com/users/juscamarena/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/juscamarena/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-17T21:07:21Z"
    },
    {
      "event": "subscribed",
      "id": 1391208319,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzOTEyMDgzMTk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1391208319",
      "actor": {
        "login": "juscamarena",
        "id": 446261,
        "node_id": "MDQ6VXNlcjQ0NjI2MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/446261?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/juscamarena",
        "html_url": "https://github.com/juscamarena",
        "followers_url": "https://api.github.com/users/juscamarena/followers",
        "following_url": "https://api.github.com/users/juscamarena/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/juscamarena/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/juscamarena/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/juscamarena/subscriptions",
        "organizations_url": "https://api.github.com/users/juscamarena/orgs",
        "repos_url": "https://api.github.com/users/juscamarena/repos",
        "events_url": "https://api.github.com/users/juscamarena/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/juscamarena/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-17T21:07:21Z"
    },
    {
      "event": "commented",
      "id": 352285670,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjI4NTY3MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352285670",
      "actor": {
        "login": "hsjoberg",
        "id": 3824379,
        "node_id": "MDQ6VXNlcjM4MjQzNzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3824379?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hsjoberg",
        "html_url": "https://github.com/hsjoberg",
        "followers_url": "https://api.github.com/users/hsjoberg/followers",
        "following_url": "https://api.github.com/users/hsjoberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hsjoberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hsjoberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hsjoberg/subscriptions",
        "organizations_url": "https://api.github.com/users/hsjoberg/orgs",
        "repos_url": "https://api.github.com/users/hsjoberg/repos",
        "events_url": "https://api.github.com/users/hsjoberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hsjoberg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-17T21:08:41Z",
      "updated_at": "2017-12-17T21:08:41Z",
      "author_association": "CONTRIBUTOR",
      "body": "@juscamarena Old nodes wouldn't be able to trust non-standard transactions, and so they won't show up before they get confirmed. That's why the payment processor part of Coinbase and BitPay had problems.\r\n\r\nI think this applies to P2WPKH in P2SH too, but perhaps someone else can confirm that.",
      "user": {
        "login": "hsjoberg",
        "id": 3824379,
        "node_id": "MDQ6VXNlcjM4MjQzNzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3824379?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hsjoberg",
        "html_url": "https://github.com/hsjoberg",
        "followers_url": "https://api.github.com/users/hsjoberg/followers",
        "following_url": "https://api.github.com/users/hsjoberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hsjoberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hsjoberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hsjoberg/subscriptions",
        "organizations_url": "https://api.github.com/users/hsjoberg/orgs",
        "repos_url": "https://api.github.com/users/hsjoberg/repos",
        "events_url": "https://api.github.com/users/hsjoberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hsjoberg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-352285670",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1391208761,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM5MTIwODc2MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1391208761",
      "actor": {
        "login": "juscamarena",
        "id": 446261,
        "node_id": "MDQ6VXNlcjQ0NjI2MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/446261?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/juscamarena",
        "html_url": "https://github.com/juscamarena",
        "followers_url": "https://api.github.com/users/juscamarena/followers",
        "following_url": "https://api.github.com/users/juscamarena/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/juscamarena/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/juscamarena/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/juscamarena/subscriptions",
        "organizations_url": "https://api.github.com/users/juscamarena/orgs",
        "repos_url": "https://api.github.com/users/juscamarena/repos",
        "events_url": "https://api.github.com/users/juscamarena/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/juscamarena/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-17T21:08:41Z"
    },
    {
      "event": "subscribed",
      "id": 1391208762,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzOTEyMDg3NjI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1391208762",
      "actor": {
        "login": "juscamarena",
        "id": 446261,
        "node_id": "MDQ6VXNlcjQ0NjI2MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/446261?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/juscamarena",
        "html_url": "https://github.com/juscamarena",
        "followers_url": "https://api.github.com/users/juscamarena/followers",
        "following_url": "https://api.github.com/users/juscamarena/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/juscamarena/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/juscamarena/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/juscamarena/subscriptions",
        "organizations_url": "https://api.github.com/users/juscamarena/orgs",
        "repos_url": "https://api.github.com/users/juscamarena/repos",
        "events_url": "https://api.github.com/users/juscamarena/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/juscamarena/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-17T21:08:41Z"
    },
    {
      "event": "commented",
      "id": 352287609,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjI4NzYwOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352287609",
      "actor": {
        "login": "sturles",
        "id": 15728135,
        "node_id": "MDQ6VXNlcjE1NzI4MTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15728135?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sturles",
        "html_url": "https://github.com/sturles",
        "followers_url": "https://api.github.com/users/sturles/followers",
        "following_url": "https://api.github.com/users/sturles/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sturles/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sturles/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sturles/subscriptions",
        "organizations_url": "https://api.github.com/users/sturles/orgs",
        "repos_url": "https://api.github.com/users/sturles/repos",
        "events_url": "https://api.github.com/users/sturles/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sturles/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-17T21:39:04Z",
      "updated_at": "2017-12-17T21:39:04Z",
      "author_association": "NONE",
      "body": "Testing this now.\r\n\r\nMy address generation script, which already converts to P2SH-P2WPKH and P2WPKH (bech32) as alternatives to users, was confused by the new default behaviour.  The P2SH address can't be converted to bech32 using addwitnessaddress.  Not a bug, but new behaviour which may come as a surprise to some.\r\n\r\nThe embedded address in P2SH, as reported by validateaddress P2SH-address, does not inherit the label (account) of the P2SH address.  IMO it should when it was generated with the account as parameter to getnewaddress, but I can work around it by using setaccount separately on the embedded bech32 address.",
      "user": {
        "login": "sturles",
        "id": 15728135,
        "node_id": "MDQ6VXNlcjE1NzI4MTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15728135?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sturles",
        "html_url": "https://github.com/sturles",
        "followers_url": "https://api.github.com/users/sturles/followers",
        "following_url": "https://api.github.com/users/sturles/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sturles/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sturles/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sturles/subscriptions",
        "organizations_url": "https://api.github.com/users/sturles/orgs",
        "repos_url": "https://api.github.com/users/sturles/repos",
        "events_url": "https://api.github.com/users/sturles/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sturles/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-352287609",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "commented",
      "id": 352288367,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjI4ODM2Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352288367",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-17T21:49:50Z",
      "updated_at": "2017-12-17T21:49:50Z",
      "author_association": "MEMBER",
      "body": "@sturles You can also generate a bech32 address directly by passing the  `addresstype` parameter to `getnewaddress`. Long term, I don't think we'll be maintaining the possibility of coverting one address type to another.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-352288367",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1391221466,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM5MTIyMTQ2Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1391221466",
      "actor": {
        "login": "sturles",
        "id": 15728135,
        "node_id": "MDQ6VXNlcjE1NzI4MTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15728135?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sturles",
        "html_url": "https://github.com/sturles",
        "followers_url": "https://api.github.com/users/sturles/followers",
        "following_url": "https://api.github.com/users/sturles/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sturles/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sturles/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sturles/subscriptions",
        "organizations_url": "https://api.github.com/users/sturles/orgs",
        "repos_url": "https://api.github.com/users/sturles/repos",
        "events_url": "https://api.github.com/users/sturles/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sturles/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-17T21:49:50Z"
    },
    {
      "event": "subscribed",
      "id": 1391221467,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzOTEyMjE0Njc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1391221467",
      "actor": {
        "login": "sturles",
        "id": 15728135,
        "node_id": "MDQ6VXNlcjE1NzI4MTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15728135?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sturles",
        "html_url": "https://github.com/sturles",
        "followers_url": "https://api.github.com/users/sturles/followers",
        "following_url": "https://api.github.com/users/sturles/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sturles/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sturles/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sturles/subscriptions",
        "organizations_url": "https://api.github.com/users/sturles/orgs",
        "repos_url": "https://api.github.com/users/sturles/repos",
        "events_url": "https://api.github.com/users/sturles/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sturles/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-17T21:49:50Z"
    },
    {
      "event": "commented",
      "id": 352290607,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjI5MDYwNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352290607",
      "actor": {
        "login": "hsjoberg",
        "id": 3824379,
        "node_id": "MDQ6VXNlcjM4MjQzNzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3824379?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hsjoberg",
        "html_url": "https://github.com/hsjoberg",
        "followers_url": "https://api.github.com/users/hsjoberg/followers",
        "following_url": "https://api.github.com/users/hsjoberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hsjoberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hsjoberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hsjoberg/subscriptions",
        "organizations_url": "https://api.github.com/users/hsjoberg/orgs",
        "repos_url": "https://api.github.com/users/hsjoberg/repos",
        "events_url": "https://api.github.com/users/hsjoberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hsjoberg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-17T22:21:45Z",
      "updated_at": "2017-12-17T22:21:45Z",
      "author_association": "CONTRIBUTOR",
      "body": "Pull request to fix the bip68-sequence.py test open for @sipa's branch.\r\n(I'm not sure if this the correct routine for adding commits to another persons pull request.)\r\n\r\nAlso, this PR let's the user set the address type through the configuration file -- it would be nice if this could be exposed from the Qt GUI as well.\r\nIf there's any interest, I have code ready for that which could be looked into once this PR is merged.",
      "user": {
        "login": "hsjoberg",
        "id": 3824379,
        "node_id": "MDQ6VXNlcjM4MjQzNzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3824379?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hsjoberg",
        "html_url": "https://github.com/hsjoberg",
        "followers_url": "https://api.github.com/users/hsjoberg/followers",
        "following_url": "https://api.github.com/users/hsjoberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hsjoberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hsjoberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hsjoberg/subscriptions",
        "organizations_url": "https://api.github.com/users/hsjoberg/orgs",
        "repos_url": "https://api.github.com/users/hsjoberg/repos",
        "events_url": "https://api.github.com/users/hsjoberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hsjoberg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-352290607",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1391231494,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM5MTIzMTQ5NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1391231494",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-17T22:21:45Z"
    },
    {
      "event": "subscribed",
      "id": 1391231495,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzOTEyMzE0OTU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1391231495",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-17T22:21:45Z"
    },
    {
      "event": "commented",
      "id": 352295812,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjI5NTgxMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352295812",
      "actor": {
        "login": "Ulmo",
        "id": 224672,
        "node_id": "MDQ6VXNlcjIyNDY3Mg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/224672?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Ulmo",
        "html_url": "https://github.com/Ulmo",
        "followers_url": "https://api.github.com/users/Ulmo/followers",
        "following_url": "https://api.github.com/users/Ulmo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Ulmo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Ulmo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Ulmo/subscriptions",
        "organizations_url": "https://api.github.com/users/Ulmo/orgs",
        "repos_url": "https://api.github.com/users/Ulmo/repos",
        "events_url": "https://api.github.com/users/Ulmo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Ulmo/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-17T23:45:08Z",
      "updated_at": "2017-12-17T23:45:08Z",
      "author_association": "NONE",
      "body": "Thanks for the git help.  Using sipa/201709_segwitwallet2, I get the following startup error (latest macOS):\r\n\r\n$ bitcoin-qt -addresstype bech32\r\nPaymentServer::ipcSendCommandLine: Payment request file does not exist:  \"bech32\"\r\n\r\nAnd I get the following response inside the console:\r\n\r\n15:39:47   getnewaddress\r\n15:39:58  16ESqniuMJ3eXViX7MiHWSBb2iGN4PcScS\r\n\r\nI'll poke around and see what's up for a few minutes.",
      "user": {
        "login": "Ulmo",
        "id": 224672,
        "node_id": "MDQ6VXNlcjIyNDY3Mg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/224672?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Ulmo",
        "html_url": "https://github.com/Ulmo",
        "followers_url": "https://api.github.com/users/Ulmo/followers",
        "following_url": "https://api.github.com/users/Ulmo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Ulmo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Ulmo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Ulmo/subscriptions",
        "organizations_url": "https://api.github.com/users/Ulmo/orgs",
        "repos_url": "https://api.github.com/users/Ulmo/repos",
        "events_url": "https://api.github.com/users/Ulmo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Ulmo/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-352295812",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "commented",
      "id": 352296174,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjI5NjE3NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352296174",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-17T23:51:29Z",
      "updated_at": "2017-12-17T23:51:29Z",
      "author_association": "MEMBER",
      "body": "@Ulmo You need `-addresstype=bech32` (note the equals sign).",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-352296174",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1391259875,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM5MTI1OTg3NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1391259875",
      "actor": {
        "login": "Ulmo",
        "id": 224672,
        "node_id": "MDQ6VXNlcjIyNDY3Mg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/224672?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Ulmo",
        "html_url": "https://github.com/Ulmo",
        "followers_url": "https://api.github.com/users/Ulmo/followers",
        "following_url": "https://api.github.com/users/Ulmo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Ulmo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Ulmo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Ulmo/subscriptions",
        "organizations_url": "https://api.github.com/users/Ulmo/orgs",
        "repos_url": "https://api.github.com/users/Ulmo/repos",
        "events_url": "https://api.github.com/users/Ulmo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Ulmo/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-17T23:51:29Z"
    },
    {
      "event": "subscribed",
      "id": 1391259876,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzOTEyNTk4NzY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1391259876",
      "actor": {
        "login": "Ulmo",
        "id": 224672,
        "node_id": "MDQ6VXNlcjIyNDY3Mg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/224672?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Ulmo",
        "html_url": "https://github.com/Ulmo",
        "followers_url": "https://api.github.com/users/Ulmo/followers",
        "following_url": "https://api.github.com/users/Ulmo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Ulmo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Ulmo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Ulmo/subscriptions",
        "organizations_url": "https://api.github.com/users/Ulmo/orgs",
        "repos_url": "https://api.github.com/users/Ulmo/repos",
        "events_url": "https://api.github.com/users/Ulmo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Ulmo/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-17T23:51:29Z"
    },
    {
      "event": "reviewed",
      "id": 84010629,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3ODQwMTA2Mjk=",
      "url": null,
      "actor": null,
      "commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "I still think there are some pretty big regressions/bugs that need fixing here. Also including https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155665399.",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-84010629",
      "submitted_at": "2017-12-17T23:52:39Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "commented",
      "id": 352300583,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjMwMDU4Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352300583",
      "actor": {
        "login": "Ulmo",
        "id": 224672,
        "node_id": "MDQ6VXNlcjIyNDY3Mg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/224672?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Ulmo",
        "html_url": "https://github.com/Ulmo",
        "followers_url": "https://api.github.com/users/Ulmo/followers",
        "following_url": "https://api.github.com/users/Ulmo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Ulmo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Ulmo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Ulmo/subscriptions",
        "organizations_url": "https://api.github.com/users/Ulmo/orgs",
        "repos_url": "https://api.github.com/users/Ulmo/repos",
        "events_url": "https://api.github.com/users/Ulmo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Ulmo/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-18T00:52:11Z",
      "updated_at": "2017-12-18T01:05:25Z",
      "author_association": "NONE",
      "body": "Sipa, thanks.  That worked, of course.  This time I used pull/11403/head, and started bitcoin-qt as `bitcoin-qt -addresstype=bech32`, and everything related to bech32 \"seems to work\".  Detail:\r\n```\r\ngetnewaddress:  bc1qt0qk2gpdgsh0zyefmy52pwvnd2tk7aafgju6xg\r\n```\r\nTrezor beta, Ledger, & Gemini still don't seem to support bech32, giving address errors.\r\nElectrum 3.0.1 supports it ... let's try that.  First, I had to load a balance from a site that had some Bitcoin; I chose one that required a Segwit or legacy address:\r\n```\r\ngetnewaddress \"\" \"p2sh\": 34hhWKuKYz6dYBateQ366r6s8r53tXmFHa\r\n```\r\nGemini sent it, and I received it in the Core wallet in following transaction:\r\nhttps://blockchain.info/tx/da8e2a268f0f0d6ca5123760288c6b03314c4b6fc01156f8a56bdfa650dcc975\r\ndebug.log:\r\n```\r\n2017-12-18 00:22:39 UpdateTip: new best=0000000000000000001994c6c3317b315df6d4465d45a689e8e588ae64429f07 height=499870 version=0x202_work=87.678617 tx=283326467 date='2017-12-18 00:20:32' progress=0.999999 cache=21.7MiB(164816txo)\r\n2017-12-18 00:23:02 AddToWallet da8e2a268f0f0d6ca5123760288c6b03314c4b6fc01156f8a56bdfa650dcc975  new\r\n```\r\nBalance in core GUI showed 0.00000000 BTC, but this showed up in GUI's \"recent transactions\".  Very odd.\r\nThen, I sent it to Electrum bech32 address:\r\n```\r\n2017-12-18 00:27:06 keypool added 1 keys (0 internal), size=1000 (0 internal)\r\n2017-12-18 00:27:06 keypool reserve 32\r\n2017-12-18 00:27:11 keypool return 32\r\n2017-12-18 00:27:21 keypool reserve 32\r\n2017-12-18 00:27:21 Fee Calculation: Fee:62217 Bytes:164 Needed:62217 Tgt:2 (requested 2) Reason:\"Half Target 60% Threshold\" Decay\r\nstimation: (366358 - 384675) 65.49% 6939.6/(9527.9 0 mem 1068.7 out) Fail: (348912 - 366358) 50.94% 1305.9/(2313.3 0 mem 250.4 out)\r\n2017-12-18 00:27:34 CommitTransaction:\r\nCTransaction(hash=cbeaee011a, ver=2, vin.size=1, vout.size=2, nLockTime=499775)\r\n    CTxIn(COutPoint(da8e2a268f, 0), scriptSig=1600143cd673142bb7c0cb81, nSequence=4294967294)\r\n    CScriptWitness(3045022100d927130cf21989bb0e77363b475ce305d4bf9a1203bff955d849e2696ad3de6a0220508d3c53a5766daf470019fb3a97bb9650\r\nb0ffd3a6b0d573e8263901, 0225bb23f899b89d812ff2054fbc5a5d791d72684ab617d06131e5d70ca8d32bcb)\r\n    CTxOut(nValue=0.00137783, scriptPubKey=0014cd8b05910abb26f75448307421)\r\n    CTxOut(nValue=0.00148291, scriptPubKey=0014fe65e91b7d65e4a5df502b23a2)\r\n2017-12-18 00:27:34 keypool keep 32\r\n2017-12-18 00:27:34 AddToWallet cbeaee011a40ca0e8f08730e2f97acd08b8e7a1638152bf2e7d475e0ebe88738  new\r\n2017-12-18 00:27:34 Relaying wtx cbeaee011a40ca0e8f08730e2f97acd08b8e7a1638152bf2e7d475e0ebe88738\r\n```\r\nAfter sending this, the \"available balance\" in the core GUI suddenly magically went UP to .00148291.  Then:\r\n```\r\n2017-12-18 00:29:25 UpdateTip: new best=000000000000000000ad844c4dad30de48af6867567eafc56beba86a867672cb height=499871 version=0x20\r\n2_work=87.678657 tx=283328294 date='2017-12-18 00:27:56' progress=0.999999 cache=28.9MiB(210940txo)\r\n2017-12-18 00:29:26 AddToWallet cbeaee011a40ca0e8f08730e2f97acd08b8e7a1638152bf2e7d475e0ebe88738  \r\n```\r\nhttps://blockchain.info/tx/cbeaee011a40ca0e8f08730e2f97acd08b8e7a1638152bf2e7d475e0ebe88738 says \"Unable to decode output address\" <<< wtf?\r\nElectrum 3.0.1:  balance now shows Unconfirmed +0.00137783.  Looks right.  Now, to send it back to my other core wallet address bc1qt0qk2gpdgsh0zyefmy52pwvnd2tk7aafgju6xg:\r\nI got \"payment sent\" from Electrum for tx 92cf6424a9648ce30b3cba8edb0a122cc2210168547eb06915d7aa8961cb0440:\r\nhttps://blockchain.info/tx/92cf6424a9648ce30b3cba8edb0a122cc2210168547eb06915d7aa8961cb0440 now says \"unable to decode address\" to \"unable to decode address\".  Looking good, assuming Blockchain.info is unable to decode bech32 addresses.  (Why?)\r\nI find it odd mempool doesn't show in Core any more, or at least not as fast.  What's going on?  Are we being spammed, or DDOS?  It seems the best way to see an incoming tx is for it to be in an actual block these days.  Waiting on core wallet to see the tx ...\r\nFinally, mempool got it:\r\n```\r\n2017-12-18 00:41:54 AddToWallet 92cf6424a9648ce30b3cba8edb0a122cc2210168547eb06915d7aa8961cb0440  new\r\n```\r\nAnd, it confirmed:\r\n```\r\n2017-12-18 00:44:04 UpdateTip: new best=0000000000000000000e2532c7d8886363f61ccd43f074aed593763ccc65af01 height=499875 version=0x20\r\n2_work=87.678816 tx=283332610 date='2017-12-18 00:41:53' progress=0.999999 cache=44.3MiB(337087txo)\r\n2017-12-18 00:44:27 AddToWallet 92cf6424a9648ce30b3cba8edb0a122cc2210168547eb06915d7aa8961cb0440  update\r\n```\r\nBalance in my stupid core GUI wallet still shows 0.00148291, not showing the +.001 that came in.\r\nNow, will a hardware wallet think that if I send it out to them from this transaction chain, that it is a legitimate chain of transactions?  Especially since it doesn't support bech32?  To my Trezor:\r\nHere, in the core GUI, sending a transaction the \"Use available balance\" DOES pick up the whole balance, and off it goes, core GUI balance now at 0:\r\n```\r\n2017-12-18 00:49:13 keypool added 1 keys (0 internal), size=1000 (0 internal)\r\n2017-12-18 00:49:13 keypool reserve 33\r\n2017-12-18 00:49:13 keypool return 33\r\n2017-12-18 00:49:13 Fee Calculation: Fee:58027 Bytes:179 Needed:58027 Tgt:4 (requested 4) Reason:\"Conservative Double Target longer horizon\" Decay 0.99520: Estimation: (316473 - 332297) 95.16% 6064.9/(6373.7 0 mem 0.0 out) Fail: (301403 - 316473) 94.89% 4055.3/(4273.6 0 mem 0.0 out)\r\n2017-12-18 00:49:31 keypool reserve 33\r\n2017-12-18 00:49:31 keypool return 33\r\n2017-12-18 00:49:31 Fee Calculation: Fee:29286 Bytes:179 Needed:29286 Tgt:12 (requested 12) Reason:\"Target 85% Threshold\" Decay 0.96200: Estimation: (159841 - 167833) 91.17% 362.9/(392.5 0 mem 5.6 out) Fail: (152229 - 159841) 70.49% 217.2/(287.9 0 mem 20.2 out)\r\n2017-12-18 00:49:38 CommitTransaction:\r\nCTransaction(hash=e8e978558a, ver=2, vin.size=2, vout.size=1, nLockTime=499875)\r\n    CTxIn(COutPoint(cbeaee011a, 1), scriptSig=, nSequence=4294967294)\r\n    CTxIn(COutPoint(92cf6424a9, 0), scriptSig=, nSequence=4294967294)\r\n    CScriptWitness(30450221009e60a6639ce74817fb47fa871ea97d59d1c2113b1efd3ad79023d4b795c430280220515c8ee031724211a460418839a3603530ba2301e4cf8bd2586e10c25fc0e43c01, 02421c139e26cb8678c8132b6e6d8eb7640d52630bf8c74914d249408cba5debbb)\r\n    CScriptWitness(304402204eb7e6b53ae136dfae26c0819695c8033c3a6fdf5a3e40f1b0bce119a20e6d87022072ec3cb64dcc45611bd585ddc8b5afe640dd7a224061a40a6e8e7f3444a1a67d01, 023ef1f057355c650821a263dcb78296c61929f98eb03a72b623835f94100305fd)\r\n    CTxOut(nValue=0.00219005, scriptPubKey=a914405420cce346a85a8481790fd7)\r\n2017-12-18 00:49:38 AddToWallet e8e978558a41b1a883dac0736e5e6fd3c9cbba435cc25a9a6baeb4f0a00a57a1  new\r\n2017-12-18 00:49:38 Relaying wtx e8e978558a41b1a883dac0736e5e6fd3c9cbba435cc25a9a6baeb4f0a00a57a1\r\n```\r\nThat transaction shows up in my Trezor wallet as unconfirmed +0.00219005.\r\n\r\nWell, so far so good.\r\n\r\nLet's see Lightning Network reduce those fees, though.  Also, time for Gemini, Kraken, Coinbase, Trezor and Ledger to get in shape, too.  Thanks to Electrum for being a good way to test this.",
      "user": {
        "login": "Ulmo",
        "id": 224672,
        "node_id": "MDQ6VXNlcjIyNDY3Mg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/224672?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Ulmo",
        "html_url": "https://github.com/Ulmo",
        "followers_url": "https://api.github.com/users/Ulmo/followers",
        "following_url": "https://api.github.com/users/Ulmo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Ulmo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Ulmo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Ulmo/subscriptions",
        "organizations_url": "https://api.github.com/users/Ulmo/orgs",
        "repos_url": "https://api.github.com/users/Ulmo/repos",
        "events_url": "https://api.github.com/users/Ulmo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Ulmo/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-352300583",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "commented",
      "id": 352381612,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjM4MTYxMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352381612",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-18T10:09:03Z",
      "updated_at": "2017-12-18T10:09:03Z",
      "author_association": "MEMBER",
      "body": "@FelixWeis @hsjoberg I added a todo to my ever growing list to add a check box in the UI where the user can specifically ask for a  native SegWit `bech32` address. It would be a separate PR. Happy to review if someone else is already doing this.\r\n\r\nIn addition, there could be a UI setting that toggles to `bech32` as a default, including change address, and then flipping the meaning of the above check box. Again a separate PR.\r\n\r\nWhenever the wallet creates a transaction it should, again not this PR, probably be smart and use the same address type for change as the destination.\r\n\r\n@sipa is there anything in this PR that could be merged to master separately (and first)?",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-352381612",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1391778177,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM5MTc3ODE3Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1391778177",
      "actor": {
        "login": "FelixWeis",
        "id": 551068,
        "node_id": "MDQ6VXNlcjU1MTA2OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/551068?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/FelixWeis",
        "html_url": "https://github.com/FelixWeis",
        "followers_url": "https://api.github.com/users/FelixWeis/followers",
        "following_url": "https://api.github.com/users/FelixWeis/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/FelixWeis/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/FelixWeis/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/FelixWeis/subscriptions",
        "organizations_url": "https://api.github.com/users/FelixWeis/orgs",
        "repos_url": "https://api.github.com/users/FelixWeis/repos",
        "events_url": "https://api.github.com/users/FelixWeis/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/FelixWeis/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-18T10:09:03Z"
    },
    {
      "event": "subscribed",
      "id": 1391778178,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzOTE3NzgxNzg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1391778178",
      "actor": {
        "login": "FelixWeis",
        "id": 551068,
        "node_id": "MDQ6VXNlcjU1MTA2OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/551068?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/FelixWeis",
        "html_url": "https://github.com/FelixWeis",
        "followers_url": "https://api.github.com/users/FelixWeis/followers",
        "following_url": "https://api.github.com/users/FelixWeis/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/FelixWeis/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/FelixWeis/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/FelixWeis/subscriptions",
        "organizations_url": "https://api.github.com/users/FelixWeis/orgs",
        "repos_url": "https://api.github.com/users/FelixWeis/repos",
        "events_url": "https://api.github.com/users/FelixWeis/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/FelixWeis/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-18T10:09:03Z"
    },
    {
      "event": "mentioned",
      "id": 1391778180,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM5MTc3ODE4MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1391778180",
      "actor": {
        "login": "hsjoberg",
        "id": 3824379,
        "node_id": "MDQ6VXNlcjM4MjQzNzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3824379?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hsjoberg",
        "html_url": "https://github.com/hsjoberg",
        "followers_url": "https://api.github.com/users/hsjoberg/followers",
        "following_url": "https://api.github.com/users/hsjoberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hsjoberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hsjoberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hsjoberg/subscriptions",
        "organizations_url": "https://api.github.com/users/hsjoberg/orgs",
        "repos_url": "https://api.github.com/users/hsjoberg/repos",
        "events_url": "https://api.github.com/users/hsjoberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hsjoberg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-18T10:09:03Z"
    },
    {
      "event": "subscribed",
      "id": 1391778181,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzOTE3NzgxODE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1391778181",
      "actor": {
        "login": "hsjoberg",
        "id": 3824379,
        "node_id": "MDQ6VXNlcjM4MjQzNzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3824379?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hsjoberg",
        "html_url": "https://github.com/hsjoberg",
        "followers_url": "https://api.github.com/users/hsjoberg/followers",
        "following_url": "https://api.github.com/users/hsjoberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hsjoberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hsjoberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hsjoberg/subscriptions",
        "organizations_url": "https://api.github.com/users/hsjoberg/orgs",
        "repos_url": "https://api.github.com/users/hsjoberg/repos",
        "events_url": "https://api.github.com/users/hsjoberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hsjoberg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-18T10:09:03Z"
    },
    {
      "event": "mentioned",
      "id": 1391778182,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM5MTc3ODE4Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1391778182",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-18T10:09:03Z"
    },
    {
      "event": "subscribed",
      "id": 1391778184,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzOTE3NzgxODQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1391778184",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-18T10:09:03Z"
    },
    {
      "event": "commented",
      "id": 352389135,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjM4OTEzNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352389135",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-18T10:39:07Z",
      "updated_at": "2017-12-18T10:39:07Z",
      "author_association": "MEMBER",
      "body": "@Ulmo I don't see \"Unable to decode output address\" for your transaction [92cf...](https://blockchain.info/tx/92cf6424a9648ce30b3cba8edb0a122cc2210168547eb06915d7aa8961cb0440). I've seen it work correctly when I tried a few weeks ago. Maybe it was a glitch?\r\n\r\nNote however that you can't click on a bech32 address to see all transactions. As far as I know no block explorer supports that yet; I'm sure that'll change, but it's another reason why it's better to make bech32 addresses opt-in, but encouraged, initially.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-352389135",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1391829785,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM5MTgyOTc4NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1391829785",
      "actor": {
        "login": "Ulmo",
        "id": 224672,
        "node_id": "MDQ6VXNlcjIyNDY3Mg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/224672?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Ulmo",
        "html_url": "https://github.com/Ulmo",
        "followers_url": "https://api.github.com/users/Ulmo/followers",
        "following_url": "https://api.github.com/users/Ulmo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Ulmo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Ulmo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Ulmo/subscriptions",
        "organizations_url": "https://api.github.com/users/Ulmo/orgs",
        "repos_url": "https://api.github.com/users/Ulmo/repos",
        "events_url": "https://api.github.com/users/Ulmo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Ulmo/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-18T10:39:07Z"
    },
    {
      "event": "subscribed",
      "id": 1391829786,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzOTE4Mjk3ODY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1391829786",
      "actor": {
        "login": "Ulmo",
        "id": 224672,
        "node_id": "MDQ6VXNlcjIyNDY3Mg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/224672?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Ulmo",
        "html_url": "https://github.com/Ulmo",
        "followers_url": "https://api.github.com/users/Ulmo/followers",
        "following_url": "https://api.github.com/users/Ulmo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Ulmo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Ulmo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Ulmo/subscriptions",
        "organizations_url": "https://api.github.com/users/Ulmo/orgs",
        "repos_url": "https://api.github.com/users/Ulmo/repos",
        "events_url": "https://api.github.com/users/Ulmo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Ulmo/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-18T10:39:07Z"
    },
    {
      "event": "commented",
      "id": 352415511,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjQxNTUxMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352415511",
      "actor": {
        "login": "hsjoberg",
        "id": 3824379,
        "node_id": "MDQ6VXNlcjM4MjQzNzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3824379?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hsjoberg",
        "html_url": "https://github.com/hsjoberg",
        "followers_url": "https://api.github.com/users/hsjoberg/followers",
        "following_url": "https://api.github.com/users/hsjoberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hsjoberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hsjoberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hsjoberg/subscriptions",
        "organizations_url": "https://api.github.com/users/hsjoberg/orgs",
        "repos_url": "https://api.github.com/users/hsjoberg/repos",
        "events_url": "https://api.github.com/users/hsjoberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hsjoberg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-18T12:43:20Z",
      "updated_at": "2017-12-18T12:43:59Z",
      "author_association": "CONTRIBUTOR",
      "body": ">  I added a todo to my ever growing list to add a check box in the UI where the user can specifically ask for a native SegWit bech32 address. It would be a separate PR. Happy to review if someone else is already doing this.\r\n\r\n@Sjors Right, I have code ready for a GUI setting to decide the address type to use. It's directly tied to the `addresstype` parameter and thus it's radio buttons and not single checkbox. Perhaps I could re-work to be a checkbox if people like it better.\r\nIt seems out of scope of this PR so I'll propose it after this one has been merged.\r\n\r\n> As far as I know no block explorer supports that yet\r\n\r\n@Sjors  @Ulmo I think https://btc.com supports BIP173/bech32-addresses better.",
      "user": {
        "login": "hsjoberg",
        "id": 3824379,
        "node_id": "MDQ6VXNlcjM4MjQzNzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3824379?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hsjoberg",
        "html_url": "https://github.com/hsjoberg",
        "followers_url": "https://api.github.com/users/hsjoberg/followers",
        "following_url": "https://api.github.com/users/hsjoberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hsjoberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hsjoberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hsjoberg/subscriptions",
        "organizations_url": "https://api.github.com/users/hsjoberg/orgs",
        "repos_url": "https://api.github.com/users/hsjoberg/repos",
        "events_url": "https://api.github.com/users/hsjoberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hsjoberg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-352415511",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1392018895,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM5MjAxODg5NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1392018895",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-18T12:43:20Z"
    },
    {
      "event": "subscribed",
      "id": 1392018896,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzOTIwMTg4OTY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1392018896",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-18T12:43:20Z"
    },
    {
      "event": "mentioned",
      "id": 1392018897,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM5MjAxODg5Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1392018897",
      "actor": {
        "login": "Ulmo",
        "id": 224672,
        "node_id": "MDQ6VXNlcjIyNDY3Mg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/224672?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Ulmo",
        "html_url": "https://github.com/Ulmo",
        "followers_url": "https://api.github.com/users/Ulmo/followers",
        "following_url": "https://api.github.com/users/Ulmo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Ulmo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Ulmo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Ulmo/subscriptions",
        "organizations_url": "https://api.github.com/users/Ulmo/orgs",
        "repos_url": "https://api.github.com/users/Ulmo/repos",
        "events_url": "https://api.github.com/users/Ulmo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Ulmo/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-18T12:43:20Z"
    },
    {
      "event": "subscribed",
      "id": 1392018898,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzOTIwMTg4OTg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1392018898",
      "actor": {
        "login": "Ulmo",
        "id": 224672,
        "node_id": "MDQ6VXNlcjIyNDY3Mg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/224672?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Ulmo",
        "html_url": "https://github.com/Ulmo",
        "followers_url": "https://api.github.com/users/Ulmo/followers",
        "following_url": "https://api.github.com/users/Ulmo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Ulmo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Ulmo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Ulmo/subscriptions",
        "organizations_url": "https://api.github.com/users/Ulmo/orgs",
        "repos_url": "https://api.github.com/users/Ulmo/repos",
        "events_url": "https://api.github.com/users/Ulmo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Ulmo/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-18T12:43:20Z"
    },
    {
      "event": "reviewed",
      "id": 84127988,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3ODQxMjc5ODg=",
      "url": null,
      "actor": null,
      "commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-84127988",
      "submitted_at": "2017-12-18T13:15:10Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "commented",
      "id": 352423026,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjQyMzAyNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352423026",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-18T13:18:51Z",
      "updated_at": "2017-12-18T13:18:51Z",
      "author_association": "MEMBER",
      "body": "@hsjoberg ah, [yes it does](https://btc.com/bc1qt0qk2gpdgsh0zyefmy52pwvnd2tk7aafgju6xg).\r\n\r\nCan you make a WIP PR that uses this branch as its base? That way it's kept separate yet is easy to review. Once this PR is merged, you switch the base to master.\r\n\r\nA radio button for the global GUI setting makes sense to me. I would only use a check box for overriding the setting in the receive screen.\r\n\r\nUsers need to be able to use both address types depending on who they're requesting money from. Having to restart every time, which a global setting requires, would be inconvenient. Having a way to do this every time you generate a new address seems more useful, but that can exist side-by-side.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-352423026",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1392073969,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM5MjA3Mzk2OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1392073969",
      "actor": {
        "login": "hsjoberg",
        "id": 3824379,
        "node_id": "MDQ6VXNlcjM4MjQzNzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3824379?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hsjoberg",
        "html_url": "https://github.com/hsjoberg",
        "followers_url": "https://api.github.com/users/hsjoberg/followers",
        "following_url": "https://api.github.com/users/hsjoberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hsjoberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hsjoberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hsjoberg/subscriptions",
        "organizations_url": "https://api.github.com/users/hsjoberg/orgs",
        "repos_url": "https://api.github.com/users/hsjoberg/repos",
        "events_url": "https://api.github.com/users/hsjoberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hsjoberg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-18T13:18:51Z"
    },
    {
      "event": "subscribed",
      "id": 1392073970,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzOTIwNzM5NzA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1392073970",
      "actor": {
        "login": "hsjoberg",
        "id": 3824379,
        "node_id": "MDQ6VXNlcjM4MjQzNzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3824379?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hsjoberg",
        "html_url": "https://github.com/hsjoberg",
        "followers_url": "https://api.github.com/users/hsjoberg/followers",
        "following_url": "https://api.github.com/users/hsjoberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hsjoberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hsjoberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hsjoberg/subscriptions",
        "organizations_url": "https://api.github.com/users/hsjoberg/orgs",
        "repos_url": "https://api.github.com/users/hsjoberg/repos",
        "events_url": "https://api.github.com/users/hsjoberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hsjoberg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-18T13:18:51Z"
    },
    {
      "event": "commented",
      "id": 352439567,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjQzOTU2Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352439567",
      "actor": {
        "login": "hsjoberg",
        "id": 3824379,
        "node_id": "MDQ6VXNlcjM4MjQzNzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3824379?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hsjoberg",
        "html_url": "https://github.com/hsjoberg",
        "followers_url": "https://api.github.com/users/hsjoberg/followers",
        "following_url": "https://api.github.com/users/hsjoberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hsjoberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hsjoberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hsjoberg/subscriptions",
        "organizations_url": "https://api.github.com/users/hsjoberg/orgs",
        "repos_url": "https://api.github.com/users/hsjoberg/repos",
        "events_url": "https://api.github.com/users/hsjoberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hsjoberg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-18T14:24:56Z",
      "updated_at": "2017-12-18T14:24:56Z",
      "author_association": "CONTRIBUTOR",
      "body": "@Sjors I'll put it up as soon as I can. \r\n\r\n> Having to restart every time\r\n\r\nInterestingly enough, with a GUI-setting, it works without restarting if we directly change `g_address_type` global, I'm not sure if this is good practice though.",
      "user": {
        "login": "hsjoberg",
        "id": 3824379,
        "node_id": "MDQ6VXNlcjM4MjQzNzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3824379?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hsjoberg",
        "html_url": "https://github.com/hsjoberg",
        "followers_url": "https://api.github.com/users/hsjoberg/followers",
        "following_url": "https://api.github.com/users/hsjoberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hsjoberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hsjoberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hsjoberg/subscriptions",
        "organizations_url": "https://api.github.com/users/hsjoberg/orgs",
        "repos_url": "https://api.github.com/users/hsjoberg/repos",
        "events_url": "https://api.github.com/users/hsjoberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hsjoberg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-352439567",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1392189016,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM5MjE4OTAxNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1392189016",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-18T14:24:56Z"
    },
    {
      "event": "subscribed",
      "id": 1392189017,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzOTIxODkwMTc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1392189017",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-18T14:24:56Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1393631598,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTM5MzYzMTU5OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1393631598",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-19T08:22:58Z"
    },
    {
      "event": "commented",
      "id": 352672871,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjY3Mjg3MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352672871",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-19T08:26:09Z",
      "updated_at": "2017-12-19T08:26:09Z",
      "author_association": "MEMBER",
      "body": "@TheBlueMatt I've addressed several of your comments. However, for a few of them I think you're missing that `AddCScript` does not automatically make a script/output watched. It simply teaches the signing logic how to sign for such a P2SH/P2WSH script if it would appear somewhere. Having it there *may* result in considering something ours (but generally only if we also have the actual keys available).",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-352672871",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1393635764,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM5MzYzNTc2NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1393635764",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-19T08:26:09Z"
    },
    {
      "event": "subscribed",
      "id": 1393635766,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzOTM2MzU3NjY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1393635766",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-19T08:26:09Z"
    },
    {
      "event": "commented",
      "id": 353301840,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzMwMTg0MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/353301840",
      "actor": {
        "login": "ecdsa",
        "id": 2343238,
        "node_id": "MDQ6VXNlcjIzNDMyMzg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2343238?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ecdsa",
        "html_url": "https://github.com/ecdsa",
        "followers_url": "https://api.github.com/users/ecdsa/followers",
        "following_url": "https://api.github.com/users/ecdsa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ecdsa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ecdsa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ecdsa/subscriptions",
        "organizations_url": "https://api.github.com/users/ecdsa/orgs",
        "repos_url": "https://api.github.com/users/ecdsa/repos",
        "events_url": "https://api.github.com/users/ecdsa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ecdsa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-21T09:27:17Z",
      "updated_at": "2017-12-21T09:51:15Z",
      "author_association": "NONE",
      "body": "@sipa sorry to intervene late, but \"All wallet private and public keys can be used for any type of address.\" sounds like a terrible idea. Even if you plan to add address-dependent derivation path later, once the harm is done, it will be too late to go back.\r\n\r\n`importprivkey` will need to lookup several output scripts per key. This will break compatibility with Electrum, and with various other wallets. Wallets that do not support segwit will return false negatives when attempting to import a private keys that has coins sent to segwit scripts. It will also create technological debt for wallets that do support segwit, because they will have to lookup old p2pkh scripts in order to be compatible with Bitcoin Core's private key import format.\r\n\r\nPlease consider using one address per private key, and a private key export format that includes information about the type of output script used with the key. This will avoid false negatives, and it will free new wallets from being forced to implement deprecated address types.",
      "user": {
        "login": "ecdsa",
        "id": 2343238,
        "node_id": "MDQ6VXNlcjIzNDMyMzg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2343238?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ecdsa",
        "html_url": "https://github.com/ecdsa",
        "followers_url": "https://api.github.com/users/ecdsa/followers",
        "following_url": "https://api.github.com/users/ecdsa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ecdsa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ecdsa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ecdsa/subscriptions",
        "organizations_url": "https://api.github.com/users/ecdsa/orgs",
        "repos_url": "https://api.github.com/users/ecdsa/repos",
        "events_url": "https://api.github.com/users/ecdsa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ecdsa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-353301840",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1397622555,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM5NzYyMjU1NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1397622555",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-21T09:27:17Z"
    },
    {
      "event": "subscribed",
      "id": 1397622556,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzOTc2MjI1NTY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1397622556",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-21T09:27:17Z"
    },
    {
      "event": "commented",
      "id": 353308700,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzMwODcwMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/353308700",
      "actor": {
        "login": "NLNicoo",
        "id": 6526666,
        "node_id": "MDQ6VXNlcjY1MjY2NjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6526666?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/NLNicoo",
        "html_url": "https://github.com/NLNicoo",
        "followers_url": "https://api.github.com/users/NLNicoo/followers",
        "following_url": "https://api.github.com/users/NLNicoo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/NLNicoo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/NLNicoo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/NLNicoo/subscriptions",
        "organizations_url": "https://api.github.com/users/NLNicoo/orgs",
        "repos_url": "https://api.github.com/users/NLNicoo/repos",
        "events_url": "https://api.github.com/users/NLNicoo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/NLNicoo/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-21T09:55:58Z",
      "updated_at": "2017-12-21T09:55:58Z",
      "author_association": "NONE",
      "body": "Tiny meta suggestion, I think this PR can use [0.16.0](https://github.com/bitcoin/bitcoin/milestone/30) milestone tag?",
      "user": {
        "login": "NLNicoo",
        "id": 6526666,
        "node_id": "MDQ6VXNlcjY1MjY2NjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6526666?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/NLNicoo",
        "html_url": "https://github.com/NLNicoo",
        "followers_url": "https://api.github.com/users/NLNicoo/followers",
        "following_url": "https://api.github.com/users/NLNicoo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/NLNicoo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/NLNicoo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/NLNicoo/subscriptions",
        "organizations_url": "https://api.github.com/users/NLNicoo/orgs",
        "repos_url": "https://api.github.com/users/NLNicoo/repos",
        "events_url": "https://api.github.com/users/NLNicoo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/NLNicoo/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-353308700",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "milestoned",
      "id": 1397720449,
      "node_id": "MDE1Ok1pbGVzdG9uZWRFdmVudDEzOTc3MjA0NDk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1397720449",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-21T10:27:39Z",
      "milestone": {
        "title": "0.16.0"
      }
    },
    {
      "event": "commented",
      "id": 353317338,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzMxNzMzOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/353317338",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-21T10:34:23Z",
      "updated_at": "2017-12-21T10:34:23Z",
      "author_association": "MEMBER",
      "body": "> @sipa is there anything in this PR that could be merged to master separately (and first)?\r\n\r\nSame question - is there a way we can help move things forward, reduce this patch stack, by merging some parts? It looks like some smaller UI things are still being discussed while some of the base work was reviewed and found to be OK a long time ago. Blocking the entire thing for so long is not productive.\r\n\r\n> Tiny meta suggestion, I think this PR can useÂ 0.16.0Â milestone tag?\r\n\r\nDone, although it was implicit, there will be no 0.16.0 release without this.\r\n\r\n",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-353317338",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1397732430,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTM5NzczMjQzMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1397732430",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-21T10:34:23Z"
    },
    {
      "event": "subscribed",
      "id": 1397732431,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDEzOTc3MzI0MzE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1397732431",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-21T10:34:23Z"
    },
    {
      "event": "commented",
      "id": 353319637,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzMxOTYzNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/353319637",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-21T10:45:32Z",
      "updated_at": "2017-12-21T10:45:48Z",
      "author_association": "MEMBER",
      "body": "> sorry to intervene late, but \"All wallet private and public keys can be used for any type of address.\" sounds like a terrible idea. Even if you plan to add address-dependent derivation path later, once the harm is done, it will be too late to go back.\r\n\r\nI agree, it's a terrible situation to be in, but unfortunately the harm is already done. Right now, the IsMine logic effectively works by seeing what we could sign for. If you have a key, and the corresponding witness script in your wallet, we will accept payment to P2PK, P2PKH, P2SH-P2PKH, P2WPKH, P2SH-P2WPKH, and even more insane combinations. Due to the backward compatibility requirement with the existing `addwitnessaddress` RPC, we can't drop that support.\r\n\r\nPlease read the gist I've written up for how to improve things in the future, but it's not something that can be done without very significant modifications and compatibility breaks first.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-353319637",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "commented",
      "id": 353425210,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzQyNTIxMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/353425210",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-21T18:38:36Z",
      "updated_at": "2017-12-21T18:38:36Z",
      "author_association": "MEMBER",
      "body": "Cursory ACK ff295c33d7e26293229a05f4039a13fc747efcc0\r\n\r\nI don't see any obvious problems with the code, but that doesn't necessarily mean a lot. Setting p2wpkh-nested-in-p2sh as the default address type makes sense, and setting the change type to be the same likewise makes sense. The strategy outlined in the gist makes sense (despite being complicated and continuing the maintenance burden) and appears to work as intended. The test case looks good.\r\n\r\nUpgrading and downgrading between this and 0.15 seems to work pretty intuitively. I hit a few unrelated problems: segwit vbparams changes in regtest between 0.15 and master results in confusing errors, installing master then downgrading to 0.15 doesn't work the same way as upgrading from 0.15 then downgrading back to 0.15 because of the walletdir changes (#11466), and --with-incompatible-bdb results in the expected incompatibilities...\r\n\r\nNot even nits: \"legacy\" and \"p2sh\" maybe aren't the clearest possible names, but they're good enough. I wonder if ParseOutputType wouldn't have been better as bool ParseOutputType(OutputType &type, str, default), in which case OUTPUT_TYPE_NONE wouldn't have been needed.",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-353425210",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "commented",
      "id": 353454555,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzQ1NDU1NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/353454555",
      "actor": {
        "login": "SomberNight",
        "id": 29142493,
        "node_id": "MDQ6VXNlcjI5MTQyNDkz",
        "avatar_url": "https://avatars.githubusercontent.com/u/29142493?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SomberNight",
        "html_url": "https://github.com/SomberNight",
        "followers_url": "https://api.github.com/users/SomberNight/followers",
        "following_url": "https://api.github.com/users/SomberNight/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/SomberNight/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/SomberNight/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/SomberNight/subscriptions",
        "organizations_url": "https://api.github.com/users/SomberNight/orgs",
        "repos_url": "https://api.github.com/users/SomberNight/repos",
        "events_url": "https://api.github.com/users/SomberNight/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/SomberNight/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-21T20:50:22Z",
      "updated_at": "2017-12-21T20:50:22Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Please consider using one address per private key, and a private key export format that includes information about the type of output script used with the key. This will avoid false negatives, and it will free new wallets from being forced to implement deprecated address types.\r\n\r\nThe critical part of this, that I would like to emphasize, would be to have the private key export format include the output script type. Even if you allow all private keys internally to be associated with any script type, please include the script type in the export serialization format. The serialization of a private key (e.g. WIF) is more than an ecdsa private key, it should also contain metadata about how the ecdsa key is to be used.\r\n\r\nAs an example, for serializing private keys, currently Electrum [uses an extended WIF format](https://github.com/spesmilo/electrum/blob/f3a6491df4fbfa5135fa0d806b88f61df940c3ee/lib/bitcoin.py#L512-L528). It includes a prefix byte (similar to the compressed suffix byte) that encodes the script type to be used.\r\n\r\nIt would be great if the `dumpprivkey` and `dumpwallet` (and possibly other?) commands did something similar. For instance if the same ecdsa key is used with three different addresses, for each address there should be a corresponding \"WIF\" serialization.",
      "user": {
        "login": "SomberNight",
        "id": 29142493,
        "node_id": "MDQ6VXNlcjI5MTQyNDkz",
        "avatar_url": "https://avatars.githubusercontent.com/u/29142493?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SomberNight",
        "html_url": "https://github.com/SomberNight",
        "followers_url": "https://api.github.com/users/SomberNight/followers",
        "following_url": "https://api.github.com/users/SomberNight/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/SomberNight/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/SomberNight/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/SomberNight/subscriptions",
        "organizations_url": "https://api.github.com/users/SomberNight/orgs",
        "repos_url": "https://api.github.com/users/SomberNight/repos",
        "events_url": "https://api.github.com/users/SomberNight/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/SomberNight/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-353454555",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "commented",
      "id": 353717636,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzcxNzYzNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/353717636",
      "actor": {
        "login": "stevenroose",
        "id": 853468,
        "node_id": "MDQ6VXNlcjg1MzQ2OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/853468?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stevenroose",
        "html_url": "https://github.com/stevenroose",
        "followers_url": "https://api.github.com/users/stevenroose/followers",
        "following_url": "https://api.github.com/users/stevenroose/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stevenroose/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stevenroose/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stevenroose/subscriptions",
        "organizations_url": "https://api.github.com/users/stevenroose/orgs",
        "repos_url": "https://api.github.com/users/stevenroose/repos",
        "events_url": "https://api.github.com/users/stevenroose/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stevenroose/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-23T10:00:03Z",
      "updated_at": "2017-12-23T10:00:03Z",
      "author_association": "CONTRIBUTOR",
      "body": "What is the argumentation here for using `legacy` instead of `p2pkh`? Legacy is an ambiguous term. At some point in the past, `p2pk`could have been considered legacy while using addresses was the new way. In the future, SegWit/bech32 could be considered legacy over a next generation addressing convention.",
      "user": {
        "login": "stevenroose",
        "id": 853468,
        "node_id": "MDQ6VXNlcjg1MzQ2OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/853468?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stevenroose",
        "html_url": "https://github.com/stevenroose",
        "followers_url": "https://api.github.com/users/stevenroose/followers",
        "following_url": "https://api.github.com/users/stevenroose/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stevenroose/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stevenroose/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stevenroose/subscriptions",
        "organizations_url": "https://api.github.com/users/stevenroose/orgs",
        "repos_url": "https://api.github.com/users/stevenroose/repos",
        "events_url": "https://api.github.com/users/stevenroose/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stevenroose/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-353717636",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "commented",
      "id": 353718008,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzcxODAwOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/353718008",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-23T10:08:24Z",
      "updated_at": "2017-12-23T10:11:02Z",
      "author_association": "MEMBER",
      "body": "@stevenroose Good point, it's not perfectly unambiguous. However, \"legacy\" does not mean just P2PKH. For multisig it means P2SH-multisig.\n\nArguably \"p2sh\" is also not perfect, as for multisig it refers to P2SH-P2WSH-multisig.\n\nUnambiguous would be using the names \"no-witness\" (instead of legacy), \"p2sh-witness-v0\" (instead of p2sh), and \"native-witness-v0\" (instead of bech32), but those aren't really well known things, and aren't really related to the names people use for the address encodings.\n\nSuggestions welcome.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-353718008",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1400358148,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTQwMDM1ODE0OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1400358148",
      "actor": {
        "login": "stevenroose",
        "id": 853468,
        "node_id": "MDQ6VXNlcjg1MzQ2OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/853468?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stevenroose",
        "html_url": "https://github.com/stevenroose",
        "followers_url": "https://api.github.com/users/stevenroose/followers",
        "following_url": "https://api.github.com/users/stevenroose/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stevenroose/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stevenroose/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stevenroose/subscriptions",
        "organizations_url": "https://api.github.com/users/stevenroose/orgs",
        "repos_url": "https://api.github.com/users/stevenroose/repos",
        "events_url": "https://api.github.com/users/stevenroose/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stevenroose/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-23T10:08:24Z"
    },
    {
      "event": "subscribed",
      "id": 1400358149,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE0MDAzNTgxNDk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1400358149",
      "actor": {
        "login": "stevenroose",
        "id": 853468,
        "node_id": "MDQ6VXNlcjg1MzQ2OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/853468?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stevenroose",
        "html_url": "https://github.com/stevenroose",
        "followers_url": "https://api.github.com/users/stevenroose/followers",
        "following_url": "https://api.github.com/users/stevenroose/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stevenroose/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stevenroose/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stevenroose/subscriptions",
        "organizations_url": "https://api.github.com/users/stevenroose/orgs",
        "repos_url": "https://api.github.com/users/stevenroose/repos",
        "events_url": "https://api.github.com/users/stevenroose/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stevenroose/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-23T10:08:24Z"
    },
    {
      "event": "commented",
      "id": 353721884,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzcyMTg4NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/353721884",
      "actor": {
        "login": "flack",
        "id": 425166,
        "node_id": "MDQ6VXNlcjQyNTE2Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/425166?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/flack",
        "html_url": "https://github.com/flack",
        "followers_url": "https://api.github.com/users/flack/followers",
        "following_url": "https://api.github.com/users/flack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/flack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/flack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/flack/subscriptions",
        "organizations_url": "https://api.github.com/users/flack/orgs",
        "repos_url": "https://api.github.com/users/flack/repos",
        "events_url": "https://api.github.com/users/flack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/flack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-23T11:43:17Z",
      "updated_at": "2017-12-23T11:43:17Z",
      "author_association": "CONTRIBUTOR",
      "body": "maybe call it something like `pre-segwit`? Not especially elegant, but it would probably age better than `legacy`",
      "user": {
        "login": "flack",
        "id": 425166,
        "node_id": "MDQ6VXNlcjQyNTE2Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/425166?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/flack",
        "html_url": "https://github.com/flack",
        "followers_url": "https://api.github.com/users/flack/followers",
        "following_url": "https://api.github.com/users/flack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/flack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/flack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/flack/subscriptions",
        "organizations_url": "https://api.github.com/users/flack/orgs",
        "repos_url": "https://api.github.com/users/flack/repos",
        "events_url": "https://api.github.com/users/flack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/flack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-353721884",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "commented",
      "id": 353724238,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzcyNDIzOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/353724238",
      "actor": {
        "login": "stevenroose",
        "id": 853468,
        "node_id": "MDQ6VXNlcjg1MzQ2OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/853468?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stevenroose",
        "html_url": "https://github.com/stevenroose",
        "followers_url": "https://api.github.com/users/stevenroose/followers",
        "following_url": "https://api.github.com/users/stevenroose/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stevenroose/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stevenroose/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stevenroose/subscriptions",
        "organizations_url": "https://api.github.com/users/stevenroose/orgs",
        "repos_url": "https://api.github.com/users/stevenroose/repos",
        "events_url": "https://api.github.com/users/stevenroose/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stevenroose/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-23T12:42:43Z",
      "updated_at": "2017-12-23T12:42:43Z",
      "author_association": "CONTRIBUTOR",
      "body": "The two important factors are where the keys are taken from in the BIP32\nhierarchy and how the address is formatted visibly.\n\np2sh-p2wsh-multisig is indeed a bit more complex than what you want to\naddress in a single parameter..\n\nMaybe legacy is a good name when referring to the \"gen1\" addressing and we\ncan see what gen2 brings.\n\nTl;dr can't directly come up with a better naming idea.\n\n\n\n\nOn 23 Dec 2017 12:44 pm, \"flack\" <notifications@github.com> wrote:\n\nmaybe call it something like pre-segwit? Not especially elegant, but it\nwould probably age better than legacy\n\nâ€”\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\n<https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-353721884>, or mute\nthe thread\n<https://github.com/notifications/unsubscribe-auth/AA0F3K71ugnEGbWLcA1vjaBB763mkfAMks5tDOeSgaJpZM4PjkGp>\n.\n",
      "user": {
        "login": "stevenroose",
        "id": 853468,
        "node_id": "MDQ6VXNlcjg1MzQ2OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/853468?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stevenroose",
        "html_url": "https://github.com/stevenroose",
        "followers_url": "https://api.github.com/users/stevenroose/followers",
        "following_url": "https://api.github.com/users/stevenroose/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stevenroose/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stevenroose/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stevenroose/subscriptions",
        "organizations_url": "https://api.github.com/users/stevenroose/orgs",
        "repos_url": "https://api.github.com/users/stevenroose/repos",
        "events_url": "https://api.github.com/users/stevenroose/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stevenroose/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-353724238",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "commented",
      "id": 353725343,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzcyNTM0Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/353725343",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-23T13:07:41Z",
      "updated_at": "2017-12-23T13:07:41Z",
      "author_association": "MEMBER",
      "body": "If v1 scripts will introduce new address types, maybe using \"bech32-v0\" and \"p2sh-v0\" now is a good idea? At least \"p2sh-v0\" is suggestive of witness support, unlike plain \"p2sh\" which sounds like a purely legacy mode.\r\n\r\nNaming the format after bips could also work: maybe \"bip16\", \"bip141-v0\", \"bip173-v0\" -- except bip16 isn't really accurate, and none of those are very intuitive. \"pre-witness\" or \"pre-segwit\" seems better than legacy if this option will still be useful when v1 scripts get implemented. Alternatively, \"base58\" or \"base58-legacy\" might match \"bech32-v0\" well.",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-353725343",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1400444477,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTQwMDQ0NDQ3Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1400444477",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-23T17:30:33Z"
    },
    {
      "event": "commented",
      "id": 353738418,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzczODQxOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/353738418",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-23T17:31:27Z",
      "updated_at": "2017-12-23T17:31:27Z",
      "author_association": "MEMBER",
      "body": "@ryanofsky @TheBlueMatt Updated `address_types.py` to also test `getrawchangeaddress`, and the `address_type` parameter to both RPCs.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-353738418",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1400444656,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTQwMDQ0NDY1Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1400444656",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-23T17:31:27Z"
    },
    {
      "event": "subscribed",
      "id": 1400444657,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE0MDA0NDQ2NTc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1400444657",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-23T17:31:27Z"
    },
    {
      "event": "mentioned",
      "id": 1400444658,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTQwMDQ0NDY1OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1400444658",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-23T17:31:27Z"
    },
    {
      "event": "subscribed",
      "id": 1400444659,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE0MDA0NDQ2NTk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1400444659",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-23T17:31:27Z"
    },
    {
      "event": "commented",
      "id": 353809911,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzgwOTkxMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/353809911",
      "actor": {
        "login": "juscamarena",
        "id": 446261,
        "node_id": "MDQ6VXNlcjQ0NjI2MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/446261?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/juscamarena",
        "html_url": "https://github.com/juscamarena",
        "followers_url": "https://api.github.com/users/juscamarena/followers",
        "following_url": "https://api.github.com/users/juscamarena/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/juscamarena/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/juscamarena/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/juscamarena/subscriptions",
        "organizations_url": "https://api.github.com/users/juscamarena/orgs",
        "repos_url": "https://api.github.com/users/juscamarena/repos",
        "events_url": "https://api.github.com/users/juscamarena/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/juscamarena/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-25T00:38:11Z",
      "updated_at": "2017-12-25T00:38:11Z",
      "author_association": "NONE",
      "body": "Tested ACK 10bd7d6c20028309b45d44d8f50188649a00825e\r\n \r\nTested on OSX on bitcoin testnet with an older HD Wallet, the various change addresses and address style changes worked fine.\r\n\r\nCurrently testing a linux build irresponsibly live on mainnet on one of my nodes with low volume outgoing transactions and it works great so far. Extensively tested on testnet before doing so.",
      "user": {
        "login": "juscamarena",
        "id": 446261,
        "node_id": "MDQ6VXNlcjQ0NjI2MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/446261?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/juscamarena",
        "html_url": "https://github.com/juscamarena",
        "followers_url": "https://api.github.com/users/juscamarena/followers",
        "following_url": "https://api.github.com/users/juscamarena/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/juscamarena/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/juscamarena/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/juscamarena/subscriptions",
        "organizations_url": "https://api.github.com/users/juscamarena/orgs",
        "repos_url": "https://api.github.com/users/juscamarena/repos",
        "events_url": "https://api.github.com/users/juscamarena/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/juscamarena/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-353809911",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "reviewed",
      "id": 85721165,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3ODU3MjExNjU=",
      "url": null,
      "actor": null,
      "commit_id": "d0c76c351aad0454bea1cf2e4da7a8910f30c714",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "re-ACK",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-85721165",
      "submitted_at": "2017-12-27T20:14:11Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "mentioned",
      "id": 1402986679,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTQwMjk4NjY3OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1402986679",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-27T22:44:08Z"
    },
    {
      "event": "subscribed",
      "id": 1402986680,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE0MDI5ODY2ODA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1402986680",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-27T22:44:08Z"
    },
    {
      "event": "comment_deleted",
      "id": 1403023430,
      "node_id": "MDE5OkNvbW1lbnREZWxldGVkRXZlbnQxNDAzMDIzNDMw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1403023430",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-27T23:51:40Z"
    },
    {
      "event": "reviewed",
      "id": 85777941,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3ODU3Nzc5NDE=",
      "url": null,
      "actor": null,
      "commit_id": "5d9243963a2591403043f0a1f06a8a7701f1cea7",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "user": {
        "login": "Talkless",
        "id": 292191,
        "node_id": "MDQ6VXNlcjI5MjE5MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/292191?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Talkless",
        "html_url": "https://github.com/Talkless",
        "followers_url": "https://api.github.com/users/Talkless/followers",
        "following_url": "https://api.github.com/users/Talkless/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Talkless/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Talkless/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Talkless/subscriptions",
        "organizations_url": "https://api.github.com/users/Talkless/orgs",
        "repos_url": "https://api.github.com/users/Talkless/repos",
        "events_url": "https://api.github.com/users/Talkless/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Talkless/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-85777941",
      "submitted_at": "2017-12-28T07:37:28Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "mentioned",
      "id": 1403490640,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTQwMzQ5MDY0MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1403490640",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-28T11:58:01Z"
    },
    {
      "event": "subscribed",
      "id": 1403490641,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE0MDM0OTA2NDE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1403490641",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-28T11:58:01Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1403497639,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTQwMzQ5NzYzOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1403497639",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-28T12:06:39Z"
    },
    {
      "event": "reviewed",
      "id": 85903766,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3ODU5MDM3NjY=",
      "url": null,
      "actor": null,
      "commit_id": "b2c21fce66a2ce62cba832b87d086b5ea587691a",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "utACK 17a7a72.",
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-85903766",
      "submitted_at": "2017-12-29T02:44:36Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "reviewed",
      "id": 85907171,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3ODU5MDcxNzE=",
      "url": null,
      "actor": null,
      "commit_id": "17a7a7255958237b235c7c4104af7d9dd4482c8e",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-85907171",
      "submitted_at": "2017-12-29T02:46:23Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "mentioned",
      "id": 1405417140,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTQwNTQxNzE0MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1405417140",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-31T21:34:43Z"
    },
    {
      "event": "subscribed",
      "id": 1405417141,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE0MDU0MTcxNDE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1405417141",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-31T21:34:43Z"
    },
    {
      "event": "mentioned",
      "id": 1405417142,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTQwNTQxNzE0Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1405417142",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-31T21:34:43Z"
    },
    {
      "event": "subscribed",
      "id": 1405417143,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE0MDU0MTcxNDM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1405417143",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-31T21:34:43Z"
    },
    {
      "event": "mentioned",
      "id": 1405417324,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTQwNTQxNzMyNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1405417324",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-31T21:35:43Z"
    },
    {
      "event": "subscribed",
      "id": 1405417325,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE0MDU0MTczMjU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1405417325",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-12-31T21:35:43Z"
    },
    {
      "event": "reviewed",
      "id": 86053672,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3ODYwNTM2NzI=",
      "url": null,
      "actor": null,
      "commit_id": "17a7a7255958237b235c7c4104af7d9dd4482c8e",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "utACK 17a7a7255958237b235c7c4104af7d9dd4482c8e. Changes since [previous review](https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-83563917) were various documentation / comment / test updates, GetAccountPubkey -> GetAccountDestination refactor, changing AddDestinationForScript so addmultisigaddress returns P2SH-P2WSH instead of P2SH addresses (https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-352095070).\r\n\r\nUpdated TODO list (again, all things that could be followed up on in future PRs):\r\n\r\n- [ ] add -addresstype and -changetype parsing tests https://github.com/bitcoin/bitcoin/pull/11403#discussion_r141033697 (promag 9/26), https://github.com/bitcoin/bitcoin/pull/11403#discussion_r141966093 (instagibbs 9/29)\r\n- [X] ~~add getnewaddress address_type parsing test https://github.com/bitcoin/bitcoin/pull/11403#discussion_r141034483 (promag 9/26)~~\r\n- [X] ~~add getrawchangeaddress address_type parsing test https://github.com/bitcoin/bitcoin/pull/11403#discussion_r141034981 (promag 9/26), https://github.com/bitcoin/bitcoin/pull/11403#discussion_r141966363 (instagibbs 9/29)~~\r\n- [ ] avoid slow/redundant AddCScript calls in AddDestinationForKey, AddDestinationForScript, and AddRelatedScripts https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155665399 (TheBlueMatt 12/7) and https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-84010629 (TheBlueMatt 12/17)\r\n- [ ] remove or move AddCScript calls in AddDestinationForKey, AddDestinationForScript by either dropping support for downgrading or by inserting scripts in more appropriate place, like on removal of keys from keypool https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155889073 (theuni 10/17, ryanofsky 12/8)\r\n- [ ] document downgrade/upgrade procedure https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-350123945 (TheBlueMatt 12/7)\r\n- [ ] replace overloaded CKeyID/CScriptID types in CTxDestination variant https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155821355 (ryanofsky 12/8)\r\n- [ ] add some kind of test coverage for downgrade code that we may never know is broken https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156506863 (ryanofsky 12/12)\r\n- [ ] copy address labels in addwitnessaddress https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-352287609 (sturles 12/17)\r\n- [ ] add a test verifying we don't count segwit outputs paying to a uncompressed public key as part of our balance https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157686476 (TheBlueMatt 12/17)\r\n- [ ] indicate associated addresses types when exporting private keys https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-353454555 (SomberNight 12/21)\r\n- [ ] various promag 12/28 review suggestions https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-85903766 ",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-86053672",
      "submitted_at": "2017-12-31T21:38:55Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "commented",
      "id": 354901608,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDkwMTYwOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/354901608",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-02T23:19:43Z",
      "updated_at": "2018-01-02T23:19:43Z",
      "author_association": "MEMBER",
      "body": "Regarding what to call the address types, this comment came up elsewhere about the `p2sh` type:\r\n\r\n> That's nice but it's ambiguous tho' ; \"P2SH\" doesn't tell you what script is inside (segwit, multisig, etc).\r\n\r\nI think that it should be slightly more specific to refer to segwit, something like `p2sh-segwit`. That way users will understand that those addresses are segwit addresses too.",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-354901608",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1407736578,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTQwNzczNjU3OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1407736578",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-03T12:59:25Z"
    },
    {
      "event": "subscribed",
      "id": 1407736579,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE0MDc3MzY1Nzk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1407736579",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-03T12:59:25Z"
    },
    {
      "event": "mentioned",
      "id": 1407739465,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTQwNzczOTQ2NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1407739465",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-03T13:00:52Z"
    },
    {
      "event": "subscribed",
      "id": 1407739466,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE0MDc3Mzk0NjY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1407739466",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-03T13:00:52Z"
    },
    {
      "event": "mentioned",
      "id": 1407740232,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTQwNzc0MDIzMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1407740232",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-03T13:01:25Z"
    },
    {
      "event": "subscribed",
      "id": 1407740233,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE0MDc3NDAyMzM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1407740233",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-03T13:01:25Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzowYzhlYTYzODBjOWY0MDJlZDk3NzdmZDAxNWIxMTdiYTEzMTI1YTM1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0c8ea6380c9f402ed9777fd015b117ba13125a35",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/0c8ea6380c9f402ed9777fd015b117ba13125a35",
      "tree": {
        "sha": "23dc52dd8456f356328dca4de4dc030d19428f43",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/23dc52dd8456f356328dca4de4dc030d19428f43"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/22149540f9e74ddff84973d9818ec9a34a533764",
          "sha": "22149540f9e74ddff84973d9818ec9a34a533764",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/22149540f9e74ddff84973d9818ec9a34a533764"
        }
      ],
      "message": "Abstract out IsSolvable from Witnessifier",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2018-01-03T13:32:00Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2017-12-01T00:48:31Z"
      },
      "sha": "0c8ea6380c9f402ed9777fd015b117ba13125a35"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjYmUxOTc0NzBlY2MxZjdiNDg3NzFjNGU3YjY1NGFiMDMwYWY0Yzll",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cbe197470ecc1f7b48771c4e7b654ab030af4c9e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/cbe197470ecc1f7b48771c4e7b654ab030af4c9e",
      "tree": {
        "sha": "186ac9f061e40c2b891e154c6bc81bdd74bc4b03",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/186ac9f061e40c2b891e154c6bc81bdd74bc4b03"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0c8ea6380c9f402ed9777fd015b117ba13125a35",
          "sha": "0c8ea6380c9f402ed9777fd015b117ba13125a35",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/0c8ea6380c9f402ed9777fd015b117ba13125a35"
        }
      ],
      "message": "[refactor] GetAccount{PubKey,Address} -> GetAccountDestination",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2018-01-03T13:42:57Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2017-12-18T04:34:39Z"
      },
      "sha": "cbe197470ecc1f7b48771c4e7b654ab030af4c9e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5ODVjNzk1NTJjZWI2YTVmNTgxMmQ0MjFkYzVjODZmYTNiMWNjNDFk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/985c79552ceb6a5f5812d421dc5c86fa3b1cc41d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/985c79552ceb6a5f5812d421dc5c86fa3b1cc41d",
      "tree": {
        "sha": "682a791059736fe9e74a5314df7536f576e16645",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/682a791059736fe9e74a5314df7536f576e16645"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cbe197470ecc1f7b48771c4e7b654ab030af4c9e",
          "sha": "cbe197470ecc1f7b48771c4e7b654ab030af4c9e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/cbe197470ecc1f7b48771c4e7b654ab030af4c9e"
        }
      ],
      "message": "Improve witness destination types and use them more",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2018-01-03T13:43:06Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2017-12-01T00:48:38Z"
      },
      "sha": "985c79552ceb6a5f5812d421dc5c86fa3b1cc41d"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzozMGEyN2RjNWIxOGEzYWI4MmE5NzY4NzEwYjI0ZDRlN2U5NjYxNjU4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/30a27dc5b18a3ab82a9768710b24d4e7e9661658",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/30a27dc5b18a3ab82a9768710b24d4e7e9661658",
      "tree": {
        "sha": "79f7a63cf8fe7ddc821a529ac7a20e0359184dcf",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/79f7a63cf8fe7ddc821a529ac7a20e0359184dcf"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/985c79552ceb6a5f5812d421dc5c86fa3b1cc41d",
          "sha": "985c79552ceb6a5f5812d421dc5c86fa3b1cc41d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/985c79552ceb6a5f5812d421dc5c86fa3b1cc41d"
        }
      ],
      "message": "Expose method to find key for a single-key destination",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2018-01-03T13:43:06Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2017-12-01T00:48:41Z"
      },
      "sha": "30a27dc5b18a3ab82a9768710b24d4e7e9661658"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzozZWFhMDAzYzg4OGY4MDIwN2U4ZmYxMzJmNzg0MTdmZjM3M2RkZmEz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3eaa003c888f80207e8ff132f78417ff373ddfa3",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/3eaa003c888f80207e8ff132f78417ff373ddfa3",
      "tree": {
        "sha": "f8437dcea4d6de4eafa82891e96309324ea2f124",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f8437dcea4d6de4eafa82891e96309324ea2f124"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/30a27dc5b18a3ab82a9768710b24d4e7e9661658",
          "sha": "30a27dc5b18a3ab82a9768710b24d4e7e9661658",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/30a27dc5b18a3ab82a9768710b24d4e7e9661658"
        }
      ],
      "message": "Extend validateaddress information for P2SH-embedded witness\n\nThis adds new fields 'pubkeys' and 'embedded' to the RPC's output, and improves the\ndocumentation for previously added 'witness_version' and 'witness_program' fields.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2018-01-03T13:43:06Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2017-12-01T00:48:45Z"
      },
      "sha": "3eaa003c888f80207e8ff132f78417ff373ddfa3"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1407810465,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTQwNzgxMDQ2NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1407810465",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-03T13:51:13Z"
    },
    {
      "event": "commented",
      "id": 355017652,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTAxNzY1Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355017652",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-03T13:57:59Z",
      "updated_at": "2018-01-03T14:12:50Z",
      "author_association": "MEMBER",
      "body": "Pushed a significant change: 17a7a7255958237b235c7c4104af7d9dd4482c8e -> 06cdb1dadc93b1fb273db3e74095656a1955e63c (squashed, not rebased):\r\n* Several comments addressing how it's harmless to have additional `CScript`s in the wallet, following comments by @TheBlueMatt.\r\n* Split up `AddDestinationForKey` into `GetDestinationForKey` (function) and `LearnRelatedScripts` (wallet method) as requested by @theuni and @ryanofsky. While being a bit more verbose, it's probably easier to read and more efficient for a few use cases.\r\n* Renamed `p2sh` as address type to `p2sh-segwit` as suggested by @achow101.\r\n* Restructured and improved the efficiency of `DescribeAddressVisitor::ProcessSubScript` a bit, as suggested by @promag.\r\n* Hopefully fixed two bugs noticed by @TheBlueMatt w.r.t. detection of wallet outputs after downgrade (specifically for imported keys, and for out-of-order recovery-detected keys); note that there are no tests for this - it only impacts downgrade to older software.\r\n* Added more comments and commit messages.\r\n* Added tests for `witness_version` and `witness_program` fields.\r\n\r\nSorry for the review that this invalidates, but I hope this can be the last update to this PR.\r\n  ",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-355017652",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1407820499,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTQwNzgyMDQ5OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1407820499",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-03T13:57:59Z"
    },
    {
      "event": "subscribed",
      "id": 1407820500,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE0MDc4MjA1MDA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1407820500",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-03T13:57:59Z"
    },
    {
      "event": "mentioned",
      "id": 1407820501,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTQwNzgyMDUwMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1407820501",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-03T13:57:59Z"
    },
    {
      "event": "subscribed",
      "id": 1407820504,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE0MDc4MjA1MDQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1407820504",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-03T13:57:59Z"
    },
    {
      "event": "mentioned",
      "id": 1407820505,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTQwNzgyMDUwNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1407820505",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-03T13:57:59Z"
    },
    {
      "event": "subscribed",
      "id": 1407820507,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE0MDc4MjA1MDc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1407820507",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-03T13:57:59Z"
    },
    {
      "event": "mentioned",
      "id": 1407820508,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTQwNzgyMDUwOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1407820508",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-03T13:57:59Z"
    },
    {
      "event": "subscribed",
      "id": 1407820509,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE0MDc4MjA1MDk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1407820509",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-03T13:57:59Z"
    },
    {
      "event": "mentioned",
      "id": 1407820510,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTQwNzgyMDUxMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1407820510",
      "actor": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-03T13:57:59Z"
    },
    {
      "event": "subscribed",
      "id": 1407820512,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE0MDc4MjA1MTI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1407820512",
      "actor": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-03T13:57:59Z"
    },
    {
      "event": "commented",
      "id": 355037129,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTAzNzEyOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355037129",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-03T15:17:33Z",
      "updated_at": "2018-01-03T15:17:33Z",
      "author_association": "MEMBER",
      "body": "address_types.py appears to be failing on this assert for a single build:\r\n`assert_equal(unconf_balances[to_node], to_send * 10 * (2 + n))`",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-355037129",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1408021773,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTQwODAyMTc3Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1408021773",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-03T15:52:30Z"
    },
    {
      "event": "subscribed",
      "id": 1408021774,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE0MDgwMjE3NzQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1408021774",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-03T15:52:30Z"
    },
    {
      "event": "commented",
      "id": 355047095,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTA0NzA5NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355047095",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-03T15:54:43Z",
      "updated_at": "2018-01-03T15:54:43Z",
      "author_association": "MEMBER",
      "body": "@sipa I remembered I had power to kick travis, and did. All good.",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-355047095",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1408025978,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTQwODAyNTk3OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1408025978",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-03T15:54:43Z"
    },
    {
      "event": "subscribed",
      "id": 1408025979,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE0MDgwMjU5Nzk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1408025979",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-03T15:54:43Z"
    },
    {
      "event": "reviewed",
      "id": 86409909,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3ODY0MDk5MDk=",
      "url": null,
      "actor": null,
      "commit_id": "6689c3c256612fbb39000ba54d706c2b57e5d045",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "utACK 06cdb1dadc93b1fb273db3e74095656a1955e63c. Changes since previous review were the ones listed https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-355017652.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-86409909",
      "submitted_at": "2018-01-03T17:43:10Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "reviewed",
      "id": 86548676,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3ODY1NDg2NzY=",
      "url": null,
      "actor": null,
      "commit_id": "6689c3c256612fbb39000ba54d706c2b57e5d045",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "jimpo",
        "id": 881253,
        "node_id": "MDQ6VXNlcjg4MTI1Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/881253?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jimpo",
        "html_url": "https://github.com/jimpo",
        "followers_url": "https://api.github.com/users/jimpo/followers",
        "following_url": "https://api.github.com/users/jimpo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jimpo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jimpo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jimpo/subscriptions",
        "organizations_url": "https://api.github.com/users/jimpo/orgs",
        "repos_url": "https://api.github.com/users/jimpo/repos",
        "events_url": "https://api.github.com/users/jimpo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jimpo/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-86548676",
      "submitted_at": "2018-01-04T03:54:58Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1411511986,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTQxMTUxMTk4Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1411511986",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-05T15:58:53Z"
    },
    {
      "event": "commented",
      "id": 355759677,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTc1OTY3Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355759677",
      "actor": {
        "login": "sneurlax",
        "id": 4107993,
        "node_id": "MDQ6VXNlcjQxMDc5OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4107993?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sneurlax",
        "html_url": "https://github.com/sneurlax",
        "followers_url": "https://api.github.com/users/sneurlax/followers",
        "following_url": "https://api.github.com/users/sneurlax/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sneurlax/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sneurlax/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sneurlax/subscriptions",
        "organizations_url": "https://api.github.com/users/sneurlax/orgs",
        "repos_url": "https://api.github.com/users/sneurlax/repos",
        "events_url": "https://api.github.com/users/sneurlax/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sneurlax/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-06T16:54:12Z",
      "updated_at": "2018-01-06T16:54:12Z",
      "author_association": "NONE",
      "body": "Built, tested, working here.",
      "user": {
        "login": "sneurlax",
        "id": 4107993,
        "node_id": "MDQ6VXNlcjQxMDc5OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4107993?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sneurlax",
        "html_url": "https://github.com/sneurlax",
        "followers_url": "https://api.github.com/users/sneurlax/followers",
        "following_url": "https://api.github.com/users/sneurlax/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sneurlax/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sneurlax/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sneurlax/subscriptions",
        "organizations_url": "https://api.github.com/users/sneurlax/orgs",
        "repos_url": "https://api.github.com/users/sneurlax/repos",
        "events_url": "https://api.github.com/users/sneurlax/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sneurlax/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-355759677",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "commented",
      "id": 355837804,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTgzNzgwNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355837804",
      "actor": {
        "login": "ghost",
        "id": 10137,
        "node_id": "MDQ6VXNlcjEwMTM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ghost",
        "html_url": "https://github.com/ghost",
        "followers_url": "https://api.github.com/users/ghost/followers",
        "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
        "organizations_url": "https://api.github.com/users/ghost/orgs",
        "repos_url": "https://api.github.com/users/ghost/repos",
        "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ghost/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-07T17:21:46Z",
      "updated_at": "2018-01-07T17:22:08Z",
      "author_association": "NONE",
      "body": "Built in a Ubuntu VM for Windows. Tested: *creation of p2sh, *creation of bech32 using '-addresstype=bech32'.\r\n\r\nIf you create a new wallet using 0.15.0, it adds 1 address to the Receiving tab on creation:\r\nhttps://i.imgur.com/u0ibz3a.png\r\nThat is not the case with this branch (both p2sh and addresstype=bech32):\r\nhttps://i.imgur.com/H78fGtk.png\r\nI'm not sure whether this change is intended or whether it is relevant, but I'd thought I'd mention it. @sipa ?\r\n\r\nTested on mainnet. ACK.\r\n  ",
      "user": {
        "login": "ghost",
        "id": 10137,
        "node_id": "MDQ6VXNlcjEwMTM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ghost",
        "html_url": "https://github.com/ghost",
        "followers_url": "https://api.github.com/users/ghost/followers",
        "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
        "organizations_url": "https://api.github.com/users/ghost/orgs",
        "repos_url": "https://api.github.com/users/ghost/repos",
        "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ghost/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-355837804",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1412805174,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTQxMjgwNTE3NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1412805174",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-07T17:21:46Z"
    },
    {
      "event": "subscribed",
      "id": 1412805175,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE0MTI4MDUxNzU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1412805175",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-07T17:21:46Z"
    },
    {
      "event": "commented",
      "id": 355839541,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTgzOTU0MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355839541",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-07T17:49:33Z",
      "updated_at": "2018-01-07T17:49:33Z",
      "author_association": "MEMBER",
      "body": "I believe this is due to a different change. The removal of the default\nkey.\n\nOn Jan 7, 2018 12:22 PM, \"Lauda\" <notifications@github.com> wrote:\n\n> Built in a Ubuntu VM for Windows. Tested: *creation of p2sh, *creation of\n> bech32 using '-addresstype=bech32'.\n>\n> If you create a new wallet using 0.15.0, it adds 1 address to the\n> Receiving tab on creation:\n> https://i.imgur.com/u0ibz3a.png <http://url>\n> That is not the case with this branch (both p2sh and addresstype=bech32):\n> https://i.imgur.com/H78fGtk.png <http://url>\n> I'm not sure whether this change is intended or whether it is relevant,\n> but I'd thought I'd mention it. @sipa <https://github.com/sipa> ?\n>\n> Tested on mainnet. ACK.\n>\n> â€”\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-355837804>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AFgC08wP3MrUjvE-8hlOBJOM0IZ7PoZNks5tIP1pgaJpZM4PjkGp>\n> .\n>\n",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-355839541",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1412812972,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTQxMjgxMjk3Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1412812972",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-07T17:49:33Z"
    },
    {
      "event": "subscribed",
      "id": 1412812973,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE0MTI4MTI5NzM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1412812973",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-07T17:49:33Z"
    },
    {
      "event": "commented",
      "id": 355842479,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTg0MjQ3OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355842479",
      "actor": {
        "login": "ghost",
        "id": 10137,
        "node_id": "MDQ6VXNlcjEwMTM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ghost",
        "html_url": "https://github.com/ghost",
        "followers_url": "https://api.github.com/users/ghost/followers",
        "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
        "organizations_url": "https://api.github.com/users/ghost/orgs",
        "repos_url": "https://api.github.com/users/ghost/repos",
        "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ghost/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-07T18:34:44Z",
      "updated_at": "2018-01-07T18:34:44Z",
      "author_association": "NONE",
      "body": "@instagibbs Tested using the 'legacy' option and you are right. ",
      "user": {
        "login": "ghost",
        "id": 10137,
        "node_id": "MDQ6VXNlcjEwMTM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ghost",
        "html_url": "https://github.com/ghost",
        "followers_url": "https://api.github.com/users/ghost/followers",
        "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
        "organizations_url": "https://api.github.com/users/ghost/orgs",
        "repos_url": "https://api.github.com/users/ghost/repos",
        "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ghost/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-355842479",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "mentioned",
      "id": 1412825414,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTQxMjgyNTQxNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1412825414",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-07T18:34:44Z"
    },
    {
      "event": "subscribed",
      "id": 1412825415,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE0MTI4MjU0MTU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1412825415",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-07T18:34:44Z"
    },
    {
      "event": "commented",
      "id": 355875193,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTg3NTE5Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355875193",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-08T02:43:12Z",
      "updated_at": "2018-01-08T02:43:12Z",
      "author_association": "CONTRIBUTOR",
      "body": "Tested ACK.",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-355875193",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "reviewed",
      "id": 87320189,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3ODczMjAxODk=",
      "url": null,
      "actor": null,
      "commit_id": "e5b4d3fb6ec60d393d763f77b5095919baa7c82f",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "utACK e5b4d3fb6ec60d393d763f77b5095919baa7c82f. Changes since last review: \"SegWit wallet support\" commit now has description, LearnAllRelatedScripts convenience function added, GetAccountDestination todo added.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-87320189",
      "submitted_at": "2018-01-08T19:51:56Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "reviewed",
      "id": 87289450,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3ODcyODk0NTA=",
      "url": null,
      "actor": null,
      "commit_id": "cbe197470ecc1f7b48771c4e7b654ab030af4c9e",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Seems fine to me, but I'm sick and cant review properly. Also not worth holding this up anymore for me.",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-87289450",
      "submitted_at": "2018-01-08T23:54:50Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "mentioned",
      "id": 1414693569,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTQxNDY5MzU2OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1414693569",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-08T23:57:12Z"
    },
    {
      "event": "subscribed",
      "id": 1414693570,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE0MTQ2OTM1NzA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1414693570",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-08T23:57:12Z"
    },
    {
      "event": "comment_deleted",
      "id": 1416187400,
      "node_id": "MDE5OkNvbW1lbnREZWxldGVkRXZlbnQxNDE2MTg3NDAw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1416187400",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-09T18:04:08Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzozN2MwM2QzZTA1NzEzZTE0NDU4Y2EyODY3ZTQ0MjkyNmYxNjVhZmVh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/37c03d3e05713e14458ca2867e442926f165afea",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/37c03d3e05713e14458ca2867e442926f165afea",
      "tree": {
        "sha": "edb5f0e059761256a274c4c433c886e7d1c2fac5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/edb5f0e059761256a274c4c433c886e7d1c2fac5"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3eaa003c888f80207e8ff132f78417ff373ddfa3",
          "sha": "3eaa003c888f80207e8ff132f78417ff373ddfa3",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/3eaa003c888f80207e8ff132f78417ff373ddfa3"
        }
      ],
      "message": "Support P2WPKH addresses in create/addmultisig",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2018-01-09T23:27:51Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2017-12-01T00:48:49Z"
      },
      "sha": "37c03d3e05713e14458ca2867e442926f165afea"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjZjJjMGI2ZjVjZGU1ODRkNzAwNGZmMWI1YjQ3NmVmNTRkZTZiNzRi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cf2c0b6f5cde584d7004ff1b5b476ef54de6b74b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/cf2c0b6f5cde584d7004ff1b5b476ef54de6b74b",
      "tree": {
        "sha": "e5a5cf921cebe98c930547a5c207eb2481526f68",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e5a5cf921cebe98c930547a5c207eb2481526f68"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/37c03d3e05713e14458ca2867e442926f165afea",
          "sha": "37c03d3e05713e14458ca2867e442926f165afea",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/37c03d3e05713e14458ca2867e442926f165afea"
        }
      ],
      "message": "Support P2WPKH and P2SH-P2WPKH in dumpprivkey",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2018-01-09T23:27:55Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2017-12-01T00:48:55Z"
      },
      "sha": "cf2c0b6f5cde584d7004ff1b5b476ef54de6b74b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1NzI3M2YyYjMwMjk0OWQ0Y2EzNTExZjcwMzYyN2I1ZDcxN2JlNDBj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/57273f2b302949d4ca3511f703627b5d717be40c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/57273f2b302949d4ca3511f703627b5d717be40c",
      "tree": {
        "sha": "1802905af456623f59bbe3cef222e9cc67cc6201",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1802905af456623f59bbe3cef222e9cc67cc6201"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cf2c0b6f5cde584d7004ff1b5b476ef54de6b74b",
          "sha": "cf2c0b6f5cde584d7004ff1b5b476ef54de6b74b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/cf2c0b6f5cde584d7004ff1b5b476ef54de6b74b"
        }
      ],
      "message": "[test] Serialize CTransaction with witness by default",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2018-01-09T23:27:55Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2017-12-01T00:49:01Z"
      },
      "sha": "57273f2b302949d4ca3511f703627b5d717be40c"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmMzdjNjRlNDc3ZDY3OTg1M2E0MDc2ZjJmNzg4ODU2OGJiMDM0ZTkw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f37c64e477d679853a4076f2f7888568bb034e90",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f37c64e477d679853a4076f2f7888568bb034e90",
      "tree": {
        "sha": "c89e9c12f55bf306452d8cd20c45a7a81f9fed6e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c89e9c12f55bf306452d8cd20c45a7a81f9fed6e"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/57273f2b302949d4ca3511f703627b5d717be40c",
          "sha": "57273f2b302949d4ca3511f703627b5d717be40c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/57273f2b302949d4ca3511f703627b5d717be40c"
        }
      ],
      "message": "Implicitly know about P2WPKH redeemscripts\n\nMake CKeyStore automatically known about the redeemscripts necessary for P2SH-P2WPKH\n(and due to the extra checks in IsMine, also P2WPKH) spending.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2018-01-09T23:35:27Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2017-12-01T00:49:04Z"
      },
      "sha": "f37c64e477d679853a4076f2f7888568bb034e90"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5NDBhMjE5MzJiYTc2OWJhNTgyOWNiYTcxMzU3OWRiODRmOTZkMmY4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/940a21932ba769ba5829cba713579db84f96d2f8",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/940a21932ba769ba5829cba713579db84f96d2f8",
      "tree": {
        "sha": "2f1db2f007ef50255baddae3ef712831ad46ab58",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2f1db2f007ef50255baddae3ef712831ad46ab58"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f37c64e477d679853a4076f2f7888568bb034e90",
          "sha": "f37c64e477d679853a4076f2f7888568bb034e90",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f37c64e477d679853a4076f2f7888568bb034e90"
        }
      ],
      "message": "SegWit wallet support\n\nThis introduces two command line flags (-addresstype and -changetype) which control\nthe type of addresses/outputs created by the GUI and RPCs. Certain RPCs allow\noverriding these (`getnewaddress` and `getrawchangeaddress`). Supported types\nare \"legacy\" (P2PKH and P2SH-multisig), \"p2sh-segwit\" (P2SH-P2WPKH and P2SH-P2WSH-multisig),\nand \"bech32\" (P2WPKH and P2WSH-multisig).\n\nA few utility functions are added to the wallet to construct different address type\nand to add the necessary entries to the wallet file to be compatible with earlier\nversions (see `CWallet::LearnRelatedScripts`, `GetDestinationForKey`,\n`GetAllDestinationsForKey`, `CWallet::AddAndGetDestinationForScript`).",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2018-01-09T23:35:31Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2017-12-01T00:49:11Z"
      },
      "sha": "940a21932ba769ba5829cba713579db84f96d2f8"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3ZWU1NGZkN2M3ZmEzMWUzY2VjMzgyNjUxZGQzNzNmN2VmMmQ3MzI3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7ee54fd7c7fa31e3cec382651dd373f7ef2d7327",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/7ee54fd7c7fa31e3cec382651dd373f7ef2d7327",
      "tree": {
        "sha": "0a8696fe594fa08f1cda05b08d7e9a3d005b7a2b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0a8696fe594fa08f1cda05b08d7e9a3d005b7a2b"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/940a21932ba769ba5829cba713579db84f96d2f8",
          "sha": "940a21932ba769ba5829cba713579db84f96d2f8",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/940a21932ba769ba5829cba713579db84f96d2f8"
        }
      ],
      "message": "Support downgrading after recovered keypool witness keys",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2018-01-09T23:35:31Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2017-12-01T00:49:16Z"
      },
      "sha": "7ee54fd7c7fa31e3cec382651dd373f7ef2d7327"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiMjI0YTQ3YTFhNWZlYWMzODA1MDZhYmZmNjNmYWU5MWQ3YTkzYjM5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b224a47a1a5feac380506abff63fae91d7a93b39",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b224a47a1a5feac380506abff63fae91d7a93b39",
      "tree": {
        "sha": "efbf5261517cc4a8130363344846762c4ba70aa4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/efbf5261517cc4a8130363344846762c4ba70aa4"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7ee54fd7c7fa31e3cec382651dd373f7ef2d7327",
          "sha": "7ee54fd7c7fa31e3cec382651dd373f7ef2d7327",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/7ee54fd7c7fa31e3cec382651dd373f7ef2d7327"
        }
      ],
      "message": "Add address_types test\n\nImprovements and cleanups by John Newbery",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2018-01-09T23:35:31Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2017-12-02T21:03:53Z"
      },
      "sha": "b224a47a1a5feac380506abff63fae91d7a93b39"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1416711407,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTQxNjcxMTQwNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1416711407",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-09T23:35:49Z"
    },
    {
      "event": "reviewed",
      "id": 87974999,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3ODc5NzQ5OTk=",
      "url": null,
      "actor": null,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "utACK b224a47a1a5feac380506abff63fae91d7a93b39. Only real change since last review is adding LearnAllRelatedScripts call in importpubkey (aside from updating a comment and removing `auto`).",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#pullrequestreview-87974999",
      "submitted_at": "2018-01-10T20:48:35Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
    },
    {
      "event": "commented",
      "id": 356763236,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1Njc2MzIzNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/356763236",
      "actor": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-10T22:46:58Z",
      "updated_at": "2018-01-10T22:46:58Z",
      "author_association": "MEMBER",
      "body": "![brace-yourself-the-merge-is-coming](https://user-images.githubusercontent.com/3534524/34799540-18b80bfa-f658-11e7-9523-01a0215911e7.jpg)\r\n",
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-356763236",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "merged",
      "id": 1419159793,
      "node_id": "MDExOk1lcmdlZEV2ZW50MTQxOTE1OTc5Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1419159793",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b224a47a1a5feac380506abff63fae91d7a93b39",
      "created_at": "2018-01-11T06:56:15Z"
    },
    {
      "event": "closed",
      "id": 1419159794,
      "node_id": "MDExOkNsb3NlZEV2ZW50MTQxOTE1OTc5NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1419159794",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-11T06:56:15Z"
    },
    {
      "event": "commented",
      "id": 356843474,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1Njg0MzQ3NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/356843474",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-11T06:56:21Z",
      "updated_at": "2018-01-11T06:56:21Z",
      "author_association": "CONTRIBUTOR",
      "body": "Re-Tested ACK b224a47a1",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-356843474",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "referenced",
      "id": 1419160078,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE0MTkxNjAwNzg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1419160078",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "d889c036cd6f683116e6a27e404be2809d1deb76",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d889c036cd6f683116e6a27e404be2809d1deb76",
      "created_at": "2018-01-11T06:56:37Z"
    },
    {
      "event": "commented",
      "id": 356843792,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1Njg0Mzc5Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/356843792",
      "actor": {
        "login": "tonyalester",
        "id": 35320080,
        "node_id": "MDQ6VXNlcjM1MzIwMDgw",
        "avatar_url": "https://avatars.githubusercontent.com/u/35320080?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tonyalester",
        "html_url": "https://github.com/tonyalester",
        "followers_url": "https://api.github.com/users/tonyalester/followers",
        "following_url": "https://api.github.com/users/tonyalester/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tonyalester/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tonyalester/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tonyalester/subscriptions",
        "organizations_url": "https://api.github.com/users/tonyalester/orgs",
        "repos_url": "https://api.github.com/users/tonyalester/repos",
        "events_url": "https://api.github.com/users/tonyalester/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tonyalester/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-11T06:58:18Z",
      "updated_at": "2018-01-11T06:58:18Z",
      "author_association": "NONE",
      "body": "ty",
      "user": {
        "login": "tonyalester",
        "id": 35320080,
        "node_id": "MDQ6VXNlcjM1MzIwMDgw",
        "avatar_url": "https://avatars.githubusercontent.com/u/35320080?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tonyalester",
        "html_url": "https://github.com/tonyalester",
        "followers_url": "https://api.github.com/users/tonyalester/followers",
        "following_url": "https://api.github.com/users/tonyalester/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tonyalester/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tonyalester/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tonyalester/subscriptions",
        "organizations_url": "https://api.github.com/users/tonyalester/orgs",
        "repos_url": "https://api.github.com/users/tonyalester/repos",
        "events_url": "https://api.github.com/users/tonyalester/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tonyalester/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-356843792",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "comment_deleted",
      "id": 1419288153,
      "node_id": "MDE5OkNvbW1lbnREZWxldGVkRXZlbnQxNDE5Mjg4MTUz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1419288153",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-11T08:42:21Z"
    },
    {
      "event": "comment_deleted",
      "id": 1419288893,
      "node_id": "MDE5OkNvbW1lbnREZWxldGVkRXZlbnQxNDE5Mjg4ODkz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1419288893",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-11T08:42:50Z"
    },
    {
      "event": "locked",
      "id": 1419289007,
      "node_id": "MDExOkxvY2tlZEV2ZW50MTQxOTI4OTAwNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1419289007",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-11T08:42:56Z"
    },
    {
      "event": "removed_from_project",
      "id": 1420261453,
      "node_id": "MDIzOlJlbW92ZWRGcm9tUHJvamVjdEV2ZW50MTQyMDI2MTQ1Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1420261453",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-11T17:46:03Z",
      "project_card": {
        "id": 5589794,
        "url": "https://api.github.com/projects/columns/cards/5589794",
        "project_id": 481835,
        "project_url": "https://api.github.com/projects/481835",
        "column_name": "Blockers"
      }
    },
    {
      "event": "unlocked",
      "id": 1420511373,
      "node_id": "MDEzOlVubG9ja2VkRXZlbnQxNDIwNTExMzcz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1420511373",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-11T20:08:04Z"
    },
    {
      "event": "commented",
      "id": 357046524,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzA0NjUyNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/357046524",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-11T20:08:23Z",
      "updated_at": "2018-01-11T20:08:23Z",
      "author_association": "MEMBER",
      "body": "Post-merge utACK",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#issuecomment-357046524",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11403"
    },
    {
      "event": "comment_deleted",
      "id": 1420513730,
      "node_id": "MDE5OkNvbW1lbnREZWxldGVkRXZlbnQxNDIwNTEzNzMw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1420513730",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-11T20:09:36Z"
    },
    {
      "event": "referenced",
      "id": 1420601711,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE0MjA2MDE3MTE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1420601711",
      "actor": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "f765bb37880443061eb5f0a9cd5897e33732182d",
      "commit_url": "https://api.github.com/repos/practicalswift/bitcoin/commits/f765bb37880443061eb5f0a9cd5897e33732182d",
      "created_at": "2018-01-11T21:03:37Z"
    },
    {
      "event": "referenced",
      "id": 1420601714,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE0MjA2MDE3MTQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1420601714",
      "actor": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "92a810d04b906722c9efe60e3997243c71ff3d4c",
      "commit_url": "https://api.github.com/repos/practicalswift/bitcoin/commits/92a810d04b906722c9efe60e3997243c71ff3d4c",
      "created_at": "2018-01-11T21:03:37Z"
    },
    {
      "event": "referenced",
      "id": 1422588548,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE0MjI1ODg1NDg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1422588548",
      "actor": {
        "login": "classesjack",
        "id": 34173563,
        "node_id": "MDQ6VXNlcjM0MTczNTYz",
        "avatar_url": "https://avatars.githubusercontent.com/u/34173563?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/classesjack",
        "html_url": "https://github.com/classesjack",
        "followers_url": "https://api.github.com/users/classesjack/followers",
        "following_url": "https://api.github.com/users/classesjack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/classesjack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/classesjack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/classesjack/subscriptions",
        "organizations_url": "https://api.github.com/users/classesjack/orgs",
        "repos_url": "https://api.github.com/users/classesjack/repos",
        "events_url": "https://api.github.com/users/classesjack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/classesjack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "ff062feb5e8d931063bdf9f7a457865094c86382",
      "commit_url": "https://api.github.com/repos/classesjack/bitcoin/commits/ff062feb5e8d931063bdf9f7a457865094c86382",
      "created_at": "2018-01-12T21:50:53Z"
    },
    {
      "event": "moved_columns_in_project",
      "id": 1423135741,
      "node_id": "MDI2Ok1vdmVkQ29sdW1uc0luUHJvamVjdEV2ZW50MTQyMzEzNTc0MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1423135741",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-01-13T22:54:41Z",
      "project_card": {
        "id": 5494086,
        "url": "https://api.github.com/projects/columns/cards/5494086",
        "project_id": 49587,
        "project_url": "https://api.github.com/projects/49587",
        "column_name": "Done",
        "previous_column_name": "In progress"
      }
    },
    {
      "event": "referenced",
      "id": 1440197220,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE0NDAxOTcyMjA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1440197220",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "7abb0f0929bd2cd413087f602f9bb5cebab898f8",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7abb0f0929bd2cd413087f602f9bb5cebab898f8",
      "created_at": "2018-01-24T19:10:52Z"
    },
    {
      "event": "referenced",
      "id": 1465495967,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE0NjU0OTU5Njc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1465495967",
      "actor": {
        "login": "Christewart",
        "id": 3514957,
        "node_id": "MDQ6VXNlcjM1MTQ5NTc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3514957?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Christewart",
        "html_url": "https://github.com/Christewart",
        "followers_url": "https://api.github.com/users/Christewart/followers",
        "following_url": "https://api.github.com/users/Christewart/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Christewart/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Christewart/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Christewart/subscriptions",
        "organizations_url": "https://api.github.com/users/Christewart/orgs",
        "repos_url": "https://api.github.com/users/Christewart/repos",
        "events_url": "https://api.github.com/users/Christewart/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Christewart/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "4ea2dad4338b92b98e11ddb166483d59af41ebf5",
      "commit_url": "https://api.github.com/repos/Christewart/bitcoin/commits/4ea2dad4338b92b98e11ddb166483d59af41ebf5",
      "created_at": "2018-02-08T21:17:08Z"
    },
    {
      "event": "referenced",
      "id": 1469674029,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE0Njk2NzQwMjk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1469674029",
      "actor": {
        "login": "hkjn",
        "id": 287215,
        "node_id": "MDQ6VXNlcjI4NzIxNQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/287215?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hkjn",
        "html_url": "https://github.com/hkjn",
        "followers_url": "https://api.github.com/users/hkjn/followers",
        "following_url": "https://api.github.com/users/hkjn/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hkjn/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hkjn/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hkjn/subscriptions",
        "organizations_url": "https://api.github.com/users/hkjn/orgs",
        "repos_url": "https://api.github.com/users/hkjn/repos",
        "events_url": "https://api.github.com/users/hkjn/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hkjn/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "42b71f40ac1df6fd731f2bd4b29622f768e0cb41",
      "commit_url": "https://api.github.com/repos/hkjn/bitcoin/commits/42b71f40ac1df6fd731f2bd4b29622f768e0cb41",
      "created_at": "2018-02-12T15:23:08Z"
    },
    {
      "event": "referenced",
      "id": 1472159977,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE0NzIxNTk5Nzc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1472159977",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "b7f6002ed5d12b461eb56b768d06f2468cd0c12e",
      "commit_url": "https://api.github.com/repos/ryanofsky/bitcoin/commits/b7f6002ed5d12b461eb56b768d06f2468cd0c12e",
      "created_at": "2018-02-13T17:38:33Z"
    },
    {
      "event": "referenced",
      "id": 1472812369,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE0NzI4MTIzNjk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1472812369",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "88ca1257f656b8e83d6372bffa75faca906f93a3",
      "commit_url": "https://api.github.com/repos/sipa/bitcoin/commits/88ca1257f656b8e83d6372bffa75faca906f93a3",
      "created_at": "2018-02-14T00:05:41Z"
    },
    {
      "event": "referenced",
      "id": 1472910109,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE0NzI5MTAxMDk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1472910109",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "252ae7111cbff09a4cbc5caee9e02b6ed3580476",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/252ae7111cbff09a4cbc5caee9e02b6ed3580476",
      "created_at": "2018-02-14T01:36:05Z"
    },
    {
      "event": "referenced",
      "id": 1473588964,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE0NzM1ODg5NjQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1473588964",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "ff44101e8d5debfdff95dac5221d13f49eba2911",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ff44101e8d5debfdff95dac5221d13f49eba2911",
      "created_at": "2018-02-14T11:29:27Z"
    },
    {
      "event": "referenced",
      "id": 1479718104,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE0Nzk3MTgxMDQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1479718104",
      "actor": {
        "login": "esotericnonsense",
        "id": 7999704,
        "node_id": "MDQ6VXNlcjc5OTk3MDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7999704?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/esotericnonsense",
        "html_url": "https://github.com/esotericnonsense",
        "followers_url": "https://api.github.com/users/esotericnonsense/followers",
        "following_url": "https://api.github.com/users/esotericnonsense/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/esotericnonsense/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/esotericnonsense/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/esotericnonsense/subscriptions",
        "organizations_url": "https://api.github.com/users/esotericnonsense/orgs",
        "repos_url": "https://api.github.com/users/esotericnonsense/repos",
        "events_url": "https://api.github.com/users/esotericnonsense/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/esotericnonsense/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "f5ffec1a55c87a27cceecc420b29e81e0251ccf6",
      "commit_url": "https://api.github.com/repos/esotericnonsense/bitcoin/commits/f5ffec1a55c87a27cceecc420b29e81e0251ccf6",
      "created_at": "2018-02-19T00:04:20Z"
    },
    {
      "event": "referenced",
      "id": 1488607397,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE0ODg2MDczOTc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1488607397",
      "actor": {
        "login": "Willtech",
        "id": 1173622,
        "node_id": "MDQ6VXNlcjExNzM2MjI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1173622?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Willtech",
        "html_url": "https://github.com/Willtech",
        "followers_url": "https://api.github.com/users/Willtech/followers",
        "following_url": "https://api.github.com/users/Willtech/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Willtech/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Willtech/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Willtech/subscriptions",
        "organizations_url": "https://api.github.com/users/Willtech/orgs",
        "repos_url": "https://api.github.com/users/Willtech/repos",
        "events_url": "https://api.github.com/users/Willtech/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Willtech/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "62ffac072d3e108d4e28dbf22edfd4e868c10495",
      "commit_url": "https://api.github.com/repos/Willtech/bitcoin/commits/62ffac072d3e108d4e28dbf22edfd4e868c10495",
      "created_at": "2018-02-23T08:19:11Z"
    },
    {
      "event": "referenced",
      "id": 1523077743,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE1MjMwNzc3NDM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1523077743",
      "actor": {
        "login": "HashUnlimited",
        "id": 26601261,
        "node_id": "MDQ6VXNlcjI2NjAxMjYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/26601261?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/HashUnlimited",
        "html_url": "https://github.com/HashUnlimited",
        "followers_url": "https://api.github.com/users/HashUnlimited/followers",
        "following_url": "https://api.github.com/users/HashUnlimited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/HashUnlimited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/HashUnlimited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/HashUnlimited/subscriptions",
        "organizations_url": "https://api.github.com/users/HashUnlimited/orgs",
        "repos_url": "https://api.github.com/users/HashUnlimited/repos",
        "events_url": "https://api.github.com/users/HashUnlimited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/HashUnlimited/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "b72a99d854898bc2c1b4d32381aa49a8bfcdd498",
      "commit_url": "https://api.github.com/repos/chaincoin/chaincoin/commits/b72a99d854898bc2c1b4d32381aa49a8bfcdd498",
      "created_at": "2018-03-15T11:46:25Z"
    },
    {
      "event": "referenced",
      "id": 1525253057,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE1MjUyNTMwNTc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1525253057",
      "actor": {
        "login": "HashUnlimited",
        "id": 26601261,
        "node_id": "MDQ6VXNlcjI2NjAxMjYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/26601261?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/HashUnlimited",
        "html_url": "https://github.com/HashUnlimited",
        "followers_url": "https://api.github.com/users/HashUnlimited/followers",
        "following_url": "https://api.github.com/users/HashUnlimited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/HashUnlimited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/HashUnlimited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/HashUnlimited/subscriptions",
        "organizations_url": "https://api.github.com/users/HashUnlimited/orgs",
        "repos_url": "https://api.github.com/users/HashUnlimited/repos",
        "events_url": "https://api.github.com/users/HashUnlimited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/HashUnlimited/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "1b4948edddd0844722ac9a53cc5ab728e20ddec9",
      "commit_url": "https://api.github.com/repos/chaincoin/chaincoin/commits/1b4948edddd0844722ac9a53cc5ab728e20ddec9",
      "created_at": "2018-03-16T10:50:51Z"
    },
    {
      "event": "referenced",
      "id": 1525253120,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE1MjUyNTMxMjA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1525253120",
      "actor": {
        "login": "HashUnlimited",
        "id": 26601261,
        "node_id": "MDQ6VXNlcjI2NjAxMjYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/26601261?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/HashUnlimited",
        "html_url": "https://github.com/HashUnlimited",
        "followers_url": "https://api.github.com/users/HashUnlimited/followers",
        "following_url": "https://api.github.com/users/HashUnlimited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/HashUnlimited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/HashUnlimited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/HashUnlimited/subscriptions",
        "organizations_url": "https://api.github.com/users/HashUnlimited/orgs",
        "repos_url": "https://api.github.com/users/HashUnlimited/repos",
        "events_url": "https://api.github.com/users/HashUnlimited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/HashUnlimited/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "2f20e653017b2043bb5aee8aeb2a2652f7d0151e",
      "commit_url": "https://api.github.com/repos/chaincoin/chaincoin/commits/2f20e653017b2043bb5aee8aeb2a2652f7d0151e",
      "created_at": "2018-03-16T10:50:53Z"
    },
    {
      "event": "referenced",
      "id": 1556324584,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE1NTYzMjQ1ODQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1556324584",
      "actor": {
        "login": "virtload",
        "id": 34206778,
        "node_id": "MDQ6VXNlcjM0MjA2Nzc4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34206778?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/virtload",
        "html_url": "https://github.com/virtload",
        "followers_url": "https://api.github.com/users/virtload/followers",
        "following_url": "https://api.github.com/users/virtload/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/virtload/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/virtload/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/virtload/subscriptions",
        "organizations_url": "https://api.github.com/users/virtload/orgs",
        "repos_url": "https://api.github.com/users/virtload/repos",
        "events_url": "https://api.github.com/users/virtload/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/virtload/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "170460d4ade3a74a4694f087716e172348168e81",
      "commit_url": "https://api.github.com/repos/bitcoin-atom/bitcoin-atom/commits/170460d4ade3a74a4694f087716e172348168e81",
      "created_at": "2018-04-04T12:25:20Z"
    },
    {
      "event": "referenced",
      "id": 1762224322,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE3NjIyMjQzMjI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1762224322",
      "actor": {
        "login": "HashUnlimited",
        "id": 26601261,
        "node_id": "MDQ6VXNlcjI2NjAxMjYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/26601261?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/HashUnlimited",
        "html_url": "https://github.com/HashUnlimited",
        "followers_url": "https://api.github.com/users/HashUnlimited/followers",
        "following_url": "https://api.github.com/users/HashUnlimited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/HashUnlimited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/HashUnlimited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/HashUnlimited/subscriptions",
        "organizations_url": "https://api.github.com/users/HashUnlimited/orgs",
        "repos_url": "https://api.github.com/users/HashUnlimited/repos",
        "events_url": "https://api.github.com/users/HashUnlimited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/HashUnlimited/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "caaf69f9c95b246fe8d5a42e001d5dec87a13907",
      "commit_url": "https://api.github.com/repos/HashUnlimited/chaincoin/commits/caaf69f9c95b246fe8d5a42e001d5dec87a13907",
      "created_at": "2018-07-31T09:26:12Z"
    },
    {
      "event": "referenced",
      "id": 1845874092,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE4NDU4NzQwOTI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1845874092",
      "actor": {
        "login": "ccebrecos",
        "id": 19707527,
        "node_id": "MDQ6VXNlcjE5NzA3NTI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19707527?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ccebrecos",
        "html_url": "https://github.com/ccebrecos",
        "followers_url": "https://api.github.com/users/ccebrecos/followers",
        "following_url": "https://api.github.com/users/ccebrecos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ccebrecos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ccebrecos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ccebrecos/subscriptions",
        "organizations_url": "https://api.github.com/users/ccebrecos/orgs",
        "repos_url": "https://api.github.com/users/ccebrecos/repos",
        "events_url": "https://api.github.com/users/ccebrecos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ccebrecos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "20f290880cd00872aa4596e9ecc87023e8ec9b3d",
      "commit_url": "https://api.github.com/repos/BTCAssessors/bitcoin/commits/20f290880cd00872aa4596e9ecc87023e8ec9b3d",
      "created_at": "2018-09-14T11:23:14Z"
    },
    {
      "event": "referenced",
      "id": 1950512519,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE5NTA1MTI1MTk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1950512519",
      "actor": {
        "login": "lionello",
        "id": 591860,
        "node_id": "MDQ6VXNlcjU5MTg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/591860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lionello",
        "html_url": "https://github.com/lionello",
        "followers_url": "https://api.github.com/users/lionello/followers",
        "following_url": "https://api.github.com/users/lionello/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/lionello/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/lionello/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/lionello/subscriptions",
        "organizations_url": "https://api.github.com/users/lionello/orgs",
        "repos_url": "https://api.github.com/users/lionello/repos",
        "events_url": "https://api.github.com/users/lionello/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/lionello/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "d3339182ecc2a2819e89d2f4eaa2965aae85d1d2",
      "commit_url": "https://api.github.com/repos/enumatech/bitcoin/commits/d3339182ecc2a2819e89d2f4eaa2965aae85d1d2",
      "created_at": "2018-11-07T01:10:57Z"
    },
    {
      "event": "referenced",
      "id": 1950512557,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE5NTA1MTI1NTc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1950512557",
      "actor": {
        "login": "lionello",
        "id": 591860,
        "node_id": "MDQ6VXNlcjU5MTg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/591860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lionello",
        "html_url": "https://github.com/lionello",
        "followers_url": "https://api.github.com/users/lionello/followers",
        "following_url": "https://api.github.com/users/lionello/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/lionello/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/lionello/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/lionello/subscriptions",
        "organizations_url": "https://api.github.com/users/lionello/orgs",
        "repos_url": "https://api.github.com/users/lionello/repos",
        "events_url": "https://api.github.com/users/lionello/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/lionello/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "124c744c8916846a613da7a8aa43da557309dc2f",
      "commit_url": "https://api.github.com/repos/enumatech/bitcoin/commits/124c744c8916846a613da7a8aa43da557309dc2f",
      "created_at": "2018-11-07T01:10:57Z"
    },
    {
      "event": "referenced",
      "id": 2958583223,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDI5NTg1ODMyMjM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2958583223",
      "actor": {
        "login": "PastaPastaPasta",
        "id": 6443210,
        "node_id": "MDQ6VXNlcjY0NDMyMTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6443210?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/PastaPastaPasta",
        "html_url": "https://github.com/PastaPastaPasta",
        "followers_url": "https://api.github.com/users/PastaPastaPasta/followers",
        "following_url": "https://api.github.com/users/PastaPastaPasta/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/PastaPastaPasta/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/PastaPastaPasta/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/PastaPastaPasta/subscriptions",
        "organizations_url": "https://api.github.com/users/PastaPastaPasta/orgs",
        "repos_url": "https://api.github.com/users/PastaPastaPasta/repos",
        "events_url": "https://api.github.com/users/PastaPastaPasta/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/PastaPastaPasta/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "7d12744e2fcf9af8a385f5e6896c08733874d5e3",
      "commit_url": "https://api.github.com/repos/PastaPastaPasta/dash/commits/7d12744e2fcf9af8a385f5e6896c08733874d5e3",
      "created_at": "2020-01-17T15:40:46Z"
    },
    {
      "event": "referenced",
      "id": 3031002965,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDMwMzEwMDI5NjU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3031002965",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "caa2f3af2928f5840a38496cf787777293bde717",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/caa2f3af2928f5840a38496cf787777293bde717",
      "created_at": "2020-02-12T14:23:29Z"
    },
    {
      "event": "referenced",
      "id": 3032837203,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDMwMzI4MzcyMDM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3032837203",
      "actor": {
        "login": "PastaPastaPasta",
        "id": 6443210,
        "node_id": "MDQ6VXNlcjY0NDMyMTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6443210?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/PastaPastaPasta",
        "html_url": "https://github.com/PastaPastaPasta",
        "followers_url": "https://api.github.com/users/PastaPastaPasta/followers",
        "following_url": "https://api.github.com/users/PastaPastaPasta/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/PastaPastaPasta/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/PastaPastaPasta/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/PastaPastaPasta/subscriptions",
        "organizations_url": "https://api.github.com/users/PastaPastaPasta/orgs",
        "repos_url": "https://api.github.com/users/PastaPastaPasta/repos",
        "events_url": "https://api.github.com/users/PastaPastaPasta/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/PastaPastaPasta/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "98ae41c821ad9b1be2171ffb7b35d7c926f37afc",
      "commit_url": "https://api.github.com/repos/PastaPastaPasta/dash/commits/98ae41c821ad9b1be2171ffb7b35d7c926f37afc",
      "created_at": "2020-02-12T23:19:32Z"
    },
    {
      "event": "referenced",
      "id": 3035970672,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDMwMzU5NzA2NzI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3035970672",
      "actor": {
        "login": "PastaPastaPasta",
        "id": 6443210,
        "node_id": "MDQ6VXNlcjY0NDMyMTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6443210?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/PastaPastaPasta",
        "html_url": "https://github.com/PastaPastaPasta",
        "followers_url": "https://api.github.com/users/PastaPastaPasta/followers",
        "following_url": "https://api.github.com/users/PastaPastaPasta/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/PastaPastaPasta/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/PastaPastaPasta/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/PastaPastaPasta/subscriptions",
        "organizations_url": "https://api.github.com/users/PastaPastaPasta/orgs",
        "repos_url": "https://api.github.com/users/PastaPastaPasta/repos",
        "events_url": "https://api.github.com/users/PastaPastaPasta/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/PastaPastaPasta/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "a84e6db1e2f45232a8e4e31839227d800746a3de",
      "commit_url": "https://api.github.com/repos/PastaPastaPasta/dash/commits/a84e6db1e2f45232a8e4e31839227d800746a3de",
      "created_at": "2020-02-13T18:10:16Z"
    },
    {
      "event": "referenced",
      "id": 3078253033,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDMwNzgyNTMwMzM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3078253033",
      "actor": {
        "login": "PastaPastaPasta",
        "id": 6443210,
        "node_id": "MDQ6VXNlcjY0NDMyMTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6443210?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/PastaPastaPasta",
        "html_url": "https://github.com/PastaPastaPasta",
        "followers_url": "https://api.github.com/users/PastaPastaPasta/followers",
        "following_url": "https://api.github.com/users/PastaPastaPasta/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/PastaPastaPasta/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/PastaPastaPasta/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/PastaPastaPasta/subscriptions",
        "organizations_url": "https://api.github.com/users/PastaPastaPasta/orgs",
        "repos_url": "https://api.github.com/users/PastaPastaPasta/repos",
        "events_url": "https://api.github.com/users/PastaPastaPasta/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/PastaPastaPasta/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "96155f1d93dcaf7dc04da180f39cb4aa95fa0ca3",
      "commit_url": "https://api.github.com/repos/PastaPastaPasta/dash/commits/96155f1d93dcaf7dc04da180f39cb4aa95fa0ca3",
      "created_at": "2020-02-27T15:21:25Z"
    },
    {
      "event": "referenced",
      "id": 3078461843,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDMwNzg0NjE4NDM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3078461843",
      "actor": {
        "login": "PastaPastaPasta",
        "id": 6443210,
        "node_id": "MDQ6VXNlcjY0NDMyMTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6443210?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/PastaPastaPasta",
        "html_url": "https://github.com/PastaPastaPasta",
        "followers_url": "https://api.github.com/users/PastaPastaPasta/followers",
        "following_url": "https://api.github.com/users/PastaPastaPasta/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/PastaPastaPasta/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/PastaPastaPasta/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/PastaPastaPasta/subscriptions",
        "organizations_url": "https://api.github.com/users/PastaPastaPasta/orgs",
        "repos_url": "https://api.github.com/users/PastaPastaPasta/repos",
        "events_url": "https://api.github.com/users/PastaPastaPasta/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/PastaPastaPasta/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "a9a133b04d219912819c0a76266cd41f862bc0d6",
      "commit_url": "https://api.github.com/repos/PastaPastaPasta/dash/commits/a9a133b04d219912819c0a76266cd41f862bc0d6",
      "created_at": "2020-02-27T16:16:35Z"
    },
    {
      "event": "referenced",
      "id": 3078550714,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDMwNzg1NTA3MTQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3078550714",
      "actor": {
        "login": "PastaPastaPasta",
        "id": 6443210,
        "node_id": "MDQ6VXNlcjY0NDMyMTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6443210?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/PastaPastaPasta",
        "html_url": "https://github.com/PastaPastaPasta",
        "followers_url": "https://api.github.com/users/PastaPastaPasta/followers",
        "following_url": "https://api.github.com/users/PastaPastaPasta/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/PastaPastaPasta/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/PastaPastaPasta/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/PastaPastaPasta/subscriptions",
        "organizations_url": "https://api.github.com/users/PastaPastaPasta/orgs",
        "repos_url": "https://api.github.com/users/PastaPastaPasta/repos",
        "events_url": "https://api.github.com/users/PastaPastaPasta/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/PastaPastaPasta/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "9cc50782186dbac18434aaae415746e881651f84",
      "commit_url": "https://api.github.com/repos/PastaPastaPasta/dash/commits/9cc50782186dbac18434aaae415746e881651f84",
      "created_at": "2020-02-27T16:36:33Z"
    },
    {
      "event": "referenced",
      "id": 3153614849,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDMxNTM2MTQ4NDk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3153614849",
      "actor": {
        "login": "PastaPastaPasta",
        "id": 6443210,
        "node_id": "MDQ6VXNlcjY0NDMyMTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6443210?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/PastaPastaPasta",
        "html_url": "https://github.com/PastaPastaPasta",
        "followers_url": "https://api.github.com/users/PastaPastaPasta/followers",
        "following_url": "https://api.github.com/users/PastaPastaPasta/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/PastaPastaPasta/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/PastaPastaPasta/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/PastaPastaPasta/subscriptions",
        "organizations_url": "https://api.github.com/users/PastaPastaPasta/orgs",
        "repos_url": "https://api.github.com/users/PastaPastaPasta/repos",
        "events_url": "https://api.github.com/users/PastaPastaPasta/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/PastaPastaPasta/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "3810f0123c5400241d728a99142dc4fc1d111747",
      "commit_url": "https://api.github.com/repos/PastaPastaPasta/dash/commits/3810f0123c5400241d728a99142dc4fc1d111747",
      "created_at": "2020-03-23T04:52:12Z"
    },
    {
      "event": "referenced",
      "id": 3174540717,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDMxNzQ1NDA3MTc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3174540717",
      "actor": {
        "login": "PastaPastaPasta",
        "id": 6443210,
        "node_id": "MDQ6VXNlcjY0NDMyMTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6443210?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/PastaPastaPasta",
        "html_url": "https://github.com/PastaPastaPasta",
        "followers_url": "https://api.github.com/users/PastaPastaPasta/followers",
        "following_url": "https://api.github.com/users/PastaPastaPasta/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/PastaPastaPasta/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/PastaPastaPasta/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/PastaPastaPasta/subscriptions",
        "organizations_url": "https://api.github.com/users/PastaPastaPasta/orgs",
        "repos_url": "https://api.github.com/users/PastaPastaPasta/repos",
        "events_url": "https://api.github.com/users/PastaPastaPasta/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/PastaPastaPasta/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "318232503e8ad9afc3e3cab4a9ef6eb02a5cc565",
      "commit_url": "https://api.github.com/repos/PastaPastaPasta/dash/commits/318232503e8ad9afc3e3cab4a9ef6eb02a5cc565",
      "created_at": "2020-03-28T01:54:09Z"
    },
    {
      "event": "referenced",
      "id": 3175556891,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDMxNzU1NTY4OTE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3175556891",
      "actor": {
        "login": "PastaPastaPasta",
        "id": 6443210,
        "node_id": "MDQ6VXNlcjY0NDMyMTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6443210?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/PastaPastaPasta",
        "html_url": "https://github.com/PastaPastaPasta",
        "followers_url": "https://api.github.com/users/PastaPastaPasta/followers",
        "following_url": "https://api.github.com/users/PastaPastaPasta/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/PastaPastaPasta/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/PastaPastaPasta/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/PastaPastaPasta/subscriptions",
        "organizations_url": "https://api.github.com/users/PastaPastaPasta/orgs",
        "repos_url": "https://api.github.com/users/PastaPastaPasta/repos",
        "events_url": "https://api.github.com/users/PastaPastaPasta/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/PastaPastaPasta/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "cc041952b7a4871a4bfa2b565679dac93ecfcc96",
      "commit_url": "https://api.github.com/repos/PastaPastaPasta/dash/commits/cc041952b7a4871a4bfa2b565679dac93ecfcc96",
      "created_at": "2020-03-29T04:00:34Z"
    },
    {
      "event": "referenced",
      "id": 3184293975,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDMxODQyOTM5NzU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3184293975",
      "actor": {
        "login": "PastaPastaPasta",
        "id": 6443210,
        "node_id": "MDQ6VXNlcjY0NDMyMTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6443210?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/PastaPastaPasta",
        "html_url": "https://github.com/PastaPastaPasta",
        "followers_url": "https://api.github.com/users/PastaPastaPasta/followers",
        "following_url": "https://api.github.com/users/PastaPastaPasta/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/PastaPastaPasta/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/PastaPastaPasta/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/PastaPastaPasta/subscriptions",
        "organizations_url": "https://api.github.com/users/PastaPastaPasta/orgs",
        "repos_url": "https://api.github.com/users/PastaPastaPasta/repos",
        "events_url": "https://api.github.com/users/PastaPastaPasta/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/PastaPastaPasta/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "2f72fcc35acf6c7caea149ffcbb10b854af77fbd",
      "commit_url": "https://api.github.com/repos/PastaPastaPasta/dash/commits/2f72fcc35acf6c7caea149ffcbb10b854af77fbd",
      "created_at": "2020-03-31T17:03:45Z"
    },
    {
      "event": "referenced",
      "id": 3185475538,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDMxODU0NzU1Mzg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3185475538",
      "actor": {
        "login": "UdjinM6",
        "id": 1935069,
        "node_id": "MDQ6VXNlcjE5MzUwNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1935069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/UdjinM6",
        "html_url": "https://github.com/UdjinM6",
        "followers_url": "https://api.github.com/users/UdjinM6/followers",
        "following_url": "https://api.github.com/users/UdjinM6/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/UdjinM6/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/UdjinM6/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/UdjinM6/subscriptions",
        "organizations_url": "https://api.github.com/users/UdjinM6/orgs",
        "repos_url": "https://api.github.com/users/UdjinM6/repos",
        "events_url": "https://api.github.com/users/UdjinM6/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/UdjinM6/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "e09077af4154d8b2b61a43ab715f84e4b467f007",
      "commit_url": "https://api.github.com/repos/UdjinM6/dash/commits/e09077af4154d8b2b61a43ab715f84e4b467f007",
      "created_at": "2020-03-31T22:54:22Z"
    },
    {
      "event": "referenced",
      "id": 3188999833,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDMxODg5OTk4MzM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3188999833",
      "actor": {
        "login": "PastaPastaPasta",
        "id": 6443210,
        "node_id": "MDQ6VXNlcjY0NDMyMTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6443210?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/PastaPastaPasta",
        "html_url": "https://github.com/PastaPastaPasta",
        "followers_url": "https://api.github.com/users/PastaPastaPasta/followers",
        "following_url": "https://api.github.com/users/PastaPastaPasta/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/PastaPastaPasta/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/PastaPastaPasta/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/PastaPastaPasta/subscriptions",
        "organizations_url": "https://api.github.com/users/PastaPastaPasta/orgs",
        "repos_url": "https://api.github.com/users/PastaPastaPasta/repos",
        "events_url": "https://api.github.com/users/PastaPastaPasta/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/PastaPastaPasta/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "9d3c7c3ca648ec740989ad97f1b4116794e06440",
      "commit_url": "https://api.github.com/repos/PastaPastaPasta/dash/commits/9d3c7c3ca648ec740989ad97f1b4116794e06440",
      "created_at": "2020-04-01T17:43:42Z"
    },
    {
      "event": "referenced",
      "id": 3207590901,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDMyMDc1OTA5MDE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3207590901",
      "actor": {
        "login": "PastaPastaPasta",
        "id": 6443210,
        "node_id": "MDQ6VXNlcjY0NDMyMTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6443210?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/PastaPastaPasta",
        "html_url": "https://github.com/PastaPastaPasta",
        "followers_url": "https://api.github.com/users/PastaPastaPasta/followers",
        "following_url": "https://api.github.com/users/PastaPastaPasta/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/PastaPastaPasta/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/PastaPastaPasta/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/PastaPastaPasta/subscriptions",
        "organizations_url": "https://api.github.com/users/PastaPastaPasta/orgs",
        "repos_url": "https://api.github.com/users/PastaPastaPasta/repos",
        "events_url": "https://api.github.com/users/PastaPastaPasta/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/PastaPastaPasta/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "5ca5adca7b441706298d65449f153fb3aabec501",
      "commit_url": "https://api.github.com/repos/PastaPastaPasta/dash/commits/5ca5adca7b441706298d65449f153fb3aabec501",
      "created_at": "2020-04-06T23:26:36Z"
    },
    {
      "event": "referenced",
      "id": 3349567762,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDMzNDk1Njc3NjI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3349567762",
      "actor": {
        "login": "deadalnix",
        "id": 854121,
        "node_id": "MDQ6VXNlcjg1NDEyMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/854121?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/deadalnix",
        "html_url": "https://github.com/deadalnix",
        "followers_url": "https://api.github.com/users/deadalnix/followers",
        "following_url": "https://api.github.com/users/deadalnix/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/deadalnix/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/deadalnix/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/deadalnix/subscriptions",
        "organizations_url": "https://api.github.com/users/deadalnix/orgs",
        "repos_url": "https://api.github.com/users/deadalnix/repos",
        "events_url": "https://api.github.com/users/deadalnix/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/deadalnix/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "87f67834ec77069d118e8eafc3bfaf9d19709674",
      "commit_url": "https://api.github.com/repos/Bitcoin-ABC/bitcoin-abc/commits/87f67834ec77069d118e8eafc3bfaf9d19709674",
      "created_at": "2020-05-19T00:20:08Z"
    },
    {
      "event": "referenced",
      "id": 3660736498,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDM2NjA3MzY0OTg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3660736498",
      "actor": {
        "login": "ftrader",
        "id": 16613123,
        "node_id": "MDQ6VXNlcjE2NjEzMTIz",
        "avatar_url": "https://avatars.githubusercontent.com/u/16613123?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ftrader",
        "html_url": "https://github.com/ftrader",
        "followers_url": "https://api.github.com/users/ftrader/followers",
        "following_url": "https://api.github.com/users/ftrader/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ftrader/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ftrader/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ftrader/subscriptions",
        "organizations_url": "https://api.github.com/users/ftrader/orgs",
        "repos_url": "https://api.github.com/users/ftrader/repos",
        "events_url": "https://api.github.com/users/ftrader/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ftrader/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "f3a0c25c99d95998d69d39ceb1a84f75babfb002",
      "commit_url": "https://api.github.com/repos/bitcoin-cash-node/bitcoin-cash-node/commits/f3a0c25c99d95998d69d39ceb1a84f75babfb002",
      "created_at": "2020-08-17T08:19:37Z"
    },
    {
      "event": "referenced",
      "id": 3834254016,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDM4MzQyNTQwMTY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3834254016",
      "actor": {
        "login": "xdustinface",
        "id": 35775977,
        "node_id": "MDQ6VXNlcjM1Nzc1OTc3",
        "avatar_url": "https://avatars.githubusercontent.com/u/35775977?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/xdustinface",
        "html_url": "https://github.com/xdustinface",
        "followers_url": "https://api.github.com/users/xdustinface/followers",
        "following_url": "https://api.github.com/users/xdustinface/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/xdustinface/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/xdustinface/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/xdustinface/subscriptions",
        "organizations_url": "https://api.github.com/users/xdustinface/orgs",
        "repos_url": "https://api.github.com/users/xdustinface/repos",
        "events_url": "https://api.github.com/users/xdustinface/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/xdustinface/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "36cd11f23a4c8c09db78564e2f04437b9e8a757b",
      "commit_url": "https://api.github.com/repos/xdustinface/dash/commits/36cd11f23a4c8c09db78564e2f04437b9e8a757b",
      "created_at": "2020-10-02T14:32:14Z"
    },
    {
      "event": "referenced",
      "id": 3838228228,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDM4MzgyMjgyMjg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3838228228",
      "actor": {
        "login": "xdustinface",
        "id": 35775977,
        "node_id": "MDQ6VXNlcjM1Nzc1OTc3",
        "avatar_url": "https://avatars.githubusercontent.com/u/35775977?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/xdustinface",
        "html_url": "https://github.com/xdustinface",
        "followers_url": "https://api.github.com/users/xdustinface/followers",
        "following_url": "https://api.github.com/users/xdustinface/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/xdustinface/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/xdustinface/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/xdustinface/subscriptions",
        "organizations_url": "https://api.github.com/users/xdustinface/orgs",
        "repos_url": "https://api.github.com/users/xdustinface/repos",
        "events_url": "https://api.github.com/users/xdustinface/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/xdustinface/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "0bba96237007070ac51a665f11d1c11b56e1d42d",
      "commit_url": "https://api.github.com/repos/xdustinface/dash/commits/0bba96237007070ac51a665f11d1c11b56e1d42d",
      "created_at": "2020-10-05T02:05:00Z"
    },
    {
      "event": "referenced",
      "id": 3840590843,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDM4NDA1OTA4NDM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3840590843",
      "actor": {
        "login": "xdustinface",
        "id": 35775977,
        "node_id": "MDQ6VXNlcjM1Nzc1OTc3",
        "avatar_url": "https://avatars.githubusercontent.com/u/35775977?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/xdustinface",
        "html_url": "https://github.com/xdustinface",
        "followers_url": "https://api.github.com/users/xdustinface/followers",
        "following_url": "https://api.github.com/users/xdustinface/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/xdustinface/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/xdustinface/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/xdustinface/subscriptions",
        "organizations_url": "https://api.github.com/users/xdustinface/orgs",
        "repos_url": "https://api.github.com/users/xdustinface/repos",
        "events_url": "https://api.github.com/users/xdustinface/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/xdustinface/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "650bde9e4e721dda1b35fa25ef4f093669c54feb",
      "commit_url": "https://api.github.com/repos/xdustinface/dash/commits/650bde9e4e721dda1b35fa25ef4f093669c54feb",
      "created_at": "2020-10-05T13:55:33Z"
    },
    {
      "event": "referenced",
      "id": 3876197948,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDM4NzYxOTc5NDg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3876197948",
      "actor": {
        "login": "xdustinface",
        "id": 35775977,
        "node_id": "MDQ6VXNlcjM1Nzc1OTc3",
        "avatar_url": "https://avatars.githubusercontent.com/u/35775977?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/xdustinface",
        "html_url": "https://github.com/xdustinface",
        "followers_url": "https://api.github.com/users/xdustinface/followers",
        "following_url": "https://api.github.com/users/xdustinface/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/xdustinface/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/xdustinface/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/xdustinface/subscriptions",
        "organizations_url": "https://api.github.com/users/xdustinface/orgs",
        "repos_url": "https://api.github.com/users/xdustinface/repos",
        "events_url": "https://api.github.com/users/xdustinface/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/xdustinface/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "7ab1051bf0164282709cb68a1a0843226d125eb3",
      "commit_url": "https://api.github.com/repos/xdustinface/dash/commits/7ab1051bf0164282709cb68a1a0843226d125eb3",
      "created_at": "2020-10-14T11:57:51Z"
    },
    {
      "event": "referenced",
      "id": 3877707213,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDM4Nzc3MDcyMTM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3877707213",
      "actor": {
        "login": "UdjinM6",
        "id": 1935069,
        "node_id": "MDQ6VXNlcjE5MzUwNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1935069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/UdjinM6",
        "html_url": "https://github.com/UdjinM6",
        "followers_url": "https://api.github.com/users/UdjinM6/followers",
        "following_url": "https://api.github.com/users/UdjinM6/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/UdjinM6/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/UdjinM6/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/UdjinM6/subscriptions",
        "organizations_url": "https://api.github.com/users/UdjinM6/orgs",
        "repos_url": "https://api.github.com/users/UdjinM6/repos",
        "events_url": "https://api.github.com/users/UdjinM6/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/UdjinM6/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "74f4d2a898c61841a5db737684afbde9473550cd",
      "commit_url": "https://api.github.com/repos/dashpay/dash/commits/74f4d2a898c61841a5db737684afbde9473550cd",
      "created_at": "2020-10-14T17:23:07Z"
    },
    {
      "event": "referenced",
      "id": 4517982055,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ1MTc5ODIwNTU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4517982055",
      "actor": {
        "login": "ckti",
        "id": 7046769,
        "node_id": "MDQ6VXNlcjcwNDY3Njk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7046769?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ckti",
        "html_url": "https://github.com/ckti",
        "followers_url": "https://api.github.com/users/ckti/followers",
        "following_url": "https://api.github.com/users/ckti/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ckti/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ckti/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ckti/subscriptions",
        "organizations_url": "https://api.github.com/users/ckti/orgs",
        "repos_url": "https://api.github.com/users/ckti/repos",
        "events_url": "https://api.github.com/users/ckti/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ckti/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "889455cfab1e84d10437f052a189d2bd6ab02646",
      "commit_url": "https://api.github.com/repos/ckti-ioncore-current/ion/commits/889455cfab1e84d10437f052a189d2bd6ab02646",
      "created_at": "2021-03-28T10:03:12Z"
    },
    {
      "event": "referenced",
      "id": 4517982214,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ1MTc5ODIyMTQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4517982214",
      "actor": {
        "login": "ckti",
        "id": 7046769,
        "node_id": "MDQ6VXNlcjcwNDY3Njk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7046769?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ckti",
        "html_url": "https://github.com/ckti",
        "followers_url": "https://api.github.com/users/ckti/followers",
        "following_url": "https://api.github.com/users/ckti/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ckti/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ckti/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ckti/subscriptions",
        "organizations_url": "https://api.github.com/users/ckti/orgs",
        "repos_url": "https://api.github.com/users/ckti/repos",
        "events_url": "https://api.github.com/users/ckti/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ckti/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "2f08e2d954f8c28cee2d32bfb8eadd12cec9b869",
      "commit_url": "https://api.github.com/repos/ckti-ioncore-current/ion/commits/2f08e2d954f8c28cee2d32bfb8eadd12cec9b869",
      "created_at": "2021-03-28T10:03:17Z"
    },
    {
      "event": "referenced",
      "id": 4912730601,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ5MTI3MzA2MDE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4912730601",
      "actor": {
        "login": "UdjinM6",
        "id": 1935069,
        "node_id": "MDQ6VXNlcjE5MzUwNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1935069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/UdjinM6",
        "html_url": "https://github.com/UdjinM6",
        "followers_url": "https://api.github.com/users/UdjinM6/followers",
        "following_url": "https://api.github.com/users/UdjinM6/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/UdjinM6/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/UdjinM6/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/UdjinM6/subscriptions",
        "organizations_url": "https://api.github.com/users/UdjinM6/orgs",
        "repos_url": "https://api.github.com/users/UdjinM6/repos",
        "events_url": "https://api.github.com/users/UdjinM6/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/UdjinM6/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "9e4ce70f3453708829433e05175ede5f1c8b1d35",
      "commit_url": "https://api.github.com/repos/UdjinM6/dash/commits/9e4ce70f3453708829433e05175ede5f1c8b1d35",
      "created_at": "2021-06-19T18:53:23Z"
    },
    {
      "event": "referenced",
      "id": 4933290447,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ5MzMyOTA0NDc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4933290447",
      "actor": {
        "login": "UdjinM6",
        "id": 1935069,
        "node_id": "MDQ6VXNlcjE5MzUwNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1935069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/UdjinM6",
        "html_url": "https://github.com/UdjinM6",
        "followers_url": "https://api.github.com/users/UdjinM6/followers",
        "following_url": "https://api.github.com/users/UdjinM6/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/UdjinM6/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/UdjinM6/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/UdjinM6/subscriptions",
        "organizations_url": "https://api.github.com/users/UdjinM6/orgs",
        "repos_url": "https://api.github.com/users/UdjinM6/repos",
        "events_url": "https://api.github.com/users/UdjinM6/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/UdjinM6/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "a6e5a59fe4cd86c4d2640331ae4f35ed180e7e89",
      "commit_url": "https://api.github.com/repos/UdjinM6/dash/commits/a6e5a59fe4cd86c4d2640331ae4f35ed180e7e89",
      "created_at": "2021-06-24T09:01:34Z"
    },
    {
      "event": "referenced",
      "id": 4942980328,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ5NDI5ODAzMjg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4942980328",
      "actor": {
        "login": "UdjinM6",
        "id": 1935069,
        "node_id": "MDQ6VXNlcjE5MzUwNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1935069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/UdjinM6",
        "html_url": "https://github.com/UdjinM6",
        "followers_url": "https://api.github.com/users/UdjinM6/followers",
        "following_url": "https://api.github.com/users/UdjinM6/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/UdjinM6/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/UdjinM6/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/UdjinM6/subscriptions",
        "organizations_url": "https://api.github.com/users/UdjinM6/orgs",
        "repos_url": "https://api.github.com/users/UdjinM6/repos",
        "events_url": "https://api.github.com/users/UdjinM6/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/UdjinM6/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "5b96301c5c936a8005b894b6fb6ada2ca08e6c0f",
      "commit_url": "https://api.github.com/repos/UdjinM6/dash/commits/5b96301c5c936a8005b894b6fb6ada2ca08e6c0f",
      "created_at": "2021-06-26T14:15:19Z"
    },
    {
      "event": "referenced",
      "id": 4943408546,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ5NDM0MDg1NDY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4943408546",
      "actor": {
        "login": "UdjinM6",
        "id": 1935069,
        "node_id": "MDQ6VXNlcjE5MzUwNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1935069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/UdjinM6",
        "html_url": "https://github.com/UdjinM6",
        "followers_url": "https://api.github.com/users/UdjinM6/followers",
        "following_url": "https://api.github.com/users/UdjinM6/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/UdjinM6/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/UdjinM6/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/UdjinM6/subscriptions",
        "organizations_url": "https://api.github.com/users/UdjinM6/orgs",
        "repos_url": "https://api.github.com/users/UdjinM6/repos",
        "events_url": "https://api.github.com/users/UdjinM6/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/UdjinM6/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "ce5b9559a72850c27c6adb13357ef3b21e60fb90",
      "commit_url": "https://api.github.com/repos/UdjinM6/dash/commits/ce5b9559a72850c27c6adb13357ef3b21e60fb90",
      "created_at": "2021-06-26T23:57:20Z"
    },
    {
      "event": "referenced",
      "id": 4944312041,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ5NDQzMTIwNDE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4944312041",
      "actor": {
        "login": "PastaPastaPasta",
        "id": 6443210,
        "node_id": "MDQ6VXNlcjY0NDMyMTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6443210?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/PastaPastaPasta",
        "html_url": "https://github.com/PastaPastaPasta",
        "followers_url": "https://api.github.com/users/PastaPastaPasta/followers",
        "following_url": "https://api.github.com/users/PastaPastaPasta/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/PastaPastaPasta/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/PastaPastaPasta/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/PastaPastaPasta/subscriptions",
        "organizations_url": "https://api.github.com/users/PastaPastaPasta/orgs",
        "repos_url": "https://api.github.com/users/PastaPastaPasta/repos",
        "events_url": "https://api.github.com/users/PastaPastaPasta/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/PastaPastaPasta/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "a4c7a60f186957aa26732c8fe2873604b78314f6",
      "commit_url": "https://api.github.com/repos/PastaPastaPasta/dash/commits/a4c7a60f186957aa26732c8fe2873604b78314f6",
      "created_at": "2021-06-27T20:57:48Z"
    },
    {
      "event": "referenced",
      "id": 4946695575,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ5NDY2OTU1NzU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4946695575",
      "actor": {
        "login": "UdjinM6",
        "id": 1935069,
        "node_id": "MDQ6VXNlcjE5MzUwNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1935069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/UdjinM6",
        "html_url": "https://github.com/UdjinM6",
        "followers_url": "https://api.github.com/users/UdjinM6/followers",
        "following_url": "https://api.github.com/users/UdjinM6/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/UdjinM6/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/UdjinM6/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/UdjinM6/subscriptions",
        "organizations_url": "https://api.github.com/users/UdjinM6/orgs",
        "repos_url": "https://api.github.com/users/UdjinM6/repos",
        "events_url": "https://api.github.com/users/UdjinM6/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/UdjinM6/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "01fccc4694b11a210cef0dfba26178cda640efae",
      "commit_url": "https://api.github.com/repos/UdjinM6/dash/commits/01fccc4694b11a210cef0dfba26178cda640efae",
      "created_at": "2021-06-28T10:58:54Z"
    },
    {
      "event": "referenced",
      "id": 4964618556,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ5NjQ2MTg1NTY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4964618556",
      "actor": {
        "login": "gades",
        "id": 4200730,
        "node_id": "MDQ6VXNlcjQyMDA3MzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4200730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gades",
        "html_url": "https://github.com/gades",
        "followers_url": "https://api.github.com/users/gades/followers",
        "following_url": "https://api.github.com/users/gades/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gades/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gades/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gades/subscriptions",
        "organizations_url": "https://api.github.com/users/gades/orgs",
        "repos_url": "https://api.github.com/users/gades/repos",
        "events_url": "https://api.github.com/users/gades/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gades/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "e343ae2d9c9320ad490abfaca3a1f3b369788551",
      "commit_url": "https://api.github.com/repos/cosanta/cosanta-core/commits/e343ae2d9c9320ad490abfaca3a1f3b369788551",
      "created_at": "2021-07-01T09:06:59Z"
    },
    {
      "event": "referenced",
      "id": 5576107906,
      "node_id": "REFE_lADOABII584PhmSXzwAAAAFMXKeC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5576107906",
      "actor": {
        "login": "malbit",
        "id": 35476352,
        "node_id": "MDQ6VXNlcjM1NDc2MzUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/35476352?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/malbit",
        "html_url": "https://github.com/malbit",
        "followers_url": "https://api.github.com/users/malbit/followers",
        "following_url": "https://api.github.com/users/malbit/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/malbit/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/malbit/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/malbit/subscriptions",
        "organizations_url": "https://api.github.com/users/malbit/orgs",
        "repos_url": "https://api.github.com/users/malbit/repos",
        "events_url": "https://api.github.com/users/malbit/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/malbit/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "c141d9fef46b607474d4c1f48d4452f32d415e60",
      "commit_url": "https://api.github.com/repos/malbit/raptoreum/commits/c141d9fef46b607474d4c1f48d4452f32d415e60",
      "created_at": "2021-11-05T18:34:07Z"
    },
    {
      "event": "referenced",
      "id": 6070423031,
      "node_id": "REFE_lADOABII584PhmSXzwAAAAFp0033",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6070423031",
      "actor": {
        "login": "gades",
        "id": 4200730,
        "node_id": "MDQ6VXNlcjQyMDA3MzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4200730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gades",
        "html_url": "https://github.com/gades",
        "followers_url": "https://api.github.com/users/gades/followers",
        "following_url": "https://api.github.com/users/gades/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gades/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gades/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gades/subscriptions",
        "organizations_url": "https://api.github.com/users/gades/orgs",
        "repos_url": "https://api.github.com/users/gades/repos",
        "events_url": "https://api.github.com/users/gades/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gades/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "b516baa6af28c123d787be4c6505bbd82b63f5ac",
      "commit_url": "https://api.github.com/repos/cosanta/cosanta-core/commits/b516baa6af28c123d787be4c6505bbd82b63f5ac",
      "created_at": "2022-02-14T21:44:38Z"
    },
    {
      "event": "referenced",
      "id": 6072714669,
      "node_id": "REFE_lADOABII584PhmSXzwAAAAFp9kWt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6072714669",
      "actor": {
        "login": "gades",
        "id": 4200730,
        "node_id": "MDQ6VXNlcjQyMDA3MzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4200730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gades",
        "html_url": "https://github.com/gades",
        "followers_url": "https://api.github.com/users/gades/followers",
        "following_url": "https://api.github.com/users/gades/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gades/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gades/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gades/subscriptions",
        "organizations_url": "https://api.github.com/users/gades/orgs",
        "repos_url": "https://api.github.com/users/gades/repos",
        "events_url": "https://api.github.com/users/gades/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gades/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "c28588fdf3f8b505a7745e45b83bcf31302d968d",
      "commit_url": "https://api.github.com/repos/cosanta/cosanta-core/commits/c28588fdf3f8b505a7745e45b83bcf31302d968d",
      "created_at": "2022-02-15T07:52:13Z"
    },
    {
      "event": "locked",
      "id": 6073792648,
      "node_id": "LOE_lADOABII584PhmSXzwAAAAFqBriI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6073792648",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-02-15T10:31:46Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140993847",
      "pull_request_review_id": 65141769,
      "id": 140993847,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MDk5Mzg0Nw==",
      "diff_hunk": "@@ -4051,3 +4051,24 @@ bool CWallet::IsSolvable(const CScript& script) const\n     SignatureData sigs;\n     return (ProduceSignature(creator, script, sigs) && VerifyScript(sigs.scriptSig, script, &sigs.scriptWitness, MANDATORY_SCRIPT_VERIFY_FLAGS | SCRIPT_VERIFY_WITNESS_PUBKEYTYPE, creator.Checker()));\n }\n+\n+CKeyID CWallet::GetKeyForDestination(const CTxDestination& dest) const\n+{\n+    // Only supports P2PKH, P2WPKH, P2SH-P2WPKH.\n+    if (boost::get<CKeyID>(&dest)) {",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 8,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "1ae94623eceb96728b6a791732776d01a455f83f",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit *Expose method to find key for a single-key destination*:\r\n\r\nUse `boost::apply_visitor` instead?",
      "created_at": "2017-09-26T08:52:45Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r140993847",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140993847"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4144,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140994498",
      "pull_request_review_id": 65141769,
      "id": 140994498,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MDk5NDQ5OA==",
      "diff_hunk": "@@ -4051,3 +4051,24 @@ bool CWallet::IsSolvable(const CScript& script) const\n     SignatureData sigs;\n     return (ProduceSignature(creator, script, sigs) && VerifyScript(sigs.scriptSig, script, &sigs.scriptWitness, MANDATORY_SCRIPT_VERIFY_FLAGS | SCRIPT_VERIFY_WITNESS_PUBKEYTYPE, creator.Checker()));\n }\n+\n+CKeyID CWallet::GetKeyForDestination(const CTxDestination& dest) const\n+{\n+    // Only supports P2PKH, P2WPKH, P2SH-P2WPKH.\n+    if (boost::get<CKeyID>(&dest)) {\n+        return boost::get<CKeyID>(dest);\n+    }\n+    if (boost::get<WitnessV0KeyHash>(&dest)) {\n+        return CKeyID(boost::get<WitnessV0KeyHash>(dest));\n+    }\n+    if (boost::get<CScriptID>(&dest)) {\n+        CScript script;\n+        CTxDestination inner_dest;\n+        if (GetCScript(boost::get<CScriptID>(dest), script) && ExtractDestination(script, inner_dest)) {\n+            if (boost::get<WitnessV0KeyHash>(&inner_dest)) {",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 18,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "1ae94623eceb96728b6a791732776d01a455f83f",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit *Expose method to find key for a single-key destination*:\r\n\r\nRecursive call?\r\n```cpp\r\n            return GetKeyForDestination(inner_dest);\r\n```",
      "created_at": "2017-09-26T08:55:24Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r140994498",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140994498"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4154,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140995719",
      "pull_request_review_id": 65141769,
      "id": 140995719,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MDk5NTcxOQ==",
      "diff_hunk": "@@ -4072,3 +4074,82 @@ CKeyID CWallet::GetKeyForDestination(const CTxDestination& dest) const\n     }\n     return CKeyID();\n }\n+\n+static const std::string STYLE_STRING_NONE = \"\";",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 41,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "a3a79cdb2193facac697857a472fe90c235f7c82",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit *SegWit wallet support*:\r\n\r\nRemove?",
      "created_at": "2017-09-26T09:00:02Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r140995719",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140995719"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4162,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141033697",
      "pull_request_review_id": 65141769,
      "id": 141033697,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTAzMzY5Nw==",
      "diff_hunk": "@@ -168,6 +170,22 @@ bool WalletParameterInteraction()\n     bSpendZeroConfChange = gArgs.GetBoolArg(\"-spendzeroconfchange\", DEFAULT_SPEND_ZEROCONF_CHANGE);\n     fWalletRbf = gArgs.GetBoolArg(\"-walletrbf\", DEFAULT_WALLET_RBF);\n \n+    std::string style = gArgs.GetArg(\"-addressstyle\", \"default\");\n+    OutputStyle parsed_style = ParseStyle(style);\n+    if (parsed_style == STYLE_NONE) {\n+        return InitError(strprintf(_(\"Unknown address style '%s'\"), style));",
      "path": "src/wallet/init.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "a3a79cdb2193facac697857a472fe90c235f7c82",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Add init tests (follow up maybe)?",
      "created_at": "2017-09-26T11:58:03Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r141033697",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141033697"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 181,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141034121",
      "pull_request_review_id": 65141769,
      "id": 141034121,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTAzNDEyMQ==",
      "diff_hunk": "@@ -225,11 +234,13 @@ UniValue getrawchangeaddress(const JSONRPCRequest& request)\n         return NullUniValue;\n     }\n \n-    if (request.fHelp || request.params.size() > 0)\n+    if (request.fHelp || request.params.size() > 1)\n         throw std::runtime_error(\n-            \"getrawchangeaddress\\n\"\n+            \"getrawchangeaddress ( \\\"style\\\" )\\n\"\n             \"\\nReturns a new Bitcoin address, for receiving change.\\n\"\n             \"This is for use with raw transactions, NOT normal use.\\n\"\n+            \"\\nArguments:\\n\"\n+            \"1. \\\"style\\\"          (string, optional) The address style to use. Valid options are 'p2pkh', 'p2sh_p2wpkh', and 'p2wpkh'\\n\"",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 69,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "a3a79cdb2193facac697857a472fe90c235f7c82",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Missing default value?",
      "created_at": "2017-09-26T12:00:16Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r141034121",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141034121"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 243,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141034255",
      "pull_request_review_id": 65141769,
      "id": 141034255,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTAzNDI1NQ==",
      "diff_hunk": "@@ -243,16 +254,24 @@ UniValue getrawchangeaddress(const JSONRPCRequest& request)\n         pwallet->TopUpKeyPool();\n     }\n \n+    OutputStyle style = change_style;\n+    if (!request.params[0].isNull()) {\n+        style = ParseStyle(request.params[1].get_str());",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 79,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "a3a79cdb2193facac697857a472fe90c235f7c82",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fix index `[0]`.",
      "created_at": "2017-09-26T12:01:02Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r141034255",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141034255"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 259,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141034483",
      "pull_request_review_id": 65141769,
      "id": 141034483,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTAzNDQ4Mw==",
      "diff_hunk": "@@ -157,6 +158,14 @@ UniValue getnewaddress(const JSONRPCRequest& request)\n     if (!request.params[0].isNull())\n         strAccount = AccountFromValue(request.params[0]);\n \n+    OutputStyle style = address_style;\n+    if (!request.params[1].isNull()) {\n+        style = ParseStyle(request.params[1].get_str());\n+        if (style == STYLE_NONE) {\n+            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, strprintf(\"Unknown address style '%s'\", request.params[1].get_str()));",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 26,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "a3a79cdb2193facac697857a472fe90c235f7c82",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Missing test for this error.",
      "created_at": "2017-09-26T12:02:11Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r141034483",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141034483"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 165,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141034548",
      "pull_request_review_id": 65141769,
      "id": 141034548,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTAzNDU0OA==",
      "diff_hunk": "@@ -135,14 +135,15 @@ UniValue getnewaddress(const JSONRPCRequest& request)\n         return NullUniValue;\n     }\n \n-    if (request.fHelp || request.params.size() > 1)\n+    if (request.fHelp || request.params.size() > 2)\n         throw std::runtime_error(\n-            \"getnewaddress ( \\\"account\\\" )\\n\"\n+            \"getnewaddress ( \\\"account\\\" ) ( \\\"style\\\" )\\n\"\n             \"\\nReturns a new Bitcoin address for receiving payments.\\n\"\n             \"If 'account' is specified (DEPRECATED), it is added to the address book \\n\"\n             \"so payments received with the address will be credited to 'account'.\\n\"\n             \"\\nArguments:\\n\"\n             \"1. \\\"account\\\"        (string, optional) DEPRECATED. The account name for the address to be linked to. If not provided, the default account \\\"\\\" is used. It can also be set to the empty string \\\"\\\" to represent the default account. The account does not need to exist, it will be created if there is no account by the given name.\\n\"\n+            \"2. \\\"style\\\"          (string, optional) The address style to use. Valid options are 'p2pkh', 'p2sh_p2wpkh', and 'p2wpkh'\\n\"",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "a3a79cdb2193facac697857a472fe90c235f7c82",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Default value?",
      "created_at": "2017-09-26T12:02:28Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r141034548",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141034548"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 146,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141034833",
      "pull_request_review_id": 65141769,
      "id": 141034833,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTAzNDgzMw==",
      "diff_hunk": "@@ -168,6 +170,22 @@ bool WalletParameterInteraction()\n     bSpendZeroConfChange = gArgs.GetBoolArg(\"-spendzeroconfchange\", DEFAULT_SPEND_ZEROCONF_CHANGE);\n     fWalletRbf = gArgs.GetBoolArg(\"-walletrbf\", DEFAULT_WALLET_RBF);\n \n+    std::string style = gArgs.GetArg(\"-addressstyle\", \"default\");\n+    OutputStyle parsed_style = ParseStyle(style);\n+    if (parsed_style == STYLE_NONE) {\n+        return InitError(strprintf(_(\"Unknown address style '%s'\"), style));\n+    } else {\n+        address_style = parsed_style;\n+    }\n+\n+    style = gArgs.GetArg(\"-changestyle\", style);\n+    parsed_style = ParseStyle(style);\n+    if (parsed_style == STYLE_NONE) {\n+        return InitError(strprintf(_(\"Unknown change style '%s'\"), style));",
      "path": "src/wallet/init.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "a3a79cdb2193facac697857a472fe90c235f7c82",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Add init tests (follow up maybe)?",
      "created_at": "2017-09-26T12:03:46Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r141034833",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141034833"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 189,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141034981",
      "pull_request_review_id": 65141769,
      "id": 141034981,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTAzNDk4MQ==",
      "diff_hunk": "@@ -243,16 +254,24 @@ UniValue getrawchangeaddress(const JSONRPCRequest& request)\n         pwallet->TopUpKeyPool();\n     }\n \n+    OutputStyle style = change_style;\n+    if (!request.params[0].isNull()) {\n+        style = ParseStyle(request.params[1].get_str());\n+        if (style == STYLE_NONE) {\n+            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, strprintf(\"Unknown address style '%s'\", request.params[0].get_str()));",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 81,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "a3a79cdb2193facac697857a472fe90c235f7c82",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Missing test.",
      "created_at": "2017-09-26T12:04:26Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r141034981",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141034981"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 261,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141035708",
      "pull_request_review_id": 65141769,
      "id": 141035708,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTAzNTcwOA==",
      "diff_hunk": "@@ -133,8 +133,15 @@ def run_test(self):\n             newaddress = self.nodes[i].getnewaddress()\n             self.pubkey.append(self.nodes[i].validateaddress(newaddress)[\"pubkey\"])\n             multiaddress = self.nodes[i].addmultisigaddress(1, [self.pubkey[-1]])\n-            self.nodes[i].addwitnessaddress(newaddress)\n-            self.nodes[i].addwitnessaddress(multiaddress)\n+            multiscript = CScript([OP_1, hex_str_to_bytes(self.pubkey[-1]), OP_1, OP_CHECKMULTISIG])\n+            p2sh_addr = self.nodes[i].addwitnessaddress(newaddress, True)",
      "path": "test/functional/segwit.py",
      "position": null,
      "original_position": 63,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "a3a79cdb2193facac697857a472fe90c235f7c82",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Remove `, True` so that default value is tested.",
      "created_at": "2017-09-26T12:07:53Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r141035708",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141035708"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 138,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141137104",
      "pull_request_review_id": 65308272,
      "id": 141137104,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTEzNzEwNA==",
      "diff_hunk": "@@ -4051,3 +4051,24 @@ bool CWallet::IsSolvable(const CScript& script) const\n     SignatureData sigs;\n     return (ProduceSignature(creator, script, sigs) && VerifyScript(sigs.scriptSig, script, &sigs.scriptWitness, MANDATORY_SCRIPT_VERIFY_FLAGS | SCRIPT_VERIFY_WITNESS_PUBKEYTYPE, creator.Checker()));\n }\n+\n+CKeyID CWallet::GetKeyForDestination(const CTxDestination& dest) const\n+{\n+    // Only supports P2PKH, P2WPKH, P2SH-P2WPKH.\n+    if (boost::get<CKeyID>(&dest)) {",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 8,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "1ae94623eceb96728b6a791732776d01a455f83f",
      "in_reply_to_id": 140993847,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I tried that, but the result is much longer and harder to get right (see below). It's also the wrong approach I think. A visitor is used when you want to handle all possible types - here we specifically only want to support a specific subset of cases (P2PKH, P2WPKH, P2SH-P2WPKH).",
      "created_at": "2017-09-26T18:06:20Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r141137104",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141137104"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4144,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141137409",
      "pull_request_review_id": 65308623,
      "id": 141137409,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTEzNzQwOQ==",
      "diff_hunk": "@@ -4051,3 +4051,24 @@ bool CWallet::IsSolvable(const CScript& script) const\n     SignatureData sigs;\n     return (ProduceSignature(creator, script, sigs) && VerifyScript(sigs.scriptSig, script, &sigs.scriptWitness, MANDATORY_SCRIPT_VERIFY_FLAGS | SCRIPT_VERIFY_WITNESS_PUBKEYTYPE, creator.Checker()));\n }\n+\n+CKeyID CWallet::GetKeyForDestination(const CTxDestination& dest) const\n+{\n+    // Only supports P2PKH, P2WPKH, P2SH-P2WPKH.\n+    if (boost::get<CKeyID>(&dest)) {\n+        return boost::get<CKeyID>(dest);\n+    }\n+    if (boost::get<WitnessV0KeyHash>(&dest)) {\n+        return CKeyID(boost::get<WitnessV0KeyHash>(dest));\n+    }\n+    if (boost::get<CScriptID>(&dest)) {\n+        CScript script;\n+        CTxDestination inner_dest;\n+        if (GetCScript(boost::get<CScriptID>(dest), script) && ExtractDestination(script, inner_dest)) {\n+            if (boost::get<WitnessV0KeyHash>(&inner_dest)) {",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 18,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "1ae94623eceb96728b6a791732776d01a455f83f",
      "in_reply_to_id": 140994498,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It's not that easy, as it could match a superset (for example P2SH-P2PKH), or even invalid things (P2SH-P2SH-P2WPKH?).",
      "created_at": "2017-09-26T18:07:28Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r141137409",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141137409"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4154,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141172352",
      "pull_request_review_id": 65348501,
      "id": 141172352,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTE3MjM1Mg==",
      "diff_hunk": "@@ -15,6 +15,8 @@\n std::string GetWalletHelpString(bool showDebug)\n {\n     std::string strUsage = HelpMessageGroup(_(\"Wallet options:\"));\n+    strUsage += HelpMessageOpt(\"-addressstyle\", _(\"What style addresses to use (\\\"p2pkh\\\", \\\"p2sh_p2wpkh\\\", \\\"p2wpkh\\\")\"));\n+    strUsage += HelpMessageOpt(\"-changestyle\", _(\"What style change to use (\\\"p2pkh\\\", \\\"p2sh_p2wpkh\\\", \\\"p2wpkh\\\")\"));",
      "path": "src/wallet/init.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "a3a79cdb2193facac697857a472fe90c235f7c82",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "These should mention the defaults, which likely means refactoring how the \"default\" string is handled.",
      "created_at": "2017-09-26T20:21:36Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r141172352",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141172352"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 19,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141172562",
      "pull_request_review_id": 65348501,
      "id": 141172562,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTE3MjU2Mg==",
      "diff_hunk": "@@ -4021,3 +4042,114 @@ bool CMerkleTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n {\n     return ::AcceptToMemoryPool(mempool, state, tx, true, nullptr, nullptr, false, nAbsurdFee);\n }\n+\n+bool CWallet::IsSolvable(const CScript& script) const\n+{\n+    // This check is to make sure that the script we created can actually be solved for and signed by us\n+    // if we were to have the private keys. This is just to make sure that the script is valid and that,\n+    // if found in a transaction, we would still accept and relay that transaction. In particular,\n+    // it will reject witness outputs that require signing with an uncompressed public key.\n+    DummySignatureCreator creator(this);\n+    SignatureData sigs;\n+    return (ProduceSignature(creator, script, sigs) && VerifyScript(sigs.scriptSig, script, &sigs.scriptWitness, MANDATORY_SCRIPT_VERIFY_FLAGS | SCRIPT_VERIFY_WITNESS_PUBKEYTYPE, creator.Checker()));\n+}\n+\n+CKeyID CWallet::GetKeyForDestination(const CTxDestination& dest) const\n+{\n+    // Only supports P2PKH, P2WPKH, P2SH-P2WPKH.\n+    if (boost::get<CKeyID>(&dest)) {\n+        return boost::get<CKeyID>(dest);\n+    }\n+    if (boost::get<WitnessV0KeyHash>(&dest)) {\n+        return CKeyID(boost::get<WitnessV0KeyHash>(dest));\n+    }\n+    if (boost::get<CScriptID>(&dest)) {\n+        CScript script;\n+        CTxDestination inner_dest;\n+        if (GetCScript(boost::get<CScriptID>(dest), script) && ExtractDestination(script, inner_dest)) {\n+            if (boost::get<WitnessV0KeyHash>(&inner_dest)) {\n+                return CKeyID(boost::get<WitnessV0KeyHash>(inner_dest));\n+            }\n+        }\n+    }\n+    return CKeyID();\n+}\n+\n+static const std::string STYLE_STRING_NONE = \"\";\n+static const std::string STYLE_STRING_LEGACY = \"legacy\";\n+static const std::string STYLE_STRING_P2SH = \"p2sh\";\n+static const std::string STYLE_STRING_SEGWIT = \"segwit\";\n+\n+OutputStyle ParseStyle(const std::string& style)\n+{\n+    if (style == STYLE_STRING_LEGACY) {\n+        return STYLE_LEGACY;\n+    } else if (style == STYLE_STRING_P2SH || style == \"default\") {\n+        return STYLE_P2SH;",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 111,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "a3a79cdb2193facac697857a472fe90c235f7c82",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Default should probably remain legacy until support for newer styles is complete (eg, `import*` RPC)?",
      "created_at": "2017-09-26T20:22:30Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r141172562",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141172562"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4139,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141173466",
      "pull_request_review_id": 65348501,
      "id": 141173466,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTE3MzQ2Ng==",
      "diff_hunk": "@@ -135,14 +135,15 @@ UniValue getnewaddress(const JSONRPCRequest& request)\n         return NullUniValue;\n     }\n \n-    if (request.fHelp || request.params.size() > 1)\n+    if (request.fHelp || request.params.size() > 2)\n         throw std::runtime_error(\n-            \"getnewaddress ( \\\"account\\\" )\\n\"\n+            \"getnewaddress ( \\\"account\\\" ) ( \\\"style\\\" )\\n\"\n             \"\\nReturns a new Bitcoin address for receiving payments.\\n\"\n             \"If 'account' is specified (DEPRECATED), it is added to the address book \\n\"\n             \"so payments received with the address will be credited to 'account'.\\n\"\n             \"\\nArguments:\\n\"\n             \"1. \\\"account\\\"        (string, optional) DEPRECATED. The account name for the address to be linked to. If not provided, the default account \\\"\\\" is used. It can also be set to the empty string \\\"\\\" to represent the default account. The account does not need to exist, it will be created if there is no account by the given name.\\n\"\n+            \"2. \\\"style\\\"          (string, optional) The address style to use. Valid options are 'p2pkh', 'p2sh_p2wpkh', and 'p2wpkh'\\n\"",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "a3a79cdb2193facac697857a472fe90c235f7c82",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Seems like it would be better to change the deprecated `\"account\"` into a JSON Object `options`.",
      "created_at": "2017-09-26T20:25:56Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r141173466",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141173466"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 146,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141575484",
      "pull_request_review_id": 65808218,
      "id": 141575484,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTU3NTQ4NA==",
      "diff_hunk": "@@ -4051,3 +4051,24 @@ bool CWallet::IsSolvable(const CScript& script) const\n     SignatureData sigs;\n     return (ProduceSignature(creator, script, sigs) && VerifyScript(sigs.scriptSig, script, &sigs.scriptWitness, MANDATORY_SCRIPT_VERIFY_FLAGS | SCRIPT_VERIFY_WITNESS_PUBKEYTYPE, creator.Checker()));\n }\n+\n+CKeyID CWallet::GetKeyForDestination(const CTxDestination& dest) const\n+{\n+    // Only supports P2PKH, P2WPKH, P2SH-P2WPKH.\n+    if (boost::get<CKeyID>(&dest)) {\n+        return boost::get<CKeyID>(dest);\n+    }\n+    if (boost::get<WitnessV0KeyHash>(&dest)) {\n+        return CKeyID(boost::get<WitnessV0KeyHash>(dest));\n+    }\n+    if (boost::get<CScriptID>(&dest)) {\n+        CScript script;\n+        CTxDestination inner_dest;\n+        if (GetCScript(boost::get<CScriptID>(dest), script) && ExtractDestination(script, inner_dest)) {\n+            if (boost::get<WitnessV0KeyHash>(&inner_dest)) {",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 18,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "1ae94623eceb96728b6a791732776d01a455f83f",
      "in_reply_to_id": 140994498,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Right.\r\n\r\nIsn't boost::get kind of expensive? Avoid 2nd call?",
      "created_at": "2017-09-28T09:56:46Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r141575484",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141575484"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4154,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141580941",
      "pull_request_review_id": 65814667,
      "id": 141580941,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTU4MDk0MQ==",
      "diff_hunk": "@@ -4021,3 +4042,114 @@ bool CMerkleTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n {\n     return ::AcceptToMemoryPool(mempool, state, tx, true, nullptr, nullptr, false, nAbsurdFee);\n }\n+\n+bool CWallet::IsSolvable(const CScript& script) const\n+{\n+    // This check is to make sure that the script we created can actually be solved for and signed by us\n+    // if we were to have the private keys. This is just to make sure that the script is valid and that,\n+    // if found in a transaction, we would still accept and relay that transaction. In particular,\n+    // it will reject witness outputs that require signing with an uncompressed public key.\n+    DummySignatureCreator creator(this);\n+    SignatureData sigs;\n+    return (ProduceSignature(creator, script, sigs) && VerifyScript(sigs.scriptSig, script, &sigs.scriptWitness, MANDATORY_SCRIPT_VERIFY_FLAGS | SCRIPT_VERIFY_WITNESS_PUBKEYTYPE, creator.Checker()));\n+}\n+\n+CKeyID CWallet::GetKeyForDestination(const CTxDestination& dest) const\n+{\n+    // Only supports P2PKH, P2WPKH, P2SH-P2WPKH.\n+    if (boost::get<CKeyID>(&dest)) {\n+        return boost::get<CKeyID>(dest);\n+    }\n+    if (boost::get<WitnessV0KeyHash>(&dest)) {\n+        return CKeyID(boost::get<WitnessV0KeyHash>(dest));\n+    }\n+    if (boost::get<CScriptID>(&dest)) {\n+        CScript script;\n+        CTxDestination inner_dest;\n+        if (GetCScript(boost::get<CScriptID>(dest), script) && ExtractDestination(script, inner_dest)) {\n+            if (boost::get<WitnessV0KeyHash>(&inner_dest)) {\n+                return CKeyID(boost::get<WitnessV0KeyHash>(inner_dest));\n+            }\n+        }\n+    }\n+    return CKeyID();\n+}\n+\n+static const std::string STYLE_STRING_NONE = \"\";\n+static const std::string STYLE_STRING_LEGACY = \"legacy\";\n+static const std::string STYLE_STRING_P2SH = \"p2sh\";\n+static const std::string STYLE_STRING_SEGWIT = \"segwit\";\n+\n+OutputStyle ParseStyle(const std::string& style)\n+{\n+    if (style == STYLE_STRING_LEGACY) {\n+        return STYLE_LEGACY;\n+    } else if (style == STYLE_STRING_P2SH || style == \"default\") {\n+        return STYLE_P2SH;",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 111,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "a3a79cdb2193facac697857a472fe90c235f7c82",
      "in_reply_to_id": 141172562,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'd rather not. This makes the existing tests far more powerful.",
      "created_at": "2017-09-28T10:23:28Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r141580941",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141580941"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4139,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141715642",
      "pull_request_review_id": 65975207,
      "id": 141715642,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTcxNTY0Mg==",
      "diff_hunk": "@@ -4021,3 +4042,114 @@ bool CMerkleTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n {\n     return ::AcceptToMemoryPool(mempool, state, tx, true, nullptr, nullptr, false, nAbsurdFee);\n }\n+\n+bool CWallet::IsSolvable(const CScript& script) const\n+{\n+    // This check is to make sure that the script we created can actually be solved for and signed by us\n+    // if we were to have the private keys. This is just to make sure that the script is valid and that,\n+    // if found in a transaction, we would still accept and relay that transaction. In particular,\n+    // it will reject witness outputs that require signing with an uncompressed public key.\n+    DummySignatureCreator creator(this);\n+    SignatureData sigs;\n+    return (ProduceSignature(creator, script, sigs) && VerifyScript(sigs.scriptSig, script, &sigs.scriptWitness, MANDATORY_SCRIPT_VERIFY_FLAGS | SCRIPT_VERIFY_WITNESS_PUBKEYTYPE, creator.Checker()));\n+}\n+\n+CKeyID CWallet::GetKeyForDestination(const CTxDestination& dest) const\n+{\n+    // Only supports P2PKH, P2WPKH, P2SH-P2WPKH.\n+    if (boost::get<CKeyID>(&dest)) {\n+        return boost::get<CKeyID>(dest);\n+    }\n+    if (boost::get<WitnessV0KeyHash>(&dest)) {\n+        return CKeyID(boost::get<WitnessV0KeyHash>(dest));\n+    }\n+    if (boost::get<CScriptID>(&dest)) {\n+        CScript script;\n+        CTxDestination inner_dest;\n+        if (GetCScript(boost::get<CScriptID>(dest), script) && ExtractDestination(script, inner_dest)) {\n+            if (boost::get<WitnessV0KeyHash>(&inner_dest)) {\n+                return CKeyID(boost::get<WitnessV0KeyHash>(inner_dest));\n+            }\n+        }\n+    }\n+    return CKeyID();\n+}\n+\n+static const std::string STYLE_STRING_NONE = \"\";\n+static const std::string STYLE_STRING_LEGACY = \"legacy\";\n+static const std::string STYLE_STRING_P2SH = \"p2sh\";\n+static const std::string STYLE_STRING_SEGWIT = \"segwit\";\n+\n+OutputStyle ParseStyle(const std::string& style)\n+{\n+    if (style == STYLE_STRING_LEGACY) {\n+        return STYLE_LEGACY;\n+    } else if (style == STYLE_STRING_P2SH || style == \"default\") {\n+        return STYLE_P2SH;",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 111,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "a3a79cdb2193facac697857a472fe90c235f7c82",
      "in_reply_to_id": 141172562,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Tests don't need to (and probably shouldn't) rely on defaults...",
      "created_at": "2017-09-28T19:36:44Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r141715642",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141715642"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4139,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141910029",
      "pull_request_review_id": 66202799,
      "id": 141910029,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTkxMDAyOQ==",
      "diff_hunk": "@@ -64,6 +67,13 @@ class DescribeAddressVisitor : public boost::static_visitor<UniValue>\n             obj.push_back(Pair(\"script\", GetTxnOutputType(whichType)));\n             obj.push_back(Pair(\"hex\", HexStr(subscript.begin(), subscript.end())));\n             UniValue a(UniValue::VARR);\n+            if (whichType == TX_WITNESS_V0_KEYHASH || whichType == TX_WITNESS_V0_SCRIPTHASH) {\n+                UniValue subobj = boost::apply_visitor(*this, addresses[0]);\n+                obj.push_back(Pair(\"embedded\", std::move(subobj)));",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 30,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "a3a79cdb2193facac697857a472fe90c235f7c82",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This field needs to be added anywhere it's used in help text for RPC calls. ",
      "created_at": "2017-09-29T16:23:36Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r141910029",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141910029"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 72,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141910356",
      "pull_request_review_id": 66203188,
      "id": 141910356,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTkxMDM1Ng==",
      "diff_hunk": "@@ -1111,6 +1111,9 @@ class CWallet final : public CCryptoKeyStore, public CValidationInterface\n      * have all private keys. This is unrelated to whether we consider this\n      * output to be ours. */\n     bool IsSolvable(const CScript& script) const;\n+\n+    /** Return the hashes of the keys involved in a script. */",
      "path": "src/wallet/wallet.h",
      "position": null,
      "original_position": 5,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "1ae94623eceb96728b6a791732776d01a455f83f",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Remove plurals from description.",
      "created_at": "2017-09-29T16:25:13Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r141910356",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141910356"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1146,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141940333",
      "pull_request_review_id": 66238860,
      "id": 141940333,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTk0MDMzMw==",
      "diff_hunk": "@@ -4021,3 +4042,114 @@ bool CMerkleTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n {\n     return ::AcceptToMemoryPool(mempool, state, tx, true, nullptr, nullptr, false, nAbsurdFee);\n }\n+\n+bool CWallet::IsSolvable(const CScript& script) const\n+{\n+    // This check is to make sure that the script we created can actually be solved for and signed by us\n+    // if we were to have the private keys. This is just to make sure that the script is valid and that,\n+    // if found in a transaction, we would still accept and relay that transaction. In particular,\n+    // it will reject witness outputs that require signing with an uncompressed public key.\n+    DummySignatureCreator creator(this);\n+    SignatureData sigs;\n+    return (ProduceSignature(creator, script, sigs) && VerifyScript(sigs.scriptSig, script, &sigs.scriptWitness, MANDATORY_SCRIPT_VERIFY_FLAGS | SCRIPT_VERIFY_WITNESS_PUBKEYTYPE, creator.Checker()));\n+}\n+\n+CKeyID CWallet::GetKeyForDestination(const CTxDestination& dest) const\n+{\n+    // Only supports P2PKH, P2WPKH, P2SH-P2WPKH.\n+    if (boost::get<CKeyID>(&dest)) {\n+        return boost::get<CKeyID>(dest);\n+    }\n+    if (boost::get<WitnessV0KeyHash>(&dest)) {\n+        return CKeyID(boost::get<WitnessV0KeyHash>(dest));\n+    }\n+    if (boost::get<CScriptID>(&dest)) {\n+        CScript script;\n+        CTxDestination inner_dest;\n+        if (GetCScript(boost::get<CScriptID>(dest), script) && ExtractDestination(script, inner_dest)) {\n+            if (boost::get<WitnessV0KeyHash>(&inner_dest)) {\n+                return CKeyID(boost::get<WitnessV0KeyHash>(inner_dest));\n+            }\n+        }\n+    }\n+    return CKeyID();\n+}\n+\n+static const std::string STYLE_STRING_NONE = \"\";\n+static const std::string STYLE_STRING_LEGACY = \"legacy\";\n+static const std::string STYLE_STRING_P2SH = \"p2sh\";\n+static const std::string STYLE_STRING_SEGWIT = \"segwit\";\n+\n+OutputStyle ParseStyle(const std::string& style)\n+{\n+    if (style == STYLE_STRING_LEGACY) {\n+        return STYLE_LEGACY;\n+    } else if (style == STYLE_STRING_P2SH || style == \"default\") {\n+        return STYLE_P2SH;",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 111,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "a3a79cdb2193facac697857a472fe90c235f7c82",
      "in_reply_to_id": 141172562,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes and no.\r\n\r\nI think that many tests, which are primarily testing things unrelated to addresses, should use the default address type. They don't strictly rely on them, but it's better if they work with either type, and it's certainly easier to not need to change all of them.",
      "created_at": "2017-09-29T18:47:45Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r141940333",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141940333"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4139,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141960988",
      "pull_request_review_id": 66263128,
      "id": 141960988,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTk2MDk4OA==",
      "diff_hunk": "@@ -4061,3 +4061,24 @@ bool CWallet::IsSolvable(const CScript& script) const\n     SignatureData sigs;\n     return (ProduceSignature(creator, script, sigs) && VerifyScript(sigs.scriptSig, script, &sigs.scriptWitness, MANDATORY_SCRIPT_VERIFY_FLAGS | SCRIPT_VERIFY_WITNESS_PUBKEYTYPE, creator.Checker()));\n }\n+\n+CKeyID CWallet::GetKeyForDestination(const CTxDestination& dest) const\n+{\n+    // Only supports P2PKH, P2WPKH, P2SH-P2WPKH.",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "7f88d8ad7796c0f6d1e80d11943c19f0af2cda62",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "pedantic nit, but this only supports v0 of each witness version",
      "created_at": "2017-09-29T20:28:13Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r141960988",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141960988"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4143,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141964928",
      "pull_request_review_id": 66263128,
      "id": 141964928,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTk2NDkyOA==",
      "diff_hunk": "@@ -135,14 +135,15 @@ UniValue getnewaddress(const JSONRPCRequest& request)\n         return NullUniValue;\n     }\n \n-    if (request.fHelp || request.params.size() > 1)\n+    if (request.fHelp || request.params.size() > 2)\n         throw std::runtime_error(\n-            \"getnewaddress ( \\\"account\\\" )\\n\"\n+            \"getnewaddress ( \\\"account\\\" ) ( \\\"style\\\" )\\n\"\n             \"\\nReturns a new Bitcoin address for receiving payments.\\n\"\n             \"If 'account' is specified (DEPRECATED), it is added to the address book \\n\"\n             \"so payments received with the address will be credited to 'account'.\\n\"\n             \"\\nArguments:\\n\"\n             \"1. \\\"account\\\"        (string, optional) DEPRECATED. The account name for the address to be linked to. If not provided, the default account \\\"\\\" is used. It can also be set to the empty string \\\"\\\" to represent the default account. The account does not need to exist, it will be created if there is no account by the given name.\\n\"\n+            \"2. \\\"style\\\"          (string, optional) The address style to use. Valid options are 'p2pkh', 'p2sh_p2wpkh', and 'p2wpkh'\\n\"",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "20da3447269696a3505b061852771d0bb11d6779",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "startup options strings being different than getnewaddress options is a bit odd to me?\r\n\r\n'p2sh_p2wpkh' vs `p2sh` etc",
      "created_at": "2017-09-29T20:49:11Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r141964928",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141964928"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 146,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141965443",
      "pull_request_review_id": 66263128,
      "id": 141965443,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTk2NTQ0Mw==",
      "diff_hunk": "@@ -43,6 +43,8 @@ CFeeRate payTxFee(DEFAULT_TRANSACTION_FEE);\n unsigned int nTxConfirmTarget = DEFAULT_TX_CONFIRM_TARGET;\n bool bSpendZeroConfChange = DEFAULT_SPEND_ZEROCONF_CHANGE;\n bool fWalletRbf = DEFAULT_WALLET_RBF;\n+OutputStyle address_style = STYLE_P2SH;",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "20da3447269696a3505b061852771d0bb11d6779",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "No solution off the top of my head, but it makes sense that this would be set per-wallet. If not, could we name it `g_address_style`?",
      "created_at": "2017-09-29T20:51:49Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r141965443",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141965443"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 46,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141966093",
      "pull_request_review_id": 66263128,
      "id": 141966093,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTk2NjA5Mw==",
      "diff_hunk": "@@ -168,6 +170,22 @@ bool WalletParameterInteraction()\n     bSpendZeroConfChange = gArgs.GetBoolArg(\"-spendzeroconfchange\", DEFAULT_SPEND_ZEROCONF_CHANGE);\n     fWalletRbf = gArgs.GetBoolArg(\"-walletrbf\", DEFAULT_WALLET_RBF);\n \n+    std::string style = gArgs.GetArg(\"-addressstyle\", \"default\");\n+    OutputStyle parsed_style = ParseStyle(style);\n+    if (parsed_style == STYLE_NONE) {\n+        return InitError(strprintf(_(\"Unknown address style '%s'\"), style));\n+    } else {\n+        address_style = parsed_style;\n+    }\n+\n+    style = gArgs.GetArg(\"-changestyle\", style);",
      "path": "src/wallet/init.cpp",
      "position": null,
      "original_position": 21,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "20da3447269696a3505b061852771d0bb11d6779",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "changestyle needs a test",
      "created_at": "2017-09-29T20:55:21Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r141966093",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141966093"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 186,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141966363",
      "pull_request_review_id": 66263128,
      "id": 141966363,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTk2NjM2Mw==",
      "diff_hunk": "@@ -225,11 +234,13 @@ UniValue getrawchangeaddress(const JSONRPCRequest& request)\n         return NullUniValue;\n     }\n \n-    if (request.fHelp || request.params.size() > 0)\n+    if (request.fHelp || request.params.size() > 1)\n         throw std::runtime_error(\n-            \"getrawchangeaddress\\n\"\n+            \"getrawchangeaddress ( \\\"style\\\" )\\n\"\n             \"\\nReturns a new Bitcoin address, for receiving change.\\n\"\n             \"This is for use with raw transactions, NOT normal use.\\n\"\n+            \"\\nArguments:\\n\"\n+            \"1. \\\"style\\\"          (string, optional) The address style to use. Valid options are 'p2pkh', 'p2sh_p2wpkh', and 'p2wpkh'\\n\"",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 69,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "20da3447269696a3505b061852771d0bb11d6779",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "argument needs a test",
      "created_at": "2017-09-29T20:56:35Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r141966363",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141966363"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 243,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141967056",
      "pull_request_review_id": 66263128,
      "id": 141967056,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTk2NzA1Ng==",
      "diff_hunk": "@@ -1234,7 +1254,7 @@ UniValue addwitnessaddress(const JSONRPCRequest& request)\n \n     {\n         LOCK(cs_main);\n-        if (!IsWitnessEnabled(chainActive.Tip(), Params().GetConsensus()) && !gArgs.GetBoolArg(\"-walletprematurewitness\", false)) {\n+        if (!IsWitnessEnabled(pindexBestHeader, Params().GetConsensus()) && !gArgs.GetBoolArg(\"-walletprematurewitness\", false)) {",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 121,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "20da3447269696a3505b061852771d0bb11d6779",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "change seems way out of place here",
      "created_at": "2017-09-29T20:59:35Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r141967056",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141967056"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1297,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141967691",
      "pull_request_review_id": 66263128,
      "id": 141967691,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTk2NzY5MQ==",
      "diff_hunk": "@@ -43,6 +43,8 @@ CFeeRate payTxFee(DEFAULT_TRANSACTION_FEE);\n unsigned int nTxConfirmTarget = DEFAULT_TX_CONFIRM_TARGET;\n bool bSpendZeroConfChange = DEFAULT_SPEND_ZEROCONF_CHANGE;\n bool fWalletRbf = DEFAULT_WALLET_RBF;\n+OutputStyle address_style = STYLE_P2SH;\n+OutputStyle change_style = STYLE_P2SH;",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "20da3447269696a3505b061852771d0bb11d6779",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Same suggestion as address_style",
      "created_at": "2017-09-29T21:02:18Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r141967691",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141967691"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 47,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/144192744",
      "pull_request_review_id": 68814644,
      "id": 144192744,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NDE5Mjc0NA==",
      "diff_hunk": "@@ -4050,3 +4052,114 @@ bool CMerkleTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     return ::AcceptToMemoryPool(mempool, state, tx, nullptr /* pfMissingInputs */,\n                                 nullptr /* plTxnReplaced */, false /* bypass_limits */, nAbsurdFee);\n }\n+\n+bool CWallet::IsSolvable(const CScript& script) const\n+{\n+    // This check is to make sure that the script we created can actually be solved for and signed by us\n+    // if we were to have the private keys. This is just to make sure that the script is valid and that,\n+    // if found in a transaction, we would still accept and relay that transaction. In particular,\n+    // it will reject witness outputs that require signing with an uncompressed public key.\n+    DummySignatureCreator creator(this);\n+    SignatureData sigs;\n+    return (ProduceSignature(creator, script, sigs) && VerifyScript(sigs.scriptSig, script, &sigs.scriptWitness, MANDATORY_SCRIPT_VERIFY_FLAGS | SCRIPT_VERIFY_WITNESS_PUBKEYTYPE, creator.Checker()));\n+}\n+\n+CKeyID CWallet::GetKeyForDestination(const CTxDestination& dest) const\n+{\n+    // Only supports P2PKH, P2WPKH, P2SH-P2WPKH.\n+    if (boost::get<CKeyID>(&dest)) {\n+        return boost::get<CKeyID>(dest);\n+    }\n+    if (boost::get<WitnessV0KeyHash>(&dest)) {\n+        return CKeyID(boost::get<WitnessV0KeyHash>(dest));\n+    }\n+    if (boost::get<CScriptID>(&dest)) {\n+        CScript script;\n+        CTxDestination inner_dest;\n+        if (GetCScript(boost::get<CScriptID>(dest), script) && ExtractDestination(script, inner_dest)) {\n+            if (boost::get<WitnessV0KeyHash>(&inner_dest)) {\n+                return CKeyID(boost::get<WitnessV0KeyHash>(inner_dest));\n+            }\n+        }\n+    }\n+    return CKeyID();\n+}\n+\n+static const std::string STYLE_STRING_NONE = \"\";\n+static const std::string STYLE_STRING_LEGACY = \"legacy\";\n+static const std::string STYLE_STRING_P2SH = \"p2sh\";\n+static const std::string STYLE_STRING_SEGWIT = \"segwit\";",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 76,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "5632374f2f71bca384ceed07ca6842fd87102346",
      "in_reply_to_id": null,
      "user": {
        "login": "kallewoof",
        "id": 250224,
        "node_id": "MDQ6VXNlcjI1MDIyNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kallewoof",
        "html_url": "https://github.com/kallewoof",
        "followers_url": "https://api.github.com/users/kallewoof/followers",
        "following_url": "https://api.github.com/users/kallewoof/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kallewoof/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kallewoof/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
        "organizations_url": "https://api.github.com/users/kallewoof/orgs",
        "repos_url": "https://api.github.com/users/kallewoof/repos",
        "events_url": "https://api.github.com/users/kallewoof/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kallewoof/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The help for e.g. `getnewaddress` says `\"p2wpkh\"` etc. One or the other needs to be changed.",
      "created_at": "2017-10-12T04:38:39Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r144192744",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/144192744"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4102,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/144193626",
      "pull_request_review_id": 68814644,
      "id": 144193626,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NDE5MzYyNg==",
      "diff_hunk": "@@ -135,14 +135,15 @@ UniValue getnewaddress(const JSONRPCRequest& request)\n         return NullUniValue;\n     }\n \n-    if (request.fHelp || request.params.size() > 1)\n+    if (request.fHelp || request.params.size() > 2)\n         throw std::runtime_error(\n-            \"getnewaddress ( \\\"account\\\" )\\n\"\n+            \"getnewaddress ( \\\"account\\\" ) ( \\\"style\\\" )\\n\"",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 8,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "5632374f2f71bca384ceed07ca6842fd87102346",
      "in_reply_to_id": null,
      "user": {
        "login": "kallewoof",
        "id": 250224,
        "node_id": "MDQ6VXNlcjI1MDIyNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kallewoof",
        "html_url": "https://github.com/kallewoof",
        "followers_url": "https://api.github.com/users/kallewoof/followers",
        "following_url": "https://api.github.com/users/kallewoof/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kallewoof/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kallewoof/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
        "organizations_url": "https://api.github.com/users/kallewoof/orgs",
        "repos_url": "https://api.github.com/users/kallewoof/repos",
        "events_url": "https://api.github.com/users/kallewoof/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kallewoof/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think you want `\"getnewaddress ( \\\"account\\\" \\\"style\\\" )\\n\"`",
      "created_at": "2017-10-12T04:49:26Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r144193626",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/144193626"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 140,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/144199735",
      "pull_request_review_id": 68822415,
      "id": 144199735,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NDE5OTczNQ==",
      "diff_hunk": "@@ -135,14 +135,15 @@ UniValue getnewaddress(const JSONRPCRequest& request)\n         return NullUniValue;\n     }\n \n-    if (request.fHelp || request.params.size() > 1)\n+    if (request.fHelp || request.params.size() > 2)\n         throw std::runtime_error(\n-            \"getnewaddress ( \\\"account\\\" )\\n\"\n+            \"getnewaddress ( \\\"account\\\" ) ( \\\"style\\\" )\\n\"",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 8,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "5632374f2f71bca384ceed07ca6842fd87102346",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This shouldn't just be tacked on the end. Accounts are deprecated. Just replace \"account\" with an options Object.",
      "created_at": "2017-10-12T05:56:19Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r144199735",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/144199735"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 140,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/144636061",
      "pull_request_review_id": 69324709,
      "id": 144636061,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NDYzNjA2MQ==",
      "diff_hunk": "@@ -135,14 +135,15 @@ UniValue getnewaddress(const JSONRPCRequest& request)\n         return NullUniValue;\n     }\n \n-    if (request.fHelp || request.params.size() > 1)\n+    if (request.fHelp || request.params.size() > 2)\n         throw std::runtime_error(\n-            \"getnewaddress ( \\\"account\\\" )\\n\"\n+            \"getnewaddress ( \\\"account\\\" ) ( \\\"style\\\" )\\n\"",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 8,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "5632374f2f71bca384ceed07ca6842fd87102346",
      "in_reply_to_id": 144199735,
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "That would be API breaking for a lot of parties which is at odds with rapid deployment.",
      "created_at": "2017-10-13T19:13:16Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r144636061",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/144636061"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 140,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145239469",
      "pull_request_review_id": 70011130,
      "id": 145239469,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NTIzOTQ2OQ==",
      "diff_hunk": "@@ -73,8 +73,19 @@ class CNoDestination {\n     friend bool operator<(const CNoDestination &a, const CNoDestination &b) { return true; }\n };\n \n-struct WitnessV0ScriptHash : public uint256 {};\n-struct WitnessV0KeyHash : public uint160 {};\n+struct WitnessV0ScriptHash : public uint256\n+{\n+public:\n+    WitnessV0ScriptHash() : uint256() {}\n+    WitnessV0ScriptHash(const uint256& in) : uint256(in) {}\n+};\n+\n+struct WitnessV0KeyHash : public uint160\n+{\n+public:\n+    WitnessV0KeyHash() : uint160() {}",
      "path": "src/script/standard.h",
      "position": null,
      "original_position": 16,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "fb0361d74a578c626b8876e71ad35775d718aed9",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "You could instead inherit the ctors from uint160/uint256 to shortcut the construction from ```WitnessV0KeyHash(uint160(foo)``` to ```WitnessV0KeyHash(foo)```:\r\n```c++\r\nusing uint160::uint160;\r\n```",
      "created_at": "2017-10-17T20:02:36Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r145239469",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145239469"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 85,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145240904",
      "pull_request_review_id": 70012766,
      "id": 145240904,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NTI0MDkwNA==",
      "diff_hunk": "@@ -64,6 +67,13 @@ class DescribeAddressVisitor : public boost::static_visitor<UniValue>\n             obj.push_back(Pair(\"script\", GetTxnOutputType(whichType)));\n             obj.push_back(Pair(\"hex\", HexStr(subscript.begin(), subscript.end())));\n             UniValue a(UniValue::VARR);\n+            if (whichType == TX_WITNESS_V0_KEYHASH || whichType == TX_WITNESS_V0_SCRIPTHASH) {\n+                UniValue subobj = boost::apply_visitor(*this, addresses[0]);\n+                obj.push_back(Pair(\"embedded\", std::move(subobj)));",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 30,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "a3a79cdb2193facac697857a472fe90c235f7c82",
      "in_reply_to_id": 141910029,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "You might want to _copy_ the field to the help text rather than _move_ it, though :p\r\n\r\n(Use after move here)",
      "created_at": "2017-10-17T20:08:07Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r145240904",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145240904"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 72,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145245638",
      "pull_request_review_id": 70018324,
      "id": 145245638,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NTI0NTYzOA==",
      "diff_hunk": "@@ -67,6 +67,13 @@ class DescribeAddressVisitor : public boost::static_visitor<UniValue>\n             obj.push_back(Pair(\"script\", GetTxnOutputType(whichType)));\n             obj.push_back(Pair(\"hex\", HexStr(subscript.begin(), subscript.end())));\n             UniValue a(UniValue::VARR);\n+            if (whichType == TX_WITNESS_V0_KEYHASH || whichType == TX_WITNESS_V0_SCRIPTHASH) {\n+                UniValue subobj = boost::apply_visitor(*this, addresses[0]);\n+                obj.push_back(Pair(\"embedded\", std::move(subobj)));\n+                if (subobj.exists(\"pubkey\")) {",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "97f4fc173dda51f21cc092b9b29a9ea4b208f8e2",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why dupe this? Helps with existing tooling?",
      "created_at": "2017-10-17T20:26:40Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r145245638",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145245638"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 72,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145255319",
      "pull_request_review_id": 70018324,
      "id": 145255319,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NTI1NTMxOQ==",
      "diff_hunk": "@@ -4072,3 +4072,24 @@ bool CWallet::IsSolvable(const CScript& script) const\n     SignatureData sigs;\n     return (ProduceSignature(creator, script, sigs) && VerifyScript(sigs.scriptSig, script, &sigs.scriptWitness, MANDATORY_SCRIPT_VERIFY_FLAGS | SCRIPT_VERIFY_WITNESS_PUBKEYTYPE, creator.Checker()));\n }\n+\n+CKeyID CWallet::GetKeyForDestination(const CTxDestination& dest) const\n+{\n+    // Only supports P2PKH, P2WPKH, P2SH-P2WPKH.\n+    if (boost::get<CKeyID>(&dest)) {",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 8,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "8c55a70cebeb4e18c686c93d96dde95deed6dc0e",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "imo, it's clearer (and less redundant) to test the result of the assignment:\r\n```c++\r\n    if (const CKeyID* ret = boost::get<CKeyID>(&dest)) {\r\n        return *ret;\r\n    }\r\n```\r\nEdit: That's also the common paradigm for using [std::weak_ptr::lock()](http://en.cppreference.com/w/cpp/memory/weak_ptr/lock)",
      "created_at": "2017-10-17T21:02:22Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r145255319",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145255319"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4144,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145261446",
      "pull_request_review_id": 70018324,
      "id": 145261446,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NTI2MTQ0Ng==",
      "diff_hunk": "@@ -13,6 +13,18 @@ bool CKeyStore::AddKey(const CKey &key) {\n     return AddKeyPubKey(key, key.GetPubKey());\n }\n \n+void CBasicKeyStore::AddRelatedKeyScripts(const CPubKey& pubkey)\n+{\n+    AssertLockHeld(cs_KeyStore);\n+    // This adds the redeemscripts necessary to detect P2WPKH and P2SH-P2WPKH\n+    // outputs.\n+    if (pubkey.IsCompressed()) {\n+        CScript script = CScript() << OP_0 << ToByteVector(pubkey.GetID());\n+        // This does not use AddCScript, as it may be overridden.\n+        mapScripts[CScriptID(script)] = std::move(script);",
      "path": "src/keystore.cpp",
      "position": null,
      "original_position": 12,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "b7209bdc9007b0f6c22403ab042dd474eb8ef2c5",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'm not sure about the sequencing rules here. I'd feel safer with a temporary CScriptID.",
      "created_at": "2017-10-17T21:28:51Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r145261446",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145261446"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 24,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145270452",
      "pull_request_review_id": 70018324,
      "id": 145270452,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NTI3MDQ1Mg==",
      "diff_hunk": "@@ -4061,3 +4061,14 @@ bool CMerkleTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     return ::AcceptToMemoryPool(mempool, state, tx, nullptr /* pfMissingInputs */,\n                                 nullptr /* plTxnReplaced */, false /* bypass_limits */, nAbsurdFee);\n }\n+\n+bool CWallet::IsSolvable(const CScript& script) const\n+{\n+    // This check is to make sure that the script we created can actually be solved for and signed by us\n+    // if we were to have the private keys. This is just to make sure that the script is valid and that,\n+    // if found in a transaction, we would still accept and relay that transaction. In particular,\n+    // it will reject witness outputs that require signing with an uncompressed public key.\n+    DummySignatureCreator creator(this);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 11,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "4bc304c9fa8657bc5a025fecfa7fa40e30ea7a20",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Can't this pass in nullptr and move out of CWallet? Unless I'm missing something, it's not actually related.",
      "created_at": "2017-10-17T22:09:59Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r145270452",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145270452"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4136,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145271944",
      "pull_request_review_id": 70018324,
      "id": 145271944,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NTI3MTk0NA==",
      "diff_hunk": "@@ -4093,3 +4095,82 @@ CKeyID CWallet::GetKeyForDestination(const CTxDestination& dest) const\n     }\n     return CKeyID();\n }\n+\n+static const std::string STYLE_STRING_NONE = \"\";\n+static const std::string STYLE_STRING_LEGACY = \"legacy\";\n+static const std::string STYLE_STRING_P2SH = \"p2sh\";\n+static const std::string STYLE_STRING_SEGWIT = \"segwit\";\n+\n+OutputStyle ParseStyle(const std::string& style)\n+{\n+    if (style == STYLE_STRING_LEGACY) {\n+        return STYLE_LEGACY;\n+    } else if (style == STYLE_STRING_P2SH || style == \"default\") {\n+        return STYLE_P2SH;\n+    } else if (style == STYLE_STRING_SEGWIT) {\n+        return STYLE_SEGWIT;\n+    } else {\n+        return STYLE_NONE;\n+    }\n+}\n+\n+\n+const std::string& FormatStyle(OutputStyle style)\n+{\n+    switch (style) {\n+    case STYLE_LEGACY: return STYLE_STRING_LEGACY;\n+    case STYLE_P2SH: return STYLE_STRING_P2SH;\n+    case STYLE_SEGWIT: return STYLE_STRING_SEGWIT;\n+    default: assert(false);\n+    }\n+}\n+\n+std::vector<CTxDestination> CWallet::GetAllDestinationsForKey(const CPubKey& key)\n+{\n+    CKeyID keyid = key.GetID();\n+    if (key.IsCompressed()) {\n+        CTxDestination segwit = WitnessV0KeyHash(keyid);\n+        CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+        return std::vector<CTxDestination>{std::move(keyid), std::move(p2sh), std::move(segwit)};\n+    } else {\n+        return std::vector<CTxDestination>{std::move(keyid)};\n+    }\n+}\n+\n+CTxDestination CWallet::GetDestinationForKey(const CPubKey& key, OutputStyle style)",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 82,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "f542daeb6986b0cc3ea796f177f20739706eddf2",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "If IsSolvable moves out of CWallet, I believe these can too.",
      "created_at": "2017-10-17T22:18:10Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r145271944",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145271944"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4170,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145274394",
      "pull_request_review_id": 70018324,
      "id": 145274394,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NTI3NDM5NA==",
      "diff_hunk": "@@ -4093,3 +4095,82 @@ CKeyID CWallet::GetKeyForDestination(const CTxDestination& dest) const\n     }\n     return CKeyID();\n }\n+\n+static const std::string STYLE_STRING_NONE = \"\";\n+static const std::string STYLE_STRING_LEGACY = \"legacy\";\n+static const std::string STYLE_STRING_P2SH = \"p2sh\";\n+static const std::string STYLE_STRING_SEGWIT = \"segwit\";\n+\n+OutputStyle ParseStyle(const std::string& style)\n+{\n+    if (style == STYLE_STRING_LEGACY) {\n+        return STYLE_LEGACY;\n+    } else if (style == STYLE_STRING_P2SH || style == \"default\") {\n+        return STYLE_P2SH;\n+    } else if (style == STYLE_STRING_SEGWIT) {\n+        return STYLE_SEGWIT;\n+    } else {\n+        return STYLE_NONE;\n+    }\n+}\n+\n+\n+const std::string& FormatStyle(OutputStyle style)\n+{\n+    switch (style) {\n+    case STYLE_LEGACY: return STYLE_STRING_LEGACY;\n+    case STYLE_P2SH: return STYLE_STRING_P2SH;\n+    case STYLE_SEGWIT: return STYLE_STRING_SEGWIT;\n+    default: assert(false);\n+    }\n+}\n+\n+std::vector<CTxDestination> CWallet::GetAllDestinationsForKey(const CPubKey& key)\n+{\n+    CKeyID keyid = key.GetID();\n+    if (key.IsCompressed()) {\n+        CTxDestination segwit = WitnessV0KeyHash(keyid);\n+        CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+        return std::vector<CTxDestination>{std::move(keyid), std::move(p2sh), std::move(segwit)};\n+    } else {\n+        return std::vector<CTxDestination>{std::move(keyid)};\n+    }\n+}\n+\n+CTxDestination CWallet::GetDestinationForKey(const CPubKey& key, OutputStyle style)\n+{\n+    switch (style) {\n+    case STYLE_LEGACY: return key.GetID();\n+    case STYLE_P2SH:\n+    case STYLE_SEGWIT: {\n+        CTxDestination witdest = WitnessV0KeyHash(key.GetID());\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(witprog)) return key.GetID();\n+        if (style == STYLE_P2SH) {\n+            return CScriptID(witprog);\n+        } else {\n+            return witdest;\n+        }\n+    }\n+    default: assert(false);\n+    }\n+}\n+\n+CTxDestination CWallet::GetDestinationForScript(const CScript& script, OutputStyle style)\n+{\n+    switch (style) {\n+    case STYLE_LEGACY:\n+    case STYLE_P2SH:\n+        return CScriptID(script);\n+    case STYLE_SEGWIT: {\n+        CTxDestination witdest = WitnessV0ScriptHash(Hash(script.begin(), script.end()));\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(witprog)) return CScriptID(script);\n+        AddCScript(witprog);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 113,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "f542daeb6986b0cc3ea796f177f20739706eddf2",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Seems the caller should be responsible for adding this if it's a WitnessV0ScriptHash? Like the others, this doesn't seem like wallet functionality to me.",
      "created_at": "2017-10-17T22:30:54Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r145274394",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145274394"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4222,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/150243374",
      "pull_request_review_id": 75766547,
      "id": 150243374,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MDI0MzM3NA==",
      "diff_hunk": "@@ -15,6 +15,8 @@\n std::string GetWalletHelpString(bool showDebug)\n {\n     std::string strUsage = HelpMessageGroup(_(\"Wallet options:\"));\n+    strUsage += HelpMessageOpt(\"-addressstyle\", _(\"What style addresses to use (\\\"legacy\\\", \\\"p2sh\\\", \\\"bech32\\\", default: \\\"p2sh\\\")\"));\n+    strUsage += HelpMessageOpt(\"-changestyle\", _(\"What style change to use (\\\"legacy\\\", \\\"p2sh\\\", \\\"bech32\\\"), default: same as -addressstyle\"));",
      "path": "src/wallet/init.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "2cd3e3259c5813b4d1a295549e02a2e08ec459d9",
      "in_reply_to_id": null,
      "user": {
        "login": "flack",
        "id": 425166,
        "node_id": "MDQ6VXNlcjQyNTE2Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/425166?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/flack",
        "html_url": "https://github.com/flack",
        "followers_url": "https://api.github.com/users/flack/followers",
        "following_url": "https://api.github.com/users/flack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/flack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/flack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/flack/subscriptions",
        "organizations_url": "https://api.github.com/users/flack/orgs",
        "repos_url": "https://api.github.com/users/flack/repos",
        "events_url": "https://api.github.com/users/flack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/flack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'm not  native speaker, but \"What style change to use\" seems like broken English to me. Shouldn't it be something like \"Which style of change addresses to use\"?",
      "created_at": "2017-11-10T14:09:25Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r150243374",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/150243374"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 19,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/150337564",
      "pull_request_review_id": 75880846,
      "id": 150337564,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MDMzNzU2NA==",
      "diff_hunk": "@@ -15,6 +15,8 @@\n std::string GetWalletHelpString(bool showDebug)\n {\n     std::string strUsage = HelpMessageGroup(_(\"Wallet options:\"));\n+    strUsage += HelpMessageOpt(\"-addressstyle\", _(\"What style addresses to use (\\\"legacy\\\", \\\"p2sh\\\", \\\"bech32\\\", default: \\\"p2sh\\\")\"));\n+    strUsage += HelpMessageOpt(\"-changestyle\", _(\"What style change to use (\\\"legacy\\\", \\\"p2sh\\\", \\\"bech32\\\"), default: same as -addressstyle\"));",
      "path": "src/wallet/init.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "2cd3e3259c5813b4d1a295549e02a2e08ec459d9",
      "in_reply_to_id": 150243374,
      "user": {
        "login": "CydeWeys",
        "id": 1290510,
        "node_id": "MDQ6VXNlcjEyOTA1MTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1290510?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/CydeWeys",
        "html_url": "https://github.com/CydeWeys",
        "followers_url": "https://api.github.com/users/CydeWeys/followers",
        "following_url": "https://api.github.com/users/CydeWeys/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/CydeWeys/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/CydeWeys/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/CydeWeys/subscriptions",
        "organizations_url": "https://api.github.com/users/CydeWeys/orgs",
        "repos_url": "https://api.github.com/users/CydeWeys/repos",
        "events_url": "https://api.github.com/users/CydeWeys/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/CydeWeys/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Native English speaker here.  Here's how I'd write these two:\r\n\r\n\"Receiving address type (...)\"\r\n\"Change address type (...)\"\r\n\r\nLegacy/p2sh/bech32 feel like types to me, not styles.  Though at that point you'd have to change the command line parameters as well.",
      "created_at": "2017-11-10T21:05:37Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r150337564",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/150337564"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 19,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151820106",
      "pull_request_review_id": 77597987,
      "id": 151820106,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTgyMDEwNg==",
      "diff_hunk": "@@ -168,6 +170,22 @@ bool WalletParameterInteraction()\n     bSpendZeroConfChange = gArgs.GetBoolArg(\"-spendzeroconfchange\", DEFAULT_SPEND_ZEROCONF_CHANGE);\n     fWalletRbf = gArgs.GetBoolArg(\"-walletrbf\", DEFAULT_WALLET_RBF);\n \n+    std::string style = gArgs.GetArg(\"-addressstyle\", \"default\");\n+    OutputStyle parsed_style = ParseStyle(style);\n+    if (parsed_style == STYLE_NONE) {\n+        return InitError(strprintf(_(\"Unknown address style '%s'\"), style));",
      "path": "src/wallet/init.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "a3a79cdb2193facac697857a472fe90c235f7c82",
      "in_reply_to_id": 141033697,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Will add those later.",
      "created_at": "2017-11-18T00:41:15Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151820106",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151820106"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 181,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151820127",
      "pull_request_review_id": 77598012,
      "id": 151820127,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTgyMDEyNw==",
      "diff_hunk": "@@ -168,6 +170,22 @@ bool WalletParameterInteraction()\n     bSpendZeroConfChange = gArgs.GetBoolArg(\"-spendzeroconfchange\", DEFAULT_SPEND_ZEROCONF_CHANGE);\n     fWalletRbf = gArgs.GetBoolArg(\"-walletrbf\", DEFAULT_WALLET_RBF);\n \n+    std::string style = gArgs.GetArg(\"-addressstyle\", \"default\");\n+    OutputStyle parsed_style = ParseStyle(style);\n+    if (parsed_style == STYLE_NONE) {\n+        return InitError(strprintf(_(\"Unknown address style '%s'\"), style));\n+    } else {\n+        address_style = parsed_style;\n+    }\n+\n+    style = gArgs.GetArg(\"-changestyle\", style);\n+    parsed_style = ParseStyle(style);\n+    if (parsed_style == STYLE_NONE) {\n+        return InitError(strprintf(_(\"Unknown change style '%s'\"), style));",
      "path": "src/wallet/init.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "a3a79cdb2193facac697857a472fe90c235f7c82",
      "in_reply_to_id": 141034833,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Will add those later.",
      "created_at": "2017-11-18T00:41:25Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151820127",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151820127"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 189,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151820167",
      "pull_request_review_id": 77598056,
      "id": 151820167,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTgyMDE2Nw==",
      "diff_hunk": "@@ -135,14 +135,15 @@ UniValue getnewaddress(const JSONRPCRequest& request)\n         return NullUniValue;\n     }\n \n-    if (request.fHelp || request.params.size() > 1)\n+    if (request.fHelp || request.params.size() > 2)\n         throw std::runtime_error(\n-            \"getnewaddress ( \\\"account\\\" )\\n\"\n+            \"getnewaddress ( \\\"account\\\" ) ( \\\"style\\\" )\\n\"\n             \"\\nReturns a new Bitcoin address for receiving payments.\\n\"\n             \"If 'account' is specified (DEPRECATED), it is added to the address book \\n\"\n             \"so payments received with the address will be credited to 'account'.\\n\"\n             \"\\nArguments:\\n\"\n             \"1. \\\"account\\\"        (string, optional) DEPRECATED. The account name for the address to be linked to. If not provided, the default account \\\"\\\" is used. It can also be set to the empty string \\\"\\\" to represent the default account. The account does not need to exist, it will be created if there is no account by the given name.\\n\"\n+            \"2. \\\"style\\\"          (string, optional) The address style to use. Valid options are 'p2pkh', 'p2sh_p2wpkh', and 'p2wpkh'\\n\"",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "a3a79cdb2193facac697857a472fe90c235f7c82",
      "in_reply_to_id": 141034548,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Added.",
      "created_at": "2017-11-18T00:41:53Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151820167",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151820167"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 146,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151820189",
      "pull_request_review_id": 77598087,
      "id": 151820189,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTgyMDE4OQ==",
      "diff_hunk": "@@ -157,6 +158,14 @@ UniValue getnewaddress(const JSONRPCRequest& request)\n     if (!request.params[0].isNull())\n         strAccount = AccountFromValue(request.params[0]);\n \n+    OutputStyle style = address_style;\n+    if (!request.params[1].isNull()) {\n+        style = ParseStyle(request.params[1].get_str());\n+        if (style == STYLE_NONE) {\n+            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, strprintf(\"Unknown address style '%s'\", request.params[1].get_str()));",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 26,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "a3a79cdb2193facac697857a472fe90c235f7c82",
      "in_reply_to_id": 141034483,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Will add later.",
      "created_at": "2017-11-18T00:42:09Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151820189",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151820189"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 165,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151820217",
      "pull_request_review_id": 77598122,
      "id": 151820217,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTgyMDIxNw==",
      "diff_hunk": "@@ -225,11 +234,13 @@ UniValue getrawchangeaddress(const JSONRPCRequest& request)\n         return NullUniValue;\n     }\n \n-    if (request.fHelp || request.params.size() > 0)\n+    if (request.fHelp || request.params.size() > 1)\n         throw std::runtime_error(\n-            \"getrawchangeaddress\\n\"\n+            \"getrawchangeaddress ( \\\"style\\\" )\\n\"\n             \"\\nReturns a new Bitcoin address, for receiving change.\\n\"\n             \"This is for use with raw transactions, NOT normal use.\\n\"\n+            \"\\nArguments:\\n\"\n+            \"1. \\\"style\\\"          (string, optional) The address style to use. Valid options are 'p2pkh', 'p2sh_p2wpkh', and 'p2wpkh'\\n\"",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 69,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "a3a79cdb2193facac697857a472fe90c235f7c82",
      "in_reply_to_id": 141034121,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Added.",
      "created_at": "2017-11-18T00:42:34Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151820217",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151820217"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 243,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151820849",
      "pull_request_review_id": 77598834,
      "id": 151820849,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTgyMDg0OQ==",
      "diff_hunk": "@@ -243,16 +254,24 @@ UniValue getrawchangeaddress(const JSONRPCRequest& request)\n         pwallet->TopUpKeyPool();\n     }\n \n+    OutputStyle style = change_style;\n+    if (!request.params[0].isNull()) {\n+        style = ParseStyle(request.params[1].get_str());",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 79,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "a3a79cdb2193facac697857a472fe90c235f7c82",
      "in_reply_to_id": 141034255,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixing.",
      "created_at": "2017-11-18T00:50:07Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151820849",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151820849"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 259,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151820865",
      "pull_request_review_id": 77598854,
      "id": 151820865,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTgyMDg2NQ==",
      "diff_hunk": "@@ -243,16 +254,24 @@ UniValue getrawchangeaddress(const JSONRPCRequest& request)\n         pwallet->TopUpKeyPool();\n     }\n \n+    OutputStyle style = change_style;\n+    if (!request.params[0].isNull()) {\n+        style = ParseStyle(request.params[1].get_str());\n+        if (style == STYLE_NONE) {\n+            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, strprintf(\"Unknown address style '%s'\", request.params[0].get_str()));",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 81,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "a3a79cdb2193facac697857a472fe90c235f7c82",
      "in_reply_to_id": 141034981,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Will add.",
      "created_at": "2017-11-18T00:50:19Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151820865",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151820865"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 261,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151820901",
      "pull_request_review_id": 77598898,
      "id": 151820901,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTgyMDkwMQ==",
      "diff_hunk": "@@ -4051,3 +4051,24 @@ bool CWallet::IsSolvable(const CScript& script) const\n     SignatureData sigs;\n     return (ProduceSignature(creator, script, sigs) && VerifyScript(sigs.scriptSig, script, &sigs.scriptWitness, MANDATORY_SCRIPT_VERIFY_FLAGS | SCRIPT_VERIFY_WITNESS_PUBKEYTYPE, creator.Checker()));\n }\n+\n+CKeyID CWallet::GetKeyForDestination(const CTxDestination& dest) const\n+{\n+    // Only supports P2PKH, P2WPKH, P2SH-P2WPKH.\n+    if (boost::get<CKeyID>(&dest)) {\n+        return boost::get<CKeyID>(dest);\n+    }\n+    if (boost::get<WitnessV0KeyHash>(&dest)) {\n+        return CKeyID(boost::get<WitnessV0KeyHash>(dest));\n+    }\n+    if (boost::get<CScriptID>(&dest)) {\n+        CScript script;\n+        CTxDestination inner_dest;\n+        if (GetCScript(boost::get<CScriptID>(dest), script) && ExtractDestination(script, inner_dest)) {\n+            if (boost::get<WitnessV0KeyHash>(&inner_dest)) {",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 18,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "1ae94623eceb96728b6a791732776d01a455f83f",
      "in_reply_to_id": 140994498,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think it's very cheap - look at the tag, and return the argument with a cast.",
      "created_at": "2017-11-18T00:50:53Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151820901",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151820901"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4154,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151820911",
      "pull_request_review_id": 77598908,
      "id": 151820911,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTgyMDkxMQ==",
      "diff_hunk": "@@ -4072,3 +4074,82 @@ CKeyID CWallet::GetKeyForDestination(const CTxDestination& dest) const\n     }\n     return CKeyID();\n }\n+\n+static const std::string STYLE_STRING_NONE = \"\";",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 41,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "a3a79cdb2193facac697857a472fe90c235f7c82",
      "in_reply_to_id": 140995719,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2017-11-18T00:51:04Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151820911",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151820911"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4162,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151820922",
      "pull_request_review_id": 77598915,
      "id": 151820922,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTgyMDkyMg==",
      "diff_hunk": "@@ -133,8 +133,15 @@ def run_test(self):\n             newaddress = self.nodes[i].getnewaddress()\n             self.pubkey.append(self.nodes[i].validateaddress(newaddress)[\"pubkey\"])\n             multiaddress = self.nodes[i].addmultisigaddress(1, [self.pubkey[-1]])\n-            self.nodes[i].addwitnessaddress(newaddress)\n-            self.nodes[i].addwitnessaddress(multiaddress)\n+            multiscript = CScript([OP_1, hex_str_to_bytes(self.pubkey[-1]), OP_1, OP_CHECKMULTISIG])\n+            p2sh_addr = self.nodes[i].addwitnessaddress(newaddress, True)",
      "path": "test/functional/segwit.py",
      "position": null,
      "original_position": 63,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "a3a79cdb2193facac697857a472fe90c235f7c82",
      "in_reply_to_id": 141035708,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2017-11-18T00:51:11Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151820922",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151820922"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 138,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151820936",
      "pull_request_review_id": 77598935,
      "id": 151820936,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTgyMDkzNg==",
      "diff_hunk": "@@ -15,6 +15,8 @@\n std::string GetWalletHelpString(bool showDebug)\n {\n     std::string strUsage = HelpMessageGroup(_(\"Wallet options:\"));\n+    strUsage += HelpMessageOpt(\"-addressstyle\", _(\"What style addresses to use (\\\"p2pkh\\\", \\\"p2sh_p2wpkh\\\", \\\"p2wpkh\\\")\"));\n+    strUsage += HelpMessageOpt(\"-changestyle\", _(\"What style change to use (\\\"p2pkh\\\", \\\"p2sh_p2wpkh\\\", \\\"p2wpkh\\\")\"));",
      "path": "src/wallet/init.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "a3a79cdb2193facac697857a472fe90c235f7c82",
      "in_reply_to_id": 141172352,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Added explanation of defaults.",
      "created_at": "2017-11-18T00:51:24Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151820936",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151820936"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 19,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151820954",
      "pull_request_review_id": 77598954,
      "id": 151820954,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTgyMDk1NA==",
      "diff_hunk": "@@ -135,14 +135,15 @@ UniValue getnewaddress(const JSONRPCRequest& request)\n         return NullUniValue;\n     }\n \n-    if (request.fHelp || request.params.size() > 1)\n+    if (request.fHelp || request.params.size() > 2)\n         throw std::runtime_error(\n-            \"getnewaddress ( \\\"account\\\" )\\n\"\n+            \"getnewaddress ( \\\"account\\\" ) ( \\\"style\\\" )\\n\"\n             \"\\nReturns a new Bitcoin address for receiving payments.\\n\"\n             \"If 'account' is specified (DEPRECATED), it is added to the address book \\n\"\n             \"so payments received with the address will be credited to 'account'.\\n\"\n             \"\\nArguments:\\n\"\n             \"1. \\\"account\\\"        (string, optional) DEPRECATED. The account name for the address to be linked to. If not provided, the default account \\\"\\\" is used. It can also be set to the empty string \\\"\\\" to represent the default account. The account does not need to exist, it will be created if there is no account by the given name.\\n\"\n+            \"2. \\\"style\\\"          (string, optional) The address style to use. Valid options are 'p2pkh', 'p2sh_p2wpkh', and 'p2wpkh'\\n\"",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "a3a79cdb2193facac697857a472fe90c235f7c82",
      "in_reply_to_id": 141173466,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think that should be done separately.",
      "created_at": "2017-11-18T00:51:35Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151820954",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151820954"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 146,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151824376",
      "pull_request_review_id": 77602754,
      "id": 151824376,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTgyNDM3Ng==",
      "diff_hunk": "@@ -64,6 +67,13 @@ class DescribeAddressVisitor : public boost::static_visitor<UniValue>\n             obj.push_back(Pair(\"script\", GetTxnOutputType(whichType)));\n             obj.push_back(Pair(\"hex\", HexStr(subscript.begin(), subscript.end())));\n             UniValue a(UniValue::VARR);\n+            if (whichType == TX_WITNESS_V0_KEYHASH || whichType == TX_WITNESS_V0_SCRIPTHASH) {\n+                UniValue subobj = boost::apply_visitor(*this, addresses[0]);\n+                obj.push_back(Pair(\"embedded\", std::move(subobj)));",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 30,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "a3a79cdb2193facac697857a472fe90c235f7c82",
      "in_reply_to_id": 141910029,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2017-11-18T01:51:05Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151824376",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151824376"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 72,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151824518",
      "pull_request_review_id": 77602879,
      "id": 151824518,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTgyNDUxOA==",
      "diff_hunk": "@@ -135,14 +135,15 @@ UniValue getnewaddress(const JSONRPCRequest& request)\n         return NullUniValue;\n     }\n \n-    if (request.fHelp || request.params.size() > 1)\n+    if (request.fHelp || request.params.size() > 2)\n         throw std::runtime_error(\n-            \"getnewaddress ( \\\"account\\\" )\\n\"\n+            \"getnewaddress ( \\\"account\\\" ) ( \\\"style\\\" )\\n\"\n             \"\\nReturns a new Bitcoin address for receiving payments.\\n\"\n             \"If 'account' is specified (DEPRECATED), it is added to the address book \\n\"\n             \"so payments received with the address will be credited to 'account'.\\n\"\n             \"\\nArguments:\\n\"\n             \"1. \\\"account\\\"        (string, optional) DEPRECATED. The account name for the address to be linked to. If not provided, the default account \\\"\\\" is used. It can also be set to the empty string \\\"\\\" to represent the default account. The account does not need to exist, it will be created if there is no account by the given name.\\n\"\n+            \"2. \\\"style\\\"          (string, optional) The address style to use. Valid options are 'p2pkh', 'p2sh_p2wpkh', and 'p2wpkh'\\n\"",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "20da3447269696a3505b061852771d0bb11d6779",
      "in_reply_to_id": 141964928,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed. Standardized on 'legacy', 'p2sh', and 'bech32'. It's not entirely accurate, as P2SH is a scriptPubKey type and not its address encoding, but meh - they're probably the most recognizable names.",
      "created_at": "2017-11-18T01:54:36Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151824518",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151824518"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 146,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151824578",
      "pull_request_review_id": 77602941,
      "id": 151824578,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTgyNDU3OA==",
      "diff_hunk": "@@ -1234,7 +1254,7 @@ UniValue addwitnessaddress(const JSONRPCRequest& request)\n \n     {\n         LOCK(cs_main);\n-        if (!IsWitnessEnabled(chainActive.Tip(), Params().GetConsensus()) && !gArgs.GetBoolArg(\"-walletprematurewitness\", false)) {\n+        if (!IsWitnessEnabled(pindexBestHeader, Params().GetConsensus()) && !gArgs.GetBoolArg(\"-walletprematurewitness\", false)) {",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 121,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "20da3447269696a3505b061852771d0bb11d6779",
      "in_reply_to_id": 141967056,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed.",
      "created_at": "2017-11-18T01:56:28Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151824578",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151824578"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1297,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151824607",
      "pull_request_review_id": 77602967,
      "id": 151824607,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTgyNDYwNw==",
      "diff_hunk": "@@ -43,6 +43,8 @@ CFeeRate payTxFee(DEFAULT_TRANSACTION_FEE);\n unsigned int nTxConfirmTarget = DEFAULT_TX_CONFIRM_TARGET;\n bool bSpendZeroConfChange = DEFAULT_SPEND_ZEROCONF_CHANGE;\n bool fWalletRbf = DEFAULT_WALLET_RBF;\n+OutputStyle address_style = STYLE_P2SH;",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "20da3447269696a3505b061852771d0bb11d6779",
      "in_reply_to_id": 141965443,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed as a global now, as we don't really have a way to configure it per wallet. Can be revised if there ever is.",
      "created_at": "2017-11-18T01:57:05Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151824607",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151824607"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 46,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151824611",
      "pull_request_review_id": 77602972,
      "id": 151824611,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTgyNDYxMQ==",
      "diff_hunk": "@@ -43,6 +43,8 @@ CFeeRate payTxFee(DEFAULT_TRANSACTION_FEE);\n unsigned int nTxConfirmTarget = DEFAULT_TX_CONFIRM_TARGET;\n bool bSpendZeroConfChange = DEFAULT_SPEND_ZEROCONF_CHANGE;\n bool fWalletRbf = DEFAULT_WALLET_RBF;\n+OutputStyle address_style = STYLE_P2SH;\n+OutputStyle change_style = STYLE_P2SH;",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "20da3447269696a3505b061852771d0bb11d6779",
      "in_reply_to_id": 141967691,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed.",
      "created_at": "2017-11-18T01:57:17Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151824611",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151824611"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 47,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151824643",
      "pull_request_review_id": 77603011,
      "id": 151824643,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTgyNDY0Mw==",
      "diff_hunk": "@@ -4061,3 +4061,24 @@ bool CWallet::IsSolvable(const CScript& script) const\n     SignatureData sigs;\n     return (ProduceSignature(creator, script, sigs) && VerifyScript(sigs.scriptSig, script, &sigs.scriptWitness, MANDATORY_SCRIPT_VERIFY_FLAGS | SCRIPT_VERIFY_WITNESS_PUBKEYTYPE, creator.Checker()));\n }\n+\n+CKeyID CWallet::GetKeyForDestination(const CTxDestination& dest) const\n+{\n+    // Only supports P2PKH, P2WPKH, P2SH-P2WPKH.",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "7f88d8ad7796c0f6d1e80d11943c19f0af2cda62",
      "in_reply_to_id": 141960988,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I've always considered P2WPKH as specifically referring to v0 20-byte witness programs, and P2WSH as v0 32-byte ones. We'll need to come up with even clumsier names later ;)",
      "created_at": "2017-11-18T01:58:07Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151824643",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151824643"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4143,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151824692",
      "pull_request_review_id": 77603066,
      "id": 151824692,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTgyNDY5Mg==",
      "diff_hunk": "@@ -135,14 +135,15 @@ UniValue getnewaddress(const JSONRPCRequest& request)\n         return NullUniValue;\n     }\n \n-    if (request.fHelp || request.params.size() > 1)\n+    if (request.fHelp || request.params.size() > 2)\n         throw std::runtime_error(\n-            \"getnewaddress ( \\\"account\\\" )\\n\"\n+            \"getnewaddress ( \\\"account\\\" ) ( \\\"style\\\" )\\n\"",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 8,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "5632374f2f71bca384ceed07ca6842fd87102346",
      "in_reply_to_id": 144193626,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed.",
      "created_at": "2017-11-18T01:59:08Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151824692",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151824692"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 140,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151824702",
      "pull_request_review_id": 77603079,
      "id": 151824702,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTgyNDcwMg==",
      "diff_hunk": "@@ -4050,3 +4052,114 @@ bool CMerkleTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     return ::AcceptToMemoryPool(mempool, state, tx, nullptr /* pfMissingInputs */,\n                                 nullptr /* plTxnReplaced */, false /* bypass_limits */, nAbsurdFee);\n }\n+\n+bool CWallet::IsSolvable(const CScript& script) const\n+{\n+    // This check is to make sure that the script we created can actually be solved for and signed by us\n+    // if we were to have the private keys. This is just to make sure that the script is valid and that,\n+    // if found in a transaction, we would still accept and relay that transaction. In particular,\n+    // it will reject witness outputs that require signing with an uncompressed public key.\n+    DummySignatureCreator creator(this);\n+    SignatureData sigs;\n+    return (ProduceSignature(creator, script, sigs) && VerifyScript(sigs.scriptSig, script, &sigs.scriptWitness, MANDATORY_SCRIPT_VERIFY_FLAGS | SCRIPT_VERIFY_WITNESS_PUBKEYTYPE, creator.Checker()));\n+}\n+\n+CKeyID CWallet::GetKeyForDestination(const CTxDestination& dest) const\n+{\n+    // Only supports P2PKH, P2WPKH, P2SH-P2WPKH.\n+    if (boost::get<CKeyID>(&dest)) {\n+        return boost::get<CKeyID>(dest);\n+    }\n+    if (boost::get<WitnessV0KeyHash>(&dest)) {\n+        return CKeyID(boost::get<WitnessV0KeyHash>(dest));\n+    }\n+    if (boost::get<CScriptID>(&dest)) {\n+        CScript script;\n+        CTxDestination inner_dest;\n+        if (GetCScript(boost::get<CScriptID>(dest), script) && ExtractDestination(script, inner_dest)) {\n+            if (boost::get<WitnessV0KeyHash>(&inner_dest)) {\n+                return CKeyID(boost::get<WitnessV0KeyHash>(inner_dest));\n+            }\n+        }\n+    }\n+    return CKeyID();\n+}\n+\n+static const std::string STYLE_STRING_NONE = \"\";\n+static const std::string STYLE_STRING_LEGACY = \"legacy\";\n+static const std::string STYLE_STRING_P2SH = \"p2sh\";\n+static const std::string STYLE_STRING_SEGWIT = \"segwit\";",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 76,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "5632374f2f71bca384ceed07ca6842fd87102346",
      "in_reply_to_id": 144192744,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed, I think it's consistent now.",
      "created_at": "2017-11-18T01:59:25Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151824702",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151824702"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4102,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151825021",
      "pull_request_review_id": 77603455,
      "id": 151825021,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTgyNTAyMQ==",
      "diff_hunk": "@@ -73,8 +73,19 @@ class CNoDestination {\n     friend bool operator<(const CNoDestination &a, const CNoDestination &b) { return true; }\n };\n \n-struct WitnessV0ScriptHash : public uint256 {};\n-struct WitnessV0KeyHash : public uint160 {};\n+struct WitnessV0ScriptHash : public uint256\n+{\n+public:\n+    WitnessV0ScriptHash() : uint256() {}\n+    WitnessV0ScriptHash(const uint256& in) : uint256(in) {}\n+};\n+\n+struct WitnessV0KeyHash : public uint160\n+{\n+public:\n+    WitnessV0KeyHash() : uint160() {}",
      "path": "src/script/standard.h",
      "position": null,
      "original_position": 16,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "fb0361d74a578c626b8876e71ad35775d718aed9",
      "in_reply_to_id": 145239469,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Cool, done.",
      "created_at": "2017-11-18T02:08:17Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151825021",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151825021"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 85,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151825641",
      "pull_request_review_id": 77604118,
      "id": 151825641,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTgyNTY0MQ==",
      "diff_hunk": "@@ -13,6 +13,18 @@ bool CKeyStore::AddKey(const CKey &key) {\n     return AddKeyPubKey(key, key.GetPubKey());\n }\n \n+void CBasicKeyStore::AddRelatedKeyScripts(const CPubKey& pubkey)\n+{\n+    AssertLockHeld(cs_KeyStore);\n+    // This adds the redeemscripts necessary to detect P2WPKH and P2SH-P2WPKH\n+    // outputs.\n+    if (pubkey.IsCompressed()) {\n+        CScript script = CScript() << OP_0 << ToByteVector(pubkey.GetID());\n+        // This does not use AddCScript, as it may be overridden.\n+        mapScripts[CScriptID(script)] = std::move(script);",
      "path": "src/keystore.cpp",
      "position": null,
      "original_position": 12,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "b7209bdc9007b0f6c22403ab042dd474eb8ef2c5",
      "in_reply_to_id": 145261446,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ugh, thanks for pointing that out.",
      "created_at": "2017-11-18T02:27:28Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151825641",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151825641"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 24,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151825660",
      "pull_request_review_id": 77604147,
      "id": 151825660,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTgyNTY2MA==",
      "diff_hunk": "@@ -67,6 +67,13 @@ class DescribeAddressVisitor : public boost::static_visitor<UniValue>\n             obj.push_back(Pair(\"script\", GetTxnOutputType(whichType)));\n             obj.push_back(Pair(\"hex\", HexStr(subscript.begin(), subscript.end())));\n             UniValue a(UniValue::VARR);\n+            if (whichType == TX_WITNESS_V0_KEYHASH || whichType == TX_WITNESS_V0_SCRIPTHASH) {\n+                UniValue subobj = boost::apply_visitor(*this, addresses[0]);\n+                obj.push_back(Pair(\"embedded\", std::move(subobj)));\n+                if (subobj.exists(\"pubkey\")) {",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "97f4fc173dda51f21cc092b9b29a9ea4b208f8e2",
      "in_reply_to_id": 145245638,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, tests that expect to see a `pubkey` field when calling `validateaddress` on the output of `getnewaddress`.",
      "created_at": "2017-11-18T02:28:10Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151825660",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151825660"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 72,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151827221",
      "pull_request_review_id": 77605761,
      "id": 151827221,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTgyNzIyMQ==",
      "diff_hunk": "@@ -4072,3 +4072,24 @@ bool CWallet::IsSolvable(const CScript& script) const\n     SignatureData sigs;\n     return (ProduceSignature(creator, script, sigs) && VerifyScript(sigs.scriptSig, script, &sigs.scriptWitness, MANDATORY_SCRIPT_VERIFY_FLAGS | SCRIPT_VERIFY_WITNESS_PUBKEYTYPE, creator.Checker()));\n }\n+\n+CKeyID CWallet::GetKeyForDestination(const CTxDestination& dest) const\n+{\n+    // Only supports P2PKH, P2WPKH, P2SH-P2WPKH.\n+    if (boost::get<CKeyID>(&dest)) {",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 8,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "8c55a70cebeb4e18c686c93d96dde95deed6dc0e",
      "in_reply_to_id": 145255319,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed.",
      "created_at": "2017-11-18T03:31:55Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151827221",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151827221"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4144,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151827229",
      "pull_request_review_id": 77605771,
      "id": 151827229,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTgyNzIyOQ==",
      "diff_hunk": "@@ -4061,3 +4061,14 @@ bool CMerkleTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     return ::AcceptToMemoryPool(mempool, state, tx, nullptr /* pfMissingInputs */,\n                                 nullptr /* plTxnReplaced */, false /* bypass_limits */, nAbsurdFee);\n }\n+\n+bool CWallet::IsSolvable(const CScript& script) const\n+{\n+    // This check is to make sure that the script we created can actually be solved for and signed by us\n+    // if we were to have the private keys. This is just to make sure that the script is valid and that,\n+    // if found in a transaction, we would still accept and relay that transaction. In particular,\n+    // it will reject witness outputs that require signing with an uncompressed public key.\n+    DummySignatureCreator creator(this);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 11,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "4bc304c9fa8657bc5a025fecfa7fa40e30ea7a20",
      "in_reply_to_id": 145270452,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Moved to script/signer.",
      "created_at": "2017-11-18T03:32:16Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151827229",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151827229"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4136,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151827247",
      "pull_request_review_id": 77605798,
      "id": 151827247,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTgyNzI0Nw==",
      "diff_hunk": "@@ -4093,3 +4095,82 @@ CKeyID CWallet::GetKeyForDestination(const CTxDestination& dest) const\n     }\n     return CKeyID();\n }\n+\n+static const std::string STYLE_STRING_NONE = \"\";\n+static const std::string STYLE_STRING_LEGACY = \"legacy\";\n+static const std::string STYLE_STRING_P2SH = \"p2sh\";\n+static const std::string STYLE_STRING_SEGWIT = \"segwit\";\n+\n+OutputStyle ParseStyle(const std::string& style)\n+{\n+    if (style == STYLE_STRING_LEGACY) {\n+        return STYLE_LEGACY;\n+    } else if (style == STYLE_STRING_P2SH || style == \"default\") {\n+        return STYLE_P2SH;\n+    } else if (style == STYLE_STRING_SEGWIT) {\n+        return STYLE_SEGWIT;\n+    } else {\n+        return STYLE_NONE;\n+    }\n+}\n+\n+\n+const std::string& FormatStyle(OutputStyle style)\n+{\n+    switch (style) {\n+    case STYLE_LEGACY: return STYLE_STRING_LEGACY;\n+    case STYLE_P2SH: return STYLE_STRING_P2SH;\n+    case STYLE_SEGWIT: return STYLE_STRING_SEGWIT;\n+    default: assert(false);\n+    }\n+}\n+\n+std::vector<CTxDestination> CWallet::GetAllDestinationsForKey(const CPubKey& key)\n+{\n+    CKeyID keyid = key.GetID();\n+    if (key.IsCompressed()) {\n+        CTxDestination segwit = WitnessV0KeyHash(keyid);\n+        CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+        return std::vector<CTxDestination>{std::move(keyid), std::move(p2sh), std::move(segwit)};\n+    } else {\n+        return std::vector<CTxDestination>{std::move(keyid)};\n+    }\n+}\n+\n+CTxDestination CWallet::GetDestinationForKey(const CPubKey& key, OutputStyle style)",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 82,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "f542daeb6986b0cc3ea796f177f20739706eddf2",
      "in_reply_to_id": 145271944,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done. IsSolvable is moved to script/sign, GetDestinationForKey is moved to keystore.",
      "created_at": "2017-11-18T03:33:07Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151827247",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151827247"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4170,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151827322",
      "pull_request_review_id": 77605881,
      "id": 151827322,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTgyNzMyMg==",
      "diff_hunk": "@@ -4093,3 +4095,82 @@ CKeyID CWallet::GetKeyForDestination(const CTxDestination& dest) const\n     }\n     return CKeyID();\n }\n+\n+static const std::string STYLE_STRING_NONE = \"\";\n+static const std::string STYLE_STRING_LEGACY = \"legacy\";\n+static const std::string STYLE_STRING_P2SH = \"p2sh\";\n+static const std::string STYLE_STRING_SEGWIT = \"segwit\";\n+\n+OutputStyle ParseStyle(const std::string& style)\n+{\n+    if (style == STYLE_STRING_LEGACY) {\n+        return STYLE_LEGACY;\n+    } else if (style == STYLE_STRING_P2SH || style == \"default\") {\n+        return STYLE_P2SH;\n+    } else if (style == STYLE_STRING_SEGWIT) {\n+        return STYLE_SEGWIT;\n+    } else {\n+        return STYLE_NONE;\n+    }\n+}\n+\n+\n+const std::string& FormatStyle(OutputStyle style)\n+{\n+    switch (style) {\n+    case STYLE_LEGACY: return STYLE_STRING_LEGACY;\n+    case STYLE_P2SH: return STYLE_STRING_P2SH;\n+    case STYLE_SEGWIT: return STYLE_STRING_SEGWIT;\n+    default: assert(false);\n+    }\n+}\n+\n+std::vector<CTxDestination> CWallet::GetAllDestinationsForKey(const CPubKey& key)\n+{\n+    CKeyID keyid = key.GetID();\n+    if (key.IsCompressed()) {\n+        CTxDestination segwit = WitnessV0KeyHash(keyid);\n+        CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+        return std::vector<CTxDestination>{std::move(keyid), std::move(p2sh), std::move(segwit)};\n+    } else {\n+        return std::vector<CTxDestination>{std::move(keyid)};\n+    }\n+}\n+\n+CTxDestination CWallet::GetDestinationForKey(const CPubKey& key, OutputStyle style)\n+{\n+    switch (style) {\n+    case STYLE_LEGACY: return key.GetID();\n+    case STYLE_P2SH:\n+    case STYLE_SEGWIT: {\n+        CTxDestination witdest = WitnessV0KeyHash(key.GetID());\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(witprog)) return key.GetID();\n+        if (style == STYLE_P2SH) {\n+            return CScriptID(witprog);\n+        } else {\n+            return witdest;\n+        }\n+    }\n+    default: assert(false);\n+    }\n+}\n+\n+CTxDestination CWallet::GetDestinationForScript(const CScript& script, OutputStyle style)\n+{\n+    switch (style) {\n+    case STYLE_LEGACY:\n+    case STYLE_P2SH:\n+        return CScriptID(script);\n+    case STYLE_SEGWIT: {\n+        CTxDestination witdest = WitnessV0ScriptHash(Hash(script.begin(), script.end()));\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(witprog)) return CScriptID(script);\n+        AddCScript(witprog);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 113,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "f542daeb6986b0cc3ea796f177f20739706eddf2",
      "in_reply_to_id": 145274394,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, it's ugly. I don't immediately see a nicer solution though, except for a callback to pass in, or duplicating part of this function just to find the correct program.\r\n\r\nNote that if it weren't for the implicitly-know-about-witness-versions-of-keys logic, an equivalent line would be needed in GetDestinationForKey or its callers.",
      "created_at": "2017-11-18T03:37:07Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151827322",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151827322"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4222,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151830086",
      "pull_request_review_id": 77608524,
      "id": 151830086,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTgzMDA4Ng==",
      "diff_hunk": "@@ -15,6 +15,8 @@\n std::string GetWalletHelpString(bool showDebug)\n {\n     std::string strUsage = HelpMessageGroup(_(\"Wallet options:\"));\n+    strUsage += HelpMessageOpt(\"-addressstyle\", _(\"What style addresses to use (\\\"legacy\\\", \\\"p2sh\\\", \\\"bech32\\\", default: \\\"p2sh\\\")\"));\n+    strUsage += HelpMessageOpt(\"-changestyle\", _(\"What style change to use (\\\"legacy\\\", \\\"p2sh\\\", \\\"bech32\\\"), default: same as -addressstyle\"));",
      "path": "src/wallet/init.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "2cd3e3259c5813b4d1a295549e02a2e08ec459d9",
      "in_reply_to_id": 150243374,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Changed to address_type and change_type, and edited the comment language.",
      "created_at": "2017-11-18T06:09:18Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151830086",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151830086"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 19,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151837409",
      "pull_request_review_id": 77615804,
      "id": 151837409,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTgzNzQwOQ==",
      "diff_hunk": "@@ -13,6 +13,19 @@ bool CKeyStore::AddKey(const CKey &key) {\n     return AddKeyPubKey(key, key.GetPubKey());\n }\n \n+void CBasicKeyStore::AddRelatedKeyScripts(const CPubKey& pubkey)\n+{\n+    AssertLockHeld(cs_KeyStore);\n+    // This adds the redeemscripts necessary to detect P2WPKH and P2SH-P2WPKH",
      "path": "src/keystore.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "3c44c27398c8c5e80790f95c747d654cbe716b0c",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Can you add: \"P2WPKH and P2SH-P2WPKH have the same redeem script.\"?\r\n\r\nIt took me a while to realize that.",
      "created_at": "2017-11-18T13:10:47Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151837409",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151837409"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151838154",
      "pull_request_review_id": 77615804,
      "id": 151838154,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTgzODE1NA==",
      "diff_hunk": "@@ -138,3 +154,24 @@ bool CBasicKeyStore::HaveWatchOnly() const\n     LOCK(cs_KeyStore);\n     return (!setWatchOnly.empty());\n }\n+\n+CKeyID GetKeyForDestination(const CKeyStore& store, const CTxDestination& dest)\n+{\n+    // Only supports P2PKH, P2WPKH, P2SH-P2WPKH.",
      "path": "src/keystore.cpp",
      "position": null,
      "original_position": 47,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "3c44c27398c8c5e80790f95c747d654cbe716b0c",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Maybe add for redundancy: \"Does not support P2SH and, because multi-sig could result in multiple CKeyID's.\"",
      "created_at": "2017-11-18T13:40:27Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151838154",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151838154"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 160,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151838468",
      "pull_request_review_id": 77615804,
      "id": 151838468,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTgzODQ2OA==",
      "diff_hunk": "@@ -15,6 +15,8 @@\n std::string GetWalletHelpString(bool showDebug)\n {\n     std::string strUsage = HelpMessageGroup(_(\"Wallet options:\"));\n+    strUsage += HelpMessageOpt(\"-addresstype\", _(\"What type of addresses to use (\\\"legacy\\\", \\\"p2sh\\\", \\\"bech32\\\", default: \\\"p2sh\\\")\"));\n+    strUsage += HelpMessageOpt(\"-changetype\", _(\"What type of change outputs to use (\\\"legacy\\\", \\\"p2sh\\\", \\\"bech32\\\"), default: same as -addresstype\"));",
      "path": "src/wallet/init.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "3c44c27398c8c5e80790f95c747d654cbe716b0c",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Would it make sense to default `-changetype` to `bech32` if `-addresstype` is not specified? Or should we leave that for QT (since anyone using the RPC probably knows what they're doing)?",
      "created_at": "2017-11-18T14:03:54Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151838468",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151838468"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 19,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151845994",
      "pull_request_review_id": 77624503,
      "id": 151845994,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTg0NTk5NA==",
      "diff_hunk": "@@ -13,6 +13,19 @@ bool CKeyStore::AddKey(const CKey &key) {\n     return AddKeyPubKey(key, key.GetPubKey());\n }\n \n+void CBasicKeyStore::AddRelatedKeyScripts(const CPubKey& pubkey)\n+{\n+    AssertLockHeld(cs_KeyStore);\n+    // This adds the redeemscripts necessary to detect P2WPKH and P2SH-P2WPKH",
      "path": "src/keystore.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "3c44c27398c8c5e80790f95c747d654cbe716b0c",
      "in_reply_to_id": 151837409,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "That's not technically correct. P2WPKH doesn't have a redeemscript at all. However, our current IsMine logic requires the corresponding P2SH-P2WPKH redeemscript to be present in the wallet in order to accept payment even to P2WPKH outputs.\r\n\r\nFeel free to suggest better language here.",
      "created_at": "2017-11-18T20:13:01Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151845994",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151845994"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151846058",
      "pull_request_review_id": 77624568,
      "id": 151846058,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTg0NjA1OA==",
      "diff_hunk": "@@ -15,6 +15,8 @@\n std::string GetWalletHelpString(bool showDebug)\n {\n     std::string strUsage = HelpMessageGroup(_(\"Wallet options:\"));\n+    strUsage += HelpMessageOpt(\"-addresstype\", _(\"What type of addresses to use (\\\"legacy\\\", \\\"p2sh\\\", \\\"bech32\\\", default: \\\"p2sh\\\")\"));\n+    strUsage += HelpMessageOpt(\"-changetype\", _(\"What type of change outputs to use (\\\"legacy\\\", \\\"p2sh\\\", \\\"bech32\\\"), default: same as -addresstype\"));",
      "path": "src/wallet/init.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "3c44c27398c8c5e80790f95c747d654cbe716b0c",
      "in_reply_to_id": 151838468,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think that's not acceptable for privacy reasons until bech32 is common on the network.",
      "created_at": "2017-11-18T20:13:40Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151846058",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151846058"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 19,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151846476",
      "pull_request_review_id": 77624980,
      "id": 151846476,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTg0NjQ3Ng==",
      "diff_hunk": "@@ -356,8 +356,10 @@ def run_test(self):\n                 [p2wpkh, p2sh_p2wpkh, p2pk, p2pkh, p2sh_p2pk, p2sh_p2pkh, p2wsh_p2pk, p2wsh_p2pkh, p2sh_p2wsh_p2pk, p2sh_p2wsh_p2pkh] = self.p2pkh_address_to_script(v)\n                 # normal P2PKH and P2PK with compressed keys should always be spendable\n                 spendable_anytime.extend([p2pkh, p2pk])\n-                # P2SH_P2PK, P2SH_P2PKH, and witness with compressed keys are spendable after direct importaddress\n-                spendable_after_importaddress.extend([p2wpkh, p2sh_p2wpkh, p2sh_p2pk, p2sh_p2pkh, p2wsh_p2pk, p2wsh_p2pkh, p2sh_p2wsh_p2pk, p2sh_p2wsh_p2pkh])\n+                # P2SH_P2PK, P2SH_P2PKH with compressed keys are spendable after direct importaddress\n+                spendable_after_importaddress.extend([p2sh_p2pk, p2sh_p2pkh, p2wsh_p2pk, p2wsh_p2pkh, p2sh_p2wsh_p2pk, p2sh_p2wsh_p2pkh])\n+                # P2WPKH and P2SH_P2WPKH are always spendable",
      "path": "test/functional/segwit.py",
      "position": null,
      "original_position": 8,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "2eda8768388bb32d70fa004b9c307814614c900f",
      "in_reply_to_id": null,
      "user": {
        "login": "flack",
        "id": 425166,
        "node_id": "MDQ6VXNlcjQyNTE2Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/425166?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/flack",
        "html_url": "https://github.com/flack",
        "followers_url": "https://api.github.com/users/flack/followers",
        "following_url": "https://api.github.com/users/flack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/flack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/flack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/flack/subscriptions",
        "organizations_url": "https://api.github.com/users/flack/orgs",
        "repos_url": "https://api.github.com/users/flack/repos",
        "events_url": "https://api.github.com/users/flack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/flack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Apologies if this is slightly off-topic, but I can sort of see this comment ending up in an angry reddit post / powerpoint ",
      "created_at": "2017-11-18T20:30:49Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151846476",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151846476"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 361,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151847884",
      "pull_request_review_id": 77626353,
      "id": 151847884,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTg0Nzg4NA==",
      "diff_hunk": "@@ -15,6 +15,8 @@\n std::string GetWalletHelpString(bool showDebug)\n {\n     std::string strUsage = HelpMessageGroup(_(\"Wallet options:\"));\n+    strUsage += HelpMessageOpt(\"-addresstype\", _(\"What type of addresses to use (\\\"legacy\\\", \\\"p2sh\\\", \\\"bech32\\\", default: \\\"p2sh\\\")\"));\n+    strUsage += HelpMessageOpt(\"-changetype\", _(\"What type of change outputs to use (\\\"legacy\\\", \\\"p2sh\\\", \\\"bech32\\\"), default: same as -addresstype\"));",
      "path": "src/wallet/init.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "3c44c27398c8c5e80790f95c747d654cbe716b0c",
      "in_reply_to_id": 151838468,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Privacy is a good point. In that case, wouldn't it be better to use whichever address format is used for the recipient (unless the parameter is set)?",
      "created_at": "2017-11-18T21:13:57Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151847884",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151847884"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 19,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151848021",
      "pull_request_review_id": 77626493,
      "id": 151848021,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTg0ODAyMQ==",
      "diff_hunk": "@@ -13,6 +13,19 @@ bool CKeyStore::AddKey(const CKey &key) {\n     return AddKeyPubKey(key, key.GetPubKey());\n }\n \n+void CBasicKeyStore::AddRelatedKeyScripts(const CPubKey& pubkey)\n+{\n+    AssertLockHeld(cs_KeyStore);\n+    // This adds the redeemscripts necessary to detect P2WPKH and P2SH-P2WPKH",
      "path": "src/keystore.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "3c44c27398c8c5e80790f95c747d654cbe716b0c",
      "in_reply_to_id": 151837409,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Your comment is probably a good start.",
      "created_at": "2017-11-18T21:14:51Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151848021",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151848021"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151852032",
      "pull_request_review_id": 77630558,
      "id": 151852032,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTg1MjAzMg==",
      "diff_hunk": "@@ -145,6 +152,7 @@ UniValue validateaddress(const JSONRPCRequest& request)\n             \"    ]\\n\"\n             \"  \\\"sigsrequired\\\" : xxxxx        (numeric, optional) Number of signatures required to spend multisig output\\n\"\n             \"  \\\"pubkey\\\" : \\\"publickeyhex\\\",    (string) The hex value of the raw public key\\n\"",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 17,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "dd94446cff5bea5ae14e86ff8b9e1e375c2424b5",
      "in_reply_to_id": null,
      "user": {
        "login": "meshcollider",
        "id": 3211283,
        "node_id": "MDQ6VXNlcjMyMTEyODM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/meshcollider",
        "html_url": "https://github.com/meshcollider",
        "followers_url": "https://api.github.com/users/meshcollider/followers",
        "following_url": "https://api.github.com/users/meshcollider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/meshcollider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/meshcollider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
        "organizations_url": "https://api.github.com/users/meshcollider/orgs",
        "repos_url": "https://api.github.com/users/meshcollider/repos",
        "events_url": "https://api.github.com/users/meshcollider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/meshcollider/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Not related to the change in this PR, but the `\"pubkey\"` should be optional as well because it isn't returned for `Witness*`",
      "created_at": "2017-11-19T01:21:04Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151852032",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151852032"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 154,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151852127",
      "pull_request_review_id": 77630558,
      "id": 151852127,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTg1MjEyNw==",
      "diff_hunk": "@@ -138,3 +154,24 @@ bool CBasicKeyStore::HaveWatchOnly() const\n     LOCK(cs_KeyStore);\n     return (!setWatchOnly.empty());\n }\n+\n+CKeyID GetKeyForDestination(const CKeyStore& store, const CTxDestination& dest)\n+{\n+    // Only supports P2PKH, P2WPKH, P2SH-P2WPKH.",
      "path": "src/keystore.cpp",
      "position": null,
      "original_position": 47,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "3c44c27398c8c5e80790f95c747d654cbe716b0c",
      "in_reply_to_id": 151838154,
      "user": {
        "login": "meshcollider",
        "id": 3211283,
        "node_id": "MDQ6VXNlcjMyMTEyODM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/meshcollider",
        "html_url": "https://github.com/meshcollider",
        "followers_url": "https://api.github.com/users/meshcollider/followers",
        "following_url": "https://api.github.com/users/meshcollider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/meshcollider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/meshcollider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
        "organizations_url": "https://api.github.com/users/meshcollider/orgs",
        "repos_url": "https://api.github.com/users/meshcollider/repos",
        "events_url": "https://api.github.com/users/meshcollider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/meshcollider/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Or \"Only supports destinations which map to single public keys, i.e. P2PKH, P2WPKH, P2SH-P2WPKH.\" for more generality",
      "created_at": "2017-11-19T01:29:06Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151852127",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151852127"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 160,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151852351",
      "pull_request_review_id": 77630558,
      "id": 151852351,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTg1MjM1MQ==",
      "diff_hunk": "@@ -356,8 +356,10 @@ def run_test(self):\n                 [p2wpkh, p2sh_p2wpkh, p2pk, p2pkh, p2sh_p2pk, p2sh_p2pkh, p2wsh_p2pk, p2wsh_p2pkh, p2sh_p2wsh_p2pk, p2sh_p2wsh_p2pkh] = self.p2pkh_address_to_script(v)\n                 # normal P2PKH and P2PK with compressed keys should always be spendable\n                 spendable_anytime.extend([p2pkh, p2pk])\n-                # P2SH_P2PK, P2SH_P2PKH, and witness with compressed keys are spendable after direct importaddress\n-                spendable_after_importaddress.extend([p2wpkh, p2sh_p2wpkh, p2sh_p2pk, p2sh_p2pkh, p2wsh_p2pk, p2wsh_p2pkh, p2sh_p2wsh_p2pk, p2sh_p2wsh_p2pkh])\n+                # P2SH_P2PK, P2SH_P2PKH with compressed keys are spendable after direct importaddress\n+                spendable_after_importaddress.extend([p2sh_p2pk, p2sh_p2pkh, p2wsh_p2pk, p2wsh_p2pkh, p2sh_p2wsh_p2pk, p2sh_p2wsh_p2pkh])\n+                # P2WPKH and P2SH_P2WPKH are always spendable",
      "path": "test/functional/segwit.py",
      "position": null,
      "original_position": 8,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "2eda8768388bb32d70fa004b9c307814614c900f",
      "in_reply_to_id": null,
      "user": {
        "login": "meshcollider",
        "id": 3211283,
        "node_id": "MDQ6VXNlcjMyMTEyODM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/meshcollider",
        "html_url": "https://github.com/meshcollider",
        "followers_url": "https://api.github.com/users/meshcollider/followers",
        "following_url": "https://api.github.com/users/meshcollider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/meshcollider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/meshcollider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
        "organizations_url": "https://api.github.com/users/meshcollider/orgs",
        "repos_url": "https://api.github.com/users/meshcollider/repos",
        "events_url": "https://api.github.com/users/meshcollider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/meshcollider/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Note compressed keys explicitly because all other comments do? Otherwise it could sound like it includes uncompressed keys. Or merge with the p2pkh and p2pk line above in the same way you did below?",
      "created_at": "2017-11-19T01:47:34Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151852351",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151852351"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 361,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151852442",
      "pull_request_review_id": 77630558,
      "id": 151852442,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTg1MjQ0Mg==",
      "diff_hunk": "@@ -514,9 +516,8 @@ def run_test(self):\n                 premature_witaddress.append(script_to_p2sh(p2wsh))\n             else:\n                 [p2wpkh, p2sh_p2wpkh, p2pk, p2pkh, p2sh_p2pk, p2sh_p2pkh, p2wsh_p2pk, p2wsh_p2pkh, p2sh_p2wsh_p2pk, p2sh_p2wsh_p2pkh] = self.p2pkh_address_to_script(v)\n-                # P2WPKH, P2SH_P2WPKH are spendable after addwitnessaddress\n-                spendable_after_addwitnessaddress.extend([p2wpkh, p2sh_p2wpkh])\n-                premature_witaddress.append(script_to_p2sh(p2wpkh))\n+                # P2WPKH, P2SH_P2WPKH are always spendable\n+                spendable_anytime.extend([p2wpkh, p2sh_p2wpkh])",
      "path": "test/functional/segwit.py",
      "position": 88,
      "original_position": 36,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "2eda8768388bb32d70fa004b9c307814614c900f",
      "in_reply_to_id": null,
      "user": {
        "login": "meshcollider",
        "id": 3211283,
        "node_id": "MDQ6VXNlcjMyMTEyODM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/meshcollider",
        "html_url": "https://github.com/meshcollider",
        "followers_url": "https://api.github.com/users/meshcollider/followers",
        "following_url": "https://api.github.com/users/meshcollider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/meshcollider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/meshcollider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
        "organizations_url": "https://api.github.com/users/meshcollider/orgs",
        "repos_url": "https://api.github.com/users/meshcollider/repos",
        "events_url": "https://api.github.com/users/meshcollider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/meshcollider/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This part of the test doesn't use `spendable_anytime`, only `spendable_after_addwitnessaddress`, so this change (and one below) could just be deleted completely I believe (unless there is a benefit for readability)",
      "created_at": "2017-11-19T01:55:25Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151852442",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151852442"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 522,
      "original_line": 522,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151876395",
      "pull_request_review_id": 77653775,
      "id": 151876395,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTg3NjM5NQ==",
      "diff_hunk": "@@ -145,6 +152,7 @@ UniValue validateaddress(const JSONRPCRequest& request)\n             \"    ]\\n\"\n             \"  \\\"sigsrequired\\\" : xxxxx        (numeric, optional) Number of signatures required to spend multisig output\\n\"\n             \"  \\\"pubkey\\\" : \\\"publickeyhex\\\",    (string) The hex value of the raw public key\\n\"",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 17,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "dd94446cff5bea5ae14e86ff8b9e1e375c2424b5",
      "in_reply_to_id": 151852032,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It is returned for P2WPKH and P2SH-P2WPKH, but not for anything that doesn't have a unique pubkey.",
      "created_at": "2017-11-19T20:18:06Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151876395",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151876395"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 154,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151877915",
      "pull_request_review_id": 77655139,
      "id": 151877915,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTg3NzkxNQ==",
      "diff_hunk": "@@ -356,8 +356,10 @@ def run_test(self):\n                 [p2wpkh, p2sh_p2wpkh, p2pk, p2pkh, p2sh_p2pk, p2sh_p2pkh, p2wsh_p2pk, p2wsh_p2pkh, p2sh_p2wsh_p2pk, p2sh_p2wsh_p2pkh] = self.p2pkh_address_to_script(v)\n                 # normal P2PKH and P2PK with compressed keys should always be spendable\n                 spendable_anytime.extend([p2pkh, p2pk])\n-                # P2SH_P2PK, P2SH_P2PKH, and witness with compressed keys are spendable after direct importaddress\n-                spendable_after_importaddress.extend([p2wpkh, p2sh_p2wpkh, p2sh_p2pk, p2sh_p2pkh, p2wsh_p2pk, p2wsh_p2pkh, p2sh_p2wsh_p2pk, p2sh_p2wsh_p2pkh])\n+                # P2SH_P2PK, P2SH_P2PKH with compressed keys are spendable after direct importaddress\n+                spendable_after_importaddress.extend([p2sh_p2pk, p2sh_p2pkh, p2wsh_p2pk, p2wsh_p2pkh, p2sh_p2wsh_p2pk, p2sh_p2wsh_p2pkh])\n+                # P2WPKH and P2SH_P2WPKH are always spendable",
      "path": "test/functional/segwit.py",
      "position": null,
      "original_position": 8,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "2eda8768388bb32d70fa004b9c307814614c900f",
      "in_reply_to_id": 151846476,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Then quote the code around it, which uses the language w.r.t. P2PKH and others. It's obviously about outputs we have the private keys for.",
      "created_at": "2017-11-19T21:02:07Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151877915",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151877915"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 361,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151878171",
      "pull_request_review_id": 77655367,
      "id": 151878171,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTg3ODE3MQ==",
      "diff_hunk": "@@ -138,3 +154,24 @@ bool CBasicKeyStore::HaveWatchOnly() const\n     LOCK(cs_KeyStore);\n     return (!setWatchOnly.empty());\n }\n+\n+CKeyID GetKeyForDestination(const CKeyStore& store, const CTxDestination& dest)\n+{\n+    // Only supports P2PKH, P2WPKH, P2SH-P2WPKH.",
      "path": "src/keystore.cpp",
      "position": null,
      "original_position": 47,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "3c44c27398c8c5e80790f95c747d654cbe716b0c",
      "in_reply_to_id": 151838154,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed.",
      "created_at": "2017-11-19T21:08:44Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151878171",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151878171"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 160,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151878173",
      "pull_request_review_id": 77655369,
      "id": 151878173,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTg3ODE3Mw==",
      "diff_hunk": "@@ -13,6 +13,19 @@ bool CKeyStore::AddKey(const CKey &key) {\n     return AddKeyPubKey(key, key.GetPubKey());\n }\n \n+void CBasicKeyStore::AddRelatedKeyScripts(const CPubKey& pubkey)\n+{\n+    AssertLockHeld(cs_KeyStore);\n+    // This adds the redeemscripts necessary to detect P2WPKH and P2SH-P2WPKH",
      "path": "src/keystore.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "3c44c27398c8c5e80790f95c747d654cbe716b0c",
      "in_reply_to_id": 151837409,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2017-11-19T21:08:48Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151878173",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151878173"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151878183",
      "pull_request_review_id": 77655378,
      "id": 151878183,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTg3ODE4Mw==",
      "diff_hunk": "@@ -356,8 +356,10 @@ def run_test(self):\n                 [p2wpkh, p2sh_p2wpkh, p2pk, p2pkh, p2sh_p2pk, p2sh_p2pkh, p2wsh_p2pk, p2wsh_p2pkh, p2sh_p2wsh_p2pk, p2sh_p2wsh_p2pkh] = self.p2pkh_address_to_script(v)\n                 # normal P2PKH and P2PK with compressed keys should always be spendable\n                 spendable_anytime.extend([p2pkh, p2pk])\n-                # P2SH_P2PK, P2SH_P2PKH, and witness with compressed keys are spendable after direct importaddress\n-                spendable_after_importaddress.extend([p2wpkh, p2sh_p2wpkh, p2sh_p2pk, p2sh_p2pkh, p2wsh_p2pk, p2wsh_p2pkh, p2sh_p2wsh_p2pk, p2sh_p2wsh_p2pkh])\n+                # P2SH_P2PK, P2SH_P2PKH with compressed keys are spendable after direct importaddress\n+                spendable_after_importaddress.extend([p2sh_p2pk, p2sh_p2pkh, p2wsh_p2pk, p2wsh_p2pkh, p2sh_p2wsh_p2pk, p2sh_p2wsh_p2pkh])\n+                # P2WPKH and P2SH_P2WPKH are always spendable",
      "path": "test/functional/segwit.py",
      "position": null,
      "original_position": 8,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "2eda8768388bb32d70fa004b9c307814614c900f",
      "in_reply_to_id": 151852351,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2017-11-19T21:09:05Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151878183",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151878183"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 361,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151878233",
      "pull_request_review_id": 77655424,
      "id": 151878233,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTg3ODIzMw==",
      "diff_hunk": "@@ -514,9 +516,8 @@ def run_test(self):\n                 premature_witaddress.append(script_to_p2sh(p2wsh))\n             else:\n                 [p2wpkh, p2sh_p2wpkh, p2pk, p2pkh, p2sh_p2pk, p2sh_p2pkh, p2wsh_p2pk, p2wsh_p2pkh, p2sh_p2wsh_p2pk, p2sh_p2wsh_p2pkh] = self.p2pkh_address_to_script(v)\n-                # P2WPKH, P2SH_P2WPKH are spendable after addwitnessaddress\n-                spendable_after_addwitnessaddress.extend([p2wpkh, p2sh_p2wpkh])\n-                premature_witaddress.append(script_to_p2sh(p2wpkh))\n+                # P2WPKH, P2SH_P2WPKH are always spendable\n+                spendable_anytime.extend([p2wpkh, p2sh_p2wpkh])",
      "path": "test/functional/segwit.py",
      "position": 88,
      "original_position": 36,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "2eda8768388bb32d70fa004b9c307814614c900f",
      "in_reply_to_id": 151852442,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Better: I've added code for testing spendable_anytime and solvable_anytime in these cases.",
      "created_at": "2017-11-19T21:10:33Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r151878233",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151878233"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 522,
      "original_line": 522,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152033827",
      "pull_request_review_id": 77833289,
      "id": 152033827,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MjAzMzgyNw==",
      "diff_hunk": "@@ -67,6 +67,13 @@ class DescribeAddressVisitor : public boost::static_visitor<UniValue>\n             obj.push_back(Pair(\"script\", GetTxnOutputType(whichType)));\n             obj.push_back(Pair(\"hex\", HexStr(subscript.begin(), subscript.end())));\n             UniValue a(UniValue::VARR);\n+            if (whichType == TX_WITNESS_V0_KEYHASH || whichType == TX_WITNESS_V0_SCRIPTHASH) {\n+                UniValue subobj = boost::apply_visitor(*this, addresses[0]);\n+                if (subobj.exists(\"pubkey\")) {\n+                    obj.push_back(Pair(\"pubkey\", subobj[\"pubkey\"].get_str()));",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "d0c76c351aad0454bea1cf2e4da7a8910f30c714",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Remove `.get_str()`?",
      "created_at": "2017-11-20T16:05:12Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r152033827",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152033827"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 73,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152033877",
      "pull_request_review_id": 77833289,
      "id": 152033877,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MjAzMzg3Nw==",
      "diff_hunk": "@@ -67,6 +67,13 @@ class DescribeAddressVisitor : public boost::static_visitor<UniValue>\n             obj.push_back(Pair(\"script\", GetTxnOutputType(whichType)));\n             obj.push_back(Pair(\"hex\", HexStr(subscript.begin(), subscript.end())));\n             UniValue a(UniValue::VARR);\n+            if (whichType == TX_WITNESS_V0_KEYHASH || whichType == TX_WITNESS_V0_SCRIPTHASH) {\n+                UniValue subobj = boost::apply_visitor(*this, addresses[0]);\n+                if (subobj.exists(\"pubkey\")) {\n+                    obj.push_back(Pair(\"pubkey\", subobj[\"pubkey\"].get_str()));\n+                }\n+                obj.push_back(Pair(\"embedded\", std::move(subobj)));",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 9,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "d0c76c351aad0454bea1cf2e4da7a8910f30c714",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Missing test.",
      "created_at": "2017-11-20T16:05:22Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r152033877",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152033877"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 75,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152034843",
      "pull_request_review_id": 77833289,
      "id": 152034843,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MjAzNDg0Mw==",
      "diff_hunk": "@@ -188,8 +196,11 @@ UniValue validateaddress(const JSONRPCRequest& request)\n         }\n         if (pwallet) {\n             const auto& meta = pwallet->mapKeyMetadata;\n-            const CKeyID *keyID = boost::get<CKeyID>(&dest);\n-            auto it = keyID ? meta.find(*keyID) : meta.end();\n+            CKeyID key = GetKeyForDestination(*pwallet, dest);",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 28,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "d0c76c351aad0454bea1cf2e4da7a8910f30c714",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Below you use `auto key = ...`. Keep it consistent?",
      "created_at": "2017-11-20T16:08:34Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r152034843",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152034843"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 225,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152035884",
      "pull_request_review_id": 77833289,
      "id": 152035884,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MjAzNTg4NA==",
      "diff_hunk": "@@ -173,6 +175,22 @@ bool WalletParameterInteraction()\n     bSpendZeroConfChange = gArgs.GetBoolArg(\"-spendzeroconfchange\", DEFAULT_SPEND_ZEROCONF_CHANGE);\n     fWalletRbf = gArgs.GetBoolArg(\"-walletrbf\", DEFAULT_WALLET_RBF);\n \n+    std::string output_type = gArgs.GetArg(\"-addresstype\", \"default\");\n+    OutputType parsed_output_type = ParseOutputType(output_type);\n+    if (parsed_output_type == OUTPUT_TYPE_NONE) {\n+        return InitError(strprintf(_(\"Unknown address type '%s'\"), output_type));\n+    } else {\n+        g_address_type = parsed_output_type;",
      "path": "src/wallet/init.cpp",
      "position": null,
      "original_position": 18,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "d0c76c351aad0454bea1cf2e4da7a8910f30c714",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Remove else?\r\n```cpp\r\n\r\ng_address_type = ParseOutputType(gArgs.GetArg(\"-addresstype\", \"default\"));\r\nif (g_address_type == OUTPUT_TYPE_NONE) {\r\n    return InitError(strprintf(_(\"Unknown address type '%s'\"), gArgs.GetArg(\"-addresstype\")));\r\n}\r\n```",
      "created_at": "2017-11-20T16:11:43Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r152035884",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152035884"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 183,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152036236",
      "pull_request_review_id": 77833289,
      "id": 152036236,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MjAzNjIzNg==",
      "diff_hunk": "@@ -173,6 +175,22 @@ bool WalletParameterInteraction()\n     bSpendZeroConfChange = gArgs.GetBoolArg(\"-spendzeroconfchange\", DEFAULT_SPEND_ZEROCONF_CHANGE);\n     fWalletRbf = gArgs.GetBoolArg(\"-walletrbf\", DEFAULT_WALLET_RBF);\n \n+    std::string output_type = gArgs.GetArg(\"-addresstype\", \"default\");\n+    OutputType parsed_output_type = ParseOutputType(output_type);\n+    if (parsed_output_type == OUTPUT_TYPE_NONE) {\n+        return InitError(strprintf(_(\"Unknown address type '%s'\"), output_type));\n+    } else {\n+        g_address_type = parsed_output_type;\n+    }\n+\n+    output_type = gArgs.GetArg(\"-changetype\", output_type);\n+    parsed_output_type = ParseOutputType(output_type);\n+    if (parsed_output_type == OUTPUT_TYPE_NONE) {\n+        return InitError(strprintf(_(\"Unknown change type '%s'\"), output_type));\n+    } else {\n+        g_change_type = parsed_output_type;",
      "path": "src/wallet/init.cpp",
      "position": null,
      "original_position": 26,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "d0c76c351aad0454bea1cf2e4da7a8910f30c714",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Same as above.",
      "created_at": "2017-11-20T16:12:52Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r152036236",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152036236"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 191,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152036916",
      "pull_request_review_id": 77833289,
      "id": 152036916,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MjAzNjkxNg==",
      "diff_hunk": "@@ -157,6 +158,14 @@ UniValue getnewaddress(const JSONRPCRequest& request)\n     if (!request.params[0].isNull())\n         strAccount = AccountFromValue(request.params[0]);\n \n+    OutputType output_type = g_address_type;",
      "path": "src/wallet/rpcwallet.cpp",
      "position": 22,
      "original_position": 22,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "d0c76c351aad0454bea1cf2e4da7a8910f30c714",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Mirror argument name:\r\n```cpp\r\nOutputType address_type = g_address_type;\r\n```",
      "created_at": "2017-11-20T16:15:02Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r152036916",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152036916"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 162,
      "original_line": 162,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152037615",
      "pull_request_review_id": 77833289,
      "id": 152037615,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MjAzNzYxNQ==",
      "diff_hunk": "@@ -243,16 +254,24 @@ UniValue getrawchangeaddress(const JSONRPCRequest& request)\n         pwallet->TopUpKeyPool();\n     }\n \n+    OutputType output_type = g_change_type;",
      "path": "src/wallet/rpcwallet.cpp",
      "position": 93,
      "original_position": 77,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "d0c76c351aad0454bea1cf2e4da7a8910f30c714",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Mirror argument name:\r\n```cpp\r\nOutputType address_type = g_change_type;\r\n```",
      "created_at": "2017-11-20T16:17:07Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r152037615",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152037615"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 259,
      "original_line": 259,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152328510",
      "pull_request_review_id": 78173753,
      "id": 152328510,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MjMyODUxMA==",
      "diff_hunk": "@@ -15,6 +15,8 @@\n std::string GetWalletHelpString(bool showDebug)\n {\n     std::string strUsage = HelpMessageGroup(_(\"Wallet options:\"));\n+    strUsage += HelpMessageOpt(\"-addresstype\", _(\"What type of addresses to use (\\\"legacy\\\", \\\"p2sh\\\", \\\"bech32\\\", default: \\\"p2sh\\\")\"));\n+    strUsage += HelpMessageOpt(\"-changetype\", _(\"What type of change outputs to use (\\\"legacy\\\", \\\"p2sh\\\", \\\"bech32\\\"), default: same as -addresstype\"));",
      "path": "src/wallet/init.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "3c44c27398c8c5e80790f95c747d654cbe716b0c",
      "in_reply_to_id": 151838468,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`default: ` should be inside `()`.",
      "created_at": "2017-11-21T16:27:16Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r152328510",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152328510"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 19,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/153278680",
      "pull_request_review_id": 79261530,
      "id": 153278680,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MzI3ODY4MA==",
      "diff_hunk": "@@ -243,16 +254,24 @@ UniValue getrawchangeaddress(const JSONRPCRequest& request)\n         pwallet->TopUpKeyPool();\n     }\n \n+    OutputType output_type = g_change_type;\n+    if (!request.params[0].isNull()) {\n+        output_type = ParseOutputType(request.params[0].get_str());",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 79,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "d0c76c351aad0454bea1cf2e4da7a8910f30c714",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I believe this allows the user to put in \"default\", which then resolves to \"P2SH\" no matter what the actual default g_change_type is set to .",
      "created_at": "2017-11-27T18:14:58Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r153278680",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/153278680"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 259,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/153278747",
      "pull_request_review_id": 79261530,
      "id": 153278747,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MzI3ODc0Nw==",
      "diff_hunk": "@@ -157,6 +158,14 @@ UniValue getnewaddress(const JSONRPCRequest& request)\n     if (!request.params[0].isNull())\n         strAccount = AccountFromValue(request.params[0]);\n \n+    OutputType output_type = g_address_type;\n+    if (!request.params[1].isNull()) {\n+        output_type = ParseOutputType(request.params[1].get_str());",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "d0c76c351aad0454bea1cf2e4da7a8910f30c714",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I believe this allows the user to put in \"default\", which then resolves to \"P2SH\" no matter what the actual default `g_address_type` is set to .",
      "created_at": "2017-11-27T18:15:11Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r153278747",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/153278747"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 163,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/153376955",
      "pull_request_review_id": 79372207,
      "id": 153376955,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MzM3Njk1NQ==",
      "diff_hunk": "@@ -135,14 +135,15 @@ UniValue getnewaddress(const JSONRPCRequest& request)\n         return NullUniValue;\n     }\n \n-    if (request.fHelp || request.params.size() > 1)\n+    if (request.fHelp || request.params.size() > 2)\n         throw std::runtime_error(\n-            \"getnewaddress ( \\\"account\\\" )\\n\"\n+            \"getnewaddress ( \\\"account\\\" \\\"address_type\\\" )\\n\"\n             \"\\nReturns a new Bitcoin address for receiving payments.\\n\"\n             \"If 'account' is specified (DEPRECATED), it is added to the address book \\n\"\n             \"so payments received with the address will be credited to 'account'.\\n\"\n             \"\\nArguments:\\n\"\n             \"1. \\\"account\\\"        (string, optional) DEPRECATED. The account name for the address to be linked to. If not provided, the default account \\\"\\\" is used. It can also be set to the empty string \\\"\\\" to represent the default account. The account does not need to exist, it will be created if there is no account by the given name.\\n\"\n+            \"2. \\\"address_type\\\"   (string, optional) The address type to use. Options are \\\"legacy\\\", \\\"p2sh\\\", and \\\"bech32\\\". Default is set by -addresstype.\\n\"",
      "path": "src/wallet/rpcwallet.cpp",
      "position": 14,
      "original_position": 14,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "d0c76c351aad0454bea1cf2e4da7a8910f30c714",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "There's no indication as to what \"-addresstype\" currently is. How about something like:\r\n```c++\r\n\"... Default (*g_address_type string*) is set by -addresstype.\\n\"\r\n```",
      "created_at": "2017-11-28T01:59:11Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r153376955",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/153376955"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 147,
      "original_line": 147,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/154244232",
      "pull_request_review_id": 80379249,
      "id": 154244232,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NDI0NDIzMg==",
      "diff_hunk": "@@ -135,14 +135,15 @@ UniValue getnewaddress(const JSONRPCRequest& request)\n         return NullUniValue;\n     }\n \n-    if (request.fHelp || request.params.size() > 1)\n+    if (request.fHelp || request.params.size() > 2)\n         throw std::runtime_error(\n-            \"getnewaddress ( \\\"account\\\" )\\n\"\n+            \"getnewaddress ( \\\"account\\\" \\\"address_type\\\" )\\n\"\n             \"\\nReturns a new Bitcoin address for receiving payments.\\n\"\n             \"If 'account' is specified (DEPRECATED), it is added to the address book \\n\"\n             \"so payments received with the address will be credited to 'account'.\\n\"\n             \"\\nArguments:\\n\"\n             \"1. \\\"account\\\"        (string, optional) DEPRECATED. The account name for the address to be linked to. If not provided, the default account \\\"\\\" is used. It can also be set to the empty string \\\"\\\" to represent the default account. The account does not need to exist, it will be created if there is no account by the given name.\\n\"\n+            \"2. \\\"address_type\\\"   (string, optional) The address type to use. Options are \\\"legacy\\\", \\\"p2sh\\\", and \\\"bech32\\\". Default is set by -addresstype.\\n\"",
      "path": "src/wallet/rpcwallet.cpp",
      "position": 14,
      "original_position": 14,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "d0c76c351aad0454bea1cf2e4da7a8910f30c714",
      "in_reply_to_id": 153376955,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed.",
      "created_at": "2017-12-01T00:53:14Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r154244232",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/154244232"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 147,
      "original_line": 147,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/154244448",
      "pull_request_review_id": 80379490,
      "id": 154244448,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NDI0NDQ0OA==",
      "diff_hunk": "@@ -188,8 +196,11 @@ UniValue validateaddress(const JSONRPCRequest& request)\n         }\n         if (pwallet) {\n             const auto& meta = pwallet->mapKeyMetadata;\n-            const CKeyID *keyID = boost::get<CKeyID>(&dest);\n-            auto it = keyID ? meta.find(*keyID) : meta.end();\n+            CKeyID key = GetKeyForDestination(*pwallet, dest);",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 28,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "d0c76c351aad0454bea1cf2e4da7a8910f30c714",
      "in_reply_to_id": 152034843,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Choosing to use `auto` is a balance between clarity (by being explicit) and brevity/flexibility. I don't think using it here would be an improvement, but I added it on the line below (the iterator type was pretty long...).",
      "created_at": "2017-12-01T00:54:43Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r154244448",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/154244448"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 225,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/154244562",
      "pull_request_review_id": 80379615,
      "id": 154244562,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NDI0NDU2Mg==",
      "diff_hunk": "@@ -243,16 +254,24 @@ UniValue getrawchangeaddress(const JSONRPCRequest& request)\n         pwallet->TopUpKeyPool();\n     }\n \n+    OutputType output_type = g_change_type;",
      "path": "src/wallet/rpcwallet.cpp",
      "position": 93,
      "original_position": 77,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "d0c76c351aad0454bea1cf2e4da7a8910f30c714",
      "in_reply_to_id": 152037615,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'm using 'output type' as the internal name, 'address type' is just used for the global/cmdline.\r\n\r\nPart of the reason for that is that I feel using the term 'address' for change is wrong. Addresses are things intended to be the destination of payments. Change outputs are only created and used internally.",
      "created_at": "2017-12-01T00:55:42Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r154244562",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/154244562"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 259,
      "original_line": 259,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/154329194",
      "pull_request_review_id": 80476697,
      "id": 154329194,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NDMyOTE5NA==",
      "diff_hunk": "@@ -15,6 +15,8 @@\n std::string GetWalletHelpString(bool showDebug)\n {\n     std::string strUsage = HelpMessageGroup(_(\"Wallet options:\"));\n+    strUsage += HelpMessageOpt(\"-addresstype\", strprintf(_(\"What type of addresses to use (\\\"legacy\\\", \\\"p2sh\\\", \\\"bech32\\\", default: \\\"%s\\\")\"), FormatOutputType(OUTPUT_TYPE_DEFAULT)));\n+    strUsage += HelpMessageOpt(\"-changetype\", strprintf(_(\"What type of change to use (\\\"legacy\\\", \\\"p2sh\\\", \\\"bech32\\\", default is same as -addressstyle: \\\"%s\\\")\"), FormatOutputType(g_address_type)));",
      "path": "src/wallet/init.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "b088ab65407346408ed45fdad637e54c591eb348",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`-addresstype`, not `-addressstyle`",
      "created_at": "2017-12-01T11:54:43Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r154329194",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/154329194"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 19,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155266683",
      "pull_request_review_id": 81556928,
      "id": 155266683,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTI2NjY4Mw==",
      "diff_hunk": "@@ -0,0 +1,41 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test that the wallet can send and receive using all combinations of address types.\"\"\"\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class AddressTypeTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 4\n+        self.setup_clean_chain = True\n+        self.extra_args = [[\"-addresstype=legacy\"], [\"-addresstype=p2sh\"], [\"-addresstype=bech32\"], [\"-addresstype=p2sh\", \"-changetype=bech32\"]]\n+\n+    def run_test(self):\n+        self.nodes[0].generate(120)",
      "path": "test/functional/address_types.py",
      "position": null,
      "original_position": 16,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e2e9ead25fe0ddb364e35f8eabb5a7f937d3973b",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Doesn't the test framework already give you plenty of mature coins out of the box? cc @jnewbery ",
      "created_at": "2017-12-06T15:22:17Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155266683",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155266683"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 16,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155269450",
      "pull_request_review_id": 81560255,
      "id": 155269450,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTI2OTQ1MA==",
      "diff_hunk": "@@ -0,0 +1,41 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test that the wallet can send and receive using all combinations of address types.\"\"\"\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class AddressTypeTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 4\n+        self.setup_clean_chain = True\n+        self.extra_args = [[\"-addresstype=legacy\"], [\"-addresstype=p2sh\"], [\"-addresstype=bech32\"], [\"-addresstype=p2sh\", \"-changetype=bech32\"]]\n+\n+    def run_test(self):\n+        self.nodes[0].generate(120)\n+        self.sync_all()\n+\n+        for c in range(4):\n+            for n in range(4):\n+                old_balances = [self.nodes[i].getbalance() for i in range(4)]\n+                to_send = (old_balances[n] / 11).quantize(Decimal(\"0.00000001\"))\n+                sends = {}\n+                for k in range(4):\n+                    address = self.nodes[(n + k) % 4].getnewaddress()\n+                    # In each iteration, one node sends 1/11th of its balance to itself, 2/11ths to the next peer,\n+                    # 3/11ths to the one after that, and 4/11ths to the remaining one.\n+                    sends[address] = to_send * (1 + k)\n+                self.nodes[n].sendmany(\"\", sends)\n+                self.sync_all()\n+                unconf_balances = [self.nodes[i].getunconfirmedbalance() for i in range(4)]",
      "path": "test/functional/address_types.py",
      "position": null,
      "original_position": 31,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e2e9ead25fe0ddb364e35f8eabb5a7f937d3973b",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Should `getunconfirmedbalance` be the same as what QT displays as balance under \"Pending\"? If so, what could explain that the UI shows different numbers despite these tests passing? ",
      "created_at": "2017-12-06T15:31:14Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155269450",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155269450"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 55,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155327731",
      "pull_request_review_id": 81629569,
      "id": 155327731,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTMyNzczMQ==",
      "diff_hunk": "@@ -135,14 +135,15 @@ UniValue getnewaddress(const JSONRPCRequest& request)\n         return NullUniValue;\n     }\n \n-    if (request.fHelp || request.params.size() > 1)\n+    if (request.fHelp || request.params.size() > 2)\n         throw std::runtime_error(\n-            \"getnewaddress ( \\\"account\\\" )\\n\"\n+            \"getnewaddress ( \\\"account\\\" ) ( \\\"style\\\" )\\n\"",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 8,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "5632374f2f71bca384ceed07ca6842fd87102346",
      "in_reply_to_id": 144199735,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r144199735\r\n\r\n> This shouldn't just be tacked on the end. Accounts are deprecated. Just replace \"account\" with an options Object.\r\n\r\nIn this particular context, account will just be renamed to label, rather than removed entirely. (At least this is what #11536 does.)",
      "created_at": "2017-12-06T18:55:33Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155327731",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155327731"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 140,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155335251",
      "pull_request_review_id": 81638284,
      "id": 155335251,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTMzNTI1MQ==",
      "diff_hunk": "@@ -13,6 +13,18 @@ bool CKeyStore::AddKey(const CKey &key) {\n     return AddKeyPubKey(key, key.GetPubKey());\n }\n \n+void CBasicKeyStore::AddRelatedKeyScripts(const CPubKey& pubkey)\n+{\n+    AssertLockHeld(cs_KeyStore);\n+    // This adds the redeemscripts necessary to detect P2WPKH and P2SH-P2WPKH\n+    // outputs.\n+    if (pubkey.IsCompressed()) {\n+        CScript script = CScript() << OP_0 << ToByteVector(pubkey.GetID());\n+        // This does not use AddCScript, as it may be overridden.\n+        mapScripts[CScriptID(script)] = std::move(script);",
      "path": "src/keystore.cpp",
      "position": null,
      "original_position": 12,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "b7209bdc9007b0f6c22403ab042dd474eb8ef2c5",
      "in_reply_to_id": 145261446,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> I'm not sure about the sequencing rules here. I'd feel safer with a temporary CScriptID.\r\n\r\nFor the record, there should be no issue here. std::move just does an rvalue reference cast to influence template deduction and function overloading. It doesn't actually actually move anything or do anything else at runtime.",
      "created_at": "2017-12-06T19:23:24Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155335251",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155335251"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 24,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155341414",
      "pull_request_review_id": 81645651,
      "id": 155341414,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTM0MTQxNA==",
      "diff_hunk": "@@ -0,0 +1,41 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test that the wallet can send and receive using all combinations of address types.\"\"\"\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class AddressTypeTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 4\n+        self.setup_clean_chain = True\n+        self.extra_args = [[\"-addresstype=legacy\"], [\"-addresstype=p2sh\"], [\"-addresstype=bech32\"], [\"-addresstype=p2sh\", \"-changetype=bech32\"]]\n+\n+    def run_test(self):\n+        self.nodes[0].generate(120)",
      "path": "test/functional/address_types.py",
      "position": null,
      "original_position": 16,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e2e9ead25fe0ddb364e35f8eabb5a7f937d3973b",
      "in_reply_to_id": 155266683,
      "user": {
        "login": "afk11",
        "id": 5617245,
        "node_id": "MDQ6VXNlcjU2MTcyNDU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5617245?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/afk11",
        "html_url": "https://github.com/afk11",
        "followers_url": "https://api.github.com/users/afk11/followers",
        "following_url": "https://api.github.com/users/afk11/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/afk11/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/afk11/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/afk11/subscriptions",
        "organizations_url": "https://api.github.com/users/afk11/orgs",
        "repos_url": "https://api.github.com/users/afk11/repos",
        "events_url": "https://api.github.com/users/afk11/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/afk11/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "@Sjors setup_clean_chain was set to True in this test https://github.com/bitcoin/bitcoin/pull/11403/files/e2e9ead25fe0ddb364e35f8eabb5a7f937d3973b#diff-e3da38b280555e81d6b794e1117ed0a8R12",
      "created_at": "2017-12-06T19:47:04Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155341414",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155341414"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 16,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155358997",
      "pull_request_review_id": 81665662,
      "id": 155358997,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTM1ODk5Nw==",
      "diff_hunk": "@@ -0,0 +1,41 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test that the wallet can send and receive using all combinations of address types.\"\"\"\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class AddressTypeTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 4\n+        self.setup_clean_chain = True\n+        self.extra_args = [[\"-addresstype=legacy\"], [\"-addresstype=p2sh\"], [\"-addresstype=bech32\"], [\"-addresstype=p2sh\", \"-changetype=bech32\"]]\n+\n+    def run_test(self):\n+        self.nodes[0].generate(120)",
      "path": "test/functional/address_types.py",
      "position": null,
      "original_position": 16,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e2e9ead25fe0ddb364e35f8eabb5a7f937d3973b",
      "in_reply_to_id": 155266683,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I see. But why? Doesn't that slow down the tests?",
      "created_at": "2017-12-06T20:58:41Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155358997",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155358997"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 16,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155546121",
      "pull_request_review_id": 81882149,
      "id": 155546121,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTU0NjEyMQ==",
      "diff_hunk": "@@ -81,4 +81,9 @@ SignatureData CombineSignatures(const CScript& scriptPubKey, const BaseSignature\n SignatureData DataFromTransaction(const CMutableTransaction& tx, unsigned int nIn);\n void UpdateTransaction(CMutableTransaction& tx, unsigned int nIn, const SignatureData& data);\n \n+/* Check whether we know how to sign for an output like this, assuming we\n+ * have all private keys. This is unrelated to whether we consider this\n+ * output to be ours. */",
      "path": "src/script/sign.h",
      "position": null,
      "original_position": 6,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "3e2d5aa9a4694586a561f0e1b2ec3cc32981ba24",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: mention something about what store is actually used for (redeemScript and pubkeyHash->pubkey lookup), as its otherwise confusing why it exists.",
      "created_at": "2017-12-07T15:04:41Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155546121",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155546121"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 86,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155558132",
      "pull_request_review_id": 81882149,
      "id": 155558132,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTU1ODEzMg==",
      "diff_hunk": "@@ -422,3 +422,14 @@ bool DummySignatureCreator::CreateSig(std::vector<unsigned char>& vchSig, const\n     vchSig[6 + 33 + 32] = SIGHASH_ALL;\n     return true;\n }\n+\n+bool IsSolvable(const CKeyStore& store, const CScript& script)\n+{\n+    // This check is to make sure that the script we created can actually be solved for and signed by us\n+    // if we were to have the private keys. This is just to make sure that the script is valid and that,\n+    // if found in a transaction, we would still accept and relay that transaction. In particular,\n+    // it will reject witness outputs that require signing with an uncompressed public key.\n+    DummySignatureCreator creator(&store);\n+    SignatureData sigs;\n+    return (ProduceSignature(creator, script, sigs) && VerifyScript(sigs.scriptSig, script, &sigs.scriptWitness, MANDATORY_SCRIPT_VERIFY_FLAGS | SCRIPT_VERIFY_WITNESS_PUBKEYTYPE, creator.Checker()));",
      "path": "src/script/sign.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "3e2d5aa9a4694586a561f0e1b2ec3cc32981ba24",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This seems like we're gonna forget to update these flags in the future. Any reason to not switch to STANDARD_SCRIPT_VERIFY_FLAGS?",
      "created_at": "2017-12-07T15:45:37Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155558132",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155558132"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 434,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155599383",
      "pull_request_review_id": 81882149,
      "id": 155599383,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTU5OTM4Mw==",
      "diff_hunk": "@@ -188,8 +196,11 @@ UniValue validateaddress(const JSONRPCRequest& request)\n         }\n         if (pwallet) {\n             const auto& meta = pwallet->mapKeyMetadata;\n-            const CKeyID *keyID = boost::get<CKeyID>(&dest);\n-            auto it = keyID ? meta.find(*keyID) : meta.end();\n+            CKeyID key = GetKeyForDestination(*pwallet, dest);\n+            auto it = meta.end();",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 29,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "90046fe3b9ec63783eab205302d0feac6ee00254",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It kinda really sucks that we use mapKeyMetadata for metadata for both P2SH scripts and pubkeyhash scripts, with a key of CTxDestination which could contain a WitnessV0ScriptHash or WitnessV0KeyHash. It'd be kinda nice to split it and have a mapWatchScriptsMetadata which uses a CScriptID and a mapKeyMetadata which uses a CKeyID, then we'd get nice type-safety to ensure no one breaks this in the future and its pretty easy to just split them at disk-read/write time so it shouldn't change the on-disk format.",
      "created_at": "2017-12-07T18:16:30Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155599383",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155599383"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 226,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155599720",
      "pull_request_review_id": 81882149,
      "id": 155599720,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTU5OTcyMA==",
      "diff_hunk": "@@ -145,6 +152,7 @@ UniValue validateaddress(const JSONRPCRequest& request)\n             \"    ]\\n\"\n             \"  \\\"sigsrequired\\\" : xxxxx        (numeric, optional) Number of signatures required to spend multisig output\\n\"\n             \"  \\\"pubkey\\\" : \\\"publickeyhex\\\",    (string) The hex value of the raw public key\\n\"\n+            \"  \\\"embedded\\\" : {...},           (object, optional) validateaddress output for the address embedded in P2SH, if any\\n\"",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 18,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "90046fe3b9ec63783eab205302d0feac6ee00254",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This is wrong - it doesn't contain the full validateaddress output, only a subset thereof. eg ismine, iswatchonly, account, hdkeypath, hdmasterkeyid, etc are all always missing. Of course many of those could optionally be missing anyway, which should be added to existing docs, but this just seems highly misleading.",
      "created_at": "2017-12-07T18:17:57Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155599720",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155599720"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 155,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155607178",
      "pull_request_review_id": 81882149,
      "id": 155607178,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTYwNzE3OA==",
      "diff_hunk": "@@ -145,6 +152,7 @@ UniValue validateaddress(const JSONRPCRequest& request)\n             \"    ]\\n\"\n             \"  \\\"sigsrequired\\\" : xxxxx        (numeric, optional) Number of signatures required to spend multisig output\\n\"\n             \"  \\\"pubkey\\\" : \\\"publickeyhex\\\",    (string) The hex value of the raw public key\\n\"\n+            \"  \\\"embedded\\\" : {...},           (object, optional) validateaddress output for the address embedded in P2SH, if any\\n\"",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 18,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "90046fe3b9ec63783eab205302d0feac6ee00254",
      "in_reply_to_id": 155599720,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Oh, also, this needs a test.",
      "created_at": "2017-12-07T18:47:50Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155607178",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155607178"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 155,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155607235",
      "pull_request_review_id": 81882149,
      "id": 155607235,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTYwNzIzNQ==",
      "diff_hunk": "@@ -246,12 +246,12 @@ CScript _createmultisig_redeemScript(CWallet * const pwallet, const UniValue& pa\n         // Case 1: Bitcoin address and we have full public key:\n         CTxDestination dest = DecodeDestination(ks);\n         if (pwallet && IsValidDestination(dest)) {\n-            const CKeyID *keyID = boost::get<CKeyID>(&dest);\n-            if (!keyID) {\n+            auto key = GetKeyForDestination(*pwallet, dest);",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "5a36cba99a4738063d486caac620d0dab6648ef9",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This should get a test (and should be easy to do).",
      "created_at": "2017-12-07T18:48:03Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155607235",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155607235"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 283,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155607557",
      "pull_request_review_id": 81882149,
      "id": 155607557,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTYwNzU1Nw==",
      "diff_hunk": "@@ -35,7 +35,7 @@ def initialize(self, base_block):\n         self.vtx = copy.deepcopy(base_block.vtx)\n         self.hashMerkleRoot = self.calc_merkle_root()\n \n-    def serialize(self):\n+    def serialize(self, with_witness=True):",
      "path": "test/functional/p2p-fullblocktest.py",
      "position": null,
      "original_position": 5,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "53fdb41a0b19523ea8e32633e8a76a3b96919229",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Errr, dont you need to *do* something with with_witness?",
      "created_at": "2017-12-07T18:49:14Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155607557",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155607557"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 38,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155608817",
      "pull_request_review_id": 81882149,
      "id": 155608817,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTYwODgxNw==",
      "diff_hunk": "@@ -583,7 +583,7 @@ def serialize(self, with_witness=False):\n         if with_witness:\n             r += ser_vector(self.vtx, \"serialize_with_witness\")\n         else:\n-            r += ser_vector(self.vtx)\n+            r += ser_vector(self.vtx, \"serialize_without_witness\")",
      "path": "test/functional/test_framework/messages.py",
      "position": 28,
      "original_position": 28,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "53fdb41a0b19523ea8e32633e8a76a3b96919229",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Seems weird to keep CBlock default as non-witness when changing transaction default? Maybe @MarcoFalke or @jnewbery have an opinion?",
      "created_at": "2017-12-07T18:54:00Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155608817",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155608817"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 571,
      "original_line": 571,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155628707",
      "pull_request_review_id": 81980100,
      "id": 155628707,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTYyODcwNw==",
      "diff_hunk": "@@ -73,8 +73,21 @@ class CNoDestination {\n     friend bool operator<(const CNoDestination &a, const CNoDestination &b) { return true; }\n };\n \n-struct WitnessV0ScriptHash : public uint256 {};\n-struct WitnessV0KeyHash : public uint160 {};\n+struct WitnessV0ScriptHash : public uint256\n+{\n+public:",
      "path": "src/script/standard.h",
      "position": null,
      "original_position": 8,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "7cf2eea1ebd76fbbe25b7a4bbabf9cc1df7b72eb",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"Improve witness destination types and use them more\"\r\n\r\nCould drop `public:` since this is a struct, or `s/struct/class/` since parent is a class (also for `WitnessV0KeyHash`).",
      "created_at": "2017-12-07T20:14:49Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155628707",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155628707"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 78,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155663435",
      "pull_request_review_id": 81882149,
      "id": 155663435,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTY2MzQzNQ==",
      "diff_hunk": "@@ -15,6 +15,8 @@\n std::string GetWalletHelpString(bool showDebug)\n {\n     std::string strUsage = HelpMessageGroup(_(\"Wallet options:\"));\n+    strUsage += HelpMessageOpt(\"-addresstype\", strprintf(_(\"What type of addresses to use (\\\"legacy\\\", \\\"p2sh\\\", \\\"bech32\\\", default: \\\"%s\\\")\"), FormatOutputType(OUTPUT_TYPE_DEFAULT)));\n+    strUsage += HelpMessageOpt(\"-changetype\", strprintf(_(\"What type of change to use (\\\"legacy\\\", \\\"p2sh\\\", \\\"bech32\\\", default is same as -addressstyle: \\\"%s\\\")\"), FormatOutputType(g_address_type)));",
      "path": "src/wallet/init.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "b088ab65407346408ed45fdad637e54c591eb348",
      "in_reply_to_id": 154329194,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The defaults here are a mess - g_address_type is initialized to a constant (OUTPUT_TYPE_P2SH) and not OUTPUT_TYPE_DEFAULT, which would make sense since we want them tied together by default. I think you should default them both to OUTPUT_TYPE_NONE, cause it'd be an error for WalletParameterInteraction to not get run, and then refer to OUTPUT_TYPE_DEFAULT everywhere as the default value, then not have a default argument in ParseOutputType if its gonna return _NONE on error anyway and just default the argument to FormatOutputType(OUTPUT_TYPE_DEFAULT).",
      "created_at": "2017-12-07T22:47:45Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155663435",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155663435"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 19,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155663886",
      "pull_request_review_id": 81882149,
      "id": 155663886,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTY2Mzg4Ng==",
      "diff_hunk": "@@ -645,10 +645,10 @@ void PaymentServer::fetchPaymentACK(CWallet* wallet, const SendCoinsRecipient& r\n     else {\n         CPubKey newKey;\n         if (wallet->GetKeyFromPool(newKey)) {\n-            CKeyID keyID = newKey.GetID();\n-            wallet->SetAddressBook(keyID, strAccount, \"refund\");\n+            CTxDestination dest = wallet->GetDestinationForKey(newKey, g_address_type);",
      "path": "src/qt/paymentserver.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "210e90fcbfda39eee5e3119a7a0637813dccb83e",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Shouldnt this really be g_change_type since its not a script that is expected to be expressed anywhere in address form?",
      "created_at": "2017-12-07T22:50:18Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155663886",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155663886"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 648,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155665399",
      "pull_request_review_id": 81882149,
      "id": 155665399,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTY2NTM5OQ==",
      "diff_hunk": "@@ -4124,3 +4127,97 @@ bool CWalletTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     fInMempool = ret;\n     return ret;\n }\n+\n+static const std::string OUTPUT_TYPE_STRING_LEGACY = \"legacy\";\n+static const std::string OUTPUT_TYPE_STRING_P2SH = \"p2sh\";\n+static const std::string OUTPUT_TYPE_STRING_BECH32 = \"bech32\";\n+\n+OutputType ParseOutputType(const std::string& type, OutputType default_type)\n+{\n+    if (type == \"\") {\n+        return default_type;\n+    } else if (type == OUTPUT_TYPE_STRING_LEGACY) {\n+        return OUTPUT_TYPE_LEGACY;\n+    } else if (type == OUTPUT_TYPE_STRING_P2SH) {\n+        return OUTPUT_TYPE_P2SH;\n+    } else if (type == OUTPUT_TYPE_STRING_BECH32) {\n+        return OUTPUT_TYPE_BECH32;\n+    } else {\n+        return OUTPUT_TYPE_NONE;\n+    }\n+}\n+\n+\n+const std::string& FormatOutputType(OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return OUTPUT_TYPE_STRING_LEGACY;\n+    case OUTPUT_TYPE_P2SH: return OUTPUT_TYPE_STRING_P2SH;\n+    case OUTPUT_TYPE_BECH32: return OUTPUT_TYPE_STRING_BECH32;\n+    default: assert(false);\n+    }\n+}\n+\n+std::vector<CTxDestination> CWallet::GetAllDestinationsForKey(const CPubKey& key)\n+{\n+    CKeyID keyid = key.GetID();\n+    if (key.IsCompressed()) {\n+        CTxDestination segwit = WitnessV0KeyHash(keyid);\n+        CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+        return std::vector<CTxDestination>{std::move(keyid), std::move(p2sh), std::move(segwit)};\n+    } else {\n+        return std::vector<CTxDestination>{std::move(keyid)};\n+    }\n+}\n+\n+CTxDestination CWallet::GetDestinationForKey(const CPubKey& key, OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return key.GetID();\n+    case OUTPUT_TYPE_P2SH:\n+    case OUTPUT_TYPE_BECH32: {\n+        CTxDestination witdest = WitnessV0KeyHash(key.GetID());\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(*this, witprog)) return key.GetID();\n+        // Even though CBasicKeyStore knows about P2WPKH redeemscripts implicitly, add it explicitly\n+        // so that downgrades to software without this are supported (as long as the wallet file is\n+        // up to date).\n+        AddCScript(witprog);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 104,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e2e9ead25fe0ddb364e35f8eabb5a7f937d3973b",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Hmm, can we avoid making this a db write if we already have the script in the wallet explicitly somehow?",
      "created_at": "2017-12-07T22:58:36Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155665399",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155665399"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4198,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155665858",
      "pull_request_review_id": 81882149,
      "id": 155665858,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTY2NTg1OA==",
      "diff_hunk": "@@ -4124,3 +4127,97 @@ bool CWalletTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     fInMempool = ret;\n     return ret;\n }\n+\n+static const std::string OUTPUT_TYPE_STRING_LEGACY = \"legacy\";\n+static const std::string OUTPUT_TYPE_STRING_P2SH = \"p2sh\";\n+static const std::string OUTPUT_TYPE_STRING_BECH32 = \"bech32\";\n+\n+OutputType ParseOutputType(const std::string& type, OutputType default_type)\n+{\n+    if (type == \"\") {\n+        return default_type;\n+    } else if (type == OUTPUT_TYPE_STRING_LEGACY) {\n+        return OUTPUT_TYPE_LEGACY;\n+    } else if (type == OUTPUT_TYPE_STRING_P2SH) {\n+        return OUTPUT_TYPE_P2SH;\n+    } else if (type == OUTPUT_TYPE_STRING_BECH32) {\n+        return OUTPUT_TYPE_BECH32;\n+    } else {\n+        return OUTPUT_TYPE_NONE;\n+    }\n+}\n+\n+\n+const std::string& FormatOutputType(OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return OUTPUT_TYPE_STRING_LEGACY;\n+    case OUTPUT_TYPE_P2SH: return OUTPUT_TYPE_STRING_P2SH;\n+    case OUTPUT_TYPE_BECH32: return OUTPUT_TYPE_STRING_BECH32;\n+    default: assert(false);\n+    }\n+}\n+\n+std::vector<CTxDestination> CWallet::GetAllDestinationsForKey(const CPubKey& key)\n+{\n+    CKeyID keyid = key.GetID();\n+    if (key.IsCompressed()) {\n+        CTxDestination segwit = WitnessV0KeyHash(keyid);\n+        CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+        return std::vector<CTxDestination>{std::move(keyid), std::move(p2sh), std::move(segwit)};\n+    } else {\n+        return std::vector<CTxDestination>{std::move(keyid)};\n+    }\n+}\n+\n+CTxDestination CWallet::GetDestinationForKey(const CPubKey& key, OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return key.GetID();\n+    case OUTPUT_TYPE_P2SH:\n+    case OUTPUT_TYPE_BECH32: {\n+        CTxDestination witdest = WitnessV0KeyHash(key.GetID());\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(*this, witprog)) return key.GetID();\n+        // Even though CBasicKeyStore knows about P2WPKH redeemscripts implicitly, add it explicitly\n+        // so that downgrades to software without this are supported (as long as the wallet file is\n+        // up to date).\n+        AddCScript(witprog);\n+        if (type == OUTPUT_TYPE_P2SH) {\n+            return CScriptID(witprog);\n+        } else {\n+            return witdest;\n+        }\n+    }\n+    default: assert(false);\n+    }\n+}\n+\n+CTxDestination CWallet::GetDestinationForScript(const CScript& script, OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY:\n+    case OUTPUT_TYPE_P2SH:\n+        return CScriptID(script);\n+    case OUTPUT_TYPE_BECH32: {\n+        CTxDestination witdest = WitnessV0ScriptHash(Hash(script.begin(), script.end()));\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(*this, witprog)) return CScriptID(script);\n+        // Add the redeemscript, so that P2WSH and P2SH-P2WSH outputs are recognized as ours.\n+        AddCScript(witprog);",
      "path": "src/wallet/wallet.cpp",
      "position": 162,
      "original_position": 127,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e2e9ead25fe0ddb364e35f8eabb5a7f937d3973b",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This enforces redeemScript being no larger than 520 bytes, which is somewhat strange. I *think* its fine cause its all checked for at higher (read: RPC) layers, but its something to note that we dont (yet) support larger P2WSH redeemScripts. To do so we probably need to bump wallet minversion to avoid confusing old versions why we have scripts larger than 520 bytes in the wallet.",
      "created_at": "2017-12-07T23:01:06Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155665858",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155665858"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 4237,
      "original_line": 4222,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155667603",
      "pull_request_review_id": 81882149,
      "id": 155667603,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTY2NzYwMw==",
      "diff_hunk": "@@ -1048,6 +1050,7 @@ bool CWallet::AddToWalletIfInvolvingMe(const CTransactionRef& ptx, const CBlockI\n                     std::map<CKeyID, int64_t>::const_iterator mi = m_pool_key_to_index.find(keyid);\n                     if (mi != m_pool_key_to_index.end()) {\n                         LogPrintf(\"%s: Detected a used keypool key, mark all keypool key up to this key as used\\n\", __func__);\n+                        AddRelatedScripts(mi->first);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 31,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e2e9ead25fe0ddb364e35f8eabb5a7f937d3973b",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why not check if it was actually affected in segwit form before doing this? We only otherwise AddCScript if we are getting the segwit version of an address.",
      "created_at": "2017-12-07T23:11:05Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155667603",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155667603"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1053,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155821355",
      "pull_request_review_id": 81980100,
      "id": 155821355,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTgyMTM1NQ==",
      "diff_hunk": "@@ -73,8 +73,21 @@ class CNoDestination {\n     friend bool operator<(const CNoDestination &a, const CNoDestination &b) { return true; }\n };\n \n-struct WitnessV0ScriptHash : public uint256 {};\n-struct WitnessV0KeyHash : public uint160 {};\n+struct WitnessV0ScriptHash : public uint256\n+{\n+public:\n+    WitnessV0ScriptHash() : uint256() {}\n+    WitnessV0ScriptHash(const uint256& hash) : uint256(hash) {}\n+    using uint256::uint256;\n+};\n+\n+struct WitnessV0KeyHash : public uint160",
      "path": "src/script/standard.h",
      "position": null,
      "original_position": 14,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "7cf2eea1ebd76fbbe25b7a4bbabf9cc1df7b72eb",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"Improve witness destination types and use them more\"\r\n\r\nShould this inherit from CKeyID instead of uint160?\r\n\r\nAlso, would it make sense as a followup to replace `CKeyID` and `CScriptID` in the destination variant with `NonWitnessKeyHash` and `NonWitnessScriptHash` types for better type checking and more consistency between old and new destinations?",
      "created_at": "2017-12-08T16:44:36Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155821355",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155821355"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 83,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155825668",
      "pull_request_review_id": 81980100,
      "id": 155825668,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTgyNTY2OA==",
      "diff_hunk": "@@ -73,8 +73,21 @@ class CNoDestination {\n     friend bool operator<(const CNoDestination &a, const CNoDestination &b) { return true; }\n };\n \n-struct WitnessV0ScriptHash : public uint256 {};\n-struct WitnessV0KeyHash : public uint160 {};\n+struct WitnessV0ScriptHash : public uint256\n+{\n+public:\n+    WitnessV0ScriptHash() : uint256() {}\n+    WitnessV0ScriptHash(const uint256& hash) : uint256(hash) {}",
      "path": "src/script/standard.h",
      "position": null,
      "original_position": 10,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "7cf2eea1ebd76fbbe25b7a4bbabf9cc1df7b72eb",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"Improve witness destination types and use them more\":\r\n\r\nShould probably declare this `explicit` for better type checking (also for `WitnessV0KeyHash`).",
      "created_at": "2017-12-08T17:04:25Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155825668",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155825668"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 80,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155852506",
      "pull_request_review_id": 81980100,
      "id": 155852506,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTg1MjUwNg==",
      "diff_hunk": "@@ -188,8 +196,11 @@ UniValue validateaddress(const JSONRPCRequest& request)\n         }\n         if (pwallet) {\n             const auto& meta = pwallet->mapKeyMetadata;\n-            const CKeyID *keyID = boost::get<CKeyID>(&dest);\n-            auto it = keyID ? meta.find(*keyID) : meta.end();\n+            CKeyID key = GetKeyForDestination(*pwallet, dest);\n+            auto it = meta.end();",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 29,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "90046fe3b9ec63783eab205302d0feac6ee00254",
      "in_reply_to_id": 155599383,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "https://github.com/bitcoin/bitcoin/pull/11403/files#r155599383\r\n\r\n> It kinda really sucks that we use mapKeyMetadata for metadata for both P2SH scripts and pubkeyhash scripts\r\n\r\nI addressed this in #11854. It does conflict with this PR but the changes are easy to reconcile, so there's not much dependency, and no need to change anything here I think.",
      "created_at": "2017-12-08T19:12:11Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155852506",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155852506"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 226,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155863094",
      "pull_request_review_id": 81980100,
      "id": 155863094,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTg2MzA5NA==",
      "diff_hunk": "@@ -13,6 +13,22 @@ bool CKeyStore::AddKey(const CKey &key) {\n     return AddKeyPubKey(key, key.GetPubKey());\n }\n \n+void CBasicKeyStore::AddRelatedKeyScripts(const CPubKey& pubkey)\n+{\n+    AssertLockHeld(cs_KeyStore);\n+    // This adds the redeemscripts necessary to detect P2WPKH and P2SH-P2WPKH\n+    // outputs. Technically P2WPKH outputs don't have a redeemscript to be\n+    // spent. However, our current IsMine logic requires the corresponding\n+    // P2SH-P2WPKH redeemscript to be present in the wallet in order to accept\n+    // payment even to P2WPKH outputs.\n+    if (pubkey.IsCompressed()) {\n+        CScript script = CScript() << OP_0 << ToByteVector(pubkey.GetID());",
      "path": "src/keystore.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "da32d5097b306364dc89ae54cd54b6be82353a48",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"Implicitly know about P2WPKH redeemscripts\"\r\n\r\nSeems like you could use GetScriptForDestination here like you do in CWallet::AddRelatedScripts? Or is there a reason why it is better there but not here?",
      "created_at": "2017-12-08T20:01:10Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155863094",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155863094"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 25,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155868135",
      "pull_request_review_id": 81980100,
      "id": 155868135,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTg2ODEzNQ==",
      "diff_hunk": "@@ -1050,6 +1050,7 @@ bool CWallet::AddToWalletIfInvolvingMe(const CTransactionRef& ptx, const CBlockI\n                     std::map<CKeyID, int64_t>::const_iterator mi = m_pool_key_to_index.find(keyid);\n                     if (mi != m_pool_key_to_index.end()) {\n                         LogPrintf(\"%s: Detected a used keypool key, mark all keypool key up to this key as used\\n\", __func__);\n+                        AddRelatedScripts(mi->first);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "cb6cd672f412a92aabfcaa4c46b5fd00b1e644a2",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"Support downgrading after recovered keypool witness keys\"\r\n\r\nSince we know the CPubKey (and are already looking it up in the next line), could this just call the CKeyStore::AddRelatedKeyScripts() method instead of requiring a new CWallet::AddRelatedScripts() method? It would be helpful to have an explanatory comment here whatever the answer is. And maybe the names of the methods could be made more distinct.",
      "created_at": "2017-12-08T20:25:19Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155868135",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155868135"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1053,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155869762",
      "pull_request_review_id": 81980100,
      "id": 155869762,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTg2OTc2Mg==",
      "diff_hunk": "@@ -4124,3 +4126,88 @@ bool CWalletTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     fInMempool = ret;\n     return ret;\n }\n+\n+static const std::string OUTPUT_TYPE_STRING_LEGACY = \"legacy\";\n+static const std::string OUTPUT_TYPE_STRING_P2SH = \"p2sh\";\n+static const std::string OUTPUT_TYPE_STRING_BECH32 = \"bech32\";\n+\n+OutputType ParseOutputType(const std::string& type, OutputType default_type)\n+{\n+    if (type == \"\") {\n+        return default_type;\n+    } else if (type == OUTPUT_TYPE_STRING_LEGACY) {\n+        return OUTPUT_TYPE_LEGACY;\n+    } else if (type == OUTPUT_TYPE_STRING_P2SH) {\n+        return OUTPUT_TYPE_P2SH;\n+    } else if (type == OUTPUT_TYPE_STRING_BECH32) {\n+        return OUTPUT_TYPE_BECH32;\n+    } else {\n+        return OUTPUT_TYPE_NONE;\n+    }\n+}\n+\n+\n+const std::string& FormatOutputType(OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return OUTPUT_TYPE_STRING_LEGACY;\n+    case OUTPUT_TYPE_P2SH: return OUTPUT_TYPE_STRING_P2SH;\n+    case OUTPUT_TYPE_BECH32: return OUTPUT_TYPE_STRING_BECH32;\n+    default: assert(false);\n+    }\n+}\n+\n+std::vector<CTxDestination> CWallet::GetAllDestinationsForKey(const CPubKey& key)",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 71,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "210e90fcbfda39eee5e3119a7a0637813dccb83e",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"SegWit wallet support\"\r\n\r\nSeems like this could be a standalone method rather than a wallet or keystore method. Should probably at least make it static, if not moved out of the wallet entirely.",
      "created_at": "2017-12-08T20:33:47Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155869762",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155869762"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4160,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155870014",
      "pull_request_review_id": 81980100,
      "id": 155870014,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTg3MDAxNA==",
      "diff_hunk": "@@ -4124,3 +4126,88 @@ bool CWalletTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     fInMempool = ret;\n     return ret;\n }\n+\n+static const std::string OUTPUT_TYPE_STRING_LEGACY = \"legacy\";\n+static const std::string OUTPUT_TYPE_STRING_P2SH = \"p2sh\";\n+static const std::string OUTPUT_TYPE_STRING_BECH32 = \"bech32\";\n+\n+OutputType ParseOutputType(const std::string& type, OutputType default_type)\n+{\n+    if (type == \"\") {\n+        return default_type;\n+    } else if (type == OUTPUT_TYPE_STRING_LEGACY) {\n+        return OUTPUT_TYPE_LEGACY;\n+    } else if (type == OUTPUT_TYPE_STRING_P2SH) {\n+        return OUTPUT_TYPE_P2SH;\n+    } else if (type == OUTPUT_TYPE_STRING_BECH32) {\n+        return OUTPUT_TYPE_BECH32;\n+    } else {\n+        return OUTPUT_TYPE_NONE;\n+    }\n+}\n+\n+\n+const std::string& FormatOutputType(OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return OUTPUT_TYPE_STRING_LEGACY;\n+    case OUTPUT_TYPE_P2SH: return OUTPUT_TYPE_STRING_P2SH;\n+    case OUTPUT_TYPE_BECH32: return OUTPUT_TYPE_STRING_BECH32;\n+    default: assert(false);\n+    }\n+}\n+\n+std::vector<CTxDestination> CWallet::GetAllDestinationsForKey(const CPubKey& key)\n+{\n+    CKeyID keyid = key.GetID();\n+    if (key.IsCompressed()) {\n+        CTxDestination segwit = WitnessV0KeyHash(keyid);\n+        CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+        return std::vector<CTxDestination>{std::move(keyid), std::move(p2sh), std::move(segwit)};\n+    } else {\n+        return std::vector<CTxDestination>{std::move(keyid)};\n+    }\n+}\n+\n+CTxDestination CWallet::GetDestinationForKey(const CPubKey& key, OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return key.GetID();\n+    case OUTPUT_TYPE_P2SH:\n+    case OUTPUT_TYPE_BECH32: {\n+        CTxDestination witdest = WitnessV0KeyHash(key.GetID());\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 91,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "210e90fcbfda39eee5e3119a7a0637813dccb83e",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"SegWit wallet support\"\r\n\r\nCould the comment be expanded to say what else this is checking for besides the uncompressed key? The key is available so obviously that could be checked directly. And the code above in GetAllDestinationsForKey is actually just calling IsCompressed(), so it'd be good to say why doing that isn't sufficient here.\r\n\r\n",
      "created_at": "2017-12-08T20:35:04Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155870014",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155870014"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4193,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155889073",
      "pull_request_review_id": 81980100,
      "id": 155889073,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTg4OTA3Mw==",
      "diff_hunk": "@@ -4124,3 +4126,88 @@ bool CWalletTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     fInMempool = ret;\n     return ret;\n }\n+\n+static const std::string OUTPUT_TYPE_STRING_LEGACY = \"legacy\";\n+static const std::string OUTPUT_TYPE_STRING_P2SH = \"p2sh\";\n+static const std::string OUTPUT_TYPE_STRING_BECH32 = \"bech32\";\n+\n+OutputType ParseOutputType(const std::string& type, OutputType default_type)\n+{\n+    if (type == \"\") {\n+        return default_type;\n+    } else if (type == OUTPUT_TYPE_STRING_LEGACY) {\n+        return OUTPUT_TYPE_LEGACY;\n+    } else if (type == OUTPUT_TYPE_STRING_P2SH) {\n+        return OUTPUT_TYPE_P2SH;\n+    } else if (type == OUTPUT_TYPE_STRING_BECH32) {\n+        return OUTPUT_TYPE_BECH32;\n+    } else {\n+        return OUTPUT_TYPE_NONE;\n+    }\n+}\n+\n+\n+const std::string& FormatOutputType(OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return OUTPUT_TYPE_STRING_LEGACY;\n+    case OUTPUT_TYPE_P2SH: return OUTPUT_TYPE_STRING_P2SH;\n+    case OUTPUT_TYPE_BECH32: return OUTPUT_TYPE_STRING_BECH32;\n+    default: assert(false);\n+    }\n+}\n+\n+std::vector<CTxDestination> CWallet::GetAllDestinationsForKey(const CPubKey& key)\n+{\n+    CKeyID keyid = key.GetID();\n+    if (key.IsCompressed()) {\n+        CTxDestination segwit = WitnessV0KeyHash(keyid);\n+        CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+        return std::vector<CTxDestination>{std::move(keyid), std::move(p2sh), std::move(segwit)};\n+    } else {\n+        return std::vector<CTxDestination>{std::move(keyid)};\n+    }\n+}\n+\n+CTxDestination CWallet::GetDestinationForKey(const CPubKey& key, OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return key.GetID();\n+    case OUTPUT_TYPE_P2SH:\n+    case OUTPUT_TYPE_BECH32: {\n+        CTxDestination witdest = WitnessV0KeyHash(key.GetID());\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(*this, witprog)) return key.GetID();\n+        // Even though CBasicKeyStore knows about P2WPKH redeemscripts implicitly, add it explicitly\n+        // so that downgrades to software without this are supported (as long as the wallet file is\n+        // up to date).\n+        AddCScript(witprog);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 96,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "210e90fcbfda39eee5e3119a7a0637813dccb83e",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"SegWit wallet support\"\r\n\r\nAs brought up previously https://github.com/bitcoin/bitcoin/pull/11403#discussion_r145274394, this seems really ugly. Having GetDestinationForKey/GetDestinationForScript methods write to the wallet database when all you would expect them to do is get the address of a key or script doesn't seem safe or untuitive.\r\n\r\nIt seems like it would be better if the callers were responsible for adding CScripts. Since most callers are just calling GetDestinationForKey after reserving keys, I think if you added the CScripts in CWallet::ReserveKeyFromKeyPool it would take care of most of them.\r\n\r\nIf that isn't sufficien,t maybe there is some way to rename or wrap these methods so it is clear the calls are intended to actually update the database, rather than just compute addresses.",
      "created_at": "2017-12-08T22:19:45Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155889073",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155889073"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4198,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155995479",
      "pull_request_review_id": 82401291,
      "id": 155995479,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTk5NTQ3OQ==",
      "diff_hunk": "@@ -645,10 +645,10 @@ void PaymentServer::fetchPaymentACK(CWallet* wallet, const SendCoinsRecipient& r\n     else {\n         CPubKey newKey;\n         if (wallet->GetKeyFromPool(newKey)) {\n-            CKeyID keyID = newKey.GetID();\n-            wallet->SetAddressBook(keyID, strAccount, \"refund\");\n+            CTxDestination dest = wallet->GetDestinationForKey(newKey, g_address_type);",
      "path": "src/qt/paymentserver.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "210e90fcbfda39eee5e3119a7a0637813dccb83e",
      "in_reply_to_id": 155663886,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Good point. Fixed, and added a comment.",
      "created_at": "2017-12-11T07:07:13Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155995479",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155995479"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 648,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155995543",
      "pull_request_review_id": 82401355,
      "id": 155995543,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTk5NTU0Mw==",
      "diff_hunk": "@@ -246,12 +246,12 @@ CScript _createmultisig_redeemScript(CWallet * const pwallet, const UniValue& pa\n         // Case 1: Bitcoin address and we have full public key:\n         CTxDestination dest = DecodeDestination(ks);\n         if (pwallet && IsValidDestination(dest)) {\n-            const CKeyID *keyID = boost::get<CKeyID>(&dest);\n-            if (!keyID) {\n+            auto key = GetKeyForDestination(*pwallet, dest);",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "5a36cba99a4738063d486caac620d0dab6648ef9",
      "in_reply_to_id": 155607235,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This is now tested in `address_types.py`.",
      "created_at": "2017-12-11T07:07:35Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155995543",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155995543"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 283,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155995687",
      "pull_request_review_id": 82401493,
      "id": 155995687,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTk5NTY4Nw==",
      "diff_hunk": "@@ -145,6 +152,7 @@ UniValue validateaddress(const JSONRPCRequest& request)\n             \"    ]\\n\"\n             \"  \\\"sigsrequired\\\" : xxxxx        (numeric, optional) Number of signatures required to spend multisig output\\n\"\n             \"  \\\"pubkey\\\" : \\\"publickeyhex\\\",    (string) The hex value of the raw public key\\n\"\n+            \"  \\\"embedded\\\" : {...},           (object, optional) validateaddress output for the address embedded in P2SH, if any\\n\"",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 18,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "90046fe3b9ec63783eab205302d0feac6ee00254",
      "in_reply_to_id": 155599720,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed. I've also expanded the `validateaddress` output for P2WSH, simplified the implementation, and added comments.",
      "created_at": "2017-12-11T07:08:47Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155995687",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155995687"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 155,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155995721",
      "pull_request_review_id": 82401539,
      "id": 155995721,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTk5NTcyMQ==",
      "diff_hunk": "@@ -188,8 +196,11 @@ UniValue validateaddress(const JSONRPCRequest& request)\n         }\n         if (pwallet) {\n             const auto& meta = pwallet->mapKeyMetadata;\n-            const CKeyID *keyID = boost::get<CKeyID>(&dest);\n-            auto it = keyID ? meta.find(*keyID) : meta.end();\n+            CKeyID key = GetKeyForDestination(*pwallet, dest);\n+            auto it = meta.end();",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 29,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "90046fe3b9ec63783eab205302d0feac6ee00254",
      "in_reply_to_id": 155599383,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Let's improve that outside of this PR.",
      "created_at": "2017-12-11T07:09:08Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155995721",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155995721"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 226,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155995748",
      "pull_request_review_id": 82401560,
      "id": 155995748,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTk5NTc0OA==",
      "diff_hunk": "@@ -422,3 +422,14 @@ bool DummySignatureCreator::CreateSig(std::vector<unsigned char>& vchSig, const\n     vchSig[6 + 33 + 32] = SIGHASH_ALL;\n     return true;\n }\n+\n+bool IsSolvable(const CKeyStore& store, const CScript& script)\n+{\n+    // This check is to make sure that the script we created can actually be solved for and signed by us\n+    // if we were to have the private keys. This is just to make sure that the script is valid and that,\n+    // if found in a transaction, we would still accept and relay that transaction. In particular,\n+    // it will reject witness outputs that require signing with an uncompressed public key.\n+    DummySignatureCreator creator(&store);\n+    SignatureData sigs;\n+    return (ProduceSignature(creator, script, sigs) && VerifyScript(sigs.scriptSig, script, &sigs.scriptWitness, MANDATORY_SCRIPT_VERIFY_FLAGS | SCRIPT_VERIFY_WITNESS_PUBKEYTYPE, creator.Checker()));",
      "path": "src/script/sign.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "3e2d5aa9a4694586a561f0e1b2ec3cc32981ba24",
      "in_reply_to_id": 155558132,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed, and added a static_assert.",
      "created_at": "2017-12-11T07:09:25Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155995748",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155995748"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 434,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155995760",
      "pull_request_review_id": 82401573,
      "id": 155995760,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTk5NTc2MA==",
      "diff_hunk": "@@ -81,4 +81,9 @@ SignatureData CombineSignatures(const CScript& scriptPubKey, const BaseSignature\n SignatureData DataFromTransaction(const CMutableTransaction& tx, unsigned int nIn);\n void UpdateTransaction(CMutableTransaction& tx, unsigned int nIn, const SignatureData& data);\n \n+/* Check whether we know how to sign for an output like this, assuming we\n+ * have all private keys. This is unrelated to whether we consider this\n+ * output to be ours. */",
      "path": "src/script/sign.h",
      "position": null,
      "original_position": 6,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "3e2d5aa9a4694586a561f0e1b2ec3cc32981ba24",
      "in_reply_to_id": 155546121,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2017-12-11T07:09:32Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155995760",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155995760"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 86,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155995794",
      "pull_request_review_id": 82401601,
      "id": 155995794,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTk5NTc5NA==",
      "diff_hunk": "@@ -1048,6 +1050,7 @@ bool CWallet::AddToWalletIfInvolvingMe(const CTransactionRef& ptx, const CBlockI\n                     std::map<CKeyID, int64_t>::const_iterator mi = m_pool_key_to_index.find(keyid);\n                     if (mi != m_pool_key_to_index.end()) {\n                         LogPrintf(\"%s: Detected a used keypool key, mark all keypool key up to this key as used\\n\", __func__);\n+                        AddRelatedScripts(mi->first);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 31,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e2e9ead25fe0ddb364e35f8eabb5a7f937d3973b",
      "in_reply_to_id": 155667603,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2017-12-11T07:09:51Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155995794",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155995794"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1053,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155995875",
      "pull_request_review_id": 82401684,
      "id": 155995875,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTk5NTg3NQ==",
      "diff_hunk": "@@ -4124,3 +4127,97 @@ bool CWalletTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     fInMempool = ret;\n     return ret;\n }\n+\n+static const std::string OUTPUT_TYPE_STRING_LEGACY = \"legacy\";\n+static const std::string OUTPUT_TYPE_STRING_P2SH = \"p2sh\";\n+static const std::string OUTPUT_TYPE_STRING_BECH32 = \"bech32\";\n+\n+OutputType ParseOutputType(const std::string& type, OutputType default_type)\n+{\n+    if (type == \"\") {\n+        return default_type;\n+    } else if (type == OUTPUT_TYPE_STRING_LEGACY) {\n+        return OUTPUT_TYPE_LEGACY;\n+    } else if (type == OUTPUT_TYPE_STRING_P2SH) {\n+        return OUTPUT_TYPE_P2SH;\n+    } else if (type == OUTPUT_TYPE_STRING_BECH32) {\n+        return OUTPUT_TYPE_BECH32;\n+    } else {\n+        return OUTPUT_TYPE_NONE;\n+    }\n+}\n+\n+\n+const std::string& FormatOutputType(OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return OUTPUT_TYPE_STRING_LEGACY;\n+    case OUTPUT_TYPE_P2SH: return OUTPUT_TYPE_STRING_P2SH;\n+    case OUTPUT_TYPE_BECH32: return OUTPUT_TYPE_STRING_BECH32;\n+    default: assert(false);\n+    }\n+}\n+\n+std::vector<CTxDestination> CWallet::GetAllDestinationsForKey(const CPubKey& key)\n+{\n+    CKeyID keyid = key.GetID();\n+    if (key.IsCompressed()) {\n+        CTxDestination segwit = WitnessV0KeyHash(keyid);\n+        CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+        return std::vector<CTxDestination>{std::move(keyid), std::move(p2sh), std::move(segwit)};\n+    } else {\n+        return std::vector<CTxDestination>{std::move(keyid)};\n+    }\n+}\n+\n+CTxDestination CWallet::GetDestinationForKey(const CPubKey& key, OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return key.GetID();\n+    case OUTPUT_TYPE_P2SH:\n+    case OUTPUT_TYPE_BECH32: {\n+        CTxDestination witdest = WitnessV0KeyHash(key.GetID());\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(*this, witprog)) return key.GetID();\n+        // Even though CBasicKeyStore knows about P2WPKH redeemscripts implicitly, add it explicitly\n+        // so that downgrades to software without this are supported (as long as the wallet file is\n+        // up to date).\n+        AddCScript(witprog);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 104,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e2e9ead25fe0ddb364e35f8eabb5a7f937d3973b",
      "in_reply_to_id": 155665399,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "That seems hard, as we don't distinguish scripts that were added explicitly and implicitly.",
      "created_at": "2017-12-11T07:10:29Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155995875",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155995875"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4198,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155995887",
      "pull_request_review_id": 82401702,
      "id": 155995887,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTk5NTg4Nw==",
      "diff_hunk": "@@ -4124,3 +4127,97 @@ bool CWalletTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     fInMempool = ret;\n     return ret;\n }\n+\n+static const std::string OUTPUT_TYPE_STRING_LEGACY = \"legacy\";\n+static const std::string OUTPUT_TYPE_STRING_P2SH = \"p2sh\";\n+static const std::string OUTPUT_TYPE_STRING_BECH32 = \"bech32\";\n+\n+OutputType ParseOutputType(const std::string& type, OutputType default_type)\n+{\n+    if (type == \"\") {\n+        return default_type;\n+    } else if (type == OUTPUT_TYPE_STRING_LEGACY) {\n+        return OUTPUT_TYPE_LEGACY;\n+    } else if (type == OUTPUT_TYPE_STRING_P2SH) {\n+        return OUTPUT_TYPE_P2SH;\n+    } else if (type == OUTPUT_TYPE_STRING_BECH32) {\n+        return OUTPUT_TYPE_BECH32;\n+    } else {\n+        return OUTPUT_TYPE_NONE;\n+    }\n+}\n+\n+\n+const std::string& FormatOutputType(OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return OUTPUT_TYPE_STRING_LEGACY;\n+    case OUTPUT_TYPE_P2SH: return OUTPUT_TYPE_STRING_P2SH;\n+    case OUTPUT_TYPE_BECH32: return OUTPUT_TYPE_STRING_BECH32;\n+    default: assert(false);\n+    }\n+}\n+\n+std::vector<CTxDestination> CWallet::GetAllDestinationsForKey(const CPubKey& key)\n+{\n+    CKeyID keyid = key.GetID();\n+    if (key.IsCompressed()) {\n+        CTxDestination segwit = WitnessV0KeyHash(keyid);\n+        CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+        return std::vector<CTxDestination>{std::move(keyid), std::move(p2sh), std::move(segwit)};\n+    } else {\n+        return std::vector<CTxDestination>{std::move(keyid)};\n+    }\n+}\n+\n+CTxDestination CWallet::GetDestinationForKey(const CPubKey& key, OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return key.GetID();\n+    case OUTPUT_TYPE_P2SH:\n+    case OUTPUT_TYPE_BECH32: {\n+        CTxDestination witdest = WitnessV0KeyHash(key.GetID());\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(*this, witprog)) return key.GetID();\n+        // Even though CBasicKeyStore knows about P2WPKH redeemscripts implicitly, add it explicitly\n+        // so that downgrades to software without this are supported (as long as the wallet file is\n+        // up to date).\n+        AddCScript(witprog);\n+        if (type == OUTPUT_TYPE_P2SH) {\n+            return CScriptID(witprog);\n+        } else {\n+            return witdest;\n+        }\n+    }\n+    default: assert(false);\n+    }\n+}\n+\n+CTxDestination CWallet::GetDestinationForScript(const CScript& script, OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY:\n+    case OUTPUT_TYPE_P2SH:\n+        return CScriptID(script);\n+    case OUTPUT_TYPE_BECH32: {\n+        CTxDestination witdest = WitnessV0ScriptHash(Hash(script.begin(), script.end()));\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(*this, witprog)) return CScriptID(script);\n+        // Add the redeemscript, so that P2WSH and P2SH-P2WSH outputs are recognized as ours.\n+        AddCScript(witprog);",
      "path": "src/wallet/wallet.cpp",
      "position": 162,
      "original_position": 127,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e2e9ead25fe0ddb364e35f8eabb5a7f937d3973b",
      "in_reply_to_id": 155665858,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Added a comment.",
      "created_at": "2017-12-11T07:10:39Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155995887",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155995887"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 4237,
      "original_line": 4222,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155995906",
      "pull_request_review_id": 82401727,
      "id": 155995906,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTk5NTkwNg==",
      "diff_hunk": "@@ -35,7 +35,7 @@ def initialize(self, base_block):\n         self.vtx = copy.deepcopy(base_block.vtx)\n         self.hashMerkleRoot = self.calc_merkle_root()\n \n-    def serialize(self):\n+    def serialize(self, with_witness=True):",
      "path": "test/functional/p2p-fullblocktest.py",
      "position": null,
      "original_position": 5,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "53fdb41a0b19523ea8e32633e8a76a3b96919229",
      "in_reply_to_id": 155607557,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Good point, fixed.",
      "created_at": "2017-12-11T07:10:48Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155995906",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155995906"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 38,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155995997",
      "pull_request_review_id": 82401829,
      "id": 155995997,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTk5NTk5Nw==",
      "diff_hunk": "@@ -583,7 +583,7 @@ def serialize(self, with_witness=False):\n         if with_witness:\n             r += ser_vector(self.vtx, \"serialize_with_witness\")\n         else:\n-            r += ser_vector(self.vtx)\n+            r += ser_vector(self.vtx, \"serialize_without_witness\")",
      "path": "test/functional/test_framework/messages.py",
      "position": 28,
      "original_position": 28,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "53fdb41a0b19523ea8e32633e8a76a3b96919229",
      "in_reply_to_id": 155608817,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I have no strong opinions, but it was a bit of a pain to make this work. So feel free to suggest a more consistent approach if you find one that works, but I'd rather not try to do this again.",
      "created_at": "2017-12-11T07:11:34Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155995997",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155995997"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 571,
      "original_line": 571,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155996023",
      "pull_request_review_id": 82401851,
      "id": 155996023,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTk5NjAyMw==",
      "diff_hunk": "@@ -13,6 +13,22 @@ bool CKeyStore::AddKey(const CKey &key) {\n     return AddKeyPubKey(key, key.GetPubKey());\n }\n \n+void CBasicKeyStore::AddRelatedKeyScripts(const CPubKey& pubkey)\n+{\n+    AssertLockHeld(cs_KeyStore);\n+    // This adds the redeemscripts necessary to detect P2WPKH and P2SH-P2WPKH\n+    // outputs. Technically P2WPKH outputs don't have a redeemscript to be\n+    // spent. However, our current IsMine logic requires the corresponding\n+    // P2SH-P2WPKH redeemscript to be present in the wallet in order to accept\n+    // payment even to P2WPKH outputs.\n+    if (pubkey.IsCompressed()) {\n+        CScript script = CScript() << OP_0 << ToByteVector(pubkey.GetID());",
      "path": "src/keystore.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "da32d5097b306364dc89ae54cd54b6be82353a48",
      "in_reply_to_id": 155863094,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2017-12-11T07:11:48Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155996023",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155996023"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 25,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155996051",
      "pull_request_review_id": 82401878,
      "id": 155996051,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTk5NjA1MQ==",
      "diff_hunk": "@@ -73,8 +73,21 @@ class CNoDestination {\n     friend bool operator<(const CNoDestination &a, const CNoDestination &b) { return true; }\n };\n \n-struct WitnessV0ScriptHash : public uint256 {};\n-struct WitnessV0KeyHash : public uint160 {};\n+struct WitnessV0ScriptHash : public uint256\n+{\n+public:",
      "path": "src/script/standard.h",
      "position": null,
      "original_position": 8,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "7cf2eea1ebd76fbbe25b7a4bbabf9cc1df7b72eb",
      "in_reply_to_id": 155628707,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2017-12-11T07:12:03Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155996051",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155996051"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 78,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155996067",
      "pull_request_review_id": 82401894,
      "id": 155996067,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTk5NjA2Nw==",
      "diff_hunk": "@@ -73,8 +73,21 @@ class CNoDestination {\n     friend bool operator<(const CNoDestination &a, const CNoDestination &b) { return true; }\n };\n \n-struct WitnessV0ScriptHash : public uint256 {};\n-struct WitnessV0KeyHash : public uint160 {};\n+struct WitnessV0ScriptHash : public uint256\n+{\n+public:\n+    WitnessV0ScriptHash() : uint256() {}\n+    WitnessV0ScriptHash(const uint256& hash) : uint256(hash) {}",
      "path": "src/script/standard.h",
      "position": null,
      "original_position": 10,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "7cf2eea1ebd76fbbe25b7a4bbabf9cc1df7b72eb",
      "in_reply_to_id": 155825668,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2017-12-11T07:12:10Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155996067",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155996067"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 80,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155996285",
      "pull_request_review_id": 82402139,
      "id": 155996285,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTk5NjI4NQ==",
      "diff_hunk": "@@ -73,8 +73,21 @@ class CNoDestination {\n     friend bool operator<(const CNoDestination &a, const CNoDestination &b) { return true; }\n };\n \n-struct WitnessV0ScriptHash : public uint256 {};\n-struct WitnessV0KeyHash : public uint160 {};\n+struct WitnessV0ScriptHash : public uint256\n+{\n+public:\n+    WitnessV0ScriptHash() : uint256() {}\n+    WitnessV0ScriptHash(const uint256& hash) : uint256(hash) {}\n+    using uint256::uint256;\n+};\n+\n+struct WitnessV0KeyHash : public uint160",
      "path": "src/script/standard.h",
      "position": null,
      "original_position": 14,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "7cf2eea1ebd76fbbe25b7a4bbabf9cc1df7b72eb",
      "in_reply_to_id": 155821355,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I tried making it inherit from CKeyID, but it's not trivial at least, so I'd rather do it separately.\r\n\r\nAgreed with replacing CKeyID and CScriptID in the variant. Though perhaps for performance reasons we may want a specialized variant implementation for this (boost::variant needs dynamic allocations) anyway. Let's consider that for later.",
      "created_at": "2017-12-11T07:14:10Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155996285",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155996285"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 83,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155996437",
      "pull_request_review_id": 82402305,
      "id": 155996437,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTk5NjQzNw==",
      "diff_hunk": "@@ -1050,6 +1050,7 @@ bool CWallet::AddToWalletIfInvolvingMe(const CTransactionRef& ptx, const CBlockI\n                     std::map<CKeyID, int64_t>::const_iterator mi = m_pool_key_to_index.find(keyid);\n                     if (mi != m_pool_key_to_index.end()) {\n                         LogPrintf(\"%s: Detected a used keypool key, mark all keypool key up to this key as used\\n\", __func__);\n+                        AddRelatedScripts(mi->first);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "cb6cd672f412a92aabfcaa4c46b5fd00b1e644a2",
      "in_reply_to_id": 155868135,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I've renamed the CKeyStore::AddRelatedKeyScripts functions to CKeyStore::ImplicitlyLearnRelatedKeyScripts. It's not usable because that function only adds the script in memory. The point of AddRelatedScript is to make them explicit (in wallet.dat), and it will only be called on keys whose related scripts are already implicitly in the keystore.",
      "created_at": "2017-12-11T07:15:31Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155996437",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155996437"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1053,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155996505",
      "pull_request_review_id": 82402378,
      "id": 155996505,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTk5NjUwNQ==",
      "diff_hunk": "@@ -4124,3 +4126,88 @@ bool CWalletTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     fInMempool = ret;\n     return ret;\n }\n+\n+static const std::string OUTPUT_TYPE_STRING_LEGACY = \"legacy\";\n+static const std::string OUTPUT_TYPE_STRING_P2SH = \"p2sh\";\n+static const std::string OUTPUT_TYPE_STRING_BECH32 = \"bech32\";\n+\n+OutputType ParseOutputType(const std::string& type, OutputType default_type)\n+{\n+    if (type == \"\") {\n+        return default_type;\n+    } else if (type == OUTPUT_TYPE_STRING_LEGACY) {\n+        return OUTPUT_TYPE_LEGACY;\n+    } else if (type == OUTPUT_TYPE_STRING_P2SH) {\n+        return OUTPUT_TYPE_P2SH;\n+    } else if (type == OUTPUT_TYPE_STRING_BECH32) {\n+        return OUTPUT_TYPE_BECH32;\n+    } else {\n+        return OUTPUT_TYPE_NONE;\n+    }\n+}\n+\n+\n+const std::string& FormatOutputType(OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return OUTPUT_TYPE_STRING_LEGACY;\n+    case OUTPUT_TYPE_P2SH: return OUTPUT_TYPE_STRING_P2SH;\n+    case OUTPUT_TYPE_BECH32: return OUTPUT_TYPE_STRING_BECH32;\n+    default: assert(false);\n+    }\n+}\n+\n+std::vector<CTxDestination> CWallet::GetAllDestinationsForKey(const CPubKey& key)",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 71,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "210e90fcbfda39eee5e3119a7a0637813dccb83e",
      "in_reply_to_id": 155869762,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Made it a standalone wallet function. I'm leaving it as part of the wallet, as the choice about what types of addresses to support is largely a wallet one.",
      "created_at": "2017-12-11T07:16:07Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155996505",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155996505"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4160,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155996619",
      "pull_request_review_id": 82402510,
      "id": 155996619,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTk5NjYxOQ==",
      "diff_hunk": "@@ -4124,3 +4126,88 @@ bool CWalletTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     fInMempool = ret;\n     return ret;\n }\n+\n+static const std::string OUTPUT_TYPE_STRING_LEGACY = \"legacy\";\n+static const std::string OUTPUT_TYPE_STRING_P2SH = \"p2sh\";\n+static const std::string OUTPUT_TYPE_STRING_BECH32 = \"bech32\";\n+\n+OutputType ParseOutputType(const std::string& type, OutputType default_type)\n+{\n+    if (type == \"\") {\n+        return default_type;\n+    } else if (type == OUTPUT_TYPE_STRING_LEGACY) {\n+        return OUTPUT_TYPE_LEGACY;\n+    } else if (type == OUTPUT_TYPE_STRING_P2SH) {\n+        return OUTPUT_TYPE_P2SH;\n+    } else if (type == OUTPUT_TYPE_STRING_BECH32) {\n+        return OUTPUT_TYPE_BECH32;\n+    } else {\n+        return OUTPUT_TYPE_NONE;\n+    }\n+}\n+\n+\n+const std::string& FormatOutputType(OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return OUTPUT_TYPE_STRING_LEGACY;\n+    case OUTPUT_TYPE_P2SH: return OUTPUT_TYPE_STRING_P2SH;\n+    case OUTPUT_TYPE_BECH32: return OUTPUT_TYPE_STRING_BECH32;\n+    default: assert(false);\n+    }\n+}\n+\n+std::vector<CTxDestination> CWallet::GetAllDestinationsForKey(const CPubKey& key)\n+{\n+    CKeyID keyid = key.GetID();\n+    if (key.IsCompressed()) {\n+        CTxDestination segwit = WitnessV0KeyHash(keyid);\n+        CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+        return std::vector<CTxDestination>{std::move(keyid), std::move(p2sh), std::move(segwit)};\n+    } else {\n+        return std::vector<CTxDestination>{std::move(keyid)};\n+    }\n+}\n+\n+CTxDestination CWallet::GetDestinationForKey(const CPubKey& key, OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return key.GetID();\n+    case OUTPUT_TYPE_P2SH:\n+    case OUTPUT_TYPE_BECH32: {\n+        CTxDestination witdest = WitnessV0KeyHash(key.GetID());\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 91,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "210e90fcbfda39eee5e3119a7a0637813dccb83e",
      "in_reply_to_id": 155870014,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Checking for an uncompressed key is all it does. It's just a very succint way of doing so, which also happens to be very foolproof for future similar changes.",
      "created_at": "2017-12-11T07:17:02Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155996619",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155996619"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4193,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155997108",
      "pull_request_review_id": 82402999,
      "id": 155997108,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTk5NzEwOA==",
      "diff_hunk": "@@ -4124,3 +4126,88 @@ bool CWalletTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     fInMempool = ret;\n     return ret;\n }\n+\n+static const std::string OUTPUT_TYPE_STRING_LEGACY = \"legacy\";\n+static const std::string OUTPUT_TYPE_STRING_P2SH = \"p2sh\";\n+static const std::string OUTPUT_TYPE_STRING_BECH32 = \"bech32\";\n+\n+OutputType ParseOutputType(const std::string& type, OutputType default_type)\n+{\n+    if (type == \"\") {\n+        return default_type;\n+    } else if (type == OUTPUT_TYPE_STRING_LEGACY) {\n+        return OUTPUT_TYPE_LEGACY;\n+    } else if (type == OUTPUT_TYPE_STRING_P2SH) {\n+        return OUTPUT_TYPE_P2SH;\n+    } else if (type == OUTPUT_TYPE_STRING_BECH32) {\n+        return OUTPUT_TYPE_BECH32;\n+    } else {\n+        return OUTPUT_TYPE_NONE;\n+    }\n+}\n+\n+\n+const std::string& FormatOutputType(OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return OUTPUT_TYPE_STRING_LEGACY;\n+    case OUTPUT_TYPE_P2SH: return OUTPUT_TYPE_STRING_P2SH;\n+    case OUTPUT_TYPE_BECH32: return OUTPUT_TYPE_STRING_BECH32;\n+    default: assert(false);\n+    }\n+}\n+\n+std::vector<CTxDestination> CWallet::GetAllDestinationsForKey(const CPubKey& key)\n+{\n+    CKeyID keyid = key.GetID();\n+    if (key.IsCompressed()) {\n+        CTxDestination segwit = WitnessV0KeyHash(keyid);\n+        CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+        return std::vector<CTxDestination>{std::move(keyid), std::move(p2sh), std::move(segwit)};\n+    } else {\n+        return std::vector<CTxDestination>{std::move(keyid)};\n+    }\n+}\n+\n+CTxDestination CWallet::GetDestinationForKey(const CPubKey& key, OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return key.GetID();\n+    case OUTPUT_TYPE_P2SH:\n+    case OUTPUT_TYPE_BECH32: {\n+        CTxDestination witdest = WitnessV0KeyHash(key.GetID());\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(*this, witprog)) return key.GetID();\n+        // Even though CBasicKeyStore knows about P2WPKH redeemscripts implicitly, add it explicitly\n+        // so that downgrades to software without this are supported (as long as the wallet file is\n+        // up to date).\n+        AddCScript(witprog);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 96,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "210e90fcbfda39eee5e3119a7a0637813dccb83e",
      "in_reply_to_id": 155889073,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I agree it's ugly, though I think it is temporary (it's not needing in my future design (see writeup), and it's also unnecessary once we drop support for downgrading to pre-implicit-SegWit wallet software - but that needs some thinking about versioning).\r\n\r\nSplitting the choice for what to add and what destination to use up seems very inconvenient, though. The necessity of adding depends on the type of address.\r\n\r\nI've renamed the functions to `Add...` rather than `Get...`, to reflect that they may change wallet state.",
      "created_at": "2017-12-11T07:20:38Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155997108",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155997108"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4198,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156052687",
      "pull_request_review_id": 82465620,
      "id": 156052687,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjA1MjY4Nw==",
      "diff_hunk": "@@ -645,10 +645,12 @@ void PaymentServer::fetchPaymentACK(CWallet* wallet, const SendCoinsRecipient& r\n     else {\n         CPubKey newKey;\n         if (wallet->GetKeyFromPool(newKey)) {\n-            CKeyID keyID = newKey.GetID();\n-            wallet->SetAddressBook(keyID, strAccount, \"refund\");\n+            // As we don't care about whether the other side understands a particular address type\n+            // encoding, use the change type here.",
      "path": "src/qt/paymentserver.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "04e82bca42409007fe42da534e2bedea1e929f00",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Maybe replace the comment with, if I understand correctly: \"We'll use the change type here. In the BIP-70 payment protocol the destination for refunds is communicated as an output script, not an address. Therefore we don't need to care about whether the other side understands a particular address type.\"",
      "created_at": "2017-12-11T11:53:44Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156052687",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156052687"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 649,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156053242",
      "pull_request_review_id": 82465620,
      "id": 156053242,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjA1MzI0Mg==",
      "diff_hunk": "@@ -645,10 +645,12 @@ void PaymentServer::fetchPaymentACK(CWallet* wallet, const SendCoinsRecipient& r\n     else {\n         CPubKey newKey;\n         if (wallet->GetKeyFromPool(newKey)) {\n-            CKeyID keyID = newKey.GetID();\n-            wallet->SetAddressBook(keyID, strAccount, \"refund\");\n+            // As we don't care about whether the other side understands a particular address type\n+            // encoding, use the change type here.\n+            CTxDestination dest = wallet->AddDestinationForKey(newKey, g_change_type);",
      "path": "src/qt/paymentserver.cpp",
      "position": null,
      "original_position": 8,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "04e82bca42409007fe42da534e2bedea1e929f00",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Do we really want to use the change type? I think refund addresses should be treated the same as any receive address, including what type you use for those,and the level of trust placed on unconfirmed funds on those addresses. The latter is probably not an issue here.\r\n\r\nIn a BIP44 address hierarchy I would probably use the receive chain for refunds (not applicable here, but to illustrate my point).",
      "created_at": "2017-12-11T11:56:28Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156053242",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156053242"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 653,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156056229",
      "pull_request_review_id": 82465620,
      "id": 156056229,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjA1NjIyOQ==",
      "diff_hunk": "@@ -15,6 +15,8 @@\n std::string GetWalletHelpString(bool showDebug)\n {\n     std::string strUsage = HelpMessageGroup(_(\"Wallet options:\"));\n+    strUsage += HelpMessageOpt(\"-addresstype\", strprintf(_(\"What type of addresses to use (\\\"legacy\\\", \\\"p2sh\\\", \\\"bech32\\\", default: \\\"%s\\\")\"), FormatOutputType(OUTPUT_TYPE_DEFAULT)));\n+    strUsage += HelpMessageOpt(\"-changetype\", strprintf(_(\"What type of change to use (\\\"legacy\\\", \\\"p2sh\\\", \\\"bech32\\\", default is same as -addressstyle: \\\"%s\\\")\"), FormatOutputType(OUTPUT_TYPE_DEFAULT)));",
      "path": "src/wallet/init.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "04e82bca42409007fe42da534e2bedea1e929f00",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`-addressstyle` should be `-addresstype` (I can't see my previous comment about this anymore, so repeating just in case)",
      "created_at": "2017-12-11T12:12:03Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156056229",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156056229"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 19,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156057894",
      "pull_request_review_id": 82465620,
      "id": 156057894,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjA1Nzg5NA==",
      "diff_hunk": "@@ -4124,3 +4127,106 @@ bool CWalletTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     fInMempool = ret;\n     return ret;\n }\n+\n+static const std::string OUTPUT_TYPE_STRING_LEGACY = \"legacy\";\n+static const std::string OUTPUT_TYPE_STRING_P2SH = \"p2sh\";\n+static const std::string OUTPUT_TYPE_STRING_BECH32 = \"bech32\";\n+\n+OutputType ParseOutputType(const std::string& type, OutputType default_type)\n+{\n+    if (type == \"\") {\n+        return default_type;\n+    } else if (type == OUTPUT_TYPE_STRING_LEGACY) {\n+        return OUTPUT_TYPE_LEGACY;\n+    } else if (type == OUTPUT_TYPE_STRING_P2SH) {\n+        return OUTPUT_TYPE_P2SH;\n+    } else if (type == OUTPUT_TYPE_STRING_BECH32) {\n+        return OUTPUT_TYPE_BECH32;\n+    } else {\n+        return OUTPUT_TYPE_NONE;\n+    }\n+}\n+\n+\n+const std::string& FormatOutputType(OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return OUTPUT_TYPE_STRING_LEGACY;\n+    case OUTPUT_TYPE_P2SH: return OUTPUT_TYPE_STRING_P2SH;\n+    case OUTPUT_TYPE_BECH32: return OUTPUT_TYPE_STRING_BECH32;\n+    default: assert(false);\n+    }\n+}\n+\n+std::vector<CTxDestination> GetAllDestinationsForKey(const CPubKey& key)\n+{\n+    CKeyID keyid = key.GetID();\n+    if (key.IsCompressed()) {\n+        CTxDestination segwit = WitnessV0KeyHash(keyid);\n+        CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+        return std::vector<CTxDestination>{std::move(keyid), std::move(p2sh), std::move(segwit)};\n+    } else {\n+        return std::vector<CTxDestination>{std::move(keyid)};\n+    }\n+}\n+\n+CTxDestination CWallet::AddDestinationForKey(const CPubKey& key, OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return key.GetID();\n+    case OUTPUT_TYPE_P2SH:\n+    case OUTPUT_TYPE_BECH32: {\n+        CTxDestination witdest = WitnessV0KeyHash(key.GetID());\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(*this, witprog)) return key.GetID();\n+        // Even though CBasicKeyStore knows about P2WPKH redeemscripts implicitly, add it explicitly\n+        // so that downgrades to software without this are supported (as long as the wallet file is\n+        // up to date).\n+        AddCScript(witprog);\n+        if (type == OUTPUT_TYPE_P2SH) {\n+            return CScriptID(witprog);\n+        } else {\n+            return witdest;\n+        }\n+    }\n+    default: assert(false);\n+    }\n+}\n+\n+CTxDestination CWallet::AddDestinationForScript(const CScript& script, OutputType type)\n+{\n+    // Note that scripts over 520 bytes are not yet supported.\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY:\n+    case OUTPUT_TYPE_P2SH:\n+        return CScriptID(script);\n+    case OUTPUT_TYPE_BECH32: {\n+        WitnessV0ScriptHash hash;\n+        CSHA256().Write(script.data(), script.size()).Finalize(hash.begin());\n+        CTxDestination witdest = hash;\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)",
      "path": "src/wallet/wallet.cpp",
      "position": 159,
      "original_position": 127,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "04e82bca42409007fe42da534e2bedea1e929f00",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "\"i.e.\" -> \"e.g.\" seems more future-proof.",
      "created_at": "2017-12-11T12:19:45Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156057894",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156057894"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 4234,
      "original_line": 4234,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156058923",
      "pull_request_review_id": 82465620,
      "id": 156058923,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjA1ODkyMw==",
      "diff_hunk": "@@ -0,0 +1,65 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test that the wallet can send and receive using all combinations of address types.\"\"\"\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class AddressTypeTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 4\n+        self.extra_args = [[\"-addresstype=legacy\"], [\"-addresstype=p2sh\"], [\"-addresstype=p2sh\", \"-changetype=bech32\"], [\"-addresstype=bech32\"]]\n+\n+    def run_test(self):\n+        self.nodes[0].generate(1)\n+        sync_blocks(self.nodes)\n+\n+        for c in range(4):\n+            multisig = c >= 2\n+            for n in range(4):\n+                old_balances = [self.nodes[i].getbalance() for i in range(4)]\n+                to_send = (old_balances[n] / 101).quantize(Decimal(\"0.00000001\")) * 10\n+                sends = {}\n+                for k in range(4):\n+                    i = (n + k) % 4\n+                    if not multisig:\n+                        address = self.nodes[i].getnewaddress()\n+                    else:\n+                        addr1 = self.nodes[i].getnewaddress()\n+                        addr2 = self.nodes[i].getnewaddress()\n+                        address = self.nodes[i].addmultisigaddress(2, [addr1, addr2])\n+                    # Do some sanity checking on the created address\n+                    info = self.nodes[i].validateaddress(address)\n+                    print(\"%i: %r\" % (i, info))",
      "path": "test/functional/address_types.py",
      "position": null,
      "original_position": 34,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "04e82bca42409007fe42da534e2bedea1e929f00",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Don't forget to remove this, or use `self.log.debug(...)`.",
      "created_at": "2017-12-11T12:25:24Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156058923",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156058923"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 34,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156062380",
      "pull_request_review_id": 82465620,
      "id": 156062380,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjA2MjM4MA==",
      "diff_hunk": "@@ -0,0 +1,65 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test that the wallet can send and receive using all combinations of address types.\"\"\"\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class AddressTypeTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 4\n+        self.extra_args = [[\"-addresstype=legacy\"], [\"-addresstype=p2sh\"], [\"-addresstype=p2sh\", \"-changetype=bech32\"], [\"-addresstype=bech32\"]]\n+\n+    def run_test(self):\n+        self.nodes[0].generate(1)\n+        sync_blocks(self.nodes)\n+\n+        for c in range(4):\n+            multisig = c >= 2\n+            for n in range(4):\n+                old_balances = [self.nodes[i].getbalance() for i in range(4)]\n+                to_send = (old_balances[n] / 101).quantize(Decimal(\"0.00000001\")) * 10\n+                sends = {}\n+                for k in range(4):\n+                    i = (n + k) % 4\n+                    if not multisig:\n+                        address = self.nodes[i].getnewaddress()\n+                    else:\n+                        addr1 = self.nodes[i].getnewaddress()\n+                        addr2 = self.nodes[i].getnewaddress()\n+                        address = self.nodes[i].addmultisigaddress(2, [addr1, addr2])\n+                    # Do some sanity checking on the created address\n+                    info = self.nodes[i].validateaddress(address)\n+                    print(\"%i: %r\" % (i, info))\n+                    assert(info['isvalid'])\n+                    assert(info['ismine'])\n+                    assert_equal(info['isscript'], multisig or i == 1 or i == 2)\n+                    assert_equal(info['iswitness'], i == 3)\n+                    if (info['isscript']):\n+                        assert_equal(info['script'], 'multisig' if multisig else 'witness_v0_keyhash')\n+                    else:\n+                        assert('script' not in info)\n+                    if (not multisig and (i == 1 or i == 2)):\n+                        assert('embedded' in info)\n+                        assert(not info['embedded']['isscript'])\n+                        assert(info['embedded']['iswitness'])\n+                        assert_equal(info['pubkey'], info['embedded']['pubkey'])\n+                    else:\n+                        assert('embedded' not in info)\n+                    # In each iteration, one node sends 10/101th of its balance to itself, 20/1011ths to the next peer,\n+                    # 30/101ths to the one after that, and 40/101ths to the remaining one.\n+                    sends[address] = to_send * (1 + k)\n+                self.nodes[n].sendmany(\"\", sends)\n+                sync_mempools(self.nodes)\n+                unconf_balances = [self.nodes[i].getunconfirmedbalance() for i in range(4)]\n+                self.nodes[0].generate(1)\n+                sync_blocks(self.nodes)\n+                new_balances = [self.nodes[i].getbalance() for i in range(4)]\n+                for k in range(3):\n+                    i = (n + k + 1) % 4\n+                    assert_equal(unconf_balances[i], to_send * (2 + k))\n+                    assert_equal(new_balances[i], old_balances[i] + to_send * (2 + k) + (50 if i == 0 else 0))",
      "path": "test/functional/address_types.py",
      "position": null,
      "original_position": 62,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "04e82bca42409007fe42da534e2bedea1e929f00",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "On my local machine, this line fails with `AssertionError: not(1745.04950480 == 1695.04950480)` (with and without the #11839 patch). Not sure what could explain an off by 50 BTC error.\r\n\r\nIt fails when I run the test individually through `test/functional/address_types.py`. It passes when I run it as part of the full test suite `test/functional/test_runner.py `, but that in turn causes the (unmodified) `wallet-hd.py` to fail at line 102 with:\r\n\r\n```\r\nAssertionError: Block sync to height 402 timed out:\r\n  {'hash': '62ef92e893723b28577eb0420871b941c8ac6a42c0afc5bf59eb096c8fe72256', 'height': 402}\r\n  {'hash': '5b9db3fd6a97e193ff780c162941ae6a348a3f29afab04f97620548b68b0ed60', 'height': 393}\r\n```\r\n\r\nWhen I run this individual test file again after running the full suite, it does pass. ðŸ˜•  ",
      "created_at": "2017-12-11T12:43:38Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156062380",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156062380"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 62,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156071685",
      "pull_request_review_id": 82465620,
      "id": 156071685,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjA3MTY4NQ==",
      "diff_hunk": "@@ -0,0 +1,65 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test that the wallet can send and receive using all combinations of address types.\"\"\"\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class AddressTypeTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 4\n+        self.extra_args = [[\"-addresstype=legacy\"], [\"-addresstype=p2sh\"], [\"-addresstype=p2sh\", \"-changetype=bech32\"], [\"-addresstype=bech32\"]]\n+\n+    def run_test(self):\n+        self.nodes[0].generate(1)",
      "path": "test/functional/address_types.py",
      "position": null,
      "original_position": 15,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "04e82bca42409007fe42da534e2bedea1e929f00",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Off topic: why is this needed?",
      "created_at": "2017-12-11T13:27:37Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156071685",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156071685"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 16,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156237039",
      "pull_request_review_id": 82681567,
      "id": 156237039,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjIzNzAzOQ==",
      "diff_hunk": "@@ -645,10 +645,12 @@ void PaymentServer::fetchPaymentACK(CWallet* wallet, const SendCoinsRecipient& r\n     else {\n         CPubKey newKey;\n         if (wallet->GetKeyFromPool(newKey)) {\n-            CKeyID keyID = newKey.GetID();\n-            wallet->SetAddressBook(keyID, strAccount, \"refund\");\n+            // As we don't care about whether the other side understands a particular address type\n+            // encoding, use the change type here.",
      "path": "src/qt/paymentserver.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "04e82bca42409007fe42da534e2bedea1e929f00",
      "in_reply_to_id": 156052687,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I've reformulated it.",
      "created_at": "2017-12-11T23:57:19Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156237039",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156237039"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 649,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156237160",
      "pull_request_review_id": 82681740,
      "id": 156237160,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjIzNzE2MA==",
      "diff_hunk": "@@ -645,10 +645,12 @@ void PaymentServer::fetchPaymentACK(CWallet* wallet, const SendCoinsRecipient& r\n     else {\n         CPubKey newKey;\n         if (wallet->GetKeyFromPool(newKey)) {\n-            CKeyID keyID = newKey.GetID();\n-            wallet->SetAddressBook(keyID, strAccount, \"refund\");\n+            // As we don't care about whether the other side understands a particular address type\n+            // encoding, use the change type here.\n+            CTxDestination dest = wallet->AddDestinationForKey(newKey, g_change_type);",
      "path": "src/qt/paymentserver.cpp",
      "position": null,
      "original_position": 8,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "04e82bca42409007fe42da534e2bedea1e929f00",
      "in_reply_to_id": 156053242,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I have elaborated on why.",
      "created_at": "2017-12-11T23:58:12Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156237160",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156237160"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 653,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156237694",
      "pull_request_review_id": 82682367,
      "id": 156237694,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjIzNzY5NA==",
      "diff_hunk": "@@ -4124,3 +4127,106 @@ bool CWalletTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     fInMempool = ret;\n     return ret;\n }\n+\n+static const std::string OUTPUT_TYPE_STRING_LEGACY = \"legacy\";\n+static const std::string OUTPUT_TYPE_STRING_P2SH = \"p2sh\";\n+static const std::string OUTPUT_TYPE_STRING_BECH32 = \"bech32\";\n+\n+OutputType ParseOutputType(const std::string& type, OutputType default_type)\n+{\n+    if (type == \"\") {\n+        return default_type;\n+    } else if (type == OUTPUT_TYPE_STRING_LEGACY) {\n+        return OUTPUT_TYPE_LEGACY;\n+    } else if (type == OUTPUT_TYPE_STRING_P2SH) {\n+        return OUTPUT_TYPE_P2SH;\n+    } else if (type == OUTPUT_TYPE_STRING_BECH32) {\n+        return OUTPUT_TYPE_BECH32;\n+    } else {\n+        return OUTPUT_TYPE_NONE;\n+    }\n+}\n+\n+\n+const std::string& FormatOutputType(OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return OUTPUT_TYPE_STRING_LEGACY;\n+    case OUTPUT_TYPE_P2SH: return OUTPUT_TYPE_STRING_P2SH;\n+    case OUTPUT_TYPE_BECH32: return OUTPUT_TYPE_STRING_BECH32;\n+    default: assert(false);\n+    }\n+}\n+\n+std::vector<CTxDestination> GetAllDestinationsForKey(const CPubKey& key)\n+{\n+    CKeyID keyid = key.GetID();\n+    if (key.IsCompressed()) {\n+        CTxDestination segwit = WitnessV0KeyHash(keyid);\n+        CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+        return std::vector<CTxDestination>{std::move(keyid), std::move(p2sh), std::move(segwit)};\n+    } else {\n+        return std::vector<CTxDestination>{std::move(keyid)};\n+    }\n+}\n+\n+CTxDestination CWallet::AddDestinationForKey(const CPubKey& key, OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return key.GetID();\n+    case OUTPUT_TYPE_P2SH:\n+    case OUTPUT_TYPE_BECH32: {\n+        CTxDestination witdest = WitnessV0KeyHash(key.GetID());\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(*this, witprog)) return key.GetID();\n+        // Even though CBasicKeyStore knows about P2WPKH redeemscripts implicitly, add it explicitly\n+        // so that downgrades to software without this are supported (as long as the wallet file is\n+        // up to date).\n+        AddCScript(witprog);\n+        if (type == OUTPUT_TYPE_P2SH) {\n+            return CScriptID(witprog);\n+        } else {\n+            return witdest;\n+        }\n+    }\n+    default: assert(false);\n+    }\n+}\n+\n+CTxDestination CWallet::AddDestinationForScript(const CScript& script, OutputType type)\n+{\n+    // Note that scripts over 520 bytes are not yet supported.\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY:\n+    case OUTPUT_TYPE_P2SH:\n+        return CScriptID(script);\n+    case OUTPUT_TYPE_BECH32: {\n+        WitnessV0ScriptHash hash;\n+        CSHA256().Write(script.data(), script.size()).Finalize(hash.begin());\n+        CTxDestination witdest = hash;\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)",
      "path": "src/wallet/wallet.cpp",
      "position": 159,
      "original_position": 127,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "04e82bca42409007fe42da534e2bedea1e929f00",
      "in_reply_to_id": 156057894,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "That's not what I mean. It's not just an example - it's a clarification about why that check is needed.",
      "created_at": "2017-12-12T00:01:25Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156237694",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156237694"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 4234,
      "original_line": 4234,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156237760",
      "pull_request_review_id": 82682451,
      "id": 156237760,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjIzNzc2MA==",
      "diff_hunk": "@@ -15,6 +15,8 @@\n std::string GetWalletHelpString(bool showDebug)\n {\n     std::string strUsage = HelpMessageGroup(_(\"Wallet options:\"));\n+    strUsage += HelpMessageOpt(\"-addresstype\", strprintf(_(\"What type of addresses to use (\\\"legacy\\\", \\\"p2sh\\\", \\\"bech32\\\", default: \\\"%s\\\")\"), FormatOutputType(OUTPUT_TYPE_DEFAULT)));\n+    strUsage += HelpMessageOpt(\"-changetype\", strprintf(_(\"What type of change to use (\\\"legacy\\\", \\\"p2sh\\\", \\\"bech32\\\", default is same as -addressstyle: \\\"%s\\\")\"), FormatOutputType(OUTPUT_TYPE_DEFAULT)));",
      "path": "src/wallet/init.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "04e82bca42409007fe42da534e2bedea1e929f00",
      "in_reply_to_id": 156056229,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed.",
      "created_at": "2017-12-12T00:01:57Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156237760",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156237760"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 19,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156241848",
      "pull_request_review_id": 82687144,
      "id": 156241848,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjI0MTg0OA==",
      "diff_hunk": "@@ -0,0 +1,65 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test that the wallet can send and receive using all combinations of address types.\"\"\"\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class AddressTypeTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 4\n+        self.extra_args = [[\"-addresstype=legacy\"], [\"-addresstype=p2sh\"], [\"-addresstype=p2sh\", \"-changetype=bech32\"], [\"-addresstype=bech32\"]]\n+\n+    def run_test(self):\n+        self.nodes[0].generate(1)",
      "path": "test/functional/address_types.py",
      "position": null,
      "original_position": 15,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "04e82bca42409007fe42da534e2bedea1e929f00",
      "in_reply_to_id": 156071685,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Otherwise the nodes will think they're in IBD and not sync transactions.",
      "created_at": "2017-12-12T00:30:23Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156241848",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156241848"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 16,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156241862",
      "pull_request_review_id": 82687162,
      "id": 156241862,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjI0MTg2Mg==",
      "diff_hunk": "@@ -0,0 +1,65 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test that the wallet can send and receive using all combinations of address types.\"\"\"\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class AddressTypeTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 4\n+        self.extra_args = [[\"-addresstype=legacy\"], [\"-addresstype=p2sh\"], [\"-addresstype=p2sh\", \"-changetype=bech32\"], [\"-addresstype=bech32\"]]\n+\n+    def run_test(self):\n+        self.nodes[0].generate(1)\n+        sync_blocks(self.nodes)\n+\n+        for c in range(4):\n+            multisig = c >= 2\n+            for n in range(4):\n+                old_balances = [self.nodes[i].getbalance() for i in range(4)]\n+                to_send = (old_balances[n] / 101).quantize(Decimal(\"0.00000001\")) * 10\n+                sends = {}\n+                for k in range(4):\n+                    i = (n + k) % 4\n+                    if not multisig:\n+                        address = self.nodes[i].getnewaddress()\n+                    else:\n+                        addr1 = self.nodes[i].getnewaddress()\n+                        addr2 = self.nodes[i].getnewaddress()\n+                        address = self.nodes[i].addmultisigaddress(2, [addr1, addr2])\n+                    # Do some sanity checking on the created address\n+                    info = self.nodes[i].validateaddress(address)\n+                    print(\"%i: %r\" % (i, info))",
      "path": "test/functional/address_types.py",
      "position": null,
      "original_position": 34,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "04e82bca42409007fe42da534e2bedea1e929f00",
      "in_reply_to_id": 156058923,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2017-12-12T00:30:31Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156241862",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156241862"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 34,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156242225",
      "pull_request_review_id": 82687564,
      "id": 156242225,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjI0MjIyNQ==",
      "diff_hunk": "@@ -0,0 +1,65 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test that the wallet can send and receive using all combinations of address types.\"\"\"\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class AddressTypeTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 4\n+        self.extra_args = [[\"-addresstype=legacy\"], [\"-addresstype=p2sh\"], [\"-addresstype=p2sh\", \"-changetype=bech32\"], [\"-addresstype=bech32\"]]\n+\n+    def run_test(self):\n+        self.nodes[0].generate(1)\n+        sync_blocks(self.nodes)\n+\n+        for c in range(4):\n+            multisig = c >= 2\n+            for n in range(4):\n+                old_balances = [self.nodes[i].getbalance() for i in range(4)]\n+                to_send = (old_balances[n] / 101).quantize(Decimal(\"0.00000001\")) * 10\n+                sends = {}\n+                for k in range(4):\n+                    i = (n + k) % 4\n+                    if not multisig:\n+                        address = self.nodes[i].getnewaddress()\n+                    else:\n+                        addr1 = self.nodes[i].getnewaddress()\n+                        addr2 = self.nodes[i].getnewaddress()\n+                        address = self.nodes[i].addmultisigaddress(2, [addr1, addr2])\n+                    # Do some sanity checking on the created address\n+                    info = self.nodes[i].validateaddress(address)\n+                    print(\"%i: %r\" % (i, info))\n+                    assert(info['isvalid'])\n+                    assert(info['ismine'])\n+                    assert_equal(info['isscript'], multisig or i == 1 or i == 2)\n+                    assert_equal(info['iswitness'], i == 3)\n+                    if (info['isscript']):\n+                        assert_equal(info['script'], 'multisig' if multisig else 'witness_v0_keyhash')\n+                    else:\n+                        assert('script' not in info)\n+                    if (not multisig and (i == 1 or i == 2)):\n+                        assert('embedded' in info)\n+                        assert(not info['embedded']['isscript'])\n+                        assert(info['embedded']['iswitness'])\n+                        assert_equal(info['pubkey'], info['embedded']['pubkey'])\n+                    else:\n+                        assert('embedded' not in info)\n+                    # In each iteration, one node sends 10/101th of its balance to itself, 20/1011ths to the next peer,\n+                    # 30/101ths to the one after that, and 40/101ths to the remaining one.\n+                    sends[address] = to_send * (1 + k)\n+                self.nodes[n].sendmany(\"\", sends)\n+                sync_mempools(self.nodes)\n+                unconf_balances = [self.nodes[i].getunconfirmedbalance() for i in range(4)]\n+                self.nodes[0].generate(1)\n+                sync_blocks(self.nodes)\n+                new_balances = [self.nodes[i].getbalance() for i in range(4)]\n+                for k in range(3):\n+                    i = (n + k + 1) % 4\n+                    assert_equal(unconf_balances[i], to_send * (2 + k))\n+                    assert_equal(new_balances[i], old_balances[i] + to_send * (2 + k) + (50 if i == 0 else 0))",
      "path": "test/functional/address_types.py",
      "position": null,
      "original_position": 62,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "04e82bca42409007fe42da534e2bedea1e929f00",
      "in_reply_to_id": 156062380,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I can't reproduce your problem. Are you sure you're not running against an older `bitcoind`?",
      "created_at": "2017-12-12T00:32:54Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156242225",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156242225"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 62,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156291031",
      "pull_request_review_id": 82742578,
      "id": 156291031,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjI5MTAzMQ==",
      "diff_hunk": "@@ -0,0 +1,65 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test that the wallet can send and receive using all combinations of address types.\"\"\"\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class AddressTypeTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 4\n+        self.extra_args = [[\"-addresstype=legacy\"], [\"-addresstype=p2sh\"], [\"-addresstype=p2sh\", \"-changetype=bech32\"], [\"-addresstype=bech32\"]]\n+\n+    def run_test(self):\n+        self.nodes[0].generate(1)\n+        sync_blocks(self.nodes)\n+\n+        for c in range(4):\n+            multisig = c >= 2\n+            for n in range(4):\n+                old_balances = [self.nodes[i].getbalance() for i in range(4)]\n+                to_send = (old_balances[n] / 101).quantize(Decimal(\"0.00000001\")) * 10\n+                sends = {}\n+                for k in range(4):\n+                    i = (n + k) % 4\n+                    if not multisig:\n+                        address = self.nodes[i].getnewaddress()\n+                    else:\n+                        addr1 = self.nodes[i].getnewaddress()\n+                        addr2 = self.nodes[i].getnewaddress()\n+                        address = self.nodes[i].addmultisigaddress(2, [addr1, addr2])\n+                    # Do some sanity checking on the created address\n+                    info = self.nodes[i].validateaddress(address)\n+                    print(\"%i: %r\" % (i, info))\n+                    assert(info['isvalid'])\n+                    assert(info['ismine'])\n+                    assert_equal(info['isscript'], multisig or i == 1 or i == 2)\n+                    assert_equal(info['iswitness'], i == 3)\n+                    if (info['isscript']):\n+                        assert_equal(info['script'], 'multisig' if multisig else 'witness_v0_keyhash')\n+                    else:\n+                        assert('script' not in info)\n+                    if (not multisig and (i == 1 or i == 2)):\n+                        assert('embedded' in info)\n+                        assert(not info['embedded']['isscript'])\n+                        assert(info['embedded']['iswitness'])\n+                        assert_equal(info['pubkey'], info['embedded']['pubkey'])\n+                    else:\n+                        assert('embedded' not in info)\n+                    # In each iteration, one node sends 10/101th of its balance to itself, 20/1011ths to the next peer,\n+                    # 30/101ths to the one after that, and 40/101ths to the remaining one.\n+                    sends[address] = to_send * (1 + k)\n+                self.nodes[n].sendmany(\"\", sends)\n+                sync_mempools(self.nodes)\n+                unconf_balances = [self.nodes[i].getunconfirmedbalance() for i in range(4)]\n+                self.nodes[0].generate(1)\n+                sync_blocks(self.nodes)\n+                new_balances = [self.nodes[i].getbalance() for i in range(4)]\n+                for k in range(3):\n+                    i = (n + k + 1) % 4\n+                    assert_equal(unconf_balances[i], to_send * (2 + k))\n+                    assert_equal(new_balances[i], old_balances[i] + to_send * (2 + k) + (50 if i == 0 else 0))",
      "path": "test/functional/address_types.py",
      "position": null,
      "original_position": 62,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "04e82bca42409007fe42da534e2bedea1e929f00",
      "in_reply_to_id": 156062380,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I still got the errors after a `make clean` and `make`. Not sure if there's anything else I can run to make sure tests run from a blank slate. I did notice earlier that if you run two tests in parallel in separate tabs, things get really weird.",
      "created_at": "2017-12-12T07:54:06Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156291031",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156291031"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 62,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156292268",
      "pull_request_review_id": 82743952,
      "id": 156292268,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjI5MjI2OA==",
      "diff_hunk": "@@ -0,0 +1,65 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test that the wallet can send and receive using all combinations of address types.\"\"\"\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class AddressTypeTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 4\n+        self.extra_args = [[\"-addresstype=legacy\"], [\"-addresstype=p2sh\"], [\"-addresstype=p2sh\", \"-changetype=bech32\"], [\"-addresstype=bech32\"]]\n+\n+    def run_test(self):\n+        self.nodes[0].generate(1)\n+        sync_blocks(self.nodes)\n+\n+        for c in range(4):\n+            multisig = c >= 2\n+            for n in range(4):\n+                old_balances = [self.nodes[i].getbalance() for i in range(4)]\n+                to_send = (old_balances[n] / 101).quantize(Decimal(\"0.00000001\")) * 10\n+                sends = {}\n+                for k in range(4):\n+                    i = (n + k) % 4\n+                    if not multisig:\n+                        address = self.nodes[i].getnewaddress()\n+                    else:\n+                        addr1 = self.nodes[i].getnewaddress()\n+                        addr2 = self.nodes[i].getnewaddress()\n+                        address = self.nodes[i].addmultisigaddress(2, [addr1, addr2])\n+                    # Do some sanity checking on the created address\n+                    info = self.nodes[i].validateaddress(address)\n+                    print(\"%i: %r\" % (i, info))\n+                    assert(info['isvalid'])\n+                    assert(info['ismine'])\n+                    assert_equal(info['isscript'], multisig or i == 1 or i == 2)\n+                    assert_equal(info['iswitness'], i == 3)\n+                    if (info['isscript']):\n+                        assert_equal(info['script'], 'multisig' if multisig else 'witness_v0_keyhash')\n+                    else:\n+                        assert('script' not in info)\n+                    if (not multisig and (i == 1 or i == 2)):\n+                        assert('embedded' in info)\n+                        assert(not info['embedded']['isscript'])\n+                        assert(info['embedded']['iswitness'])\n+                        assert_equal(info['pubkey'], info['embedded']['pubkey'])\n+                    else:\n+                        assert('embedded' not in info)\n+                    # In each iteration, one node sends 10/101th of its balance to itself, 20/1011ths to the next peer,\n+                    # 30/101ths to the one after that, and 40/101ths to the remaining one.\n+                    sends[address] = to_send * (1 + k)\n+                self.nodes[n].sendmany(\"\", sends)\n+                sync_mempools(self.nodes)\n+                unconf_balances = [self.nodes[i].getunconfirmedbalance() for i in range(4)]\n+                self.nodes[0].generate(1)\n+                sync_blocks(self.nodes)\n+                new_balances = [self.nodes[i].getbalance() for i in range(4)]\n+                for k in range(3):\n+                    i = (n + k + 1) % 4\n+                    assert_equal(unconf_balances[i], to_send * (2 + k))\n+                    assert_equal(new_balances[i], old_balances[i] + to_send * (2 + k) + (50 if i == 0 else 0))",
      "path": "test/functional/address_types.py",
      "position": null,
      "original_position": 62,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "04e82bca42409007fe42da534e2bedea1e929f00",
      "in_reply_to_id": 156062380,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "TIL `make clean` doesn't erase `test/cache`. That was probably it. I'll let you know if I still get this error.",
      "created_at": "2017-12-12T08:01:42Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156292268",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156292268"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 62,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156292781",
      "pull_request_review_id": 82744558,
      "id": 156292781,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjI5Mjc4MQ==",
      "diff_hunk": "@@ -4124,3 +4127,106 @@ bool CWalletTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     fInMempool = ret;\n     return ret;\n }\n+\n+static const std::string OUTPUT_TYPE_STRING_LEGACY = \"legacy\";\n+static const std::string OUTPUT_TYPE_STRING_P2SH = \"p2sh\";\n+static const std::string OUTPUT_TYPE_STRING_BECH32 = \"bech32\";\n+\n+OutputType ParseOutputType(const std::string& type, OutputType default_type)\n+{\n+    if (type == \"\") {\n+        return default_type;\n+    } else if (type == OUTPUT_TYPE_STRING_LEGACY) {\n+        return OUTPUT_TYPE_LEGACY;\n+    } else if (type == OUTPUT_TYPE_STRING_P2SH) {\n+        return OUTPUT_TYPE_P2SH;\n+    } else if (type == OUTPUT_TYPE_STRING_BECH32) {\n+        return OUTPUT_TYPE_BECH32;\n+    } else {\n+        return OUTPUT_TYPE_NONE;\n+    }\n+}\n+\n+\n+const std::string& FormatOutputType(OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return OUTPUT_TYPE_STRING_LEGACY;\n+    case OUTPUT_TYPE_P2SH: return OUTPUT_TYPE_STRING_P2SH;\n+    case OUTPUT_TYPE_BECH32: return OUTPUT_TYPE_STRING_BECH32;\n+    default: assert(false);\n+    }\n+}\n+\n+std::vector<CTxDestination> GetAllDestinationsForKey(const CPubKey& key)\n+{\n+    CKeyID keyid = key.GetID();\n+    if (key.IsCompressed()) {\n+        CTxDestination segwit = WitnessV0KeyHash(keyid);\n+        CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+        return std::vector<CTxDestination>{std::move(keyid), std::move(p2sh), std::move(segwit)};\n+    } else {\n+        return std::vector<CTxDestination>{std::move(keyid)};\n+    }\n+}\n+\n+CTxDestination CWallet::AddDestinationForKey(const CPubKey& key, OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return key.GetID();\n+    case OUTPUT_TYPE_P2SH:\n+    case OUTPUT_TYPE_BECH32: {\n+        CTxDestination witdest = WitnessV0KeyHash(key.GetID());\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(*this, witprog)) return key.GetID();\n+        // Even though CBasicKeyStore knows about P2WPKH redeemscripts implicitly, add it explicitly\n+        // so that downgrades to software without this are supported (as long as the wallet file is\n+        // up to date).\n+        AddCScript(witprog);\n+        if (type == OUTPUT_TYPE_P2SH) {\n+            return CScriptID(witprog);\n+        } else {\n+            return witdest;\n+        }\n+    }\n+    default: assert(false);\n+    }\n+}\n+\n+CTxDestination CWallet::AddDestinationForScript(const CScript& script, OutputType type)\n+{\n+    // Note that scripts over 520 bytes are not yet supported.\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY:\n+    case OUTPUT_TYPE_P2SH:\n+        return CScriptID(script);\n+    case OUTPUT_TYPE_BECH32: {\n+        WitnessV0ScriptHash hash;\n+        CSHA256().Write(script.data(), script.size()).Finalize(hash.begin());\n+        CTxDestination witdest = hash;\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)",
      "path": "src/wallet/wallet.cpp",
      "position": 159,
      "original_position": 127,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "04e82bca42409007fe42da534e2bedea1e929f00",
      "in_reply_to_id": 156057894,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "So \"i.e.\" refers to the reason you need to call `IsSolvable`, not to what `IsSolvable` does? Maybe change the comment to \"Check if the resulting program doesn't use an uncompressed key\"?",
      "created_at": "2017-12-12T08:04:56Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156292781",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156292781"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 4234,
      "original_line": 4234,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156363525",
      "pull_request_review_id": 82827088,
      "id": 156363525,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjM2MzUyNQ==",
      "diff_hunk": "@@ -0,0 +1,65 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test that the wallet can send and receive using all combinations of address types.\"\"\"\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class AddressTypeTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 4\n+        self.extra_args = [[\"-addresstype=legacy\"], [\"-addresstype=p2sh\"], [\"-addresstype=p2sh\", \"-changetype=bech32\"], [\"-addresstype=bech32\"]]\n+\n+    def run_test(self):\n+        self.nodes[0].generate(1)\n+        sync_blocks(self.nodes)\n+\n+        for c in range(4):\n+            multisig = c >= 2\n+            for n in range(4):\n+                old_balances = [self.nodes[i].getbalance() for i in range(4)]\n+                to_send = (old_balances[n] / 101).quantize(Decimal(\"0.00000001\")) * 10\n+                sends = {}\n+                for k in range(4):\n+                    i = (n + k) % 4\n+                    if not multisig:\n+                        address = self.nodes[i].getnewaddress()\n+                    else:\n+                        addr1 = self.nodes[i].getnewaddress()\n+                        addr2 = self.nodes[i].getnewaddress()\n+                        address = self.nodes[i].addmultisigaddress(2, [addr1, addr2])\n+                    # Do some sanity checking on the created address\n+                    info = self.nodes[i].validateaddress(address)\n+                    print(\"%i: %r\" % (i, info))\n+                    assert(info['isvalid'])\n+                    assert(info['ismine'])\n+                    assert_equal(info['isscript'], multisig or i == 1 or i == 2)\n+                    assert_equal(info['iswitness'], i == 3)\n+                    if (info['isscript']):\n+                        assert_equal(info['script'], 'multisig' if multisig else 'witness_v0_keyhash')\n+                    else:\n+                        assert('script' not in info)\n+                    if (not multisig and (i == 1 or i == 2)):\n+                        assert('embedded' in info)\n+                        assert(not info['embedded']['isscript'])\n+                        assert(info['embedded']['iswitness'])\n+                        assert_equal(info['pubkey'], info['embedded']['pubkey'])\n+                    else:\n+                        assert('embedded' not in info)\n+                    # In each iteration, one node sends 10/101th of its balance to itself, 20/1011ths to the next peer,\n+                    # 30/101ths to the one after that, and 40/101ths to the remaining one.\n+                    sends[address] = to_send * (1 + k)\n+                self.nodes[n].sendmany(\"\", sends)\n+                sync_mempools(self.nodes)\n+                unconf_balances = [self.nodes[i].getunconfirmedbalance() for i in range(4)]\n+                self.nodes[0].generate(1)\n+                sync_blocks(self.nodes)\n+                new_balances = [self.nodes[i].getbalance() for i in range(4)]\n+                for k in range(3):\n+                    i = (n + k + 1) % 4\n+                    assert_equal(unconf_balances[i], to_send * (2 + k))\n+                    assert_equal(new_balances[i], old_balances[i] + to_send * (2 + k) + (50 if i == 0 else 0))",
      "path": "test/functional/address_types.py",
      "position": null,
      "original_position": 62,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "04e82bca42409007fe42da534e2bedea1e929f00",
      "in_reply_to_id": 156062380,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "That wasn't it. It was #11876 (unrelated to this PR, again...).",
      "created_at": "2017-12-12T13:23:39Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156363525",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156363525"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 62,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156448698",
      "pull_request_review_id": 82927083,
      "id": 156448698,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjQ0ODY5OA==",
      "diff_hunk": "@@ -81,4 +81,10 @@ SignatureData CombineSignatures(const CScript& scriptPubKey, const BaseSignature\n SignatureData DataFromTransaction(const CMutableTransaction& tx, unsigned int nIn);\n void UpdateTransaction(CMutableTransaction& tx, unsigned int nIn, const SignatureData& data);\n \n+/* Check whether we know how to sign for an output like this, assuming we\n+ * have all private keys. While this function does need keys, the passed",
      "path": "src/script/sign.h",
      "position": null,
      "original_position": 5,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "4dbd4bb8ba6edd83fc8069fc7673f12e6ea5c7e8",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"Abstract out IsSolvable from Witnessifier\"\r\n\r\ns/does need keys/does not need private keys/?",
      "created_at": "2017-12-12T18:06:53Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156448698",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156448698"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 85,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156459433",
      "pull_request_review_id": 82927083,
      "id": 156459433,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjQ1OTQzMw==",
      "diff_hunk": "@@ -40,6 +40,45 @@ class DescribeAddressVisitor : public boost::static_visitor<UniValue>\n \n     explicit DescribeAddressVisitor(CWallet *_pwallet) : pwallet(_pwallet) {}\n \n+    void ProcessSubScript(const CScript& subscript, UniValue& obj, bool include_addresses = false) const\n+    {\n+        // Always present: script type and redeemscript\n+        txnouttype which_type;\n+        std::vector<std::vector<unsigned char>> solutions_data;\n+        Solver(subscript, which_type, solutions_data);\n+        obj.push_back(Pair(\"script\", GetTxnOutputType(which_type)));\n+        obj.push_back(Pair(\"hex\", HexStr(subscript.begin(), subscript.end())));\n+\n+        // Only when the script corresponds to an address:\n+        CTxDestination embedded;\n+        UniValue a(UniValue::VARR);\n+        if (ExtractDestination(subscript, embedded)) {\n+            UniValue subobj = boost::apply_visitor(*this, embedded);\n+            subobj.push_back(Pair(\"address\", EncodeDestination(embedded)));\n+            if (subobj.exists(\"pubkey\")) {\n+                obj.push_back(Pair(\"pubkey\", subobj[\"pubkey\"]));\n+            }\n+            obj.push_back(Pair(\"embedded\", std::move(subobj)));\n+            a.push_back(EncodeDestination(embedded));\n+        }\n+\n+        // Only when the script is multisig (in which case the ExtractDestination above certainly failed):\n+        if (which_type == TX_MULTISIG) {\n+            obj.push_back(Pair(\"sigsrequired\", solutions_data[0][0]));\n+            UniValue pubkeys(UniValue::VARR);\n+            for (size_t i = 1; i < solutions_data.size() - 1; ++i) {",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 30,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "05af17c5aad38e2ce85d2d75823e484055ec1143",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"Extend validateaddress information for P2SH-embedded witness\"\r\n\r\nThis seems like it is duplicating code in ExtractDestinations. Is there a reason that can't be reused here?",
      "created_at": "2017-12-12T18:46:59Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156459433",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156459433"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 68,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156460591",
      "pull_request_review_id": 82927083,
      "id": 156460591,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjQ2MDU5MQ==",
      "diff_hunk": "@@ -131,23 +158,30 @@ UniValue validateaddress(const JSONRPCRequest& request)\n             \"\\nResult:\\n\"\n             \"{\\n\"\n             \"  \\\"isvalid\\\" : true|false,       (boolean) If the address is valid or not. If not, this is the only property returned.\\n\"\n-            \"  \\\"address\\\" : \\\"address\\\", (string) The bitcoin address validated\\n\"\n+            \"  \\\"address\\\" : \\\"address\\\",      (string) The bitcoin address validated\\n\"\n             \"  \\\"scriptPubKey\\\" : \\\"hex\\\",       (string) The hex encoded scriptPubKey generated by the address\\n\"\n             \"  \\\"ismine\\\" : true|false,        (boolean) If the address is yours or not\\n\"\n             \"  \\\"iswatchonly\\\" : true|false,   (boolean) If the address is watchonly\\n\"\n-            \"  \\\"isscript\\\" : true|false,      (boolean) If the key is a script\\n\"\n-            \"  \\\"script\\\" : \\\"type\\\"             (string, optional) The output script type. Possible types: nonstandard, pubkey, pubkeyhash, scripthash, multisig, nulldata, witness_v0_keyhash, witness_v0_scripthash\\n\"\n-            \"  \\\"hex\\\" : \\\"hex\\\",                (string, optional) The redeemscript for the p2sh address\\n\"\n-            \"  \\\"addresses\\\"                   (string, optional) Array of addresses associated with the known redeemscript\\n\"\n+            \"  \\\"isscript\\\" : true|false,      (boolean) If the address is P2SH or P2WSH\\n\"\n+            \"  \\\"iswitness\\\" : true|false,     (boolean) If the address is P2WPKH, P2WSH, or an unknown witness version\\n\"\n+            \"  \\\"script\\\" : \\\"type\\\"             (string, optional) The output script type. Only if \\\"isscript\\\" is true. Possible types: nonstandard, pubkey, pubkeyhash, scripthash, multisig, nulldata, witness_v0_keyhash, witness_v0_scripthash, witness_unknown\\n\"\n+            \"  \\\"hex\\\" : \\\"hex\\\",                (string, optional) The redeemscript for the P2SH or P2WSH address\\n\"\n+            \"  \\\"addresses\\\"                   (string, optional) Array of addresses associated with the known redeemscript (only if \\\"script\\\" is \\\"multisig\\\" and \\\"iswitness\\\" is false)\\n\"\n             \"    [\\n\"\n             \"      \\\"address\\\"\\n\"\n             \"      ,...\\n\"\n             \"    ]\\n\"\n-            \"  \\\"sigsrequired\\\" : xxxxx        (numeric, optional) Number of signatures required to spend multisig output\\n\"\n-            \"  \\\"pubkey\\\" : \\\"publickeyhex\\\",    (string) The hex value of the raw public key\\n\"\n+            \"  \\\"pubkeys\\\"                     (string, optional) Array of pubkeys associated with the known redeemscript (only if \\\"script\\\" is \\\"multisig\\\")\\n\"\n+            \"    [\\n\"\n+            \"      \\\"pubkey\\\"\\n\"\n+            \"      ,...\\n\"\n+            \"    ]\\n\"\n+            \"  \\\"sigsrequired\\\" : xxxxx        (numeric, optional) Number of signatures required to spend multisig output (only if \\\"script\\\" is \\\"multisig\\\")\\n\"\n+            \"  \\\"pubkey\\\" : \\\"publickeyhex\\\",    (string, optional) The hex value of the raw public key\\n\"\n+            \"  \\\"embedded\\\" : {...},           (object, optional) validateaddress output for the address embedded in P2SH or P2WSH, if any and known. Includes fields: address, pubkey, isscript, script, hex, sigsrequired, pubkeys, addresses, iswitness, witness_version, witness_program\\n\"",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 107,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "05af17c5aad38e2ce85d2d75823e484055ec1143",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"Extend validateaddress information for P2SH-embedded witness\"\r\n\r\nList of included fields is confusing. Could comment characterize which type of fields are included and which fields aren't?",
      "created_at": "2017-12-12T18:51:22Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156460591",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156460591"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 181,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156470429",
      "pull_request_review_id": 82927083,
      "id": 156470429,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjQ3MDQyOQ==",
      "diff_hunk": "@@ -11,6 +11,22 @@ bool CKeyStore::AddKey(const CKey &key) {\n     return AddKeyPubKey(key, key.GetPubKey());\n }\n \n+void CBasicKeyStore::ImplicitlyLearnRelatedKeyScripts(const CPubKey& pubkey)\n+{\n+    AssertLockHeld(cs_KeyStore);",
      "path": "src/keystore.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "8e42f9c1c9b60867cc737f994371efeb2b7b4689",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"Implicitly know about P2WPKH redeemscripts\"\r\n\r\nCould you add `assert(mapKeys.count(pubkey.GetID()) || mapWatchKeys.count(pubkey.GetID())`?\r\n\r\nThe need to add implicit scripts is confusing enough that I think it would help to document assumptions and potentially catch bugs in the implementation adding them.",
      "created_at": "2017-12-12T19:26:52Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156470429",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156470429"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 16,
      "original_line": 16,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156471223",
      "pull_request_review_id": 82927083,
      "id": 156471223,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjQ3MTIyMw==",
      "diff_hunk": "@@ -11,6 +11,22 @@ bool CKeyStore::AddKey(const CKey &key) {\n     return AddKeyPubKey(key, key.GetPubKey());\n }\n \n+void CBasicKeyStore::ImplicitlyLearnRelatedKeyScripts(const CPubKey& pubkey)\n+{\n+    AssertLockHeld(cs_KeyStore);\n+    // This adds the redeemscripts necessary to detect P2WPKH and P2SH-P2WPKH\n+    // outputs. Technically P2WPKH outputs don't have a redeemscript to be\n+    // spent. However, our current IsMine logic requires the corresponding\n+    // P2SH-P2WPKH redeemscript to be present in the wallet in order to accept\n+    // payment even to P2WPKH outputs.",
      "path": "src/keystore.cpp",
      "position": 14,
      "original_position": 11,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "8e42f9c1c9b60867cc737f994371efeb2b7b4689",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"Implicitly know about P2WPKH redeemscripts\"\r\n\r\nMaybe add a sentence like:\r\n\r\n> \"Implicitly\" refers to fact that scripts are derived automatically from existing keys, and are only stored in memory, not written to disk.\r\n\r\nIt might also be worth saying why they aren't written to disk. It's not clear if that would be completely useless in any downgrade scenario or if it just doesn't help with one of the downgrade scenarios we care about.",
      "created_at": "2017-12-12T19:29:47Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156471223",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156471223"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 24,
      "original_line": 24,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156478849",
      "pull_request_review_id": 82962510,
      "id": 156478849,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjQ3ODg0OQ==",
      "diff_hunk": "@@ -4225,3 +4226,18 @@ CTxDestination CWallet::AddDestinationForScript(const CScript& script, OutputTyp\n     default: assert(false);\n     }\n }\n+\n+void CWallet::AddRelatedScripts(const CScript& scriptPubKey, const CKeyID& keyid)\n+{\n+    CTxDestination segwit = WitnessV0KeyHash(keyid);\n+    CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+    // For SegWit scriptPubKeys, add the redeemscript explicitly to the wallet, so that\n+    // older software versions (without implicit scripts) correctly treat these as ours.\n+    if (scriptPubKey == GetScriptForDestination(segwit) || scriptPubKey == GetScriptForDestination(p2sh)) {\n+        CTxDestination witdest = WitnessV0KeyHash(keyid);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 20,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "212d794ea5b2ade021657625a31527d85570781e",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"Support downgrading after recovered keypool witness keys\"\r\n\r\nVariable duplicates `segwit` above.",
      "created_at": "2017-12-12T19:57:53Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156478849",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156478849"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4237,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156479008",
      "pull_request_review_id": 82962510,
      "id": 156479008,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjQ3OTAwOA==",
      "diff_hunk": "@@ -4225,3 +4226,18 @@ CTxDestination CWallet::AddDestinationForScript(const CScript& script, OutputTyp\n     default: assert(false);\n     }\n }\n+\n+void CWallet::AddRelatedScripts(const CScript& scriptPubKey, const CKeyID& keyid)\n+{\n+    CTxDestination segwit = WitnessV0KeyHash(keyid);\n+    CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+    // For SegWit scriptPubKeys, add the redeemscript explicitly to the wallet, so that\n+    // older software versions (without implicit scripts) correctly treat these as ours.\n+    if (scriptPubKey == GetScriptForDestination(segwit) || scriptPubKey == GetScriptForDestination(p2sh)) {\n+        CTxDestination witdest = WitnessV0KeyHash(keyid);\n+        CScript witprog = GetScriptForDestination(witdest);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 21,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "212d794ea5b2ade021657625a31527d85570781e",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"Support downgrading after recovered keypool witness keys\"\r\n\r\nThis is also computed in the if statement. Maybe declare this earlier and reuse it there.",
      "created_at": "2017-12-12T19:58:29Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156479008",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156479008"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4238,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156479293",
      "pull_request_review_id": 82962510,
      "id": 156479293,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjQ3OTI5Mw==",
      "diff_hunk": "@@ -4225,3 +4226,18 @@ CTxDestination CWallet::AddDestinationForScript(const CScript& script, OutputTyp\n     default: assert(false);\n     }\n }\n+\n+void CWallet::AddRelatedScripts(const CScript& scriptPubKey, const CKeyID& keyid)\n+{\n+    CTxDestination segwit = WitnessV0KeyHash(keyid);\n+    CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+    // For SegWit scriptPubKeys, add the redeemscript explicitly to the wallet, so that\n+    // older software versions (without implicit scripts) correctly treat these as ours.\n+    if (scriptPubKey == GetScriptForDestination(segwit) || scriptPubKey == GetScriptForDestination(p2sh)) {\n+        CTxDestination witdest = WitnessV0KeyHash(keyid);\n+        CScript witprog = GetScriptForDestination(witdest);\n+        if (IsSolvable(*this, witprog)) {",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 22,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "212d794ea5b2ade021657625a31527d85570781e",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"Support downgrading after recovered keypool witness keys\"\r\n\r\nCould you add a comment saying what it means if IsSolvable is false? It seems like that should be an error or maybe never happen.",
      "created_at": "2017-12-12T19:59:29Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156479293",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156479293"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4239,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156482622",
      "pull_request_review_id": 82962510,
      "id": 156482622,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjQ4MjYyMg==",
      "diff_hunk": "@@ -4225,3 +4226,18 @@ CTxDestination CWallet::AddDestinationForScript(const CScript& script, OutputTyp\n     default: assert(false);\n     }\n }\n+\n+void CWallet::AddRelatedScripts(const CScript& scriptPubKey, const CKeyID& keyid)",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "212d794ea5b2ade021657625a31527d85570781e",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"Support downgrading after recovered keypool witness keys\"\r\n\r\nCan this `assert(mapKeys.count(keyid))`?",
      "created_at": "2017-12-12T20:12:04Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156482622",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156482622"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4235,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156486302",
      "pull_request_review_id": 82962510,
      "id": 156486302,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjQ4NjMwMg==",
      "diff_hunk": "@@ -4124,3 +4127,97 @@ bool CWalletTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     fInMempool = ret;\n     return ret;\n }\n+\n+static const std::string OUTPUT_TYPE_STRING_LEGACY = \"legacy\";\n+static const std::string OUTPUT_TYPE_STRING_P2SH = \"p2sh\";\n+static const std::string OUTPUT_TYPE_STRING_BECH32 = \"bech32\";\n+\n+OutputType ParseOutputType(const std::string& type, OutputType default_type)\n+{\n+    if (type == \"\") {\n+        return default_type;\n+    } else if (type == OUTPUT_TYPE_STRING_LEGACY) {\n+        return OUTPUT_TYPE_LEGACY;\n+    } else if (type == OUTPUT_TYPE_STRING_P2SH) {\n+        return OUTPUT_TYPE_P2SH;\n+    } else if (type == OUTPUT_TYPE_STRING_BECH32) {\n+        return OUTPUT_TYPE_BECH32;\n+    } else {\n+        return OUTPUT_TYPE_NONE;\n+    }\n+}\n+\n+\n+const std::string& FormatOutputType(OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return OUTPUT_TYPE_STRING_LEGACY;\n+    case OUTPUT_TYPE_P2SH: return OUTPUT_TYPE_STRING_P2SH;\n+    case OUTPUT_TYPE_BECH32: return OUTPUT_TYPE_STRING_BECH32;\n+    default: assert(false);\n+    }\n+}\n+\n+std::vector<CTxDestination> CWallet::GetAllDestinationsForKey(const CPubKey& key)\n+{\n+    CKeyID keyid = key.GetID();\n+    if (key.IsCompressed()) {\n+        CTxDestination segwit = WitnessV0KeyHash(keyid);\n+        CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+        return std::vector<CTxDestination>{std::move(keyid), std::move(p2sh), std::move(segwit)};\n+    } else {\n+        return std::vector<CTxDestination>{std::move(keyid)};\n+    }\n+}\n+\n+CTxDestination CWallet::GetDestinationForKey(const CPubKey& key, OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return key.GetID();\n+    case OUTPUT_TYPE_P2SH:\n+    case OUTPUT_TYPE_BECH32: {\n+        CTxDestination witdest = WitnessV0KeyHash(key.GetID());\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(*this, witprog)) return key.GetID();\n+        // Even though CBasicKeyStore knows about P2WPKH redeemscripts implicitly, add it explicitly\n+        // so that downgrades to software without this are supported (as long as the wallet file is\n+        // up to date).\n+        AddCScript(witprog);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 104,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e2e9ead25fe0ddb364e35f8eabb5a7f937d3973b",
      "in_reply_to_id": 155665399,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> That seems hard, as we don't distinguish scripts that were added explicitly and implicitly.\r\n\r\nIs there a reason not to distinguish scripts that were added explicitly and implicitly? It seems like it would just require storing `{ CScript script; bool ephemeral; }` in mapScripts. Probably better not to do in this PR, but could this be a good idea for a followup?",
      "created_at": "2017-12-12T20:28:23Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156486302",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156486302"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4198,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156505175",
      "pull_request_review_id": 82962510,
      "id": 156505175,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjUwNTE3NQ==",
      "diff_hunk": "@@ -4135,3 +4138,106 @@ bool CWalletTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     fInMempool = ret;\n     return ret;\n }\n+\n+static const std::string OUTPUT_TYPE_STRING_LEGACY = \"legacy\";\n+static const std::string OUTPUT_TYPE_STRING_P2SH = \"p2sh\";\n+static const std::string OUTPUT_TYPE_STRING_BECH32 = \"bech32\";\n+\n+OutputType ParseOutputType(const std::string& type, OutputType default_type)\n+{\n+    if (type == \"\") {\n+        return default_type;\n+    } else if (type == OUTPUT_TYPE_STRING_LEGACY) {\n+        return OUTPUT_TYPE_LEGACY;\n+    } else if (type == OUTPUT_TYPE_STRING_P2SH) {\n+        return OUTPUT_TYPE_P2SH;\n+    } else if (type == OUTPUT_TYPE_STRING_BECH32) {\n+        return OUTPUT_TYPE_BECH32;\n+    } else {\n+        return OUTPUT_TYPE_NONE;\n+    }\n+}\n+\n+\n+const std::string& FormatOutputType(OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return OUTPUT_TYPE_STRING_LEGACY;\n+    case OUTPUT_TYPE_P2SH: return OUTPUT_TYPE_STRING_P2SH;\n+    case OUTPUT_TYPE_BECH32: return OUTPUT_TYPE_STRING_BECH32;\n+    default: assert(false);\n+    }\n+}\n+\n+std::vector<CTxDestination> GetAllDestinationsForKey(const CPubKey& key)\n+{\n+    CKeyID keyid = key.GetID();\n+    if (key.IsCompressed()) {\n+        CTxDestination segwit = WitnessV0KeyHash(keyid);\n+        CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+        return std::vector<CTxDestination>{std::move(keyid), std::move(p2sh), std::move(segwit)};\n+    } else {\n+        return std::vector<CTxDestination>{std::move(keyid)};\n+    }\n+}\n+\n+CTxDestination CWallet::AddDestinationForKey(const CPubKey& key, OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return key.GetID();\n+    case OUTPUT_TYPE_P2SH:\n+    case OUTPUT_TYPE_BECH32: {\n+        CTxDestination witdest = WitnessV0KeyHash(key.GetID());\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(*this, witprog)) return key.GetID();\n+        // Even though CBasicKeyStore knows about P2WPKH redeemscripts implicitly, add it explicitly\n+        // so that downgrades to software without this are supported (as long as the wallet file is\n+        // up to date).\n+        AddCScript(witprog);\n+        if (type == OUTPUT_TYPE_P2SH) {\n+            return CScriptID(witprog);\n+        } else {\n+            return witdest;\n+        }\n+    }\n+    default: assert(false);\n+    }\n+}\n+\n+CTxDestination CWallet::AddDestinationForScript(const CScript& script, OutputType type)\n+{\n+    // Note that scripts over 520 bytes are not yet supported.\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY:\n+    case OUTPUT_TYPE_P2SH:\n+        return CScriptID(script);\n+    case OUTPUT_TYPE_BECH32: {\n+        WitnessV0ScriptHash hash;\n+        CSHA256().Write(script.data(), script.size()).Finalize(hash.begin());\n+        CTxDestination witdest = hash;\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(*this, witprog)) return CScriptID(script);\n+        AddCScript(witprog);\n+        // Add the redeemscript, so that P2WSH and P2SH-P2WSH outputs are recognized as ours.\n+        return witdest;\n+    }\n+    default: assert(false);\n+    }\n+}\n+\n+void CWallet::AddRelatedScripts(const CScript& scriptPubKey, const CKeyID& keyid)",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 137,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "a7661006b82484969506da49ffc695d2a5bea3d2",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"Support downgrading after recovered keypool witness keys\"\r\n\r\nCan this `assert(mapKeys.count(keyid))`?",
      "created_at": "2017-12-12T21:47:58Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156505175",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156505175"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4235,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156505981",
      "pull_request_review_id": 82962510,
      "id": 156505981,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjUwNTk4MQ==",
      "diff_hunk": "@@ -4135,3 +4138,106 @@ bool CWalletTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     fInMempool = ret;\n     return ret;\n }\n+\n+static const std::string OUTPUT_TYPE_STRING_LEGACY = \"legacy\";\n+static const std::string OUTPUT_TYPE_STRING_P2SH = \"p2sh\";\n+static const std::string OUTPUT_TYPE_STRING_BECH32 = \"bech32\";\n+\n+OutputType ParseOutputType(const std::string& type, OutputType default_type)\n+{\n+    if (type == \"\") {\n+        return default_type;\n+    } else if (type == OUTPUT_TYPE_STRING_LEGACY) {\n+        return OUTPUT_TYPE_LEGACY;\n+    } else if (type == OUTPUT_TYPE_STRING_P2SH) {\n+        return OUTPUT_TYPE_P2SH;\n+    } else if (type == OUTPUT_TYPE_STRING_BECH32) {\n+        return OUTPUT_TYPE_BECH32;\n+    } else {\n+        return OUTPUT_TYPE_NONE;\n+    }\n+}\n+\n+\n+const std::string& FormatOutputType(OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return OUTPUT_TYPE_STRING_LEGACY;\n+    case OUTPUT_TYPE_P2SH: return OUTPUT_TYPE_STRING_P2SH;\n+    case OUTPUT_TYPE_BECH32: return OUTPUT_TYPE_STRING_BECH32;\n+    default: assert(false);\n+    }\n+}\n+\n+std::vector<CTxDestination> GetAllDestinationsForKey(const CPubKey& key)\n+{\n+    CKeyID keyid = key.GetID();\n+    if (key.IsCompressed()) {\n+        CTxDestination segwit = WitnessV0KeyHash(keyid);\n+        CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+        return std::vector<CTxDestination>{std::move(keyid), std::move(p2sh), std::move(segwit)};\n+    } else {\n+        return std::vector<CTxDestination>{std::move(keyid)};\n+    }\n+}\n+\n+CTxDestination CWallet::AddDestinationForKey(const CPubKey& key, OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return key.GetID();\n+    case OUTPUT_TYPE_P2SH:\n+    case OUTPUT_TYPE_BECH32: {\n+        CTxDestination witdest = WitnessV0KeyHash(key.GetID());\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(*this, witprog)) return key.GetID();\n+        // Even though CBasicKeyStore knows about P2WPKH redeemscripts implicitly, add it explicitly\n+        // so that downgrades to software without this are supported (as long as the wallet file is\n+        // up to date).\n+        AddCScript(witprog);\n+        if (type == OUTPUT_TYPE_P2SH) {\n+            return CScriptID(witprog);\n+        } else {\n+            return witdest;\n+        }\n+    }\n+    default: assert(false);\n+    }\n+}\n+\n+CTxDestination CWallet::AddDestinationForScript(const CScript& script, OutputType type)\n+{\n+    // Note that scripts over 520 bytes are not yet supported.\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY:\n+    case OUTPUT_TYPE_P2SH:\n+        return CScriptID(script);\n+    case OUTPUT_TYPE_BECH32: {\n+        WitnessV0ScriptHash hash;\n+        CSHA256().Write(script.data(), script.size()).Finalize(hash.begin());\n+        CTxDestination witdest = hash;\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(*this, witprog)) return CScriptID(script);\n+        AddCScript(witprog);\n+        // Add the redeemscript, so that P2WSH and P2SH-P2WSH outputs are recognized as ours.\n+        return witdest;\n+    }\n+    default: assert(false);\n+    }\n+}\n+\n+void CWallet::AddRelatedScripts(const CScript& scriptPubKey, const CKeyID& keyid)\n+{\n+    CTxDestination segwit = WitnessV0KeyHash(keyid);\n+    CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+    // For SegWit scriptPubKeys, add the redeemscript explicitly to the wallet, so that\n+    // older software versions (without implicit scripts) correctly treat these as ours.\n+    if (scriptPubKey == GetScriptForDestination(segwit) || scriptPubKey == GetScriptForDestination(p2sh)) {\n+        CTxDestination witdest = WitnessV0KeyHash(keyid);\n+        CScript witprog = GetScriptForDestination(witdest);\n+        if (IsSolvable(*this, witprog)) {\n+            AddCScript(witprog);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 147,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "a7661006b82484969506da49ffc695d2a5bea3d2",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"Support downgrading after recovered keypool witness keys\"\r\n\r\nNo test seems to fail if this is commented out. Since this is only needed for downgrades it'd be good to have some kind of check to know if it stops working.",
      "created_at": "2017-12-12T21:50:40Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156505981",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156505981"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4240,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156506863",
      "pull_request_review_id": 82962510,
      "id": 156506863,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjUwNjg2Mw==",
      "diff_hunk": "@@ -4135,3 +4138,106 @@ bool CWalletTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     fInMempool = ret;\n     return ret;\n }\n+\n+static const std::string OUTPUT_TYPE_STRING_LEGACY = \"legacy\";\n+static const std::string OUTPUT_TYPE_STRING_P2SH = \"p2sh\";\n+static const std::string OUTPUT_TYPE_STRING_BECH32 = \"bech32\";\n+\n+OutputType ParseOutputType(const std::string& type, OutputType default_type)\n+{\n+    if (type == \"\") {\n+        return default_type;\n+    } else if (type == OUTPUT_TYPE_STRING_LEGACY) {\n+        return OUTPUT_TYPE_LEGACY;\n+    } else if (type == OUTPUT_TYPE_STRING_P2SH) {\n+        return OUTPUT_TYPE_P2SH;\n+    } else if (type == OUTPUT_TYPE_STRING_BECH32) {\n+        return OUTPUT_TYPE_BECH32;\n+    } else {\n+        return OUTPUT_TYPE_NONE;\n+    }\n+}\n+\n+\n+const std::string& FormatOutputType(OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return OUTPUT_TYPE_STRING_LEGACY;\n+    case OUTPUT_TYPE_P2SH: return OUTPUT_TYPE_STRING_P2SH;\n+    case OUTPUT_TYPE_BECH32: return OUTPUT_TYPE_STRING_BECH32;\n+    default: assert(false);\n+    }\n+}\n+\n+std::vector<CTxDestination> GetAllDestinationsForKey(const CPubKey& key)\n+{\n+    CKeyID keyid = key.GetID();\n+    if (key.IsCompressed()) {\n+        CTxDestination segwit = WitnessV0KeyHash(keyid);\n+        CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+        return std::vector<CTxDestination>{std::move(keyid), std::move(p2sh), std::move(segwit)};\n+    } else {\n+        return std::vector<CTxDestination>{std::move(keyid)};\n+    }\n+}\n+\n+CTxDestination CWallet::AddDestinationForKey(const CPubKey& key, OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return key.GetID();\n+    case OUTPUT_TYPE_P2SH:\n+    case OUTPUT_TYPE_BECH32: {\n+        CTxDestination witdest = WitnessV0KeyHash(key.GetID());\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(*this, witprog)) return key.GetID();\n+        // Even though CBasicKeyStore knows about P2WPKH redeemscripts implicitly, add it explicitly\n+        // so that downgrades to software without this are supported (as long as the wallet file is\n+        // up to date).\n+        AddCScript(witprog);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 104,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "a7661006b82484969506da49ffc695d2a5bea3d2",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"SegWit wallet support\"\r\n\r\nNo test seems to fail if this is unset. It'd be good to have a check to know if this stops working.",
      "created_at": "2017-12-12T21:54:19Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156506863",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156506863"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4198,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156508186",
      "pull_request_review_id": 82997805,
      "id": 156508186,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjUwODE4Ng==",
      "diff_hunk": "@@ -4124,3 +4127,106 @@ bool CWalletTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     fInMempool = ret;\n     return ret;\n }\n+\n+static const std::string OUTPUT_TYPE_STRING_LEGACY = \"legacy\";\n+static const std::string OUTPUT_TYPE_STRING_P2SH = \"p2sh\";\n+static const std::string OUTPUT_TYPE_STRING_BECH32 = \"bech32\";\n+\n+OutputType ParseOutputType(const std::string& type, OutputType default_type)\n+{\n+    if (type == \"\") {\n+        return default_type;\n+    } else if (type == OUTPUT_TYPE_STRING_LEGACY) {\n+        return OUTPUT_TYPE_LEGACY;\n+    } else if (type == OUTPUT_TYPE_STRING_P2SH) {\n+        return OUTPUT_TYPE_P2SH;\n+    } else if (type == OUTPUT_TYPE_STRING_BECH32) {\n+        return OUTPUT_TYPE_BECH32;\n+    } else {\n+        return OUTPUT_TYPE_NONE;\n+    }\n+}\n+\n+\n+const std::string& FormatOutputType(OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return OUTPUT_TYPE_STRING_LEGACY;\n+    case OUTPUT_TYPE_P2SH: return OUTPUT_TYPE_STRING_P2SH;\n+    case OUTPUT_TYPE_BECH32: return OUTPUT_TYPE_STRING_BECH32;\n+    default: assert(false);\n+    }\n+}\n+\n+std::vector<CTxDestination> GetAllDestinationsForKey(const CPubKey& key)\n+{\n+    CKeyID keyid = key.GetID();\n+    if (key.IsCompressed()) {\n+        CTxDestination segwit = WitnessV0KeyHash(keyid);\n+        CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+        return std::vector<CTxDestination>{std::move(keyid), std::move(p2sh), std::move(segwit)};\n+    } else {\n+        return std::vector<CTxDestination>{std::move(keyid)};\n+    }\n+}\n+\n+CTxDestination CWallet::AddDestinationForKey(const CPubKey& key, OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return key.GetID();\n+    case OUTPUT_TYPE_P2SH:\n+    case OUTPUT_TYPE_BECH32: {\n+        CTxDestination witdest = WitnessV0KeyHash(key.GetID());\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(*this, witprog)) return key.GetID();\n+        // Even though CBasicKeyStore knows about P2WPKH redeemscripts implicitly, add it explicitly\n+        // so that downgrades to software without this are supported (as long as the wallet file is\n+        // up to date).\n+        AddCScript(witprog);\n+        if (type == OUTPUT_TYPE_P2SH) {\n+            return CScriptID(witprog);\n+        } else {\n+            return witdest;\n+        }\n+    }\n+    default: assert(false);\n+    }\n+}\n+\n+CTxDestination CWallet::AddDestinationForScript(const CScript& script, OutputType type)\n+{\n+    // Note that scripts over 520 bytes are not yet supported.\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY:\n+    case OUTPUT_TYPE_P2SH:\n+        return CScriptID(script);\n+    case OUTPUT_TYPE_BECH32: {\n+        WitnessV0ScriptHash hash;\n+        CSHA256().Write(script.data(), script.size()).Finalize(hash.begin());\n+        CTxDestination witdest = hash;\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)",
      "path": "src/wallet/wallet.cpp",
      "position": 159,
      "original_position": 127,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "04e82bca42409007fe42da534e2bedea1e929f00",
      "in_reply_to_id": 156057894,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156057894\r\n\r\n> So \"i.e.\" refers to the reason you need to call IsSolvable, not to what IsSolvable does? Maybe change the comment to \"Check if the resulting program doesn't use an uncompressed key\"?\r\n\r\nFunny, even though I originally mistook \"i.e.\" for \"e.g.\" when reading the same comment in AddDestinationForKey above (https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155870014), I think sipa's current comment is clearer than your suggestion, because your suggestion doesn't directly mention the solvable call.\r\n\r\nAlso, strictly speaking, unlike in `AddDestinationForKey` above, `IsSolveable` here is not only checking for uncompressed keys but also verifying that `script` was previously added to the wallet.",
      "created_at": "2017-12-12T21:59:48Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156508186",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156508186"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 4234,
      "original_line": 4234,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156509855",
      "pull_request_review_id": 82999775,
      "id": 156509855,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjUwOTg1NQ==",
      "diff_hunk": "@@ -4124,3 +4127,97 @@ bool CWalletTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     fInMempool = ret;\n     return ret;\n }\n+\n+static const std::string OUTPUT_TYPE_STRING_LEGACY = \"legacy\";\n+static const std::string OUTPUT_TYPE_STRING_P2SH = \"p2sh\";\n+static const std::string OUTPUT_TYPE_STRING_BECH32 = \"bech32\";\n+\n+OutputType ParseOutputType(const std::string& type, OutputType default_type)\n+{\n+    if (type == \"\") {\n+        return default_type;\n+    } else if (type == OUTPUT_TYPE_STRING_LEGACY) {\n+        return OUTPUT_TYPE_LEGACY;\n+    } else if (type == OUTPUT_TYPE_STRING_P2SH) {\n+        return OUTPUT_TYPE_P2SH;\n+    } else if (type == OUTPUT_TYPE_STRING_BECH32) {\n+        return OUTPUT_TYPE_BECH32;\n+    } else {\n+        return OUTPUT_TYPE_NONE;\n+    }\n+}\n+\n+\n+const std::string& FormatOutputType(OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return OUTPUT_TYPE_STRING_LEGACY;\n+    case OUTPUT_TYPE_P2SH: return OUTPUT_TYPE_STRING_P2SH;\n+    case OUTPUT_TYPE_BECH32: return OUTPUT_TYPE_STRING_BECH32;\n+    default: assert(false);\n+    }\n+}\n+\n+std::vector<CTxDestination> CWallet::GetAllDestinationsForKey(const CPubKey& key)\n+{\n+    CKeyID keyid = key.GetID();\n+    if (key.IsCompressed()) {\n+        CTxDestination segwit = WitnessV0KeyHash(keyid);\n+        CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+        return std::vector<CTxDestination>{std::move(keyid), std::move(p2sh), std::move(segwit)};\n+    } else {\n+        return std::vector<CTxDestination>{std::move(keyid)};\n+    }\n+}\n+\n+CTxDestination CWallet::GetDestinationForKey(const CPubKey& key, OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return key.GetID();\n+    case OUTPUT_TYPE_P2SH:\n+    case OUTPUT_TYPE_BECH32: {\n+        CTxDestination witdest = WitnessV0KeyHash(key.GetID());\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(*this, witprog)) return key.GetID();\n+        // Even though CBasicKeyStore knows about P2WPKH redeemscripts implicitly, add it explicitly\n+        // so that downgrades to software without this are supported (as long as the wallet file is\n+        // up to date).\n+        AddCScript(witprog);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 104,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e2e9ead25fe0ddb364e35f8eabb5a7f937d3973b",
      "in_reply_to_id": 155665399,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think its worth trying to figure something out. As it is stuff like listaddressesbyaccount (or, in the future, by labels) will suffer a significant performance regression trying to create DB batches per address, add something thats already there, and then close the batch.",
      "created_at": "2017-12-12T22:07:07Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156509855",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156509855"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4198,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156524523",
      "pull_request_review_id": 83016659,
      "id": 156524523,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjUyNDUyMw==",
      "diff_hunk": "@@ -11,6 +11,22 @@ bool CKeyStore::AddKey(const CKey &key) {\n     return AddKeyPubKey(key, key.GetPubKey());\n }\n \n+void CBasicKeyStore::ImplicitlyLearnRelatedKeyScripts(const CPubKey& pubkey)\n+{\n+    AssertLockHeld(cs_KeyStore);",
      "path": "src/keystore.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "8e42f9c1c9b60867cc737f994371efeb2b7b4689",
      "in_reply_to_id": 156470429,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I don't think those asserts are correct for encrypted wallets.",
      "created_at": "2017-12-12T23:18:14Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156524523",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156524523"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 16,
      "original_line": 16,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156532471",
      "pull_request_review_id": 83025697,
      "id": 156532471,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjUzMjQ3MQ==",
      "diff_hunk": "@@ -40,6 +40,45 @@ class DescribeAddressVisitor : public boost::static_visitor<UniValue>\n \n     explicit DescribeAddressVisitor(CWallet *_pwallet) : pwallet(_pwallet) {}\n \n+    void ProcessSubScript(const CScript& subscript, UniValue& obj, bool include_addresses = false) const\n+    {\n+        // Always present: script type and redeemscript\n+        txnouttype which_type;\n+        std::vector<std::vector<unsigned char>> solutions_data;\n+        Solver(subscript, which_type, solutions_data);\n+        obj.push_back(Pair(\"script\", GetTxnOutputType(which_type)));\n+        obj.push_back(Pair(\"hex\", HexStr(subscript.begin(), subscript.end())));\n+\n+        // Only when the script corresponds to an address:\n+        CTxDestination embedded;\n+        UniValue a(UniValue::VARR);\n+        if (ExtractDestination(subscript, embedded)) {\n+            UniValue subobj = boost::apply_visitor(*this, embedded);\n+            subobj.push_back(Pair(\"address\", EncodeDestination(embedded)));\n+            if (subobj.exists(\"pubkey\")) {\n+                obj.push_back(Pair(\"pubkey\", subobj[\"pubkey\"]));\n+            }\n+            obj.push_back(Pair(\"embedded\", std::move(subobj)));\n+            a.push_back(EncodeDestination(embedded));\n+        }\n+\n+        // Only when the script is multisig (in which case the ExtractDestination above certainly failed):\n+        if (which_type == TX_MULTISIG) {\n+            obj.push_back(Pair(\"sigsrequired\", solutions_data[0][0]));\n+            UniValue pubkeys(UniValue::VARR);\n+            for (size_t i = 1; i < solutions_data.size() - 1; ++i) {",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 30,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "05af17c5aad38e2ce85d2d75823e484055ec1143",
      "in_reply_to_id": 156459433,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes.\r\n\r\nThe short term answer is that ExtractDestinations doesn't actually report destination(s) of a script, but reports either (a) the destination a script corresponds to or (b) the destinations corresponding to the P2PKH versions of the public keys involved in a multisig transactions. In this branch, we don't want public-keys-encoded-as-destinations but the actual public keys.\r\n\r\nThe longer term answer is that ExtractDestinations is nonsensical and we should get rid of it. A script doesn't contain multiple destinations. It either corresponds to a single destination (anything we can treat as an address), or not (which is the case for multisig scripts). Historically, we didn't distinguish between destinations and keys (and P2PKH addresses were just the way to identify a key). I'll add a TODO that ExtractDestinations should be phased out and replaced.",
      "created_at": "2017-12-13T00:07:30Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156532471",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156532471"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 68,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156537997",
      "pull_request_review_id": 83031948,
      "id": 156537997,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjUzNzk5Nw==",
      "diff_hunk": "@@ -4225,3 +4226,18 @@ CTxDestination CWallet::AddDestinationForScript(const CScript& script, OutputTyp\n     default: assert(false);\n     }\n }\n+\n+void CWallet::AddRelatedScripts(const CScript& scriptPubKey, const CKeyID& keyid)",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "212d794ea5b2ade021657625a31527d85570781e",
      "in_reply_to_id": 156482622,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "No, that wouldn't work for encrypted wallets.",
      "created_at": "2017-12-13T00:46:33Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156537997",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156537997"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4235,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156545566",
      "pull_request_review_id": 83040507,
      "id": 156545566,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjU0NTU2Ng==",
      "diff_hunk": "@@ -11,6 +11,22 @@ bool CKeyStore::AddKey(const CKey &key) {\n     return AddKeyPubKey(key, key.GetPubKey());\n }\n \n+void CBasicKeyStore::ImplicitlyLearnRelatedKeyScripts(const CPubKey& pubkey)\n+{\n+    AssertLockHeld(cs_KeyStore);\n+    // This adds the redeemscripts necessary to detect P2WPKH and P2SH-P2WPKH\n+    // outputs. Technically P2WPKH outputs don't have a redeemscript to be\n+    // spent. However, our current IsMine logic requires the corresponding\n+    // P2SH-P2WPKH redeemscript to be present in the wallet in order to accept\n+    // payment even to P2WPKH outputs.",
      "path": "src/keystore.cpp",
      "position": 14,
      "original_position": 11,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "8e42f9c1c9b60867cc737f994371efeb2b7b4689",
      "in_reply_to_id": 156471223,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Adding with a slight modification.",
      "created_at": "2017-12-13T01:43:58Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156545566",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156545566"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 24,
      "original_line": 24,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156545614",
      "pull_request_review_id": 83040567,
      "id": 156545614,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjU0NTYxNA==",
      "diff_hunk": "@@ -131,23 +158,30 @@ UniValue validateaddress(const JSONRPCRequest& request)\n             \"\\nResult:\\n\"\n             \"{\\n\"\n             \"  \\\"isvalid\\\" : true|false,       (boolean) If the address is valid or not. If not, this is the only property returned.\\n\"\n-            \"  \\\"address\\\" : \\\"address\\\", (string) The bitcoin address validated\\n\"\n+            \"  \\\"address\\\" : \\\"address\\\",      (string) The bitcoin address validated\\n\"\n             \"  \\\"scriptPubKey\\\" : \\\"hex\\\",       (string) The hex encoded scriptPubKey generated by the address\\n\"\n             \"  \\\"ismine\\\" : true|false,        (boolean) If the address is yours or not\\n\"\n             \"  \\\"iswatchonly\\\" : true|false,   (boolean) If the address is watchonly\\n\"\n-            \"  \\\"isscript\\\" : true|false,      (boolean) If the key is a script\\n\"\n-            \"  \\\"script\\\" : \\\"type\\\"             (string, optional) The output script type. Possible types: nonstandard, pubkey, pubkeyhash, scripthash, multisig, nulldata, witness_v0_keyhash, witness_v0_scripthash\\n\"\n-            \"  \\\"hex\\\" : \\\"hex\\\",                (string, optional) The redeemscript for the p2sh address\\n\"\n-            \"  \\\"addresses\\\"                   (string, optional) Array of addresses associated with the known redeemscript\\n\"\n+            \"  \\\"isscript\\\" : true|false,      (boolean) If the address is P2SH or P2WSH\\n\"\n+            \"  \\\"iswitness\\\" : true|false,     (boolean) If the address is P2WPKH, P2WSH, or an unknown witness version\\n\"\n+            \"  \\\"script\\\" : \\\"type\\\"             (string, optional) The output script type. Only if \\\"isscript\\\" is true. Possible types: nonstandard, pubkey, pubkeyhash, scripthash, multisig, nulldata, witness_v0_keyhash, witness_v0_scripthash, witness_unknown\\n\"\n+            \"  \\\"hex\\\" : \\\"hex\\\",                (string, optional) The redeemscript for the P2SH or P2WSH address\\n\"\n+            \"  \\\"addresses\\\"                   (string, optional) Array of addresses associated with the known redeemscript (only if \\\"script\\\" is \\\"multisig\\\" and \\\"iswitness\\\" is false)\\n\"\n             \"    [\\n\"\n             \"      \\\"address\\\"\\n\"\n             \"      ,...\\n\"\n             \"    ]\\n\"\n-            \"  \\\"sigsrequired\\\" : xxxxx        (numeric, optional) Number of signatures required to spend multisig output\\n\"\n-            \"  \\\"pubkey\\\" : \\\"publickeyhex\\\",    (string) The hex value of the raw public key\\n\"\n+            \"  \\\"pubkeys\\\"                     (string, optional) Array of pubkeys associated with the known redeemscript (only if \\\"script\\\" is \\\"multisig\\\")\\n\"\n+            \"    [\\n\"\n+            \"      \\\"pubkey\\\"\\n\"\n+            \"      ,...\\n\"\n+            \"    ]\\n\"\n+            \"  \\\"sigsrequired\\\" : xxxxx        (numeric, optional) Number of signatures required to spend multisig output (only if \\\"script\\\" is \\\"multisig\\\")\\n\"\n+            \"  \\\"pubkey\\\" : \\\"publickeyhex\\\",    (string, optional) The hex value of the raw public key\\n\"\n+            \"  \\\"embedded\\\" : {...},           (object, optional) validateaddress output for the address embedded in P2SH or P2WSH, if any and known. Includes fields: address, pubkey, isscript, script, hex, sigsrequired, pubkeys, addresses, iswitness, witness_version, witness_program\\n\"",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 107,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "05af17c5aad38e2ce85d2d75823e484055ec1143",
      "in_reply_to_id": 156460591,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2017-12-13T01:44:17Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156545614",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156545614"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 181,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156545627",
      "pull_request_review_id": 83040581,
      "id": 156545627,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjU0NTYyNw==",
      "diff_hunk": "@@ -81,4 +81,10 @@ SignatureData CombineSignatures(const CScript& scriptPubKey, const BaseSignature\n SignatureData DataFromTransaction(const CMutableTransaction& tx, unsigned int nIn);\n void UpdateTransaction(CMutableTransaction& tx, unsigned int nIn, const SignatureData& data);\n \n+/* Check whether we know how to sign for an output like this, assuming we\n+ * have all private keys. While this function does need keys, the passed",
      "path": "src/script/sign.h",
      "position": null,
      "original_position": 5,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "4dbd4bb8ba6edd83fc8069fc7673f12e6ea5c7e8",
      "in_reply_to_id": 156448698,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2017-12-13T01:44:24Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156545627",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156545627"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 85,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156545646",
      "pull_request_review_id": 83040609,
      "id": 156545646,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjU0NTY0Ng==",
      "diff_hunk": "@@ -4225,3 +4226,18 @@ CTxDestination CWallet::AddDestinationForScript(const CScript& script, OutputTyp\n     default: assert(false);\n     }\n }\n+\n+void CWallet::AddRelatedScripts(const CScript& scriptPubKey, const CKeyID& keyid)\n+{\n+    CTxDestination segwit = WitnessV0KeyHash(keyid);\n+    CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+    // For SegWit scriptPubKeys, add the redeemscript explicitly to the wallet, so that\n+    // older software versions (without implicit scripts) correctly treat these as ours.\n+    if (scriptPubKey == GetScriptForDestination(segwit) || scriptPubKey == GetScriptForDestination(p2sh)) {\n+        CTxDestination witdest = WitnessV0KeyHash(keyid);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 20,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "212d794ea5b2ade021657625a31527d85570781e",
      "in_reply_to_id": 156478849,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed.",
      "created_at": "2017-12-13T01:44:34Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156545646",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156545646"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4237,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156545661",
      "pull_request_review_id": 83040631,
      "id": 156545661,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjU0NTY2MQ==",
      "diff_hunk": "@@ -4225,3 +4226,18 @@ CTxDestination CWallet::AddDestinationForScript(const CScript& script, OutputTyp\n     default: assert(false);\n     }\n }\n+\n+void CWallet::AddRelatedScripts(const CScript& scriptPubKey, const CKeyID& keyid)\n+{\n+    CTxDestination segwit = WitnessV0KeyHash(keyid);\n+    CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+    // For SegWit scriptPubKeys, add the redeemscript explicitly to the wallet, so that\n+    // older software versions (without implicit scripts) correctly treat these as ours.\n+    if (scriptPubKey == GetScriptForDestination(segwit) || scriptPubKey == GetScriptForDestination(p2sh)) {\n+        CTxDestination witdest = WitnessV0KeyHash(keyid);\n+        CScript witprog = GetScriptForDestination(witdest);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 21,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "212d794ea5b2ade021657625a31527d85570781e",
      "in_reply_to_id": 156479008,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2017-12-13T01:44:40Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156545661",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156545661"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4238,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156545692",
      "pull_request_review_id": 83040666,
      "id": 156545692,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjU0NTY5Mg==",
      "diff_hunk": "@@ -4225,3 +4226,18 @@ CTxDestination CWallet::AddDestinationForScript(const CScript& script, OutputTyp\n     default: assert(false);\n     }\n }\n+\n+void CWallet::AddRelatedScripts(const CScript& scriptPubKey, const CKeyID& keyid)\n+{\n+    CTxDestination segwit = WitnessV0KeyHash(keyid);\n+    CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+    // For SegWit scriptPubKeys, add the redeemscript explicitly to the wallet, so that\n+    // older software versions (without implicit scripts) correctly treat these as ours.\n+    if (scriptPubKey == GetScriptForDestination(segwit) || scriptPubKey == GetScriptForDestination(p2sh)) {\n+        CTxDestination witdest = WitnessV0KeyHash(keyid);\n+        CScript witprog = GetScriptForDestination(witdest);\n+        if (IsSolvable(*this, witprog)) {",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 22,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "212d794ea5b2ade021657625a31527d85570781e",
      "in_reply_to_id": 156479293,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I removed the check, and added a comment why it's not needed.",
      "created_at": "2017-12-13T01:44:54Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156545692",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156545692"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4239,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156545989",
      "pull_request_review_id": 83040994,
      "id": 156545989,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjU0NTk4OQ==",
      "diff_hunk": "@@ -4135,3 +4138,106 @@ bool CWalletTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     fInMempool = ret;\n     return ret;\n }\n+\n+static const std::string OUTPUT_TYPE_STRING_LEGACY = \"legacy\";\n+static const std::string OUTPUT_TYPE_STRING_P2SH = \"p2sh\";\n+static const std::string OUTPUT_TYPE_STRING_BECH32 = \"bech32\";\n+\n+OutputType ParseOutputType(const std::string& type, OutputType default_type)\n+{\n+    if (type == \"\") {\n+        return default_type;\n+    } else if (type == OUTPUT_TYPE_STRING_LEGACY) {\n+        return OUTPUT_TYPE_LEGACY;\n+    } else if (type == OUTPUT_TYPE_STRING_P2SH) {\n+        return OUTPUT_TYPE_P2SH;\n+    } else if (type == OUTPUT_TYPE_STRING_BECH32) {\n+        return OUTPUT_TYPE_BECH32;\n+    } else {\n+        return OUTPUT_TYPE_NONE;\n+    }\n+}\n+\n+\n+const std::string& FormatOutputType(OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return OUTPUT_TYPE_STRING_LEGACY;\n+    case OUTPUT_TYPE_P2SH: return OUTPUT_TYPE_STRING_P2SH;\n+    case OUTPUT_TYPE_BECH32: return OUTPUT_TYPE_STRING_BECH32;\n+    default: assert(false);\n+    }\n+}\n+\n+std::vector<CTxDestination> GetAllDestinationsForKey(const CPubKey& key)\n+{\n+    CKeyID keyid = key.GetID();\n+    if (key.IsCompressed()) {\n+        CTxDestination segwit = WitnessV0KeyHash(keyid);\n+        CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+        return std::vector<CTxDestination>{std::move(keyid), std::move(p2sh), std::move(segwit)};\n+    } else {\n+        return std::vector<CTxDestination>{std::move(keyid)};\n+    }\n+}\n+\n+CTxDestination CWallet::AddDestinationForKey(const CPubKey& key, OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return key.GetID();\n+    case OUTPUT_TYPE_P2SH:\n+    case OUTPUT_TYPE_BECH32: {\n+        CTxDestination witdest = WitnessV0KeyHash(key.GetID());\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(*this, witprog)) return key.GetID();\n+        // Even though CBasicKeyStore knows about P2WPKH redeemscripts implicitly, add it explicitly\n+        // so that downgrades to software without this are supported (as long as the wallet file is\n+        // up to date).\n+        AddCScript(witprog);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 104,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "a7661006b82484969506da49ffc695d2a5bea3d2",
      "in_reply_to_id": 156506863,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, that's inevitable.\r\n\r\nWe have two conditions under which we add the script explicitly (when generating a new address, and when noticing an IsMine keypool address on the network). Both of these always already have the script added implicitly, so there is no change in behaviour from the explicit add. It's just there for compatibility with downgrading to earlier software, which we can't test for in the current test framework AFAIK.",
      "created_at": "2017-12-13T01:47:08Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156545989",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156545989"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4198,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156546074",
      "pull_request_review_id": 83041086,
      "id": 156546074,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjU0NjA3NA==",
      "diff_hunk": "@@ -4135,3 +4138,106 @@ bool CWalletTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     fInMempool = ret;\n     return ret;\n }\n+\n+static const std::string OUTPUT_TYPE_STRING_LEGACY = \"legacy\";\n+static const std::string OUTPUT_TYPE_STRING_P2SH = \"p2sh\";\n+static const std::string OUTPUT_TYPE_STRING_BECH32 = \"bech32\";\n+\n+OutputType ParseOutputType(const std::string& type, OutputType default_type)\n+{\n+    if (type == \"\") {\n+        return default_type;\n+    } else if (type == OUTPUT_TYPE_STRING_LEGACY) {\n+        return OUTPUT_TYPE_LEGACY;\n+    } else if (type == OUTPUT_TYPE_STRING_P2SH) {\n+        return OUTPUT_TYPE_P2SH;\n+    } else if (type == OUTPUT_TYPE_STRING_BECH32) {\n+        return OUTPUT_TYPE_BECH32;\n+    } else {\n+        return OUTPUT_TYPE_NONE;\n+    }\n+}\n+\n+\n+const std::string& FormatOutputType(OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return OUTPUT_TYPE_STRING_LEGACY;\n+    case OUTPUT_TYPE_P2SH: return OUTPUT_TYPE_STRING_P2SH;\n+    case OUTPUT_TYPE_BECH32: return OUTPUT_TYPE_STRING_BECH32;\n+    default: assert(false);\n+    }\n+}\n+\n+std::vector<CTxDestination> GetAllDestinationsForKey(const CPubKey& key)\n+{\n+    CKeyID keyid = key.GetID();\n+    if (key.IsCompressed()) {\n+        CTxDestination segwit = WitnessV0KeyHash(keyid);\n+        CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+        return std::vector<CTxDestination>{std::move(keyid), std::move(p2sh), std::move(segwit)};\n+    } else {\n+        return std::vector<CTxDestination>{std::move(keyid)};\n+    }\n+}\n+\n+CTxDestination CWallet::AddDestinationForKey(const CPubKey& key, OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return key.GetID();\n+    case OUTPUT_TYPE_P2SH:\n+    case OUTPUT_TYPE_BECH32: {\n+        CTxDestination witdest = WitnessV0KeyHash(key.GetID());\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(*this, witprog)) return key.GetID();\n+        // Even though CBasicKeyStore knows about P2WPKH redeemscripts implicitly, add it explicitly\n+        // so that downgrades to software without this are supported (as long as the wallet file is\n+        // up to date).\n+        AddCScript(witprog);\n+        if (type == OUTPUT_TYPE_P2SH) {\n+            return CScriptID(witprog);\n+        } else {\n+            return witdest;\n+        }\n+    }\n+    default: assert(false);\n+    }\n+}\n+\n+CTxDestination CWallet::AddDestinationForScript(const CScript& script, OutputType type)\n+{\n+    // Note that scripts over 520 bytes are not yet supported.\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY:\n+    case OUTPUT_TYPE_P2SH:\n+        return CScriptID(script);\n+    case OUTPUT_TYPE_BECH32: {\n+        WitnessV0ScriptHash hash;\n+        CSHA256().Write(script.data(), script.size()).Finalize(hash.begin());\n+        CTxDestination witdest = hash;\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(*this, witprog)) return CScriptID(script);\n+        AddCScript(witprog);\n+        // Add the redeemscript, so that P2WSH and P2SH-P2WSH outputs are recognized as ours.\n+        return witdest;\n+    }\n+    default: assert(false);\n+    }\n+}\n+\n+void CWallet::AddRelatedScripts(const CScript& scriptPubKey, const CKeyID& keyid)",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 137,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "a7661006b82484969506da49ffc695d2a5bea3d2",
      "in_reply_to_id": 156505175,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "No, that wouldn't work for encrypted wallets (which use mapCryptedKeys).",
      "created_at": "2017-12-13T01:47:58Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156546074",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156546074"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4235,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156546118",
      "pull_request_review_id": 83041132,
      "id": 156546118,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjU0NjExOA==",
      "diff_hunk": "@@ -4135,3 +4138,106 @@ bool CWalletTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     fInMempool = ret;\n     return ret;\n }\n+\n+static const std::string OUTPUT_TYPE_STRING_LEGACY = \"legacy\";\n+static const std::string OUTPUT_TYPE_STRING_P2SH = \"p2sh\";\n+static const std::string OUTPUT_TYPE_STRING_BECH32 = \"bech32\";\n+\n+OutputType ParseOutputType(const std::string& type, OutputType default_type)\n+{\n+    if (type == \"\") {\n+        return default_type;\n+    } else if (type == OUTPUT_TYPE_STRING_LEGACY) {\n+        return OUTPUT_TYPE_LEGACY;\n+    } else if (type == OUTPUT_TYPE_STRING_P2SH) {\n+        return OUTPUT_TYPE_P2SH;\n+    } else if (type == OUTPUT_TYPE_STRING_BECH32) {\n+        return OUTPUT_TYPE_BECH32;\n+    } else {\n+        return OUTPUT_TYPE_NONE;\n+    }\n+}\n+\n+\n+const std::string& FormatOutputType(OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return OUTPUT_TYPE_STRING_LEGACY;\n+    case OUTPUT_TYPE_P2SH: return OUTPUT_TYPE_STRING_P2SH;\n+    case OUTPUT_TYPE_BECH32: return OUTPUT_TYPE_STRING_BECH32;\n+    default: assert(false);\n+    }\n+}\n+\n+std::vector<CTxDestination> GetAllDestinationsForKey(const CPubKey& key)\n+{\n+    CKeyID keyid = key.GetID();\n+    if (key.IsCompressed()) {\n+        CTxDestination segwit = WitnessV0KeyHash(keyid);\n+        CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+        return std::vector<CTxDestination>{std::move(keyid), std::move(p2sh), std::move(segwit)};\n+    } else {\n+        return std::vector<CTxDestination>{std::move(keyid)};\n+    }\n+}\n+\n+CTxDestination CWallet::AddDestinationForKey(const CPubKey& key, OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return key.GetID();\n+    case OUTPUT_TYPE_P2SH:\n+    case OUTPUT_TYPE_BECH32: {\n+        CTxDestination witdest = WitnessV0KeyHash(key.GetID());\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(*this, witprog)) return key.GetID();\n+        // Even though CBasicKeyStore knows about P2WPKH redeemscripts implicitly, add it explicitly\n+        // so that downgrades to software without this are supported (as long as the wallet file is\n+        // up to date).\n+        AddCScript(witprog);\n+        if (type == OUTPUT_TYPE_P2SH) {\n+            return CScriptID(witprog);\n+        } else {\n+            return witdest;\n+        }\n+    }\n+    default: assert(false);\n+    }\n+}\n+\n+CTxDestination CWallet::AddDestinationForScript(const CScript& script, OutputType type)\n+{\n+    // Note that scripts over 520 bytes are not yet supported.\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY:\n+    case OUTPUT_TYPE_P2SH:\n+        return CScriptID(script);\n+    case OUTPUT_TYPE_BECH32: {\n+        WitnessV0ScriptHash hash;\n+        CSHA256().Write(script.data(), script.size()).Finalize(hash.begin());\n+        CTxDestination witdest = hash;\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(*this, witprog)) return CScriptID(script);\n+        AddCScript(witprog);\n+        // Add the redeemscript, so that P2WSH and P2SH-P2WSH outputs are recognized as ours.\n+        return witdest;\n+    }\n+    default: assert(false);\n+    }\n+}\n+\n+void CWallet::AddRelatedScripts(const CScript& scriptPubKey, const CKeyID& keyid)\n+{\n+    CTxDestination segwit = WitnessV0KeyHash(keyid);\n+    CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+    // For SegWit scriptPubKeys, add the redeemscript explicitly to the wallet, so that\n+    // older software versions (without implicit scripts) correctly treat these as ours.\n+    if (scriptPubKey == GetScriptForDestination(segwit) || scriptPubKey == GetScriptForDestination(p2sh)) {\n+        CTxDestination witdest = WitnessV0KeyHash(keyid);\n+        CScript witprog = GetScriptForDestination(witdest);\n+        if (IsSolvable(*this, witprog)) {\n+            AddCScript(witprog);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 147,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "a7661006b82484969506da49ffc695d2a5bea3d2",
      "in_reply_to_id": 156505981,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Likewise, this is untestable because it only affects downgrading.",
      "created_at": "2017-12-13T01:48:15Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156546118",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156546118"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4240,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156778208",
      "pull_request_review_id": 82997805,
      "id": 156778208,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1Njc3ODIwOA==",
      "diff_hunk": "@@ -422,3 +422,17 @@ bool DummySignatureCreator::CreateSig(std::vector<unsigned char>& vchSig, const\n     vchSig[6 + 33 + 32] = SIGHASH_ALL;\n     return true;\n }\n+\n+bool IsSolvable(const CKeyStore& store, const CScript& script)\n+{\n+    // This check is to make sure that the script we created can actually be solved for and signed by us\n+    // if we were to have the private keys. This is just to make sure that the script is valid and that,\n+    // if found in a transaction, we would still accept and relay that transaction. In particular,\n+    // it will reject witness outputs that require signing with an uncompressed public key.\n+    DummySignatureCreator creator(&store);\n+    SignatureData sigs;\n+    // Make sure that STANDARD_SCRIPT_VERIFY_FLAGS includes SCRIPT_VERIFY_WITNESS_PUBKEYTYPE, the most\n+    // important property this function is designed to test for.\n+    static_assert(STANDARD_SCRIPT_VERIFY_FLAGS & SCRIPT_VERIFY_WITNESS_PUBKEYTYPE, \"IsSolvable requires standard script flags to include WITNESS_PUBKEYTYPE\");\n+    return (ProduceSignature(creator, script, sigs) && VerifyScript(sigs.scriptSig, script, &sigs.scriptWitness, STANDARD_SCRIPT_VERIFY_FLAGS, creator.Checker()));",
      "path": "src/script/sign.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "b2c21fce66a2ce62cba832b87d086b5ea587691a",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"Abstract out IsSolvable from Witnessifier\"\r\n\r\nWhen would ProduceSignature be expected to succeed but VerifyScript be expected to fail? Asking because I don't know the answer, but also because I think it would be helpful to have a comment here that says whether VerifyScript here changes the logic or is just defensive.",
      "created_at": "2017-12-13T20:48:26Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156778208",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156778208"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 438,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156778880",
      "pull_request_review_id": 82997805,
      "id": 156778880,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1Njc3ODg4MA==",
      "diff_hunk": "@@ -40,6 +40,45 @@ class DescribeAddressVisitor : public boost::static_visitor<UniValue>\n \n     explicit DescribeAddressVisitor(CWallet *_pwallet) : pwallet(_pwallet) {}\n \n+    void ProcessSubScript(const CScript& subscript, UniValue& obj, bool include_addresses = false) const\n+    {\n+        // Always present: script type and redeemscript\n+        txnouttype which_type;\n+        std::vector<std::vector<unsigned char>> solutions_data;\n+        Solver(subscript, which_type, solutions_data);\n+        obj.push_back(Pair(\"script\", GetTxnOutputType(which_type)));\n+        obj.push_back(Pair(\"hex\", HexStr(subscript.begin(), subscript.end())));\n+\n+        // Only when the script corresponds to an address:\n+        CTxDestination embedded;\n+        UniValue a(UniValue::VARR);\n+        if (ExtractDestination(subscript, embedded)) {\n+            UniValue subobj = boost::apply_visitor(*this, embedded);\n+            subobj.push_back(Pair(\"address\", EncodeDestination(embedded)));\n+            if (subobj.exists(\"pubkey\")) {\n+                obj.push_back(Pair(\"pubkey\", subobj[\"pubkey\"]));\n+            }\n+            obj.push_back(Pair(\"embedded\", std::move(subobj)));\n+            a.push_back(EncodeDestination(embedded));\n+        }\n+\n+        // Only when the script is multisig (in which case the ExtractDestination above certainly failed):\n+        if (which_type == TX_MULTISIG) {\n+            obj.push_back(Pair(\"sigsrequired\", solutions_data[0][0]));\n+            UniValue pubkeys(UniValue::VARR);\n+            for (size_t i = 1; i < solutions_data.size() - 1; ++i) {",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 30,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "05af17c5aad38e2ce85d2d75823e484055ec1143",
      "in_reply_to_id": 156459433,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156459433\r\n\r\nThanks, really appreciate the clarification (and TODOs).\r\n\r\nBy the same logic, would you also want to deprecate the \"addresses\" field since it is also using addresses to refer to keys that are not destinations?",
      "created_at": "2017-12-13T20:51:15Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156778880",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156778880"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 68,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156779570",
      "pull_request_review_id": 82997805,
      "id": 156779570,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1Njc3OTU3MA==",
      "diff_hunk": "@@ -40,6 +40,47 @@ class DescribeAddressVisitor : public boost::static_visitor<UniValue>\n \n     explicit DescribeAddressVisitor(CWallet *_pwallet) : pwallet(_pwallet) {}\n \n+    void ProcessSubScript(const CScript& subscript, UniValue& obj, bool include_addresses = false) const\n+    {\n+        // Always present: script type and redeemscript\n+        txnouttype which_type;\n+        std::vector<std::vector<unsigned char>> solutions_data;\n+        Solver(subscript, which_type, solutions_data);\n+        obj.push_back(Pair(\"script\", GetTxnOutputType(which_type)));",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 10,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "f20398b80520d9e1f572893a8b2cc9f0e79413bc",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"Extend validateaddress information for P2SH-embedded witness\"\r\n\r\nJust FYI, but could pushKV() instead of push_back(Pair()) throughout this function.",
      "created_at": "2017-12-13T20:54:07Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156779570",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156779570"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 49,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156790854",
      "pull_request_review_id": 82997805,
      "id": 156790854,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1Njc5MDg1NA==",
      "diff_hunk": "@@ -40,6 +40,47 @@ class DescribeAddressVisitor : public boost::static_visitor<UniValue>\n \n     explicit DescribeAddressVisitor(CWallet *_pwallet) : pwallet(_pwallet) {}\n \n+    void ProcessSubScript(const CScript& subscript, UniValue& obj, bool include_addresses = false) const\n+    {\n+        // Always present: script type and redeemscript\n+        txnouttype which_type;\n+        std::vector<std::vector<unsigned char>> solutions_data;\n+        Solver(subscript, which_type, solutions_data);\n+        obj.push_back(Pair(\"script\", GetTxnOutputType(which_type)));\n+        obj.push_back(Pair(\"hex\", HexStr(subscript.begin(), subscript.end())));\n+\n+        // Only when the script corresponds to an address:\n+        CTxDestination embedded;\n+        UniValue a(UniValue::VARR);\n+        if (ExtractDestination(subscript, embedded)) {\n+            UniValue subobj = boost::apply_visitor(*this, embedded);\n+            subobj.push_back(Pair(\"address\", EncodeDestination(embedded)));\n+            subobj.push_back(Pair(\"scriptPubKey\", HexStr(subscript.begin(), subscript.end())));\n+            if (subobj.exists(\"pubkey\")) {\n+                obj.push_back(Pair(\"pubkey\", subobj[\"pubkey\"]));",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 21,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "f20398b80520d9e1f572893a8b2cc9f0e79413bc",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"Extend validateaddress information for P2SH-embedded witness\"\r\n\r\nWhy mirror this one field from the embedded object into the parent object and not others? E.g. would it make sense to mirror the \"pubkeys\" field as well, since it seems to be the equivalent of \"pubkey\" for multisig scripts?\r\n\r\nAlso is it worth noting in validateaddress documentation that this will contain pubkey from either a top level or an embedded script?",
      "created_at": "2017-12-13T21:30:28Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156790854",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156790854"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 60,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156805781",
      "pull_request_review_id": 82997805,
      "id": 156805781,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjgwNTc4MQ==",
      "diff_hunk": "@@ -11,6 +11,22 @@ bool CKeyStore::AddKey(const CKey &key) {\n     return AddKeyPubKey(key, key.GetPubKey());\n }\n \n+void CBasicKeyStore::ImplicitlyLearnRelatedKeyScripts(const CPubKey& pubkey)\n+{\n+    AssertLockHeld(cs_KeyStore);",
      "path": "src/keystore.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "8e42f9c1c9b60867cc737f994371efeb2b7b4689",
      "in_reply_to_id": 156470429,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156470429\r\n\r\n> I don't think those asserts are correct for encrypted wallets.\r\n\r\nFollowing seems to work (if you also move the two `ImplicitlyLearnRelatedKeyScripts()` calls one line down in `CBasicKeyStore::AddKeyPubKey` and `CCryptoKeyStore::AddCryptedKey`):\r\n```c++\r\nassert(HaveKey(pubkey.GetID()) || mapWatchKeys.count(pubkey.GetID()));\r\n```",
      "created_at": "2017-12-13T22:33:48Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156805781",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156805781"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 16,
      "original_line": 16,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156809759",
      "pull_request_review_id": 82997805,
      "id": 156809759,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjgwOTc1OQ==",
      "diff_hunk": "@@ -4135,3 +4138,106 @@ bool CWalletTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     fInMempool = ret;\n     return ret;\n }\n+\n+static const std::string OUTPUT_TYPE_STRING_LEGACY = \"legacy\";\n+static const std::string OUTPUT_TYPE_STRING_P2SH = \"p2sh\";\n+static const std::string OUTPUT_TYPE_STRING_BECH32 = \"bech32\";\n+\n+OutputType ParseOutputType(const std::string& type, OutputType default_type)\n+{\n+    if (type == \"\") {\n+        return default_type;\n+    } else if (type == OUTPUT_TYPE_STRING_LEGACY) {\n+        return OUTPUT_TYPE_LEGACY;\n+    } else if (type == OUTPUT_TYPE_STRING_P2SH) {\n+        return OUTPUT_TYPE_P2SH;\n+    } else if (type == OUTPUT_TYPE_STRING_BECH32) {\n+        return OUTPUT_TYPE_BECH32;\n+    } else {\n+        return OUTPUT_TYPE_NONE;\n+    }\n+}\n+\n+\n+const std::string& FormatOutputType(OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return OUTPUT_TYPE_STRING_LEGACY;\n+    case OUTPUT_TYPE_P2SH: return OUTPUT_TYPE_STRING_P2SH;\n+    case OUTPUT_TYPE_BECH32: return OUTPUT_TYPE_STRING_BECH32;\n+    default: assert(false);\n+    }\n+}\n+\n+std::vector<CTxDestination> GetAllDestinationsForKey(const CPubKey& key)\n+{\n+    CKeyID keyid = key.GetID();\n+    if (key.IsCompressed()) {\n+        CTxDestination segwit = WitnessV0KeyHash(keyid);\n+        CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+        return std::vector<CTxDestination>{std::move(keyid), std::move(p2sh), std::move(segwit)};\n+    } else {\n+        return std::vector<CTxDestination>{std::move(keyid)};\n+    }\n+}\n+\n+CTxDestination CWallet::AddDestinationForKey(const CPubKey& key, OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return key.GetID();\n+    case OUTPUT_TYPE_P2SH:\n+    case OUTPUT_TYPE_BECH32: {\n+        CTxDestination witdest = WitnessV0KeyHash(key.GetID());\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(*this, witprog)) return key.GetID();\n+        // Even though CBasicKeyStore knows about P2WPKH redeemscripts implicitly, add it explicitly\n+        // so that downgrades to software without this are supported (as long as the wallet file is\n+        // up to date).\n+        AddCScript(witprog);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 104,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "a7661006b82484969506da49ffc695d2a5bea3d2",
      "in_reply_to_id": 156506863,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156506863\r\n\r\n>  It's just there for compatibility with downgrading to earlier software, which we can't test for in the current test framework AFAIK.\r\n\r\nI see the difficulty, and maybe this should be saved for a followup, but I could imagine testing this by subclassing `CWallet` in a unit test, overriding `AddCScript`, and ensuring the correct calls are made. Another option could be to trigger this code from python, then shut down the node and do the equivalent of `popen(\"db_dump wallet.dat\")` and make sure the expected cscript entries are present.",
      "created_at": "2017-12-13T22:53:37Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156809759",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156809759"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4198,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156811636",
      "pull_request_review_id": 82997805,
      "id": 156811636,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjgxMTYzNg==",
      "diff_hunk": "@@ -4225,3 +4226,18 @@ CTxDestination CWallet::AddDestinationForScript(const CScript& script, OutputTyp\n     default: assert(false);\n     }\n }\n+\n+void CWallet::AddRelatedScripts(const CScript& scriptPubKey, const CKeyID& keyid)",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "212d794ea5b2ade021657625a31527d85570781e",
      "in_reply_to_id": 156482622,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156505175\r\n\r\n> No, that wouldn't work for encrypted wallets.\r\n\r\nI think `assert(HaveKey(keyid))` should work.",
      "created_at": "2017-12-13T23:02:44Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156811636",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156811636"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4235,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156832524",
      "pull_request_review_id": 83374317,
      "id": 156832524,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjgzMjUyNA==",
      "diff_hunk": "@@ -11,6 +11,22 @@ bool CKeyStore::AddKey(const CKey &key) {\n     return AddKeyPubKey(key, key.GetPubKey());\n }\n \n+void CBasicKeyStore::ImplicitlyLearnRelatedKeyScripts(const CPubKey& pubkey)\n+{\n+    AssertLockHeld(cs_KeyStore);",
      "path": "src/keystore.cpp",
      "position": 6,
      "original_position": 6,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "8e42f9c1c9b60867cc737f994371efeb2b7b4689",
      "in_reply_to_id": 156470429,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Added.",
      "created_at": "2017-12-14T01:24:37Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156832524",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156832524"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 16,
      "original_line": 16,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156832545",
      "pull_request_review_id": 83374340,
      "id": 156832545,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjgzMjU0NQ==",
      "diff_hunk": "@@ -40,6 +40,45 @@ class DescribeAddressVisitor : public boost::static_visitor<UniValue>\n \n     explicit DescribeAddressVisitor(CWallet *_pwallet) : pwallet(_pwallet) {}\n \n+    void ProcessSubScript(const CScript& subscript, UniValue& obj, bool include_addresses = false) const\n+    {\n+        // Always present: script type and redeemscript\n+        txnouttype which_type;\n+        std::vector<std::vector<unsigned char>> solutions_data;\n+        Solver(subscript, which_type, solutions_data);\n+        obj.push_back(Pair(\"script\", GetTxnOutputType(which_type)));\n+        obj.push_back(Pair(\"hex\", HexStr(subscript.begin(), subscript.end())));\n+\n+        // Only when the script corresponds to an address:\n+        CTxDestination embedded;\n+        UniValue a(UniValue::VARR);\n+        if (ExtractDestination(subscript, embedded)) {\n+            UniValue subobj = boost::apply_visitor(*this, embedded);\n+            subobj.push_back(Pair(\"address\", EncodeDestination(embedded)));\n+            if (subobj.exists(\"pubkey\")) {\n+                obj.push_back(Pair(\"pubkey\", subobj[\"pubkey\"]));\n+            }\n+            obj.push_back(Pair(\"embedded\", std::move(subobj)));\n+            a.push_back(EncodeDestination(embedded));\n+        }\n+\n+        // Only when the script is multisig (in which case the ExtractDestination above certainly failed):\n+        if (which_type == TX_MULTISIG) {\n+            obj.push_back(Pair(\"sigsrequired\", solutions_data[0][0]));\n+            UniValue pubkeys(UniValue::VARR);\n+            for (size_t i = 1; i < solutions_data.size() - 1; ++i) {",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 30,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "05af17c5aad38e2ce85d2d75823e484055ec1143",
      "in_reply_to_id": 156459433,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Added a comment about that too.",
      "created_at": "2017-12-14T01:24:50Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156832545",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156832545"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 68,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156832572",
      "pull_request_review_id": 83374371,
      "id": 156832572,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjgzMjU3Mg==",
      "diff_hunk": "@@ -4225,3 +4226,18 @@ CTxDestination CWallet::AddDestinationForScript(const CScript& script, OutputTyp\n     default: assert(false);\n     }\n }\n+\n+void CWallet::AddRelatedScripts(const CScript& scriptPubKey, const CKeyID& keyid)",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "212d794ea5b2ade021657625a31527d85570781e",
      "in_reply_to_id": 156482622,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Added. ",
      "created_at": "2017-12-14T01:25:07Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156832572",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156832572"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4235,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156832642",
      "pull_request_review_id": 83374449,
      "id": 156832642,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjgzMjY0Mg==",
      "diff_hunk": "@@ -4135,3 +4138,106 @@ bool CWalletTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     fInMempool = ret;\n     return ret;\n }\n+\n+static const std::string OUTPUT_TYPE_STRING_LEGACY = \"legacy\";\n+static const std::string OUTPUT_TYPE_STRING_P2SH = \"p2sh\";\n+static const std::string OUTPUT_TYPE_STRING_BECH32 = \"bech32\";\n+\n+OutputType ParseOutputType(const std::string& type, OutputType default_type)\n+{\n+    if (type == \"\") {\n+        return default_type;\n+    } else if (type == OUTPUT_TYPE_STRING_LEGACY) {\n+        return OUTPUT_TYPE_LEGACY;\n+    } else if (type == OUTPUT_TYPE_STRING_P2SH) {\n+        return OUTPUT_TYPE_P2SH;\n+    } else if (type == OUTPUT_TYPE_STRING_BECH32) {\n+        return OUTPUT_TYPE_BECH32;\n+    } else {\n+        return OUTPUT_TYPE_NONE;\n+    }\n+}\n+\n+\n+const std::string& FormatOutputType(OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return OUTPUT_TYPE_STRING_LEGACY;\n+    case OUTPUT_TYPE_P2SH: return OUTPUT_TYPE_STRING_P2SH;\n+    case OUTPUT_TYPE_BECH32: return OUTPUT_TYPE_STRING_BECH32;\n+    default: assert(false);\n+    }\n+}\n+\n+std::vector<CTxDestination> GetAllDestinationsForKey(const CPubKey& key)\n+{\n+    CKeyID keyid = key.GetID();\n+    if (key.IsCompressed()) {\n+        CTxDestination segwit = WitnessV0KeyHash(keyid);\n+        CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+        return std::vector<CTxDestination>{std::move(keyid), std::move(p2sh), std::move(segwit)};\n+    } else {\n+        return std::vector<CTxDestination>{std::move(keyid)};\n+    }\n+}\n+\n+CTxDestination CWallet::AddDestinationForKey(const CPubKey& key, OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return key.GetID();\n+    case OUTPUT_TYPE_P2SH:\n+    case OUTPUT_TYPE_BECH32: {\n+        CTxDestination witdest = WitnessV0KeyHash(key.GetID());\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(*this, witprog)) return key.GetID();\n+        // Even though CBasicKeyStore knows about P2WPKH redeemscripts implicitly, add it explicitly\n+        // so that downgrades to software without this are supported (as long as the wallet file is\n+        // up to date).\n+        AddCScript(witprog);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 104,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "a7661006b82484969506da49ffc695d2a5bea3d2",
      "in_reply_to_id": 156506863,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, right - you can do a unit test for this; it's only end-to-end testing that's hard.",
      "created_at": "2017-12-14T01:25:42Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156832642",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156832642"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4198,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156832679",
      "pull_request_review_id": 83374493,
      "id": 156832679,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjgzMjY3OQ==",
      "diff_hunk": "@@ -40,6 +40,47 @@ class DescribeAddressVisitor : public boost::static_visitor<UniValue>\n \n     explicit DescribeAddressVisitor(CWallet *_pwallet) : pwallet(_pwallet) {}\n \n+    void ProcessSubScript(const CScript& subscript, UniValue& obj, bool include_addresses = false) const\n+    {\n+        // Always present: script type and redeemscript\n+        txnouttype which_type;\n+        std::vector<std::vector<unsigned char>> solutions_data;\n+        Solver(subscript, which_type, solutions_data);\n+        obj.push_back(Pair(\"script\", GetTxnOutputType(which_type)));",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 10,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "f20398b80520d9e1f572893a8b2cc9f0e79413bc",
      "in_reply_to_id": 156779570,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2017-12-14T01:26:00Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156832679",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156832679"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 49,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156832977",
      "pull_request_review_id": 83374810,
      "id": 156832977,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjgzMjk3Nw==",
      "diff_hunk": "@@ -40,6 +40,47 @@ class DescribeAddressVisitor : public boost::static_visitor<UniValue>\n \n     explicit DescribeAddressVisitor(CWallet *_pwallet) : pwallet(_pwallet) {}\n \n+    void ProcessSubScript(const CScript& subscript, UniValue& obj, bool include_addresses = false) const\n+    {\n+        // Always present: script type and redeemscript\n+        txnouttype which_type;\n+        std::vector<std::vector<unsigned char>> solutions_data;\n+        Solver(subscript, which_type, solutions_data);\n+        obj.push_back(Pair(\"script\", GetTxnOutputType(which_type)));\n+        obj.push_back(Pair(\"hex\", HexStr(subscript.begin(), subscript.end())));\n+\n+        // Only when the script corresponds to an address:\n+        CTxDestination embedded;\n+        UniValue a(UniValue::VARR);\n+        if (ExtractDestination(subscript, embedded)) {\n+            UniValue subobj = boost::apply_visitor(*this, embedded);\n+            subobj.push_back(Pair(\"address\", EncodeDestination(embedded)));\n+            subobj.push_back(Pair(\"scriptPubKey\", HexStr(subscript.begin(), subscript.end())));\n+            if (subobj.exists(\"pubkey\")) {\n+                obj.push_back(Pair(\"pubkey\", subobj[\"pubkey\"]));",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 21,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "f20398b80520d9e1f572893a8b2cc9f0e79413bc",
      "in_reply_to_id": 156790854,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Added a comment, and in the RPC documentation.\r\n\r\nThe reason is simply to not silently break backward compatibility with the expected ability to call `validateaddress(getnewaddress())['pubkey']`. That concern doesn't exist for 'pubkeys'.",
      "created_at": "2017-12-14T01:28:15Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156832977",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156832977"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 60,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156833634",
      "pull_request_review_id": 83375530,
      "id": 156833634,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjgzMzYzNA==",
      "diff_hunk": "@@ -422,3 +422,17 @@ bool DummySignatureCreator::CreateSig(std::vector<unsigned char>& vchSig, const\n     vchSig[6 + 33 + 32] = SIGHASH_ALL;\n     return true;\n }\n+\n+bool IsSolvable(const CKeyStore& store, const CScript& script)\n+{\n+    // This check is to make sure that the script we created can actually be solved for and signed by us\n+    // if we were to have the private keys. This is just to make sure that the script is valid and that,\n+    // if found in a transaction, we would still accept and relay that transaction. In particular,\n+    // it will reject witness outputs that require signing with an uncompressed public key.\n+    DummySignatureCreator creator(&store);\n+    SignatureData sigs;\n+    // Make sure that STANDARD_SCRIPT_VERIFY_FLAGS includes SCRIPT_VERIFY_WITNESS_PUBKEYTYPE, the most\n+    // important property this function is designed to test for.\n+    static_assert(STANDARD_SCRIPT_VERIFY_FLAGS & SCRIPT_VERIFY_WITNESS_PUBKEYTYPE, \"IsSolvable requires standard script flags to include WITNESS_PUBKEYTYPE\");\n+    return (ProduceSignature(creator, script, sigs) && VerifyScript(sigs.scriptSig, script, &sigs.scriptWitness, STANDARD_SCRIPT_VERIFY_FLAGS, creator.Checker()));",
      "path": "src/script/sign.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "b2c21fce66a2ce62cba832b87d086b5ea587691a",
      "in_reply_to_id": 156778208,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It's just defense now, as `ProduceSignature` already calls `VerifyScript` with the exact same arguments. I guess we could get rid of it, but it feels much safer this way.",
      "created_at": "2017-12-14T01:33:38Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156833634",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156833634"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 438,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156994464",
      "pull_request_review_id": 83563917,
      "id": 156994464,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1Njk5NDQ2NA==",
      "diff_hunk": "@@ -40,6 +40,51 @@ class DescribeAddressVisitor : public boost::static_visitor<UniValue>\n \n     explicit DescribeAddressVisitor(CWallet *_pwallet) : pwallet(_pwallet) {}\n \n+    void ProcessSubScript(const CScript& subscript, UniValue& obj, bool include_addresses = false) const\n+    {\n+        // Always present: script type and redeemscript\n+        txnouttype which_type;\n+        std::vector<std::vector<unsigned char>> solutions_data;\n+        Solver(subscript, which_type, solutions_data);\n+        obj.pushKV(\"script\", GetTxnOutputType(which_type));\n+        obj.pushKV(\"hex\", HexStr(subscript.begin(), subscript.end()));\n+\n+        // Only when the script corresponds to an address:\n+        CTxDestination embedded;\n+        UniValue a(UniValue::VARR);\n+        if (ExtractDestination(subscript, embedded)) {\n+            UniValue subobj = boost::apply_visitor(*this, embedded);\n+            subobj.pushKV(\"address\", EncodeDestination(embedded));\n+            subobj.pushKV(\"scriptPubKey\", HexStr(subscript.begin(), subscript.end()));\n+            if (subobj.exists(\"pubkey\")) {\n+                // Always report the pubkey at the top level, so that `getnewaddress()['pubkey']` always works.\n+                obj.pushKV(\"pubkey\", subobj[\"pubkey\"]);\n+            }\n+            obj.pushKV(\"embedded\", std::move(subobj));\n+            a.push_back(EncodeDestination(embedded));\n+        }\n+\n+        // Only when the script is multisig (in which case the ExtractDestination above certainly failed):\n+        if (which_type == TX_MULTISIG) {\n+            // TODO: abstract out the common functionality between this logic and ExtractDestinations.\n+            obj.pushKV(\"sigsrequired\", solutions_data[0][0]);\n+            UniValue pubkeys(UniValue::VARR);\n+            for (size_t i = 1; i < solutions_data.size() - 1; ++i) {\n+                CPubKey key(solutions_data[i].begin(), solutions_data[i].end());\n+                a.push_back(EncodeDestination(key.GetID()));\n+                pubkeys.push_back(HexStr(key.begin(), key.end()));\n+            }\n+            obj.pushKV(\"pubkeys\", std::move(pubkeys));\n+        }\n+\n+        // Only add the 'addresses' field when needed for backward compatibility. New applications can use",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 41,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "23bbb033f6551b826ab63cdb57980e483ccecf92",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156832545\r\n\r\nMaybe add a sentence like \"The addresses field is problematic because it confuses keys and destination addresses, using addresses to refer to multisig keys that should not be treated like destinations.\"",
      "created_at": "2017-12-14T16:32:41Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156994464",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156994464"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 80,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157001582",
      "pull_request_review_id": 83563917,
      "id": 157001582,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzAwMTU4Mg==",
      "diff_hunk": "@@ -422,3 +422,17 @@ bool DummySignatureCreator::CreateSig(std::vector<unsigned char>& vchSig, const\n     vchSig[6 + 33 + 32] = SIGHASH_ALL;\n     return true;\n }\n+\n+bool IsSolvable(const CKeyStore& store, const CScript& script)\n+{\n+    // This check is to make sure that the script we created can actually be solved for and signed by us\n+    // if we were to have the private keys. This is just to make sure that the script is valid and that,\n+    // if found in a transaction, we would still accept and relay that transaction. In particular,\n+    // it will reject witness outputs that require signing with an uncompressed public key.\n+    DummySignatureCreator creator(&store);\n+    SignatureData sigs;\n+    // Make sure that STANDARD_SCRIPT_VERIFY_FLAGS includes SCRIPT_VERIFY_WITNESS_PUBKEYTYPE, the most\n+    // important property this function is designed to test for.\n+    static_assert(STANDARD_SCRIPT_VERIFY_FLAGS & SCRIPT_VERIFY_WITNESS_PUBKEYTYPE, \"IsSolvable requires standard script flags to include WITNESS_PUBKEYTYPE\");\n+    return (ProduceSignature(creator, script, sigs) && VerifyScript(sigs.scriptSig, script, &sigs.scriptWitness, STANDARD_SCRIPT_VERIFY_FLAGS, creator.Checker()));",
      "path": "src/script/sign.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "b2c21fce66a2ce62cba832b87d086b5ea587691a",
      "in_reply_to_id": 156778208,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r156778208\r\n\r\n> It's just defense now\r\n\r\nCould you add a comment like \"VerifyScript check is just defensive, and should never fail.\" I was pretty confused by this code and thought I might be missing something about the way ProduceSignature worked.\r\n",
      "created_at": "2017-12-14T16:56:59Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157001582",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157001582"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 438,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157284429",
      "pull_request_review_id": 83907344,
      "id": 157284429,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzI4NDQyOQ==",
      "diff_hunk": "@@ -40,6 +40,51 @@ class DescribeAddressVisitor : public boost::static_visitor<UniValue>\n \n     explicit DescribeAddressVisitor(CWallet *_pwallet) : pwallet(_pwallet) {}\n \n+    void ProcessSubScript(const CScript& subscript, UniValue& obj, bool include_addresses = false) const\n+    {\n+        // Always present: script type and redeemscript\n+        txnouttype which_type;\n+        std::vector<std::vector<unsigned char>> solutions_data;\n+        Solver(subscript, which_type, solutions_data);\n+        obj.pushKV(\"script\", GetTxnOutputType(which_type));\n+        obj.pushKV(\"hex\", HexStr(subscript.begin(), subscript.end()));\n+\n+        // Only when the script corresponds to an address:\n+        CTxDestination embedded;\n+        UniValue a(UniValue::VARR);\n+        if (ExtractDestination(subscript, embedded)) {\n+            UniValue subobj = boost::apply_visitor(*this, embedded);\n+            subobj.pushKV(\"address\", EncodeDestination(embedded));\n+            subobj.pushKV(\"scriptPubKey\", HexStr(subscript.begin(), subscript.end()));\n+            if (subobj.exists(\"pubkey\")) {\n+                // Always report the pubkey at the top level, so that `getnewaddress()['pubkey']` always works.\n+                obj.pushKV(\"pubkey\", subobj[\"pubkey\"]);\n+            }\n+            obj.pushKV(\"embedded\", std::move(subobj));\n+            a.push_back(EncodeDestination(embedded));\n+        }\n+\n+        // Only when the script is multisig (in which case the ExtractDestination above certainly failed):\n+        if (which_type == TX_MULTISIG) {\n+            // TODO: abstract out the common functionality between this logic and ExtractDestinations.\n+            obj.pushKV(\"sigsrequired\", solutions_data[0][0]);\n+            UniValue pubkeys(UniValue::VARR);\n+            for (size_t i = 1; i < solutions_data.size() - 1; ++i) {\n+                CPubKey key(solutions_data[i].begin(), solutions_data[i].end());\n+                a.push_back(EncodeDestination(key.GetID()));\n+                pubkeys.push_back(HexStr(key.begin(), key.end()));\n+            }\n+            obj.pushKV(\"pubkeys\", std::move(pubkeys));\n+        }\n+\n+        // Only add the 'addresses' field when needed for backward compatibility. New applications can use",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 41,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "23bbb033f6551b826ab63cdb57980e483ccecf92",
      "in_reply_to_id": 156994464,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2017-12-15T19:43:18Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157284429",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157284429"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 80,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157379341",
      "pull_request_review_id": 84010629,
      "id": 157379341,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzM3OTM0MQ==",
      "diff_hunk": "@@ -131,23 +166,30 @@ UniValue validateaddress(const JSONRPCRequest& request)\n             \"\\nResult:\\n\"\n             \"{\\n\"\n             \"  \\\"isvalid\\\" : true|false,       (boolean) If the address is valid or not. If not, this is the only property returned.\\n\"\n-            \"  \\\"address\\\" : \\\"address\\\", (string) The bitcoin address validated\\n\"\n+            \"  \\\"address\\\" : \\\"address\\\",      (string) The bitcoin address validated\\n\"",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 89,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: the indentation here is wrong, should get an additional two spaces.",
      "created_at": "2017-12-17T20:45:58Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157379341",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157379341"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 169,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157379791",
      "pull_request_review_id": 84010629,
      "id": 157379791,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzM3OTc5MQ==",
      "diff_hunk": "@@ -131,23 +166,30 @@ UniValue validateaddress(const JSONRPCRequest& request)\n             \"\\nResult:\\n\"\n             \"{\\n\"\n             \"  \\\"isvalid\\\" : true|false,       (boolean) If the address is valid or not. If not, this is the only property returned.\\n\"\n-            \"  \\\"address\\\" : \\\"address\\\", (string) The bitcoin address validated\\n\"\n+            \"  \\\"address\\\" : \\\"address\\\",      (string) The bitcoin address validated\\n\"\n             \"  \\\"scriptPubKey\\\" : \\\"hex\\\",       (string) The hex encoded scriptPubKey generated by the address\\n\"\n             \"  \\\"ismine\\\" : true|false,        (boolean) If the address is yours or not\\n\"\n             \"  \\\"iswatchonly\\\" : true|false,   (boolean) If the address is watchonly\\n\"\n-            \"  \\\"isscript\\\" : true|false,      (boolean) If the key is a script\\n\"\n-            \"  \\\"script\\\" : \\\"type\\\"             (string, optional) The output script type. Possible types: nonstandard, pubkey, pubkeyhash, scripthash, multisig, nulldata, witness_v0_keyhash, witness_v0_scripthash\\n\"\n-            \"  \\\"hex\\\" : \\\"hex\\\",                (string, optional) The redeemscript for the p2sh address\\n\"\n-            \"  \\\"addresses\\\"                   (string, optional) Array of addresses associated with the known redeemscript\\n\"\n+            \"  \\\"isscript\\\" : true|false,      (boolean) If the address is P2SH or P2WSH\\n\"",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 97,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "technically optional for WitnessUnknown-type addresses.",
      "created_at": "2017-12-17T21:02:56Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157379791",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157379791"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 173,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157379827",
      "pull_request_review_id": 84010629,
      "id": 157379827,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzM3OTgyNw==",
      "diff_hunk": "@@ -131,23 +166,30 @@ UniValue validateaddress(const JSONRPCRequest& request)\n             \"\\nResult:\\n\"\n             \"{\\n\"\n             \"  \\\"isvalid\\\" : true|false,       (boolean) If the address is valid or not. If not, this is the only property returned.\\n\"\n-            \"  \\\"address\\\" : \\\"address\\\", (string) The bitcoin address validated\\n\"\n+            \"  \\\"address\\\" : \\\"address\\\",      (string) The bitcoin address validated\\n\"\n             \"  \\\"scriptPubKey\\\" : \\\"hex\\\",       (string) The hex encoded scriptPubKey generated by the address\\n\"\n             \"  \\\"ismine\\\" : true|false,        (boolean) If the address is yours or not\\n\"\n             \"  \\\"iswatchonly\\\" : true|false,   (boolean) If the address is watchonly\\n\"\n-            \"  \\\"isscript\\\" : true|false,      (boolean) If the key is a script\\n\"\n-            \"  \\\"script\\\" : \\\"type\\\"             (string, optional) The output script type. Possible types: nonstandard, pubkey, pubkeyhash, scripthash, multisig, nulldata, witness_v0_keyhash, witness_v0_scripthash\\n\"\n-            \"  \\\"hex\\\" : \\\"hex\\\",                (string, optional) The redeemscript for the p2sh address\\n\"\n-            \"  \\\"addresses\\\"                   (string, optional) Array of addresses associated with the known redeemscript\\n\"\n+            \"  \\\"isscript\\\" : true|false,      (boolean) If the address is P2SH or P2WSH\\n\"\n+            \"  \\\"iswitness\\\" : true|false,     (boolean) If the address is P2WPKH, P2WSH, or an unknown witness version\\n\"\n+            \"  \\\"script\\\" : \\\"type\\\"             (string, optional) The output script type. Only if \\\"isscript\\\" is true. Possible types: nonstandard, pubkey, pubkeyhash, scripthash, multisig, nulldata, witness_v0_keyhash, witness_v0_scripthash, witness_unknown\\n\"",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 99,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "s/only if \\\"isscript\\\" is true/only if \\\"isscript\\\" is true and the wallet knows what the redeemScript/. There's a few more of these, I dunno if you want to bother specifying everything that specifically or just focus on #10583.",
      "created_at": "2017-12-17T21:04:30Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157379827",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157379827"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 175,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157381826",
      "pull_request_review_id": 84010629,
      "id": 157381826,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzM4MTgyNg==",
      "diff_hunk": "@@ -131,23 +166,30 @@ UniValue validateaddress(const JSONRPCRequest& request)\n             \"\\nResult:\\n\"\n             \"{\\n\"\n             \"  \\\"isvalid\\\" : true|false,       (boolean) If the address is valid or not. If not, this is the only property returned.\\n\"\n-            \"  \\\"address\\\" : \\\"address\\\", (string) The bitcoin address validated\\n\"\n+            \"  \\\"address\\\" : \\\"address\\\",      (string) The bitcoin address validated\\n\"\n             \"  \\\"scriptPubKey\\\" : \\\"hex\\\",       (string) The hex encoded scriptPubKey generated by the address\\n\"\n             \"  \\\"ismine\\\" : true|false,        (boolean) If the address is yours or not\\n\"\n             \"  \\\"iswatchonly\\\" : true|false,   (boolean) If the address is watchonly\\n\"\n-            \"  \\\"isscript\\\" : true|false,      (boolean) If the key is a script\\n\"\n-            \"  \\\"script\\\" : \\\"type\\\"             (string, optional) The output script type. Possible types: nonstandard, pubkey, pubkeyhash, scripthash, multisig, nulldata, witness_v0_keyhash, witness_v0_scripthash\\n\"\n-            \"  \\\"hex\\\" : \\\"hex\\\",                (string, optional) The redeemscript for the p2sh address\\n\"\n-            \"  \\\"addresses\\\"                   (string, optional) Array of addresses associated with the known redeemscript\\n\"\n+            \"  \\\"isscript\\\" : true|false,      (boolean) If the address is P2SH or P2WSH\\n\"\n+            \"  \\\"iswitness\\\" : true|false,     (boolean) If the address is P2WPKH, P2WSH, or an unknown witness version\\n\"",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 98,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "(not a regression, but might as well fix): Missing witness_version, witness_program.",
      "created_at": "2017-12-17T22:19:05Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157381826",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157381826"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 167,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157381833",
      "pull_request_review_id": 84010629,
      "id": 157381833,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzM4MTgzMw==",
      "diff_hunk": "@@ -40,6 +40,53 @@ class DescribeAddressVisitor : public boost::static_visitor<UniValue>\n \n     explicit DescribeAddressVisitor(CWallet *_pwallet) : pwallet(_pwallet) {}\n \n+    void ProcessSubScript(const CScript& subscript, UniValue& obj, bool include_addresses = false) const\n+    {\n+        // Always present: script type and redeemscript\n+        txnouttype which_type;\n+        std::vector<std::vector<unsigned char>> solutions_data;\n+        Solver(subscript, which_type, solutions_data);\n+        obj.pushKV(\"script\", GetTxnOutputType(which_type));\n+        obj.pushKV(\"hex\", HexStr(subscript.begin(), subscript.end()));\n+\n+        // Only when the script corresponds to an address:\n+        CTxDestination embedded;\n+        UniValue a(UniValue::VARR);\n+        if (ExtractDestination(subscript, embedded)) {\n+            UniValue subobj = boost::apply_visitor(*this, embedded);\n+            subobj.pushKV(\"address\", EncodeDestination(embedded));\n+            subobj.pushKV(\"scriptPubKey\", HexStr(subscript.begin(), subscript.end()));\n+            if (subobj.exists(\"pubkey\")) {\n+                // Always report the pubkey at the top level, so that `getnewaddress()['pubkey']` always works.\n+                obj.pushKV(\"pubkey\", subobj[\"pubkey\"]);\n+            }\n+            obj.pushKV(\"embedded\", std::move(subobj));\n+            a.push_back(EncodeDestination(embedded));\n+        }\n+\n+        // Only when the script is multisig (in which case the ExtractDestination above certainly failed):\n+        if (which_type == TX_MULTISIG) {\n+            // TODO: abstract out the common functionality between this logic and ExtractDestinations.\n+            obj.pushKV(\"sigsrequired\", solutions_data[0][0]);",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 31,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Will conflict with #11545. Seems strange to blindly cast here either way, even though we always did this in ExtractDestinations.",
      "created_at": "2017-12-17T22:19:25Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157381833",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157381833"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 66,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157382183",
      "pull_request_review_id": 84010629,
      "id": 157382183,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzM4MjE4Mw==",
      "diff_hunk": "@@ -40,6 +40,53 @@ class DescribeAddressVisitor : public boost::static_visitor<UniValue>\n \n     explicit DescribeAddressVisitor(CWallet *_pwallet) : pwallet(_pwallet) {}\n \n+    void ProcessSubScript(const CScript& subscript, UniValue& obj, bool include_addresses = false) const\n+    {\n+        // Always present: script type and redeemscript\n+        txnouttype which_type;\n+        std::vector<std::vector<unsigned char>> solutions_data;\n+        Solver(subscript, which_type, solutions_data);\n+        obj.pushKV(\"script\", GetTxnOutputType(which_type));\n+        obj.pushKV(\"hex\", HexStr(subscript.begin(), subscript.end()));\n+\n+        // Only when the script corresponds to an address:\n+        CTxDestination embedded;\n+        UniValue a(UniValue::VARR);\n+        if (ExtractDestination(subscript, embedded)) {\n+            UniValue subobj = boost::apply_visitor(*this, embedded);\n+            subobj.pushKV(\"address\", EncodeDestination(embedded));\n+            subobj.pushKV(\"scriptPubKey\", HexStr(subscript.begin(), subscript.end()));\n+            if (subobj.exists(\"pubkey\")) {\n+                // Always report the pubkey at the top level, so that `getnewaddress()['pubkey']` always works.\n+                obj.pushKV(\"pubkey\", subobj[\"pubkey\"]);\n+            }\n+            obj.pushKV(\"embedded\", std::move(subobj));\n+            a.push_back(EncodeDestination(embedded));\n+        }\n+\n+        // Only when the script is multisig (in which case the ExtractDestination above certainly failed):\n+        if (which_type == TX_MULTISIG) {\n+            // TODO: abstract out the common functionality between this logic and ExtractDestinations.\n+            obj.pushKV(\"sigsrequired\", solutions_data[0][0]);\n+            UniValue pubkeys(UniValue::VARR);\n+            for (size_t i = 1; i < solutions_data.size() - 1; ++i) {\n+                CPubKey key(solutions_data[i].begin(), solutions_data[i].end());\n+                a.push_back(EncodeDestination(key.GetID()));\n+                pubkeys.push_back(HexStr(key.begin(), key.end()));\n+            }\n+            obj.pushKV(\"pubkeys\", std::move(pubkeys));\n+        }\n+\n+        // The \"addresses\" field is problematic because it confuses keys and destination addresses, using",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 41,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I would not put this so strongly. The only thing really wrong with referring to public keys by their base58 address is that we want to split wallet out from other subsystems, ie #10583 implies this is the right direction.",
      "created_at": "2017-12-17T22:30:28Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157382183",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157382183"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 80,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157382293",
      "pull_request_review_id": 84010629,
      "id": 157382293,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzM4MjI5Mw==",
      "diff_hunk": "@@ -131,23 +166,30 @@ UniValue validateaddress(const JSONRPCRequest& request)\n             \"\\nResult:\\n\"\n             \"{\\n\"\n             \"  \\\"isvalid\\\" : true|false,       (boolean) If the address is valid or not. If not, this is the only property returned.\\n\"\n-            \"  \\\"address\\\" : \\\"address\\\", (string) The bitcoin address validated\\n\"\n+            \"  \\\"address\\\" : \\\"address\\\",      (string) The bitcoin address validated\\n\"\n             \"  \\\"scriptPubKey\\\" : \\\"hex\\\",       (string) The hex encoded scriptPubKey generated by the address\\n\"\n             \"  \\\"ismine\\\" : true|false,        (boolean) If the address is yours or not\\n\"\n             \"  \\\"iswatchonly\\\" : true|false,   (boolean) If the address is watchonly\\n\"\n-            \"  \\\"isscript\\\" : true|false,      (boolean) If the key is a script\\n\"\n-            \"  \\\"script\\\" : \\\"type\\\"             (string, optional) The output script type. Possible types: nonstandard, pubkey, pubkeyhash, scripthash, multisig, nulldata, witness_v0_keyhash, witness_v0_scripthash\\n\"\n-            \"  \\\"hex\\\" : \\\"hex\\\",                (string, optional) The redeemscript for the p2sh address\\n\"\n-            \"  \\\"addresses\\\"                   (string, optional) Array of addresses associated with the known redeemscript\\n\"\n+            \"  \\\"isscript\\\" : true|false,      (boolean) If the address is P2SH or P2WSH\\n\"\n+            \"  \\\"iswitness\\\" : true|false,     (boolean) If the address is P2WPKH, P2WSH, or an unknown witness version\\n\"\n+            \"  \\\"script\\\" : \\\"type\\\"             (string, optional) The output script type. Only if \\\"isscript\\\" is true. Possible types: nonstandard, pubkey, pubkeyhash, scripthash, multisig, nulldata, witness_v0_keyhash, witness_v0_scripthash, witness_unknown\\n\"\n+            \"  \\\"hex\\\" : \\\"hex\\\",                (string, optional) The redeemscript for the P2SH or P2WSH address\\n\"\n+            \"  \\\"addresses\\\"                   (string, optional) Array of addresses associated with the known redeemscript (only if \\\"script\\\" is \\\"multisig\\\" and \\\"iswitness\\\" is false)\\n\"",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 101,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "No? This is included if script is anything standard with a key and iswitness is false, not just multisig.",
      "created_at": "2017-12-17T22:34:08Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157382293",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157382293"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 177,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157382629",
      "pull_request_review_id": 84010629,
      "id": 157382629,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzM4MjYyOQ==",
      "diff_hunk": "@@ -110,8 +133,10 @@ bool CBasicKeyStore::AddWatchOnly(const CScript &dest)\n     LOCK(cs_KeyStore);\n     setWatchOnly.insert(dest);\n     CPubKey pubKey;\n-    if (ExtractPubKey(dest, pubKey))\n+    if (ExtractPubKey(dest, pubKey)) {\n         mapWatchKeys[pubKey.GetID()] = pubKey;\n+        ImplicitlyLearnRelatedKeyScripts(pubKey);",
      "path": "src/keystore.cpp",
      "position": 47,
      "original_position": 44,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Need some kind of corresponding erase in RemoveWatchOnly otherwise removal doesn't work properly. Not clear how to fix this but I think blind removal is probably better than not removing at all. Given the issue still pending at https://github.com/bitcoin/bitcoin/pull/11403#discussion_r155665399, I think we're gonna have to have some kind of marker for \"was implicitly added\".",
      "created_at": "2017-12-17T22:44:50Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157382629",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157382629"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 141,
      "original_line": 141,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157383354",
      "pull_request_review_id": 84010629,
      "id": 157383354,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzM4MzM1NA==",
      "diff_hunk": "@@ -850,7 +852,7 @@ bool CWallet::GetAccountPubkey(CPubKey &pubKey, std::string strAccount, bool bFo\n         if (!GetKeyFromPool(account.vchPubKey, false))\n             return false;\n \n-        SetAddressBook(account.vchPubKey.GetID(), strAccount, \"receive\");\n+        SetAddressBook(AddDestinationForKey(account.vchPubKey, g_address_type), strAccount, \"receive\");",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 23,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ugh, this sucks. We return a pubkey, so could end up adding for g_address_type and then getting used as g_change_type. Given this function is *only* used by GetAccountAddress in rpcwallet (which turns it into an address anyway), can you refactor a bit to make this return an account *address* instead?",
      "created_at": "2017-12-17T23:10:33Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157383354",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157383354"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 855,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157383584",
      "pull_request_review_id": 84010629,
      "id": 157383584,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzM4MzU4NA==",
      "diff_hunk": "@@ -16,6 +16,8 @@\n std::string GetWalletHelpString(bool showDebug)\n {\n     std::string strUsage = HelpMessageGroup(_(\"Wallet options:\"));\n+    strUsage += HelpMessageOpt(\"-addresstype\", strprintf(_(\"What type of addresses to use (\\\"legacy\\\", \\\"p2sh\\\", \\\"bech32\\\", default: \\\"%s\\\")\"), FormatOutputType(OUTPUT_TYPE_DEFAULT)));\n+    strUsage += HelpMessageOpt(\"-changetype\", strprintf(_(\"What type of change to use (\\\"legacy\\\", \\\"p2sh\\\", \\\"bech32\\\", default is same as -addresstype: \\\"%s\\\")\"), FormatOutputType(OUTPUT_TYPE_DEFAULT)));",
      "path": "src/wallet/init.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This is ever so slightly confusing, maybe skip the FormatOutputType part and just say \"default is whatever is set for -addresstype\".",
      "created_at": "2017-12-17T23:19:17Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157383584",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157383584"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157383933",
      "pull_request_review_id": 84010629,
      "id": 157383933,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzM4MzkzMw==",
      "diff_hunk": "@@ -4135,3 +4138,110 @@ bool CWalletTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     fInMempool = ret;\n     return ret;\n }\n+\n+static const std::string OUTPUT_TYPE_STRING_LEGACY = \"legacy\";\n+static const std::string OUTPUT_TYPE_STRING_P2SH = \"p2sh\";\n+static const std::string OUTPUT_TYPE_STRING_BECH32 = \"bech32\";\n+\n+OutputType ParseOutputType(const std::string& type, OutputType default_type)\n+{\n+    if (type == \"\") {\n+        return default_type;\n+    } else if (type == OUTPUT_TYPE_STRING_LEGACY) {\n+        return OUTPUT_TYPE_LEGACY;\n+    } else if (type == OUTPUT_TYPE_STRING_P2SH) {\n+        return OUTPUT_TYPE_P2SH;\n+    } else if (type == OUTPUT_TYPE_STRING_BECH32) {\n+        return OUTPUT_TYPE_BECH32;\n+    } else {\n+        return OUTPUT_TYPE_NONE;\n+    }\n+}\n+\n+\n+const std::string& FormatOutputType(OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return OUTPUT_TYPE_STRING_LEGACY;\n+    case OUTPUT_TYPE_P2SH: return OUTPUT_TYPE_STRING_P2SH;\n+    case OUTPUT_TYPE_BECH32: return OUTPUT_TYPE_STRING_BECH32;\n+    default: assert(false);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 75,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This seems much too agressive - I dont think we should be using assert(false) for cases of \"well, the UI is gonna be very confused cause the enum -> string conversion failed\".",
      "created_at": "2017-12-17T23:29:55Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157383933",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157383933"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4170,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157384030",
      "pull_request_review_id": 84010629,
      "id": 157384030,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzM4NDAzMA==",
      "diff_hunk": "@@ -4135,3 +4138,110 @@ bool CWalletTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     fInMempool = ret;\n     return ret;\n }\n+\n+static const std::string OUTPUT_TYPE_STRING_LEGACY = \"legacy\";\n+static const std::string OUTPUT_TYPE_STRING_P2SH = \"p2sh\";\n+static const std::string OUTPUT_TYPE_STRING_BECH32 = \"bech32\";\n+\n+OutputType ParseOutputType(const std::string& type, OutputType default_type)\n+{\n+    if (type == \"\") {\n+        return default_type;\n+    } else if (type == OUTPUT_TYPE_STRING_LEGACY) {\n+        return OUTPUT_TYPE_LEGACY;\n+    } else if (type == OUTPUT_TYPE_STRING_P2SH) {\n+        return OUTPUT_TYPE_P2SH;\n+    } else if (type == OUTPUT_TYPE_STRING_BECH32) {\n+        return OUTPUT_TYPE_BECH32;\n+    } else {\n+        return OUTPUT_TYPE_NONE;\n+    }\n+}\n+\n+\n+const std::string& FormatOutputType(OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return OUTPUT_TYPE_STRING_LEGACY;\n+    case OUTPUT_TYPE_P2SH: return OUTPUT_TYPE_STRING_P2SH;\n+    case OUTPUT_TYPE_BECH32: return OUTPUT_TYPE_STRING_BECH32;\n+    default: assert(false);\n+    }\n+}\n+\n+std::vector<CTxDestination> GetAllDestinationsForKey(const CPubKey& key)\n+{\n+    CKeyID keyid = key.GetID();\n+    if (key.IsCompressed()) {\n+        CTxDestination segwit = WitnessV0KeyHash(keyid);\n+        CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+        return std::vector<CTxDestination>{std::move(keyid), std::move(p2sh), std::move(segwit)};\n+    } else {\n+        return std::vector<CTxDestination>{std::move(keyid)};\n+    }\n+}\n+\n+CTxDestination CWallet::AddDestinationForKey(const CPubKey& key, OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return key.GetID();\n+    case OUTPUT_TYPE_P2SH:\n+    case OUTPUT_TYPE_BECH32: {\n+        CTxDestination witdest = WitnessV0KeyHash(key.GetID());\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(*this, witprog)) return key.GetID();\n+        // Even though CBasicKeyStore knows about P2WPKH redeemscripts implicitly, add it explicitly\n+        // so that downgrades to software without this are supported (as long as the wallet file is\n+        // up to date).\n+        AddCScript(witprog);\n+        if (type == OUTPUT_TYPE_P2SH) {\n+            return CScriptID(witprog);\n+        } else {\n+            return witdest;\n+        }\n+    }\n+    default: assert(false);\n+    }\n+}\n+\n+CTxDestination CWallet::AddDestinationForScript(const CScript& script, OutputType type)\n+{\n+    // Note that scripts over 520 bytes are not yet supported.\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY:\n+        return CScriptID(script);\n+    case OUTPUT_TYPE_P2SH:\n+    case OUTPUT_TYPE_BECH32: {\n+        WitnessV0ScriptHash hash;\n+        CSHA256().Write(script.data(), script.size()).Finalize(hash.begin());\n+        CTxDestination witdest = hash;\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(*this, witprog)) return CScriptID(script);",
      "path": "src/wallet/wallet.cpp",
      "position": 160,
      "original_position": 128,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I believe this wholly prevents you from getting a segwit address for addmultisigaddress if no all the keys are (at least watch only) in your wallet? Needs a test for this issue, probably.",
      "created_at": "2017-12-17T23:33:38Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157384030",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157384030"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 4235,
      "original_line": 4235,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157384169",
      "pull_request_review_id": 84010629,
      "id": 157384169,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzM4NDE2OQ==",
      "diff_hunk": "@@ -131,7 +131,11 @@ UniValue importprivkey(const JSONRPCRequest& request)\n     CKeyID vchAddress = pubkey.GetID();\n     {\n         pwallet->MarkDirty();\n-        pwallet->SetAddressBook(vchAddress, strLabel, \"receive\");\n+\n+        // We don't know which corresponding address will be used; label them all\n+        for (const auto& dest : GetAllDestinationsForKey(pubkey)) {",
      "path": "src/wallet/rpcdump.cpp",
      "position": 7,
      "original_position": 7,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "If I'm reading this correctly, if you import with importpubkey you can downgrade and you'll still get the segwit watchonly, but not if you do an importprivkey? This seems strange, but either way the behavior should be documented in the help text of both importprivkey and importpubkey at least until 0.17 (or in release notes).",
      "created_at": "2017-12-17T23:39:38Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157384169",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157384169"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 136,
      "original_line": 136,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157384375",
      "pull_request_review_id": 84010629,
      "id": 157384375,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzM4NDM3NQ==",
      "diff_hunk": "@@ -1054,6 +1056,7 @@ bool CWallet::AddToWalletIfInvolvingMe(const CTransactionRef& ptx, const CBlockI\n                     std::map<CKeyID, int64_t>::const_iterator mi = m_pool_key_to_index.find(keyid);\n                     if (mi != m_pool_key_to_index.end()) {\n                         LogPrintf(\"%s: Detected a used keypool key, mark all keypool key up to this key as used\\n\", __func__);\n+                        AddRelatedScripts(txout.scriptPubKey, mi->first);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 31,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This is not sufficient? What if you have two keys in your pool, in order, A and B, then B gets used as a segwit address on the chain first, and then A...you'd only add B to your watch scripts?",
      "created_at": "2017-12-17T23:47:33Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157384375",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157384375"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1060,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157384452",
      "pull_request_review_id": 84010629,
      "id": 157384452,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzM4NDQ1Mg==",
      "diff_hunk": "@@ -4135,3 +4138,110 @@ bool CWalletTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     fInMempool = ret;\n     return ret;\n }\n+\n+static const std::string OUTPUT_TYPE_STRING_LEGACY = \"legacy\";\n+static const std::string OUTPUT_TYPE_STRING_P2SH = \"p2sh\";\n+static const std::string OUTPUT_TYPE_STRING_BECH32 = \"bech32\";\n+\n+OutputType ParseOutputType(const std::string& type, OutputType default_type)\n+{\n+    if (type == \"\") {\n+        return default_type;\n+    } else if (type == OUTPUT_TYPE_STRING_LEGACY) {\n+        return OUTPUT_TYPE_LEGACY;\n+    } else if (type == OUTPUT_TYPE_STRING_P2SH) {\n+        return OUTPUT_TYPE_P2SH;\n+    } else if (type == OUTPUT_TYPE_STRING_BECH32) {\n+        return OUTPUT_TYPE_BECH32;\n+    } else {\n+        return OUTPUT_TYPE_NONE;\n+    }\n+}\n+\n+\n+const std::string& FormatOutputType(OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return OUTPUT_TYPE_STRING_LEGACY;\n+    case OUTPUT_TYPE_P2SH: return OUTPUT_TYPE_STRING_P2SH;\n+    case OUTPUT_TYPE_BECH32: return OUTPUT_TYPE_STRING_BECH32;\n+    default: assert(false);\n+    }\n+}\n+\n+std::vector<CTxDestination> GetAllDestinationsForKey(const CPubKey& key)\n+{\n+    CKeyID keyid = key.GetID();\n+    if (key.IsCompressed()) {\n+        CTxDestination segwit = WitnessV0KeyHash(keyid);\n+        CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+        return std::vector<CTxDestination>{std::move(keyid), std::move(p2sh), std::move(segwit)};\n+    } else {\n+        return std::vector<CTxDestination>{std::move(keyid)};\n+    }\n+}\n+\n+CTxDestination CWallet::AddDestinationForKey(const CPubKey& key, OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return key.GetID();\n+    case OUTPUT_TYPE_P2SH:\n+    case OUTPUT_TYPE_BECH32: {\n+        CTxDestination witdest = WitnessV0KeyHash(key.GetID());\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(*this, witprog)) return key.GetID();\n+        // Even though CBasicKeyStore knows about P2WPKH redeemscripts implicitly, add it explicitly\n+        // so that downgrades to software without this are supported (as long as the wallet file is\n+        // up to date).\n+        AddCScript(witprog);\n+        if (type == OUTPUT_TYPE_P2SH) {\n+            return CScriptID(witprog);\n+        } else {\n+            return witdest;\n+        }\n+    }\n+    default: assert(false);\n+    }\n+}\n+\n+CTxDestination CWallet::AddDestinationForScript(const CScript& script, OutputType type)\n+{\n+    // Note that scripts over 520 bytes are not yet supported.\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY:\n+        return CScriptID(script);\n+    case OUTPUT_TYPE_P2SH:\n+    case OUTPUT_TYPE_BECH32: {\n+        WitnessV0ScriptHash hash;\n+        CSHA256().Write(script.data(), script.size()).Finalize(hash.begin());\n+        CTxDestination witdest = hash;\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(*this, witprog)) return CScriptID(script);\n+        // Add the redeemscript, so that P2WSH and P2SH-P2WSH outputs are recognized as ours.\n+        AddCScript(witprog);\n+        if (type == OUTPUT_TYPE_BECH32) {\n+            return witdest;\n+        } else {\n+            return CScriptID(witprog);\n+        }\n+    }\n+    default: assert(false);\n+    }\n+}\n+\n+void CWallet::AddRelatedScripts(const CScript& scriptPubKey, const CKeyID& keyid)\n+{\n+    CTxDestination segwit = WitnessV0KeyHash(keyid);\n+    CScript witprog = GetScriptForDestination(segwit);\n+    CTxDestination p2sh = CScriptID(witprog);\n+    // For SegWit scriptPubKeys, add the redeemscript explicitly to the wallet, so that\n+    // older software versions (without implicit scripts) correctly treat these as ours.\n+    if (scriptPubKey == witprog || scriptPubKey == GetScriptForDestination(p2sh)) {\n+        assert(HaveKey(keyid));\n+        // No need for a IsSolvable check here, as this function is only called for outputs",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 150,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Hmm, if I'm reading this correctly we technically could get here with an uncompressed keyid. Obviously this isn't the right place to check for that, but we should probably do *something* to handle it better (some big logprints, etc). Also need a test for this case, I'd think (make sure we dont consider it as valid balance, etc).",
      "created_at": "2017-12-17T23:50:42Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157384452",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157384452"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4244,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157397750",
      "pull_request_review_id": 84031301,
      "id": 157397750,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzM5Nzc1MA==",
      "diff_hunk": "@@ -110,8 +133,10 @@ bool CBasicKeyStore::AddWatchOnly(const CScript &dest)\n     LOCK(cs_KeyStore);\n     setWatchOnly.insert(dest);\n     CPubKey pubKey;\n-    if (ExtractPubKey(dest, pubKey))\n+    if (ExtractPubKey(dest, pubKey)) {\n         mapWatchKeys[pubKey.GetID()] = pubKey;\n+        ImplicitlyLearnRelatedKeyScripts(pubKey);",
      "path": "src/keystore.cpp",
      "position": 47,
      "original_position": 44,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": 157382629,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In what scenario does a stale CScript result in incorrect watch-only behaviour?\r\n\r\nWatch-only is supposed to be distinct from the normal ismine/solvability logic.",
      "created_at": "2017-12-18T04:00:31Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157397750",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157397750"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 141,
      "original_line": 141,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157397808",
      "pull_request_review_id": 84031354,
      "id": 157397808,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzM5NzgwOA==",
      "diff_hunk": "@@ -40,6 +40,53 @@ class DescribeAddressVisitor : public boost::static_visitor<UniValue>\n \n     explicit DescribeAddressVisitor(CWallet *_pwallet) : pwallet(_pwallet) {}\n \n+    void ProcessSubScript(const CScript& subscript, UniValue& obj, bool include_addresses = false) const\n+    {\n+        // Always present: script type and redeemscript\n+        txnouttype which_type;\n+        std::vector<std::vector<unsigned char>> solutions_data;\n+        Solver(subscript, which_type, solutions_data);\n+        obj.pushKV(\"script\", GetTxnOutputType(which_type));\n+        obj.pushKV(\"hex\", HexStr(subscript.begin(), subscript.end()));\n+\n+        // Only when the script corresponds to an address:\n+        CTxDestination embedded;\n+        UniValue a(UniValue::VARR);\n+        if (ExtractDestination(subscript, embedded)) {\n+            UniValue subobj = boost::apply_visitor(*this, embedded);\n+            subobj.pushKV(\"address\", EncodeDestination(embedded));\n+            subobj.pushKV(\"scriptPubKey\", HexStr(subscript.begin(), subscript.end()));\n+            if (subobj.exists(\"pubkey\")) {\n+                // Always report the pubkey at the top level, so that `getnewaddress()['pubkey']` always works.\n+                obj.pushKV(\"pubkey\", subobj[\"pubkey\"]);\n+            }\n+            obj.pushKV(\"embedded\", std::move(subobj));\n+            a.push_back(EncodeDestination(embedded));\n+        }\n+\n+        // Only when the script is multisig (in which case the ExtractDestination above certainly failed):\n+        if (which_type == TX_MULTISIG) {\n+            // TODO: abstract out the common functionality between this logic and ExtractDestinations.\n+            obj.pushKV(\"sigsrequired\", solutions_data[0][0]);",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 31,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": 157381833,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "No problem addressing this if #11545 is merged first.",
      "created_at": "2017-12-18T04:01:20Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157397808",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157397808"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 66,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157397910",
      "pull_request_review_id": 84031485,
      "id": 157397910,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzM5NzkxMA==",
      "diff_hunk": "@@ -40,6 +40,53 @@ class DescribeAddressVisitor : public boost::static_visitor<UniValue>\n \n     explicit DescribeAddressVisitor(CWallet *_pwallet) : pwallet(_pwallet) {}\n \n+    void ProcessSubScript(const CScript& subscript, UniValue& obj, bool include_addresses = false) const\n+    {\n+        // Always present: script type and redeemscript\n+        txnouttype which_type;\n+        std::vector<std::vector<unsigned char>> solutions_data;\n+        Solver(subscript, which_type, solutions_data);\n+        obj.pushKV(\"script\", GetTxnOutputType(which_type));\n+        obj.pushKV(\"hex\", HexStr(subscript.begin(), subscript.end()));\n+\n+        // Only when the script corresponds to an address:\n+        CTxDestination embedded;\n+        UniValue a(UniValue::VARR);\n+        if (ExtractDestination(subscript, embedded)) {\n+            UniValue subobj = boost::apply_visitor(*this, embedded);\n+            subobj.pushKV(\"address\", EncodeDestination(embedded));\n+            subobj.pushKV(\"scriptPubKey\", HexStr(subscript.begin(), subscript.end()));\n+            if (subobj.exists(\"pubkey\")) {\n+                // Always report the pubkey at the top level, so that `getnewaddress()['pubkey']` always works.\n+                obj.pushKV(\"pubkey\", subobj[\"pubkey\"]);\n+            }\n+            obj.pushKV(\"embedded\", std::move(subobj));\n+            a.push_back(EncodeDestination(embedded));\n+        }\n+\n+        // Only when the script is multisig (in which case the ExtractDestination above certainly failed):\n+        if (which_type == TX_MULTISIG) {\n+            // TODO: abstract out the common functionality between this logic and ExtractDestinations.\n+            obj.pushKV(\"sigsrequired\", solutions_data[0][0]);\n+            UniValue pubkeys(UniValue::VARR);\n+            for (size_t i = 1; i < solutions_data.size() - 1; ++i) {\n+                CPubKey key(solutions_data[i].begin(), solutions_data[i].end());\n+                a.push_back(EncodeDestination(key.GetID()));\n+                pubkeys.push_back(HexStr(key.begin(), key.end()));\n+            }\n+            obj.pushKV(\"pubkeys\", std::move(pubkeys));\n+        }\n+\n+        // The \"addresses\" field is problematic because it confuses keys and destination addresses, using",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 41,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": 157382183,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Will reformulate.",
      "created_at": "2017-12-18T04:03:11Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157397910",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157397910"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 80,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157397935",
      "pull_request_review_id": 84031505,
      "id": 157397935,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzM5NzkzNQ==",
      "diff_hunk": "@@ -131,23 +166,30 @@ UniValue validateaddress(const JSONRPCRequest& request)\n             \"\\nResult:\\n\"\n             \"{\\n\"\n             \"  \\\"isvalid\\\" : true|false,       (boolean) If the address is valid or not. If not, this is the only property returned.\\n\"\n-            \"  \\\"address\\\" : \\\"address\\\", (string) The bitcoin address validated\\n\"\n+            \"  \\\"address\\\" : \\\"address\\\",      (string) The bitcoin address validated\\n\"",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 89,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": 157379341,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Will fix.",
      "created_at": "2017-12-18T04:03:39Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157397935",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157397935"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 169,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157398022",
      "pull_request_review_id": 84031579,
      "id": 157398022,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzM5ODAyMg==",
      "diff_hunk": "@@ -131,23 +166,30 @@ UniValue validateaddress(const JSONRPCRequest& request)\n             \"\\nResult:\\n\"\n             \"{\\n\"\n             \"  \\\"isvalid\\\" : true|false,       (boolean) If the address is valid or not. If not, this is the only property returned.\\n\"\n-            \"  \\\"address\\\" : \\\"address\\\", (string) The bitcoin address validated\\n\"\n+            \"  \\\"address\\\" : \\\"address\\\",      (string) The bitcoin address validated\\n\"\n             \"  \\\"scriptPubKey\\\" : \\\"hex\\\",       (string) The hex encoded scriptPubKey generated by the address\\n\"\n             \"  \\\"ismine\\\" : true|false,        (boolean) If the address is yours or not\\n\"\n             \"  \\\"iswatchonly\\\" : true|false,   (boolean) If the address is watchonly\\n\"\n-            \"  \\\"isscript\\\" : true|false,      (boolean) If the key is a script\\n\"\n-            \"  \\\"script\\\" : \\\"type\\\"             (string, optional) The output script type. Possible types: nonstandard, pubkey, pubkeyhash, scripthash, multisig, nulldata, witness_v0_keyhash, witness_v0_scripthash\\n\"\n-            \"  \\\"hex\\\" : \\\"hex\\\",                (string, optional) The redeemscript for the p2sh address\\n\"\n-            \"  \\\"addresses\\\"                   (string, optional) Array of addresses associated with the known redeemscript\\n\"\n+            \"  \\\"isscript\\\" : true|false,      (boolean) If the address is P2SH or P2WSH\\n\"",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 97,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": 157379791,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Will fix.",
      "created_at": "2017-12-18T04:04:47Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157398022",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157398022"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 173,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157398308",
      "pull_request_review_id": 84031933,
      "id": 157398308,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzM5ODMwOA==",
      "diff_hunk": "@@ -131,23 +166,30 @@ UniValue validateaddress(const JSONRPCRequest& request)\n             \"\\nResult:\\n\"\n             \"{\\n\"\n             \"  \\\"isvalid\\\" : true|false,       (boolean) If the address is valid or not. If not, this is the only property returned.\\n\"\n-            \"  \\\"address\\\" : \\\"address\\\", (string) The bitcoin address validated\\n\"\n+            \"  \\\"address\\\" : \\\"address\\\",      (string) The bitcoin address validated\\n\"\n             \"  \\\"scriptPubKey\\\" : \\\"hex\\\",       (string) The hex encoded scriptPubKey generated by the address\\n\"\n             \"  \\\"ismine\\\" : true|false,        (boolean) If the address is yours or not\\n\"\n             \"  \\\"iswatchonly\\\" : true|false,   (boolean) If the address is watchonly\\n\"\n-            \"  \\\"isscript\\\" : true|false,      (boolean) If the key is a script\\n\"\n-            \"  \\\"script\\\" : \\\"type\\\"             (string, optional) The output script type. Possible types: nonstandard, pubkey, pubkeyhash, scripthash, multisig, nulldata, witness_v0_keyhash, witness_v0_scripthash\\n\"\n-            \"  \\\"hex\\\" : \\\"hex\\\",                (string, optional) The redeemscript for the p2sh address\\n\"\n-            \"  \\\"addresses\\\"                   (string, optional) Array of addresses associated with the known redeemscript\\n\"\n+            \"  \\\"isscript\\\" : true|false,      (boolean) If the address is P2SH or P2WSH\\n\"\n+            \"  \\\"iswitness\\\" : true|false,     (boolean) If the address is P2WPKH, P2WSH, or an unknown witness version\\n\"",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 98,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": 157381826,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Will fix. ",
      "created_at": "2017-12-18T04:09:32Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157398308",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157398308"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 167,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157398462",
      "pull_request_review_id": 84032090,
      "id": 157398462,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzM5ODQ2Mg==",
      "diff_hunk": "@@ -131,23 +166,30 @@ UniValue validateaddress(const JSONRPCRequest& request)\n             \"\\nResult:\\n\"\n             \"{\\n\"\n             \"  \\\"isvalid\\\" : true|false,       (boolean) If the address is valid or not. If not, this is the only property returned.\\n\"\n-            \"  \\\"address\\\" : \\\"address\\\", (string) The bitcoin address validated\\n\"\n+            \"  \\\"address\\\" : \\\"address\\\",      (string) The bitcoin address validated\\n\"\n             \"  \\\"scriptPubKey\\\" : \\\"hex\\\",       (string) The hex encoded scriptPubKey generated by the address\\n\"\n             \"  \\\"ismine\\\" : true|false,        (boolean) If the address is yours or not\\n\"\n             \"  \\\"iswatchonly\\\" : true|false,   (boolean) If the address is watchonly\\n\"\n-            \"  \\\"isscript\\\" : true|false,      (boolean) If the key is a script\\n\"\n-            \"  \\\"script\\\" : \\\"type\\\"             (string, optional) The output script type. Possible types: nonstandard, pubkey, pubkeyhash, scripthash, multisig, nulldata, witness_v0_keyhash, witness_v0_scripthash\\n\"\n-            \"  \\\"hex\\\" : \\\"hex\\\",                (string, optional) The redeemscript for the p2sh address\\n\"\n-            \"  \\\"addresses\\\"                   (string, optional) Array of addresses associated with the known redeemscript\\n\"\n+            \"  \\\"isscript\\\" : true|false,      (boolean) If the address is P2SH or P2WSH\\n\"\n+            \"  \\\"iswitness\\\" : true|false,     (boolean) If the address is P2WPKH, P2WSH, or an unknown witness version\\n\"\n+            \"  \\\"script\\\" : \\\"type\\\"             (string, optional) The output script type. Only if \\\"isscript\\\" is true. Possible types: nonstandard, pubkey, pubkeyhash, scripthash, multisig, nulldata, witness_v0_keyhash, witness_v0_scripthash, witness_unknown\\n\"",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 99,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": 157379827,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Will fix.",
      "created_at": "2017-12-18T04:12:03Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157398462",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157398462"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 175,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157398480",
      "pull_request_review_id": 84032109,
      "id": 157398480,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzM5ODQ4MA==",
      "diff_hunk": "@@ -131,23 +166,30 @@ UniValue validateaddress(const JSONRPCRequest& request)\n             \"\\nResult:\\n\"\n             \"{\\n\"\n             \"  \\\"isvalid\\\" : true|false,       (boolean) If the address is valid or not. If not, this is the only property returned.\\n\"\n-            \"  \\\"address\\\" : \\\"address\\\", (string) The bitcoin address validated\\n\"\n+            \"  \\\"address\\\" : \\\"address\\\",      (string) The bitcoin address validated\\n\"\n             \"  \\\"scriptPubKey\\\" : \\\"hex\\\",       (string) The hex encoded scriptPubKey generated by the address\\n\"\n             \"  \\\"ismine\\\" : true|false,        (boolean) If the address is yours or not\\n\"\n             \"  \\\"iswatchonly\\\" : true|false,   (boolean) If the address is watchonly\\n\"\n-            \"  \\\"isscript\\\" : true|false,      (boolean) If the key is a script\\n\"\n-            \"  \\\"script\\\" : \\\"type\\\"             (string, optional) The output script type. Possible types: nonstandard, pubkey, pubkeyhash, scripthash, multisig, nulldata, witness_v0_keyhash, witness_v0_scripthash\\n\"\n-            \"  \\\"hex\\\" : \\\"hex\\\",                (string, optional) The redeemscript for the p2sh address\\n\"\n-            \"  \\\"addresses\\\"                   (string, optional) Array of addresses associated with the known redeemscript\\n\"\n+            \"  \\\"isscript\\\" : true|false,      (boolean) If the address is P2SH or P2WSH\\n\"\n+            \"  \\\"iswitness\\\" : true|false,     (boolean) If the address is P2WPKH, P2WSH, or an unknown witness version\\n\"\n+            \"  \\\"script\\\" : \\\"type\\\"             (string, optional) The output script type. Only if \\\"isscript\\\" is true. Possible types: nonstandard, pubkey, pubkeyhash, scripthash, multisig, nulldata, witness_v0_keyhash, witness_v0_scripthash, witness_unknown\\n\"\n+            \"  \\\"hex\\\" : \\\"hex\\\",                (string, optional) The redeemscript for the P2SH or P2WSH address\\n\"\n+            \"  \\\"addresses\\\"                   (string, optional) Array of addresses associated with the known redeemscript (only if \\\"script\\\" is \\\"multisig\\\" and \\\"iswitness\\\" is false)\\n\"",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 101,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": 157382293,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Will fix.",
      "created_at": "2017-12-18T04:12:15Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157398480",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157398480"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 177,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157399192",
      "pull_request_review_id": 84032958,
      "id": 157399192,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzM5OTE5Mg==",
      "diff_hunk": "@@ -16,6 +16,8 @@\n std::string GetWalletHelpString(bool showDebug)\n {\n     std::string strUsage = HelpMessageGroup(_(\"Wallet options:\"));\n+    strUsage += HelpMessageOpt(\"-addresstype\", strprintf(_(\"What type of addresses to use (\\\"legacy\\\", \\\"p2sh\\\", \\\"bech32\\\", default: \\\"%s\\\")\"), FormatOutputType(OUTPUT_TYPE_DEFAULT)));\n+    strUsage += HelpMessageOpt(\"-changetype\", strprintf(_(\"What type of change to use (\\\"legacy\\\", \\\"p2sh\\\", \\\"bech32\\\", default is same as -addresstype: \\\"%s\\\")\"), FormatOutputType(OUTPUT_TYPE_DEFAULT)));",
      "path": "src/wallet/init.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": 157383584,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Will fix.",
      "created_at": "2017-12-18T04:24:57Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157399192",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157399192"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157399366",
      "pull_request_review_id": 84033133,
      "id": 157399366,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzM5OTM2Ng==",
      "diff_hunk": "@@ -131,7 +131,11 @@ UniValue importprivkey(const JSONRPCRequest& request)\n     CKeyID vchAddress = pubkey.GetID();\n     {\n         pwallet->MarkDirty();\n-        pwallet->SetAddressBook(vchAddress, strLabel, \"receive\");\n+\n+        // We don't know which corresponding address will be used; label them all\n+        for (const auto& dest : GetAllDestinationsForKey(pubkey)) {",
      "path": "src/wallet/rpcdump.cpp",
      "position": 7,
      "original_position": 7,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": 157384169,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I don't understand.",
      "created_at": "2017-12-18T04:27:47Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157399366",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157399366"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 136,
      "original_line": 136,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157400324",
      "pull_request_review_id": 84034260,
      "id": 157400324,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzQwMDMyNA==",
      "diff_hunk": "@@ -850,7 +852,7 @@ bool CWallet::GetAccountPubkey(CPubKey &pubKey, std::string strAccount, bool bFo\n         if (!GetKeyFromPool(account.vchPubKey, false))\n             return false;\n \n-        SetAddressBook(account.vchPubKey.GetID(), strAccount, \"receive\");\n+        SetAddressBook(AddDestinationForKey(account.vchPubKey, g_address_type), strAccount, \"receive\");",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 23,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": 157383354,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Will do.",
      "created_at": "2017-12-18T04:42:55Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157400324",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157400324"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 855,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157400897",
      "pull_request_review_id": 84034934,
      "id": 157400897,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzQwMDg5Nw==",
      "diff_hunk": "@@ -1054,6 +1056,7 @@ bool CWallet::AddToWalletIfInvolvingMe(const CTransactionRef& ptx, const CBlockI\n                     std::map<CKeyID, int64_t>::const_iterator mi = m_pool_key_to_index.find(keyid);\n                     if (mi != m_pool_key_to_index.end()) {\n                         LogPrintf(\"%s: Detected a used keypool key, mark all keypool key up to this key as used\\n\", __func__);\n+                        AddRelatedScripts(txout.scriptPubKey, mi->first);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 31,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": 157384375,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The keystore implicitly knows about all keys' corresponding redeemscripts. This function call is not needed except for downgrading to old software after recovery.",
      "created_at": "2017-12-18T04:51:38Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157400897",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157400897"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1060,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157401001",
      "pull_request_review_id": 84035050,
      "id": 157401001,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzQwMTAwMQ==",
      "diff_hunk": "@@ -4135,3 +4138,110 @@ bool CWalletTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     fInMempool = ret;\n     return ret;\n }\n+\n+static const std::string OUTPUT_TYPE_STRING_LEGACY = \"legacy\";\n+static const std::string OUTPUT_TYPE_STRING_P2SH = \"p2sh\";\n+static const std::string OUTPUT_TYPE_STRING_BECH32 = \"bech32\";\n+\n+OutputType ParseOutputType(const std::string& type, OutputType default_type)\n+{\n+    if (type == \"\") {\n+        return default_type;\n+    } else if (type == OUTPUT_TYPE_STRING_LEGACY) {\n+        return OUTPUT_TYPE_LEGACY;\n+    } else if (type == OUTPUT_TYPE_STRING_P2SH) {\n+        return OUTPUT_TYPE_P2SH;\n+    } else if (type == OUTPUT_TYPE_STRING_BECH32) {\n+        return OUTPUT_TYPE_BECH32;\n+    } else {\n+        return OUTPUT_TYPE_NONE;\n+    }\n+}\n+\n+\n+const std::string& FormatOutputType(OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return OUTPUT_TYPE_STRING_LEGACY;\n+    case OUTPUT_TYPE_P2SH: return OUTPUT_TYPE_STRING_P2SH;\n+    case OUTPUT_TYPE_BECH32: return OUTPUT_TYPE_STRING_BECH32;\n+    default: assert(false);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 75,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": 157383933,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Well it should be impossible that `g_address_type` or `g_change_type` are unset, so if this assert triggers, there is a serious bug.",
      "created_at": "2017-12-18T04:52:59Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157401001",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157401001"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4170,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157401041",
      "pull_request_review_id": 84035098,
      "id": 157401041,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzQwMTA0MQ==",
      "diff_hunk": "@@ -4135,3 +4138,110 @@ bool CWalletTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     fInMempool = ret;\n     return ret;\n }\n+\n+static const std::string OUTPUT_TYPE_STRING_LEGACY = \"legacy\";\n+static const std::string OUTPUT_TYPE_STRING_P2SH = \"p2sh\";\n+static const std::string OUTPUT_TYPE_STRING_BECH32 = \"bech32\";\n+\n+OutputType ParseOutputType(const std::string& type, OutputType default_type)\n+{\n+    if (type == \"\") {\n+        return default_type;\n+    } else if (type == OUTPUT_TYPE_STRING_LEGACY) {\n+        return OUTPUT_TYPE_LEGACY;\n+    } else if (type == OUTPUT_TYPE_STRING_P2SH) {\n+        return OUTPUT_TYPE_P2SH;\n+    } else if (type == OUTPUT_TYPE_STRING_BECH32) {\n+        return OUTPUT_TYPE_BECH32;\n+    } else {\n+        return OUTPUT_TYPE_NONE;\n+    }\n+}\n+\n+\n+const std::string& FormatOutputType(OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return OUTPUT_TYPE_STRING_LEGACY;\n+    case OUTPUT_TYPE_P2SH: return OUTPUT_TYPE_STRING_P2SH;\n+    case OUTPUT_TYPE_BECH32: return OUTPUT_TYPE_STRING_BECH32;\n+    default: assert(false);\n+    }\n+}\n+\n+std::vector<CTxDestination> GetAllDestinationsForKey(const CPubKey& key)\n+{\n+    CKeyID keyid = key.GetID();\n+    if (key.IsCompressed()) {\n+        CTxDestination segwit = WitnessV0KeyHash(keyid);\n+        CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+        return std::vector<CTxDestination>{std::move(keyid), std::move(p2sh), std::move(segwit)};\n+    } else {\n+        return std::vector<CTxDestination>{std::move(keyid)};\n+    }\n+}\n+\n+CTxDestination CWallet::AddDestinationForKey(const CPubKey& key, OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return key.GetID();\n+    case OUTPUT_TYPE_P2SH:\n+    case OUTPUT_TYPE_BECH32: {\n+        CTxDestination witdest = WitnessV0KeyHash(key.GetID());\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(*this, witprog)) return key.GetID();\n+        // Even though CBasicKeyStore knows about P2WPKH redeemscripts implicitly, add it explicitly\n+        // so that downgrades to software without this are supported (as long as the wallet file is\n+        // up to date).\n+        AddCScript(witprog);\n+        if (type == OUTPUT_TYPE_P2SH) {\n+            return CScriptID(witprog);\n+        } else {\n+            return witdest;\n+        }\n+    }\n+    default: assert(false);\n+    }\n+}\n+\n+CTxDestination CWallet::AddDestinationForScript(const CScript& script, OutputType type)\n+{\n+    // Note that scripts over 520 bytes are not yet supported.\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY:\n+        return CScriptID(script);\n+    case OUTPUT_TYPE_P2SH:\n+    case OUTPUT_TYPE_BECH32: {\n+        WitnessV0ScriptHash hash;\n+        CSHA256().Write(script.data(), script.size()).Finalize(hash.begin());\n+        CTxDestination witdest = hash;\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(*this, witprog)) return CScriptID(script);",
      "path": "src/wallet/wallet.cpp",
      "position": 160,
      "original_position": 128,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": 157384030,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "You just need to know the script.\r\n\r\nAgree on adding a test.",
      "created_at": "2017-12-18T04:53:28Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157401041",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157401041"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 4235,
      "original_line": 4235,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157480601",
      "pull_request_review_id": 84127988,
      "id": 157480601,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzQ4MDYwMQ==",
      "diff_hunk": "@@ -16,6 +16,8 @@\n std::string GetWalletHelpString(bool showDebug)\n {\n     std::string strUsage = HelpMessageGroup(_(\"Wallet options:\"));\n+    strUsage += HelpMessageOpt(\"-addresstype\", strprintf(_(\"What type of addresses to use (\\\"legacy\\\", \\\"p2sh\\\", \\\"bech32\\\", default: \\\"%s\\\")\"), FormatOutputType(OUTPUT_TYPE_DEFAULT)));",
      "path": "src/wallet/init.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": null,
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: `-addresstype=<type>` to make it clear that this option takes a value",
      "created_at": "2017-12-18T13:15:10Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157480601",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157480601"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 19,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157686246",
      "pull_request_review_id": 84368241,
      "id": 157686246,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzY4NjI0Ng==",
      "diff_hunk": "@@ -4135,3 +4138,110 @@ bool CWalletTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     fInMempool = ret;\n     return ret;\n }\n+\n+static const std::string OUTPUT_TYPE_STRING_LEGACY = \"legacy\";\n+static const std::string OUTPUT_TYPE_STRING_P2SH = \"p2sh\";\n+static const std::string OUTPUT_TYPE_STRING_BECH32 = \"bech32\";\n+\n+OutputType ParseOutputType(const std::string& type, OutputType default_type)\n+{\n+    if (type == \"\") {\n+        return default_type;\n+    } else if (type == OUTPUT_TYPE_STRING_LEGACY) {\n+        return OUTPUT_TYPE_LEGACY;\n+    } else if (type == OUTPUT_TYPE_STRING_P2SH) {\n+        return OUTPUT_TYPE_P2SH;\n+    } else if (type == OUTPUT_TYPE_STRING_BECH32) {\n+        return OUTPUT_TYPE_BECH32;\n+    } else {\n+        return OUTPUT_TYPE_NONE;\n+    }\n+}\n+\n+\n+const std::string& FormatOutputType(OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return OUTPUT_TYPE_STRING_LEGACY;\n+    case OUTPUT_TYPE_P2SH: return OUTPUT_TYPE_STRING_P2SH;\n+    case OUTPUT_TYPE_BECH32: return OUTPUT_TYPE_STRING_BECH32;\n+    default: assert(false);\n+    }\n+}\n+\n+std::vector<CTxDestination> GetAllDestinationsForKey(const CPubKey& key)\n+{\n+    CKeyID keyid = key.GetID();\n+    if (key.IsCompressed()) {\n+        CTxDestination segwit = WitnessV0KeyHash(keyid);\n+        CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+        return std::vector<CTxDestination>{std::move(keyid), std::move(p2sh), std::move(segwit)};\n+    } else {\n+        return std::vector<CTxDestination>{std::move(keyid)};\n+    }\n+}\n+\n+CTxDestination CWallet::AddDestinationForKey(const CPubKey& key, OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return key.GetID();\n+    case OUTPUT_TYPE_P2SH:\n+    case OUTPUT_TYPE_BECH32: {\n+        CTxDestination witdest = WitnessV0KeyHash(key.GetID());\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(*this, witprog)) return key.GetID();\n+        // Even though CBasicKeyStore knows about P2WPKH redeemscripts implicitly, add it explicitly\n+        // so that downgrades to software without this are supported (as long as the wallet file is\n+        // up to date).\n+        AddCScript(witprog);\n+        if (type == OUTPUT_TYPE_P2SH) {\n+            return CScriptID(witprog);\n+        } else {\n+            return witdest;\n+        }\n+    }\n+    default: assert(false);\n+    }\n+}\n+\n+CTxDestination CWallet::AddDestinationForScript(const CScript& script, OutputType type)\n+{\n+    // Note that scripts over 520 bytes are not yet supported.\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY:\n+        return CScriptID(script);\n+    case OUTPUT_TYPE_P2SH:\n+    case OUTPUT_TYPE_BECH32: {\n+        WitnessV0ScriptHash hash;\n+        CSHA256().Write(script.data(), script.size()).Finalize(hash.begin());\n+        CTxDestination witdest = hash;\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(*this, witprog)) return CScriptID(script);",
      "path": "src/wallet/wallet.cpp",
      "position": 160,
      "original_position": 128,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": 157384030,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Adding a test to address_types for this.",
      "created_at": "2017-12-19T08:13:46Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157686246",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157686246"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 4235,
      "original_line": 4235,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157686476",
      "pull_request_review_id": 84368496,
      "id": 157686476,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzY4NjQ3Ng==",
      "diff_hunk": "@@ -4135,3 +4138,110 @@ bool CWalletTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     fInMempool = ret;\n     return ret;\n }\n+\n+static const std::string OUTPUT_TYPE_STRING_LEGACY = \"legacy\";\n+static const std::string OUTPUT_TYPE_STRING_P2SH = \"p2sh\";\n+static const std::string OUTPUT_TYPE_STRING_BECH32 = \"bech32\";\n+\n+OutputType ParseOutputType(const std::string& type, OutputType default_type)\n+{\n+    if (type == \"\") {\n+        return default_type;\n+    } else if (type == OUTPUT_TYPE_STRING_LEGACY) {\n+        return OUTPUT_TYPE_LEGACY;\n+    } else if (type == OUTPUT_TYPE_STRING_P2SH) {\n+        return OUTPUT_TYPE_P2SH;\n+    } else if (type == OUTPUT_TYPE_STRING_BECH32) {\n+        return OUTPUT_TYPE_BECH32;\n+    } else {\n+        return OUTPUT_TYPE_NONE;\n+    }\n+}\n+\n+\n+const std::string& FormatOutputType(OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return OUTPUT_TYPE_STRING_LEGACY;\n+    case OUTPUT_TYPE_P2SH: return OUTPUT_TYPE_STRING_P2SH;\n+    case OUTPUT_TYPE_BECH32: return OUTPUT_TYPE_STRING_BECH32;\n+    default: assert(false);\n+    }\n+}\n+\n+std::vector<CTxDestination> GetAllDestinationsForKey(const CPubKey& key)\n+{\n+    CKeyID keyid = key.GetID();\n+    if (key.IsCompressed()) {\n+        CTxDestination segwit = WitnessV0KeyHash(keyid);\n+        CTxDestination p2sh = CScriptID(GetScriptForDestination(segwit));\n+        return std::vector<CTxDestination>{std::move(keyid), std::move(p2sh), std::move(segwit)};\n+    } else {\n+        return std::vector<CTxDestination>{std::move(keyid)};\n+    }\n+}\n+\n+CTxDestination CWallet::AddDestinationForKey(const CPubKey& key, OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return key.GetID();\n+    case OUTPUT_TYPE_P2SH:\n+    case OUTPUT_TYPE_BECH32: {\n+        CTxDestination witdest = WitnessV0KeyHash(key.GetID());\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(*this, witprog)) return key.GetID();\n+        // Even though CBasicKeyStore knows about P2WPKH redeemscripts implicitly, add it explicitly\n+        // so that downgrades to software without this are supported (as long as the wallet file is\n+        // up to date).\n+        AddCScript(witprog);\n+        if (type == OUTPUT_TYPE_P2SH) {\n+            return CScriptID(witprog);\n+        } else {\n+            return witdest;\n+        }\n+    }\n+    default: assert(false);\n+    }\n+}\n+\n+CTxDestination CWallet::AddDestinationForScript(const CScript& script, OutputType type)\n+{\n+    // Note that scripts over 520 bytes are not yet supported.\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY:\n+        return CScriptID(script);\n+    case OUTPUT_TYPE_P2SH:\n+    case OUTPUT_TYPE_BECH32: {\n+        WitnessV0ScriptHash hash;\n+        CSHA256().Write(script.data(), script.size()).Finalize(hash.begin());\n+        CTxDestination witdest = hash;\n+        CScript witprog = GetScriptForDestination(witdest);\n+        // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n+        if (!IsSolvable(*this, witprog)) return CScriptID(script);\n+        // Add the redeemscript, so that P2WSH and P2SH-P2WSH outputs are recognized as ours.\n+        AddCScript(witprog);\n+        if (type == OUTPUT_TYPE_BECH32) {\n+            return witdest;\n+        } else {\n+            return CScriptID(witprog);\n+        }\n+    }\n+    default: assert(false);\n+    }\n+}\n+\n+void CWallet::AddRelatedScripts(const CScript& scriptPubKey, const CKeyID& keyid)\n+{\n+    CTxDestination segwit = WitnessV0KeyHash(keyid);\n+    CScript witprog = GetScriptForDestination(segwit);\n+    CTxDestination p2sh = CScriptID(witprog);\n+    // For SegWit scriptPubKeys, add the redeemscript explicitly to the wallet, so that\n+    // older software versions (without implicit scripts) correctly treat these as ours.\n+    if (scriptPubKey == witprog || scriptPubKey == GetScriptForDestination(p2sh)) {\n+        assert(HaveKey(keyid));\n+        // No need for a IsSolvable check here, as this function is only called for outputs",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 150,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": 157384452,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I believe it's impossible, but it's certainly not trivial to see - I agree. However, if this code would ever run for an uncompressed key, it's *already* too late, as we're already considering the output to be ours.\r\n\r\nNote that just having an uncompressed key's corresponding CScript in our CKeyStore is not enough to make us treat P2SH-P2WPKH or P2WPKH scriptPubKeys to it as ours.",
      "created_at": "2017-12-19T08:15:14Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157686476",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157686476"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4244,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/158856867",
      "pull_request_review_id": 85721165,
      "id": 158856867,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1ODg1Njg2Nw==",
      "diff_hunk": "@@ -135,14 +135,15 @@ UniValue getnewaddress(const JSONRPCRequest& request)\n         return NullUniValue;\n     }\n \n-    if (request.fHelp || request.params.size() > 1)\n+    if (request.fHelp || request.params.size() > 2)\n         throw std::runtime_error(\n-            \"getnewaddress ( \\\"account\\\" )\\n\"\n+            \"getnewaddress ( \\\"account\\\" \\\"address_type\\\" )\\n\"\n             \"\\nReturns a new Bitcoin address for receiving payments.\\n\"\n             \"If 'account' is specified (DEPRECATED), it is added to the address book \\n\"\n             \"so payments received with the address will be credited to 'account'.\\n\"\n             \"\\nArguments:\\n\"\n             \"1. \\\"account\\\"        (string, optional) DEPRECATED. The account name for the address to be linked to. If not provided, the default account \\\"\\\" is used. It can also be set to the empty string \\\"\\\" to represent the default account. The account does not need to exist, it will be created if there is no account by the given name.\\n\"\n+            \"2. \\\"address_type\\\"   (string, optional) The address type to use. Options are \\\"legacy\\\", \\\"p2sh\\\", and \\\"bech32\\\". Default is set by -addresstype.\\n\"",
      "path": "src/wallet/rpcwallet.cpp",
      "position": 14,
      "original_position": 14,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "d0c76c351aad0454bea1cf2e4da7a8910f30c714",
      "in_reply_to_id": 153376955,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "doesn't seem changed?",
      "created_at": "2017-12-27T19:12:49Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r158856867",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/158856867"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 147,
      "original_line": 147,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/158907686",
      "pull_request_review_id": 85777941,
      "id": 158907686,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1ODkwNzY4Ng==",
      "diff_hunk": "@@ -4135,3 +4139,110 @@ bool CWalletTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     fInMempool = ret;\n     return ret;\n }\n+\n+static const std::string OUTPUT_TYPE_STRING_LEGACY = \"legacy\";\n+static const std::string OUTPUT_TYPE_STRING_P2SH = \"p2sh\";\n+static const std::string OUTPUT_TYPE_STRING_BECH32 = \"bech32\";\n+\n+OutputType ParseOutputType(const std::string& type, OutputType default_type)\n+{\n+    if (type == \"\") {",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 72,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "5d9243963a2591403043f0a1f06a8a7701f1cea7",
      "in_reply_to_id": null,
      "user": {
        "login": "Talkless",
        "id": 292191,
        "node_id": "MDQ6VXNlcjI5MjE5MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/292191?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Talkless",
        "html_url": "https://github.com/Talkless",
        "followers_url": "https://api.github.com/users/Talkless/followers",
        "following_url": "https://api.github.com/users/Talkless/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Talkless/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Talkless/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Talkless/subscriptions",
        "organizations_url": "https://api.github.com/users/Talkless/orgs",
        "repos_url": "https://api.github.com/users/Talkless/repos",
        "events_url": "https://api.github.com/users/Talkless/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Talkless/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I would suggest to use `type.empty()` instead, no need to call string comparison fn. Generated code is much better.",
      "created_at": "2017-12-28T07:37:28Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r158907686",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/158907686"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4149,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/158934040",
      "pull_request_review_id": 85809037,
      "id": 158934040,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1ODkzNDA0MA==",
      "diff_hunk": "@@ -135,14 +135,15 @@ UniValue getnewaddress(const JSONRPCRequest& request)\n         return NullUniValue;\n     }\n \n-    if (request.fHelp || request.params.size() > 1)\n+    if (request.fHelp || request.params.size() > 2)\n         throw std::runtime_error(\n-            \"getnewaddress ( \\\"account\\\" )\\n\"\n+            \"getnewaddress ( \\\"account\\\" \\\"address_type\\\" )\\n\"\n             \"\\nReturns a new Bitcoin address for receiving payments.\\n\"\n             \"If 'account' is specified (DEPRECATED), it is added to the address book \\n\"\n             \"so payments received with the address will be credited to 'account'.\\n\"\n             \"\\nArguments:\\n\"\n             \"1. \\\"account\\\"        (string, optional) DEPRECATED. The account name for the address to be linked to. If not provided, the default account \\\"\\\" is used. It can also be set to the empty string \\\"\\\" to represent the default account. The account does not need to exist, it will be created if there is no account by the given name.\\n\"\n+            \"2. \\\"address_type\\\"   (string, optional) The address type to use. Options are \\\"legacy\\\", \\\"p2sh\\\", and \\\"bech32\\\". Default is set by -addresstype.\\n\"",
      "path": "src/wallet/rpcwallet.cpp",
      "position": 14,
      "original_position": 14,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "d0c76c351aad0454bea1cf2e4da7a8910f30c714",
      "in_reply_to_id": 153376955,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I fixed it and changed it back in response to a comment by @TheBlueMatt. ",
      "created_at": "2017-12-28T11:58:01Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r158934040",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/158934040"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 147,
      "original_line": 147,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/158934926",
      "pull_request_review_id": 85810007,
      "id": 158934926,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1ODkzNDkyNg==",
      "diff_hunk": "@@ -4135,3 +4139,110 @@ bool CWalletTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     fInMempool = ret;\n     return ret;\n }\n+\n+static const std::string OUTPUT_TYPE_STRING_LEGACY = \"legacy\";\n+static const std::string OUTPUT_TYPE_STRING_P2SH = \"p2sh\";\n+static const std::string OUTPUT_TYPE_STRING_BECH32 = \"bech32\";\n+\n+OutputType ParseOutputType(const std::string& type, OutputType default_type)\n+{\n+    if (type == \"\") {",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 72,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "5d9243963a2591403043f0a1f06a8a7701f1cea7",
      "in_reply_to_id": 158907686,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed.",
      "created_at": "2017-12-28T12:06:38Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r158934926",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/158934926"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4149,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159017200",
      "pull_request_review_id": 85903766,
      "id": 159017200,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTAxNzIwMA==",
      "diff_hunk": "@@ -422,3 +422,17 @@ bool DummySignatureCreator::CreateSig(std::vector<unsigned char>& vchSig, const\n     vchSig[6 + 33 + 32] = SIGHASH_ALL;\n     return true;\n }\n+\n+bool IsSolvable(const CKeyStore& store, const CScript& script)\n+{\n+    // This check is to make sure that the script we created can actually be solved for and signed by us\n+    // if we were to have the private keys. This is just to make sure that the script is valid and that,\n+    // if found in a transaction, we would still accept and relay that transaction. In particular,\n+    // it will reject witness outputs that require signing with an uncompressed public key.\n+    DummySignatureCreator creator(&store);\n+    SignatureData sigs;\n+    // Make sure that STANDARD_SCRIPT_VERIFY_FLAGS includes SCRIPT_VERIFY_WITNESS_PUBKEYTYPE, the most\n+    // important property this function is designed to test for.\n+    static_assert(STANDARD_SCRIPT_VERIFY_FLAGS & SCRIPT_VERIFY_WITNESS_PUBKEYTYPE, \"IsSolvable requires standard script flags to include WITNESS_PUBKEYTYPE\");\n+    return (ProduceSignature(creator, script, sigs) && VerifyScript(sigs.scriptSig, script, &sigs.scriptWitness, STANDARD_SCRIPT_VERIFY_FLAGS, creator.Checker()));",
      "path": "src/script/sign.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "b2c21fce66a2ce62cba832b87d086b5ea587691a",
      "in_reply_to_id": 156778208,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> should never fail\r\n\r\nSounds like an assert:\r\n```cpp\r\nif (!ProduceSignature(creator, script, sigs)) return false;\r\nassert(VerifyScript(sigs.scriptSig, script, &sigs.scriptWitness, STANDARD_SCRIPT_VERIFY_FLAGS, creator.Checker()));\r\nreturn true;\r\n```",
      "created_at": "2017-12-29T01:29:34Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r159017200",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159017200"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 438,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159017402",
      "pull_request_review_id": 85903766,
      "id": 159017402,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTAxNzQwMg==",
      "diff_hunk": "@@ -177,12 +177,12 @@ UniValue getnewaddress(const JSONRPCRequest& request)\n \n CTxDestination GetAccountAddress(CWallet* const pwallet, std::string strAccount, bool bForceNew=false)",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 2,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "63d4c88441253a12a6aa76f43bbe1611e0d333e7",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"[refactor] GetAccountPubKey -> GetAccountDestination\"\r\n\r\nNit, could also rename `GetAccountAddress` to `GetAccountDestination`? (only 3 calls)",
      "created_at": "2017-12-29T01:33:54Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r159017402",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159017402"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 178,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159018376",
      "pull_request_review_id": 85903766,
      "id": 159018376,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTAxODM3Ng==",
      "diff_hunk": "@@ -155,6 +155,10 @@ bool ExtractDestination(const CScript& scriptPubKey, CTxDestination& addressRet)\n  * addressRet is populated with a single value and nRequiredRet is set to 1.\n  * Returns true if successful. Currently does not extract address from\n  * pay-to-witness scripts.\n+ *\n+ * This function confuses destinations (a subset of CScripts that are encodable",
      "path": "src/script/standard.h",
      "position": null,
      "original_position": 5,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "5886f934873d7763257668ee43ecb222edf58da4",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"Extend validateaddress information for P2SH-embedded witness\"\r\n\r\nNit, tag this comment as NOTE?",
      "created_at": "2017-12-29T01:54:33Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r159018376",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159018376"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 159,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159019268",
      "pull_request_review_id": 85903766,
      "id": 159019268,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTAxOTI2OA==",
      "diff_hunk": "@@ -131,23 +165,32 @@ UniValue validateaddress(const JSONRPCRequest& request)\n             \"\\nResult:\\n\"\n             \"{\\n\"\n             \"  \\\"isvalid\\\" : true|false,       (boolean) If the address is valid or not. If not, this is the only property returned.\\n\"\n-            \"  \\\"address\\\" : \\\"address\\\", (string) The bitcoin address validated\\n\"\n+            \"  \\\"address\\\" : \\\"address\\\",        (string) The bitcoin address validated\\n\"\n             \"  \\\"scriptPubKey\\\" : \\\"hex\\\",       (string) The hex encoded scriptPubKey generated by the address\\n\"\n             \"  \\\"ismine\\\" : true|false,        (boolean) If the address is yours or not\\n\"\n             \"  \\\"iswatchonly\\\" : true|false,   (boolean) If the address is watchonly\\n\"\n-            \"  \\\"isscript\\\" : true|false,      (boolean) If the key is a script\\n\"\n-            \"  \\\"script\\\" : \\\"type\\\"             (string, optional) The output script type. Possible types: nonstandard, pubkey, pubkeyhash, scripthash, multisig, nulldata, witness_v0_keyhash, witness_v0_scripthash\\n\"\n-            \"  \\\"hex\\\" : \\\"hex\\\",                (string, optional) The redeemscript for the p2sh address\\n\"\n-            \"  \\\"addresses\\\"                   (string, optional) Array of addresses associated with the known redeemscript\\n\"\n+            \"  \\\"isscript\\\" : true|false,      (boolean, optional) If the address is P2SH or P2WSH. Not included for unknown witness types.\\n\"\n+            \"  \\\"iswitness\\\" : true|false,     (boolean) If the address is P2WPKH, P2WSH, or an unknown witness version\\n\"\n+            \"  \\\"witness_version\\\" : version   (number, optional) For all witness output types, gives the version number.\\n\"",
      "path": "src/rpc/misc.cpp",
      "position": 92,
      "original_position": 98,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "5886f934873d7763257668ee43ecb222edf58da4",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Missing test.",
      "created_at": "2017-12-29T02:17:30Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r159019268",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159019268"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 168,
      "original_line": 168,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159019271",
      "pull_request_review_id": 85903766,
      "id": 159019271,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTAxOTI3MQ==",
      "diff_hunk": "@@ -131,23 +165,32 @@ UniValue validateaddress(const JSONRPCRequest& request)\n             \"\\nResult:\\n\"\n             \"{\\n\"\n             \"  \\\"isvalid\\\" : true|false,       (boolean) If the address is valid or not. If not, this is the only property returned.\\n\"\n-            \"  \\\"address\\\" : \\\"address\\\", (string) The bitcoin address validated\\n\"\n+            \"  \\\"address\\\" : \\\"address\\\",        (string) The bitcoin address validated\\n\"\n             \"  \\\"scriptPubKey\\\" : \\\"hex\\\",       (string) The hex encoded scriptPubKey generated by the address\\n\"\n             \"  \\\"ismine\\\" : true|false,        (boolean) If the address is yours or not\\n\"\n             \"  \\\"iswatchonly\\\" : true|false,   (boolean) If the address is watchonly\\n\"\n-            \"  \\\"isscript\\\" : true|false,      (boolean) If the key is a script\\n\"\n-            \"  \\\"script\\\" : \\\"type\\\"             (string, optional) The output script type. Possible types: nonstandard, pubkey, pubkeyhash, scripthash, multisig, nulldata, witness_v0_keyhash, witness_v0_scripthash\\n\"\n-            \"  \\\"hex\\\" : \\\"hex\\\",                (string, optional) The redeemscript for the p2sh address\\n\"\n-            \"  \\\"addresses\\\"                   (string, optional) Array of addresses associated with the known redeemscript\\n\"\n+            \"  \\\"isscript\\\" : true|false,      (boolean, optional) If the address is P2SH or P2WSH. Not included for unknown witness types.\\n\"\n+            \"  \\\"iswitness\\\" : true|false,     (boolean) If the address is P2WPKH, P2WSH, or an unknown witness version\\n\"\n+            \"  \\\"witness_version\\\" : version   (number, optional) For all witness output types, gives the version number.\\n\"\n+            \"  \\\"witness_program\\\" : \\\"hex\\\"     (string, optional) For all witness output types, gives the script or key hash present in the address.\\n\"",
      "path": "src/rpc/misc.cpp",
      "position": 93,
      "original_position": 99,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "5886f934873d7763257668ee43ecb222edf58da4",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Missing test.",
      "created_at": "2017-12-29T02:17:35Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r159019271",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159019271"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 169,
      "original_line": 169,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159019545",
      "pull_request_review_id": 85903766,
      "id": 159019545,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTAxOTU0NQ==",
      "diff_hunk": "@@ -40,6 +40,52 @@ class DescribeAddressVisitor : public boost::static_visitor<UniValue>\n \n     explicit DescribeAddressVisitor(CWallet *_pwallet) : pwallet(_pwallet) {}\n \n+    void ProcessSubScript(const CScript& subscript, UniValue& obj, bool include_addresses = false) const\n+    {\n+        // Always present: script type and redeemscript\n+        txnouttype which_type;\n+        std::vector<std::vector<unsigned char>> solutions_data;\n+        Solver(subscript, which_type, solutions_data);\n+        obj.pushKV(\"script\", GetTxnOutputType(which_type));\n+        obj.pushKV(\"hex\", HexStr(subscript.begin(), subscript.end()));\n+\n+        // Only when the script corresponds to an address:\n+        CTxDestination embedded;\n+        UniValue a(UniValue::VARR);\n+        if (ExtractDestination(subscript, embedded)) {\n+            UniValue subobj = boost::apply_visitor(*this, embedded);\n+            subobj.pushKV(\"address\", EncodeDestination(embedded));\n+            subobj.pushKV(\"scriptPubKey\", HexStr(subscript.begin(), subscript.end()));\n+            if (subobj.exists(\"pubkey\")) {\n+                // Always report the pubkey at the top level, so that `getnewaddress()['pubkey']` always works.\n+                obj.pushKV(\"pubkey\", subobj[\"pubkey\"]);\n+            }\n+            obj.pushKV(\"embedded\", std::move(subobj));\n+            a.push_back(EncodeDestination(embedded));\n+        }\n+\n+        // Only when the script is multisig (in which case the ExtractDestination above certainly failed):\n+        if (which_type == TX_MULTISIG) {\n+            // TODO: abstract out the common functionality between this logic and ExtractDestinations.\n+            obj.pushKV(\"sigsrequired\", solutions_data[0][0]);\n+            UniValue pubkeys(UniValue::VARR);\n+            for (size_t i = 1; i < solutions_data.size() - 1; ++i) {\n+                CPubKey key(solutions_data[i].begin(), solutions_data[i].end());\n+                a.push_back(EncodeDestination(key.GetID()));",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 35,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "5886f934873d7763257668ee43ecb222edf58da4",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Same as https://github.com/bitcoin/bitcoin/pull/11403/files#r159020401.",
      "created_at": "2017-12-29T02:24:24Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r159019545",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159019545"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 74,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159019973",
      "pull_request_review_id": 85903766,
      "id": 159019973,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTAxOTk3Mw==",
      "diff_hunk": "@@ -135,14 +135,15 @@ UniValue getnewaddress(const JSONRPCRequest& request)\n         return NullUniValue;\n     }\n \n-    if (request.fHelp || request.params.size() > 1)\n+    if (request.fHelp || request.params.size() > 2)\n         throw std::runtime_error(\n-            \"getnewaddress ( \\\"account\\\" )\\n\"\n+            \"getnewaddress ( \\\"account\\\" \\\"address_type\\\" )\\n\"\n             \"\\nReturns a new Bitcoin address for receiving payments.\\n\"\n             \"If 'account' is specified (DEPRECATED), it is added to the address book \\n\"\n             \"so payments received with the address will be credited to 'account'.\\n\"\n             \"\\nArguments:\\n\"\n             \"1. \\\"account\\\"        (string, optional) DEPRECATED. The account name for the address to be linked to. If not provided, the default account \\\"\\\" is used. It can also be set to the empty string \\\"\\\" to represent the default account. The account does not need to exist, it will be created if there is no account by the given name.\\n\"\n+            \"2. \\\"address_type\\\"   (string, optional) The address type to use. Options are \\\"legacy\\\", \\\"p2sh\\\", and \\\"bech32\\\". Default is set by -addresstype.\\n\"",
      "path": "src/wallet/rpcwallet.cpp",
      "position": 14,
      "original_position": 14,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "d0c76c351aad0454bea1cf2e4da7a8910f30c714",
      "in_reply_to_id": 153376955,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Should use same format as others?\r\n```cpp\r\n            \"2. \\\"address_type\\\"   (string, optional, default=\" + FormatOutputType(g_address_type) + \") The address type to use...\r\n```\r\nNit, drop command line argument hint, IMO.",
      "created_at": "2017-12-29T02:36:19Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r159019973",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159019973"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 147,
      "original_line": 147,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159020124",
      "pull_request_review_id": 85903766,
      "id": 159020124,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTAyMDEyNA==",
      "diff_hunk": "@@ -4136,3 +4138,95 @@ bool CWalletTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     fInMempool = ret;\n     return ret;\n }\n+\n+static const std::string OUTPUT_TYPE_STRING_LEGACY = \"legacy\";\n+static const std::string OUTPUT_TYPE_STRING_P2SH = \"p2sh\";\n+static const std::string OUTPUT_TYPE_STRING_BECH32 = \"bech32\";\n+\n+OutputType ParseOutputType(const std::string& type, OutputType default_type)\n+{\n+    if (type.empty()) {\n+        return default_type;\n+    } else if (type == OUTPUT_TYPE_STRING_LEGACY) {\n+        return OUTPUT_TYPE_LEGACY;\n+    } else if (type == OUTPUT_TYPE_STRING_P2SH) {\n+        return OUTPUT_TYPE_P2SH;\n+    } else if (type == OUTPUT_TYPE_STRING_BECH32) {\n+        return OUTPUT_TYPE_BECH32;\n+    } else {\n+        return OUTPUT_TYPE_NONE;\n+    }\n+}\n+\n+",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 65,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "5a280466a36ade58e252bd3a15313e98dc467811",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"SegWit wallet support\"\r\n\r\nNit, remove 2nd newline.",
      "created_at": "2017-12-29T02:39:54Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r159020124",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159020124"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4161,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159020401",
      "pull_request_review_id": 85907171,
      "id": 159020401,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTAyMDQwMQ==",
      "diff_hunk": "@@ -40,6 +40,52 @@ class DescribeAddressVisitor : public boost::static_visitor<UniValue>\n \n     explicit DescribeAddressVisitor(CWallet *_pwallet) : pwallet(_pwallet) {}\n \n+    void ProcessSubScript(const CScript& subscript, UniValue& obj, bool include_addresses = false) const\n+    {\n+        // Always present: script type and redeemscript\n+        txnouttype which_type;\n+        std::vector<std::vector<unsigned char>> solutions_data;\n+        Solver(subscript, which_type, solutions_data);\n+        obj.pushKV(\"script\", GetTxnOutputType(which_type));\n+        obj.pushKV(\"hex\", HexStr(subscript.begin(), subscript.end()));\n+\n+        // Only when the script corresponds to an address:\n+        CTxDestination embedded;\n+        UniValue a(UniValue::VARR);\n+        if (ExtractDestination(subscript, embedded)) {\n+            UniValue subobj = boost::apply_visitor(*this, embedded);\n+            subobj.pushKV(\"address\", EncodeDestination(embedded));\n+            subobj.pushKV(\"scriptPubKey\", HexStr(subscript.begin(), subscript.end()));\n+            if (subobj.exists(\"pubkey\")) {\n+                // Always report the pubkey at the top level, so that `getnewaddress()['pubkey']` always works.\n+                obj.pushKV(\"pubkey\", subobj[\"pubkey\"]);\n+            }\n+            obj.pushKV(\"embedded\", std::move(subobj));\n+            a.push_back(EncodeDestination(embedded));",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 25,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "17a7a7255958237b235c7c4104af7d9dd4482c8e",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Could add `if (include_addresses) a.push_back(...);`",
      "created_at": "2017-12-29T02:46:23Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r159020401",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159020401"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 64,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159080283",
      "pull_request_review_id": 85982453,
      "id": 159080283,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTA4MDI4Mw==",
      "diff_hunk": "@@ -40,6 +40,52 @@ class DescribeAddressVisitor : public boost::static_visitor<UniValue>\n \n     explicit DescribeAddressVisitor(CWallet *_pwallet) : pwallet(_pwallet) {}\n \n+    void ProcessSubScript(const CScript& subscript, UniValue& obj, bool include_addresses = false) const\n+    {\n+        // Always present: script type and redeemscript\n+        txnouttype which_type;\n+        std::vector<std::vector<unsigned char>> solutions_data;\n+        Solver(subscript, which_type, solutions_data);\n+        obj.pushKV(\"script\", GetTxnOutputType(which_type));\n+        obj.pushKV(\"hex\", HexStr(subscript.begin(), subscript.end()));\n+\n+        // Only when the script corresponds to an address:\n+        CTxDestination embedded;\n+        UniValue a(UniValue::VARR);\n+        if (ExtractDestination(subscript, embedded)) {\n+            UniValue subobj = boost::apply_visitor(*this, embedded);\n+            subobj.pushKV(\"address\", EncodeDestination(embedded));\n+            subobj.pushKV(\"scriptPubKey\", HexStr(subscript.begin(), subscript.end()));\n+            if (subobj.exists(\"pubkey\")) {\n+                // Always report the pubkey at the top level, so that `getnewaddress()['pubkey']` always works.\n+                obj.pushKV(\"pubkey\", subobj[\"pubkey\"]);\n+            }\n+            obj.pushKV(\"embedded\", std::move(subobj));\n+            a.push_back(EncodeDestination(embedded));",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 25,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "17a7a7255958237b235c7c4104af7d9dd4482c8e",
      "in_reply_to_id": 159020401,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why? `embedded` should always be reported, it's not obsolete like `addresses`.",
      "created_at": "2017-12-29T16:34:41Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r159080283",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159080283"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 64,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159080363",
      "pull_request_review_id": 85982546,
      "id": 159080363,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTA4MDM2Mw==",
      "diff_hunk": "@@ -40,6 +40,52 @@ class DescribeAddressVisitor : public boost::static_visitor<UniValue>\n \n     explicit DescribeAddressVisitor(CWallet *_pwallet) : pwallet(_pwallet) {}\n \n+    void ProcessSubScript(const CScript& subscript, UniValue& obj, bool include_addresses = false) const\n+    {\n+        // Always present: script type and redeemscript\n+        txnouttype which_type;\n+        std::vector<std::vector<unsigned char>> solutions_data;\n+        Solver(subscript, which_type, solutions_data);\n+        obj.pushKV(\"script\", GetTxnOutputType(which_type));\n+        obj.pushKV(\"hex\", HexStr(subscript.begin(), subscript.end()));\n+\n+        // Only when the script corresponds to an address:\n+        CTxDestination embedded;\n+        UniValue a(UniValue::VARR);\n+        if (ExtractDestination(subscript, embedded)) {\n+            UniValue subobj = boost::apply_visitor(*this, embedded);\n+            subobj.pushKV(\"address\", EncodeDestination(embedded));\n+            subobj.pushKV(\"scriptPubKey\", HexStr(subscript.begin(), subscript.end()));\n+            if (subobj.exists(\"pubkey\")) {\n+                // Always report the pubkey at the top level, so that `getnewaddress()['pubkey']` always works.\n+                obj.pushKV(\"pubkey\", subobj[\"pubkey\"]);\n+            }\n+            obj.pushKV(\"embedded\", std::move(subobj));\n+            a.push_back(EncodeDestination(embedded));\n+        }\n+\n+        // Only when the script is multisig (in which case the ExtractDestination above certainly failed):\n+        if (which_type == TX_MULTISIG) {\n+            // TODO: abstract out the common functionality between this logic and ExtractDestinations.\n+            obj.pushKV(\"sigsrequired\", solutions_data[0][0]);\n+            UniValue pubkeys(UniValue::VARR);\n+            for (size_t i = 1; i < solutions_data.size() - 1; ++i) {\n+                CPubKey key(solutions_data[i].begin(), solutions_data[i].end());\n+                a.push_back(EncodeDestination(key.GetID()));",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 35,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "5886f934873d7763257668ee43ecb222edf58da4",
      "in_reply_to_id": 159019545,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why?",
      "created_at": "2017-12-29T16:35:21Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r159080363",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159080363"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 74,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159082687",
      "pull_request_review_id": 85985274,
      "id": 159082687,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTA4MjY4Nw==",
      "diff_hunk": "@@ -40,6 +40,52 @@ class DescribeAddressVisitor : public boost::static_visitor<UniValue>\n \n     explicit DescribeAddressVisitor(CWallet *_pwallet) : pwallet(_pwallet) {}\n \n+    void ProcessSubScript(const CScript& subscript, UniValue& obj, bool include_addresses = false) const\n+    {\n+        // Always present: script type and redeemscript\n+        txnouttype which_type;\n+        std::vector<std::vector<unsigned char>> solutions_data;\n+        Solver(subscript, which_type, solutions_data);\n+        obj.pushKV(\"script\", GetTxnOutputType(which_type));\n+        obj.pushKV(\"hex\", HexStr(subscript.begin(), subscript.end()));\n+\n+        // Only when the script corresponds to an address:\n+        CTxDestination embedded;\n+        UniValue a(UniValue::VARR);\n+        if (ExtractDestination(subscript, embedded)) {\n+            UniValue subobj = boost::apply_visitor(*this, embedded);\n+            subobj.pushKV(\"address\", EncodeDestination(embedded));\n+            subobj.pushKV(\"scriptPubKey\", HexStr(subscript.begin(), subscript.end()));\n+            if (subobj.exists(\"pubkey\")) {\n+                // Always report the pubkey at the top level, so that `getnewaddress()['pubkey']` always works.\n+                obj.pushKV(\"pubkey\", subobj[\"pubkey\"]);\n+            }\n+            obj.pushKV(\"embedded\", std::move(subobj));\n+            a.push_back(EncodeDestination(embedded));\n+        }\n+\n+        // Only when the script is multisig (in which case the ExtractDestination above certainly failed):\n+        if (which_type == TX_MULTISIG) {\n+            // TODO: abstract out the common functionality between this logic and ExtractDestinations.\n+            obj.pushKV(\"sigsrequired\", solutions_data[0][0]);\n+            UniValue pubkeys(UniValue::VARR);\n+            for (size_t i = 1; i < solutions_data.size() - 1; ++i) {\n+                CPubKey key(solutions_data[i].begin(), solutions_data[i].end());\n+                a.push_back(EncodeDestination(key.GetID()));",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 35,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "5886f934873d7763257668ee43ecb222edf58da4",
      "in_reply_to_id": 159019545,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Because `a` is only used if `include_addresses`? Or am I missing something?",
      "created_at": "2017-12-29T16:58:54Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r159082687",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159082687"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 74,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159146912",
      "pull_request_review_id": 86053634,
      "id": 159146912,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTE0NjkxMg==",
      "diff_hunk": "@@ -110,8 +133,10 @@ bool CBasicKeyStore::AddWatchOnly(const CScript &dest)\n     LOCK(cs_KeyStore);\n     setWatchOnly.insert(dest);\n     CPubKey pubKey;\n-    if (ExtractPubKey(dest, pubKey))\n+    if (ExtractPubKey(dest, pubKey)) {\n         mapWatchKeys[pubKey.GetID()] = pubKey;\n+        ImplicitlyLearnRelatedKeyScripts(pubKey);",
      "path": "src/keystore.cpp",
      "position": 47,
      "original_position": 44,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": 157382629,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157382629\n\n> Need some kind of corresponding erase in RemoveWatchOnly\n\n@TheBlueMatt can you clarify if you still think this is a bug.\n@sipa it might would be good to have a comment in RemoveWatchOnly saying CScripts are not removed but this should be harmless.\n",
      "created_at": "2017-12-31T21:34:43Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r159146912",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159146912"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 141,
      "original_line": 141,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159146922",
      "pull_request_review_id": 86053644,
      "id": 159146922,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTE0NjkyMg==",
      "diff_hunk": "@@ -131,7 +131,11 @@ UniValue importprivkey(const JSONRPCRequest& request)\n     CKeyID vchAddress = pubkey.GetID();\n     {\n         pwallet->MarkDirty();\n-        pwallet->SetAddressBook(vchAddress, strLabel, \"receive\");\n+\n+        // We don't know which corresponding address will be used; label them all\n+        for (const auto& dest : GetAllDestinationsForKey(pubkey)) {",
      "path": "src/wallet/rpcdump.cpp",
      "position": 7,
      "original_position": 7,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": 157384169,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157384169\n\n> If I'm reading this correctly, if you import with importpubkey you can downgrade and you'll still get the segwit watchonly, but not if you do an importprivkey?\n\n@TheBlueMatt can you describe what the documentation should say about this?\n",
      "created_at": "2017-12-31T21:35:43Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r159146922",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159146922"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 136,
      "original_line": 136,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159146923",
      "pull_request_review_id": 86053645,
      "id": 159146923,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTE0NjkyMw==",
      "diff_hunk": "@@ -4135,3 +4138,110 @@ bool CWalletTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     fInMempool = ret;\n     return ret;\n }\n+\n+static const std::string OUTPUT_TYPE_STRING_LEGACY = \"legacy\";\n+static const std::string OUTPUT_TYPE_STRING_P2SH = \"p2sh\";\n+static const std::string OUTPUT_TYPE_STRING_BECH32 = \"bech32\";\n+\n+OutputType ParseOutputType(const std::string& type, OutputType default_type)\n+{\n+    if (type == \"\") {\n+        return default_type;\n+    } else if (type == OUTPUT_TYPE_STRING_LEGACY) {\n+        return OUTPUT_TYPE_LEGACY;\n+    } else if (type == OUTPUT_TYPE_STRING_P2SH) {\n+        return OUTPUT_TYPE_P2SH;\n+    } else if (type == OUTPUT_TYPE_STRING_BECH32) {\n+        return OUTPUT_TYPE_BECH32;\n+    } else {\n+        return OUTPUT_TYPE_NONE;\n+    }\n+}\n+\n+\n+const std::string& FormatOutputType(OutputType type)\n+{\n+    switch (type) {\n+    case OUTPUT_TYPE_LEGACY: return OUTPUT_TYPE_STRING_LEGACY;\n+    case OUTPUT_TYPE_P2SH: return OUTPUT_TYPE_STRING_P2SH;\n+    case OUTPUT_TYPE_BECH32: return OUTPUT_TYPE_STRING_BECH32;\n+    default: assert(false);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 75,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": 157383933,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r157401001\n\n> it should be impossible that g_address_type or g_change_type are unset, so if this assert triggers, there is a serious bug.\n\nAnother option would be to throw std::logic_error.\n",
      "created_at": "2017-12-31T21:35:51Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r159146923",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159146923"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4170,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159419364",
      "pull_request_review_id": 86362821,
      "id": 159419364,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTQxOTM2NA==",
      "diff_hunk": "@@ -110,8 +133,10 @@ bool CBasicKeyStore::AddWatchOnly(const CScript &dest)\n     LOCK(cs_KeyStore);\n     setWatchOnly.insert(dest);\n     CPubKey pubKey;\n-    if (ExtractPubKey(dest, pubKey))\n+    if (ExtractPubKey(dest, pubKey)) {\n         mapWatchKeys[pubKey.GetID()] = pubKey;\n+        ImplicitlyLearnRelatedKeyScripts(pubKey);",
      "path": "src/keystore.cpp",
      "position": 47,
      "original_position": 44,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": 157382629,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Discussed this IRL with @TheBlueMatt. I believe there is no problem here, and I've added comments to clarify that.\r\n  ",
      "created_at": "2018-01-03T12:59:25Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r159419364",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159419364"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 141,
      "original_line": 141,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159419578",
      "pull_request_review_id": 86363100,
      "id": 159419578,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTQxOTU3OA==",
      "diff_hunk": "@@ -131,7 +131,11 @@ UniValue importprivkey(const JSONRPCRequest& request)\n     CKeyID vchAddress = pubkey.GetID();\n     {\n         pwallet->MarkDirty();\n-        pwallet->SetAddressBook(vchAddress, strLabel, \"receive\");\n+\n+        // We don't know which corresponding address will be used; label them all\n+        for (const auto& dest : GetAllDestinationsForKey(pubkey)) {",
      "path": "src/wallet/rpcdump.cpp",
      "position": 7,
      "original_position": 7,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": 157384169,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I discussed this IRL with @TheBlueMatt; what I believe he meant is that importing private keys does not explicitly add the related scripts for those keys to the wallet (possibly hurting the ability to detect outputs to such keys after downgrade). Fixed.",
      "created_at": "2018-01-03T13:00:52Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r159419578",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159419578"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 136,
      "original_line": 136,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159419829",
      "pull_request_review_id": 86363404,
      "id": 159419829,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTQxOTgyOQ==",
      "diff_hunk": "@@ -1054,6 +1056,7 @@ bool CWallet::AddToWalletIfInvolvingMe(const CTransactionRef& ptx, const CBlockI\n                     std::map<CKeyID, int64_t>::const_iterator mi = m_pool_key_to_index.find(keyid);\n                     if (mi != m_pool_key_to_index.end()) {\n                         LogPrintf(\"%s: Detected a used keypool key, mark all keypool key up to this key as used\\n\", __func__);\n+                        AddRelatedScripts(txout.scriptPubKey, mi->first);",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 31,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "e721efb2bd3687176c0e93e1c5a9e9e31f76b083",
      "in_reply_to_id": 157384375,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Discussed this IRL. This was indeed a problem. It's fixed now by moving the call to `MarkReserveKeyAsUsed`.",
      "created_at": "2018-01-03T13:02:28Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r159419829",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159419829"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1060,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159420109",
      "pull_request_review_id": 86363724,
      "id": 159420109,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTQyMDEwOQ==",
      "diff_hunk": "@@ -40,6 +40,52 @@ class DescribeAddressVisitor : public boost::static_visitor<UniValue>\n \n     explicit DescribeAddressVisitor(CWallet *_pwallet) : pwallet(_pwallet) {}\n \n+    void ProcessSubScript(const CScript& subscript, UniValue& obj, bool include_addresses = false) const\n+    {\n+        // Always present: script type and redeemscript\n+        txnouttype which_type;\n+        std::vector<std::vector<unsigned char>> solutions_data;\n+        Solver(subscript, which_type, solutions_data);\n+        obj.pushKV(\"script\", GetTxnOutputType(which_type));\n+        obj.pushKV(\"hex\", HexStr(subscript.begin(), subscript.end()));\n+\n+        // Only when the script corresponds to an address:\n+        CTxDestination embedded;\n+        UniValue a(UniValue::VARR);\n+        if (ExtractDestination(subscript, embedded)) {\n+            UniValue subobj = boost::apply_visitor(*this, embedded);\n+            subobj.pushKV(\"address\", EncodeDestination(embedded));\n+            subobj.pushKV(\"scriptPubKey\", HexStr(subscript.begin(), subscript.end()));\n+            if (subobj.exists(\"pubkey\")) {\n+                // Always report the pubkey at the top level, so that `getnewaddress()['pubkey']` always works.\n+                obj.pushKV(\"pubkey\", subobj[\"pubkey\"]);\n+            }\n+            obj.pushKV(\"embedded\", std::move(subobj));\n+            a.push_back(EncodeDestination(embedded));\n+        }\n+\n+        // Only when the script is multisig (in which case the ExtractDestination above certainly failed):\n+        if (which_type == TX_MULTISIG) {\n+            // TODO: abstract out the common functionality between this logic and ExtractDestinations.\n+            obj.pushKV(\"sigsrequired\", solutions_data[0][0]);\n+            UniValue pubkeys(UniValue::VARR);\n+            for (size_t i = 1; i < solutions_data.size() - 1; ++i) {\n+                CPubKey key(solutions_data[i].begin(), solutions_data[i].end());\n+                a.push_back(EncodeDestination(key.GetID()));",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 35,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "5886f934873d7763257668ee43ecb222edf58da4",
      "in_reply_to_id": 159019545,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks, I needed more context to see what you meant. Fixed.",
      "created_at": "2018-01-03T13:04:29Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r159420109",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159420109"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 74,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159423796",
      "pull_request_review_id": 86367726,
      "id": 159423796,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTQyMzc5Ng==",
      "diff_hunk": "@@ -131,23 +165,32 @@ UniValue validateaddress(const JSONRPCRequest& request)\n             \"\\nResult:\\n\"\n             \"{\\n\"\n             \"  \\\"isvalid\\\" : true|false,       (boolean) If the address is valid or not. If not, this is the only property returned.\\n\"\n-            \"  \\\"address\\\" : \\\"address\\\", (string) The bitcoin address validated\\n\"\n+            \"  \\\"address\\\" : \\\"address\\\",        (string) The bitcoin address validated\\n\"\n             \"  \\\"scriptPubKey\\\" : \\\"hex\\\",       (string) The hex encoded scriptPubKey generated by the address\\n\"\n             \"  \\\"ismine\\\" : true|false,        (boolean) If the address is yours or not\\n\"\n             \"  \\\"iswatchonly\\\" : true|false,   (boolean) If the address is watchonly\\n\"\n-            \"  \\\"isscript\\\" : true|false,      (boolean) If the key is a script\\n\"\n-            \"  \\\"script\\\" : \\\"type\\\"             (string, optional) The output script type. Possible types: nonstandard, pubkey, pubkeyhash, scripthash, multisig, nulldata, witness_v0_keyhash, witness_v0_scripthash\\n\"\n-            \"  \\\"hex\\\" : \\\"hex\\\",                (string, optional) The redeemscript for the p2sh address\\n\"\n-            \"  \\\"addresses\\\"                   (string, optional) Array of addresses associated with the known redeemscript\\n\"\n+            \"  \\\"isscript\\\" : true|false,      (boolean, optional) If the address is P2SH or P2WSH. Not included for unknown witness types.\\n\"\n+            \"  \\\"iswitness\\\" : true|false,     (boolean) If the address is P2WPKH, P2WSH, or an unknown witness version\\n\"\n+            \"  \\\"witness_version\\\" : version   (number, optional) For all witness output types, gives the version number.\\n\"",
      "path": "src/rpc/misc.cpp",
      "position": 92,
      "original_position": 98,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "5886f934873d7763257668ee43ecb222edf58da4",
      "in_reply_to_id": 159019268,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed.",
      "created_at": "2018-01-03T13:24:52Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r159423796",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159423796"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 168,
      "original_line": 168,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159423831",
      "pull_request_review_id": 86367772,
      "id": 159423831,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTQyMzgzMQ==",
      "diff_hunk": "@@ -131,23 +165,32 @@ UniValue validateaddress(const JSONRPCRequest& request)\n             \"\\nResult:\\n\"\n             \"{\\n\"\n             \"  \\\"isvalid\\\" : true|false,       (boolean) If the address is valid or not. If not, this is the only property returned.\\n\"\n-            \"  \\\"address\\\" : \\\"address\\\", (string) The bitcoin address validated\\n\"\n+            \"  \\\"address\\\" : \\\"address\\\",        (string) The bitcoin address validated\\n\"\n             \"  \\\"scriptPubKey\\\" : \\\"hex\\\",       (string) The hex encoded scriptPubKey generated by the address\\n\"\n             \"  \\\"ismine\\\" : true|false,        (boolean) If the address is yours or not\\n\"\n             \"  \\\"iswatchonly\\\" : true|false,   (boolean) If the address is watchonly\\n\"\n-            \"  \\\"isscript\\\" : true|false,      (boolean) If the key is a script\\n\"\n-            \"  \\\"script\\\" : \\\"type\\\"             (string, optional) The output script type. Possible types: nonstandard, pubkey, pubkeyhash, scripthash, multisig, nulldata, witness_v0_keyhash, witness_v0_scripthash\\n\"\n-            \"  \\\"hex\\\" : \\\"hex\\\",                (string, optional) The redeemscript for the p2sh address\\n\"\n-            \"  \\\"addresses\\\"                   (string, optional) Array of addresses associated with the known redeemscript\\n\"\n+            \"  \\\"isscript\\\" : true|false,      (boolean, optional) If the address is P2SH or P2WSH. Not included for unknown witness types.\\n\"\n+            \"  \\\"iswitness\\\" : true|false,     (boolean) If the address is P2WPKH, P2WSH, or an unknown witness version\\n\"\n+            \"  \\\"witness_version\\\" : version   (number, optional) For all witness output types, gives the version number.\\n\"\n+            \"  \\\"witness_program\\\" : \\\"hex\\\"     (string, optional) For all witness output types, gives the script or key hash present in the address.\\n\"",
      "path": "src/rpc/misc.cpp",
      "position": 93,
      "original_position": 99,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "5886f934873d7763257668ee43ecb222edf58da4",
      "in_reply_to_id": 159019271,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed (just testing the length/presence).",
      "created_at": "2018-01-03T13:25:07Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r159423831",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159423831"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 169,
      "original_line": 169,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159425986",
      "pull_request_review_id": 86370240,
      "id": 159425986,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTQyNTk4Ng==",
      "diff_hunk": "@@ -155,6 +155,10 @@ bool ExtractDestination(const CScript& scriptPubKey, CTxDestination& addressRet)\n  * addressRet is populated with a single value and nRequiredRet is set to 1.\n  * Returns true if successful. Currently does not extract address from\n  * pay-to-witness scripts.\n+ *\n+ * This function confuses destinations (a subset of CScripts that are encodable",
      "path": "src/script/standard.h",
      "position": null,
      "original_position": 5,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "5886f934873d7763257668ee43ecb222edf58da4",
      "in_reply_to_id": 159018376,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "OKAY.",
      "created_at": "2018-01-03T13:37:10Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r159425986",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159425986"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 159,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159427232",
      "pull_request_review_id": 86371745,
      "id": 159427232,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTQyNzIzMg==",
      "diff_hunk": "@@ -177,12 +177,12 @@ UniValue getnewaddress(const JSONRPCRequest& request)\n \n CTxDestination GetAccountAddress(CWallet* const pwallet, std::string strAccount, bool bForceNew=false)",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 2,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "63d4c88441253a12a6aa76f43bbe1611e0d333e7",
      "in_reply_to_id": 159017402,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2018-01-03T13:43:15Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r159427232",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159427232"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 178,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159427451",
      "pull_request_review_id": 86371990,
      "id": 159427451,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTQyNzQ1MQ==",
      "diff_hunk": "@@ -4136,3 +4138,95 @@ bool CWalletTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n     fInMempool = ret;\n     return ret;\n }\n+\n+static const std::string OUTPUT_TYPE_STRING_LEGACY = \"legacy\";\n+static const std::string OUTPUT_TYPE_STRING_P2SH = \"p2sh\";\n+static const std::string OUTPUT_TYPE_STRING_BECH32 = \"bech32\";\n+\n+OutputType ParseOutputType(const std::string& type, OutputType default_type)\n+{\n+    if (type.empty()) {\n+        return default_type;\n+    } else if (type == OUTPUT_TYPE_STRING_LEGACY) {\n+        return OUTPUT_TYPE_LEGACY;\n+    } else if (type == OUTPUT_TYPE_STRING_P2SH) {\n+        return OUTPUT_TYPE_P2SH;\n+    } else if (type == OUTPUT_TYPE_STRING_BECH32) {\n+        return OUTPUT_TYPE_BECH32;\n+    } else {\n+        return OUTPUT_TYPE_NONE;\n+    }\n+}\n+\n+",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 65,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "5a280466a36ade58e252bd3a15313e98dc467811",
      "in_reply_to_id": 159020124,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2018-01-03T13:44:10Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r159427451",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159427451"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4161,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159427508",
      "pull_request_review_id": 86372049,
      "id": 159427508,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTQyNzUwOA==",
      "diff_hunk": "@@ -40,6 +40,52 @@ class DescribeAddressVisitor : public boost::static_visitor<UniValue>\n \n     explicit DescribeAddressVisitor(CWallet *_pwallet) : pwallet(_pwallet) {}\n \n+    void ProcessSubScript(const CScript& subscript, UniValue& obj, bool include_addresses = false) const\n+    {\n+        // Always present: script type and redeemscript\n+        txnouttype which_type;\n+        std::vector<std::vector<unsigned char>> solutions_data;\n+        Solver(subscript, which_type, solutions_data);\n+        obj.pushKV(\"script\", GetTxnOutputType(which_type));\n+        obj.pushKV(\"hex\", HexStr(subscript.begin(), subscript.end()));\n+\n+        // Only when the script corresponds to an address:\n+        CTxDestination embedded;\n+        UniValue a(UniValue::VARR);\n+        if (ExtractDestination(subscript, embedded)) {\n+            UniValue subobj = boost::apply_visitor(*this, embedded);\n+            subobj.pushKV(\"address\", EncodeDestination(embedded));\n+            subobj.pushKV(\"scriptPubKey\", HexStr(subscript.begin(), subscript.end()));\n+            if (subobj.exists(\"pubkey\")) {\n+                // Always report the pubkey at the top level, so that `getnewaddress()['pubkey']` always works.\n+                obj.pushKV(\"pubkey\", subobj[\"pubkey\"]);\n+            }\n+            obj.pushKV(\"embedded\", std::move(subobj));\n+            a.push_back(EncodeDestination(embedded));",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 25,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "17a7a7255958237b235c7c4104af7d9dd4482c8e",
      "in_reply_to_id": 159020401,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed, see elsewhere.",
      "created_at": "2018-01-03T13:44:21Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r159427508",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159427508"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 64,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159458877",
      "pull_request_review_id": 86409909,
      "id": 159458877,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTQ1ODg3Nw==",
      "diff_hunk": "@@ -1129,6 +1142,20 @@ class CWallet final : public CCryptoKeyStore, public CValidationInterface\n      * deadlock\n      */\n     void BlockUntilSyncedToCurrentChain();\n+\n+    /**\n+     * Explicitly make the wallet learn the related scripts for outputs to the\n+     * given key. This is purely for backward compatibility with earlier wallet",
      "path": "src/wallet/wallet.h",
      "position": null,
      "original_position": 27,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "6689c3c256612fbb39000ba54d706c2b57e5d045",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"SegWit wallet support\"\r\n\r\nSaying this is for \"backwards compatibility\" is a bit vague since that could imply this is needed for new software to load old wallets, but this is really for old software to be able to load new wallets. Maybe change \"earlier wallet versions\" to \"earlier wallet software\" in the next line to clarify.\r\n\r\nThe wording in the earlier version of this PR also seemed good: \"For SegWit scriptPubKeys, add the redeemscript explicitly to the wallet, so that older software versions (without implicit scripts) correctly treat these as ours.\"\r\n  \r\n  \r\n  ",
      "created_at": "2018-01-03T15:57:31Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r159458877",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159458877"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1148,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159468527",
      "pull_request_review_id": 86421365,
      "id": 159468527,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTQ2ODUyNw==",
      "diff_hunk": "@@ -243,16 +254,24 @@ UniValue getrawchangeaddress(const JSONRPCRequest& request)\n         pwallet->TopUpKeyPool();\n     }\n \n+    OutputType output_type = g_change_type;",
      "path": "src/wallet/rpcwallet.cpp",
      "position": 93,
      "original_position": 77,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "d0c76c351aad0454bea1cf2e4da7a8910f30c714",
      "in_reply_to_id": 152037615,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> Part of the reason for that is that I feel using the term 'address' for change is wrong\r\n\r\nFor that reason rename argument above from `address_type` to `change_type`?",
      "created_at": "2018-01-03T16:34:39Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r159468527",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159468527"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 259,
      "original_line": 259,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159477330",
      "pull_request_review_id": 86409909,
      "id": 159477330,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTQ3NzMzMA==",
      "diff_hunk": "@@ -1129,6 +1142,20 @@ class CWallet final : public CCryptoKeyStore, public CValidationInterface\n      * deadlock\n      */\n     void BlockUntilSyncedToCurrentChain();\n+\n+    /**\n+     * Explicitly make the wallet learn the related scripts for outputs to the\n+     * given key. This is purely for backward compatibility with earlier wallet\n+     * versions, as CBasicKeyStore automatically does this implicitly for all\n+     * keys now.\n+     */\n+    void LearnRelatedScripts(const CPubKey& key, OutputType = OUTPUT_TYPE_P2SH_SEGWIT);",
      "path": "src/wallet/wallet.h",
      "position": null,
      "original_position": 31,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "6689c3c256612fbb39000ba54d706c2b57e5d045",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"SegWit wallet support\"\r\n\r\nMaybe explain OUTPUT_TYPE_P2SH_SEGWIT default argument in the comment since it seems a little arbitrary. I guess if no OutputType parameter is passed you want to store the p2wpkh script unconditionally.\r\n  \r\n  ",
      "created_at": "2018-01-03T17:11:46Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r159477330",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159477330"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1152,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159577303",
      "pull_request_review_id": 86548676,
      "id": 159577303,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTU3NzMwMw==",
      "diff_hunk": "@@ -833,7 +835,7 @@ bool CWallet::GetAccountDestination(CTxDestination &dest, std::string strAccount\n             bForceNew = true;\n         else {\n             // Check if the current key has been used\n-            CScript scriptPubKey = GetScriptForDestination(account.vchPubKey.GetID());\n+            CScript scriptPubKey = GetScriptForDestination(GetDestinationForKey(account.vchPubKey, g_address_type));",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "6689c3c256612fbb39000ba54d706c2b57e5d045",
      "in_reply_to_id": null,
      "user": {
        "login": "jimpo",
        "id": 881253,
        "node_id": "MDQ6VXNlcjg4MTI1Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/881253?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jimpo",
        "html_url": "https://github.com/jimpo",
        "followers_url": "https://api.github.com/users/jimpo/followers",
        "following_url": "https://api.github.com/users/jimpo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jimpo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jimpo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jimpo/subscriptions",
        "organizations_url": "https://api.github.com/users/jimpo/orgs",
        "repos_url": "https://api.github.com/users/jimpo/repos",
        "events_url": "https://api.github.com/users/jimpo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jimpo/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "If a key receives funds to an alternate address type, should the wallet force a new key?",
      "created_at": "2018-01-04T03:54:58Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r159577303",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159577303"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 838,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159862294",
      "pull_request_review_id": 86884602,
      "id": 159862294,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTg2MjI5NA==",
      "diff_hunk": "@@ -833,7 +835,7 @@ bool CWallet::GetAccountDestination(CTxDestination &dest, std::string strAccount\n             bForceNew = true;\n         else {\n             // Check if the current key has been used\n-            CScript scriptPubKey = GetScriptForDestination(account.vchPubKey.GetID());\n+            CScript scriptPubKey = GetScriptForDestination(GetDestinationForKey(account.vchPubKey, g_address_type));",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "6689c3c256612fbb39000ba54d706c2b57e5d045",
      "in_reply_to_id": 159577303,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Perhaps, but is it worth implementing that for accounts (which are deprecated)?",
      "created_at": "2018-01-05T12:02:41Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r159862294",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159862294"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 838,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159865799",
      "pull_request_review_id": 86888866,
      "id": 159865799,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTg2NTc5OQ==",
      "diff_hunk": "@@ -833,7 +835,7 @@ bool CWallet::GetAccountDestination(CTxDestination &dest, std::string strAccount\n             bForceNew = true;\n         else {\n             // Check if the current key has been used\n-            CScript scriptPubKey = GetScriptForDestination(account.vchPubKey.GetID());\n+            CScript scriptPubKey = GetScriptForDestination(GetDestinationForKey(account.vchPubKey, g_address_type));",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "6689c3c256612fbb39000ba54d706c2b57e5d045",
      "in_reply_to_id": 159577303,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r159577303\r\n\r\n> Perhaps, but is it worth implementing that for accounts (which are deprecated)?\r\n\r\nThis is also used by `getlabeladdress` in #7729. (If #11536 were merged, I think it would clear up some ongoing confusion about accounts and labels). But I think it still probably not worth changing the behavior in this PR, which is already doing enough things. Could have a comment here saying this code could check other address types besides `g_address_type` or store label/account addresses instead of pubkeys to be more reliable in the future.",
      "created_at": "2018-01-05T12:27:52Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r159865799",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159865799"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 838,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159910718",
      "pull_request_review_id": 86942166,
      "id": 159910718,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTkxMDcxOA==",
      "diff_hunk": "@@ -1129,6 +1142,20 @@ class CWallet final : public CCryptoKeyStore, public CValidationInterface\n      * deadlock\n      */\n     void BlockUntilSyncedToCurrentChain();\n+\n+    /**\n+     * Explicitly make the wallet learn the related scripts for outputs to the\n+     * given key. This is purely for backward compatibility with earlier wallet",
      "path": "src/wallet/wallet.h",
      "position": null,
      "original_position": 27,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "6689c3c256612fbb39000ba54d706c2b57e5d045",
      "in_reply_to_id": 159458877,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Rewritten a bit.",
      "created_at": "2018-01-05T16:00:49Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r159910718",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159910718"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1148,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159910778",
      "pull_request_review_id": 86942239,
      "id": 159910778,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTkxMDc3OA==",
      "diff_hunk": "@@ -1129,6 +1142,20 @@ class CWallet final : public CCryptoKeyStore, public CValidationInterface\n      * deadlock\n      */\n     void BlockUntilSyncedToCurrentChain();\n+\n+    /**\n+     * Explicitly make the wallet learn the related scripts for outputs to the\n+     * given key. This is purely for backward compatibility with earlier wallet\n+     * versions, as CBasicKeyStore automatically does this implicitly for all\n+     * keys now.\n+     */\n+    void LearnRelatedScripts(const CPubKey& key, OutputType = OUTPUT_TYPE_P2SH_SEGWIT);",
      "path": "src/wallet/wallet.h",
      "position": null,
      "original_position": 31,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "6689c3c256612fbb39000ba54d706c2b57e5d045",
      "in_reply_to_id": 159477330,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Addressed by splitting the function up in two.",
      "created_at": "2018-01-05T16:01:02Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r159910778",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159910778"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1152,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159910831",
      "pull_request_review_id": 86942291,
      "id": 159910831,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTkxMDgzMQ==",
      "diff_hunk": "@@ -833,7 +835,7 @@ bool CWallet::GetAccountDestination(CTxDestination &dest, std::string strAccount\n             bForceNew = true;\n         else {\n             // Check if the current key has been used\n-            CScript scriptPubKey = GetScriptForDestination(account.vchPubKey.GetID());\n+            CScript scriptPubKey = GetScriptForDestination(GetDestinationForKey(account.vchPubKey, g_address_type));",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "6689c3c256612fbb39000ba54d706c2b57e5d045",
      "in_reply_to_id": 159577303,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Added a TODO.",
      "created_at": "2018-01-05T16:01:13Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r159910831",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159910831"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 838,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160212731",
      "pull_request_review_id": 87289450,
      "id": 160212731,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2MDIxMjczMQ==",
      "diff_hunk": "@@ -292,8 +292,8 @@ UniValue setaccount(const JSONRPCRequest& request)\n         // Detect when changing the account of an address that is the 'unused current key' of another account:\n         if (pwallet->mapAddressBook.count(dest)) {\n             std::string strOldAccount = pwallet->mapAddressBook[dest].name;\n-            if (dest == GetAccountAddress(pwallet, strOldAccount)) {\n-                GetAccountAddress(pwallet, strOldAccount, true);\n+            if (dest == GetAccountDestination(pwallet, strOldAccount)) {",
      "path": "src/wallet/rpcwallet.cpp",
      "position": 123,
      "original_position": 34,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "cbe197470ecc1f7b48771c4e7b654ab030af4c9e",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "As discussed on IRC this stuff sucks. If you add a bech32 address to your mapAddressBook it comes back out as 3QJmnh in 0.15 and prior. I'm ok with leaving it after discussion, but needs good documentation.",
      "created_at": "2018-01-08T18:03:26Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r160212731",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160212731"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 316,
      "original_line": 295,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160223175",
      "pull_request_review_id": 87289450,
      "id": 160223175,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2MDIyMzE3NQ==",
      "diff_hunk": "@@ -246,12 +246,12 @@ CScript _createmultisig_redeemScript(CWallet * const pwallet, const UniValue& pa\n         // Case 1: Bitcoin address and we have full public key:\n         CTxDestination dest = DecodeDestination(ks);\n         if (pwallet && IsValidDestination(dest)) {\n-            const CKeyID *keyID = boost::get<CKeyID>(&dest);\n-            if (!keyID) {\n+            auto key = GetKeyForDestination(*pwallet, dest);",
      "path": "src/rpc/misc.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "5a36cba99a4738063d486caac620d0dab6648ef9",
      "in_reply_to_id": 155607235,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Can we please not auto shit like this? It just needlessly makes reading the code impossible to save on typing 4 charachters.",
      "created_at": "2018-01-08T18:48:43Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r160223175",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160223175"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 283,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160245838",
      "pull_request_review_id": 87289450,
      "id": 160245838,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2MDI0NTgzOA==",
      "diff_hunk": "@@ -1307,7 +1307,7 @@ UniValue addwitnessaddress(const JSONRPCRequest& request)\n             throw JSONRPCError(RPC_WALLET_ERROR, \"Cannot convert between witness address types\");\n         }\n     } else {\n-        pwallet->AddCScript(witprogram);\n+        pwallet->AddCScript(witprogram); // Implicit for single-key, but necessary for multisig",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "899c0ef898e6684fc0b80f9546464d42b4b0c5de",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Comment is wrong - we use the AddCScript call to write the redeemscript to disk to support downgrade.",
      "created_at": "2018-01-08T20:21:03Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r160245838",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160245838"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1310,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160283543",
      "pull_request_review_id": 87289450,
      "id": 160283543,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2MDI4MzU0Mw==",
      "diff_hunk": "@@ -433,7 +438,9 @@ UniValue importpubkey(const JSONRPCRequest& request)\n \n     LOCK2(cs_main, pwallet->cs_wallet);\n \n-    ImportAddress(pwallet, pubKey.GetID(), strLabel);\n+    for (const auto& dest : GetAllDestinationsForKey(pubKey)) {\n+        ImportAddress(pwallet, dest, strLabel);",
      "path": "src/wallet/rpcdump.cpp",
      "position": 27,
      "original_position": 27,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "fce5d09ae61b3cc617653211000589a454840174",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Is it safe that we do not do a AddCScript based on a importpubkey? Seems to me that you'd never match the HaveCScript condition if you downgrade so maybe something might break? The final script will still be watched, but it just seems weird to not have the symmetry with importprivkey here.",
      "created_at": "2018-01-08T23:28:02Z",
      "updated_at": "2018-01-09T23:35:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r160283543",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160283543"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 442,
      "original_line": 442,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160555382",
      "pull_request_review_id": 87693764,
      "id": 160555382,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2MDU1NTM4Mg==",
      "diff_hunk": "@@ -433,7 +438,9 @@ UniValue importpubkey(const JSONRPCRequest& request)\n \n     LOCK2(cs_main, pwallet->cs_wallet);\n \n-    ImportAddress(pwallet, pubKey.GetID(), strLabel);\n+    for (const auto& dest : GetAllDestinationsForKey(pubKey)) {\n+        ImportAddress(pwallet, dest, strLabel);",
      "path": "src/wallet/rpcdump.cpp",
      "position": 27,
      "original_position": 27,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "fce5d09ae61b3cc617653211000589a454840174",
      "in_reply_to_id": 160283543,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I believe you're right. Fixed.",
      "created_at": "2018-01-09T23:37:44Z",
      "updated_at": "2018-01-09T23:37:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r160555382",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160555382"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 442,
      "original_line": 442,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160555403",
      "pull_request_review_id": 87693797,
      "id": 160555403,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2MDU1NTQwMw==",
      "diff_hunk": "@@ -1307,7 +1307,7 @@ UniValue addwitnessaddress(const JSONRPCRequest& request)\n             throw JSONRPCError(RPC_WALLET_ERROR, \"Cannot convert between witness address types\");\n         }\n     } else {\n-        pwallet->AddCScript(witprogram);\n+        pwallet->AddCScript(witprogram); // Implicit for single-key, but necessary for multisig",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "899c0ef898e6684fc0b80f9546464d42b4b0c5de",
      "in_reply_to_id": 160245838,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed.",
      "created_at": "2018-01-09T23:37:54Z",
      "updated_at": "2018-01-09T23:37:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r160555403",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160555403"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1310,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160555564",
      "pull_request_review_id": 87693978,
      "id": 160555564,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2MDU1NTU2NA==",
      "diff_hunk": "@@ -292,8 +292,8 @@ UniValue setaccount(const JSONRPCRequest& request)\n         // Detect when changing the account of an address that is the 'unused current key' of another account:\n         if (pwallet->mapAddressBook.count(dest)) {\n             std::string strOldAccount = pwallet->mapAddressBook[dest].name;\n-            if (dest == GetAccountAddress(pwallet, strOldAccount)) {\n-                GetAccountAddress(pwallet, strOldAccount, true);\n+            if (dest == GetAccountDestination(pwallet, strOldAccount)) {",
      "path": "src/wallet/rpcwallet.cpp",
      "position": 123,
      "original_position": 34,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "cbe197470ecc1f7b48771c4e7b654ab030af4c9e",
      "in_reply_to_id": 160212731,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Release notes are for later I think (after importmulti/signmessage/dumpwallet/importwallet have been figured out).",
      "created_at": "2018-01-09T23:38:55Z",
      "updated_at": "2018-01-09T23:38:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r160555564",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160555564"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 316,
      "original_line": 295,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160882192",
      "pull_request_review_id": 88076981,
      "id": 160882192,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2MDg4MjE5Mg==",
      "diff_hunk": "@@ -292,8 +292,8 @@ UniValue setaccount(const JSONRPCRequest& request)\n         // Detect when changing the account of an address that is the 'unused current key' of another account:\n         if (pwallet->mapAddressBook.count(dest)) {\n             std::string strOldAccount = pwallet->mapAddressBook[dest].name;\n-            if (dest == GetAccountAddress(pwallet, strOldAccount)) {\n-                GetAccountAddress(pwallet, strOldAccount, true);\n+            if (dest == GetAccountDestination(pwallet, strOldAccount)) {",
      "path": "src/wallet/rpcwallet.cpp",
      "position": 123,
      "original_position": 34,
      "commit_id": "b224a47a1a5feac380506abff63fae91d7a93b39",
      "original_commit_id": "cbe197470ecc1f7b48771c4e7b654ab030af4c9e",
      "in_reply_to_id": 160212731,
      "user": {
        "login": "stefment",
        "id": 8888420,
        "node_id": "MDQ6VXNlcjg4ODg0MjA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8888420?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stefment",
        "html_url": "https://github.com/stefment",
        "followers_url": "https://api.github.com/users/stefment/followers",
        "following_url": "https://api.github.com/users/stefment/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stefment/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stefment/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stefment/subscriptions",
        "organizations_url": "https://api.github.com/users/stefment/orgs",
        "repos_url": "https://api.github.com/users/stefment/repos",
        "events_url": "https://api.github.com/users/stefment/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stefment/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I love you guys.",
      "created_at": "2018-01-11T07:40:53Z",
      "updated_at": "2018-01-11T07:40:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/11403#discussion_r160882192",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160882192"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 316,
      "original_line": 295,
      "side": "RIGHT"
    }
  ]
}