{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483",
    "id": 2231533853,
    "node_id": "PR_kwDOABII586FAoEd",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/31483",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/31483.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/31483.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31483",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31483/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/7517126d9fd2c3e50dc95ce831bac6895b950e24",
    "number": 31483,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "kernel: Move kernel-related cache constants to kernel cache",
    "user": {
      "login": "TheCharlatan",
      "id": 8421793,
      "node_id": "MDQ6VXNlcjg0MjE3OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheCharlatan",
      "html_url": "https://github.com/TheCharlatan",
      "followers_url": "https://api.github.com/users/TheCharlatan/followers",
      "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
      "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
      "repos_url": "https://api.github.com/users/TheCharlatan/repos",
      "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "Carrying non-kernel related fields in the cache sizes for the indexes is confusing for kernel library users. The cache sizes are set currently with magic numbers in bitcoin-chainstate. The comments for the cache size calculations are not completely clear. The constants for the cache sizes are also currently in `txdb.h`, which is not an ideal place for holding all cache size related constants.\r\n\r\nSolve these things by moving the kernel-specific cache size fields to their own struct and moving the constants to either the node or the kernel cache sizes.\r\n\r\nThis slightly changes the way the cache is allocated if (and only if) the txindex and/or blockfilterindex is used. Since they are now given precedence over the block tree db cache, this results in a bit less cache being allocated to the block tree db, coinsdb and coins caches. The effect is negligible though, i.e. cache sizes with default dbcache reported through the logs are:\r\n\r\nmaster:\r\n```\r\nCache configuration:\r\n* Using 2.0 MiB for block index database\r\n* Using 56.0 MiB for transaction index database\r\n* Using 49.0 MiB for basic block filter index database\r\n* Using 8.0 MiB for chain state database\r\n* Using 335.0 MiB for in-memory UTXO set (plus up to 286.1 MiB of unused mempool space)\r\n```\r\n\r\nthis PR:\r\n```\r\nCache configuration:\r\n* Using 2.0 MiB for block index database\r\n* Using 56.2 MiB for transaction index database\r\n* Using 49.2 MiB for basic block filter index database\r\n* Using 8.0 MiB for chain state database\r\n* Using 334.5 MiB for in-memory UTXO set (plus up to 286.1 MiB of unused mempool space)\r\n```\r\n\r\n---\r\nThis PR is part of the [libbitcoinkernel project](https://github.com/bitcoin/bitcoin/issues/27587).",
    "labels": [
      {
        "id": 118379652,
        "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
        "name": "Validation",
        "color": "6060aa",
        "default": false
      }
    ],
    "created_at": "2024-12-12T12:17:56Z",
    "updated_at": "2024-12-21T15:05:27Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "305fae09d35596e1bc1b730fa0cdf28b0e69d81d",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "TheCharlatan:kernel_cache_sizes",
      "ref": "kernel_cache_sizes",
      "sha": "7517126d9fd2c3e50dc95ce831bac6895b950e24",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 94456368,
        "node_id": "MDEwOlJlcG9zaXRvcnk5NDQ1NjM2OA==",
        "name": "bitcoin",
        "full_name": "TheCharlatan/bitcoin",
        "owner": {
          "login": "TheCharlatan",
          "id": 8421793,
          "node_id": "MDQ6VXNlcjg0MjE3OTM=",
          "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/TheCharlatan",
          "html_url": "https://github.com/TheCharlatan",
          "followers_url": "https://api.github.com/users/TheCharlatan/followers",
          "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
          "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
          "repos_url": "https://api.github.com/users/TheCharlatan/repos",
          "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/TheCharlatan/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/TheCharlatan/bitcoin",
        "archive_url": "https://api.github.com/repos/TheCharlatan/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/TheCharlatan/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/TheCharlatan/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/TheCharlatan/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/TheCharlatan/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/TheCharlatan/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/TheCharlatan/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/TheCharlatan/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/TheCharlatan/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/TheCharlatan/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/TheCharlatan/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/TheCharlatan/bitcoin/events",
        "forks_url": "https://api.github.com/repos/TheCharlatan/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/TheCharlatan/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/TheCharlatan/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/TheCharlatan/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/TheCharlatan/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/TheCharlatan/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/TheCharlatan/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/TheCharlatan/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/TheCharlatan/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/TheCharlatan/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/TheCharlatan/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/TheCharlatan/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/TheCharlatan/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:TheCharlatan/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/TheCharlatan/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/TheCharlatan/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/TheCharlatan/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/TheCharlatan/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/TheCharlatan/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/TheCharlatan/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/TheCharlatan/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/TheCharlatan/bitcoin/hooks",
        "svn_url": "https://github.com/TheCharlatan/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 4,
        "watchers_count": 4,
        "size": 252724,
        "default_branch": "master",
        "open_issues_count": 1,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-12-19T10:57:48Z",
        "created_at": "2017-06-15T16:03:35Z",
        "updated_at": "2024-12-10T11:57:09Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "477b357460743a9304cccfb672e5445f364891ae",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 36619,
        "stargazers_count": 80926,
        "watchers_count": 80926,
        "size": 273659,
        "default_branch": "master",
        "open_issues_count": 684,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-12-20T15:19:08Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-12-21T15:27:44Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 100,
    "deletions": 70,
    "changed_files": 13,
    "commits": 6,
    "review_comments": 27,
    "comments": 5
  },
  "events": [
    {
      "event": "commented",
      "id": 2538749277,
      "node_id": "IC_kwDOABII586XUj1d",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2538749277",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-12T12:17:59Z",
      "updated_at": "2024-12-18T17:09:22Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/31483.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [stickies-v](https://github.com/bitcoin/bitcoin/pull/31483#pullrequestreview-2511656329), [ryanofsky](https://github.com/bitcoin/bitcoin/pull/31483#pullrequestreview-2512351049) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#30965](https://github.com/bitcoin/bitcoin/pull/30965) (kernel: Move block tree db open to block manager by TheCharlatan)\n* [#29641](https://github.com/bitcoin/bitcoin/pull/29641) (scripted-diff: Use LogInfo over LogPrintf [WIP, NOMERGE, DRAFT] by maflcko)\n* [#26022](https://github.com/bitcoin/bitcoin/pull/26022) (Add util::ResultPtr class by ryanofsky)\n* [#25722](https://github.com/bitcoin/bitcoin/pull/25722) (refactor: Use util::Result class for wallet loading by ryanofsky)\n* [#25665](https://github.com/bitcoin/bitcoin/pull/25665) (refactor: Add util::Result failure values, multiple error and warning messages by ryanofsky)\n* [#24539](https://github.com/bitcoin/bitcoin/pull/24539) (Add a \"tx output spender\" index by sstone)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#issuecomment-2538749277",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31483"
    },
    {
      "event": "labeled",
      "id": 15633722647,
      "node_id": "LE_lADOABII586jEBuMzwAAAAOj160X",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15633722647",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-12T12:18:02Z",
      "label": {
        "name": "Validation",
        "color": "6060aa"
      }
    },
    {
      "event": "reviewed",
      "id": 2499365306,
      "node_id": "PRR_kwDOABII586U-Um6",
      "url": null,
      "actor": null,
      "commit_id": "62da6a0b1ef99fc00357e967fe868ca3235cc4fb",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#pullrequestreview-2499365306",
      "submitted_at": "2024-12-12T12:40:40Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDY5MTU5MzI2ODEwODIyYzgwNGFiNTNhMDA5ZWY1N2ZiNWYyOGZhYzk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/69159326810822c804ab53a009ef57fb5f28fac9",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/69159326810822c804ab53a009ef57fb5f28fac9",
      "tree": {
        "sha": "573e404bc8ed43949476a03fd3eb735a2bccb726",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/573e404bc8ed43949476a03fd3eb735a2bccb726"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 573e404bc8ed43949476a03fd3eb735a2bccb726\nparent 37e49c2c7ca5969124830d79b2cb31041c570755\nauthor TheCharlatan <seb.kung@gmail.com> 1733951722 +0100\ncommitter TheCharlatan <seb.kung@gmail.com> 1734008228 +0100\n\ndoc: Correct docstring describing max block tree db cache\n\nIt always applied in the same way, no matter how the txindex is setup.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmda3aQACgkQm3m0VpHb\nQXOFNBAA0EGJjWbzbTaZgcBnaBwEJYLSCLuCeIUIYMTntTAF+7bP4rBVBKFwMgCT\nxlx42Fkm1Oy+/TFngW9zQH2pL5pi5tf3MVi9QcM5rlVOPU1Cy8AmQ1Q3xTCTH6sp\nd5UcUHlnkeg1Kw/0JtzCmcJ0Tiw/3nCmu0iO8eyCGQ1/YtYFLRb4ZH1y3hlguC2p\n2yfeDLgvZsLIEJ6X9WxYoVZb+dNOBQzXM8iAZ6sPQPmvlhe6LPMCOANIjlAjbBP6\nD8DkTMww6aYaaFsA19BfDbLdytQ1cU+fxAEYcOQIeB3u/ZcEzY/k9WwGd3LecjvU\npMGcrOHitGPqtkw1n6vh6Ae7XMdIKRifbvmf65l+ZUTg8wOxckkqkt9ReqHxkrUc\noeL7MzMzpNRkLavwm8Y/uJqhXQrerS7Sirul48S6bJH9ISUokrlSylb5WibK0zYU\nI6Ld/wVCnmufrCyvN/XYoXLrGCvRGHgE4xNdmqt9nZGmmNQBUbl5GTJ4kjnV093J\ngMZspLJTAXrjKbDmXg1tcoLPISu12mRSe712FSCogBr6PHo8Y09g4L9LnT4shr4U\nxQQMKkBfcYp15P114Rvv7Rf48bTXzv5hehkO8fJwuipkHMK6oCtMlKgqUtN1gbcY\nJreAjlaJ3o1s1u5sD035LqnXc2ApIf4/4nLgoc8TbqGo/ya1ABQ=\n=NRTK\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/37e49c2c7ca5969124830d79b2cb31041c570755",
          "sha": "37e49c2c7ca5969124830d79b2cb31041c570755",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/37e49c2c7ca5969124830d79b2cb31041c570755"
        }
      ],
      "message": "doc: Correct docstring describing max block tree db cache\n\nIt always applied in the same way, no matter how the txindex is setup.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-12-12T12:57:08Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-12-11T21:15:22Z"
      },
      "sha": "69159326810822c804ab53a009ef57fb5f28fac9"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 15634223112,
      "node_id": "HRFPE_lADOABII586jEBuMzwAAAAOj31AI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15634223112",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "173477b5efad4723863b38fe51cd1156620d01df",
      "commit_url": "https://api.github.com/repos/TheCharlatan/bitcoin/commits/173477b5efad4723863b38fe51cd1156620d01df",
      "created_at": "2024-12-12T12:58:34Z"
    },
    {
      "event": "reviewed",
      "id": 2501686219,
      "node_id": "PRR_kwDOABII586VHLPL",
      "url": null,
      "actor": null,
      "commit_id": "173477b5efad4723863b38fe51cd1156620d01df",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK. Makes sense to separate this.",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#pullrequestreview-2501686219",
      "submitted_at": "2024-12-13T15:12:13Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 15656759866,
      "node_id": "HRFPE_lADOABII586jEBuMzwAAAAOlNzI6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15656759866",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "f454987be6f140aca6c13ab3abf94c3afa183fdf",
      "commit_url": "https://api.github.com/repos/TheCharlatan/bitcoin/commits/f454987be6f140aca6c13ab3abf94c3afa183fdf",
      "created_at": "2024-12-14T10:10:06Z"
    },
    {
      "event": "commented",
      "id": 2543040080,
      "node_id": "IC_kwDOABII586Xk7ZQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2543040080",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-14T10:10:09Z",
      "updated_at": "2024-12-14T10:10:09Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thanks for the review @stickies-v,\r\n\r\nUpdated 173477b5efad4723863b38fe51cd1156620d01df -> f454987be6f140aca6c13ab3abf94c3afa183fdf ([kernel_cache_sizes_0](https://github.com/TheCharlatan/bitcoin/tree/kernel_cache_sizes_0) -> [kernel_cache_sizes_1](https://github.com/TheCharlatan/bitcoin/tree/kernel_cache_sizes_1), [compare](https://github.com/TheCharlatan/bitcoin/compare/kernel_cache_sizes_0..kernel_cache_sizes_1))\r\n\r\n* Addressed @stickies-v's  [comment](https://github.com/bitcoin/bitcoin/pull/31483#discussion_r1884078251), removed unnecassary new index size member in the tests.\r\n* Addressed @stickies-v's [comment](https://github.com/bitcoin/bitcoin/pull/31483#discussion_r1883694847), fixed commit order for include addition and optionsmodel and removed the no longer needed txdb include.",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#issuecomment-2543040080",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31483"
    },
    {
      "event": "mentioned",
      "id": 15656759997,
      "node_id": "MEE_lADOABII586jEBuMzwAAAAOlNzK9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15656759997",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-14T10:10:10Z"
    },
    {
      "event": "subscribed",
      "id": 15656759999,
      "node_id": "SE_lADOABII586jEBuMzwAAAAOlNzK_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15656759999",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-14T10:10:10Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 15676732984,
      "node_id": "HRFPE_lADOABII586jEBuMzwAAAAOmZ_Y4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15676732984",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "2c49e0bfd295dc0326d02cd0a80853d7dee885ac",
      "commit_url": "https://api.github.com/repos/TheCharlatan/bitcoin/commits/2c49e0bfd295dc0326d02cd0a80853d7dee885ac",
      "created_at": "2024-12-16T21:28:37Z"
    },
    {
      "event": "commented",
      "id": 2546835212,
      "node_id": "IC_kwDOABII586XzZ8M",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2546835212",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-16T21:28:45Z",
      "updated_at": "2024-12-16T21:28:45Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thanks for the comments @stickies-v,\r\n\r\nUpdated f454987be6f140aca6c13ab3abf94c3afa183fdf -> 2c49e0bfd295dc0326d02cd0a80853d7dee885ac ([kernel_cache_sizes_1](https://github.com/TheCharlatan/bitcoin/tree/kernel_cache_sizes_1) -> [kernel_cache_sizes_2](https://github.com/TheCharlatan/bitcoin/tree/kernel_cache_sizes_2), [compare](https://github.com/TheCharlatan/bitcoin/compare/kernel_cache_sizes_1..kernel_cache_sizes_2))\r\n\r\n* Addressed @stickies-v's [comment](https://github.com/bitcoin/bitcoin/pull/31483#discussion_r1884061716), added a kernel-specific cache size constant and moved the minimum size out of the kernel.\r\n",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#issuecomment-2546835212",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31483"
    },
    {
      "event": "mentioned",
      "id": 15676735063,
      "node_id": "MEE_lADOABII586jEBuMzwAAAAOmZ_5X",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15676735063",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-16T21:28:46Z"
    },
    {
      "event": "subscribed",
      "id": 15676735081,
      "node_id": "SE_lADOABII586jEBuMzwAAAAOmZ_5p",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15676735081",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-16T21:28:46Z"
    },
    {
      "event": "reviewed",
      "id": 2508948359,
      "node_id": "PRR_kwDOABII586Vi4OH",
      "url": null,
      "actor": null,
      "commit_id": "2c49e0bfd295dc0326d02cd0a80853d7dee885ac",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK 2c49e0bfd295dc0326d02cd0a80853d7dee885ac\r\n\r\nThe only behaviour change is a very slight difference in cache allocation by moving `block_tree_db` allocation after index allocation. Because `block_tree_db` is capped at 2MiB, the maximum impact this change can have is very limited. Even at the most extreme case with `-dbcache=4 -txindex -blockfilterindex=1`, the results are not meaningfully different:\r\n\r\nOn master:\r\n```\r\n2024-12-17T14:25:35Z Cache configuration:\r\n2024-12-17T14:25:35Z * Using 0.5 MiB for block index database\r\n2024-12-17T14:25:35Z * Using 0.4 MiB for transaction index database\r\n2024-12-17T14:25:35Z * Using 0.4 MiB for basic block filter index database\r\n2024-12-17T14:25:35Z * Using 1.3 MiB for chain state database\r\n2024-12-17T14:25:35Z * Using 1.3 MiB for in-memory UTXO set (plus up to 286.1 MiB of unused mempool space)\r\n```\r\n\r\nWith this PR:\r\n```\r\n2024-12-17T14:27:38Z Cache configuration:\r\n2024-12-17T14:27:38Z * Using 0.4 MiB for block index database\r\n2024-12-17T14:27:38Z * Using 0.5 MiB for transaction index database\r\n2024-12-17T14:27:38Z * Using 0.4 MiB for basic block filter index database\r\n2024-12-17T14:27:38Z * Using 1.3 MiB for chain state database\r\n2024-12-17T14:27:38Z * Using 1.3 MiB for in-memory UTXO set (plus up to 286.1 MiB of unused mempool space)\r\n```",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#pullrequestreview-2508948359",
      "submitted_at": "2024-12-17T14:31:11Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 15688050928,
      "node_id": "HRFPE_lADOABII586jEBuMzwAAAAOnFKjw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15688050928",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "8e929e343e14b0228f6f4841ecf2d85a73afda3b",
      "commit_url": "https://api.github.com/repos/TheCharlatan/bitcoin/commits/8e929e343e14b0228f6f4841ecf2d85a73afda3b",
      "created_at": "2024-12-17T15:37:32Z"
    },
    {
      "event": "commented",
      "id": 2548783892,
      "node_id": "IC_kwDOABII586X61sU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2548783892",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-17T15:37:34Z",
      "updated_at": "2024-12-17T15:37:34Z",
      "author_association": "CONTRIBUTOR",
      "body": "Updated 2c49e0bfd295dc0326d02cd0a80853d7dee885ac -> 8e929e343e14b0228f6f4841ecf2d85a73afda3b ([kernel_cache_sizes_2](https://github.com/TheCharlatan/bitcoin/tree/kernel_cache_sizes_2) -> [kernel_cache_sizes_3](https://github.com/TheCharlatan/bitcoin/tree/kernel_cache_sizes_3), [compare](https://github.com/TheCharlatan/bitcoin/compare/kernel_cache_sizes_2..kernel_cache_sizes_3))\r\n\r\n* Addressed @stickies-v's [comment](https://github.com/bitcoin/bitcoin/pull/31483#discussion_r1888558172), removed redundant comment.",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#issuecomment-2548783892",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31483"
    },
    {
      "event": "mentioned",
      "id": 15688052299,
      "node_id": "MEE_lADOABII586jEBuMzwAAAAOnFK5L",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15688052299",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-17T15:37:37Z"
    },
    {
      "event": "subscribed",
      "id": 15688052350,
      "node_id": "SE_lADOABII586jEBuMzwAAAAOnFK5-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15688052350",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-17T15:37:37Z"
    },
    {
      "event": "reviewed",
      "id": 2509607744,
      "node_id": "PRR_kwDOABII586VlZNA",
      "url": null,
      "actor": null,
      "commit_id": "8e929e343e14b0228f6f4841ecf2d85a73afda3b",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "re-ACK 8e929e343e14b0228f6f4841ecf2d85a73afda3b - just a small doc change.",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#pullrequestreview-2509607744",
      "submitted_at": "2024-12-17T17:34:43Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
    },
    {
      "event": "reviewed",
      "id": 2509692136,
      "node_id": "PRR_kwDOABII586Vltzo",
      "url": null,
      "actor": null,
      "commit_id": "8e929e343e14b0228f6f4841ecf2d85a73afda3b",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK 8e929e343e14b0228f6f4841ecf2d85a73afda3b. All these changes make sense and definitely make the kernel API nicer.\r\n\r\nI do also think it would be an improvement to change all the int64_t fields to size_t since they just get casted to size_t in the end anyway, and because size_t is more self-documenting and makes it clearer the sizes are in bytes.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#pullrequestreview-2509692136",
      "submitted_at": "2024-12-17T18:24:26Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGM3MWZjNmFjNmU2MmU1ZWVhOTZlOGFhNGUwZjQzMjYwYWZjODE3MjM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c71fc6ac6e62e5eea96e8aa4e0f43260afc81723",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c71fc6ac6e62e5eea96e8aa4e0f43260afc81723",
      "tree": {
        "sha": "a74116eb3b3cf9db328aca69b02a0107f3c81c3f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a74116eb3b3cf9db328aca69b02a0107f3c81c3f"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree a74116eb3b3cf9db328aca69b02a0107f3c81c3f\nparent 69159326810822c804ab53a009ef57fb5f28fac9\nauthor TheCharlatan <seb.kung@gmail.com> 1734467636 +0100\ncommitter TheCharlatan <seb.kung@gmail.com> 1734467643 +0100\n\ninit: Simplify coinsdb cache calculation\n\n(total_cache / 4) + (1 << 23) is at least 8 MiB and nMaxCoinsDBCache is\nalso 8 MiB, so the minimum between the two will always be\nnMaxCoinsDBCache.\n\nCo-authored-by: Ryan Ofsky <ryan@ofsky.org>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmdh4PQACgkQm3m0VpHb\nQXPL2Q//X4fFSxR/wPYZJJ0lfGRJtrc9pwqTxkWvDfm8TVLMpTGA5Dyi5qIgrT3V\n04z4gqrIcIldiS71NUfc61KT+WNAN1kOhjNV4erMc9WR6rhwvs0ArIZsEvDHUjXa\nfxFoqAfsmnPIm1RsNvHKYfTKffLODFk9fWPAPzqdPnmqRViOaN+Rdlqe4Ut4wlAF\nl4OTBT7H4kg3wFuyZVWUyMqh95kRoK7bhpWEsZZXeq346bhWUwQFp11OBF20APRE\nG6xbzAxGq8LQpGCrC0301iyRhmqMK0GPrIJ6qVhra8GNBeXhghxmaGG5o+/xpVC+\nxYlDs6q4oKKhqXJCxh9LHFxmULlRSDuyBUXE/iHs2DZkCn1j9bwzZa1Mz34MsvOw\nsHKdSH6xlhVJjVtJptTfM7rwnsyYCRsOaI/6bDAb5P7vxWUHcMOO9Lc9UzFhjEbd\nWm+wrjhq+FWAeBmMPJ1kVcs5Z1Oia5QmIIOn5VZTgeIQNXbgKyQJasqAR5BvyY6f\namB+0SHmnUciSI2Ehkov7uJ43BvX1jQC2G77mRxFdMdIvBBtYcQ015uosRAB8qI1\n9dZaC9j5j/pI0dcLX9ovRxAGEKTaJxtmfM0EsWsW86xX6ZOfBV3cQ5rLhlQpXBL/\nvPaWODZ+Eo6lfr2NvqUViSudOmkiQlraTNJSgEULXvIH9ZGNVIg=\n=J+Xt\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/69159326810822c804ab53a009ef57fb5f28fac9",
          "sha": "69159326810822c804ab53a009ef57fb5f28fac9",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/69159326810822c804ab53a009ef57fb5f28fac9"
        }
      ],
      "message": "init: Simplify coinsdb cache calculation\n\n(total_cache / 4) + (1 << 23) is at least 8 MiB and nMaxCoinsDBCache is\nalso 8 MiB, so the minimum between the two will always be\nnMaxCoinsDBCache.\n\nCo-authored-by: Ryan Ofsky <ryan@ofsky.org>",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-12-17T20:34:03Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-12-17T20:33:56Z"
      },
      "sha": "c71fc6ac6e62e5eea96e8aa4e0f43260afc81723"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGVkMzUyNThjMmZiNDZjMDAzZGIyMTZjNzY3MjVkYTQzMzk3OGEyODE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ed35258c2fb46c003db216c76725da433978a281",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ed35258c2fb46c003db216c76725da433978a281",
      "tree": {
        "sha": "5448c9f00564f222e2da5eca62c4326aafd796d5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5448c9f00564f222e2da5eca62c4326aafd796d5"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 5448c9f00564f222e2da5eca62c4326aafd796d5\nparent c71fc6ac6e62e5eea96e8aa4e0f43260afc81723\nauthor TheCharlatan <seb.kung@gmail.com> 1732305094 +0100\ncommitter TheCharlatan <seb.kung@gmail.com> 1734468070 +0100\n\nkernel: Move kernel-specific cache size options to kernel\n\nCarrying non-kernel related fields in the cache sizes for the indexes is\nconfusing for kernel library users. The cache sizes also are set\ncurrently with magic numbers in bitcoin-chainstate. The comments for the\ncache size calculations are also not completely clear.\n\nSolve these things by moving the kernel-specific cache size fields to\ntheir own struct.\n\nThis slightly changes the way the cache is allocated if the txindex\nand/or blockfilterindex is used. Since they are now given precedence\nover the block tree db cache, this results in a bit less cache being\nallocated to the block tree db, coinsdb and coins caches. The effect is\nnegligible though, i.e. cache sizes with default dbcache reported\nthrough the logs are:\n\nmaster:\nCache configuration:\n* Using 2.0 MiB for block index database\n* Using 56.0 MiB for transaction index database\n* Using 49.0 MiB for basic block filter index database\n* Using 8.0 MiB for chain state database\n* Using 335.0 MiB for in-memory UTXO set (plus up to 286.1 MiB of unused mempool space)\n\nthis branch:\nCache configuration:\n* Using 2.0 MiB for block index database\n* Using 56.2 MiB for transaction index database\n* Using 49.2 MiB for basic block filter index database\n* Using 8.0 MiB for chain state database\n* Using 334.5 MiB for in-memory UTXO set (plus up to 286.1 MiB of unused mempool space)\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmdh4egACgkQm3m0VpHb\nQXO1iRAAsWDsLFxC4rlMXPOvT9nfdFGHckMT6PaGn+gphwhBKjFQPaOxf42k3fOo\nk75xE43I6ha4YWCSlEp4+4/wMmxzjSZ8pJgktG7LKFLfcD6kGTXoLgIj7aye+QLW\n84GdAh56FJjIb2R6SbXYND0qBOPZ2+I3Ibos0pYYwHFrwfhc2SrsbLdEh0r2msW0\nsXvWCwJH5AndVTcGeiVs3ocJHJStz4MP9XdPqRsToHHNyssN2tB2mi0vI2tvTDK1\njKCbx26idbIhFXIn0YG5R5BKf8uxKKw9J6K4K8TpuphqgrKB0sW8uFNwqqMtbjUC\nRhcqmgXcknxfyI3uxW11tYoUevhAmti5ga2C6Yac0YGfSxc/pWk8mZtiS81Mrm2k\nZ5b4cmbLXZusXTozm0y42qOgpN8g4Rr23epG5OzVRfCYj8pSWQz9NylNOPG5F21C\nJXR6TMW/OvdClP00IVJ85OLDlasDpewFAPSt/n/pVUBBQyXWpqOvA1yfoDc8zeZ5\nAI3cXjlhz2rm3mxokg+ZFbA8e3h02HhGZPnEGM6j43ut9VaQapHQsIfDdZhQmyeB\n720KMowNHyCifvrQu6RzV1GFcOlBshtvBaxnE5pxWvifBmakoNqxr5A9TbLYIDdM\nrlaaKtDTnbN3Dg/mibteiDjg57oAEZWG+2OuxR19OpWxK8LWEUA=\n=XqUZ\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c71fc6ac6e62e5eea96e8aa4e0f43260afc81723",
          "sha": "c71fc6ac6e62e5eea96e8aa4e0f43260afc81723",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c71fc6ac6e62e5eea96e8aa4e0f43260afc81723"
        }
      ],
      "message": "kernel: Move kernel-specific cache size options to kernel\n\nCarrying non-kernel related fields in the cache sizes for the indexes is\nconfusing for kernel library users. The cache sizes also are set\ncurrently with magic numbers in bitcoin-chainstate. The comments for the\ncache size calculations are also not completely clear.\n\nSolve these things by moving the kernel-specific cache size fields to\ntheir own struct.\n\nThis slightly changes the way the cache is allocated if the txindex\nand/or blockfilterindex is used. Since they are now given precedence\nover the block tree db cache, this results in a bit less cache being\nallocated to the block tree db, coinsdb and coins caches. The effect is\nnegligible though, i.e. cache sizes with default dbcache reported\nthrough the logs are:\n\nmaster:\nCache configuration:\n* Using 2.0 MiB for block index database\n* Using 56.0 MiB for transaction index database\n* Using 49.0 MiB for basic block filter index database\n* Using 8.0 MiB for chain state database\n* Using 335.0 MiB for in-memory UTXO set (plus up to 286.1 MiB of unused mempool space)\n\nthis branch:\nCache configuration:\n* Using 2.0 MiB for block index database\n* Using 56.2 MiB for transaction index database\n* Using 49.2 MiB for basic block filter index database\n* Using 8.0 MiB for chain state database\n* Using 334.5 MiB for in-memory UTXO set (plus up to 286.1 MiB of unused mempool space)",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-12-17T20:41:10Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-11-22T19:51:34Z"
      },
      "sha": "ed35258c2fb46c003db216c76725da433978a281"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDk1NThiZDdiNzY1ZTViY2M2ZTE1Yjg0MGVjMzc2MzgwM2QyMzEyZTM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9558bd7b765e5bcc6e15b840ec3763803d2312e3",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/9558bd7b765e5bcc6e15b840ec3763803d2312e3",
      "tree": {
        "sha": "dbe8bc8ea9b971ba6d54c78c28bc820224d40a44",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/dbe8bc8ea9b971ba6d54c78c28bc820224d40a44"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree dbe8bc8ea9b971ba6d54c78c28bc820224d40a44\nparent ed35258c2fb46c003db216c76725da433978a281\nauthor TheCharlatan <seb.kung@gmail.com> 1732311857 +0100\ncommitter TheCharlatan <seb.kung@gmail.com> 1734468074 +0100\n\nkernel: Move non-kernel db cache size constants\n\nThese have nothing to do with the txdb, so move them out and into the\nnode caches.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmdh4eoACgkQm3m0VpHb\nQXMw6Q/7BMDKBdTlF5tZNjTDPB65Q5BWwtFw3y9bnzQk7ElUI68f6oQ9Fl/A/fF/\nJZx6y3wupPyXgkB2QIuknGoGayNsVA/xgeQx5iz6FRY9B5DX7tegfXcZh13YMYxr\nkrKKKVXjaUJQVkKnc/5UHO5djNjIc1SdNcLxuYW2SIwFn0S/NWIGtrQRZw4m2Z+F\nmi6TXfCSp3G+trZmfBsuY3DA3nnpGBf6H44cfPVhVOSKHHzM3rzNcVy9y0E4REC4\niVIq9gbCiEpito2mGQ60t/TNNfELOhPsmYLB0Tuw/zXR3naXpPkhfOAxb7bNKW/9\nK/+6eDxTx7ZNGZwBbQl4BmGi6gzmD8nrIzJ7xXJnpWTE7ZTZZPkRAO8NCXpbFC8l\n9OZTm8uImzRAuYan5WM9LIw6lpCKq9HPyR04WfUG8IT9W3a9gZWUdoZGBVm4ChoZ\nsH/zu46RgIqXf2SFnzpUvSOVraeSmGmKwmRrCj3smIYe5yHjaba/fn5ehlytc8WT\nxlfL5RRBy8KkURHO6S7p6qCBzMqy1BedHvBK6yJpAO3cVtlbaIIqXwGTL7/buYhJ\nD0HFqKdxwzefjqsKn1SE+CkBn/1Kw3mAp2HjKEuHAU0dZtwBYNSkv0mWKIQ7dzpP\naH5HxcSBl0pqyw+0BgEAHhPR5NBb9Rx1f7w3ZmOLkAYo8zZIuN8=\n=ETj7\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ed35258c2fb46c003db216c76725da433978a281",
          "sha": "ed35258c2fb46c003db216c76725da433978a281",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ed35258c2fb46c003db216c76725da433978a281"
        }
      ],
      "message": "kernel: Move non-kernel db cache size constants\n\nThese have nothing to do with the txdb, so move them out and into the\nnode caches.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-12-17T20:41:14Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-11-22T21:44:17Z"
      },
      "sha": "9558bd7b765e5bcc6e15b840ec3763803d2312e3"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDlmNTViZDQ2MGYxNGIzMGJhMDM4MjdmZDQ5NmRjNGQ2YTlkNjRiNGU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9f55bd460f14b30ba03827fd496dc4d6a9d64b4e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/9f55bd460f14b30ba03827fd496dc4d6a9d64b4e",
      "tree": {
        "sha": "dc3ad8a09c2e8c1f7c859a9311c424325d11718b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/dc3ad8a09c2e8c1f7c859a9311c424325d11718b"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree dc3ad8a09c2e8c1f7c859a9311c424325d11718b\nparent 9558bd7b765e5bcc6e15b840ec3763803d2312e3\nauthor TheCharlatan <seb.kung@gmail.com> 1732312322 +0100\ncommitter TheCharlatan <seb.kung@gmail.com> 1734468444 +0100\n\nkernel: Move kernel-related cache constants to kernel cache\n\nThey are not all related to the txdb, so a better place for them is the\nnew kernel cache file.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmdh410ACgkQm3m0VpHb\nQXN0/w//TZz0uvzu4OPflBWvIopBQn0tYE2hkQR9w8wMJyYvr/ewQZQk4emM8xTb\nce134QRlskuPNrOjKkzz2jcdQvAxDb6VwD/9Ddz/0Y5uL+cbxKp1isouFUmcv8dV\nNrEC0KX1tv+6PMk4op5EU5QMuWm+OWpg3M2hSqVSIogLk/MTP+sWhVnBcyK4M68K\nq4ZDV9RLnP7foqeiGTRyQB4l5y5BfC6kN1OlexGoYO9rm74zVaW3AA4mwb7Kpc1r\nbJX6CK22BgW1SYv06ncMgBOsP9D8oByDZEgunhbdyrUDGRCY3k9+fDjMrO+q3613\noUPhozX05aVWhU+tyJgWqZIpZ57gb/RJ0vPYkHaHOYf0KabjI9ZNR/KoryowWuuM\nUB7eNsUY0tIPBu7dklgHFWIwDp667BkFD7K2uoMgPLST3t0AiLbnSztVgpaj7I+w\nfUMxvz2McQf6ecuzMOes2rM2RuBKaViSkOpB9K5voU4VUQDgfy3NHGnIp3IKk0pl\n2s5rC/Ai/RO2hIkSlksN5xL5mFQmcSIPwPyKr7YZX/3pE7a9Nemw8bWD1ELN3prr\nVBjwjs5cCoXt3d4/Mm6/mO/aOH0ISqHsXcZnTvCOw6Td+4fTX3739Ujla2wydXcT\nGdslE/Pt1vvHm0Oih0kVvJo8x1o6Zoxsu7a/m9rftkAe/2lRKWM=\n=a27m\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9558bd7b765e5bcc6e15b840ec3763803d2312e3",
          "sha": "9558bd7b765e5bcc6e15b840ec3763803d2312e3",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/9558bd7b765e5bcc6e15b840ec3763803d2312e3"
        }
      ],
      "message": "kernel: Move kernel-related cache constants to kernel cache\n\nThey are not all related to the txdb, so a better place for them is the\nnew kernel cache file.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-12-17T20:47:24Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-11-22T21:52:02Z"
      },
      "sha": "9f55bd460f14b30ba03827fd496dc4d6a9d64b4e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDc1MTcxMjZkOWZkMmMzZTUwZGM5NWNlODMxYmFjNjg5NWI5NTBlMjQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7517126d9fd2c3e50dc95ce831bac6895b950e24",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/7517126d9fd2c3e50dc95ce831bac6895b950e24",
      "tree": {
        "sha": "9521f6d65e5291833c86363b40b6b6f3fd912b65",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9521f6d65e5291833c86363b40b6b6f3fd912b65"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 9521f6d65e5291833c86363b40b6b6f3fd912b65\nparent 9f55bd460f14b30ba03827fd496dc4d6a9d64b4e\nauthor TheCharlatan <seb.kung@gmail.com> 1734469127 +0100\ncommitter TheCharlatan <seb.kung@gmail.com> 1734469135 +0100\n\ninit: Use size_t consistently for cache sizes\n\nThis avoids having to rely on implicit casts when passing them to the\nvarious functions allocating the caches.\n\nAlso take this opportunity to make the total amounts of cache in the\nchainstate manager a size_t too\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmdh5hwACgkQm3m0VpHb\nQXOFWRAAyQ9ZklU8aEgEaRKsw1sOZI7DztVEyPiB4OaTo7zPaxf4fzZvLdU70VTv\nVGlW9RDnCxt16h2cPWlkHVw3RQ3nGzx3QCsd5GxgGI5gCvt1sjGKAZ2oK1JIfD6Y\nonvMVDq6+maFUX1VrsZ1AjIuvwL2dnffCSFxQwqpDm++D75Dvu2dL9m+iSdEHMUg\ny+T4RIw9Yyl0JKGKlNytqW4uA/RpugILXX315AlSWclfuz7ym3eZUOUs2cszD0Z9\nECbhDmY36C+4KX9Ps0DS09ctPwn1+82iwrZhe4uYmCqK8vzCQoYPfOElTNiaQdkR\nBveKJ8vR77hsT1EjQxg3U080hahb0GWThBuNV5xG9E4I3jrXfTA9lAK69JpiFg/C\nJIZqlWR0mrydRlRluH4W9suuQfvdT67reXjAHPF5thFvQHTcnzk/bHLNqjNsNu9g\nYtD47eYKfzhtBDX3vizz0ETJ1undh+rBbReN23aZcRkp1Y9afDRde0cb06XQqzjm\nYtzCO+NpMas/bM0uZptVDjR4y2t5i58Sj3cUso4tfqk2uNWH7O02MyWEPvL8KTvT\no7KwiiiAjMnarfPjbpPhNrBwdHPI+jMM3BF4o5rw1rBUuk24akidFfuFEAJ5y2Eu\nOptxTKJYObhMZFzrdp/5ILJDoB5fUEy83FqJGp6uyEaRHxSAz3c=\n=tTzV\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9f55bd460f14b30ba03827fd496dc4d6a9d64b4e",
          "sha": "9f55bd460f14b30ba03827fd496dc4d6a9d64b4e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/9f55bd460f14b30ba03827fd496dc4d6a9d64b4e"
        }
      ],
      "message": "init: Use size_t consistently for cache sizes\n\nThis avoids having to rely on implicit casts when passing them to the\nvarious functions allocating the caches.\n\nAlso take this opportunity to make the total amounts of cache in the\nchainstate manager a size_t too",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-12-17T20:58:55Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-12-17T20:58:47Z"
      },
      "sha": "7517126d9fd2c3e50dc95ce831bac6895b950e24"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 15693181451,
      "node_id": "HRFPE_lADOABII586jEBuMzwAAAAOnYvIL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15693181451",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "7517126d9fd2c3e50dc95ce831bac6895b950e24",
      "commit_url": "https://api.github.com/repos/TheCharlatan/bitcoin/commits/7517126d9fd2c3e50dc95ce831bac6895b950e24",
      "created_at": "2024-12-17T21:14:40Z"
    },
    {
      "event": "commented",
      "id": 2549645058,
      "node_id": "IC_kwDOABII586X-H8C",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2549645058",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-17T21:14:44Z",
      "updated_at": "2024-12-17T21:14:44Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thanks for the review @ryanofsky!\r\nUpdated 8e929e343e14b0228f6f4841ecf2d85a73afda3b -> 7517126d9fd2c3e50dc95ce831bac6895b950e24 ([kernel_cache_sizes_3](https://github.com/TheCharlatan/bitcoin/tree/kernel_cache_sizes_3) -> [kernel_cache_sizes_4](https://github.com/TheCharlatan/bitcoin/tree/kernel_cache_sizes_4), [compare](https://github.com/TheCharlatan/bitcoin/compare/kernel_cache_sizes_3..kernel_cache_sizes_4))\r\n\r\n* Addressed @ryanofsky's [comment](https://github.com/bitcoin/bitcoin/pull/31483#discussion_r1888992732), removed (redundant?) logic from coins_db cache size calculation.\r\n* Took @ryanofsky's [suggestion](https://github.com/bitcoin/bitcoin/pull/31483#pullrequestreview-2509692136), made the cache fields `size_t`.",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#issuecomment-2549645058",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31483"
    },
    {
      "event": "mentioned",
      "id": 15693182227,
      "node_id": "MEE_lADOABII586jEBuMzwAAAAOnYvUT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15693182227",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-17T21:14:45Z"
    },
    {
      "event": "subscribed",
      "id": 15693182244,
      "node_id": "SE_lADOABII586jEBuMzwAAAAOnYvUk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15693182244",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-17T21:14:45Z"
    },
    {
      "event": "reviewed",
      "id": 2511656329,
      "node_id": "PRR_kwDOABII586VtNWJ",
      "url": null,
      "actor": null,
      "commit_id": "7517126d9fd2c3e50dc95ce831bac6895b950e24",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "re-ACK 7517126d9fd2c3e50dc95ce831bac6895b950e24\r\n\r\nI think c71fc6ac6e62e5eea96e8aa4e0f43260afc81723 is an absolute improvement, ~~but I'm [~0](https://github.com/bitcoin/bitcoin/pull/31483#discussion_r1890151750) on 7517126d9fd2c3e50dc95ce831bac6895b950e24~~. (edit: [resolved](https://github.com/bitcoin/bitcoin/pull/31483/files#r1890652637))",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#pullrequestreview-2511656329",
      "submitted_at": "2024-12-18T12:24:28Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
    },
    {
      "event": "review_requested",
      "id": 15702523424,
      "node_id": "RRE_lADOABII586jEBuMzwAAAAOn8X4g",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15702523424",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-18T12:24:32Z",
      "requested_reviewer": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "reviewed",
      "id": 2512351049,
      "node_id": "PRR_kwDOABII586Vv29J",
      "url": null,
      "actor": null,
      "commit_id": "7517126d9fd2c3e50dc95ce831bac6895b950e24",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK 7517126d9fd2c3e50dc95ce831bac6895b950e24. Just added two new commits since last review simplifying coinsdb cache calculation and switching to size_t to avoid casts. Thanks for the updates!",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#pullrequestreview-2512351049",
      "submitted_at": "2024-12-18T17:09:18Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1881990823",
      "pull_request_review_id": 2499365306,
      "id": 1881990823,
      "node_id": "PRRC_kwDOABII585wLOan",
      "diff_hunk": "@@ -0,0 +1,38 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_KERNEL_CACHES_H\n+#define BITCOIN_KERNEL_CACHES_H\n+\n+#include <algorithm>\n+#include <cstdint>\n+\n+//! min. -dbcache (MiB)\n+static constexpr int64_t MIN_DB_CACHE{4};\n+//! -dbcache default (MiB)\n+static constexpr int64_t DEFAULT_DB_CACHE{450};\n+//! Max memory allocated to block tree DB specific cache",
      "path": "src/kernel/caches.h",
      "position": null,
      "original_position": 15,
      "commit_id": "7517126d9fd2c3e50dc95ce831bac6895b950e24",
      "original_commit_id": "62da6a0b1ef99fc00357e967fe868ca3235cc4fb",
      "in_reply_to_id": null,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Missing the `(MiB)` comment.",
      "created_at": "2024-12-12T12:40:39Z",
      "updated_at": "2024-12-12T12:40:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#discussion_r1881990823",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1881990823"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 15,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1882016734",
      "pull_request_review_id": 2499436523,
      "id": 1882016734,
      "node_id": "PRRC_kwDOABII585wLUve",
      "diff_hunk": "@@ -0,0 +1,38 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_KERNEL_CACHES_H\n+#define BITCOIN_KERNEL_CACHES_H\n+\n+#include <algorithm>\n+#include <cstdint>\n+\n+//! min. -dbcache (MiB)\n+static constexpr int64_t MIN_DB_CACHE{4};\n+//! -dbcache default (MiB)\n+static constexpr int64_t DEFAULT_DB_CACHE{450};\n+//! Max memory allocated to block tree DB specific cache",
      "path": "src/kernel/caches.h",
      "position": null,
      "original_position": 15,
      "commit_id": "7517126d9fd2c3e50dc95ce831bac6895b950e24",
      "original_commit_id": "62da6a0b1ef99fc00357e967fe868ca3235cc4fb",
      "in_reply_to_id": 1881990823,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks, fixed.",
      "created_at": "2024-12-12T12:58:37Z",
      "updated_at": "2024-12-12T12:58:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#discussion_r1882016734",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1882016734"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 15,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1883535731",
      "pull_request_review_id": 2501686219,
      "id": 1883535731,
      "node_id": "PRRC_kwDOABII585wRHlz",
      "diff_hunk": "@@ -5,20 +5,20 @@\n #ifndef BITCOIN_NODE_CACHES_H\n #define BITCOIN_NODE_CACHES_H\n \n+#include <kernel/caches.h>\n+\n #include <cstddef>\n #include <cstdint>\n+#include <tuple>\n \n class ArgsManager;\n \n namespace node {\n-struct CacheSizes {\n-    int64_t block_tree_db;\n-    int64_t coins_db;\n-    int64_t coins;\n+struct IndexCacheSizes {",
      "path": "src/node/caches.h",
      "position": 24,
      "original_position": 17,
      "commit_id": "7517126d9fd2c3e50dc95ce831bac6895b950e24",
      "original_commit_id": "173477b5efad4723863b38fe51cd1156620d01df",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit: will we have separate structs for different node cache sizes? I think just keeping it `CacheSizes` and adding the `node::` namespace in ambiguous places makes more sense for now?\r\n\r\n<details>\r\n<summary>git diff on 2e6c43f9c3</summary>\r\n\r\n```diff\r\ndiff --git a/src/node/caches.cpp b/src/node/caches.cpp\r\nindex 50e41b8d1e..41bd8c95d0 100644\r\n--- a/src/node/caches.cpp\r\n+++ b/src/node/caches.cpp\r\n@@ -13,11 +13,11 @@\r\n #include <string>\r\n \r\n namespace node {\r\n-std::tuple<IndexCacheSizes, kernel::CacheSizes> CalculateCacheSizes(const ArgsManager& args, size_t n_indexes)\r\n+std::tuple<node::CacheSizes, kernel::CacheSizes> CalculateCacheSizes(const ArgsManager& args, size_t n_indexes)\r\n {\r\n     int64_t nTotalCache = (args.GetIntArg(\"-dbcache\", nDefaultDbCache) << 20);\r\n     nTotalCache = std::max(nTotalCache, nMinDbCache << 20); // total cache cannot be less than nMinDbCache\r\n-    IndexCacheSizes sizes;\r\n+    CacheSizes sizes;\r\n     sizes.tx_index = std::min(nTotalCache / 8, args.GetBoolArg(\"-txindex\", DEFAULT_TXINDEX) ? nMaxTxIndexCache << 20 : 0);\r\n     nTotalCache -= sizes.tx_index;\r\n     sizes.filter_index = 0;\r\ndiff --git a/src/node/caches.h b/src/node/caches.h\r\nindex f4cc14bb23..c47134539b 100644\r\n--- a/src/node/caches.h\r\n+++ b/src/node/caches.h\r\n@@ -14,11 +14,11 @@\r\n class ArgsManager;\r\n \r\n namespace node {\r\n-struct IndexCacheSizes {\r\n+struct CacheSizes {\r\n     int64_t tx_index;\r\n     int64_t filter_index;\r\n };\r\n-std::tuple<IndexCacheSizes, kernel::CacheSizes> CalculateCacheSizes(const ArgsManager& args, size_t n_indexes = 0);\r\n+std::tuple<node::CacheSizes, kernel::CacheSizes> CalculateCacheSizes(const ArgsManager& args, size_t n_indexes = 0);\r\n } // namespace node\r\n \r\n #endif // BITCOIN_NODE_CACHES_H\r\ndiff --git a/src/test/util/setup_common.h b/src/test/util/setup_common.h\r\nindex 46035772f5..fbea90a20b 100644\r\n--- a/src/test/util/setup_common.h\r\n+++ b/src/test/util/setup_common.h\r\n@@ -104,7 +104,7 @@ struct BasicTestingSetup {\r\n  * initialization behaviour.\r\n  */\r\n struct ChainTestingSetup : public BasicTestingSetup {\r\n-    node::IndexCacheSizes m_index_cache_sizes{std::get<0>(node::CalculateCacheSizes(m_args))};\r\n+    node::CacheSizes m_index_cache_sizes{std::get<0>(node::CalculateCacheSizes(m_args))};\r\n     kernel::CacheSizes m_kernel_cache_sizes{std::get<1>(node::CalculateCacheSizes(m_args))};\r\n     bool m_coins_db_in_memory{true};\r\n     bool m_block_tree_db_in_memory{true};\r\n\r\n```\r\n</details>\r\n",
      "created_at": "2024-12-13T08:18:57Z",
      "updated_at": "2024-12-13T15:12:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#discussion_r1883535731",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1883535731"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 22,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1883674740",
      "pull_request_review_id": 2501686219,
      "id": 1883674740,
      "node_id": "PRRC_kwDOABII585wRph0",
      "diff_hunk": "@@ -119,9 +120,10 @@ using common::AmountErrMsg;\n using common::InvalidPortErrMsg;\n using common::ResolveErrMsg;\n \n+using kernel::CacheSizes;",
      "path": "src/init.cpp",
      "position": 12,
      "original_position": 12,
      "commit_id": "7517126d9fd2c3e50dc95ce831bac6895b950e24",
      "original_commit_id": "173477b5efad4723863b38fe51cd1156620d01df",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit: since it doesn't meaningfully change the diff, I would much prefer not to use `using` here to immediately disambiguate with `node::CacheSizes` (+ in `chainstate.cpp`)\r\n\r\n<details>\r\n<summary>git diff on 2e6c43f9c3</summary>\r\n\r\n```diff\r\ndiff --git a/src/init.cpp b/src/init.cpp\r\nindex dd273cfe61..f52933b658 100644\r\n--- a/src/init.cpp\r\n+++ b/src/init.cpp\r\n@@ -120,8 +120,6 @@ using common::AmountErrMsg;\r\n using common::InvalidPortErrMsg;\r\n using common::ResolveErrMsg;\r\n \r\n-using kernel::CacheSizes;\r\n-\r\n using node::ApplyArgsManOptions;\r\n using node::BlockManager;\r\n using node::CalculateCacheSizes;\r\n@@ -1179,7 +1177,7 @@ static ChainstateLoadResult InitAndLoadChainstate(\r\n     NodeContext& node,\r\n     bool do_reindex,\r\n     const bool do_reindex_chainstate,\r\n-    CacheSizes& cache_sizes,\r\n+    kernel::CacheSizes& cache_sizes,\r\n     const ArgsManager& args)\r\n {\r\n     const CChainParams& chainparams = Params();\r\ndiff --git a/src/node/chainstate.cpp b/src/node/chainstate.cpp\r\nindex 660d2c3289..d4d8828f73 100644\r\n--- a/src/node/chainstate.cpp\r\n+++ b/src/node/chainstate.cpp\r\n@@ -29,14 +29,12 @@\r\n #include <memory>\r\n #include <vector>\r\n \r\n-using kernel::CacheSizes;\r\n-\r\n namespace node {\r\n // Complete initialization of chainstates after the initial call has been made\r\n // to ChainstateManager::InitializeChainstate().\r\n static ChainstateLoadResult CompleteChainstateInitialization(\r\n     ChainstateManager& chainman,\r\n-    const CacheSizes& cache_sizes,\r\n+    const kernel::CacheSizes& cache_sizes,\r\n     const ChainstateLoadOptions& options) EXCLUSIVE_LOCKS_REQUIRED(::cs_main)\r\n {\r\n     auto& pblocktree{chainman.m_blockman.m_block_tree_db};\r\n@@ -172,7 +170,7 @@ static ChainstateLoadResult CompleteChainstateInitialization(\r\n     return {ChainstateLoadStatus::SUCCESS, {}};\r\n }\r\n \r\n-ChainstateLoadResult LoadChainstate(ChainstateManager& chainman, const CacheSizes& cache_sizes,\r\n+ChainstateLoadResult LoadChainstate(ChainstateManager& chainman, const kernel::CacheSizes& cache_sizes,\r\n                                     const ChainstateLoadOptions& options)\r\n {\r\n     if (!chainman.AssumedValidBlock().IsNull()) {\r\n\r\n```\r\n</details>\r\n\r\nedit: oh, that's less true for the current `node::IndexCacheSizes` name of course. I personally still prefer keeping the namespace for clarity, but it also fits within the `init.cpp` coding style.\r\n",
      "created_at": "2024-12-13T10:01:59Z",
      "updated_at": "2024-12-13T15:12:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#discussion_r1883674740",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1883674740"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 123,
      "original_line": 123,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1883694847",
      "pull_request_review_id": 2501686219,
      "id": 1883694847,
      "node_id": "PRRC_kwDOABII585wRub_",
      "diff_hunk": "@@ -12,6 +12,7 @@\n \n #include <common/args.h>\n #include <interfaces/node.h>\n+#include <kernel/caches.h>",
      "path": "src/qt/optionsmodel.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "7517126d9fd2c3e50dc95ce831bac6895b950e24",
      "original_commit_id": "2e6c43f9c3aed577678a537b5456adaa31a2cb04",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit: this is in the wrong commit (2e6c43f9c3aed577678a537b5456adaa31a2cb04)",
      "created_at": "2024-12-13T10:14:51Z",
      "updated_at": "2024-12-13T15:12:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#discussion_r1883694847",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1883694847"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 15,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1884061716",
      "pull_request_review_id": 2501686219,
      "id": 1884061716,
      "node_id": "PRRC_kwDOABII585wTIAU",
      "diff_hunk": "@@ -0,0 +1,38 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_KERNEL_CACHES_H\n+#define BITCOIN_KERNEL_CACHES_H\n+\n+#include <algorithm>\n+#include <cstdint>\n+\n+//! min. -dbcache (MiB)\n+static constexpr int64_t MIN_DB_CACHE{4};\n+//! -dbcache default (MiB)\n+static constexpr int64_t DEFAULT_DB_CACHE{450};",
      "path": "src/kernel/caches.h",
      "position": null,
      "original_position": 14,
      "commit_id": "7517126d9fd2c3e50dc95ce831bac6895b950e24",
      "original_commit_id": "173477b5efad4723863b38fe51cd1156620d01df",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I'm not sure what the best solution is, but aren't `MIN_DB_CACHE` and `DEFAULT_DB_CACHE` `node` attributes, instead of `kernel`? Then again, we do need a default total cache size in kernel, so maybe the best approach is to just rename to e.g. `MIN_KERNEL_CACHE` and `DEFAULT_KERNEL_CACHE` - or redefine `DEFAULT_DB_CACHE{DEFAULT_KERNEL_CACHE};`?",
      "created_at": "2024-12-13T14:57:45Z",
      "updated_at": "2024-12-13T15:12:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#discussion_r1884061716",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1884061716"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
        }
      },
      "start_line": null,
      "original_start_line": 12,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 14,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1884078251",
      "pull_request_review_id": 2501686219,
      "id": 1884078251,
      "node_id": "PRRC_kwDOABII585wTMCr",
      "diff_hunk": "@@ -103,7 +104,8 @@ struct BasicTestingSetup {\n  * initialization behaviour.\n  */\n struct ChainTestingSetup : public BasicTestingSetup {\n-    node::CacheSizes m_cache_sizes{};\n+    node::IndexCacheSizes m_index_cache_sizes{std::get<0>(node::CalculateCacheSizes(m_args))};",
      "path": "src/test/util/setup_common.h",
      "position": null,
      "original_position": 13,
      "commit_id": "7517126d9fd2c3e50dc95ce831bac6895b950e24",
      "original_commit_id": "173477b5efad4723863b38fe51cd1156620d01df",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This member is not used, best to remove until it is?",
      "created_at": "2024-12-13T15:09:51Z",
      "updated_at": "2024-12-13T15:12:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#discussion_r1884078251",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1884078251"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 107,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1884999663",
      "pull_request_review_id": 2503766075,
      "id": 1884999663,
      "node_id": "PRRC_kwDOABII585wWs_v",
      "diff_hunk": "@@ -0,0 +1,38 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_KERNEL_CACHES_H\n+#define BITCOIN_KERNEL_CACHES_H\n+\n+#include <algorithm>\n+#include <cstdint>\n+\n+//! min. -dbcache (MiB)\n+static constexpr int64_t MIN_DB_CACHE{4};\n+//! -dbcache default (MiB)\n+static constexpr int64_t DEFAULT_DB_CACHE{450};",
      "path": "src/kernel/caches.h",
      "position": null,
      "original_position": 14,
      "commit_id": "7517126d9fd2c3e50dc95ce831bac6895b950e24",
      "original_commit_id": "173477b5efad4723863b38fe51cd1156620d01df",
      "in_reply_to_id": 1884061716,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Mmh, is there a scenario where `DEFAULT_DB_CACHE` and `DEFAULT_KERNEL_CACHE` would ever diverge? The current naming does not seem too confusing to me.",
      "created_at": "2024-12-14T09:43:43Z",
      "updated_at": "2024-12-14T10:10:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#discussion_r1884999663",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1884999663"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
        }
      },
      "start_line": null,
      "original_start_line": 12,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 14,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1885000798",
      "pull_request_review_id": 2503766075,
      "id": 1885000798,
      "node_id": "PRRC_kwDOABII585wWtRe",
      "diff_hunk": "@@ -5,20 +5,20 @@\n #ifndef BITCOIN_NODE_CACHES_H\n #define BITCOIN_NODE_CACHES_H\n \n+#include <kernel/caches.h>\n+\n #include <cstddef>\n #include <cstdint>\n+#include <tuple>\n \n class ArgsManager;\n \n namespace node {\n-struct CacheSizes {\n-    int64_t block_tree_db;\n-    int64_t coins_db;\n-    int64_t coins;\n+struct IndexCacheSizes {",
      "path": "src/node/caches.h",
      "position": 24,
      "original_position": 17,
      "commit_id": "7517126d9fd2c3e50dc95ce831bac6895b950e24",
      "original_commit_id": "173477b5efad4723863b38fe51cd1156620d01df",
      "in_reply_to_id": 1883535731,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "My expectation would be that if other non-index caches are added later, they would get their own struct too. This also might make it a bit easier in case the indexes ever get their own process?",
      "created_at": "2024-12-14T09:45:26Z",
      "updated_at": "2024-12-14T10:10:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#discussion_r1885000798",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1885000798"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 22,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1887412097",
      "pull_request_review_id": 2507107693,
      "id": 1887412097,
      "node_id": "PRRC_kwDOABII585wf5-B",
      "diff_hunk": "@@ -0,0 +1,38 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_KERNEL_CACHES_H\n+#define BITCOIN_KERNEL_CACHES_H\n+\n+#include <algorithm>\n+#include <cstdint>\n+\n+//! min. -dbcache (MiB)\n+static constexpr int64_t MIN_DB_CACHE{4};\n+//! -dbcache default (MiB)\n+static constexpr int64_t DEFAULT_DB_CACHE{450};",
      "path": "src/kernel/caches.h",
      "position": null,
      "original_position": 14,
      "commit_id": "7517126d9fd2c3e50dc95ce831bac6895b950e24",
      "original_commit_id": "173477b5efad4723863b38fe51cd1156620d01df",
      "in_reply_to_id": 1884061716,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> Mmh, is there a scenario where `DEFAULT_DB_CACHE` and `DEFAULT_KERNEL_CACHE` would ever diverge?\r\n\r\n`node` could decide to increase the default total cache size (e.g. because it enables certain indexes by default), and that shouldn't affect the `kernel` default cache size.\r\n\r\n> The current naming does not seem too confusing to me.\r\n\r\nIt's not necessarily confusing, but `-dbcache` is a node setting, not a kernel setting. So I think `DEFAULT_KERNEL_CACHE` is both more accurate (in `kernel/caches.h`) and - as per the previous paragraph - more futureproof.\r\n\r\nEither way, it's easy to fix in the future. My suggestion feels more logical to me but either is fine, so can be resolved if you disagree.",
      "created_at": "2024-12-16T19:31:42Z",
      "updated_at": "2024-12-16T19:31:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#discussion_r1887412097",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1887412097"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
        }
      },
      "start_line": null,
      "original_start_line": 12,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 14,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1887420476",
      "pull_request_review_id": 2507116596,
      "id": 1887420476,
      "node_id": "PRRC_kwDOABII585wf8A8",
      "diff_hunk": "@@ -5,20 +5,20 @@\n #ifndef BITCOIN_NODE_CACHES_H\n #define BITCOIN_NODE_CACHES_H\n \n+#include <kernel/caches.h>\n+\n #include <cstddef>\n #include <cstdint>\n+#include <tuple>\n \n class ArgsManager;\n \n namespace node {\n-struct CacheSizes {\n-    int64_t block_tree_db;\n-    int64_t coins_db;\n-    int64_t coins;\n+struct IndexCacheSizes {",
      "path": "src/node/caches.h",
      "position": 24,
      "original_position": 17,
      "commit_id": "7517126d9fd2c3e50dc95ce831bac6895b950e24",
      "original_commit_id": "173477b5efad4723863b38fe51cd1156620d01df",
      "in_reply_to_id": 1883535731,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Works for me, thanks!",
      "created_at": "2024-12-16T19:33:39Z",
      "updated_at": "2024-12-16T19:33:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#discussion_r1887420476",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1887420476"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 22,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1888558172",
      "pull_request_review_id": 2508948359,
      "id": 1888558172,
      "node_id": "PRRC_kwDOABII585wkRxc",
      "diff_hunk": "@@ -6,28 +6,31 @@\n \n #include <common/args.h>\n #include <index/txindex.h>\n-#include <txdb.h>\n+#include <kernel/caches.h>\n+\n+#include <algorithm>\n+#include <string>\n+\n+// Unlike for the UTXO database, for the txindex scenario the leveldb cache make\n+// a meaningful difference: https://github.com/bitcoin/bitcoin/pull/8273#issuecomment-229601991\n+static constexpr int64_t MAX_TX_INDEX_CACHE{1024};\n+//! Max memory allocated to all block filter index caches combined in MiB.\n+static constexpr int64_t MAX_FILTER_INDEX_CACHE{1024};\n \n namespace node {\n-CacheSizes CalculateCacheSizes(const ArgsManager& args, size_t n_indexes)\n+std::tuple<IndexCacheSizes, kernel::CacheSizes> CalculateCacheSizes(const ArgsManager& args, size_t n_indexes)\n {\n-    int64_t nTotalCache = (args.GetIntArg(\"-dbcache\", nDefaultDbCache) << 20);\n-    nTotalCache = std::max(nTotalCache, nMinDbCache << 20); // total cache cannot be less than nMinDbCache\n-    CacheSizes sizes;\n-    sizes.block_tree_db = std::min(nTotalCache / 8, nMaxBlockDBCache << 20);\n-    nTotalCache -= sizes.block_tree_db;\n-    sizes.tx_index = std::min(nTotalCache / 8, args.GetBoolArg(\"-txindex\", DEFAULT_TXINDEX) ? nMaxTxIndexCache << 20 : 0);\n+    int64_t nTotalCache = (args.GetIntArg(\"-dbcache\", DEFAULT_DB_CACHE) << 20);\n+    nTotalCache = std::max(nTotalCache, MIN_DB_CACHE << 20); // total cache cannot be less than nMinDbCache",
      "path": "src/node/caches.cpp",
      "position": null,
      "original_position": 27,
      "commit_id": "7517126d9fd2c3e50dc95ce831bac6895b950e24",
      "original_commit_id": "2c49e0bfd295dc0326d02cd0a80853d7dee885ac",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "```suggestion\r\n    nTotalCache = std::max(nTotalCache, MIN_DB_CACHE << 20); // total cache cannot be less than MIN_DB_CACHE\r\n```\r\nedit: actually, the comment is pretty redundant, might as well just remove it too.",
      "created_at": "2024-12-17T13:53:00Z",
      "updated_at": "2024-12-17T14:51:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#discussion_r1888558172",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1888558172"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 24,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1888724781",
      "pull_request_review_id": 2509230463,
      "id": 1888724781,
      "node_id": "PRRC_kwDOABII585wk6ct",
      "diff_hunk": "@@ -6,28 +6,31 @@\n \n #include <common/args.h>\n #include <index/txindex.h>\n-#include <txdb.h>\n+#include <kernel/caches.h>\n+\n+#include <algorithm>\n+#include <string>\n+\n+// Unlike for the UTXO database, for the txindex scenario the leveldb cache make\n+// a meaningful difference: https://github.com/bitcoin/bitcoin/pull/8273#issuecomment-229601991\n+static constexpr int64_t MAX_TX_INDEX_CACHE{1024};\n+//! Max memory allocated to all block filter index caches combined in MiB.\n+static constexpr int64_t MAX_FILTER_INDEX_CACHE{1024};\n \n namespace node {\n-CacheSizes CalculateCacheSizes(const ArgsManager& args, size_t n_indexes)\n+std::tuple<IndexCacheSizes, kernel::CacheSizes> CalculateCacheSizes(const ArgsManager& args, size_t n_indexes)\n {\n-    int64_t nTotalCache = (args.GetIntArg(\"-dbcache\", nDefaultDbCache) << 20);\n-    nTotalCache = std::max(nTotalCache, nMinDbCache << 20); // total cache cannot be less than nMinDbCache\n-    CacheSizes sizes;\n-    sizes.block_tree_db = std::min(nTotalCache / 8, nMaxBlockDBCache << 20);\n-    nTotalCache -= sizes.block_tree_db;\n-    sizes.tx_index = std::min(nTotalCache / 8, args.GetBoolArg(\"-txindex\", DEFAULT_TXINDEX) ? nMaxTxIndexCache << 20 : 0);\n+    int64_t nTotalCache = (args.GetIntArg(\"-dbcache\", DEFAULT_DB_CACHE) << 20);\n+    nTotalCache = std::max(nTotalCache, MIN_DB_CACHE << 20); // total cache cannot be less than nMinDbCache",
      "path": "src/node/caches.cpp",
      "position": null,
      "original_position": 27,
      "commit_id": "7517126d9fd2c3e50dc95ce831bac6895b950e24",
      "original_commit_id": "2c49e0bfd295dc0326d02cd0a80853d7dee885ac",
      "in_reply_to_id": 1888558172,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "thanks for the suggestion, I removed it.",
      "created_at": "2024-12-17T15:37:32Z",
      "updated_at": "2024-12-17T15:37:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#discussion_r1888724781",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1888724781"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 24,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1888992732",
      "pull_request_review_id": 2509692136,
      "id": 1888992732,
      "node_id": "PRRC_kwDOABII585wl73c",
      "diff_hunk": "@@ -18,10 +23,10 @@ struct CacheSizes {\n \n     CacheSizes(int64_t total_cache)\n     {\n-        block_tree_db = std::min(total_cache / 8, nMaxBlockDBCache << 20);\n+        block_tree_db = std::min(total_cache / 8, MAX_BLOCK_DB_CACHE << 20);\n         total_cache -= block_tree_db;\n         // use 25%-50% of the remainder for disk cache, capped by the maximum.\n-        coins_db = std::min({total_cache / 2, (total_cache / 4) + (1 << 23), nMaxCoinsDBCache << 20});\n+        coins_db = std::min({total_cache / 2, (total_cache / 4) + (1 << 23), MAX_COINS_DB_CACHE << 20});",
      "path": "src/kernel/caches.h",
      "position": null,
      "original_position": 28,
      "commit_id": "7517126d9fd2c3e50dc95ce831bac6895b950e24",
      "original_commit_id": "8e929e343e14b0228f6f4841ecf2d85a73afda3b",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "re: In commit \"kernel: Move kernel-related cache constants to kernel cache\" (8e929e343e14b0228f6f4841ecf2d85a73afda3b)\r\n\r\nPrecedes this PR, but this code does not seem to make any sense. (1 << 23) is 8MiB which is the same as MAX_COINS_DB_CACHE. So this is effectively min(total / 2, total / 4 + 8MiB, 8Mib) with the middle argument not doing anything. Could be simplified to `std::min(total_cache / 2, MAX_COINS_DB_CACHE << 20)` with no change in behavior AFAICT.",
      "created_at": "2024-12-17T18:09:17Z",
      "updated_at": "2024-12-17T18:24:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#discussion_r1888992732",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1888992732"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 29,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1889179809",
      "pull_request_review_id": 2510045835,
      "id": 1889179809,
      "node_id": "PRRC_kwDOABII585wmpih",
      "diff_hunk": "@@ -18,10 +23,10 @@ struct CacheSizes {\n \n     CacheSizes(int64_t total_cache)\n     {\n-        block_tree_db = std::min(total_cache / 8, nMaxBlockDBCache << 20);\n+        block_tree_db = std::min(total_cache / 8, MAX_BLOCK_DB_CACHE << 20);\n         total_cache -= block_tree_db;\n         // use 25%-50% of the remainder for disk cache, capped by the maximum.\n-        coins_db = std::min({total_cache / 2, (total_cache / 4) + (1 << 23), nMaxCoinsDBCache << 20});\n+        coins_db = std::min({total_cache / 2, (total_cache / 4) + (1 << 23), MAX_COINS_DB_CACHE << 20});",
      "path": "src/kernel/caches.h",
      "position": null,
      "original_position": 28,
      "commit_id": "7517126d9fd2c3e50dc95ce831bac6895b950e24",
      "original_commit_id": "8e929e343e14b0228f6f4841ecf2d85a73afda3b",
      "in_reply_to_id": 1888992732,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Heh, I guess I should have actually done the math here. Will remove.",
      "created_at": "2024-12-17T20:31:57Z",
      "updated_at": "2024-12-17T20:31:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#discussion_r1889179809",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1889179809"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 29,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1890138649",
      "pull_request_review_id": 2511656329,
      "id": 1890138649,
      "node_id": "PRRC_kwDOABII585wqToZ",
      "diff_hunk": "@@ -0,0 +1,35 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_KERNEL_CACHES_H\n+#define BITCOIN_KERNEL_CACHES_H\n+\n+#include <algorithm>\n+#include <cstdint>\n+\n+//! Suggested default amount of cache reserved for the kernel (MiB)\n+static constexpr int64_t DEFAULT_KERNEL_CACHE{450};\n+//! Max memory allocated to block tree DB specific cache (MiB)\n+static constexpr int64_t MAX_BLOCK_DB_CACHE{2};\n+//! Max memory allocated to coin DB specific cache (MiB)\n+static constexpr int64_t MAX_COINS_DB_CACHE{8};\n+\n+namespace kernel {\n+struct CacheSizes {\n+    size_t block_tree_db;\n+    size_t coins_db;\n+    size_t coins;\n+\n+    CacheSizes(int64_t total_cache)\n+    {\n+        block_tree_db = std::min(total_cache / 8, MAX_BLOCK_DB_CACHE << 20);",
      "path": "src/kernel/caches.h",
      "position": 26,
      "original_position": 26,
      "commit_id": "7517126d9fd2c3e50dc95ce831bac6895b950e24",
      "original_commit_id": "7517126d9fd2c3e50dc95ce831bac6895b950e24",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Would be prudent to ensure no negative values here\r\n```suggestion\r\n        assert(total_cache >= 0);\r\n        block_tree_db = std::min(total_cache / 8, MAX_BLOCK_DB_CACHE << 20);\r\n```",
      "created_at": "2024-12-18T12:12:45Z",
      "updated_at": "2024-12-18T12:24:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#discussion_r1890138649",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1890138649"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 26,
      "original_line": 26,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1890151750",
      "pull_request_review_id": 2511656329,
      "id": 1890151750,
      "node_id": "PRRC_kwDOABII585wqW1G",
      "diff_hunk": "@@ -0,0 +1,35 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_KERNEL_CACHES_H\n+#define BITCOIN_KERNEL_CACHES_H\n+\n+#include <algorithm>\n+#include <cstdint>\n+\n+//! Suggested default amount of cache reserved for the kernel (MiB)\n+static constexpr int64_t DEFAULT_KERNEL_CACHE{450};\n+//! Max memory allocated to block tree DB specific cache (MiB)\n+static constexpr int64_t MAX_BLOCK_DB_CACHE{2};\n+//! Max memory allocated to coin DB specific cache (MiB)\n+static constexpr int64_t MAX_COINS_DB_CACHE{8};\n+\n+namespace kernel {\n+struct CacheSizes {\n+    size_t block_tree_db;\n+    size_t coins_db;\n+    size_t coins;",
      "path": "src/kernel/caches.h",
      "position": 22,
      "original_position": 22,
      "commit_id": "7517126d9fd2c3e50dc95ce831bac6895b950e24",
      "original_commit_id": "7517126d9fd2c3e50dc95ce831bac6895b950e24",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I think I'm ~0 on this change. I follow @ryanofsky's [reasoning](https://github.com/bitcoin/bitcoin/pull/31483#pullrequestreview-2509692136), but it also goes against the work done e.g. in https://github.com/bitcoin/bitcoin/pull/23962. If `kernel::CacheSizes` becomes part of the public kernel interface, then keeping these members an `int64_t` might be more prudent, as per e.g. the link in [this comment](https://github.com/bitcoin/bitcoin/pull/23962#issuecomment-1005494716)? But of course, `size_t` is a pretty natural fit for a size type.",
      "created_at": "2024-12-18T12:23:39Z",
      "updated_at": "2024-12-18T12:24:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#discussion_r1890151750",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1890151750"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
        }
      },
      "start_line": 20,
      "original_start_line": 20,
      "start_side": "RIGHT",
      "line": 22,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1890537379",
      "pull_request_review_id": 2512351049,
      "id": 1890537379,
      "node_id": "PRRC_kwDOABII585wr0-j",
      "diff_hunk": "@@ -24,8 +24,7 @@ CacheSizes CalculateCacheSizes(const ArgsManager& args, size_t n_indexes)\n         sizes.filter_index = max_cache / n_indexes;\n         nTotalCache -= sizes.filter_index * n_indexes;\n     }\n-    sizes.coins_db = std::min(nTotalCache / 2, (nTotalCache / 4) + (1 << 23)); // use 25%-50% of the remainder for disk cache\n-    sizes.coins_db = std::min(sizes.coins_db, nMaxCoinsDBCache << 20); // cap total coins db cache",
      "path": "src/node/caches.cpp",
      "position": 39,
      "original_position": 5,
      "commit_id": "7517126d9fd2c3e50dc95ce831bac6895b950e24",
      "original_commit_id": "c71fc6ac6e62e5eea96e8aa4e0f43260afc81723",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In commit \"init: Simplify coinsdb cache calculation\" (c71fc6ac6e62e5eea96e8aa4e0f43260afc81723)\r\n\r\nFor background on why previous code was written this way, apparently the first line `coins_db = min(total / 2, total / 4 + 8MiB)` made sense when it was added in b3ed4236beb7f68e1720ceb3da15e0c3682ef629 from #6102. But when the second line `coins_db = min(coins_db, 8MiB)` was added later in 32cab91278651d07a11132b7636dc3d21144e616 from [#8273](https://github.com/bitcoin/bitcoin/pull/8273), the `total / 4` term in the first line became redundant.\r\n\r\nIt seems like the second change was probably intentional (even though the implementation is confusing) because the commit message says \"This avoids that the extra cache memory goes to the much less effective\r\nleveldb cache instead of our application-level cache.\"",
      "created_at": "2024-12-18T16:40:00Z",
      "updated_at": "2024-12-18T17:09:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#discussion_r1890537379",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1890537379"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
        }
      },
      "start_line": 27,
      "original_start_line": 27,
      "start_side": "LEFT",
      "line": 28,
      "original_line": 28,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1890571436",
      "pull_request_review_id": 2512351049,
      "id": 1890571436,
      "node_id": "PRRC_kwDOABII585wr9Ss",
      "diff_hunk": "@@ -0,0 +1,35 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_KERNEL_CACHES_H\n+#define BITCOIN_KERNEL_CACHES_H\n+\n+#include <algorithm>\n+#include <cstdint>\n+\n+//! Suggested default amount of cache reserved for the kernel (MiB)\n+static constexpr int64_t DEFAULT_KERNEL_CACHE{450};\n+//! Max memory allocated to block tree DB specific cache (MiB)\n+static constexpr int64_t MAX_BLOCK_DB_CACHE{2};\n+//! Max memory allocated to coin DB specific cache (MiB)\n+static constexpr int64_t MAX_COINS_DB_CACHE{8};\n+\n+namespace kernel {\n+struct CacheSizes {\n+    size_t block_tree_db;\n+    size_t coins_db;\n+    size_t coins;",
      "path": "src/kernel/caches.h",
      "position": 22,
      "original_position": 22,
      "commit_id": "7517126d9fd2c3e50dc95ce831bac6895b950e24",
      "original_commit_id": "7517126d9fd2c3e50dc95ce831bac6895b950e24",
      "in_reply_to_id": 1890151750,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "re: https://github.com/bitcoin/bitcoin/pull/31483#discussion_r1890151750\r\n\r\nI agree with changes in the issues you linked to, but I don't think the reasoning in those cases carries over to this one. int32_t is a good choice for transaction sizes and weights, because we know the sizes of transactions are bounded and can't get very big, so it makes sense to use a small type, and we want the bounds to be platform independent so it makes to use fixed width types, and because they are numbers we do arithmetic with, and signed types tend to be safer than unsigned types for arithmetic.\r\n\r\nI think size_t is a better choice for the cache size variables in this PR, because these values are eventually used to allocate memory so making them size_t from the beginning is clearer and avoids the need for casts and conversions later on. Also size_t is the standard type to use for this purpose so it's more idiomatic c++. Also maximum cache sizes do depend on the platform, so size_t a safe choice because it is guaranteed to be able to represent the maximum size of any allocated object on a platform. I do think a downside of choosing size_t is that it is unsigned and unsigned types have less intuitive overflow behavior, but if the values are just going to get casted to size_t later anyway, potentially bad overflow behavior is there no matter what.",
      "created_at": "2024-12-18T17:03:58Z",
      "updated_at": "2024-12-18T17:10:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#discussion_r1890571436",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1890571436"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
        }
      },
      "start_line": 20,
      "original_start_line": 20,
      "start_side": "RIGHT",
      "line": 22,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1890652637",
      "pull_request_review_id": 2512542163,
      "id": 1890652637,
      "node_id": "PRRC_kwDOABII585wsRHd",
      "diff_hunk": "@@ -0,0 +1,35 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_KERNEL_CACHES_H\n+#define BITCOIN_KERNEL_CACHES_H\n+\n+#include <algorithm>\n+#include <cstdint>\n+\n+//! Suggested default amount of cache reserved for the kernel (MiB)\n+static constexpr int64_t DEFAULT_KERNEL_CACHE{450};\n+//! Max memory allocated to block tree DB specific cache (MiB)\n+static constexpr int64_t MAX_BLOCK_DB_CACHE{2};\n+//! Max memory allocated to coin DB specific cache (MiB)\n+static constexpr int64_t MAX_COINS_DB_CACHE{8};\n+\n+namespace kernel {\n+struct CacheSizes {\n+    size_t block_tree_db;\n+    size_t coins_db;\n+    size_t coins;",
      "path": "src/kernel/caches.h",
      "position": 22,
      "original_position": 22,
      "commit_id": "7517126d9fd2c3e50dc95ce831bac6895b950e24",
      "original_commit_id": "7517126d9fd2c3e50dc95ce831bac6895b950e24",
      "in_reply_to_id": 1890151750,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Yeah, thinking about it more I agree with all of your points. I was a bit alarmed by all the comparison operations we were doing with these (now) `size_t` types, but they almost all happen inside the constructor. Once the sizes are determined, they don't seem likely to be used for arithmetic operations or comparisons, just for allocating memory.\r\n\r\nI think the benefits you outline outweigh the potential downsides, so I'm happy with the new approach.",
      "created_at": "2024-12-18T18:14:16Z",
      "updated_at": "2024-12-18T18:14:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#discussion_r1890652637",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1890652637"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
        }
      },
      "start_line": 20,
      "original_start_line": 20,
      "start_side": "RIGHT",
      "line": 22,
      "original_line": 22,
      "side": "RIGHT"
    }
  ]
}