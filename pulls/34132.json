{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132",
    "id": 3120160595,
    "node_id": "PR_kwDOABII5865-d9T",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/34132",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/34132.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/34132.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34132",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34132/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/c232aeed613e555681fc3b24ea52a3dee67db9ee",
    "number": 34132,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "coins: drop error catcher, centralize fatal read handling",
    "user": {
      "login": "l0rinc",
      "id": 1841944,
      "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l0rinc",
      "html_url": "https://github.com/l0rinc",
      "followers_url": "https://api.github.com/users/l0rinc/followers",
      "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
      "organizations_url": "https://api.github.com/users/l0rinc/orgs",
      "repos_url": "https://api.github.com/users/l0rinc/repos",
      "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/l0rinc/received_events",
      "type": "User",
      "site_admin": false,
      "name": null,
      "patch_url": null
    },
    "body": "### Problem\r\nThe current coins database read-error handling adds unnecessary complexity to the critical path:\r\n* `CCoinsViewErrorCatcher` sits between the cache and database views, wrapping every read operation\r\n* `ExecuteBackedWrapper` adds another function call layer with lambda captures on each database read\r\n* Uses `std::vector<std::function<void()>>` for callbacks when there's only ever one callback registered\r\n* The error callback is set after database initialization rather than during construction (requiring a `cs_main` lock)\r\n\r\nThis adds unnecessary stack depth and bookkeeping overhead on every coins database read operation (`GetCoin`). Also note that `CCoinsViewDB::HaveCoin` isn't even on the hot path as far as I can tell.\r\n\r\n### Context\r\nThis is part of ongoing coins caching cleanup efforts, see https://github.com/bitcoin/bitcoin/issues/34280.\r\n\r\n### Fix\r\n**Behavior change:** Treat deserialization failures in `CDBWrapper::Read()` as fatal instead of catching and returning `false`. This makes corruption visible and avoids ambiguous missing-vs-unreadable handling at call sites: on decode failure, `CDBWrapper` logs the error, executes a provided callback, and then calls `std::abort()`.\r\n\r\nWith read-failure handling centralized in `CDBWrapper`, collapse the `CCoinsViewErrorCatcher` layer entirely by removing `ExecuteBackedWrapper` and `CCoinsViewErrorCatcher` which also enables making coins view lookups `noexcept`.\r\n\r\nA new test verifies the node aborts with a clear error message on a few database corruption paths.",
    "labels": [
      {
        "id": 135961,
        "node_id": "MDU6TGFiZWwxMzU5NjE=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
        "name": "Refactoring",
        "color": "E6F6D6",
        "default": false
      },
      {
        "id": 955867938,
        "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
        "name": "Needs rebase",
        "description": "",
        "color": "cccccc",
        "default": false
      }
    ],
    "created_at": "2025-12-20T22:56:45Z",
    "updated_at": "2026-02-20T04:05:25Z",
    "mergeable": false,
    "mergeable_state": "dirty",
    "merged": false,
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    ],
    "requested_teams": [],
    "rebaseable": false,
    "head": {
      "label": "l0rinc:l0rinc/move-errorcatcher",
      "ref": "l0rinc/move-errorcatcher",
      "sha": "c232aeed613e555681fc3b24ea52a3dee67db9ee",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 674169038,
        "node_id": "R_kgDOKC8Azg",
        "name": "bitcoin",
        "full_name": "l0rinc/bitcoin",
        "owner": {
          "login": "l0rinc",
          "id": 1841944,
          "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
          "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/l0rinc",
          "html_url": "https://github.com/l0rinc",
          "followers_url": "https://api.github.com/users/l0rinc/followers",
          "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
          "organizations_url": "https://api.github.com/users/l0rinc/orgs",
          "repos_url": "https://api.github.com/users/l0rinc/repos",
          "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/l0rinc/received_events",
          "type": "User",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/l0rinc/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/l0rinc/bitcoin",
        "archive_url": "https://api.github.com/repos/l0rinc/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/l0rinc/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/l0rinc/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/l0rinc/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/l0rinc/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/l0rinc/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/l0rinc/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/l0rinc/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/l0rinc/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/l0rinc/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/l0rinc/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/l0rinc/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/l0rinc/bitcoin/events",
        "forks_url": "https://api.github.com/repos/l0rinc/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/l0rinc/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/l0rinc/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/l0rinc/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/l0rinc/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/l0rinc/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/l0rinc/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/l0rinc/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/l0rinc/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/l0rinc/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/l0rinc/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/l0rinc/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/l0rinc/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/l0rinc/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/l0rinc/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/l0rinc/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:l0rinc/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/l0rinc/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/l0rinc/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/l0rinc/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/l0rinc/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/l0rinc/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/l0rinc/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/l0rinc/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/l0rinc/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/l0rinc/bitcoin/hooks",
        "svn_url": "https://github.com/l0rinc/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 4,
        "watchers_count": 4,
        "size": 292646,
        "default_branch": "master",
        "open_issues_count": 45,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2026-02-19T23:13:18Z",
        "created_at": "2023-08-03T09:49:12Z",
        "updated_at": "2026-02-19T18:23:08Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "337fef9f2f6847ac81e306e7054fbd64a4b4c72c",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 38919,
        "stargazers_count": 88191,
        "watchers_count": 88191,
        "size": 305361,
        "default_branch": "master",
        "open_issues_count": 720,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2026-02-20T03:10:51Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2026-02-20T04:13:25Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 304,
    "deletions": 177,
    "changed_files": 28,
    "commits": 10,
    "review_comments": 43,
    "comments": 11
  },
  "events": [
    {
      "event": "labeled",
      "id": 21687125522,
      "node_id": "LE_lADOABII587fjBumzwAAAAUMp0YS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21687125522",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-20T22:56:49Z",
      "label": {
        "name": "Refactoring",
        "color": "E6F6D6"
      }
    },
    {
      "event": "commented",
      "id": 3678186264,
      "node_id": "IC_kwDOABII587bPKsY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3678186264",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-20T22:56:54Z",
      "updated_at": "2026-02-12T19:56:22Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/34132.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [sedited](https://github.com/bitcoin/bitcoin/pull/34132#issuecomment-3709594872) |\n| Stale ACK | [andrewtoth](https://github.com/bitcoin/bitcoin/pull/34132#pullrequestreview-3648378551) |\n\nIf your review is incorrectly listed, please copy-paste <code>&lt;!--meta-tag:bot-skip--&gt;</code> into the comment that the bot should ignore.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#34435](https://github.com/bitcoin/bitcoin/pull/34435) (refactor: use `_MiB`/`_GiB` consistently for byte conversions by l0rinc)\n* [#34320](https://github.com/bitcoin/bitcoin/pull/34320) (coins: remove redundant and confusing `CCoinsViewDB::HaveCoin` by l0rinc)\n* [#34165](https://github.com/bitcoin/bitcoin/pull/34165) (coins: don't mutate main cache when connecting block by andrewtoth)\n* [#34124](https://github.com/bitcoin/bitcoin/pull/34124) (refactor: make `CCoinsView` a pure virtual interface by l0rinc)\n* [#33324](https://github.com/bitcoin/bitcoin/pull/33324) (blocks: add `-reobfuscate-blocks` argument to enable (de)obfuscating existing blocks by l0rinc)\n* [#32427](https://github.com/bitcoin/bitcoin/pull/32427) ((RFC) kernel: Replace leveldb-based BlockTreeDB with flat-file based store by sedited)\n* [#32317](https://github.com/bitcoin/bitcoin/pull/32317) (kernel: Separate UTXO set access from validation functions by sedited)\n* [#31644](https://github.com/bitcoin/bitcoin/pull/31644) (leveldb: show non-default options during init by l0rinc)\n* [#31382](https://github.com/bitcoin/bitcoin/pull/31382) (kernel: Flush in ChainstateManager destructor by sedited)\n* [#31132](https://github.com/bitcoin/bitcoin/pull/31132) (validation: fetch block inputs on parallel threads 3x faster IBD by andrewtoth)\n* [#30342](https://github.com/bitcoin/bitcoin/pull/30342) (kernel, logging: Pass Logger instances to kernel objects by ryanofsky)\n* [#29700](https://github.com/bitcoin/bitcoin/pull/29700) (kernel, refactor: return error status on all fatal errors by ryanofsky)\n* [#26022](https://github.com/bitcoin/bitcoin/pull/26022) (Add util::ResultPtr class by ryanofsky)\n* [#25665](https://github.com/bitcoin/bitcoin/pull/25665) (refactor: Add util::Result failure types and ability to merge result values by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->\n### LLM Linter (âœ¨ experimental)\n\n\n\nPossible places where named args for integral literals may be used (e.g. `func(x, /*named_arg=*/0)` in C++, and `func(x, named_arg=0)` in Python):\n\n- std::make_unique<TxIndex>(interfaces::MakeChain(node), index_cache_sizes.tx_index, false, do_reindex, read_error_cb) in src/init.cpp\n- InitBlockFilterIndex([&]{ return interfaces::MakeChain(node); }, filter_type, index_cache_sizes.filter_index, false, do_reindex, read_error_cb) in src/init.cpp\n- std::make_unique<CoinStatsIndex>(interfaces::MakeChain(node), /*cache_size=*/0, false, do_reindex, read_error_cb) in src/init.cpp\n\n\n\n\nPossible places where comparison-specific test macros should replace generic comparisons:\n\n- [src/test/dbwrapper_tests.cpp] BOOST_CHECK_THROW(dbw.Read(key, value), dbwrapper_error); -> Use BOOST_CHECK_EXCEPTION to check the exception type and message, e.g. BOOST_CHECK_EXCEPTION(dbw.Read(key, value), dbwrapper_error, HasReason(\"dbwrapper test read error\")).\n\nNo other comparison macro suggestions were found.\n\n\n\n<sup>2026-02-11 16:11:57</sup>\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#issuecomment-3678186264",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34132"
    },
    {
      "event": "labeled",
      "id": 21687355771,
      "node_id": "LE_lADOABII587fjBumzwAAAAUMqsl7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21687355771",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-21T00:14:49Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21689056531,
      "node_id": "HRFPE_lADOABII587fjBumzwAAAAUMxL0T",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21689056531",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "53de82d7429a174326fe24edf150584cf9aa1191",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/53de82d7429a174326fe24edf150584cf9aa1191",
      "created_at": "2025-12-21T07:55:52Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21713515609,
      "node_id": "HRFPE_lADOABII587fjBumzwAAAAUOOfRZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21713515609",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "0973a03b76566881c5f207e5b11837f0f7ef66dd",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/0973a03b76566881c5f207e5b11837f0f7ef66dd",
      "created_at": "2025-12-22T21:37:21Z"
    },
    {
      "event": "commented",
      "id": 3685636357,
      "node_id": "IC_kwDOABII587brlkF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3685636357",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-23T08:04:46Z",
      "updated_at": "2025-12-23T08:04:46Z",
      "author_association": "CONTRIBUTOR",
      "body": "close/open dance to retrigger CI - likely caused by [GitHub outage](https://www.githubstatus.com/history) ",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#issuecomment-3685636357",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34132"
    },
    {
      "event": "closed",
      "id": 21720402980,
      "node_id": "CE_lADOABII587fjBumzwAAAAUOowwk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21720402980",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-23T08:04:46Z"
    },
    {
      "event": "reopened",
      "id": 21720403561,
      "node_id": "REE_lADOABII587fjBumzwAAAAUOow5p",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21720403561",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-23T08:04:49Z"
    },
    {
      "event": "unlabeled",
      "id": 21721670046,
      "node_id": "UNLE_lADOABII587fjBumzwAAAAUOtmGe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21721670046",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-23T09:22:58Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "ready_for_review",
      "id": 21721757908,
      "node_id": "RFRE_lADOABII587fjBumzwAAAAUOt7jU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21721757908",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-23T09:27:05Z"
    },
    {
      "event": "reviewed",
      "id": 3625121433,
      "node_id": "PRR_kwDOABII587YEvaZ",
      "url": null,
      "actor": null,
      "commit_id": "0973a03b76566881c5f207e5b11837f0f7ef66dd",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-01-04T18:40:28Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK\r\n\r\nI think getting rid of this indirection is great. It reduces a lot of complexity when thinking about the stack of views.\r\n\r\nWhen reviewing, I think the last 3 commits should be combined into 1. There doesn't seem to be much value in creating and then removing functions in multiple commits.\r\n\r\nI would utACK but I wanted clarity on why we have to skip a test when no IPC.",
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#pullrequestreview-3625121433",
      "submitted_at": "2026-01-04T18:40:28Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
    },
    {
      "event": "commented",
      "id": 3709594872,
      "node_id": "IC_kwDOABII587dG-z4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3709594872",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-05T09:26:47Z",
      "updated_at": "2026-01-05T09:26:47Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#issuecomment-3709594872",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34132"
    },
    {
      "event": "labeled",
      "id": 21870672849,
      "node_id": "LE_lADOABII587fjBumzwAAAAUXl_vR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21870672849",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-06T08:10:18Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21967157355,
      "node_id": "HRFPE_lADOABII587fjBumzwAAAAUdWDhr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21967157355",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "dceb67114d9e6523005f7d707c3fb627e4a6cb3b",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/dceb67114d9e6523005f7d707c3fb627e4a6cb3b",
      "created_at": "2026-01-11T00:44:38Z"
    },
    {
      "event": "commented",
      "id": 3733764137,
      "node_id": "IC_kwDOABII587ejLgp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3733764137",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-11T00:45:21Z",
      "updated_at": "2026-01-11T00:45:21Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased and updated the added test to work on [32 bit systems](https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2679121949) as well. Ready for review again! ",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#issuecomment-3733764137",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34132"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21972694234,
      "node_id": "HRFPE_lADOABII587fjBumzwAAAAUdrLTa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21972694234",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "4ae1f793d6718edf7a94fb032a2a7423105e85bd",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/4ae1f793d6718edf7a94fb032a2a7423105e85bd",
      "created_at": "2026-01-11T17:07:40Z"
    },
    {
      "event": "unlabeled",
      "id": 21973758401,
      "node_id": "UNLE_lADOABII587fjBumzwAAAAUdvPHB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21973758401",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-11T18:27:34Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 3648297222,
      "node_id": "PRR_kwDOABII587ZdJkG",
      "url": null,
      "actor": null,
      "commit_id": "4ae1f793d6718edf7a94fb032a2a7423105e85bd",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-01-11T18:51:32Z",
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#pullrequestreview-3648297222",
      "submitted_at": "2026-01-11T18:51:32Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
    },
    {
      "event": "reviewed",
      "id": 3648378551,
      "node_id": "PRR_kwDOABII587Zdda3",
      "url": null,
      "actor": null,
      "commit_id": "4ae1f793d6718edf7a94fb032a2a7423105e85bd",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-01-11T19:40:10Z",
      "author_association": "CONTRIBUTOR",
      "body": "ACK 4ae1f793d6718edf7a94fb032a2a7423105e85bd",
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#pullrequestreview-3648378551",
      "submitted_at": "2026-01-11T19:40:10Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
    },
    {
      "event": "review_requested",
      "id": 21974763796,
      "node_id": "RRE_lADOABII587fjBumzwAAAAUdzEkU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21974763796",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-11T19:40:14Z",
      "requested_reviewer": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    },
    {
      "event": "reviewed",
      "id": 3650676738,
      "node_id": "PRR_kwDOABII587ZmOgC",
      "url": null,
      "actor": null,
      "commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-01-12T13:04:42Z",
      "author_association": "MEMBER",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#pullrequestreview-3650676738",
      "submitted_at": "2026-01-12T13:04:41Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21994364059,
      "node_id": "HRFPE_lADOABII587fjBumzwAAAAUe91yb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21994364059",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "d3063740684f51722850e6ffec290951913fa56d",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/d3063740684f51722850e6ffec290951913fa56d",
      "created_at": "2026-01-12T16:40:13Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21995236842,
      "node_id": "HRFPE_lADOABII587fjBumzwAAAAUfBK3q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21995236842",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "36a01d082a860ae060c93525c9a0ffe974a9f729",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/36a01d082a860ae060c93525c9a0ffe974a9f729",
      "created_at": "2026-01-12T17:19:32Z"
    },
    {
      "event": "labeled",
      "id": 21995247572,
      "node_id": "LE_lADOABII587fjBumzwAAAAUfBNfU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21995247572",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-12T17:20:04Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21997075370,
      "node_id": "HRFPE_lADOABII587fjBumzwAAAAUfILuq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21997075370",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "0d0743d4f3f007553abe244c773d062607913161",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/0d0743d4f3f007553abe244c773d062607913161",
      "created_at": "2026-01-12T18:48:44Z"
    },
    {
      "event": "unlabeled",
      "id": 21998692482,
      "node_id": "UNLE_lADOABII587fjBumzwAAAAUfOWiC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21998692482",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-12T20:06:55Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 3655253632,
      "node_id": "PRR_kwDOABII587Z3r6A",
      "url": null,
      "actor": null,
      "commit_id": "0d0743d4f3f007553abe244c773d062607913161",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-01-13T11:28:23Z",
      "author_association": "MEMBER",
      "body": "left two more comments.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#pullrequestreview-3655253632",
      "submitted_at": "2026-01-13T11:28:23Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
    },
    {
      "event": "commented",
      "id": 3773370938,
      "node_id": "IC_kwDOABII587g6RI6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3773370938",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-20T15:11:13Z",
      "updated_at": "2026-01-20T15:11:13Z",
      "author_association": "CONTRIBUTOR",
      "body": "drafting until https://github.com/bitcoin/bitcoin/pull/34320 is merged to clarify the scope of this change",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#issuecomment-3773370938",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34132"
    },
    {
      "event": "convert_to_draft",
      "id": 22164210811,
      "node_id": "CTDE_lADOABII587fjBumzwAAAAUpFwR7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22164210811",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-20T15:11:16Z"
    },
    {
      "event": "commented",
      "id": 3773440501,
      "node_id": "IC_kwDOABII587g6iH1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3773440501",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-20T15:25:05Z",
      "updated_at": "2026-01-20T15:25:05Z",
      "author_association": "MEMBER",
      "body": "I'd be happy to still review this one, if you want to push. The two should be mostly orthogonal.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#issuecomment-3773440501",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34132"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22268247669,
      "node_id": "HRFPE_lADOABII587fjBumzwAAAAUvSn51",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22268247669",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "2c909c13ddc360cd3583fb044eb3724e0b05c835",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/2c909c13ddc360cd3583fb044eb3724e0b05c835",
      "created_at": "2026-01-24T22:08:18Z"
    },
    {
      "event": "reviewed",
      "id": 3683201422,
      "node_id": "PRR_kwDOABII587biTGO",
      "url": null,
      "actor": null,
      "commit_id": "2c909c13ddc360cd3583fb044eb3724e0b05c835",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-01-24T22:13:50Z",
      "author_association": "CONTRIBUTOR",
      "body": "> The two should be mostly orthogonal\r\n\r\nI have separated the `HaveCoin` delegation in the first few commits without repeating https://github.com/bitcoin/bitcoin/pull/34320, but making the error catcher related changes minimal (didn't see the point in migrating `HaveCoin` independently if we're just delegating it to `GetCoin` anyway).",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#pullrequestreview-3683201422",
      "submitted_at": "2026-01-24T22:10:49Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
    },
    {
      "event": "ready_for_review",
      "id": 22268269714,
      "node_id": "RFRE_lADOABII587fjBumzwAAAAUvStSS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22268269714",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-24T22:11:01Z"
    },
    {
      "event": "reviewed",
      "id": 3702984797,
      "node_id": "PRR_kwDOABII587ctxBd",
      "url": null,
      "actor": null,
      "commit_id": "2c909c13ddc360cd3583fb044eb3724e0b05c835",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-01-24T23:12:17Z",
      "author_association": "CONTRIBUTOR",
      "body": "> didn't see the point in migrating HaveCoin independently if we're just delegating it to GetCoin anyway\r\n\r\nI think having an optimized existence check that doesn't make copies, cache the value or deserialize after disk lookup makes sense to keep.\r\nWe can use that for BIP30 checks and block rollbacks instead of calling `FetchCoin` for these cases.",
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#pullrequestreview-3702984797",
      "submitted_at": "2026-01-24T23:12:17Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22299908615,
      "node_id": "HRFPE_lADOABII587fjBumzwAAAAUxLZoH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22299908615",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "e6247b5d3fcc89edcfa87c79a78d475c5d692ecd",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/e6247b5d3fcc89edcfa87c79a78d475c5d692ecd",
      "created_at": "2026-01-26T21:05:21Z"
    },
    {
      "event": "commented",
      "id": 3801762540,
      "node_id": "IC_kwDOABII587imkrs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3801762540",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-26T21:08:15Z",
      "updated_at": "2026-01-26T21:08:15Z",
      "author_association": "CONTRIBUTOR",
      "body": "Now that `CCoinsViewDB::GetCoin` simply fails for unrecoverable errors, I've annotated the coins view lookups as `noexcept` in a separate commit.",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#issuecomment-3801762540",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34132"
    },
    {
      "event": "labeled",
      "id": 22346733668,
      "node_id": "LE_lADOABII587fjBumzwAAAAUz-Bhk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22346733668",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-28T13:55:06Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22346824775,
      "node_id": "HRFPE_lADOABII587fjBumzwAAAAUz-XxH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22346824775",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "439d2f74518411bf7657bcad18a2d6744d50d05d",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/439d2f74518411bf7657bcad18a2d6744d50d05d",
      "created_at": "2026-01-28T13:58:27Z"
    },
    {
      "event": "commented",
      "id": 3811481558,
      "node_id": "IC_kwDOABII587jLpfW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3811481558",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-28T14:00:19Z",
      "updated_at": "2026-01-28T14:00:19Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased after conflict with https://github.com/bitcoin/bitcoin/pull/34276/changes#diff-b1e19192258d83199d8adaa5ac31f067af98f63554bfdd679bd8e8073815e69dR1380 - ready for review again!",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#issuecomment-3811481558",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34132"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22347521124,
      "node_id": "HRFPE_lADOABII587fjBumzwAAAAU0BBxk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22347521124",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "257f4f6605a059aca1754154f387d796b9d849a8",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/257f4f6605a059aca1754154f387d796b9d849a8",
      "created_at": "2026-01-28T14:24:06Z"
    },
    {
      "event": "labeled",
      "id": 22347537410,
      "node_id": "LE_lADOABII587fjBumzwAAAAU0BFwC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22347537410",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-28T14:24:43Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 22350743776,
      "node_id": "UNLE_lADOABII587fjBumzwAAAAU0NUjg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22350743776",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-28T16:25:33Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 22353507688,
      "node_id": "UNLE_lADOABII587fjBumzwAAAAU0X3Vo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22353507688",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-28T18:07:16Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22360305078,
      "node_id": "HRFPE_lADOABII587fjBumzwAAAAU0xy22",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22360305078",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "fea2a283464e3b06756010e5b77b62ed11547ff4",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/fea2a283464e3b06756010e5b77b62ed11547ff4",
      "created_at": "2026-01-28T23:08:31Z"
    },
    {
      "event": "commented",
      "id": 3814394131,
      "node_id": "IC_kwDOABII587jWwkT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3814394131",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-28T23:08:43Z",
      "updated_at": "2026-01-28T23:08:43Z",
      "author_association": "CONTRIBUTOR",
      "body": "Trivial rebase after #34207, ready for review again!",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#issuecomment-3814394131",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34132"
    },
    {
      "event": "labeled",
      "id": 22391500112,
      "node_id": "LE_lADOABII587fjBumzwAAAAU2oy1Q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22391500112",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-30T00:06:31Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22401033814,
      "node_id": "HRFPE_lADOABII587fjBumzwAAAAU3NKZW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22401033814",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "743b451f45cf3f2b4ddbd590ce7200f41d399d04",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/743b451f45cf3f2b4ddbd590ce7200f41d399d04",
      "created_at": "2026-01-30T08:38:42Z"
    },
    {
      "event": "unlabeled",
      "id": 22401400270,
      "node_id": "UNLE_lADOABII587fjBumzwAAAAU3Oj3O",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22401400270",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-30T08:55:26Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 3732292067,
      "node_id": "PRR_kwDOABII587edkHj",
      "url": null,
      "actor": null,
      "commit_id": "743b451f45cf3f2b4ddbd590ce7200f41d399d04",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-01-31T12:07:14Z",
      "author_association": "MEMBER",
      "body": "Took a look at 743b451f45cf3f2b4ddbd590ce7200f41d399d04~7 and left a question.\n\nI love the first commit and I think it can be split out?",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#pullrequestreview-3732292067",
      "submitted_at": "2026-01-31T12:07:14Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
    },
    {
      "event": "renamed",
      "id": 22443131706,
      "node_id": "RTE_lADOABII587fjBumzwAAAAU5twM6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22443131706",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-01T12:11:04Z",
      "rename": {
        "from": "refactor: inline `CCoinsViewErrorCatcher` into `CCoinsViewDB`",
        "to": "coins: fail fast on database read deserialization errors"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22443361305,
      "node_id": "HRFPE_lADOABII587fjBumzwAAAAU5uoQZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22443361305",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "10caffb78af2ad04358a54484001342c39e0bd84",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/10caffb78af2ad04358a54484001342c39e0bd84",
      "created_at": "2026-02-01T12:39:16Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22443412124,
      "node_id": "HRFPE_lADOABII587fjBumzwAAAAU5u0qc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22443412124",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "f0325b16a8da78c073b357568822de2c4d8589c7",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/f0325b16a8da78c073b357568822de2c4d8589c7",
      "created_at": "2026-02-01T12:46:00Z"
    },
    {
      "event": "labeled",
      "id": 22443415838,
      "node_id": "LE_lADOABII587fjBumzwAAAAU5u1ke",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22443415838",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-01T12:46:35Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 22444271604,
      "node_id": "UNLE_lADOABII587fjBumzwAAAAU5yGf0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22444271604",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-01T14:34:31Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "convert_to_draft",
      "id": 22504150708,
      "node_id": "CTDE_lADOABII587fjBumzwAAAAU9Wha0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22504150708",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-03T17:27:36Z"
    },
    {
      "event": "labeled",
      "id": 22604792429,
      "node_id": "LE_lADOABII587fjBumzwAAAAVDWcJt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22604792429",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-07T04:02:13Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "renamed",
      "id": 22698829386,
      "node_id": "RTE_lADOABII587fjBumzwAAAAVI9KZK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22698829386",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-11T09:58:45Z",
      "rename": {
        "from": "coins: fail fast on database read deserialization errors",
        "to": "coins: drop error catcher, centralize fatal read handling"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDAxODY2YTAzZjI0NTFhNjZkZjNkMzFjOGI4NzgxNDI1MjNiYzhlNzk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/01866a03f2451a66df3d31c8b878142523bc8e79",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/01866a03f2451a66df3d31c8b878142523bc8e79",
      "tree": {
        "sha": "5372a89663d6d1bea79ed821b08bcd22414f2760",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5372a89663d6d1bea79ed821b08bcd22414f2760"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 5372a89663d6d1bea79ed821b08bcd22414f2760\nparent 337fef9f2f6847ac81e306e7054fbd64a4b4c72c\nauthor LÅ‘rinc <pap.lorinc@gmail.com> 1766164779 +0100\ncommitter LÅ‘rinc <pap.lorinc@gmail.com> 1770826264 +0100\n\ntest: cover database read errors with dedicated tests\n\nCorrupt LevelDB table files and cover read paths through `gettxout`, `gettxoutsetinfo`, and `getrawtransaction` with `-txindex=1`.\nNormalize the user-facing fatal read message to `Cannot read from database, shutting down`.\nOn 32-bit, restart before chainstate corruption so LevelDB block cache does not mask on-disk edits.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqXy8dDLWkKQdUrTAZp//D/pHenYFAmmMqhgACgkQZp//D/pH\nenapqw//QStZkCMWXr7Xtg9srVlaAgLZqic0X3yUZwmKZ8/nqun/Ru0BpbSQ+Yk9\nrFubiAlaZAOHSnd4H9Q6ywPxeTNtPdFufMFy1zwx18e1/a+L6uaOeQU2C+MB7Pph\nhF7AL3d69/+rwbv0XhvzYcAG9BtFePk8xKVpvPg3J8kyYgd12eRp95Ij89kBv/rH\nXSjD/AWidhCoya/2R3UDzq4svH7nMr6NrloHFsCB4FFziCOGXGNknZhkbak6qXRR\nulkxocSbeTbCdK50a1tzhLwJbY+IL8UFkyxv0nfclgvvE/HefGDrBZDrAStROVvR\noQZHXe9B7v+CejJ9pNqX4+rKs0RTq4nUUQBWIThpeNVjqRLiTU5CidBGi7Cl/IEf\nqhW0pfSvVhFdzebS/U3sxB0DwjajBbHcz/x63HZ19dBP5sAn2uklzVH/dZxhrUQ1\n6yDHi1g6QA4qF966m1RkO7h2hl3tc46G9t2cgI/TPQ6ph7dIaWJBETRN9QMCpR0O\ngO1MfawW0J2E4PnMT8a29jKpo9LQb6qNH5NunPNXzv942vdpv4qeHpRVjnZUSEvp\nZHcCK9FgNBcxIJCrTohrsYAZhr9oFxU3iNplnvEbZv20JqkppsOCUNEbX2HQX2B0\n9fmMVPLVzzbPu2BGKc3R6gB0cjGqxx6XM6zU7on/OhcRGGMUGXY=\n=JgVJ\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/337fef9f2f6847ac81e306e7054fbd64a4b4c72c",
          "sha": "337fef9f2f6847ac81e306e7054fbd64a4b4c72c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/337fef9f2f6847ac81e306e7054fbd64a4b4c72c"
        }
      ],
      "message": "test: cover database read errors with dedicated tests\n\nCorrupt LevelDB table files and cover read paths through `gettxout`, `gettxoutsetinfo`, and `getrawtransaction` with `-txindex=1`.\nNormalize the user-facing fatal read message to `Cannot read from database, shutting down`.\nOn 32-bit, restart before chainstate corruption so LevelDB block cache does not mask on-disk edits.",
      "committer": {
        "name": "LÅ‘rinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-02-11T16:11:04Z"
      },
      "author": {
        "name": "LÅ‘rinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-12-19T17:19:39Z"
      },
      "sha": "01866a03f2451a66df3d31c8b878142523bc8e79"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGQ5ZTQ3OTk2ZWVkODlkNTZhZTMyZTQyODEwNzI2MjJmZDEyN2NiNmM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d9e47996eed89d56ae32e4281072622fd127cb6c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d9e47996eed89d56ae32e4281072622fd127cb6c",
      "tree": {
        "sha": "1b6b600f31259e8b1ef1e4b4e3ef4feb316f0e0d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1b6b600f31259e8b1ef1e4b4e3ef4feb316f0e0d"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 1b6b600f31259e8b1ef1e4b4e3ef4feb316f0e0d\nparent 01866a03f2451a66df3d31c8b878142523bc8e79\nauthor LÅ‘rinc <pap.lorinc@gmail.com> 1766170400 +0100\ncommitter LÅ‘rinc <pap.lorinc@gmail.com> 1770826265 +0100\n\nscripted-diff: rename `coins_error_cb` to `read_error_cb` for clarity\n\nMechanical rename for callback-plumbing follow-up commits.\n\n-BEGIN VERIFY SCRIPT-\ngit grep -q \"read_error_cb\" && echo \"Error: Target name read_error_cb already exists\" && exit 1\nperl -pi -e 's/\\bcoins_error_cb\\b/read_error_cb/g' $(git grep -l 'coins_error_cb')\n-END VERIFY SCRIPT-\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqXy8dDLWkKQdUrTAZp//D/pHenYFAmmMqhkACgkQZp//D/pH\nenbpVg//TxdD7sn81X4w0BvrTbsRGW6lYa+f83+DrWp5EbqfQYNNZTFOdnFZsoKq\nAYuk5eZ80PHBCsNstApK/1PFUnxa8tRBaMxd9DES3W3FWw84D2B6OuWeeZfzo1bU\nvhyfS1PLzXEP2woul/kXdcng5cKhlXz7CE1MVKYZAQDXixsdS4z82HtThcSf4Xee\nW28d3QPDKPxKpCTG1CEFX0PihugAfH+5zBaIP9I463tXUobekSDSYlXMMGfRYoUP\nQUFXC8T3jZAYSIxbjG2uEjxPw80QqFxrMqjAQWVM6xcVgLmM5eKxiu4D/mQCe53V\nRGUyViXk5fKJowGUhJAVfaEpvLgTCGxk/lEEiVT0EaResLOO/t0+zODH2pQFEdQN\nbeRtyBJAABYZub0GFItASuHOnn3fT1WmqNB/4gZGr3W/c4h/rCYSELwzx/RjsZ8I\ne8T6vl3oHx28aNbqA8zDdvJlaU4Cs4U98CVI0l4E3Zb8jAZDnlutkYCjhMCK31ER\nwnxmRT6BGfBF9P8zCtSM2IxeS4tLHbotaIyb5Y1GZxyxyP9lp3Wj1qS5uLE+I8NT\nSrJLPM3N1EGRlKzEd12F7gtYDl9W92lXSl49Hav6wBOlW1FUXusRDr9Qm5+9e9b6\nzUbME4Lrt6GH8ZUQPvSwpVk7QjZLS81ECgTpQbLIriqLwqpBaxE=\n=5c9R\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/01866a03f2451a66df3d31c8b878142523bc8e79",
          "sha": "01866a03f2451a66df3d31c8b878142523bc8e79",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/01866a03f2451a66df3d31c8b878142523bc8e79"
        }
      ],
      "message": "scripted-diff: rename `coins_error_cb` to `read_error_cb` for clarity\n\nMechanical rename for callback-plumbing follow-up commits.\n\n-BEGIN VERIFY SCRIPT-\ngit grep -q \"read_error_cb\" && echo \"Error: Target name read_error_cb already exists\" && exit 1\nperl -pi -e 's/\\bcoins_error_cb\\b/read_error_cb/g' $(git grep -l 'coins_error_cb')\n-END VERIFY SCRIPT-",
      "committer": {
        "name": "LÅ‘rinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-02-11T16:11:05Z"
      },
      "author": {
        "name": "LÅ‘rinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-12-19T18:53:20Z"
      },
      "sha": "d9e47996eed89d56ae32e4281072622fd127cb6c"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQ5NDhhNDFjYzIwNzU2OGYxNDY5N2NiNTY5Mjc0Mjk5NjJjNmI1NDQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4948a41cc207568f14697cb56927429962c6b544",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/4948a41cc207568f14697cb56927429962c6b544",
      "tree": {
        "sha": "9edb665cc06116d74d4784f62b9a92f256ab8671",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9edb665cc06116d74d4784f62b9a92f256ab8671"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 9edb665cc06116d74d4784f62b9a92f256ab8671\nparent d9e47996eed89d56ae32e4281072622fd127cb6c\nauthor LÅ‘rinc <pap.lorinc@gmail.com> 1770630210 +0100\ncommitter LÅ‘rinc <pap.lorinc@gmail.com> 1770826265 +0100\n\nrefactor: split out `CDBWrapper::ReadRaw` from `CDBWrapper::Read`\n\nIntroduce `ReadRaw` for follow-up commits that alter `Read` behavior.\n`Write` was moved to group read/write methods more consistently.\nThe try/catch returns in CDBWrapper/CDBIterator were adjusted to have a clear try-return-true/catch-return-false structure.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqXy8dDLWkKQdUrTAZp//D/pHenYFAmmMqhkACgkQZp//D/pH\nenZ6cRAAsssJCkTqlWiFN5XHl777/AGVVia8VLOFIshwRvNsj9jWbuXKHUbTpgi7\n4BrH38EnpWmYeU+OJl4XQWNoyMz50lipq9v9kEtlmvIFSr/8swaj/t6QU9gzBWS3\nOIFbKl6onE0PZkUzclX9icn8DVz7FZ732jxFVXl6oAkTE14chZuPdNODJUIWZBgN\nGWJbHMuLQN3o6qSxn87ky5DrDMk+yXZdOfGu6B+Zfzj+xslGS3pUtV0UUZhZBJnE\nFFB9u7+r6G4nmPqX2azHpD1jm8ktThGAB4M5o3Uz8nORfKXAmV+4mvOB0KLmKc0u\nuFAzKU5XUfbHZLiE7Yb904EruT+OcWOZjDX+gC0uGvV+kMKAZjvYCdWspBP1LNvh\nnW/aOWG2SkOM4qfoUSvU8LzjOTUAlSPfRMvVPAhBTfUI2LiDR5ySNujQ9rcvkfuX\nzoaYPnuPFyI/i6vgh+fLupC3G1I6Kpw6mjI3DU9ETx1GFLkvUlLUXPuUYkfGxlXf\nWh8cRTlp9WdbZlXOBKii66cSwlwm/q5DAKbVvLgv79SQhJZWW5RcUfrNvh7LIV90\nZbdKBIqj26Sv9UL6ZDppUS+jA816dLU1VTYO49bYvPMTMRW5Efx9fHP3ixpDYfNP\nh1RBC+qokzyGV1FXNBbtCgMjOiv57ybwHX8siWQxE9PnFlQYmd4=\n=mGq0\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d9e47996eed89d56ae32e4281072622fd127cb6c",
          "sha": "d9e47996eed89d56ae32e4281072622fd127cb6c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d9e47996eed89d56ae32e4281072622fd127cb6c"
        }
      ],
      "message": "refactor: split out `CDBWrapper::ReadRaw` from `CDBWrapper::Read`\n\nIntroduce `ReadRaw` for follow-up commits that alter `Read` behavior.\n`Write` was moved to group read/write methods more consistently.\nThe try/catch returns in CDBWrapper/CDBIterator were adjusted to have a clear try-return-true/catch-return-false structure.",
      "committer": {
        "name": "LÅ‘rinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-02-11T16:11:05Z"
      },
      "author": {
        "name": "LÅ‘rinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-02-09T09:43:30Z"
      },
      "sha": "4948a41cc207568f14697cb56927429962c6b544"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDU2MTI1NWZjOGJkNmQxZWYyYTA1YjJkOGU0Mjg3OTNjMWEwZTQxYmM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/561255fc8bd6d1ef2a05b2d8e428793c1a0e41bc",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/561255fc8bd6d1ef2a05b2d8e428793c1a0e41bc",
      "tree": {
        "sha": "fab3bbbf42f43bb4a729f62610cdd0f897e7699c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fab3bbbf42f43bb4a729f62610cdd0f897e7699c"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree fab3bbbf42f43bb4a729f62610cdd0f897e7699c\nparent 4948a41cc207568f14697cb56927429962c6b544\nauthor LÅ‘rinc <pap.lorinc@gmail.com> 1769280104 +0100\ncommitter LÅ‘rinc <pap.lorinc@gmail.com> 1770826265 +0100\n\nrefactor: replace `CDBWrapper::ExistsImpl` with `::ReadRaw` to simplify existence checks\n\nUse `ReadRaw` in `Exists` and remove `ExistsImpl`.\nDo this before fatal-read behavior changes to avoid churn in code that will be removed.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqXy8dDLWkKQdUrTAZp//D/pHenYFAmmMqhkACgkQZp//D/pH\nenatEQ//fQ0cDPy8WdjHzPg1aLGQwyWj92eZZedjggZozR5h5R0JuJfKg7liRKa0\nIicx+ernAse22bGV3eP431P4zpXMii6WUQs5H3jkF8Rod/T2dNS/7UrdUB5fPhd1\nOGR54ZU4HmoLzJYMIRmr4gv+gKJYClnAZ+uVQUcr13YP9DcLWlIjHeBiQTecq5qh\ndka5GBihZLWlDF02YcFATvUETXOtmjUael6Z/XKOV9l5WEzGFiy+LZM2k6Kr+Sbz\nQ2Cd/1C/A03MivJ789BwuKMcrn0Wd8nVdimJ+jztGl7JxMsFv9xeHnHcosvHnFan\nWmNUIYdgQN9xyDxB74xSjitK8YVoMgTlu4nevIL/q41xhvCaRPdIEI0Gp1/YzbF5\n87iTFJF7Bnlkqj8mmd8P1qxe/QMGLUur0smakkUR5hZ5w69DxVkXsHQne7kBxW3D\nCQINIBsRcnyY9qPTiypAUn3dfZ68Dd42SH33wy47yNSTLKkyzQoAGjK5RGbqjKQd\nDU7GGYdf9nTFkv+lqEL/Oj8dlvMRfJhUA+Z2qiFmvg2cPJZGfeNAyaYatB0M/89n\nYB+IQzhOuTValORY7XEQrJXHQZvhbW2ap4+7v1T4L8YFCGrM2JNK9k6wzfwd4l6w\nuFWX9FYYWgg6Yj1I4L1s9mcjIMV+17hcMqjQUucW7VNmV3gcjAk=\n=haoX\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4948a41cc207568f14697cb56927429962c6b544",
          "sha": "4948a41cc207568f14697cb56927429962c6b544",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/4948a41cc207568f14697cb56927429962c6b544"
        }
      ],
      "message": "refactor: replace `CDBWrapper::ExistsImpl` with `::ReadRaw` to simplify existence checks\n\nUse `ReadRaw` in `Exists` and remove `ExistsImpl`.\nDo this before fatal-read behavior changes to avoid churn in code that will be removed.",
      "committer": {
        "name": "LÅ‘rinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-02-11T16:11:05Z"
      },
      "author": {
        "name": "LÅ‘rinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-01-24T18:41:44Z"
      },
      "sha": "561255fc8bd6d1ef2a05b2d8e428793c1a0e41bc"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGQxMmY3ZDk2MDU4NWRkOTJjYTZkMjM4MWUwY2I4MTJjMTFhZjg1Y2Q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d12f7d960585dd92ca6d2381e0cb812c11af85cd",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d12f7d960585dd92ca6d2381e0cb812c11af85cd",
      "tree": {
        "sha": "1c7ee61c7a07131b15ffd27ff63cf7f72505b942",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1c7ee61c7a07131b15ffd27ff63cf7f72505b942"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 1c7ee61c7a07131b15ffd27ff63cf7f72505b942\nparent 561255fc8bd6d1ef2a05b2d8e428793c1a0e41bc\nauthor LÅ‘rinc <pap.lorinc@gmail.com> 1769291783 +0100\ncommitter LÅ‘rinc <pap.lorinc@gmail.com> 1770826265 +0100\n\ncoins: restrict read-error callback to single handler\n\nSwitch `CCoinsViewErrorCatcher` from a callback list to a single `m_read_error_cb`.\nConstructor-level wiring follows in the next commit.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqXy8dDLWkKQdUrTAZp//D/pHenYFAmmMqhkACgkQZp//D/pH\nenbVGQ/7BDEJXk9ik+i8zOiuEq7AkhCPEcRD6PupG5LsUg9vFBonZJw3TlGUNlkq\nzDs4D74Og5Jh+9nDRN8DnwlEVKXdpq2OXvVdQCt8KT5sr9bAImFHZlsH33vFdoCb\nWoTYhVNNg2KhkS6LlIdvo4BBfWd1P2CKS7FDG6vq3NmO+MQ0FjLi2QLJRI417ToV\nUK1biK3j9TvoeVWYnNqRP+IRcMbTQXR81m/o8tG6DQTfHfdPUbhAyioREiQiSs+T\nATPtRghoHxb3ZBAr6zPYsps+voO5x/7IG7IADEnQuwUvuK2kAygoX90KZf0iBe8e\n9aFBiugi+d8w1zEH2wf8EF8QnnqcMTiDqV1Fk2GopcXilTTiruy7a31Boc/dgtLC\ni3LsQGM8EKbfAJUMOuPrRjAYV2MRz5Ar+AqShAn8I0cjTkOwAQS4onX7GrsYwG6A\nS/BByrbg0C6wUVMowDgswdS22yqT8TFWkY7if4aXht7An7aYbg0kjFlVQNZpkvKa\nxGJf9uYVf7ekzCkeW7gr/kNMZx1EvDTosa+5iEZZXe8qgRVycgdI4/c+X9/RqU9p\nU+LAslDpJV17o5ofgKHAeXSX89o7DCcC8S+gELvz4+hVt1AE13CmB2Ldd1/ss/C5\n175aJpQkug6NrS/She/xx4kRfpgpHHWoLjEY6826HKnl+LttQ+k=\n=cq8s\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/561255fc8bd6d1ef2a05b2d8e428793c1a0e41bc",
          "sha": "561255fc8bd6d1ef2a05b2d8e428793c1a0e41bc",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/561255fc8bd6d1ef2a05b2d8e428793c1a0e41bc"
        }
      ],
      "message": "coins: restrict read-error callback to single handler\n\nSwitch `CCoinsViewErrorCatcher` from a callback list to a single `m_read_error_cb`.\nConstructor-level wiring follows in the next commit.",
      "committer": {
        "name": "LÅ‘rinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-02-11T16:11:05Z"
      },
      "author": {
        "name": "LÅ‘rinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-01-24T21:56:23Z"
      },
      "sha": "d12f7d960585dd92ca6d2381e0cb812c11af85cd"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGMzZTQ5MWViMzY4YzFjYWIzNjI0OWQxYTgxOTJhNTEwYWY5NDI0NjA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c3e491eb368c1cab36249d1a8192a510af942460",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c3e491eb368c1cab36249d1a8192a510af942460",
      "tree": {
        "sha": "ac3858bfa87666952c12d57260bb6b1a201b1f62",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ac3858bfa87666952c12d57260bb6b1a201b1f62"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree ac3858bfa87666952c12d57260bb6b1a201b1f62\nparent d12f7d960585dd92ca6d2381e0cb812c11af85cd\nauthor LÅ‘rinc <pap.lorinc@gmail.com> 1766170273 +0100\ncommitter LÅ‘rinc <pap.lorinc@gmail.com> 1770826265 +0100\n\nrefactor: init read error callback in `InitCoinsDB`\n\nInitialize one `read_error_cb` in `init` and pass it via `ChainstateManager::Options` into DB params.\n\nPlumb `read_error_cb` into index database constructors so index read corruption can surface the same shutdown message.\n\nDrop `ChainstateLoadOptions::read_error_cb` threading.\n\nNote that `read_error_cb` defaults to a noop now to avoid having to check it on every call.\n\nThis prepares the next commit that wires fatal read handling at the `CDBWrapper` read site.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqXy8dDLWkKQdUrTAZp//D/pHenYFAmmMqhkACgkQZp//D/pH\nenZVqA//ZdwmwdviRPVvLdTBxBHns36u9jgG0bg41Ip2bdnwcZHvrJoGZLnhdoj4\nuMg4TdN97jT320YCs0eUqcXovqebRr+p76zWBdwsZS1HwjK6ceB5U5e2dMRiDPIR\nvX1kDJw5g8oHE5g7tx1do8OiPj0bbxBAsWixDVKbmD56zsbquG5OdQRvZuIpXh2u\nt0jxmkc6JACA4n/+2PaWpgYzDcDWX+qCKfyksnFX1gROqT7KIEe+PzYuhKo+9HjR\nQWfgDMr4iNEKBcPZndDBjhCP80Q7ESTobnD/EtHtaBGwhSSba22yfypQJRN6XJVr\np4s0p1Ggcc8EuomJ5BfE+GWrC2O2Pv4noG455Q8uzWg0ovVmwWfmbXQdwwhPxAwR\nfqj7o3mWcWjU35RP8kRDtn9QfV/3NNrelVsBNO0NpctY6ojS/zfRwhc/XRLVjyDm\nUHetsz5CKn2jNS6w5KUszV3aYZi7UBAz/y950WElWNjBjSk7FRZMlJ4vZMV1TpU1\nnZEvtp+fUEO4UTogIwa1UZ2OVxiC/4xIPmB+uEfFeg/739THjiblAxYbU8rEJSAd\nf+Ugvq7MF42RliRAZ7xPge9CcCOoWFoDC/Yz8/et9w7NwvlTYwUYCYKXQ3VRqTCG\n5XmGuMd+6mzV3cIQGeboAcj94GwuI5gh7sKzPY1MpEWQLHldPzE=\n=M1s8\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d12f7d960585dd92ca6d2381e0cb812c11af85cd",
          "sha": "d12f7d960585dd92ca6d2381e0cb812c11af85cd",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d12f7d960585dd92ca6d2381e0cb812c11af85cd"
        }
      ],
      "message": "refactor: init read error callback in `InitCoinsDB`\n\nInitialize one `read_error_cb` in `init` and pass it via `ChainstateManager::Options` into DB params.\n\nPlumb `read_error_cb` into index database constructors so index read corruption can surface the same shutdown message.\n\nDrop `ChainstateLoadOptions::read_error_cb` threading.\n\nNote that `read_error_cb` defaults to a noop now to avoid having to check it on every call.\n\nThis prepares the next commit that wires fatal read handling at the `CDBWrapper` read site.",
      "committer": {
        "name": "LÅ‘rinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-02-11T16:11:05Z"
      },
      "author": {
        "name": "LÅ‘rinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-12-19T18:51:13Z"
      },
      "sha": "c3e491eb368c1cab36249d1a8192a510af942460"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGFhMDMzMGU4YzJkMjQ4ZDczYTBjNTgzMDJkMjI4YWM2ZjQwNzVlOTI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/aa0330e8c2d248d73a0c58302d228ac6f4075e92",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/aa0330e8c2d248d73a0c58302d228ac6f4075e92",
      "tree": {
        "sha": "24d952d7a6baaa404c8ed007b5629d97ab64db67",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/24d952d7a6baaa404c8ed007b5629d97ab64db67"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 24d952d7a6baaa404c8ed007b5629d97ab64db67\nparent c3e491eb368c1cab36249d1a8192a510af942460\nauthor LÅ‘rinc <pap.lorinc@gmail.com> 1770811548 +0100\ncommitter LÅ‘rinc <pap.lorinc@gmail.com> 1770826265 +0100\n\nrefactor: move `CCoinsViewErrorCatcher` to `CCoinsViewDB`\n\nRemove the intermediate coinsview wrapper and let caches sit directly on top of CCoinsViewDB.\n\nHandle coin database read errors in `CCoinsViewDB::GetCoin()`.\nNote that `HaveCoin` was never really covered with the error-catcher in practice, so the try/catch was only added around `CCoinsViewDB::GetCoin`. In the next commit we'll delegate to `GetCoin` anyway which will cover it if called.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqXy8dDLWkKQdUrTAZp//D/pHenYFAmmMqhkACgkQZp//D/pH\nenZ2ug//VZUemSBnQj1HpZKtgM2rfc3XarpB1HIqmKtZcD9lwcSAIkERqRkeISO3\nTW93hh+66OnxlWiMtUj1HuXEWbr+mtkZCpQZnzrIkQWXdzuQD4D5YCjuCRmLSD1D\n4XkctVHU6BNi1t+JKF//gO2WcsHRKbBCxWUYfUqtXGnOPlcvjkP3iiRBi9ZNCmAx\nZ0slLxYvXoQjYpMOqIBxFBj1ua9nK9L4TfoVwsK3qNohmTqGFnFoxTt93UcwuRkT\nJN02bbo6Qd0HkKDZEq/WcpvhLWXhfIuV6eQryCrEKirDHJVvkvi+3PjWIulD5kTr\nOo/j/oU47F/AIS3orPpQc1VT68RlaeP3c27ssVfpPVLUWx/axlvBWjyMng1P12cN\nzO6RDexgNfrr0mmu1CyYThpq9X5unPmx6CyhFzEp5SEzsEnDR9JwncM0S4V6KV+d\nWbdD3Hrb1aWcK3HsIyvmnN02rYaTzWqA32gZe1gSL1h9PrdQyGMVakS3BJmanbLv\nC5AFvzXrF02h/AI0+w326XR1kn/OQF/7LAVd9k8oG7n1GJKyo698CocuBopUNvw+\ngUAanNZxAkgSYj00g+GNcT2ApGWN9JT7xbR32KzBTAhDnPRaT8sJfG1CF8UELlvi\nhb8YUTwE8V+ouzdjjlU5g7Mo23OC6ja5TODxNGR3lhsf6GQy9lg=\n=Zis/\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c3e491eb368c1cab36249d1a8192a510af942460",
          "sha": "c3e491eb368c1cab36249d1a8192a510af942460",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c3e491eb368c1cab36249d1a8192a510af942460"
        }
      ],
      "message": "refactor: move `CCoinsViewErrorCatcher` to `CCoinsViewDB`\n\nRemove the intermediate coinsview wrapper and let caches sit directly on top of CCoinsViewDB.\n\nHandle coin database read errors in `CCoinsViewDB::GetCoin()`.\nNote that `HaveCoin` was never really covered with the error-catcher in practice, so the try/catch was only added around `CCoinsViewDB::GetCoin`. In the next commit we'll delegate to `GetCoin` anyway which will cover it if called.",
      "committer": {
        "name": "LÅ‘rinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-02-11T16:11:05Z"
      },
      "author": {
        "name": "LÅ‘rinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-02-11T12:05:48Z"
      },
      "sha": "aa0330e8c2d248d73a0c58302d228ac6f4075e92"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGY5Y2IxNzU2M2ZjY2Q1MjhlNmNmZGZiZGE3N2Y1ZDUzZDMxMWUxNGU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f9cb17563fccd528e6cfdfbda77f5d53d311e14e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f9cb17563fccd528e6cfdfbda77f5d53d311e14e",
      "tree": {
        "sha": "efebacd77fbb207f0f618d3c5104a765447532b5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/efebacd77fbb207f0f618d3c5104a765447532b5"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree efebacd77fbb207f0f618d3c5104a765447532b5\nparent aa0330e8c2d248d73a0c58302d228ac6f4075e92\nauthor LÅ‘rinc <pap.lorinc@gmail.com> 1770807779 +0100\ncommitter LÅ‘rinc <pap.lorinc@gmail.com> 1770826265 +0100\n\ntxdb: `HaveCoin` delegate to `GetCoin`\n\nUsing `CDBWrapper::Exists()` can report an existing entry even if its value is corrupted and would fail to deserialize.\n\nDelegate to `GetCoin()` so database corruption is detected consistently.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqXy8dDLWkKQdUrTAZp//D/pHenYFAmmMqhkACgkQZp//D/pH\nenZlZxAAkkJ5yn6pa++nkp++2QyoM7RN1phODglU2Aac8EKb1ltf+SnQjsZ5zUNC\nw5iIhmn+bFwy9Z2NPO62EKSBiZJXFwLjR+u6XKMLEZ3roHiLzPDXeragM3VtpoPM\n8pk3lj5CQv5VigLhlVmS/HVEhjwahuYOyFPU0gDdexaWL8O7rEvL17uSYVoOOeRe\nCIqx4tds9i7h7BxrWyVdNoIsSF331U8Tok1ASTKRzPQaXmoXFGU+kr9jo53aYt9S\n1W76NUCDdzz7eYEHegGoxVDlAPVlTIld1ST5aRsOa+7+/j6tBX6ZWkf3Dqa/KnIY\nRuCpF/EObR7BTJ/iU3hQcjlDZ8rZsUxcZzzdNR7smqSQ4W1Xy8vvgyP6UF5TZjlf\nzO/nFfLDet2HEVeFa0SNSaN4WrD1fdZRoPYgCr4bn/SdZAtyfwZsxO09Jg0TqoIS\nKc5SbLQYslx8Yd7OeoXMrNpMSLLx7/JMaf2IXiXCziHPAK5whl5gc5MPZKHNiGR6\nWBWXvqj31LL9nLchFTCHbT4JoSLOfXimas9rEfMxpdJDyujk4vNZhYT9HMKPvLEC\nlzd0FwF/T1CpEVoAHWDnrK0+IDzPfSitKGx+w5S4nlw1ZCxWyRq0hQV3+vSMmXG0\nzJ+Yq/kNfVn3T4NRwHiR/q5Igb0Vv80Xe25KzaHuwtQovhc4d40=\n=WWYF\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/aa0330e8c2d248d73a0c58302d228ac6f4075e92",
          "sha": "aa0330e8c2d248d73a0c58302d228ac6f4075e92",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/aa0330e8c2d248d73a0c58302d228ac6f4075e92"
        }
      ],
      "message": "txdb: `HaveCoin` delegate to `GetCoin`\n\nUsing `CDBWrapper::Exists()` can report an existing entry even if its value is corrupted and would fail to deserialize.\n\nDelegate to `GetCoin()` so database corruption is detected consistently.",
      "committer": {
        "name": "LÅ‘rinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-02-11T16:11:05Z"
      },
      "author": {
        "name": "LÅ‘rinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-02-11T11:02:59Z"
      },
      "sha": "f9cb17563fccd528e6cfdfbda77f5d53d311e14e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDBhZmRhZmQ5MjVjNDYwZjk5NTJhYmUxNjU4ZGE2YjY4ZjgzMGYzMzI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0afdafd925c460f9952abe1658da6b68f830f332",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/0afdafd925c460f9952abe1658da6b68f830f332",
      "tree": {
        "sha": "0bad6b6b2b18c85f64ada188e97a59ab0ba2b2c7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0bad6b6b2b18c85f64ada188e97a59ab0ba2b2c7"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 0bad6b6b2b18c85f64ada188e97a59ab0ba2b2c7\nparent f9cb17563fccd528e6cfdfbda77f5d53d311e14e\nauthor LÅ‘rinc <pap.lorinc@gmail.com> 1770819386 +0100\ncommitter LÅ‘rinc <pap.lorinc@gmail.com> 1770826265 +0100\n\ndbwrapper: route read failures through fatal callback\n\nRoute `CDBWrapper::ReadImpl` failures and `CDBWrapper::Read` deserialization failures through `FatalReadError`.\n\nBehavior change: corrupted existing entries no longer return `false`. Instead, log the failure, execute `read_error_cb`, and terminate via `std::abort`.\n\nNote: the chainstate `*.ldb` perturbation case in `feature_init.py` now hits the fatal read path (\"Cannot read from database, shutting down.\") instead of throwing `dbwrapper_error` and surfacing \"Error opening coins database.\".\n\nDB-open failures still throw `dbwrapper_error` and are handled by existing init error paths.\n\nInject a throwing `read_error_cb` in the unit test to assert the failure path before abort (hard to test it otherwise).\n\nSince `Read` cannot throw anymore for database corruption (we `std::abort`), the try/catch was removed from `CCoinsViewDB::GetCoin`.\n\nCo-authored-by: maflcko <6399679+maflcko@users.noreply.github.com>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqXy8dDLWkKQdUrTAZp//D/pHenYFAmmMqhkACgkQZp//D/pH\nenb6VhAApX44CoUXiuLcAzL66t39CWeOtGH3TnfzZkcrVp5N02s2GoNw/93IsiE6\njYqwD427pumjuDfISzBROFJkdX5Q9eqJUWTAplVzsD7RyrnAfK89XO59+0Z5IFiP\naprNBlBmYSJ6eOS1+stRBma3lx432vQ1ydpTDL39WUxyMTa7bsiRQi8AkhUPc9ss\nmri/SQsJPUkOP+EEVnT3UW7x3cbolJZLaFPcNidV59pLQSE+BCDjyX1le2jI6MYu\nnqaBT44YN4AQb0wbw3gdyo0kxl8JGgthdM0fqngaTmSHGLs4zLLTLser5ad0KRrD\niKaY5MnPQkwPzqqeSdLtRfKWH3gynW84bwodLFE+9DP9MjairtC+I8MrKvoXnhlV\nKTCUDvwuV26eoICoeuZhUBIG9DFWK2umqyX3Gh3Yuuwg8ClKbC1Z5fk6liSs8nKK\nvRE9NiJiasdTcgI3411a1ZNJbT4szV+hXT4cQNqDxY2uxTvEQWvAmLRxwj6PRD0f\neQJ/lnssLupYcE7qSVeIzP+tf3qwew9L4PypQvyDx/ayL9SozWRuZk+NMGTNVgSM\nxjNXtz2M0SsU0vwAdToDx55k1FzDmyNZKaWecarNzr7dl2p6+i+YBeTjSMVa1mNp\nZ5ji6a+7QR6AtjZJ/4tKfyq93LbL3R1Mw4shW9dpw8rmBmp9NKk=\n=GEAM\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f9cb17563fccd528e6cfdfbda77f5d53d311e14e",
          "sha": "f9cb17563fccd528e6cfdfbda77f5d53d311e14e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f9cb17563fccd528e6cfdfbda77f5d53d311e14e"
        }
      ],
      "message": "dbwrapper: route read failures through fatal callback\n\nRoute `CDBWrapper::ReadImpl` failures and `CDBWrapper::Read` deserialization failures through `FatalReadError`.\n\nBehavior change: corrupted existing entries no longer return `false`. Instead, log the failure, execute `read_error_cb`, and terminate via `std::abort`.\n\nNote: the chainstate `*.ldb` perturbation case in `feature_init.py` now hits the fatal read path (\"Cannot read from database, shutting down.\") instead of throwing `dbwrapper_error` and surfacing \"Error opening coins database.\".\n\nDB-open failures still throw `dbwrapper_error` and are handled by existing init error paths.\n\nInject a throwing `read_error_cb` in the unit test to assert the failure path before abort (hard to test it otherwise).\n\nSince `Read` cannot throw anymore for database corruption (we `std::abort`), the try/catch was removed from `CCoinsViewDB::GetCoin`.\n\nCo-authored-by: maflcko <6399679+maflcko@users.noreply.github.com>",
      "committer": {
        "name": "LÅ‘rinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-02-11T16:11:05Z"
      },
      "author": {
        "name": "LÅ‘rinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-02-11T14:16:26Z"
      },
      "sha": "0afdafd925c460f9952abe1658da6b68f830f332"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGMyMzJhZWVkNjEzZTU1NTY4MWZjM2IyNGVhNTJhM2RlZTY3ZGI5ZWU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c232aeed613e555681fc3b24ea52a3dee67db9ee",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c232aeed613e555681fc3b24ea52a3dee67db9ee",
      "tree": {
        "sha": "51b0c4e562aad46e7fffc0ceda7b65c23f205b33",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/51b0c4e562aad46e7fffc0ceda7b65c23f205b33"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 51b0c4e562aad46e7fffc0ceda7b65c23f205b33\nparent 0afdafd925c460f9952abe1658da6b68f830f332\nauthor LÅ‘rinc <pap.lorinc@gmail.com> 1769461266 +0100\ncommitter LÅ‘rinc <pap.lorinc@gmail.com> 1770826265 +0100\n\ncoins: make coins view lookups `noexcept`\n\nWith fatal DB read handling in place, mark `CCoinsView` lookup methods and cache hot-path helpers as `noexcept`.\nThis aligns interface guarantees with the terminate-on-read-error behavior.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqXy8dDLWkKQdUrTAZp//D/pHenYFAmmMqhkACgkQZp//D/pH\nenY58xAAxge5zTaYX5/FSkPHU9HtqQTgjGm47jvpmXm0fBInBOAXpPe7Rt8oFHvA\njMi0fjn+JRMnWKQl19MqSDwq+PotPtdobp1ADX0YtqM7UR7El6Kb/gyTc+l3LvOZ\nBzPwMUSQxEjAd0HhM37tSfWKWtmfRrBhk1IJhjm7hRo3kiYAYnVCMtMqpl0Xdsj3\nzJl5B/1T6ZozI2wEdn0D0BXs/GAXPSpcKXwJTE4P7SzjRM3HdY4hN5w6aH5ZyoKm\nUDAgXa3uTZZ7cfoeFv4Rfv28hG8klhbKCP8tS6umf8qmq8A6nBX107crcTX9Pk12\nqyiXiiwwTuP4InLpleKh2kJ85I+FmmdBEzc79U2aAGqekPi2Me2c+WnmAsdQ3X76\n/C3H69Rs4F2cyp2rPhl3yw9J2s+NJJnSp7byRj6Eo8ewC6CPmmP7c2e38AbVgBk0\ncbjkIR9zW5rzML8QSP1acfjYAMCB6+u8pEuwLUD3TeHC2xWHYQ7Besm3cyNsYU63\nf4mwbFI0vQH3IaxuSHyUTRtxrJ7bM4rE7D5n3tbolugPgNj+n9MToBpr4xSfCMXs\nv4gGK7IW5T5dafAv2exrxdCisVsBa1AG/SFkZqkwb+MYwxi3m6HKxmENeC+j7bXO\n4lQrCT/o/ygohIOCzQ0H5t75pnhmIREeoFMjr46bMBu/zFNbR5k=\n=hGdF\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0afdafd925c460f9952abe1658da6b68f830f332",
          "sha": "0afdafd925c460f9952abe1658da6b68f830f332",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/0afdafd925c460f9952abe1658da6b68f830f332"
        }
      ],
      "message": "coins: make coins view lookups `noexcept`\n\nWith fatal DB read handling in place, mark `CCoinsView` lookup methods and cache hot-path helpers as `noexcept`.\nThis aligns interface guarantees with the terminate-on-read-error behavior.",
      "committer": {
        "name": "LÅ‘rinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-02-11T16:11:05Z"
      },
      "author": {
        "name": "LÅ‘rinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-01-26T21:01:06Z"
      },
      "sha": "c232aeed613e555681fc3b24ea52a3dee67db9ee"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22708686911,
      "node_id": "HRFPE_lADOABII587fjBumzwAAAAVJixA_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22708686911",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "c232aeed613e555681fc3b24ea52a3dee67db9ee",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/c232aeed613e555681fc3b24ea52a3dee67db9ee",
      "created_at": "2026-02-11T16:11:16Z"
    },
    {
      "event": "commented",
      "id": 3885452197,
      "node_id": "IC_kwDOABII587nl0ul",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3885452197",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-11T16:14:09Z",
      "updated_at": "2026-02-11T16:14:09Z",
      "author_association": "CONTRIBUTOR",
      "body": "The latest push restructures the approach [significantly](https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2787587200) (after going through several other alternatives and commit orders and tests locally).\r\nInstead of catching exceptions at individual call sites just to run a shutdown callback, it threads a fatal `read_error_cb` down into `CDBWrapper` via `DBParams`, so all `Read()` users share the same behavior on corruption.\r\n\r\n`CDBWrapper::Read()` now catches deserialization exceptions and calls `FatalReadError()` which does `LogError` -> `m_read_error_cb()` -> `std::abort()`.\r\nThis enables us to completely remove call-site try/catch blocks and the awkward `CCoinsViewErrorCatcher` since there's nothing to catch anymore.\r\n\r\n`CDBWrapper::ReadImpl()` now routes non-`IsNotFound()` LevelDB read failures through `FatalReadError()` (`LogError` -> `read_error_cb` -> `std::abort`) instead of `HandleError()` (throw).\r\n\r\n`CDBWrapper::Read()` now treats deserialization failures as fatal via the same `FatalReadError()` path, so corruption is no longer indistinguishable from a missing key.\r\nWith fatal read handling at the source, the `CCoinsViewErrorCatcher` wrapper and call-site try/catch blocks are removed.\r\n\r\n`read_error_cb` is plumbed into index DBs as well (txindex, blockfilterindex, coinstatsindex), so index corruption surfaces the same shutdown message.\r\n\r\n`CCoinsViewDB::HaveCoin()` now delegates to `GetCoin()` to avoid reporting `exists` for semantically-corrupt entries (i.e. reads something that cannot be deserialized).\r\n\r\n`feature_coinsdb_read_error.py` covers shutdowns on coinsdb `gettxout` and txindex `getrawtransaction`, and documents current non-fatal behavior for iterator-based reads (`gettxoutsetinfo`).\r\n\r\n`src/test/dbwrapper_tests.cpp` adds coverage for `CDBWrapper::Read()` deserialization failures.\r\n\r\n`CDBIterator::GetKey`/`GetValue` still return `false` on decode errors (TODOs added).\r\n\r\n`feature_init.py`: the chainstate `*.ldb` perturbation case now expects `Cannot read from database, shutting down.` (fatal read path) instead of `Error opening coins database.` (throw from `HandleError()`); a separate `chainstate/CURRENT` perturbation keeps covering the db-open failure message.\r\n",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#issuecomment-3885452197",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34132"
    },
    {
      "event": "ready_for_review",
      "id": 22708826113,
      "node_id": "RFRE_lADOABII587fjBumzwAAAAVJjTAB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22708826113",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-11T16:16:10Z"
    },
    {
      "event": "unlabeled",
      "id": 22711879185,
      "node_id": "UNLE_lADOABII587fjBumzwAAAAVJu8YR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22711879185",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-11T18:05:08Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 22936760253,
      "node_id": "LE_lADOABII587fjBumzwAAAAVXIy-9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22936760253",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-20T04:05:24Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 3931488342,
      "node_id": "IC_kwDOABII587qVcBW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3931488342",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-20T04:05:25Z",
      "updated_at": "2026-02-20T04:05:25Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--cf906140f33d8803c4a75a2196329ecb-->\nðŸ™ This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#issuecomment-3931488342",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34132"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2659843996",
      "pull_request_review_id": 3625121433,
      "id": 2659843996,
      "node_id": "PRRC_kwDOABII586eif-c",
      "diff_hunk": "@@ -1364,7 +1364,7 @@ static ChainstateLoadResult InitAndLoadChainstate(\n     options.require_full_verification = args.IsArgSet(\"-checkblocks\") || args.IsArgSet(\"-checklevel\");\n     options.coins_error_cb = [] {\n         uiInterface.ThreadSafeMessageBox(\n-            _(\"Error reading from database, shutting down.\"),\n+            _(\"Cannot read database, shutting down.\"),",
      "path": "src/init.cpp",
      "position": 1,
      "original_position": 5,
      "commit_id": "0973a03b76566881c5f207e5b11837f0f7ef66dd",
      "original_commit_id": "83d2b3eaca10a717b00058e1a4321912be7b95c9",
      "in_reply_to_id": null,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "nit\r\n```suggestion\r\n            _(\"Cannot read from database, shutting down.\"),\r\n```",
      "created_at": "2026-01-04T18:27:07Z",
      "updated_at": "2026-01-04T18:40:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2659843996",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2659843996"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1367,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2659845168",
      "pull_request_review_id": 3625121433,
      "id": 2659845168,
      "node_id": "PRRC_kwDOABII586eigQw",
      "diff_hunk": "@@ -0,0 +1,37 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test that coins database read errors trigger a shutdown message.\"\"\"\n+import platform\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class CoinsDBReadErrorTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        self.skip_if_no_ipc()",
      "path": "test/functional/feature_coinsdb_read_error.py",
      "position": 1,
      "original_position": 18,
      "commit_id": "0973a03b76566881c5f207e5b11837f0f7ef66dd",
      "original_commit_id": "83d2b3eaca10a717b00058e1a4321912be7b95c9",
      "in_reply_to_id": null,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> `skip_if_no_ipc` was added to the test since on `i686, no IPC` the db corruption didn't trigger any failure.\r\n\r\nDo we know why?",
      "created_at": "2026-01-04T18:29:37Z",
      "updated_at": "2026-01-04T18:40:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2659845168",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2659845168"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2662744693",
      "pull_request_review_id": 3628354629,
      "id": 2662744693,
      "node_id": "PRRC_kwDOABII586etkJ1",
      "diff_hunk": "@@ -0,0 +1,37 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test that coins database read errors trigger a shutdown message.\"\"\"\n+import platform\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class CoinsDBReadErrorTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        self.skip_if_no_ipc()",
      "path": "test/functional/feature_coinsdb_read_error.py",
      "position": 1,
      "original_position": 18,
      "commit_id": "0973a03b76566881c5f207e5b11837f0f7ef66dd",
      "original_commit_id": "83d2b3eaca10a717b00058e1a4321912be7b95c9",
      "in_reply_to_id": 2659845168,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I don't, I just noticed that the ci failed because the db corruption didn't cause the read to fail. I'm wondering if there's some intermediary cache that prevented the read from disk. Tried restarting the node and doing a few other tricks, but the node never crashed on `i686, no IPC` when I corrupted the db... Maybe @ryanofsky can help us out here...",
      "created_at": "2026-01-05T20:40:45Z",
      "updated_at": "2026-01-05T20:40:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2662744693",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2662744693"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2664068476",
      "pull_request_review_id": 3629903117,
      "id": 2664068476,
      "node_id": "PRRC_kwDOABII586eynV8",
      "diff_hunk": "@@ -0,0 +1,37 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test that coins database read errors trigger a shutdown message.\"\"\"\n+import platform\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class CoinsDBReadErrorTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        self.skip_if_no_ipc()",
      "path": "test/functional/feature_coinsdb_read_error.py",
      "position": 1,
      "original_position": 18,
      "commit_id": "0973a03b76566881c5f207e5b11837f0f7ef66dd",
      "original_commit_id": "83d2b3eaca10a717b00058e1a4321912be7b95c9",
      "in_reply_to_id": 2659845168,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "It fails on all 32-bit architectures, it seems. E.g. armhf:\r\n\r\n```\r\nfeature_coinsdb_read_error.py                                                    | âœ– Failed  | 80 s",
      "created_at": "2026-01-06T08:18:13Z",
      "updated_at": "2026-01-06T08:18:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2664068476",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2664068476"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2679121949",
      "pull_request_review_id": 3647331992,
      "id": 2679121949,
      "node_id": "PRRC_kwDOABII586fsCgd",
      "diff_hunk": "@@ -0,0 +1,37 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test that coins database read errors trigger a shutdown message.\"\"\"\n+import platform\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class CoinsDBReadErrorTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        self.skip_if_no_ipc()",
      "path": "test/functional/feature_coinsdb_read_error.py",
      "position": 1,
      "original_position": 18,
      "commit_id": "0973a03b76566881c5f207e5b11837f0f7ef66dd",
      "original_commit_id": "83d2b3eaca10a717b00058e1a4321912be7b95c9",
      "in_reply_to_id": 2659845168,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Was a bit more involved to find out why this is the case and why the test is failing.\r\nReproduced it with https://github.com/l0rinc/bitcoin/actions/runs/20884565973/job/60007051301?pr=90\r\n\r\nThe trick was that on 64-bit systems, `LevelDB` uses `mmap` which reflects file changes immediately - this is what we we're used to. But on 32-bit systems (i686, armhf), `mmap` is disabled (`kDefaultMmapLimit=0` in `leveldb/util/env_posix.cc`), so `LevelDB` uses block cache which serves stale data. So the corruption on disk isn't reflected during runtime. The node must be restarted after corruption to clear the cache, but it usually fails immediately because of the `paranoid_checks`. Managed to work around that by corrupting the middle and turning off a few sanity checks on restart.\r\n\r\nAdjusted the tests, https://github.com/l0rinc/bitcoin/actions/runs/20885734265/job/60009569692?pr=90 indicates it's working on both platforms now.",
      "created_at": "2026-01-11T00:44:37Z",
      "updated_at": "2026-01-11T00:44:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2679121949",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2679121949"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2679121968",
      "pull_request_review_id": 3647332014,
      "id": 2679121968,
      "node_id": "PRRC_kwDOABII586fsCgw",
      "diff_hunk": "@@ -1364,7 +1364,7 @@ static ChainstateLoadResult InitAndLoadChainstate(\n     options.require_full_verification = args.IsArgSet(\"-checkblocks\") || args.IsArgSet(\"-checklevel\");\n     options.coins_error_cb = [] {\n         uiInterface.ThreadSafeMessageBox(\n-            _(\"Error reading from database, shutting down.\"),\n+            _(\"Cannot read database, shutting down.\"),",
      "path": "src/init.cpp",
      "position": 1,
      "original_position": 5,
      "commit_id": "0973a03b76566881c5f207e5b11837f0f7ef66dd",
      "original_commit_id": "83d2b3eaca10a717b00058e1a4321912be7b95c9",
      "in_reply_to_id": 2659843996,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Done",
      "created_at": "2026-01-11T00:44:41Z",
      "updated_at": "2026-01-11T00:44:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2679121968",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2679121968"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1367,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2680070358",
      "pull_request_review_id": 3648297222,
      "id": 2680070358,
      "node_id": "PRRC_kwDOABII586fvqDW",
      "diff_hunk": "@@ -1362,9 +1362,9 @@ static ChainstateLoadResult InitAndLoadChainstate(\n     options.check_blocks = args.GetIntArg(\"-checkblocks\", DEFAULT_CHECKBLOCKS);\n     options.check_level = args.GetIntArg(\"-checklevel\", DEFAULT_CHECKLEVEL);\n     options.require_full_verification = args.IsArgSet(\"-checkblocks\") || args.IsArgSet(\"-checklevel\");\n-    options.coins_error_cb = [] {\n+    options.read_error_cb = [] {",
      "path": "src/init.cpp",
      "position": 1,
      "original_position": 5,
      "commit_id": "f0325b16a8da78c073b357568822de2c4d8589c7",
      "original_commit_id": "4ae1f793d6718edf7a94fb032a2a7423105e85bd",
      "in_reply_to_id": null,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Is there a way to verify that this callback is still being executed in the functional test?\r\nMaybe add a debug log that we can assert?",
      "created_at": "2026-01-11T18:51:32Z",
      "updated_at": "2026-01-11T18:51:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2680070358",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2680070358"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1365,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2680107724",
      "pull_request_review_id": 3648335713,
      "id": 2680107724,
      "node_id": "PRRC_kwDOABII586fvzLM",
      "diff_hunk": "@@ -1362,9 +1362,9 @@ static ChainstateLoadResult InitAndLoadChainstate(\n     options.check_blocks = args.GetIntArg(\"-checkblocks\", DEFAULT_CHECKBLOCKS);\n     options.check_level = args.GetIntArg(\"-checklevel\", DEFAULT_CHECKLEVEL);\n     options.require_full_verification = args.IsArgSet(\"-checkblocks\") || args.IsArgSet(\"-checklevel\");\n-    options.coins_error_cb = [] {\n+    options.read_error_cb = [] {",
      "path": "src/init.cpp",
      "position": 1,
      "original_position": 5,
      "commit_id": "f0325b16a8da78c073b357568822de2c4d8589c7",
      "original_commit_id": "4ae1f793d6718edf7a94fb032a2a7423105e85bd",
      "in_reply_to_id": 2680070358,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Is that now what we're doing now? Can you add a diff for how you imagine it? I went through a thousand iterations for that test until I found this one that works on all CI :).\r\nIf you have a better one to validate the read_error_cb error, let me know.",
      "created_at": "2026-01-11T19:15:36Z",
      "updated_at": "2026-01-11T19:15:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2680107724",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2680107724"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1365,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2680146712",
      "pull_request_review_id": 3648378088,
      "id": 2680146712,
      "node_id": "PRRC_kwDOABII586fv8sY",
      "diff_hunk": "@@ -1362,9 +1362,9 @@ static ChainstateLoadResult InitAndLoadChainstate(\n     options.check_blocks = args.GetIntArg(\"-checkblocks\", DEFAULT_CHECKBLOCKS);\n     options.check_level = args.GetIntArg(\"-checklevel\", DEFAULT_CHECKLEVEL);\n     options.require_full_verification = args.IsArgSet(\"-checkblocks\") || args.IsArgSet(\"-checklevel\");\n-    options.coins_error_cb = [] {\n+    options.read_error_cb = [] {",
      "path": "src/init.cpp",
      "position": 1,
      "original_position": 5,
      "commit_id": "f0325b16a8da78c073b357568822de2c4d8589c7",
      "original_commit_id": "4ae1f793d6718edf7a94fb032a2a7423105e85bd",
      "in_reply_to_id": 2680070358,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Right nvm, LGTM.",
      "created_at": "2026-01-11T19:39:53Z",
      "updated_at": "2026-01-11T19:39:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2680146712",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2680146712"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1365,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2682196113",
      "pull_request_review_id": 3650676738,
      "id": 2682196113,
      "node_id": "PRRC_kwDOABII586f3xCR",
      "diff_hunk": "@@ -0,0 +1,43 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test that coins database read errors trigger a shutdown message.\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class CoinsDBReadErrorTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+\n+        # Stop node to clear LevelDB block cache (required for 32-bit where mmap is disabled)\n+        self.stop_node(0)\n+\n+        for ldb_path in (node.chain_path / \"chainstate\").glob(\"*.ldb\"):\n+            with open(ldb_path, \"r+b\") as f:\n+                f.seek(ldb_path.stat().st_size // 2)\n+                f.write(b'\\xff')\n+\n+        self.start_node(0, extra_args=[\"-checkblocks=0\", \"-checklevel=0\"])\n+\n+        with node.assert_debug_log([\"block checksum mismatch\"]):\n+            try:\n+                for height in range(1, node.getblockcount() + 1):\n+                    txid = node.getblock(node.getblockhash(height))[\"tx\"][0]\n+                    node.gettxout(txid, 0)\n+            except Exception:",
      "path": "test/functional/feature_coinsdb_read_error.py",
      "position": 1,
      "original_position": 34,
      "commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "original_commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "nit in the first commit: A wildcard Exception is always a bit hard to read, as to what it means.\n\nI think in this context, we want all exceptions to be fatal aborts.\n\nSo this could be written as:\n\n\n```py\n   # All exceptions here should be fatal aborts.\n  except (http.client.CannotSendRequest, http.client.RemoteDisconnected) as e:\n```\n\nThis will also make the inducted test failure (mentioned in the commit message) nicer to read, and a lot faster.",
      "created_at": "2026-01-12T13:04:42Z",
      "updated_at": "2026-01-12T13:04:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2682196113",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2682196113"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 34,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2682753313",
      "pull_request_review_id": 3651341814,
      "id": 2682753313,
      "node_id": "PRRC_kwDOABII586f55Eh",
      "diff_hunk": "@@ -0,0 +1,43 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test that coins database read errors trigger a shutdown message.\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class CoinsDBReadErrorTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+\n+        # Stop node to clear LevelDB block cache (required for 32-bit where mmap is disabled)\n+        self.stop_node(0)\n+\n+        for ldb_path in (node.chain_path / \"chainstate\").glob(\"*.ldb\"):\n+            with open(ldb_path, \"r+b\") as f:\n+                f.seek(ldb_path.stat().st_size // 2)\n+                f.write(b'\\xff')\n+\n+        self.start_node(0, extra_args=[\"-checkblocks=0\", \"-checklevel=0\"])\n+\n+        with node.assert_debug_log([\"block checksum mismatch\"]):\n+            try:\n+                for height in range(1, node.getblockcount() + 1):\n+                    txid = node.getblock(node.getblockhash(height))[\"tx\"][0]\n+                    node.gettxout(txid, 0)\n+            except Exception:",
      "path": "test/functional/feature_coinsdb_read_error.py",
      "position": 1,
      "original_position": 34,
      "commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "original_commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "in_reply_to_id": 2682196113,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Also, in the first commit: This is unrelated to this refactor, but if the `HaveCoin` is dead code, then I suspect that https://github.com/bitcoin/bitcoin/pull/26331 did not fix https://github.com/bitcoin/bitcoin/issues/26112.\r\n\r\nWith this diff, I get the crash traceback:\r\n\r\n```diff\r\ndiff --git a/src/coins.cpp b/src/coins.cpp\r\nindex 7f2ffc38ef..53716f4e87 100644\r\n--- a/src/coins.cpp\r\n+++ b/src/coins.cpp\r\n@@ -376,6 +376,7 @@ static ReturnType ExecuteBackedWrapper(Func func, const std::vector<std::functio\r\n         // interpreted as 'entry not found' (as opposed to unable to read data), and\r\n         // could lead to invalid interpretation. Just exit immediately, as we can't\r\n         // continue anyway, and all writes should be atomic.\r\n+        assert(false);\r\n         std::abort();\r\n     }\r\n }\r\n@@ -387,5 +388,6 @@ std::optional<Coin> CCoinsViewErrorCatcher::GetCoin(const COutPoint& outpoint) c\r\n \r\n bool CCoinsViewErrorCatcher::HaveCoin(const COutPoint& outpoint) const\r\n {\r\n+        assert(false);\r\n     return ExecuteBackedWrapper<bool>([&]() { return CCoinsViewBacked::HaveCoin(outpoint); }, m_err_callbacks);\r\n }\r\ndiff --git a/test/functional/feature_coinsdb_read_error.py b/test/functional/feature_coinsdb_read_error.py\r\nindex 3f0dff0893..942e0ee0e0 100755\r\n--- a/test/functional/feature_coinsdb_read_error.py\r\n+++ b/test/functional/feature_coinsdb_read_error.py\r\n@@ -6,6 +6,7 @@\r\n \"\"\"Test that coins database read errors trigger a shutdown message.\"\"\"\r\n \r\n from test_framework.test_framework import BitcoinTestFramework\r\n+from test_framework.wallet import MiniWallet\r\n \r\n \r\n class CoinsDBReadErrorTest(BitcoinTestFramework):\r\n@@ -16,6 +17,9 @@ class CoinsDBReadErrorTest(BitcoinTestFramework):\r\n     def run_test(self):\r\n         node = self.nodes[0]\r\n \r\n+        miniwallet = MiniWallet(node)\r\n+        utxos = miniwallet.get_utxos(mark_as_spent=False)\r\n+\r\n         # Stop node to clear LevelDB block cache (required for 32-bit where mmap is disabled)\r\n         self.stop_node(0)\r\n \r\n@@ -27,12 +31,11 @@ class CoinsDBReadErrorTest(BitcoinTestFramework):\r\n         self.start_node(0, extra_args=[\"-checkblocks=0\", \"-checklevel=0\"])\r\n \r\n         with node.assert_debug_log([\"block checksum mismatch\"]):\r\n-            try:\r\n-                for height in range(1, node.getblockcount() + 1):\r\n-                    txid = node.getblock(node.getblockhash(height))[\"tx\"][0]\r\n-                    node.gettxout(txid, 0)\r\n-            except Exception:\r\n-                pass\r\n+         for utxo in utxos:\r\n+            tx = miniwallet.create_self_transfer(utxo_to_spend=utxo)\r\n+            self.generateblock(node, output=\"raw(55)\", transactions=[tx[\"hex\"]])\r\n+            #testres = node.testmempoolaccept([tx[\"hex\"]])[0]\r\n+            #assert testres[\"allowed\"], testres\r\n \r\n         node.wait_until(lambda: node.process.poll())\r\n         assert node.is_node_stopped(expected_stderr=\"Error: Cannot read from database, shutting down.\",\r\n```\r\n\r\n```\r\n==68989==    by 0x4A8C782: ExecuteBackedWrapper<std::optional<Coin>, (lambda at ./coins.cpp:386:54)> (./coins.cpp:379)\r\n==68989==    by 0x4A8C782: CCoinsViewErrorCatcher::GetCoin(COutPoint const&) const (???:386)\r\n==68989==    by 0x4A8A3B9: CCoinsViewCache::FetchCoin(COutPoint const&) const (./coins.cpp:55)\r\n==68989==    by 0x4A8A605: CCoinsViewCache::GetCoin(COutPoint const&) const (./coins.cpp:72)\r\n==68989==    by 0x4A8A3B9: CCoinsViewCache::FetchCoin(COutPoint const&) const (./coins.cpp:55)\r\n==68989==    by 0x4A8B286: CCoinsViewCache::HaveCoin(COutPoint const&) const (./coins.cpp:171)\r\n==68989==    by 0x4A8C25F: CCoinsViewCache::HaveInputs(CTransaction const&) const (./coins.cpp:300)\r\n==68989==    by 0x438BB00: Consensus::CheckTxInputs(CTransaction const&, TxValidationState&, CCoinsViewCache const&, int, long&) (./consensus/tx_verify.cpp:167)\r\n==68989==    by 0x479C492: Chainstate::ConnectBlock(CBlock const&, BlockValidationState&, CBlockIndex*, CCoinsViewCache&, bool) (./validation.cpp:2564)\r\n```\r\n\r\nSo the suggestion in https://github.com/bitcoin/bitcoin/issues/26112#issuecomment-1249683401 and the resulting pull request  likely did not  pinpoint and fix the bug.",
      "created_at": "2026-01-12T15:24:01Z",
      "updated_at": "2026-01-12T15:24:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2682753313",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2682753313"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 34,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2683179229",
      "pull_request_review_id": 3651845064,
      "id": 2683179229,
      "node_id": "PRRC_kwDOABII586f7hDd",
      "diff_hunk": "@@ -0,0 +1,43 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test that coins database read errors trigger a shutdown message.\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class CoinsDBReadErrorTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+\n+        # Stop node to clear LevelDB block cache (required for 32-bit where mmap is disabled)\n+        self.stop_node(0)\n+\n+        for ldb_path in (node.chain_path / \"chainstate\").glob(\"*.ldb\"):\n+            with open(ldb_path, \"r+b\") as f:\n+                f.seek(ldb_path.stat().st_size // 2)\n+                f.write(b'\\xff')\n+\n+        self.start_node(0, extra_args=[\"-checkblocks=0\", \"-checklevel=0\"])\n+\n+        with node.assert_debug_log([\"block checksum mismatch\"]):\n+            try:\n+                for height in range(1, node.getblockcount() + 1):\n+                    txid = node.getblock(node.getblockhash(height))[\"tx\"][0]\n+                    node.gettxout(txid, 0)\n+            except Exception:",
      "path": "test/functional/feature_coinsdb_read_error.py",
      "position": 1,
      "original_position": 34,
      "commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "original_commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "in_reply_to_id": 2682196113,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> This will also make the inducted test failure (mentioned in the commit message) nicer to read, and a lot faster.\r\n\r\nI don't expect the failure case to happen often, so the speed doesn't really matter, but the error message is a lot clearer this way:\r\n```\r\n     node.gettxout(txid, 0)\r\n    ~~~~~~~~~~~~~^^^^^^^^^\r\n```\r\n\r\nThanks for the suggestion, updated in https://github.com/bitcoin/bitcoin/compare/4ae1f793d6718edf7a94fb032a2a7423105e85bd..36a01d082a860ae060c93525c9a0ffe974a9f729, added you as coauthor.\r\n\r\n----------\r\n\r\n> if the HaveCoin is dead code, then I suspect that https://github.com/bitcoin/bitcoin/pull/26331 did not fix https://github.com/bitcoin/bitcoin/issues/26112.\r\n\r\n`CCoinsViewDB::HaveCoin` seems to be the reason for why `HaveCoin` was introduced in the first place https://github.com/bitcoin/bitcoin/blob/d3063740684f51722850e6ffec290951913fa56d/src/txdb.cpp#L81-L90\r\nin other cases we could just call `GetCoin` (most implementations actually do).\r\n\r\nThe underlying `Exists` https://github.com/bitcoin/bitcoin/blob/a9b7f5614c24fe6f386448604c325ec4fa6c98a5/src/dbwrapper.h#L234-L241 avoid serialization of `Read` https://github.com/bitcoin/bitcoin/blob/a9b7f5614c24fe6f386448604c325ec4fa6c98a5/src/dbwrapper.h#L206-L224\r\n\r\nExplicitly throwing from `CCoinsViewDB::HaveCoin` and replacing the test-only `HaveCoin` calls with `GetCoin` in `coins_tests.cpp` indicates that we don't have any production `HaveCoin` calls going to disk. The same is confirmed by keeping the exception and starting `bitcoind`.\r\n\r\n<details>\r\n<summary>Patch</summary>\r\n\r\n```patch\r\ndiff --git a/src/test/coins_tests.cpp b/src/test/coins_tests.cpp\r\nindex 6396fce60a..c6c8fb9229 100644\r\n--- a/src/test/coins_tests.cpp\r\n+++ b/src/test/coins_tests.cpp\r\n@@ -160,7 +160,7 @@ void SimulationTest(CCoinsView* base, bool fake_best_block)\r\n             bool test_havecoin_before = m_rng.randbits(2) == 0;\r\n             bool test_havecoin_after = m_rng.randbits(2) == 0;\r\n \r\n-            bool result_havecoin = test_havecoin_before ? stack.back()->HaveCoin(COutPoint(txid, 0)) : false;\r\n+            bool result_havecoin = test_havecoin_before ? !!stack.back()->GetCoin(COutPoint(txid, 0)) : false;\r\n \r\n             // Infrequently, test usage of AccessByTxid instead of AccessCoin - the\r\n             // former just delegates to the latter and returns the first unspent in a txn.\r\n@@ -173,7 +173,7 @@ void SimulationTest(CCoinsView* base, bool fake_best_block)\r\n             }\r\n \r\n             if (test_havecoin_after) {\r\n-                bool ret = stack.back()->HaveCoin(COutPoint(txid, 0));\r\n+                bool ret = !!stack.back()->GetCoin(COutPoint(txid, 0));\r\n                 BOOST_CHECK(ret == !entry.IsSpent());\r\n             }\r\n \r\n@@ -214,7 +214,7 @@ void SimulationTest(CCoinsView* base, bool fake_best_block)\r\n         // Once every 1000 iterations and at the end, verify the full cache.\r\n         if (m_rng.randrange(1000) == 1 || i == NUM_SIMULATION_ITERATIONS - 1) {\r\n             for (const auto& entry : result) {\r\n-                bool have = stack.back()->HaveCoin(entry.first);\r\n+                bool have = !!stack.back()->GetCoin(entry.first);\r\n                 const Coin& coin = stack.back()->AccessCoin(entry.first);\r\n                 BOOST_CHECK(have == !coin.IsSpent());\r\n                 BOOST_CHECK(coin == entry.second);\r\n@@ -473,7 +473,7 @@ BOOST_FIXTURE_TEST_CASE(updatecoins_simulation_test, UpdateTest)\r\n         // Once every 1000 iterations and at the end, verify the full cache.\r\n         if (m_rng.randrange(1000) == 1 || i == NUM_SIMULATION_ITERATIONS - 1) {\r\n             for (const auto& entry : result) {\r\n-                bool have = stack.back()->HaveCoin(entry.first);\r\n+                bool have = !!stack.back()->GetCoin(entry.first);\r\n                 const Coin& coin = stack.back()->AccessCoin(entry.first);\r\n                 BOOST_CHECK(have == !coin.IsSpent());\r\n                 BOOST_CHECK(coin == entry.second);\r\n@@ -920,8 +920,8 @@ void TestFlushBehavior(\r\n     COutPoint outp = COutPoint(txid, 0);\r\n     Coin coin = MakeCoin();\r\n     // Ensure the coins views haven't seen this coin before.\r\n-    BOOST_CHECK(!base.HaveCoin(outp));\r\n-    BOOST_CHECK(!view->HaveCoin(outp));\r\n+    BOOST_CHECK(!base.GetCoin(outp));\r\n+    BOOST_CHECK(!view->GetCoin(outp));\r\n \r\n     // --- 1. Adding a random coin to the child cache\r\n     //\r\n@@ -931,8 +931,8 @@ void TestFlushBehavior(\r\n     cache_size = view->map().size();\r\n \r\n     // `base` shouldn't have coin (no flush yet) but `view` should have cached it.\r\n-    BOOST_CHECK(!base.HaveCoin(outp));\r\n-    BOOST_CHECK(view->HaveCoin(outp));\r\n+    BOOST_CHECK(!base.GetCoin(outp));\r\n+    BOOST_CHECK(!!view->GetCoin(outp));\r\n \r\n     BOOST_CHECK_EQUAL(GetCoinsMapEntry(view->map(), outp), CoinEntry(coin.out.nValue, CoinEntry::State::DIRTY_FRESH));\r\n \r\n@@ -949,8 +949,8 @@ void TestFlushBehavior(\r\n     BOOST_CHECK_EQUAL(GetCoinsMapEntry(view->map(), outp), CoinEntry(coin.out.nValue, CoinEntry::State::CLEAN)); // State should have been wiped.\r\n \r\n     // Both views should now have the coin.\r\n-    BOOST_CHECK(base.HaveCoin(outp));\r\n-    BOOST_CHECK(view->HaveCoin(outp));\r\n+    BOOST_CHECK(!!base.GetCoin(outp));\r\n+    BOOST_CHECK(!!view->GetCoin(outp));\r\n \r\n     if (do_erasing_flush) {\r\n         // --- 4. Flushing the caches again (with erasing)\r\n@@ -981,14 +981,14 @@ void TestFlushBehavior(\r\n \r\n     // The coin should be in the cache, but spent and marked dirty.\r\n     BOOST_CHECK_EQUAL(GetCoinsMapEntry(view->map(), outp), SPENT_DIRTY);\r\n-    BOOST_CHECK(!view->HaveCoin(outp)); // Coin should be considered spent in `view`.\r\n-    BOOST_CHECK(base.HaveCoin(outp));  // But coin should still be unspent in `base`.\r\n+    BOOST_CHECK(!view->GetCoin(outp)); // Coin should be considered spent in `view`.\r\n+    BOOST_CHECK(!!base.GetCoin(outp));  // But coin should still be unspent in `base`.\r\n \r\n     flush_all(/*erase=*/ false);\r\n \r\n     // Coin should be considered spent in both views.\r\n-    BOOST_CHECK(!view->HaveCoin(outp));\r\n-    BOOST_CHECK(!base.HaveCoin(outp));\r\n+    BOOST_CHECK(!view->GetCoin(outp));\r\n+    BOOST_CHECK(!base.GetCoin(outp));\r\n \r\n     // Spent coin should not be spendable.\r\n     BOOST_CHECK(!view->SpendCoin(outp));\r\n@@ -999,21 +999,21 @@ void TestFlushBehavior(\r\n     txid = Txid::FromUint256(m_rng.rand256());\r\n     outp = COutPoint(txid, 0);\r\n     coin = MakeCoin();\r\n-    BOOST_CHECK(!base.HaveCoin(outp));\r\n-    BOOST_CHECK(!all_caches[0]->HaveCoin(outp));\r\n-    BOOST_CHECK(!all_caches[1]->HaveCoin(outp));\r\n+    BOOST_CHECK(!base.GetCoin(outp));\r\n+    BOOST_CHECK(!all_caches[0]->GetCoin(outp));\r\n+    BOOST_CHECK(!all_caches[1]->GetCoin(outp));\r\n \r\n     all_caches[0]->AddCoin(outp, std::move(coin), false);\r\n     all_caches[0]->Sync();\r\n-    BOOST_CHECK(base.HaveCoin(outp));\r\n-    BOOST_CHECK(all_caches[0]->HaveCoin(outp));\r\n+    BOOST_CHECK(!!base.GetCoin(outp));\r\n+    BOOST_CHECK(!!all_caches[0]->GetCoin(outp));\r\n     BOOST_CHECK(!all_caches[1]->HaveCoinInCache(outp));\r\n \r\n     BOOST_CHECK(all_caches[1]->SpendCoin(outp));\r\n     flush_all(/*erase=*/ false);\r\n-    BOOST_CHECK(!base.HaveCoin(outp));\r\n-    BOOST_CHECK(!all_caches[0]->HaveCoin(outp));\r\n-    BOOST_CHECK(!all_caches[1]->HaveCoin(outp));\r\n+    BOOST_CHECK(!base.GetCoin(outp));\r\n+    BOOST_CHECK(!all_caches[0]->GetCoin(outp));\r\n+    BOOST_CHECK(!all_caches[1]->GetCoin(outp));\r\n \r\n     flush_all(/*erase=*/ true); // Erase all cache content.\r\n \r\n@@ -1023,9 +1023,9 @@ void TestFlushBehavior(\r\n     outp = COutPoint(txid, 0);\r\n     coin = MakeCoin();\r\n     CAmount coin_val = coin.out.nValue;\r\n-    BOOST_CHECK(!base.HaveCoin(outp));\r\n-    BOOST_CHECK(!all_caches[0]->HaveCoin(outp));\r\n-    BOOST_CHECK(!all_caches[1]->HaveCoin(outp));\r\n+    BOOST_CHECK(!base.GetCoin(outp));\r\n+    BOOST_CHECK(!all_caches[0]->GetCoin(outp));\r\n+    BOOST_CHECK(!all_caches[1]->GetCoin(outp));\r\n \r\n     // Add and spend from same cache without flushing.\r\n     all_caches[0]->AddCoin(outp, std::move(coin), false);\r\n@@ -1033,7 +1033,7 @@ void TestFlushBehavior(\r\n     // Coin should be FRESH in the cache.\r\n     BOOST_CHECK_EQUAL(GetCoinsMapEntry(all_caches[0]->map(), outp), CoinEntry(coin_val, CoinEntry::State::DIRTY_FRESH));\r\n     // Base shouldn't have seen coin.\r\n-    BOOST_CHECK(!base.HaveCoin(outp));\r\n+    BOOST_CHECK(!base.GetCoin(outp));\r\n \r\n     BOOST_CHECK(all_caches[0]->SpendCoin(outp));\r\n     all_caches[0]->Sync();\r\n@@ -1041,7 +1041,7 @@ void TestFlushBehavior(\r\n     // Ensure there is no sign of the coin after spend/flush.\r\n     BOOST_CHECK(!GetCoinsMapEntry(all_caches[0]->map(), outp));\r\n     BOOST_CHECK(!all_caches[0]->HaveCoinInCache(outp));\r\n-    BOOST_CHECK(!base.HaveCoin(outp));\r\n+    BOOST_CHECK(!base.GetCoin(outp));\r\n }\r\n }; // struct FlushTest\r\n \r\ndiff --git a/src/txdb.cpp b/src/txdb.cpp\r\nindex 1dc20717bc..6613b72f7b 100644\r\n--- a/src/txdb.cpp\r\n+++ b/src/txdb.cpp\r\n@@ -80,13 +80,7 @@ std::optional<Coin> CCoinsViewDB::GetCoin(const COutPoint& outpoint) const\r\n \r\n bool CCoinsViewDB::HaveCoin(const COutPoint& outpoint) const\r\n {\r\n-    try {\r\n-        return m_db->Exists(CoinEntry(&outpoint));\r\n-    } catch (const std::runtime_error& e) {\r\n-        m_read_error_cb();\r\n-        LogError(\"Database error in HaveCoin: %s\", e.what());\r\n-        std::abort();\r\n-    }\r\n+    throw \"CCoinsViewDB::HaveCoin\"; // TODO see who fails this way\r\n }\r\n \r\n uint256 CCoinsViewDB::GetBestBlock() const {\r\n```\r\n\r\n</details>\r\n\r\n-------\r\n\r\n> https://github.com/bitcoin/bitcoin/pull/26331 did not fix https://github.com/bitcoin/bitcoin/issues/26112.\r\n\r\nI will investigate that, thanks for bringing them to my attention. \r\n\r\n-------\r\n\r\nEdit: `i686, no IPC` disagreed with the previous exceptions, trying something broader: https://github.com/bitcoin/bitcoin/actions/runs/20928505545/job/60133010356?pr=34132",
      "created_at": "2026-01-12T17:16:35Z",
      "updated_at": "2026-01-12T18:48:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2683179229",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2683179229"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 34,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2685521121",
      "pull_request_review_id": 3654696257,
      "id": 2685521121,
      "node_id": "PRRC_kwDOABII586gEczh",
      "diff_hunk": "@@ -0,0 +1,43 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test that coins database read errors trigger a shutdown message.\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class CoinsDBReadErrorTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+\n+        # Stop node to clear LevelDB block cache (required for 32-bit where mmap is disabled)\n+        self.stop_node(0)\n+\n+        for ldb_path in (node.chain_path / \"chainstate\").glob(\"*.ldb\"):\n+            with open(ldb_path, \"r+b\") as f:\n+                f.seek(ldb_path.stat().st_size // 2)\n+                f.write(b'\\xff')\n+\n+        self.start_node(0, extra_args=[\"-checkblocks=0\", \"-checklevel=0\"])\n+\n+        with node.assert_debug_log([\"block checksum mismatch\"]):\n+            try:\n+                for height in range(1, node.getblockcount() + 1):\n+                    txid = node.getblock(node.getblockhash(height))[\"tx\"][0]\n+                    node.gettxout(txid, 0)\n+            except Exception:",
      "path": "test/functional/feature_coinsdb_read_error.py",
      "position": 1,
      "original_position": 34,
      "commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "original_commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "in_reply_to_id": 2682196113,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I think you can pick the same list, like in test/functional/rpc_misc.py:\r\n\r\n```py\r\n...\r\n        except (\r\n                subprocess.CalledProcessError,\r\n                http.client.CannotSendRequest,\r\n                http.client.RemoteDisconnected,\r\n        ):\r\n            self.log.info(\"Restart node after crash\")\r\n...\r\n```\r\n\r\nthe subprocess one is for `bitcoin-cli`, and the others are for the http authproxy.\r\n\r\n\r\nEdit: Hmm, so apparently, Windows runs into this:\r\n\r\n```\r\n                                   ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host\r\n```\r\n\r\nNot sure why this would be needed here, but not in rpc_misc.py.\r\n\r\n",
      "created_at": "2026-01-13T09:05:42Z",
      "updated_at": "2026-01-13T09:49:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2685521121",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2685521121"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 34,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2685727504",
      "pull_request_review_id": 3654996802,
      "id": 2685727504,
      "node_id": "PRRC_kwDOABII586gFPMQ",
      "diff_hunk": "@@ -0,0 +1,43 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test that coins database read errors trigger a shutdown message.\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class CoinsDBReadErrorTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+\n+        # Stop node to clear LevelDB block cache (required for 32-bit where mmap is disabled)\n+        self.stop_node(0)\n+\n+        for ldb_path in (node.chain_path / \"chainstate\").glob(\"*.ldb\"):\n+            with open(ldb_path, \"r+b\") as f:\n+                f.seek(ldb_path.stat().st_size // 2)\n+                f.write(b'\\xff')\n+\n+        self.start_node(0, extra_args=[\"-checkblocks=0\", \"-checklevel=0\"])\n+\n+        with node.assert_debug_log([\"block checksum mismatch\"]):\n+            try:\n+                for height in range(1, node.getblockcount() + 1):\n+                    txid = node.getblock(node.getblockhash(height))[\"tx\"][0]\n+                    node.gettxout(txid, 0)\n+            except Exception:",
      "path": "test/functional/feature_coinsdb_read_error.py",
      "position": 1,
      "original_position": 34,
      "commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "original_commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "in_reply_to_id": 2682196113,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Yeah, Windows and 32 bots were a real pain for this test... do you think I should investigate further?\r\nI'm fine with the current test (except `HaveCoin` not delegating to the specialized db implementation, working on it....)",
      "created_at": "2026-01-13T10:11:54Z",
      "updated_at": "2026-01-13T10:11:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2685727504",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2685727504"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 34,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2685941439",
      "pull_request_review_id": 3655236326,
      "id": 2685941439,
      "node_id": "PRRC_kwDOABII586gGDa_",
      "diff_hunk": "@@ -0,0 +1,43 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test that coins database read errors trigger a shutdown message.\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class CoinsDBReadErrorTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+\n+        # Stop node to clear LevelDB block cache (required for 32-bit where mmap is disabled)\n+        self.stop_node(0)\n+\n+        for ldb_path in (node.chain_path / \"chainstate\").glob(\"*.ldb\"):\n+            with open(ldb_path, \"r+b\") as f:\n+                f.seek(ldb_path.stat().st_size // 2)\n+                f.write(b'\\xff')\n+\n+        self.start_node(0, extra_args=[\"-checkblocks=0\", \"-checklevel=0\"])\n+\n+        with node.assert_debug_log([\"block checksum mismatch\"]):\n+            try:\n+                for height in range(1, node.getblockcount() + 1):\n+                    txid = node.getblock(node.getblockhash(height))[\"tx\"][0]\n+                    node.gettxout(txid, 0)\n+            except Exception:",
      "path": "test/functional/feature_coinsdb_read_error.py",
      "position": 1,
      "original_position": 34,
      "commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "original_commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "in_reply_to_id": 2682196113,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "It is just a nit about the \"wildcard\" `catch ... Exception:`.\r\n\r\nI wonder if\r\n\r\n```py\r\nexcept (\r\n                subprocess.CalledProcessError,\r\n                http.client.CannotSendRequest,\r\n                http.client.RemoteDisconnected,\r\n                ConnectionResetError,\r\n        ):\r\n```\r\n\r\npasses. I'd prefer that, but again, this is just a nit.",
      "created_at": "2026-01-13T11:12:36Z",
      "updated_at": "2026-01-13T11:12:36Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2685941439",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2685941439"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 34,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2685955268",
      "pull_request_review_id": 3655253632,
      "id": 2685955268,
      "node_id": "PRRC_kwDOABII586gGGzE",
      "diff_hunk": "@@ -34,7 +34,7 @@ struct ChainstateLoadOptions {\n     bool require_full_verification{true};\n     int64_t check_blocks{DEFAULT_CHECKBLOCKS};\n     int64_t check_level{DEFAULT_CHECKLEVEL};\n-    std::function<void()> coins_error_cb;\n+    std::function<void()> read_error_cb{[]{}};",
      "path": "src/node/chainstate.h",
      "position": 1,
      "original_position": 5,
      "commit_id": "00af5d72c263906025d17761179c1fc1cc5ffdf2",
      "original_commit_id": "00af5d72c263906025d17761179c1fc1cc5ffdf2",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "e77ef5c8ab9c618a38ced5c7cfbc639da5fa6aa2: I don't think this is a rename. You change nullptr to an object?! When changing behavior, you should mention why the behavior is changed, instead of omitting the change.",
      "created_at": "2026-01-13T11:16:32Z",
      "updated_at": "2026-01-13T11:28:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2685955268",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2685955268"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 37,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2685971802",
      "pull_request_review_id": 3655253632,
      "id": 2685971802,
      "node_id": "PRRC_kwDOABII586gGK1a",
      "diff_hunk": "@@ -362,30 +362,24 @@ const Coin& AccessByTxid(const CCoinsViewCache& view, const Txid& txid)\n     return coinEmpty;\n }\n \n-template <typename ReturnType, typename Func>\n-static ReturnType ExecuteBackedWrapper(Func func, const std::vector<std::function<void()>>& err_callbacks)\n+std::optional<Coin> CCoinsViewErrorCatcher::GetCoin(const COutPoint& outpoint) const\n {\n     try {\n-        return func();\n-    } catch(const std::runtime_error& e) {\n-        for (const auto& f : err_callbacks) {\n-            f();\n-        }\n-        LogError(\"Error reading from database: %s\\n\", e.what());\n-        // Starting the shutdown sequence and returning false to the caller would be\n-        // interpreted as 'entry not found' (as opposed to unable to read data), and\n-        // could lead to invalid interpretation. Just exit immediately, as we can't\n-        // continue anyway, and all writes should be atomic.",
      "path": "src/coins.cpp",
      "position": 87,
      "original_position": 18,
      "commit_id": "c232aeed613e555681fc3b24ea52a3dee67db9ee",
      "original_commit_id": "029224b31e16841f4097a325442d44eabc3613a1",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "029224b31e16841f4097a325442d44eabc3613a1: I don't think this is an \"inline\". You are removing this comment without even mentioning it. When removing code, you should mention why it is not needed.",
      "created_at": "2026-01-13T11:21:39Z",
      "updated_at": "2026-01-13T11:28:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2685971802",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2685971802"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": 379,
      "original_start_line": 375,
      "start_side": "LEFT",
      "line": 382,
      "original_line": 378,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2686864978",
      "pull_request_review_id": 3656357756,
      "id": 2686864978,
      "node_id": "PRRC_kwDOABII586gJk5S",
      "diff_hunk": "@@ -362,30 +362,24 @@ const Coin& AccessByTxid(const CCoinsViewCache& view, const Txid& txid)\n     return coinEmpty;\n }\n \n-template <typename ReturnType, typename Func>\n-static ReturnType ExecuteBackedWrapper(Func func, const std::vector<std::function<void()>>& err_callbacks)\n+std::optional<Coin> CCoinsViewErrorCatcher::GetCoin(const COutPoint& outpoint) const\n {\n     try {\n-        return func();\n-    } catch(const std::runtime_error& e) {\n-        for (const auto& f : err_callbacks) {\n-            f();\n-        }\n-        LogError(\"Error reading from database: %s\\n\", e.what());\n-        // Starting the shutdown sequence and returning false to the caller would be\n-        // interpreted as 'entry not found' (as opposed to unable to read data), and\n-        // could lead to invalid interpretation. Just exit immediately, as we can't\n-        // continue anyway, and all writes should be atomic.",
      "path": "src/coins.cpp",
      "position": 87,
      "original_position": 18,
      "commit_id": "c232aeed613e555681fc3b24ea52a3dee67db9ee",
      "original_commit_id": "029224b31e16841f4097a325442d44eabc3613a1",
      "in_reply_to_id": 2685971802,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I think the `ExecuteBackedWrapper` can be kept. It seems applicable if it is moved to txdb.cpp as well?",
      "created_at": "2026-01-13T15:15:03Z",
      "updated_at": "2026-01-13T15:15:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2686864978",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2686864978"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": 379,
      "original_start_line": 375,
      "start_side": "LEFT",
      "line": 382,
      "original_line": 378,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2688407672",
      "pull_request_review_id": 3658266189,
      "id": 2688407672,
      "node_id": "PRRC_kwDOABII586gPdh4",
      "diff_hunk": "@@ -0,0 +1,43 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test that coins database read errors trigger a shutdown message.\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class CoinsDBReadErrorTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+\n+        # Stop node to clear LevelDB block cache (required for 32-bit where mmap is disabled)\n+        self.stop_node(0)\n+\n+        for ldb_path in (node.chain_path / \"chainstate\").glob(\"*.ldb\"):\n+            with open(ldb_path, \"r+b\") as f:\n+                f.seek(ldb_path.stat().st_size // 2)\n+                f.write(b'\\xff')\n+\n+        self.start_node(0, extra_args=[\"-checkblocks=0\", \"-checklevel=0\"])\n+\n+        with node.assert_debug_log([\"block checksum mismatch\"]):\n+            try:\n+                for height in range(1, node.getblockcount() + 1):\n+                    txid = node.getblock(node.getblockhash(height))[\"tx\"][0]\n+                    node.gettxout(txid, 0)\n+            except Exception:",
      "path": "test/functional/feature_coinsdb_read_error.py",
      "position": 1,
      "original_position": 34,
      "commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "original_commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "in_reply_to_id": 2682196113,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "https://github.com/l0rinc/bitcoin/pull/93/changes/5a11d22973c18f2d9d6df3a1c635fc099120c600#diff-ec1488c477d842de37ca241dcd59da114261dc4c5e490dcde1fdeacc5c47dbccR36-R39 indicates it does, will change on next push, thanks",
      "created_at": "2026-01-13T23:08:44Z",
      "updated_at": "2026-01-13T23:08:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2688407672",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2688407672"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 34,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2692307054",
      "pull_request_review_id": 3663133906,
      "id": 2692307054,
      "node_id": "PRRC_kwDOABII586geVhu",
      "diff_hunk": "@@ -0,0 +1,43 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test that coins database read errors trigger a shutdown message.\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class CoinsDBReadErrorTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+\n+        # Stop node to clear LevelDB block cache (required for 32-bit where mmap is disabled)\n+        self.stop_node(0)\n+\n+        for ldb_path in (node.chain_path / \"chainstate\").glob(\"*.ldb\"):\n+            with open(ldb_path, \"r+b\") as f:\n+                f.seek(ldb_path.stat().st_size // 2)\n+                f.write(b'\\xff')\n+\n+        self.start_node(0, extra_args=[\"-checkblocks=0\", \"-checklevel=0\"])\n+\n+        with node.assert_debug_log([\"block checksum mismatch\"]):\n+            try:\n+                for height in range(1, node.getblockcount() + 1):\n+                    txid = node.getblock(node.getblockhash(height))[\"tx\"][0]\n+                    node.gettxout(txid, 0)\n+            except Exception:",
      "path": "test/functional/feature_coinsdb_read_error.py",
      "position": 1,
      "original_position": 34,
      "commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "original_commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "in_reply_to_id": 2682196113,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> https://github.com/bitcoin/bitcoin/pull/26331 did not fix https://github.com/bitcoin/bitcoin/issues/26112.\r\n\r\nThe more I think about it, the less sense it makes. I forgot that I have already tried removing `HaveCoin` about a year ago...\r\n\r\nOn the database side reading a value or checking if it exists is basically the same:\r\nhttps://github.com/bitcoin/bitcoin/blob/cd0959ce9b7c5b80ebd45b652d557630b4dc604b/src/dbwrapper.cpp#L304-L331\r\n\r\nThe difference comes a layer higher, where `Exists` just forwards a boolean:\r\nhttps://github.com/bitcoin/bitcoin/blob/a9b7f5614c24fe6f386448604c325ec4fa6c98a5/src/dbwrapper.h#L234-L241\r\nwhile `Read` attempts to deobfuscate + deserialize:\r\nhttps://github.com/bitcoin/bitcoin/blob/a9b7f5614c24fe6f386448604c325ec4fa6c98a5/src/dbwrapper.h#L206-L224\r\n\r\n(Note that `Read` can return `false` on deserialization failure, while `Exists` will return `true` if the key is present, so \"have\" and \"get\" are only equivalent assuming the DB entry is readable. I will also investigate why we are not simply throwing when we cannot deserialize the value. cc: @sipa)\r\n\r\nSo `Exists` is not really an IO optimization (it still does a `DB::Get()`), it mainly avoids the decode step and can return \"present\" even if the value is unreadable.\r\n\r\nIn the UTXO stack, when `HaveCoin` is implemented via the DB `Exists` path, it does not provide a value that we could cache. If the caller ends up needing the `Coin` shortly after, that can mean an extra lookup compared to just using `GetCoin/AccessCoin` and warming the cache once.\r\n\r\nI will push a separate PR proposing removal of `HaveCoin` - we can discuss details there.\r\n",
      "created_at": "2026-01-14T22:34:49Z",
      "updated_at": "2026-01-14T22:34:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2692307054",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2692307054"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 34,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2699148330",
      "pull_request_review_id": 3671667999,
      "id": 2699148330,
      "node_id": "PRRC_kwDOABII586g4bwq",
      "diff_hunk": "@@ -0,0 +1,43 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test that coins database read errors trigger a shutdown message.\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class CoinsDBReadErrorTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+\n+        # Stop node to clear LevelDB block cache (required for 32-bit where mmap is disabled)\n+        self.stop_node(0)\n+\n+        for ldb_path in (node.chain_path / \"chainstate\").glob(\"*.ldb\"):\n+            with open(ldb_path, \"r+b\") as f:\n+                f.seek(ldb_path.stat().st_size // 2)\n+                f.write(b'\\xff')\n+\n+        self.start_node(0, extra_args=[\"-checkblocks=0\", \"-checklevel=0\"])\n+\n+        with node.assert_debug_log([\"block checksum mismatch\"]):\n+            try:\n+                for height in range(1, node.getblockcount() + 1):\n+                    txid = node.getblock(node.getblockhash(height))[\"tx\"][0]\n+                    node.gettxout(txid, 0)\n+            except Exception:",
      "path": "test/functional/feature_coinsdb_read_error.py",
      "position": 1,
      "original_position": 34,
      "commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "original_commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "in_reply_to_id": 2682196113,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Split it out to https://github.com/bitcoin/bitcoin/pull/34320",
      "created_at": "2026-01-16T16:19:23Z",
      "updated_at": "2026-01-16T16:19:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2699148330",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2699148330"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 34,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2709204197",
      "pull_request_review_id": 3683201422,
      "id": 2709204197,
      "node_id": "PRRC_kwDOABII586heyzl",
      "diff_hunk": "@@ -34,7 +34,7 @@ struct ChainstateLoadOptions {\n     bool require_full_verification{true};\n     int64_t check_blocks{DEFAULT_CHECKBLOCKS};\n     int64_t check_level{DEFAULT_CHECKLEVEL};\n-    std::function<void()> coins_error_cb;\n+    std::function<void()> read_error_cb{[]{}};",
      "path": "src/node/chainstate.h",
      "position": 1,
      "original_position": 5,
      "commit_id": "00af5d72c263906025d17761179c1fc1cc5ffdf2",
      "original_commit_id": "00af5d72c263906025d17761179c1fc1cc5ffdf2",
      "in_reply_to_id": 2685955268,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Good call, I made it a scripted diff now to avoid unrelated changes in these refactoring commits (especially since this is modified again in a later commit)",
      "created_at": "2026-01-20T16:47:26Z",
      "updated_at": "2026-01-24T22:10:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2709204197",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2709204197"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 37,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2724446763",
      "pull_request_review_id": 3683201422,
      "id": 2724446763,
      "node_id": "PRRC_kwDOABII586iY8Ir",
      "diff_hunk": "@@ -362,30 +362,24 @@ const Coin& AccessByTxid(const CCoinsViewCache& view, const Txid& txid)\n     return coinEmpty;\n }\n \n-template <typename ReturnType, typename Func>\n-static ReturnType ExecuteBackedWrapper(Func func, const std::vector<std::function<void()>>& err_callbacks)\n+std::optional<Coin> CCoinsViewErrorCatcher::GetCoin(const COutPoint& outpoint) const\n {\n     try {\n-        return func();\n-    } catch(const std::runtime_error& e) {\n-        for (const auto& f : err_callbacks) {\n-            f();\n-        }\n-        LogError(\"Error reading from database: %s\\n\", e.what());\n-        // Starting the shutdown sequence and returning false to the caller would be\n-        // interpreted as 'entry not found' (as opposed to unable to read data), and\n-        // could lead to invalid interpretation. Just exit immediately, as we can't\n-        // continue anyway, and all writes should be atomic.",
      "path": "src/coins.cpp",
      "position": 87,
      "original_position": 18,
      "commit_id": "c232aeed613e555681fc3b24ea52a3dee67db9ee",
      "original_commit_id": "029224b31e16841f4097a325442d44eabc3613a1",
      "in_reply_to_id": 2685971802,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> You are removing this comment without even mentioning it\r\n\r\nDid that separately, explained in commit message.\r\n\r\n> I think the ExecuteBackedWrapper can be kept\r\n\r\nIt's a simple try-catch, I don't see the point in extending the call stack even more, we don't do that in other cases and it just obfuscates a corner case (which nobody dared touching for a decade).\r\nhttps://github.com/bitcoin/bitcoin/pull/34320 is removing the remaining `HaveCoin` calls, we we won't even need to reuse the logic anymore.",
      "created_at": "2026-01-24T17:57:58Z",
      "updated_at": "2026-01-24T22:10:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2724446763",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2724446763"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": 379,
      "original_start_line": 375,
      "start_side": "LEFT",
      "line": 382,
      "original_line": 378,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2724683730",
      "pull_request_review_id": 3702984797,
      "id": 2724683730,
      "node_id": "PRRC_kwDOABII586iZ1_S",
      "diff_hunk": "@@ -362,26 +362,18 @@ const Coin& AccessByTxid(const CCoinsViewCache& view, const Txid& txid)\n     return coinEmpty;\n }\n \n-template <typename ReturnType, typename Func>\n-static ReturnType ExecuteBackedWrapper(Func func, const std::vector<std::function<void()>>& err_callbacks)\n+std::optional<Coin> CCoinsViewErrorCatcher::GetCoin(const COutPoint& outpoint) const\n {\n     try {\n-        return func();\n-    } catch(const std::runtime_error& e) {\n-        for (const auto& f : err_callbacks) {\n-            f();\n-        }\n-        LogError(\"Error reading from database: %s\\n\", e.what());\n+        return CCoinsViewBacked::GetCoin(outpoint);\n+    } catch (const std::runtime_error& e) {\n+        for (const auto& f : m_err_callbacks) f();\n+        LogError(\"Database error in GetCoin: %s\", e.what());\n         std::abort();\n     }\n }\n \n-std::optional<Coin> CCoinsViewErrorCatcher::GetCoin(const COutPoint& outpoint) const\n-{\n-    return ExecuteBackedWrapper<std::optional<Coin>>([&]() { return CCoinsViewBacked::GetCoin(outpoint); }, m_err_callbacks);\n-}\n-\n bool CCoinsViewErrorCatcher::HaveCoin(const COutPoint& outpoint) const\n {\n-    return ExecuteBackedWrapper<bool>([&]() { return CCoinsViewBacked::HaveCoin(outpoint); }, m_err_callbacks);\n+    return !!CCoinsViewErrorCatcher::GetCoin(outpoint);",
      "path": "src/coins.cpp",
      "position": 1,
      "original_position": 31,
      "commit_id": "2c909c13ddc360cd3583fb044eb3724e0b05c835",
      "original_commit_id": "16ea9175cf4fc0865586cce68812c49d9647a5a3",
      "in_reply_to_id": null,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "In commit 16ea9175cf4fc0865586cce68812c49d9647a5a3\r\n\r\n> To avoid repetition - and since `HaveCoin` already delegated to GetCoin -, we simply delegate to `CCoinsViewErrorCatcher::GetCoin`.\r\n\r\nBut `HaveCoin` does not delegate to `GetCoin`.\r\n\r\n```C++\r\nbool CCoinsViewBacked::HaveCoin(const COutPoint &outpoint) const { return base->HaveCoin(outpoint); }\r\n```\r\n",
      "created_at": "2026-01-24T22:54:29Z",
      "updated_at": "2026-01-24T23:12:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2724683730",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2724683730"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 378,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2724683810",
      "pull_request_review_id": 3702984797,
      "id": 2724683810,
      "node_id": "PRRC_kwDOABII586iZ2Ai",
      "diff_hunk": "@@ -203,20 +202,32 @@ class CDBWrapper\n     CDBWrapper(const CDBWrapper&) = delete;\n     CDBWrapper& operator=(const CDBWrapper&) = delete;\n \n-    template <typename K, typename V>\n-    bool Read(const K& key, V& value) const\n+    template <typename K>\n+    std::optional<std::string> ReadRaw(const K& key) const\n     {\n         DataStream ssKey{};\n         ssKey.reserve(DBWRAPPER_PREALLOC_KEY_SIZE);\n         ssKey << key;\n-        std::optional<std::string> strValue{ReadImpl(ssKey)};\n+        return ReadImpl(ssKey);\n+    }\n+\n+    template <typename K, typename V>\n+    bool Read(const K& key, V& value) const\n+    {\n+        const auto strValue{ReadRaw(key)};\n         if (!strValue) return false;\n         DataStream ssValue{MakeByteSpan(*strValue)};\n         m_obfuscation(ssValue);\n         ssValue >> value;\n         return true;\n     }\n \n+    template <typename K>\n+    bool Exists(const K& key) const",
      "path": "src/dbwrapper.h",
      "position": 107,
      "original_position": 36,
      "commit_id": "c232aeed613e555681fc3b24ea52a3dee67db9ee",
      "original_commit_id": "be790c67e2b74226ca4f9196be57da165d626ebb",
      "in_reply_to_id": null,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Why move this up?",
      "created_at": "2026-01-24T22:54:46Z",
      "updated_at": "2026-01-24T23:12:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2724683810",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2724683810"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 244,
      "original_line": 226,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2724685261",
      "pull_request_review_id": 3702984797,
      "id": 2724685261,
      "node_id": "PRRC_kwDOABII586iZ2XN",
      "diff_hunk": "@@ -67,12 +67,19 @@ void CCoinsViewDB::ResizeCache(size_t new_cache_size)\n \n std::optional<Coin> CCoinsViewDB::GetCoin(const COutPoint& outpoint) const\n {\n-    if (Coin coin; m_db->Read(CoinEntry(&outpoint), coin)) return coin;\n-    return std::nullopt;\n+    try {\n+        if (Coin coin; m_db->Read(CoinEntry(&outpoint), coin)) return coin;\n+        return std::nullopt;\n+    } catch (const std::runtime_error& e) {\n+        m_read_error_cb();\n+        LogError(\"Database error in GetCoin: %s\", e.what());\n+        std::abort();\n+    }\n }\n \n-bool CCoinsViewDB::HaveCoin(const COutPoint &outpoint) const {\n-    return m_db->Exists(CoinEntry(&outpoint));\n+bool CCoinsViewDB::HaveCoin(const COutPoint& outpoint) const\n+{\n+    return !!CCoinsViewDB::GetCoin(outpoint);",
      "path": "src/txdb.cpp",
      "position": 1,
      "original_position": 20,
      "commit_id": "f0325b16a8da78c073b357568822de2c4d8589c7",
      "original_commit_id": "6069e293dabb15f24f2df11637f126ef918f8710",
      "in_reply_to_id": null,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Shouldn't we use `m_db->ReadRaw` for this instead of calling `GetCoin`?",
      "created_at": "2026-01-24T22:57:30Z",
      "updated_at": "2026-01-24T23:12:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2724685261",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2724685261"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 82,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2725870722",
      "pull_request_review_id": 3704207068,
      "id": 2725870722,
      "node_id": "PRRC_kwDOABII586ieXyC",
      "diff_hunk": "@@ -203,20 +202,32 @@ class CDBWrapper\n     CDBWrapper(const CDBWrapper&) = delete;\n     CDBWrapper& operator=(const CDBWrapper&) = delete;\n \n-    template <typename K, typename V>\n-    bool Read(const K& key, V& value) const\n+    template <typename K>\n+    std::optional<std::string> ReadRaw(const K& key) const\n     {\n         DataStream ssKey{};\n         ssKey.reserve(DBWRAPPER_PREALLOC_KEY_SIZE);\n         ssKey << key;\n-        std::optional<std::string> strValue{ReadImpl(ssKey)};\n+        return ReadImpl(ssKey);\n+    }\n+\n+    template <typename K, typename V>\n+    bool Read(const K& key, V& value) const\n+    {\n+        const auto strValue{ReadRaw(key)};\n         if (!strValue) return false;\n         DataStream ssValue{MakeByteSpan(*strValue)};\n         m_obfuscation(ssValue);\n         ssValue >> value;\n         return true;\n     }\n \n+    template <typename K>\n+    bool Exists(const K& key) const",
      "path": "src/dbwrapper.h",
      "position": 107,
      "original_position": 36,
      "commit_id": "c232aeed613e555681fc3b24ea52a3dee67db9ee",
      "original_commit_id": "be790c67e2b74226ca4f9196be57da165d626ebb",
      "in_reply_to_id": 2724683810,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Because `Exists` is a reader method, it should be after `Read`, not after `Write` and `Erase`",
      "created_at": "2026-01-25T19:56:33Z",
      "updated_at": "2026-01-25T19:56:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2725870722",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2725870722"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 244,
      "original_line": 226,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2725874409",
      "pull_request_review_id": 3704209802,
      "id": 2725874409,
      "node_id": "PRRC_kwDOABII586ieYrp",
      "diff_hunk": "@@ -362,26 +362,18 @@ const Coin& AccessByTxid(const CCoinsViewCache& view, const Txid& txid)\n     return coinEmpty;\n }\n \n-template <typename ReturnType, typename Func>\n-static ReturnType ExecuteBackedWrapper(Func func, const std::vector<std::function<void()>>& err_callbacks)\n+std::optional<Coin> CCoinsViewErrorCatcher::GetCoin(const COutPoint& outpoint) const\n {\n     try {\n-        return func();\n-    } catch(const std::runtime_error& e) {\n-        for (const auto& f : err_callbacks) {\n-            f();\n-        }\n-        LogError(\"Error reading from database: %s\\n\", e.what());\n+        return CCoinsViewBacked::GetCoin(outpoint);\n+    } catch (const std::runtime_error& e) {\n+        for (const auto& f : m_err_callbacks) f();\n+        LogError(\"Database error in GetCoin: %s\", e.what());\n         std::abort();\n     }\n }\n \n-std::optional<Coin> CCoinsViewErrorCatcher::GetCoin(const COutPoint& outpoint) const\n-{\n-    return ExecuteBackedWrapper<std::optional<Coin>>([&]() { return CCoinsViewBacked::GetCoin(outpoint); }, m_err_callbacks);\n-}\n-\n bool CCoinsViewErrorCatcher::HaveCoin(const COutPoint& outpoint) const\n {\n-    return ExecuteBackedWrapper<bool>([&]() { return CCoinsViewBacked::HaveCoin(outpoint); }, m_err_callbacks);\n+    return !!CCoinsViewErrorCatcher::GetCoin(outpoint);",
      "path": "src/coins.cpp",
      "position": 1,
      "original_position": 31,
      "commit_id": "2c909c13ddc360cd3583fb044eb3724e0b05c835",
      "original_commit_id": "16ea9175cf4fc0865586cce68812c49d9647a5a3",
      "in_reply_to_id": 2724683730,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> HaveCoin does not delegate to GetCoin\r\n\r\nI meant:\r\n* https://github.com/bitcoin/bitcoin/blob/ab233255d444ccf6ffe4a45cb02bfc3e5fb71bdb/src/coins.cpp#L28\r\n* https://github.com/bitcoin/bitcoin/blob/ab233255d444ccf6ffe4a45cb02bfc3e5fb71bdb/src/coins.cpp#L171\r\n\r\nIn reality `CCoinsViewErrorCatcher::HaveCoin` was never called, or at least all tests passed if I poisoned the implementation, so this is rather meant as a dummy impl, since we're removing it in another PR anyway.",
      "created_at": "2026-01-25T20:01:33Z",
      "updated_at": "2026-01-25T20:01:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2725874409",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2725874409"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 378,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2725875366",
      "pull_request_review_id": 3704210498,
      "id": 2725875366,
      "node_id": "PRRC_kwDOABII586ieY6m",
      "diff_hunk": "@@ -67,12 +67,19 @@ void CCoinsViewDB::ResizeCache(size_t new_cache_size)\n \n std::optional<Coin> CCoinsViewDB::GetCoin(const COutPoint& outpoint) const\n {\n-    if (Coin coin; m_db->Read(CoinEntry(&outpoint), coin)) return coin;\n-    return std::nullopt;\n+    try {\n+        if (Coin coin; m_db->Read(CoinEntry(&outpoint), coin)) return coin;\n+        return std::nullopt;\n+    } catch (const std::runtime_error& e) {\n+        m_read_error_cb();\n+        LogError(\"Database error in GetCoin: %s\", e.what());\n+        std::abort();\n+    }\n }\n \n-bool CCoinsViewDB::HaveCoin(const COutPoint &outpoint) const {\n-    return m_db->Exists(CoinEntry(&outpoint));\n+bool CCoinsViewDB::HaveCoin(const COutPoint& outpoint) const\n+{\n+    return !!CCoinsViewDB::GetCoin(outpoint);",
      "path": "src/txdb.cpp",
      "position": 1,
      "original_position": 20,
      "commit_id": "f0325b16a8da78c073b357568822de2c4d8589c7",
      "original_commit_id": "6069e293dabb15f24f2df11637f126ef918f8710",
      "in_reply_to_id": 2724685261,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Either should be fine, this seems more localized - and since we're removing it completely in a follow-up I was going for the one that has the most obvious dependency (see https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2725874409)",
      "created_at": "2026-01-25T20:03:00Z",
      "updated_at": "2026-01-25T20:03:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2725875366",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2725875366"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 82,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2739463521",
      "pull_request_review_id": 3720165817,
      "id": 2739463521,
      "node_id": "PRRC_kwDOABII586jSOVh",
      "diff_hunk": "@@ -67,12 +67,19 @@ void CCoinsViewDB::ResizeCache(size_t new_cache_size)\n \n std::optional<Coin> CCoinsViewDB::GetCoin(const COutPoint& outpoint) const\n {\n-    if (Coin coin; m_db->Read(CoinEntry(&outpoint), coin)) return coin;\n-    return std::nullopt;\n+    try {\n+        if (Coin coin; m_db->Read(CoinEntry(&outpoint), coin)) return coin;\n+        return std::nullopt;\n+    } catch (const std::runtime_error& e) {\n+        m_read_error_cb();\n+        LogError(\"Database error in GetCoin: %s\", e.what());\n+        std::abort();\n+    }\n }\n \n-bool CCoinsViewDB::HaveCoin(const COutPoint &outpoint) const {\n-    return m_db->Exists(CoinEntry(&outpoint));\n+bool CCoinsViewDB::HaveCoin(const COutPoint& outpoint) const\n+{\n+    return !!CCoinsViewDB::GetCoin(outpoint);",
      "path": "src/txdb.cpp",
      "position": 1,
      "original_position": 20,
      "commit_id": "f0325b16a8da78c073b357568822de2c4d8589c7",
      "original_commit_id": "6069e293dabb15f24f2df11637f126ef918f8710",
      "in_reply_to_id": 2724685261,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Hmm but removing in a follow-up is not guaranteed. I think to be most efficient this should use `ReadRaw`.",
      "created_at": "2026-01-29T02:20:50Z",
      "updated_at": "2026-01-29T02:20:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2739463521",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2739463521"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 82,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2739467564",
      "pull_request_review_id": 3720169221,
      "id": 2739467564,
      "node_id": "PRRC_kwDOABII586jSPUs",
      "diff_hunk": "@@ -362,26 +362,18 @@ const Coin& AccessByTxid(const CCoinsViewCache& view, const Txid& txid)\n     return coinEmpty;\n }\n \n-template <typename ReturnType, typename Func>\n-static ReturnType ExecuteBackedWrapper(Func func, const std::vector<std::function<void()>>& err_callbacks)\n+std::optional<Coin> CCoinsViewErrorCatcher::GetCoin(const COutPoint& outpoint) const\n {\n     try {\n-        return func();\n-    } catch(const std::runtime_error& e) {\n-        for (const auto& f : err_callbacks) {\n-            f();\n-        }\n-        LogError(\"Error reading from database: %s\\n\", e.what());\n+        return CCoinsViewBacked::GetCoin(outpoint);\n+    } catch (const std::runtime_error& e) {\n+        for (const auto& f : m_err_callbacks) f();\n+        LogError(\"Database error in GetCoin: %s\", e.what());\n         std::abort();\n     }\n }\n \n-std::optional<Coin> CCoinsViewErrorCatcher::GetCoin(const COutPoint& outpoint) const\n-{\n-    return ExecuteBackedWrapper<std::optional<Coin>>([&]() { return CCoinsViewBacked::GetCoin(outpoint); }, m_err_callbacks);\n-}\n-\n bool CCoinsViewErrorCatcher::HaveCoin(const COutPoint& outpoint) const\n {\n-    return ExecuteBackedWrapper<bool>([&]() { return CCoinsViewBacked::HaveCoin(outpoint); }, m_err_callbacks);\n+    return !!CCoinsViewErrorCatcher::GetCoin(outpoint);",
      "path": "src/coins.cpp",
      "position": 1,
      "original_position": 31,
      "commit_id": "2c909c13ddc360cd3583fb044eb3724e0b05c835",
      "original_commit_id": "16ea9175cf4fc0865586cce68812c49d9647a5a3",
      "in_reply_to_id": 2724683730,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I'm not sure, I think we could instead specialize `HaveCoin` to reach down to db rather than remove it.",
      "created_at": "2026-01-29T02:21:58Z",
      "updated_at": "2026-01-29T02:21:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2739467564",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2739467564"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 378,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2742527954",
      "pull_request_review_id": 3723810627,
      "id": 2742527954,
      "node_id": "PRRC_kwDOABII586jd6fS",
      "diff_hunk": "@@ -67,12 +67,19 @@ void CCoinsViewDB::ResizeCache(size_t new_cache_size)\n \n std::optional<Coin> CCoinsViewDB::GetCoin(const COutPoint& outpoint) const\n {\n-    if (Coin coin; m_db->Read(CoinEntry(&outpoint), coin)) return coin;\n-    return std::nullopt;\n+    try {\n+        if (Coin coin; m_db->Read(CoinEntry(&outpoint), coin)) return coin;\n+        return std::nullopt;\n+    } catch (const std::runtime_error& e) {\n+        m_read_error_cb();\n+        LogError(\"Database error in GetCoin: %s\", e.what());\n+        std::abort();\n+    }\n }\n \n-bool CCoinsViewDB::HaveCoin(const COutPoint &outpoint) const {\n-    return m_db->Exists(CoinEntry(&outpoint));\n+bool CCoinsViewDB::HaveCoin(const COutPoint& outpoint) const\n+{\n+    return !!CCoinsViewDB::GetCoin(outpoint);",
      "path": "src/txdb.cpp",
      "position": 1,
      "original_position": 20,
      "commit_id": "f0325b16a8da78c073b357568822de2c4d8589c7",
      "original_commit_id": "6069e293dabb15f24f2df11637f126ef918f8710",
      "in_reply_to_id": 2724685261,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "You think it's simpler to call `ReadRaw` and duplicate the try/catch? Isn't delegating to `GetCoin` simpler here?",
      "created_at": "2026-01-29T16:33:38Z",
      "updated_at": "2026-01-29T16:33:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2742527954",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2742527954"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 82,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2742532903",
      "pull_request_review_id": 3723818041,
      "id": 2742532903,
      "node_id": "PRRC_kwDOABII586jd7sn",
      "diff_hunk": "@@ -362,26 +362,18 @@ const Coin& AccessByTxid(const CCoinsViewCache& view, const Txid& txid)\n     return coinEmpty;\n }\n \n-template <typename ReturnType, typename Func>\n-static ReturnType ExecuteBackedWrapper(Func func, const std::vector<std::function<void()>>& err_callbacks)\n+std::optional<Coin> CCoinsViewErrorCatcher::GetCoin(const COutPoint& outpoint) const\n {\n     try {\n-        return func();\n-    } catch(const std::runtime_error& e) {\n-        for (const auto& f : err_callbacks) {\n-            f();\n-        }\n-        LogError(\"Error reading from database: %s\\n\", e.what());\n+        return CCoinsViewBacked::GetCoin(outpoint);\n+    } catch (const std::runtime_error& e) {\n+        for (const auto& f : m_err_callbacks) f();\n+        LogError(\"Database error in GetCoin: %s\", e.what());\n         std::abort();\n     }\n }\n \n-std::optional<Coin> CCoinsViewErrorCatcher::GetCoin(const COutPoint& outpoint) const\n-{\n-    return ExecuteBackedWrapper<std::optional<Coin>>([&]() { return CCoinsViewBacked::GetCoin(outpoint); }, m_err_callbacks);\n-}\n-\n bool CCoinsViewErrorCatcher::HaveCoin(const COutPoint& outpoint) const\n {\n-    return ExecuteBackedWrapper<bool>([&]() { return CCoinsViewBacked::HaveCoin(outpoint); }, m_err_callbacks);\n+    return !!CCoinsViewErrorCatcher::GetCoin(outpoint);",
      "path": "src/coins.cpp",
      "position": 1,
      "original_position": 31,
      "commit_id": "2c909c13ddc360cd3583fb044eb3724e0b05c835",
      "original_commit_id": "16ea9175cf4fc0865586cce68812c49d9647a5a3",
      "in_reply_to_id": 2724683730,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> I think we could instead specialize HaveCoin to reach down to db\r\n\r\nBut that cannot result in a cached results, since we're discarding what we just got from the database - it's likely why we weren't using it in the first place.",
      "created_at": "2026-01-29T16:34:53Z",
      "updated_at": "2026-01-29T16:34:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2742532903",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2742532903"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 378,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2749388661",
      "pull_request_review_id": 3732292067,
      "id": 2749388661,
      "node_id": "PRRC_kwDOABII586j4Fd1",
      "diff_hunk": "@@ -376,10 +376,6 @@ static ReturnType ExecuteBackedWrapper(Func func, const std::vector<std::functio\n             f();",
      "path": "src/coins.cpp",
      "position": 1,
      "original_position": 1,
      "commit_id": "3305ca5bc25ad4e91d407ee71806ef485cea207c",
      "original_commit_id": "3305ca5bc25ad4e91d407ee71806ef485cea207c",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "nit in the commit message of 3305ca5bc25ad4e91d407ee71806ef485cea207c: Instead of linking to a merged pull request, it would be better to link to the merge commit ID of the pull request:\n\n* This makes it possible to review locally, offline\n* This also avoid spamming the original pull request with \"[l0rinc](https://github.com/l0rinc) added a commit to l0rinc/bitcoin that referenced this pull request _ days ago\" events",
      "created_at": "2026-01-31T10:54:23Z",
      "updated_at": "2026-01-31T12:07:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2749388661",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2749388661"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 376,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2749480197",
      "pull_request_review_id": 3732292067,
      "id": 2749480197,
      "node_id": "PRRC_kwDOABII586j4b0F",
      "diff_hunk": "@@ -376,10 +376,6 @@ static ReturnType ExecuteBackedWrapper(Func func, const std::vector<std::functio\n             f();",
      "path": "src/coins.cpp",
      "position": 1,
      "original_position": 1,
      "commit_id": "3305ca5bc25ad4e91d407ee71806ef485cea207c",
      "original_commit_id": "3305ca5bc25ad4e91d407ee71806ef485cea207c",
      "in_reply_to_id": 2749388661,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Also, the pull request you link to refers to refactoring dead code, that is the code is dead/unreachable, even when the storage is corrupt.\n\nHowever, here you are refactoring alive code, which will now behave differently when corruption happens.\n\nI don't think it makes sense to mix the two concepts here, and instead it would be better to explain why throwing an exception is better than returning false.\n\nIIUC all those exceptions are caught (in let's say the msghand thread or the rpc threads) and thus, the program execution will \"recover\", so this contradicts the commit description.\n\nWould it not be better to abort?",
      "created_at": "2026-01-31T12:04:43Z",
      "updated_at": "2026-01-31T12:07:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2749480197",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2749480197"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 376,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2751164854",
      "pull_request_review_id": 3735664241,
      "id": 2751164854,
      "node_id": "PRRC_kwDOABII586j-3G2",
      "diff_hunk": "@@ -376,10 +376,6 @@ static ReturnType ExecuteBackedWrapper(Func func, const std::vector<std::functio\n             f();",
      "path": "src/coins.cpp",
      "position": 1,
      "original_position": 1,
      "commit_id": "3305ca5bc25ad4e91d407ee71806ef485cea207c",
      "original_commit_id": "3305ca5bc25ad4e91d407ee71806ef485cea207c",
      "in_reply_to_id": 2749388661,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> it would be better to link to the merge commit ID of the pull request:\r\n\r\nGood point, changed and explained the similarities (the API shouldn't hint at corruption recovery):\r\n> This is in line with 6da6f503a6dd8de85780ca402f5202095aa8b6ea where we stopped returning bool from `BatchWrite` - in both cases, database errors are unrecoverable and the API shouldn't suggest otherwise.\r\n\r\n----\r\n\r\n>  it would be better to explain why throwing an exception is better than returning false.\r\n\r\nIndeed, I have expanded the second commit message, let me know if this is better.\r\n\r\n> and thus, the program execution will \"recover\",\r\n\r\n\"Recover\" might be a bit strong, it will fail in a more covert way on master, deserialization errors get swallowed, `Read()` returns `false`, `GetCoin()` returns `nullopt`, and valid transactions get rejected as \"missing inputs\" while the node basically gets bricked.\r\n\r\n> which will now behave differently when corruption happens\r\n\r\nYes, I have clarified this in the commit message and PR title and description, thanks for the comments.\r\n",
      "created_at": "2026-02-01T12:39:14Z",
      "updated_at": "2026-02-01T12:39:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2751164854",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2751164854"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 376,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2751172547",
      "pull_request_review_id": 3735671513,
      "id": 2751172547,
      "node_id": "PRRC_kwDOABII586j-4_D",
      "diff_hunk": "@@ -67,12 +67,19 @@ void CCoinsViewDB::ResizeCache(size_t new_cache_size)\n \n std::optional<Coin> CCoinsViewDB::GetCoin(const COutPoint& outpoint) const\n {\n-    if (Coin coin; m_db->Read(CoinEntry(&outpoint), coin)) return coin;\n-    return std::nullopt;\n+    try {\n+        if (Coin coin; m_db->Read(CoinEntry(&outpoint), coin)) return coin;\n+        return std::nullopt;\n+    } catch (const std::runtime_error& e) {\n+        m_read_error_cb();\n+        LogError(\"Database error in GetCoin: %s\", e.what());\n+        std::abort();\n+    }\n }\n \n-bool CCoinsViewDB::HaveCoin(const COutPoint &outpoint) const {\n-    return m_db->Exists(CoinEntry(&outpoint));\n+bool CCoinsViewDB::HaveCoin(const COutPoint& outpoint) const\n+{\n+    return !!CCoinsViewDB::GetCoin(outpoint);",
      "path": "src/txdb.cpp",
      "position": 1,
      "original_position": 20,
      "commit_id": "f0325b16a8da78c073b357568822de2c4d8589c7",
      "original_commit_id": "6069e293dabb15f24f2df11637f126ef918f8710",
      "in_reply_to_id": 2724685261,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Added an explanation in the commit message:\r\n> To avoid reimplementing the error handling done in `CCoinsViewDB::GetCoin`, `::HaveCoin` simply delegates to it, inheriting the error handling behavior.",
      "created_at": "2026-02-01T12:47:21Z",
      "updated_at": "2026-02-01T12:47:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2751172547",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2751172547"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 82,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2753483194",
      "pull_request_review_id": 3738364823,
      "id": 2753483194,
      "node_id": "PRRC_kwDOABII586kHtG6",
      "diff_hunk": "@@ -376,10 +376,6 @@ static ReturnType ExecuteBackedWrapper(Func func, const std::vector<std::functio\n             f();",
      "path": "src/coins.cpp",
      "position": 1,
      "original_position": 1,
      "commit_id": "3305ca5bc25ad4e91d407ee71806ef485cea207c",
      "original_commit_id": "3305ca5bc25ad4e91d407ee71806ef485cea207c",
      "in_reply_to_id": 2749388661,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "It is possible to recover from an exception via `catch`.\r\n\r\nNot all code-paths go through CCoinsViewDB and `std::abort`.\r\n\r\nSure, the commit is probably not worse than current master, but ideally this is fixed wholesale in one go.\r\n\r\nFor example, the following injected fault will not lead to an abort:\r\n\r\n```diff\r\ndiff --git a/src/dbwrapper.cpp b/src/dbwrapper.cpp\r\nindex b3f08cb20d..b21997fb26 100644\r\n--- a/src/dbwrapper.cpp\r\n+++ b/src/dbwrapper.cpp\r\n@@ -33,6 +33,13 @@\r\n #include <optional>\r\n #include <utility>\r\n \r\n+void DebugPoint()\r\n+{\r\n+static int num{0};\r\n+std::cout << ++num << '\\n';\r\n+if (num==6) throw std::runtime_error(\"DataStream::read(): end of data\");\r\n+}\r\n+\r\n static auto CharCast(const std::byte* data) { return reinterpret_cast<const char*>(data); }\r\n \r\n bool DestroyDB(const std::string& path_str)\r\ndiff --git a/src/dbwrapper.h b/src/dbwrapper.h\r\nindex b2ce67c7c2..c551e2dcad 100644\r\n--- a/src/dbwrapper.h\r\n+++ b/src/dbwrapper.h\r\n@@ -174,6 +174,7 @@ public:\r\n };\r\n \r\n struct LevelDBContext;\r\n+void DebugPoint();\r\n \r\n class CDBWrapper\r\n {\r\n@@ -213,13 +214,14 @@ public:\r\n         if (!strValue) {\r\n             return false;\r\n         }\r\n-        try {\r\n+//        try {\r\n             DataStream ssValue{MakeByteSpan(*strValue)};\r\n             m_obfuscation(ssValue);\r\n             ssValue >> value;\r\n-        } catch (const std::exception&) {\r\n-            return false;\r\n-        }\r\n+            DebugPoint();\r\n+//        } catch (const std::exception&) {\r\n+//            return false;\r\n+//        }\r\n         return true;\r\n     }\r\n \r\n```\r\n\r\nWhen running `valgrind --tool=none ./bld-cmake/bin/bitcoin-qt -datadir=/tmp -regtest` and calling `gettxoutsetinfo` I get:\r\n\r\n```\r\n\r\n10:24:02\r\nï¿¼\r\ngettxoutsetinfo\r\n\r\n\r\n10:24:02\r\nï¿¼\r\nDataStream::read(): end of data (code -1)\r\n```\r\n\r\nWhich still seems wrong for several reasons:\r\n\r\n* Because the exception message is mostly meaningless in this context\r\n* The program continues, even though there is a clear storage corruption or severe logic bug\r\n\r\nThe traceback is:\r\n\r\n```\r\n==1131026==    by 0x4973E3F: DebugPoint() (src/dbwrapper.cpp:40)\r\n==1131026==    by 0x4D0DDB4: bool CDBWrapper::Read<unsigned char, uint256>(unsigned char const&, uint256&) const (src/dbwrapper.h:221)\r\n==1131026==    by 0x4D0C5FB: CCoinsViewDB::GetBestBlock() const (src/txdb.cpp:83)\r\n==1131026==    by 0x4B8B63A: std::_Function_handler<UniValue (RPCHelpMan const&, JSONRPCRequest const&), gettxoutsetinfo()::$_0>::_M_invoke(std::_Any_data const&, RPCHelpMan const&, JSONRPCRequest const&) (src/rpc/blockchain.cpp:1054)\r\n==1131026==    by 0x50D9911: RPCHelpMan::HandleRequest(JSONRPCRequest const&) const (std_function.h:593)\r\n==1131026==    by 0x4BB12D4: std::_Function_handler<bool (JSONRPCRequest const&, UniValue&, bool), CRPCCommand::CRPCCommand(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, RPCHelpMan (*)())::{lambda(JSONRPCRequest const&, UniValue&, bool)#1}>::_M_invoke(std::_Any_data const&, JSONRPCRequest const&, UniValue&, bool&&) (src/rpc/server.h:61)\r\n==1131026==    by 0x4CE932F: ExecuteCommands(std::vector<CRPCCommand const*, std::allocator<CRPCCommand const*> > const&, JSONRPCRequest const&, UniValue&) (std_function.h:593)\r\n==1131026==    by 0x4CE8F9A: CRPCTable::execute(JSONRPCRequest const&) const (src/rpc/server.cpp:495)\r\n\r\n",
      "created_at": "2026-02-02T09:52:38Z",
      "updated_at": "2026-02-02T09:52:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2753483194",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2753483194"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 376,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2753566733",
      "pull_request_review_id": 3738474110,
      "id": 2753566733,
      "node_id": "PRRC_kwDOABII586kIBgN",
      "diff_hunk": "@@ -376,10 +376,6 @@ static ReturnType ExecuteBackedWrapper(Func func, const std::vector<std::functio\n             f();",
      "path": "src/coins.cpp",
      "position": 1,
      "original_position": 1,
      "commit_id": "3305ca5bc25ad4e91d407ee71806ef485cea207c",
      "original_commit_id": "3305ca5bc25ad4e91d407ee71806ef485cea207c",
      "in_reply_to_id": 2749388661,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Same for -txindex:\r\n\r\n```\r\n\r\n11:12:51\r\nï¿¼\r\ngetrawtransaction 211227f41dd9ad4feb80eeb8824a7598b83bf8334058bfcd2d23c1ff7356042a\r\n\r\n\r\n11:12:51\r\nï¿¼\r\nread error (code -1)\r\n",
      "created_at": "2026-02-02T10:13:16Z",
      "updated_at": "2026-02-02T10:13:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2753566733",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2753566733"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 376,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2753586466",
      "pull_request_review_id": 3738498818,
      "id": 2753586466,
      "node_id": "PRRC_kwDOABII586kIGUi",
      "diff_hunk": "@@ -376,10 +376,6 @@ static ReturnType ExecuteBackedWrapper(Func func, const std::vector<std::functio\n             f();",
      "path": "src/coins.cpp",
      "position": 1,
      "original_position": 1,
      "commit_id": "3305ca5bc25ad4e91d407ee71806ef485cea207c",
      "original_commit_id": "3305ca5bc25ad4e91d407ee71806ef485cea207c",
      "in_reply_to_id": 2749388661,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I think it makes sense for each commit to clearly say either \"refactor: This commit does not change any behavior.\" or \"This commit changes behavior for ..., but this is fine, because ...\" (or so).",
      "created_at": "2026-02-02T10:17:34Z",
      "updated_at": "2026-02-02T10:17:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2753586466",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2753586466"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 376,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2754344626",
      "pull_request_review_id": 3739409108,
      "id": 2754344626,
      "node_id": "PRRC_kwDOABII586kK_ay",
      "diff_hunk": "@@ -376,10 +376,6 @@ static ReturnType ExecuteBackedWrapper(Func func, const std::vector<std::functio\n             f();",
      "path": "src/coins.cpp",
      "position": 1,
      "original_position": 1,
      "commit_id": "3305ca5bc25ad4e91d407ee71806ef485cea207c",
      "original_commit_id": "3305ca5bc25ad4e91d407ee71806ef485cea207c",
      "in_reply_to_id": 2749388661,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> Not all code-paths go through CCoinsViewDB and std::abort.\r\n\r\n> ideally this is fixed wholesale in one go.\r\n\r\nMakes sense, `GetKey` and `GetValue` and the new `Read` (after `ReadRaw`) should all treat deserialization errors coming from the DB as fatal, rethrowing a `dbwrapper_error`, making sure the callers don't swallow them. Let me experiment with that, thanks for the hints.",
      "created_at": "2026-02-02T13:30:36Z",
      "updated_at": "2026-02-02T13:33:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2754344626",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2754344626"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 376,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2787587200",
      "pull_request_review_id": 3778564386,
      "id": 2787587200,
      "node_id": "PRRC_kwDOABII586mJzSA",
      "diff_hunk": "@@ -376,10 +376,6 @@ static ReturnType ExecuteBackedWrapper(Func func, const std::vector<std::functio\n             f();",
      "path": "src/coins.cpp",
      "position": 1,
      "original_position": 1,
      "commit_id": "3305ca5bc25ad4e91d407ee71806ef485cea207c",
      "original_commit_id": "3305ca5bc25ad4e91d407ee71806ef485cea207c",
      "in_reply_to_id": 2749388661,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "The iterator `GetKey`/`GetValue` deserialization error checking seems quite involved.\r\nSimilarly to `Read`, they currently returns `false` on decode failure, but that behavior seems to be intertwined with existing control flow in multiple places. I tried migrating it in this PR and it became messy, so Iâ€™d prefer to split it out and do a separate PR.\r\n\r\nAs for this PR, if we allow `Read` to throw a `dbwrapper_error`, the call sites become very confusing, e.g. https://github.com/bitcoin/bitcoin/blob/64294c89094d5ab10d87236729cc267fde0a24ca/src/index/blockfilterindex.cpp#L101-L109.\r\nAdding a trap for that for every call site was ugly (couldn't sleep after that).\r\n`std::quick_exit()` likely wouldn't work either across threads.\r\n\r\nSo I'm investigating sinking the `read_error_cb` callback showing the `ThreadSafeMessageBox` closer to the read-failure source (into `DBParams`/`CDBWrapper` instead of `CCoinsViewDB`), so the failure path can be:\r\nlog -> callback(`ThreadSafeMessageBox`) -> `std::abort()`.\r\nThis should allow simplifying the call sites as well.\r\nI think this is similar to what you suggested - I took a big detour but ended up there :)",
      "created_at": "2026-02-10T12:09:12Z",
      "updated_at": "2026-02-10T12:12:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2787587200",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2787587200"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 376,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2787897074",
      "pull_request_review_id": 3778890724,
      "id": 2787897074,
      "node_id": "PRRC_kwDOABII586mK-7y",
      "diff_hunk": "@@ -376,10 +376,6 @@ static ReturnType ExecuteBackedWrapper(Func func, const std::vector<std::functio\n             f();",
      "path": "src/coins.cpp",
      "position": 1,
      "original_position": 1,
      "commit_id": "3305ca5bc25ad4e91d407ee71806ef485cea207c",
      "original_commit_id": "3305ca5bc25ad4e91d407ee71806ef485cea207c",
      "in_reply_to_id": 2749388661,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I don't care too much about the index stuff. I guess this pull is not making it much worse, and it would be fine to just say something in the commit message. \"Blabla, this changes the index behavior to throw on corrupt reads, which can be cleaned up in the future, ...\"\r\n\r\nI mostly care that the consensus code is consistent and properly handled on read corruptions.\r\n\r\nNot sure what the ideal solution is, so I am looking forward to see what comes out here.\r\n\r\nAs for splitting stuff out, I'd be happy to ack the first commit (test) in a separate pull. If it is relevant to any commit in this pull, the commit message can just refer to the test by name.",
      "created_at": "2026-02-10T13:14:29Z",
      "updated_at": "2026-02-10T13:14:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2787897074",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2787897074"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 376,
      "side": "RIGHT"
    }
  ]
}