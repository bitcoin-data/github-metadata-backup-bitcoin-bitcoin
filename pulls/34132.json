{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132",
    "id": 3120160595,
    "node_id": "PR_kwDOABII5865-d9T",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/34132",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/34132.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/34132.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34132",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34132/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/0d0743d4f3f007553abe244c773d062607913161",
    "number": 34132,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "refactor: inline `CCoinsViewErrorCatcher` into `CCoinsViewDB`",
    "user": {
      "login": "l0rinc",
      "id": 1841944,
      "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l0rinc",
      "html_url": "https://github.com/l0rinc",
      "followers_url": "https://api.github.com/users/l0rinc/followers",
      "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
      "organizations_url": "https://api.github.com/users/l0rinc/orgs",
      "repos_url": "https://api.github.com/users/l0rinc/repos",
      "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/l0rinc/received_events",
      "type": "User",
      "site_admin": false,
      "name": null,
      "patch_url": null
    },
    "body": "drafting until https://github.com/bitcoin/bitcoin/pull/34320 is merged to clarify the scope of this change\r\n\r\n-------\r\n\r\n### Problem\r\n\r\nThe current coins database read-error handling adds unnecessary complexity to the critical path:\r\n\r\n- `CCoinsViewErrorCatcher` sits between the cache and database views, wrapping every read operation with a generic error handler\r\n- `ExecuteBackedWrapper` adds another function call layer with lambda captures on each database read\r\n-  Uses `std::vector<std::function<void()>>` for callbacks when there's only ever one callback registered\r\n-  The error callback is set after database initialization rather than during construction (requiring a `cs_main` lock)\r\n\r\nThis adds unnecessary stack depth and bookkeeping overhead on every coins database read operation (`GetCoin`). Also note that `CCoinsViewDB::HaveCoin` isn't even called from production code as far as I can tell.\r\n\r\n### Context\r\n\r\nThis is part of ongoing coins caching cleanup efforts like #34124, #33866, #33018, and #33512.\r\n\r\n### Fix\r\n\r\nThis PR collapses the `CCoinsViewErrorCatcher` layer entirely and moves error handling directly into `CCoinsViewDB`:\r\n\r\n- Remove `ExecuteBackedWrapper` and `CCoinsViewErrorCatcher`, placing try-catch blocks directly in `CCoinsViewDB::GetCoin` and `CCoinsViewDB::HaveCoin`\r\n- Replace `std::vector<std::function<void()>>` with a single `std::function<void()>` member, initialized in the constructor\r\n- The read error callback is now passed to `Chainstate::InitCoinsDB` and forwarded to `CCoinsViewDB` constructor\r\n\r\nA new test is also added to reproduce the behavior in case of database corruption. It's added as a first commit to demonstrate that the behavior stays unchanged.",
    "labels": [
      {
        "id": 135961,
        "node_id": "MDU6TGFiZWwxMzU5NjE=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
        "name": "Refactoring",
        "color": "E6F6D6",
        "default": false
      }
    ],
    "created_at": "2025-12-20T22:56:45Z",
    "updated_at": "2026-01-23T10:51:43Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "7be48fea94246d10440936c13d5ae3d79f2cb91e",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    ],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "l0rinc:l0rinc/move-errorcatcher",
      "ref": "l0rinc/move-errorcatcher",
      "sha": "0d0743d4f3f007553abe244c773d062607913161",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 674169038,
        "node_id": "R_kgDOKC8Azg",
        "name": "bitcoin",
        "full_name": "l0rinc/bitcoin",
        "owner": {
          "login": "l0rinc",
          "id": 1841944,
          "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
          "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/l0rinc",
          "html_url": "https://github.com/l0rinc",
          "followers_url": "https://api.github.com/users/l0rinc/followers",
          "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
          "organizations_url": "https://api.github.com/users/l0rinc/orgs",
          "repos_url": "https://api.github.com/users/l0rinc/repos",
          "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/l0rinc/received_events",
          "type": "User",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/l0rinc/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/l0rinc/bitcoin",
        "archive_url": "https://api.github.com/repos/l0rinc/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/l0rinc/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/l0rinc/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/l0rinc/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/l0rinc/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/l0rinc/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/l0rinc/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/l0rinc/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/l0rinc/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/l0rinc/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/l0rinc/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/l0rinc/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/l0rinc/bitcoin/events",
        "forks_url": "https://api.github.com/repos/l0rinc/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/l0rinc/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/l0rinc/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/l0rinc/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/l0rinc/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/l0rinc/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/l0rinc/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/l0rinc/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/l0rinc/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/l0rinc/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/l0rinc/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/l0rinc/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/l0rinc/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/l0rinc/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/l0rinc/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/l0rinc/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:l0rinc/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/l0rinc/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/l0rinc/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/l0rinc/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/l0rinc/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/l0rinc/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/l0rinc/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/l0rinc/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/l0rinc/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/l0rinc/bitcoin/hooks",
        "svn_url": "https://github.com/l0rinc/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 4,
        "watchers_count": 4,
        "size": 282380,
        "default_branch": "master",
        "open_issues_count": 38,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2026-01-22T22:13:27Z",
        "created_at": "2023-08-03T09:49:12Z",
        "updated_at": "2026-01-22T20:40:17Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "abc6a3a4eb9814a7f17e40f7a4d330cbef86bff0",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 38769,
        "stargazers_count": 87745,
        "watchers_count": 87745,
        "size": 302234,
        "default_branch": "master",
        "open_issues_count": 747,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2026-01-23T09:54:26Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2026-01-23T10:40:13Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": true,
    "additions": 85,
    "deletions": 90,
    "changed_files": 11,
    "commits": 5,
    "review_comments": 22,
    "comments": 6
  },
  "events": [
    {
      "event": "labeled",
      "id": 21687125522,
      "node_id": "LE_lADOABII587fjBumzwAAAAUMp0YS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21687125522",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-20T22:56:49Z",
      "label": {
        "name": "Refactoring",
        "color": "E6F6D6"
      }
    },
    {
      "event": "commented",
      "id": 3678186264,
      "node_id": "IC_kwDOABII587bPKsY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3678186264",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-20T22:56:54Z",
      "updated_at": "2026-01-23T10:51:43Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/34132.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [sedited](https://github.com/bitcoin/bitcoin/pull/34132#issuecomment-3709594872) |\n| Stale ACK | [andrewtoth](https://github.com/bitcoin/bitcoin/pull/34132#pullrequestreview-3648378551) |\n\nIf your review is incorrectly listed, please copy-paste <code>&lt;!--meta-tag:bot-skip--&gt;</code> into the comment that the bot should ignore.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#34320](https://github.com/bitcoin/bitcoin/pull/34320) (coins: replace remaining `HaveCoin` calls with `GetCoin` by l0rinc)\n* [#34276](https://github.com/bitcoin/bitcoin/pull/34276) (Remove empty caption from user interface (noui, gui) by maflcko)\n* [#34207](https://github.com/bitcoin/bitcoin/pull/34207) (coins/refactor: enforce `GetCoin()` returns only unspent coins by l0rinc)\n* [#34164](https://github.com/bitcoin/bitcoin/pull/34164) (validation: add reusable coins view for ConnectBlock by andrewtoth)\n* [#34124](https://github.com/bitcoin/bitcoin/pull/34124) (refactor: make `CCoinsView` a purely virtual abstract base class by l0rinc)\n* [#31382](https://github.com/bitcoin/bitcoin/pull/31382) (kernel: Flush in ChainstateManager destructor by sedited)\n* [#31132](https://github.com/bitcoin/bitcoin/pull/31132) (validation: fetch block inputs on parallel threads 3x faster IBD by andrewtoth)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#issuecomment-3678186264",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34132"
    },
    {
      "event": "labeled",
      "id": 21687355771,
      "node_id": "LE_lADOABII587fjBumzwAAAAUMqsl7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21687355771",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-21T00:14:49Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21689056531,
      "node_id": "HRFPE_lADOABII587fjBumzwAAAAUMxL0T",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21689056531",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "53de82d7429a174326fe24edf150584cf9aa1191",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/53de82d7429a174326fe24edf150584cf9aa1191",
      "created_at": "2025-12-21T07:55:52Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21713515609,
      "node_id": "HRFPE_lADOABII587fjBumzwAAAAUOOfRZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21713515609",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "0973a03b76566881c5f207e5b11837f0f7ef66dd",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/0973a03b76566881c5f207e5b11837f0f7ef66dd",
      "created_at": "2025-12-22T21:37:21Z"
    },
    {
      "event": "commented",
      "id": 3685636357,
      "node_id": "IC_kwDOABII587brlkF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3685636357",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-23T08:04:46Z",
      "updated_at": "2025-12-23T08:04:46Z",
      "author_association": "CONTRIBUTOR",
      "body": "close/open dance to retrigger CI - likely caused by [GitHub outage](https://www.githubstatus.com/history) ",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#issuecomment-3685636357",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34132"
    },
    {
      "event": "closed",
      "id": 21720402980,
      "node_id": "CE_lADOABII587fjBumzwAAAAUOowwk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21720402980",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-23T08:04:46Z"
    },
    {
      "event": "reopened",
      "id": 21720403561,
      "node_id": "REE_lADOABII587fjBumzwAAAAUOow5p",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21720403561",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-23T08:04:49Z"
    },
    {
      "event": "unlabeled",
      "id": 21721670046,
      "node_id": "UNLE_lADOABII587fjBumzwAAAAUOtmGe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21721670046",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-23T09:22:58Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "ready_for_review",
      "id": 21721757908,
      "node_id": "RFRE_lADOABII587fjBumzwAAAAUOt7jU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21721757908",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-23T09:27:05Z"
    },
    {
      "event": "reviewed",
      "id": 3625121433,
      "node_id": "PRR_kwDOABII587YEvaZ",
      "url": null,
      "actor": null,
      "commit_id": "0973a03b76566881c5f207e5b11837f0f7ef66dd",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-01-04T18:40:28Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK\r\n\r\nI think getting rid of this indirection is great. It reduces a lot of complexity when thinking about the stack of views.\r\n\r\nWhen reviewing, I think the last 3 commits should be combined into 1. There doesn't seem to be much value in creating and then removing functions in multiple commits.\r\n\r\nI would utACK but I wanted clarity on why we have to skip a test when no IPC.",
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#pullrequestreview-3625121433",
      "submitted_at": "2026-01-04T18:40:28Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
    },
    {
      "event": "commented",
      "id": 3709594872,
      "node_id": "IC_kwDOABII587dG-z4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3709594872",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-05T09:26:47Z",
      "updated_at": "2026-01-05T09:26:47Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#issuecomment-3709594872",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34132"
    },
    {
      "event": "labeled",
      "id": 21870672849,
      "node_id": "LE_lADOABII587fjBumzwAAAAUXl_vR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21870672849",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-06T08:10:18Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21967157355,
      "node_id": "HRFPE_lADOABII587fjBumzwAAAAUdWDhr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21967157355",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "dceb67114d9e6523005f7d707c3fb627e4a6cb3b",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/dceb67114d9e6523005f7d707c3fb627e4a6cb3b",
      "created_at": "2026-01-11T00:44:38Z"
    },
    {
      "event": "commented",
      "id": 3733764137,
      "node_id": "IC_kwDOABII587ejLgp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3733764137",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-11T00:45:21Z",
      "updated_at": "2026-01-11T00:45:21Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased and updated the added test to work on [32 bit systems](https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2679121949) as well. Ready for review again! ",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#issuecomment-3733764137",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34132"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21972694234,
      "node_id": "HRFPE_lADOABII587fjBumzwAAAAUdrLTa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21972694234",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "4ae1f793d6718edf7a94fb032a2a7423105e85bd",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/4ae1f793d6718edf7a94fb032a2a7423105e85bd",
      "created_at": "2026-01-11T17:07:40Z"
    },
    {
      "event": "unlabeled",
      "id": 21973758401,
      "node_id": "UNLE_lADOABII587fjBumzwAAAAUdvPHB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21973758401",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-11T18:27:34Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 3648297222,
      "node_id": "PRR_kwDOABII587ZdJkG",
      "url": null,
      "actor": null,
      "commit_id": "4ae1f793d6718edf7a94fb032a2a7423105e85bd",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-01-11T18:51:32Z",
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#pullrequestreview-3648297222",
      "submitted_at": "2026-01-11T18:51:32Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
    },
    {
      "event": "reviewed",
      "id": 3648378551,
      "node_id": "PRR_kwDOABII587Zdda3",
      "url": null,
      "actor": null,
      "commit_id": "4ae1f793d6718edf7a94fb032a2a7423105e85bd",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-01-11T19:40:10Z",
      "author_association": "CONTRIBUTOR",
      "body": "ACK 4ae1f793d6718edf7a94fb032a2a7423105e85bd",
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#pullrequestreview-3648378551",
      "submitted_at": "2026-01-11T19:40:10Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
    },
    {
      "event": "review_requested",
      "id": 21974763796,
      "node_id": "RRE_lADOABII587fjBumzwAAAAUdzEkU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21974763796",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-11T19:40:14Z",
      "requested_reviewer": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    },
    {
      "event": "reviewed",
      "id": 3650676738,
      "node_id": "PRR_kwDOABII587ZmOgC",
      "url": null,
      "actor": null,
      "commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-01-12T13:04:42Z",
      "author_association": "MEMBER",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#pullrequestreview-3650676738",
      "submitted_at": "2026-01-12T13:04:41Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21994364059,
      "node_id": "HRFPE_lADOABII587fjBumzwAAAAUe91yb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21994364059",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "d3063740684f51722850e6ffec290951913fa56d",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/d3063740684f51722850e6ffec290951913fa56d",
      "created_at": "2026-01-12T16:40:13Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21995236842,
      "node_id": "HRFPE_lADOABII587fjBumzwAAAAUfBK3q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21995236842",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "36a01d082a860ae060c93525c9a0ffe974a9f729",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/36a01d082a860ae060c93525c9a0ffe974a9f729",
      "created_at": "2026-01-12T17:19:32Z"
    },
    {
      "event": "labeled",
      "id": 21995247572,
      "node_id": "LE_lADOABII587fjBumzwAAAAUfBNfU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21995247572",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-12T17:20:04Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDM1NjQzODNjMmE2ZDMzNjZmMTQ5NjY1ZmJhMWU4YzRlNDk0NWQxYTg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3564383c2a6d3366f149665fba1e8c4e4945d1a8",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/3564383c2a6d3366f149665fba1e8c4e4945d1a8",
      "tree": {
        "sha": "8caa93570e51a5f5366fb773d2a64b294b27b34c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8caa93570e51a5f5366fb773d2a64b294b27b34c"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 8caa93570e51a5f5366fb773d2a64b294b27b34c\nparent 595504a43209bead162da54a204df7d140a25f0e\nauthor Lrinc <pap.lorinc@gmail.com> 1766164779 +0100\ncommitter Lrinc <pap.lorinc@gmail.com> 1768243634 +0100\n\ntest: add test for coins database read error handling\n\nThe error was also reworded to avoid the leading repetition (see expected stderr).\n\n### Reproducers\nThe test failure can be triggered manually by:\n```patch\nstd::optional<Coin> CCoinsViewErrorCatcher::GetCoin(const COutPoint& outpoint) const\n{\n-    return ExecuteBackedWrapper<std::optional<Coin>>([&]() { return CCoinsViewBacked::GetCoin(outpoint); }, m_err_callbacks);\n+    return CCoinsViewBacked::GetCoin(outpoint);\n}\n```\n\n### Notes\nNote that CCoinsViewErrorCatcher::HaveCoin failure isn't tested since it doesn't seem to be used in production code, all tests pass with:\n```patch\nbool CCoinsViewErrorCatcher::HaveCoin(const COutPoint& outpoint) const\n{\n-    return ExecuteBackedWrapper<bool>([&]() { return CCoinsViewBacked::HaveCoin(outpoint); }, m_err_callbacks);\n+    throw \"CCoinsViewBacked::HaveCoin\";\n}\n```\n\n### Context:\n\nOn 64-bit systems, LevelDB uses mmap which reflects file changes immediately.\nOn 32-bit systems (i686, armhf), mmap is disabled (kDefaultMmapLimit=0 in leveldb/util/env_posix.cc), so LevelDB uses block cache which serves stale data.\nThe node must be restarted after corruption to clear the cache.\n\nCorruption is placed at the middle to avoid LevelDB's paranoid_checks verification during database open, and -checkblocks=0 -checklevel=0 skips Bitcoin's block verification.\n\nCo-authored-by: MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqXy8dDLWkKQdUrTAZp//D/pHenYFAmllQbIACgkQZp//D/pH\nenYAChAArqQQS9JyEcfPYl4kiwhdSlePVpWcwGWi7mtGB95dBuKLbg7n7xW5bKYr\nWsVnCkrXOIUoCUJqQHBSAH/t5Mpd9FOPNarp5vi0nru1DRm6QeFrVS2AGriZZpqE\niXqnd9SS7E1d6m8s/ys9vT8LlrZUe90ZSo3YIHX2eeB7hNCbyU9fyOKN08KtZ60s\nelt29eFBmb5C18a6Xzt6nH1GYfd+hzh8jDH/fOOeIrWJhgBJg1c2EYm/9HCFCbwr\nwRQ6Q+XdGi1CPy6oFFouoocYxf9Akm8ZLUT5eZYzWvtlKImF7W7ufw10wJy5Qray\nfkw1ZJWWTiYk0XgDwv10RTdRT08q2js2+RJQVHX+Ff/ipqLZ6OEORZHCNlNY4jXi\nZ/QwLnjUqlgWcPOk04RNHmPetPQNoUTzXuXfNTsPLWVBFC52b85PL8ITBrcVi+QH\ne5nNNnRXmFxmBQiHrGc47u0iIZZXl/RRXsyNB1gqXPsw/vIolxh7guTX0O/Pt2hW\nPYHTyjSqqFwDirt1DoCMs2LEMHnkYlz4dAq2MI97kW3F1sE8rOrdLne6lxszLRBt\n3MiF5Aa3ab/uhVqdkotgrR7h5ExbtL3qtOz2Tlo24xLGDSKSLDY7K5N8cEqTP4Nx\nk3X8EZmX0ywj1n8+tPBftpIe+3TuGO44vC+hUJg56Ybg3OLKhhk=\n=pic9\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/595504a43209bead162da54a204df7d140a25f0e",
          "sha": "595504a43209bead162da54a204df7d140a25f0e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/595504a43209bead162da54a204df7d140a25f0e"
        }
      ],
      "message": "test: add test for coins database read error handling\n\nThe error was also reworded to avoid the leading repetition (see expected stderr).\n\n### Reproducers\nThe test failure can be triggered manually by:\n```patch\nstd::optional<Coin> CCoinsViewErrorCatcher::GetCoin(const COutPoint& outpoint) const\n{\n-    return ExecuteBackedWrapper<std::optional<Coin>>([&]() { return CCoinsViewBacked::GetCoin(outpoint); }, m_err_callbacks);\n+    return CCoinsViewBacked::GetCoin(outpoint);\n}\n```\n\n### Notes\nNote that CCoinsViewErrorCatcher::HaveCoin failure isn't tested since it doesn't seem to be used in production code, all tests pass with:\n```patch\nbool CCoinsViewErrorCatcher::HaveCoin(const COutPoint& outpoint) const\n{\n-    return ExecuteBackedWrapper<bool>([&]() { return CCoinsViewBacked::HaveCoin(outpoint); }, m_err_callbacks);\n+    throw \"CCoinsViewBacked::HaveCoin\";\n}\n```\n\n### Context:\n\nOn 64-bit systems, LevelDB uses mmap which reflects file changes immediately.\nOn 32-bit systems (i686, armhf), mmap is disabled (kDefaultMmapLimit=0 in leveldb/util/env_posix.cc), so LevelDB uses block cache which serves stale data.\nThe node must be restarted after corruption to clear the cache.\n\nCorruption is placed at the middle to avoid LevelDB's paranoid_checks verification during database open, and -checkblocks=0 -checklevel=0 skips Bitcoin's block verification.\n\nCo-authored-by: MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz>",
      "committer": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-01-12T18:47:14Z"
      },
      "author": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-12-19T17:19:39Z"
      },
      "sha": "3564383c2a6d3366f149665fba1e8c4e4945d1a8"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDAwYWY1ZDcyYzI2MzkwNjAyNWQxNzc2MTE3OWMxZmMxY2M1ZmZkZjI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/00af5d72c263906025d17761179c1fc1cc5ffdf2",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/00af5d72c263906025d17761179c1fc1cc5ffdf2",
      "tree": {
        "sha": "395028185b3691c74ca232284df5bb3adefe61f0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/395028185b3691c74ca232284df5bb3adefe61f0"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 395028185b3691c74ca232284df5bb3adefe61f0\nparent 3564383c2a6d3366f149665fba1e8c4e4945d1a8\nauthor Lrinc <pap.lorinc@gmail.com> 1766170400 +0100\ncommitter Lrinc <pap.lorinc@gmail.com> 1768243636 +0100\n\nrefactor: rename coins_error_cb to read_error_cb for clarity\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqXy8dDLWkKQdUrTAZp//D/pHenYFAmllQbQACgkQZp//D/pH\nenaEuxAAmDdedF6xk65kShMFXwCqUTPaVydt5PmPR2S3DkCqjbNXBtejxnEnh/oM\nb0Wq4Tj/XnsU/PVUDpiRMrU0NJ5fuWzptw9n4mw6so+d81ksxKLbq7uUjszoxauz\nKFbRprn+/Pn6x+gUV6kCgBF+AnwZxr1VcfCyGaWuhK0mWqETdBbASqww4fNCqBok\n+d3GWt10/IRabxphlgVJYwmaVtUyT86IBBQMzkndF1lGfSsWxFOjXL4r9JSqpMzt\nn3sRsuvHHMkSKPVdhb89tDFNI5ODzs4u+O2x1LMuIe0tNeDTnvoHQovwqEvL6Mgi\n1qo3rFwabmT6Fv7Z6Lc3AnKMY3UFb2ODBOD/yy+MU08/yErq/AeqtwKbmzOnaZTx\nxTNTFLTNjFrB1Vyw6vk7kvI+kJ/Mlk09xagZpo/XgBXJiXIOICTaFXBnMeokjEmi\nv3B49E70F9ohpT/ncwndLBNBpKFPqIqSC1uN6imU0p5GC4CeblkAt2M5wSxZwMD0\nzJx3xwD/fejeB3spG18fCg+tPpzLPTDd2upLu/ZWj80/7PAjRliib4ygsNpqF+xS\nKx7TaxrXMS6s2Rh911DM68PZv3LohYaeUsCvzFWeDnjMYrGL8Zo+y9usqnoNFRa/\n/5hykjd4nn6ji9T6V6G3D6nScbBSmq4DNek8kWxaiOjlD+XIGIw=\n=+vxD\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3564383c2a6d3366f149665fba1e8c4e4945d1a8",
          "sha": "3564383c2a6d3366f149665fba1e8c4e4945d1a8",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/3564383c2a6d3366f149665fba1e8c4e4945d1a8"
        }
      ],
      "message": "refactor: rename coins_error_cb to read_error_cb for clarity",
      "committer": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-01-12T18:47:16Z"
      },
      "author": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-12-19T18:53:20Z"
      },
      "sha": "00af5d72c263906025d17761179c1fc1cc5ffdf2"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDAyOTIyNGIzMWUxNjg0MWY0MDk3YTMyNTQ0MmQ0NGVhYmMzNjEzYTE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/029224b31e16841f4097a325442d44eabc3613a1",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/029224b31e16841f4097a325442d44eabc3613a1",
      "tree": {
        "sha": "deebdd5567fa90b642a1846d26fa2bcc0850219f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/deebdd5567fa90b642a1846d26fa2bcc0850219f"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree deebdd5567fa90b642a1846d26fa2bcc0850219f\nparent 00af5d72c263906025d17761179c1fc1cc5ffdf2\nauthor Lrinc <pap.lorinc@gmail.com> 1766153249 +0100\ncommitter Lrinc <pap.lorinc@gmail.com> 1768243636 +0100\n\nrefactor: inline `ExecuteBackedWrapper`\n\nInlined `ExecuteBackedWrapper`, removing a lambda indirection and specializing the error logs per usage.\n\nThe error handling will be pushed down to the call sites in follow ups.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqXy8dDLWkKQdUrTAZp//D/pHenYFAmllQbQACgkQZp//D/pH\nenbRww//TmkaAU9vG+p7HNoZknVNP6gGQJlvC48Jb9gUniN3JxWvDYN9tJGOlLbj\nMuZDllKEPe0OIm+P0/gkzO9YINg2p9O8LFIaeqZC7jNSTye52lFukrXRqktXOZLb\nI4K1rzDWtAacm1F2KXkbiIIQnIox7pYf3h2J/cd/2RYMLwEVOyTSIHCxjDDWzt7j\ng8EPPorMlLN0+2+iq691AFWiaFA/QjA71nMiCPGL8iuIHGtY+Wj6+PYxPQ+cPmtF\nB9OW6j4rE2anT5v75trygdk6V9wI41FmTLtVtrbrUOPrZsBbvXNFhj5TonTS93st\nblljtNfpJRODYn0cQlPiBpGzUSNDqhirT/Th0LSLvvD/6l0NhrkCchW9R/f2gh3K\ndSyRc5JQ/ouwUhO0s3Udc5i8I9Qg+gkzeaejG+Gvq9OAsXwfh1ZErnoIEy5ZLzsv\nphj47q3tgzPgMxQYXrpjYU6ujTN0lPnezIFEL+NWAHQnhbWOiA5xiHeNFQGuS66V\nUqplLM5chEH4zHWcHyag7if+57HbvgXt0Qz7qMP/3ED13yqG9+B2zi6RaHiDRXse\n02VzONi+vSx0Xh/EslfWkSEho9ptRT2lzlkOqwr85rI5oP1o31EyJK5FYbKpj6Ov\nw1xas5fKyB+jHzcnebBbKRqAbJpjXP0zXI7YRvXJRlREVpTzWEQ=\n=TtfH\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/00af5d72c263906025d17761179c1fc1cc5ffdf2",
          "sha": "00af5d72c263906025d17761179c1fc1cc5ffdf2",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/00af5d72c263906025d17761179c1fc1cc5ffdf2"
        }
      ],
      "message": "refactor: inline `ExecuteBackedWrapper`\n\nInlined `ExecuteBackedWrapper`, removing a lambda indirection and specializing the error logs per usage.\n\nThe error handling will be pushed down to the call sites in follow ups.",
      "committer": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-01-12T18:47:16Z"
      },
      "author": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-12-19T14:07:29Z"
      },
      "sha": "029224b31e16841f4097a325442d44eabc3613a1"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDgzNDVmZGRjZDIyYjNlMWY0ODU3MDczNDM5MTc5OTc4ZjA2MzlmNDg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8345fddcd22b3e1f4857073439179978f0639f48",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/8345fddcd22b3e1f4857073439179978f0639f48",
      "tree": {
        "sha": "d8b3d70bccca6ff4e57da4380644abe42fd72eae",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d8b3d70bccca6ff4e57da4380644abe42fd72eae"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree d8b3d70bccca6ff4e57da4380644abe42fd72eae\nparent 029224b31e16841f4097a325442d44eabc3613a1\nauthor Lrinc <pap.lorinc@gmail.com> 1766150567 +0100\ncommitter Lrinc <pap.lorinc@gmail.com> 1768243636 +0100\n\nrefactor: inline `CCoinsViewErrorCatcher`\n\nThere's only ever a single callback at most, let's assign it instead of pretending we have a list of callbacks. This will be moved to the constructor in the next commit.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqXy8dDLWkKQdUrTAZp//D/pHenYFAmllQbQACgkQZp//D/pH\nenbe9xAAlagWvU6mBnGq3f1bAqc5pv45+MpHnjzo2h3KPYl7dg+GNE6gYxSyWgxi\nlAukHI1dHat6/brBJYWnhGYcagvUgjiKmHEqW4DUVYNEowmtVXmf7qS07V2c8h9E\nwc2N2K1IV0Fr8RXBwZMtrxgkrnfflfCfBSXB0N6qKypiAloqlslUpwYSRPpbycHo\nfL5n9GW4HiNIt77gHe4WM6ueUu6vICyBfz0q0Flw8KHXqLu6VLTAfMqn8YGmgTpJ\nmsrznd14pNseAyGINjRouXk8w5MR+npIPWlsOykhJRfAakOxFF4CQsloCQfv+APk\nrWZObxP+NeQGGG62h3r5O1MRvQZD5PyoVgiuoZiBWnRZrBEZcLA9HCwW2uyUIOTL\nEYROokIYxX9lyI8MsLR5BS1l7Kywb8kFXddflgbSyCkX/zgoM5hgSwbh/qiJgGeX\nXXnSjv7+mTFkc1vsj4OX0PWEiE73PP089VtvndqfMSlluDjD0OTG7VrDrV9Hlz32\nMk+sx7qUOP5F5tQvAeGHk6H85hRKsO1yV2r71BO9tj9D/EeBtkvRC8linzuEwcAP\n3ss10dFIsBpLOEsyI4jSD5Y5Ng0nL1vO6XCDv1O4mAUBjqSq8z4NEgK1cjW4IuOO\nPXZG+kbutiFgPuuEWxeG+Aoy+R1IO8SecrNn0aaiCsvlpQYBkE8=\n=11xn\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/029224b31e16841f4097a325442d44eabc3613a1",
          "sha": "029224b31e16841f4097a325442d44eabc3613a1",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/029224b31e16841f4097a325442d44eabc3613a1"
        }
      ],
      "message": "refactor: inline `CCoinsViewErrorCatcher`\n\nThere's only ever a single callback at most, let's assign it instead of pretending we have a list of callbacks. This will be moved to the constructor in the next commit.",
      "committer": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-01-12T18:47:16Z"
      },
      "author": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-12-19T13:22:47Z"
      },
      "sha": "8345fddcd22b3e1f4857073439179978f0639f48"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDBkMDc0M2Q0ZjNmMDA3NTUzYWJlMjQ0Yzc3M2QwNjI2MDc5MTMxNjE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0d0743d4f3f007553abe244c773d062607913161",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/0d0743d4f3f007553abe244c773d062607913161",
      "tree": {
        "sha": "6363c68ecc4e341918931fbab5a07c5f7e863d1e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6363c68ecc4e341918931fbab5a07c5f7e863d1e"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 6363c68ecc4e341918931fbab5a07c5f7e863d1e\nparent 8345fddcd22b3e1f4857073439179978f0639f48\nauthor Lrinc <pap.lorinc@gmail.com> 1766170273 +0100\ncommitter Lrinc <pap.lorinc@gmail.com> 1768243636 +0100\n\nrefactor: init read error callback in InitCoinsDB\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqXy8dDLWkKQdUrTAZp//D/pHenYFAmllQbQACgkQZp//D/pH\nenZNzA/9F8ldAmvpohwFAJfaWGEXOFixAR2IpdSws0p1bt0uLkWFwXoy8eEcisql\nZQUenflsE79f707rz6pWclGZlWmy8koePk8ChGgBY+Z7t5woRo/t3FDUYdYeCabp\nYEI3jli3RmCw9onQz+L82DLpWkR4IicaPfFLGc6NcoXUU6KcBw64JsL/Hgbz1R2X\nkhQturrFOf4OpQ32+HAGAudZV/k3R5YHv/goNmgIRxy+WzkpVdR8UwH+7fp3rKjS\na9M4STmF4xLn5TSkbGfOfBpUm1K61dVHmRPt/yqgJaz1NkhjifQbXjW4+atNjpAm\nztN91ZT/6TZ0xfqIgiCc98M/TypHHbtz1R9/OEvjov2D7Y6QaBlmi/rG6Yp1Q/Hh\nYNKMKlf1rMY3tR1DwlLKmRosPDveszXQO7S+2+tmA0RYflBYpwQ+PYAMLHZ9Bk+X\njgh9/zFdX1ebWv4n//m9NWeI3qzeR6hEgdnEjUtC8WsbG9D6menoV9oXni8nmP05\n7rZEuLRExr0xsGKToYNTEptcrR9A9UEHe7Zfj0QLdu+LJs7zkezic4oK7JLEtFDl\nC/EsfhRnUuko1UFYey7Fg9Cll3HE10ZhMNXOwBYYOEQZDV9CPXwPW8DPdEZmd6yL\nIfFShFnTOMNVHsp8q9mkGZGwT9C3GtZmZs84MlTpaxXMBkpPUEU=\n=oyvP\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8345fddcd22b3e1f4857073439179978f0639f48",
          "sha": "8345fddcd22b3e1f4857073439179978f0639f48",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/8345fddcd22b3e1f4857073439179978f0639f48"
        }
      ],
      "message": "refactor: init read error callback in InitCoinsDB",
      "committer": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-01-12T18:47:16Z"
      },
      "author": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-12-19T18:51:13Z"
      },
      "sha": "0d0743d4f3f007553abe244c773d062607913161"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21997075370,
      "node_id": "HRFPE_lADOABII587fjBumzwAAAAUfILuq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21997075370",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "0d0743d4f3f007553abe244c773d062607913161",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/0d0743d4f3f007553abe244c773d062607913161",
      "created_at": "2026-01-12T18:48:44Z"
    },
    {
      "event": "unlabeled",
      "id": 21998692482,
      "node_id": "UNLE_lADOABII587fjBumzwAAAAUfOWiC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21998692482",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-12T20:06:55Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 3655253632,
      "node_id": "PRR_kwDOABII587Z3r6A",
      "url": null,
      "actor": null,
      "commit_id": "0d0743d4f3f007553abe244c773d062607913161",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-01-13T11:28:23Z",
      "author_association": "MEMBER",
      "body": "left two more comments.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#pullrequestreview-3655253632",
      "submitted_at": "2026-01-13T11:28:23Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
    },
    {
      "event": "commented",
      "id": 3773370938,
      "node_id": "IC_kwDOABII587g6RI6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3773370938",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-20T15:11:13Z",
      "updated_at": "2026-01-20T15:11:13Z",
      "author_association": "CONTRIBUTOR",
      "body": "drafting until https://github.com/bitcoin/bitcoin/pull/34320 is merged to clarify the scope of this change",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#issuecomment-3773370938",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34132"
    },
    {
      "event": "convert_to_draft",
      "id": 22164210811,
      "node_id": "CTDE_lADOABII587fjBumzwAAAAUpFwR7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22164210811",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-20T15:11:16Z"
    },
    {
      "event": "commented",
      "id": 3773440501,
      "node_id": "IC_kwDOABII587g6iH1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3773440501",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-20T15:25:05Z",
      "updated_at": "2026-01-20T15:25:05Z",
      "author_association": "MEMBER",
      "body": "I'd be happy to still review this one, if you want to push. The two should be mostly orthogonal.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#issuecomment-3773440501",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34132"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2659843996",
      "pull_request_review_id": 3625121433,
      "id": 2659843996,
      "node_id": "PRRC_kwDOABII586eif-c",
      "diff_hunk": "@@ -1364,7 +1364,7 @@ static ChainstateLoadResult InitAndLoadChainstate(\n     options.require_full_verification = args.IsArgSet(\"-checkblocks\") || args.IsArgSet(\"-checklevel\");\n     options.coins_error_cb = [] {\n         uiInterface.ThreadSafeMessageBox(\n-            _(\"Error reading from database, shutting down.\"),\n+            _(\"Cannot read database, shutting down.\"),",
      "path": "src/init.cpp",
      "position": 1,
      "original_position": 5,
      "commit_id": "0973a03b76566881c5f207e5b11837f0f7ef66dd",
      "original_commit_id": "83d2b3eaca10a717b00058e1a4321912be7b95c9",
      "in_reply_to_id": null,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "nit\r\n```suggestion\r\n            _(\"Cannot read from database, shutting down.\"),\r\n```",
      "created_at": "2026-01-04T18:27:07Z",
      "updated_at": "2026-01-04T18:40:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2659843996",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2659843996"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1367,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2659845168",
      "pull_request_review_id": 3625121433,
      "id": 2659845168,
      "node_id": "PRRC_kwDOABII586eigQw",
      "diff_hunk": "@@ -0,0 +1,37 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test that coins database read errors trigger a shutdown message.\"\"\"\n+import platform\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class CoinsDBReadErrorTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        self.skip_if_no_ipc()",
      "path": "test/functional/feature_coinsdb_read_error.py",
      "position": 1,
      "original_position": 18,
      "commit_id": "0973a03b76566881c5f207e5b11837f0f7ef66dd",
      "original_commit_id": "83d2b3eaca10a717b00058e1a4321912be7b95c9",
      "in_reply_to_id": null,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> `skip_if_no_ipc` was added to the test since on `i686, no IPC` the db corruption didn't trigger any failure.\r\n\r\nDo we know why?",
      "created_at": "2026-01-04T18:29:37Z",
      "updated_at": "2026-01-04T18:40:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2659845168",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2659845168"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2662744693",
      "pull_request_review_id": 3628354629,
      "id": 2662744693,
      "node_id": "PRRC_kwDOABII586etkJ1",
      "diff_hunk": "@@ -0,0 +1,37 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test that coins database read errors trigger a shutdown message.\"\"\"\n+import platform\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class CoinsDBReadErrorTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        self.skip_if_no_ipc()",
      "path": "test/functional/feature_coinsdb_read_error.py",
      "position": 1,
      "original_position": 18,
      "commit_id": "0973a03b76566881c5f207e5b11837f0f7ef66dd",
      "original_commit_id": "83d2b3eaca10a717b00058e1a4321912be7b95c9",
      "in_reply_to_id": 2659845168,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I don't, I just noticed that the ci failed because the db corruption didn't cause the read to fail. I'm wondering if there's some intermediary cache that prevented the read from disk. Tried restarting the node and doing a few other tricks, but the node never crashed on `i686, no IPC` when I corrupted the db... Maybe @ryanofsky can help us out here...",
      "created_at": "2026-01-05T20:40:45Z",
      "updated_at": "2026-01-05T20:40:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2662744693",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2662744693"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2664068476",
      "pull_request_review_id": 3629903117,
      "id": 2664068476,
      "node_id": "PRRC_kwDOABII586eynV8",
      "diff_hunk": "@@ -0,0 +1,37 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test that coins database read errors trigger a shutdown message.\"\"\"\n+import platform\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class CoinsDBReadErrorTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        self.skip_if_no_ipc()",
      "path": "test/functional/feature_coinsdb_read_error.py",
      "position": 1,
      "original_position": 18,
      "commit_id": "0973a03b76566881c5f207e5b11837f0f7ef66dd",
      "original_commit_id": "83d2b3eaca10a717b00058e1a4321912be7b95c9",
      "in_reply_to_id": 2659845168,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "It fails on all 32-bit architectures, it seems. E.g. armhf:\r\n\r\n```\r\nfeature_coinsdb_read_error.py                                                    |  Failed  | 80 s",
      "created_at": "2026-01-06T08:18:13Z",
      "updated_at": "2026-01-06T08:18:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2664068476",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2664068476"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2679121949",
      "pull_request_review_id": 3647331992,
      "id": 2679121949,
      "node_id": "PRRC_kwDOABII586fsCgd",
      "diff_hunk": "@@ -0,0 +1,37 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test that coins database read errors trigger a shutdown message.\"\"\"\n+import platform\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class CoinsDBReadErrorTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        self.skip_if_no_ipc()",
      "path": "test/functional/feature_coinsdb_read_error.py",
      "position": 1,
      "original_position": 18,
      "commit_id": "0973a03b76566881c5f207e5b11837f0f7ef66dd",
      "original_commit_id": "83d2b3eaca10a717b00058e1a4321912be7b95c9",
      "in_reply_to_id": 2659845168,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Was a bit more involved to find out why this is the case and why the test is failing.\r\nReproduced it with https://github.com/l0rinc/bitcoin/actions/runs/20884565973/job/60007051301?pr=90\r\n\r\nThe trick was that on 64-bit systems, `LevelDB` uses `mmap` which reflects file changes immediately - this is what we we're used to. But on 32-bit systems (i686, armhf), `mmap` is disabled (`kDefaultMmapLimit=0` in `leveldb/util/env_posix.cc`), so `LevelDB` uses block cache which serves stale data. So the corruption on disk isn't reflected during runtime. The node must be restarted after corruption to clear the cache, but it usually fails immediately because of the `paranoid_checks`. Managed to work around that by corrupting the middle and turning off a few sanity checks on restart.\r\n\r\nAdjusted the tests, https://github.com/l0rinc/bitcoin/actions/runs/20885734265/job/60009569692?pr=90 indicates it's working on both platforms now.",
      "created_at": "2026-01-11T00:44:37Z",
      "updated_at": "2026-01-11T00:44:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2679121949",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2679121949"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2679121968",
      "pull_request_review_id": 3647332014,
      "id": 2679121968,
      "node_id": "PRRC_kwDOABII586fsCgw",
      "diff_hunk": "@@ -1364,7 +1364,7 @@ static ChainstateLoadResult InitAndLoadChainstate(\n     options.require_full_verification = args.IsArgSet(\"-checkblocks\") || args.IsArgSet(\"-checklevel\");\n     options.coins_error_cb = [] {\n         uiInterface.ThreadSafeMessageBox(\n-            _(\"Error reading from database, shutting down.\"),\n+            _(\"Cannot read database, shutting down.\"),",
      "path": "src/init.cpp",
      "position": 1,
      "original_position": 5,
      "commit_id": "0973a03b76566881c5f207e5b11837f0f7ef66dd",
      "original_commit_id": "83d2b3eaca10a717b00058e1a4321912be7b95c9",
      "in_reply_to_id": 2659843996,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Done",
      "created_at": "2026-01-11T00:44:41Z",
      "updated_at": "2026-01-11T00:44:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2679121968",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2679121968"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1367,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2680070358",
      "pull_request_review_id": 3648297222,
      "id": 2680070358,
      "node_id": "PRRC_kwDOABII586fvqDW",
      "diff_hunk": "@@ -1362,9 +1362,9 @@ static ChainstateLoadResult InitAndLoadChainstate(\n     options.check_blocks = args.GetIntArg(\"-checkblocks\", DEFAULT_CHECKBLOCKS);\n     options.check_level = args.GetIntArg(\"-checklevel\", DEFAULT_CHECKLEVEL);\n     options.require_full_verification = args.IsArgSet(\"-checkblocks\") || args.IsArgSet(\"-checklevel\");\n-    options.coins_error_cb = [] {\n+    options.read_error_cb = [] {",
      "path": "src/init.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "0d0743d4f3f007553abe244c773d062607913161",
      "original_commit_id": "4ae1f793d6718edf7a94fb032a2a7423105e85bd",
      "in_reply_to_id": null,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Is there a way to verify that this callback is still being executed in the functional test?\r\nMaybe add a debug log that we can assert?",
      "created_at": "2026-01-11T18:51:32Z",
      "updated_at": "2026-01-11T18:51:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2680070358",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2680070358"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1365,
      "original_line": 1365,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2680107724",
      "pull_request_review_id": 3648335713,
      "id": 2680107724,
      "node_id": "PRRC_kwDOABII586fvzLM",
      "diff_hunk": "@@ -1362,9 +1362,9 @@ static ChainstateLoadResult InitAndLoadChainstate(\n     options.check_blocks = args.GetIntArg(\"-checkblocks\", DEFAULT_CHECKBLOCKS);\n     options.check_level = args.GetIntArg(\"-checklevel\", DEFAULT_CHECKLEVEL);\n     options.require_full_verification = args.IsArgSet(\"-checkblocks\") || args.IsArgSet(\"-checklevel\");\n-    options.coins_error_cb = [] {\n+    options.read_error_cb = [] {",
      "path": "src/init.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "0d0743d4f3f007553abe244c773d062607913161",
      "original_commit_id": "4ae1f793d6718edf7a94fb032a2a7423105e85bd",
      "in_reply_to_id": 2680070358,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Is that now what we're doing now? Can you add a diff for how you imagine it? I went through a thousand iterations for that test until I found this one that works on all CI :).\r\nIf you have a better one to validate the read_error_cb error, let me know.",
      "created_at": "2026-01-11T19:15:36Z",
      "updated_at": "2026-01-11T19:15:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2680107724",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2680107724"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1365,
      "original_line": 1365,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2680146712",
      "pull_request_review_id": 3648378088,
      "id": 2680146712,
      "node_id": "PRRC_kwDOABII586fv8sY",
      "diff_hunk": "@@ -1362,9 +1362,9 @@ static ChainstateLoadResult InitAndLoadChainstate(\n     options.check_blocks = args.GetIntArg(\"-checkblocks\", DEFAULT_CHECKBLOCKS);\n     options.check_level = args.GetIntArg(\"-checklevel\", DEFAULT_CHECKLEVEL);\n     options.require_full_verification = args.IsArgSet(\"-checkblocks\") || args.IsArgSet(\"-checklevel\");\n-    options.coins_error_cb = [] {\n+    options.read_error_cb = [] {",
      "path": "src/init.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "0d0743d4f3f007553abe244c773d062607913161",
      "original_commit_id": "4ae1f793d6718edf7a94fb032a2a7423105e85bd",
      "in_reply_to_id": 2680070358,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Right nvm, LGTM.",
      "created_at": "2026-01-11T19:39:53Z",
      "updated_at": "2026-01-11T19:39:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2680146712",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2680146712"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1365,
      "original_line": 1365,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2682196113",
      "pull_request_review_id": 3650676738,
      "id": 2682196113,
      "node_id": "PRRC_kwDOABII586f3xCR",
      "diff_hunk": "@@ -0,0 +1,43 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test that coins database read errors trigger a shutdown message.\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class CoinsDBReadErrorTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+\n+        # Stop node to clear LevelDB block cache (required for 32-bit where mmap is disabled)\n+        self.stop_node(0)\n+\n+        for ldb_path in (node.chain_path / \"chainstate\").glob(\"*.ldb\"):\n+            with open(ldb_path, \"r+b\") as f:\n+                f.seek(ldb_path.stat().st_size // 2)\n+                f.write(b'\\xff')\n+\n+        self.start_node(0, extra_args=[\"-checkblocks=0\", \"-checklevel=0\"])\n+\n+        with node.assert_debug_log([\"block checksum mismatch\"]):\n+            try:\n+                for height in range(1, node.getblockcount() + 1):\n+                    txid = node.getblock(node.getblockhash(height))[\"tx\"][0]\n+                    node.gettxout(txid, 0)\n+            except Exception:",
      "path": "test/functional/feature_coinsdb_read_error.py",
      "position": 1,
      "original_position": 34,
      "commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "original_commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "nit in the first commit: A wildcard Exception is always a bit hard to read, as to what it means.\n\nI think in this context, we want all exceptions to be fatal aborts.\n\nSo this could be written as:\n\n\n```py\n   # All exceptions here should be fatal aborts.\n  except (http.client.CannotSendRequest, http.client.RemoteDisconnected) as e:\n```\n\nThis will also make the inducted test failure (mentioned in the commit message) nicer to read, and a lot faster.",
      "created_at": "2026-01-12T13:04:42Z",
      "updated_at": "2026-01-12T13:04:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2682196113",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2682196113"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 34,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2682753313",
      "pull_request_review_id": 3651341814,
      "id": 2682753313,
      "node_id": "PRRC_kwDOABII586f55Eh",
      "diff_hunk": "@@ -0,0 +1,43 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test that coins database read errors trigger a shutdown message.\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class CoinsDBReadErrorTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+\n+        # Stop node to clear LevelDB block cache (required for 32-bit where mmap is disabled)\n+        self.stop_node(0)\n+\n+        for ldb_path in (node.chain_path / \"chainstate\").glob(\"*.ldb\"):\n+            with open(ldb_path, \"r+b\") as f:\n+                f.seek(ldb_path.stat().st_size // 2)\n+                f.write(b'\\xff')\n+\n+        self.start_node(0, extra_args=[\"-checkblocks=0\", \"-checklevel=0\"])\n+\n+        with node.assert_debug_log([\"block checksum mismatch\"]):\n+            try:\n+                for height in range(1, node.getblockcount() + 1):\n+                    txid = node.getblock(node.getblockhash(height))[\"tx\"][0]\n+                    node.gettxout(txid, 0)\n+            except Exception:",
      "path": "test/functional/feature_coinsdb_read_error.py",
      "position": 1,
      "original_position": 34,
      "commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "original_commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "in_reply_to_id": 2682196113,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Also, in the first commit: This is unrelated to this refactor, but if the `HaveCoin` is dead code, then I suspect that https://github.com/bitcoin/bitcoin/pull/26331 did not fix https://github.com/bitcoin/bitcoin/issues/26112.\r\n\r\nWith this diff, I get the crash traceback:\r\n\r\n```diff\r\ndiff --git a/src/coins.cpp b/src/coins.cpp\r\nindex 7f2ffc38ef..53716f4e87 100644\r\n--- a/src/coins.cpp\r\n+++ b/src/coins.cpp\r\n@@ -376,6 +376,7 @@ static ReturnType ExecuteBackedWrapper(Func func, const std::vector<std::functio\r\n         // interpreted as 'entry not found' (as opposed to unable to read data), and\r\n         // could lead to invalid interpretation. Just exit immediately, as we can't\r\n         // continue anyway, and all writes should be atomic.\r\n+        assert(false);\r\n         std::abort();\r\n     }\r\n }\r\n@@ -387,5 +388,6 @@ std::optional<Coin> CCoinsViewErrorCatcher::GetCoin(const COutPoint& outpoint) c\r\n \r\n bool CCoinsViewErrorCatcher::HaveCoin(const COutPoint& outpoint) const\r\n {\r\n+        assert(false);\r\n     return ExecuteBackedWrapper<bool>([&]() { return CCoinsViewBacked::HaveCoin(outpoint); }, m_err_callbacks);\r\n }\r\ndiff --git a/test/functional/feature_coinsdb_read_error.py b/test/functional/feature_coinsdb_read_error.py\r\nindex 3f0dff0893..942e0ee0e0 100755\r\n--- a/test/functional/feature_coinsdb_read_error.py\r\n+++ b/test/functional/feature_coinsdb_read_error.py\r\n@@ -6,6 +6,7 @@\r\n \"\"\"Test that coins database read errors trigger a shutdown message.\"\"\"\r\n \r\n from test_framework.test_framework import BitcoinTestFramework\r\n+from test_framework.wallet import MiniWallet\r\n \r\n \r\n class CoinsDBReadErrorTest(BitcoinTestFramework):\r\n@@ -16,6 +17,9 @@ class CoinsDBReadErrorTest(BitcoinTestFramework):\r\n     def run_test(self):\r\n         node = self.nodes[0]\r\n \r\n+        miniwallet = MiniWallet(node)\r\n+        utxos = miniwallet.get_utxos(mark_as_spent=False)\r\n+\r\n         # Stop node to clear LevelDB block cache (required for 32-bit where mmap is disabled)\r\n         self.stop_node(0)\r\n \r\n@@ -27,12 +31,11 @@ class CoinsDBReadErrorTest(BitcoinTestFramework):\r\n         self.start_node(0, extra_args=[\"-checkblocks=0\", \"-checklevel=0\"])\r\n \r\n         with node.assert_debug_log([\"block checksum mismatch\"]):\r\n-            try:\r\n-                for height in range(1, node.getblockcount() + 1):\r\n-                    txid = node.getblock(node.getblockhash(height))[\"tx\"][0]\r\n-                    node.gettxout(txid, 0)\r\n-            except Exception:\r\n-                pass\r\n+         for utxo in utxos:\r\n+            tx = miniwallet.create_self_transfer(utxo_to_spend=utxo)\r\n+            self.generateblock(node, output=\"raw(55)\", transactions=[tx[\"hex\"]])\r\n+            #testres = node.testmempoolaccept([tx[\"hex\"]])[0]\r\n+            #assert testres[\"allowed\"], testres\r\n \r\n         node.wait_until(lambda: node.process.poll())\r\n         assert node.is_node_stopped(expected_stderr=\"Error: Cannot read from database, shutting down.\",\r\n```\r\n\r\n```\r\n==68989==    by 0x4A8C782: ExecuteBackedWrapper<std::optional<Coin>, (lambda at ./coins.cpp:386:54)> (./coins.cpp:379)\r\n==68989==    by 0x4A8C782: CCoinsViewErrorCatcher::GetCoin(COutPoint const&) const (???:386)\r\n==68989==    by 0x4A8A3B9: CCoinsViewCache::FetchCoin(COutPoint const&) const (./coins.cpp:55)\r\n==68989==    by 0x4A8A605: CCoinsViewCache::GetCoin(COutPoint const&) const (./coins.cpp:72)\r\n==68989==    by 0x4A8A3B9: CCoinsViewCache::FetchCoin(COutPoint const&) const (./coins.cpp:55)\r\n==68989==    by 0x4A8B286: CCoinsViewCache::HaveCoin(COutPoint const&) const (./coins.cpp:171)\r\n==68989==    by 0x4A8C25F: CCoinsViewCache::HaveInputs(CTransaction const&) const (./coins.cpp:300)\r\n==68989==    by 0x438BB00: Consensus::CheckTxInputs(CTransaction const&, TxValidationState&, CCoinsViewCache const&, int, long&) (./consensus/tx_verify.cpp:167)\r\n==68989==    by 0x479C492: Chainstate::ConnectBlock(CBlock const&, BlockValidationState&, CBlockIndex*, CCoinsViewCache&, bool) (./validation.cpp:2564)\r\n```\r\n\r\nSo the suggestion in https://github.com/bitcoin/bitcoin/issues/26112#issuecomment-1249683401 and the resulting pull request  likely did not  pinpoint and fix the bug.",
      "created_at": "2026-01-12T15:24:01Z",
      "updated_at": "2026-01-12T15:24:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2682753313",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2682753313"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 34,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2683179229",
      "pull_request_review_id": 3651845064,
      "id": 2683179229,
      "node_id": "PRRC_kwDOABII586f7hDd",
      "diff_hunk": "@@ -0,0 +1,43 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test that coins database read errors trigger a shutdown message.\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class CoinsDBReadErrorTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+\n+        # Stop node to clear LevelDB block cache (required for 32-bit where mmap is disabled)\n+        self.stop_node(0)\n+\n+        for ldb_path in (node.chain_path / \"chainstate\").glob(\"*.ldb\"):\n+            with open(ldb_path, \"r+b\") as f:\n+                f.seek(ldb_path.stat().st_size // 2)\n+                f.write(b'\\xff')\n+\n+        self.start_node(0, extra_args=[\"-checkblocks=0\", \"-checklevel=0\"])\n+\n+        with node.assert_debug_log([\"block checksum mismatch\"]):\n+            try:\n+                for height in range(1, node.getblockcount() + 1):\n+                    txid = node.getblock(node.getblockhash(height))[\"tx\"][0]\n+                    node.gettxout(txid, 0)\n+            except Exception:",
      "path": "test/functional/feature_coinsdb_read_error.py",
      "position": 1,
      "original_position": 34,
      "commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "original_commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "in_reply_to_id": 2682196113,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> This will also make the inducted test failure (mentioned in the commit message) nicer to read, and a lot faster.\r\n\r\nI don't expect the failure case to happen often, so the speed doesn't really matter, but the error message is a lot clearer this way:\r\n```\r\n     node.gettxout(txid, 0)\r\n    ~~~~~~~~~~~~~^^^^^^^^^\r\n```\r\n\r\nThanks for the suggestion, updated in https://github.com/bitcoin/bitcoin/compare/4ae1f793d6718edf7a94fb032a2a7423105e85bd..36a01d082a860ae060c93525c9a0ffe974a9f729, added you as coauthor.\r\n\r\n----------\r\n\r\n> if the HaveCoin is dead code, then I suspect that https://github.com/bitcoin/bitcoin/pull/26331 did not fix https://github.com/bitcoin/bitcoin/issues/26112.\r\n\r\n`CCoinsViewDB::HaveCoin` seems to be the reason for why `HaveCoin` was introduced in the first place https://github.com/bitcoin/bitcoin/blob/d3063740684f51722850e6ffec290951913fa56d/src/txdb.cpp#L81-L90\r\nin other cases we could just call `GetCoin` (most implementations actually do).\r\n\r\nThe underlying `Exists` https://github.com/bitcoin/bitcoin/blob/a9b7f5614c24fe6f386448604c325ec4fa6c98a5/src/dbwrapper.h#L234-L241 avoid serialization of `Read` https://github.com/bitcoin/bitcoin/blob/a9b7f5614c24fe6f386448604c325ec4fa6c98a5/src/dbwrapper.h#L206-L224\r\n\r\nExplicitly throwing from `CCoinsViewDB::HaveCoin` and replacing the test-only `HaveCoin` calls with `GetCoin` in `coins_tests.cpp` indicates that we don't have any production `HaveCoin` calls going to disk. The same is confirmed by keeping the exception and starting `bitcoind`.\r\n\r\n<details>\r\n<summary>Patch</summary>\r\n\r\n```patch\r\ndiff --git a/src/test/coins_tests.cpp b/src/test/coins_tests.cpp\r\nindex 6396fce60a..c6c8fb9229 100644\r\n--- a/src/test/coins_tests.cpp\r\n+++ b/src/test/coins_tests.cpp\r\n@@ -160,7 +160,7 @@ void SimulationTest(CCoinsView* base, bool fake_best_block)\r\n             bool test_havecoin_before = m_rng.randbits(2) == 0;\r\n             bool test_havecoin_after = m_rng.randbits(2) == 0;\r\n \r\n-            bool result_havecoin = test_havecoin_before ? stack.back()->HaveCoin(COutPoint(txid, 0)) : false;\r\n+            bool result_havecoin = test_havecoin_before ? !!stack.back()->GetCoin(COutPoint(txid, 0)) : false;\r\n \r\n             // Infrequently, test usage of AccessByTxid instead of AccessCoin - the\r\n             // former just delegates to the latter and returns the first unspent in a txn.\r\n@@ -173,7 +173,7 @@ void SimulationTest(CCoinsView* base, bool fake_best_block)\r\n             }\r\n \r\n             if (test_havecoin_after) {\r\n-                bool ret = stack.back()->HaveCoin(COutPoint(txid, 0));\r\n+                bool ret = !!stack.back()->GetCoin(COutPoint(txid, 0));\r\n                 BOOST_CHECK(ret == !entry.IsSpent());\r\n             }\r\n \r\n@@ -214,7 +214,7 @@ void SimulationTest(CCoinsView* base, bool fake_best_block)\r\n         // Once every 1000 iterations and at the end, verify the full cache.\r\n         if (m_rng.randrange(1000) == 1 || i == NUM_SIMULATION_ITERATIONS - 1) {\r\n             for (const auto& entry : result) {\r\n-                bool have = stack.back()->HaveCoin(entry.first);\r\n+                bool have = !!stack.back()->GetCoin(entry.first);\r\n                 const Coin& coin = stack.back()->AccessCoin(entry.first);\r\n                 BOOST_CHECK(have == !coin.IsSpent());\r\n                 BOOST_CHECK(coin == entry.second);\r\n@@ -473,7 +473,7 @@ BOOST_FIXTURE_TEST_CASE(updatecoins_simulation_test, UpdateTest)\r\n         // Once every 1000 iterations and at the end, verify the full cache.\r\n         if (m_rng.randrange(1000) == 1 || i == NUM_SIMULATION_ITERATIONS - 1) {\r\n             for (const auto& entry : result) {\r\n-                bool have = stack.back()->HaveCoin(entry.first);\r\n+                bool have = !!stack.back()->GetCoin(entry.first);\r\n                 const Coin& coin = stack.back()->AccessCoin(entry.first);\r\n                 BOOST_CHECK(have == !coin.IsSpent());\r\n                 BOOST_CHECK(coin == entry.second);\r\n@@ -920,8 +920,8 @@ void TestFlushBehavior(\r\n     COutPoint outp = COutPoint(txid, 0);\r\n     Coin coin = MakeCoin();\r\n     // Ensure the coins views haven't seen this coin before.\r\n-    BOOST_CHECK(!base.HaveCoin(outp));\r\n-    BOOST_CHECK(!view->HaveCoin(outp));\r\n+    BOOST_CHECK(!base.GetCoin(outp));\r\n+    BOOST_CHECK(!view->GetCoin(outp));\r\n \r\n     // --- 1. Adding a random coin to the child cache\r\n     //\r\n@@ -931,8 +931,8 @@ void TestFlushBehavior(\r\n     cache_size = view->map().size();\r\n \r\n     // `base` shouldn't have coin (no flush yet) but `view` should have cached it.\r\n-    BOOST_CHECK(!base.HaveCoin(outp));\r\n-    BOOST_CHECK(view->HaveCoin(outp));\r\n+    BOOST_CHECK(!base.GetCoin(outp));\r\n+    BOOST_CHECK(!!view->GetCoin(outp));\r\n \r\n     BOOST_CHECK_EQUAL(GetCoinsMapEntry(view->map(), outp), CoinEntry(coin.out.nValue, CoinEntry::State::DIRTY_FRESH));\r\n \r\n@@ -949,8 +949,8 @@ void TestFlushBehavior(\r\n     BOOST_CHECK_EQUAL(GetCoinsMapEntry(view->map(), outp), CoinEntry(coin.out.nValue, CoinEntry::State::CLEAN)); // State should have been wiped.\r\n \r\n     // Both views should now have the coin.\r\n-    BOOST_CHECK(base.HaveCoin(outp));\r\n-    BOOST_CHECK(view->HaveCoin(outp));\r\n+    BOOST_CHECK(!!base.GetCoin(outp));\r\n+    BOOST_CHECK(!!view->GetCoin(outp));\r\n \r\n     if (do_erasing_flush) {\r\n         // --- 4. Flushing the caches again (with erasing)\r\n@@ -981,14 +981,14 @@ void TestFlushBehavior(\r\n \r\n     // The coin should be in the cache, but spent and marked dirty.\r\n     BOOST_CHECK_EQUAL(GetCoinsMapEntry(view->map(), outp), SPENT_DIRTY);\r\n-    BOOST_CHECK(!view->HaveCoin(outp)); // Coin should be considered spent in `view`.\r\n-    BOOST_CHECK(base.HaveCoin(outp));  // But coin should still be unspent in `base`.\r\n+    BOOST_CHECK(!view->GetCoin(outp)); // Coin should be considered spent in `view`.\r\n+    BOOST_CHECK(!!base.GetCoin(outp));  // But coin should still be unspent in `base`.\r\n \r\n     flush_all(/*erase=*/ false);\r\n \r\n     // Coin should be considered spent in both views.\r\n-    BOOST_CHECK(!view->HaveCoin(outp));\r\n-    BOOST_CHECK(!base.HaveCoin(outp));\r\n+    BOOST_CHECK(!view->GetCoin(outp));\r\n+    BOOST_CHECK(!base.GetCoin(outp));\r\n \r\n     // Spent coin should not be spendable.\r\n     BOOST_CHECK(!view->SpendCoin(outp));\r\n@@ -999,21 +999,21 @@ void TestFlushBehavior(\r\n     txid = Txid::FromUint256(m_rng.rand256());\r\n     outp = COutPoint(txid, 0);\r\n     coin = MakeCoin();\r\n-    BOOST_CHECK(!base.HaveCoin(outp));\r\n-    BOOST_CHECK(!all_caches[0]->HaveCoin(outp));\r\n-    BOOST_CHECK(!all_caches[1]->HaveCoin(outp));\r\n+    BOOST_CHECK(!base.GetCoin(outp));\r\n+    BOOST_CHECK(!all_caches[0]->GetCoin(outp));\r\n+    BOOST_CHECK(!all_caches[1]->GetCoin(outp));\r\n \r\n     all_caches[0]->AddCoin(outp, std::move(coin), false);\r\n     all_caches[0]->Sync();\r\n-    BOOST_CHECK(base.HaveCoin(outp));\r\n-    BOOST_CHECK(all_caches[0]->HaveCoin(outp));\r\n+    BOOST_CHECK(!!base.GetCoin(outp));\r\n+    BOOST_CHECK(!!all_caches[0]->GetCoin(outp));\r\n     BOOST_CHECK(!all_caches[1]->HaveCoinInCache(outp));\r\n \r\n     BOOST_CHECK(all_caches[1]->SpendCoin(outp));\r\n     flush_all(/*erase=*/ false);\r\n-    BOOST_CHECK(!base.HaveCoin(outp));\r\n-    BOOST_CHECK(!all_caches[0]->HaveCoin(outp));\r\n-    BOOST_CHECK(!all_caches[1]->HaveCoin(outp));\r\n+    BOOST_CHECK(!base.GetCoin(outp));\r\n+    BOOST_CHECK(!all_caches[0]->GetCoin(outp));\r\n+    BOOST_CHECK(!all_caches[1]->GetCoin(outp));\r\n \r\n     flush_all(/*erase=*/ true); // Erase all cache content.\r\n \r\n@@ -1023,9 +1023,9 @@ void TestFlushBehavior(\r\n     outp = COutPoint(txid, 0);\r\n     coin = MakeCoin();\r\n     CAmount coin_val = coin.out.nValue;\r\n-    BOOST_CHECK(!base.HaveCoin(outp));\r\n-    BOOST_CHECK(!all_caches[0]->HaveCoin(outp));\r\n-    BOOST_CHECK(!all_caches[1]->HaveCoin(outp));\r\n+    BOOST_CHECK(!base.GetCoin(outp));\r\n+    BOOST_CHECK(!all_caches[0]->GetCoin(outp));\r\n+    BOOST_CHECK(!all_caches[1]->GetCoin(outp));\r\n \r\n     // Add and spend from same cache without flushing.\r\n     all_caches[0]->AddCoin(outp, std::move(coin), false);\r\n@@ -1033,7 +1033,7 @@ void TestFlushBehavior(\r\n     // Coin should be FRESH in the cache.\r\n     BOOST_CHECK_EQUAL(GetCoinsMapEntry(all_caches[0]->map(), outp), CoinEntry(coin_val, CoinEntry::State::DIRTY_FRESH));\r\n     // Base shouldn't have seen coin.\r\n-    BOOST_CHECK(!base.HaveCoin(outp));\r\n+    BOOST_CHECK(!base.GetCoin(outp));\r\n \r\n     BOOST_CHECK(all_caches[0]->SpendCoin(outp));\r\n     all_caches[0]->Sync();\r\n@@ -1041,7 +1041,7 @@ void TestFlushBehavior(\r\n     // Ensure there is no sign of the coin after spend/flush.\r\n     BOOST_CHECK(!GetCoinsMapEntry(all_caches[0]->map(), outp));\r\n     BOOST_CHECK(!all_caches[0]->HaveCoinInCache(outp));\r\n-    BOOST_CHECK(!base.HaveCoin(outp));\r\n+    BOOST_CHECK(!base.GetCoin(outp));\r\n }\r\n }; // struct FlushTest\r\n \r\ndiff --git a/src/txdb.cpp b/src/txdb.cpp\r\nindex 1dc20717bc..6613b72f7b 100644\r\n--- a/src/txdb.cpp\r\n+++ b/src/txdb.cpp\r\n@@ -80,13 +80,7 @@ std::optional<Coin> CCoinsViewDB::GetCoin(const COutPoint& outpoint) const\r\n \r\n bool CCoinsViewDB::HaveCoin(const COutPoint& outpoint) const\r\n {\r\n-    try {\r\n-        return m_db->Exists(CoinEntry(&outpoint));\r\n-    } catch (const std::runtime_error& e) {\r\n-        m_read_error_cb();\r\n-        LogError(\"Database error in HaveCoin: %s\", e.what());\r\n-        std::abort();\r\n-    }\r\n+    throw \"CCoinsViewDB::HaveCoin\"; // TODO see who fails this way\r\n }\r\n \r\n uint256 CCoinsViewDB::GetBestBlock() const {\r\n```\r\n\r\n</details>\r\n\r\n-------\r\n\r\n> https://github.com/bitcoin/bitcoin/pull/26331 did not fix https://github.com/bitcoin/bitcoin/issues/26112.\r\n\r\nI will investigate that, thanks for bringing them to my attention. \r\n\r\n-------\r\n\r\nEdit: `i686, no IPC` disagreed with the previous exceptions, trying something broader: https://github.com/bitcoin/bitcoin/actions/runs/20928505545/job/60133010356?pr=34132",
      "created_at": "2026-01-12T17:16:35Z",
      "updated_at": "2026-01-12T18:48:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2683179229",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2683179229"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 34,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2685521121",
      "pull_request_review_id": 3654696257,
      "id": 2685521121,
      "node_id": "PRRC_kwDOABII586gEczh",
      "diff_hunk": "@@ -0,0 +1,43 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test that coins database read errors trigger a shutdown message.\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class CoinsDBReadErrorTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+\n+        # Stop node to clear LevelDB block cache (required for 32-bit where mmap is disabled)\n+        self.stop_node(0)\n+\n+        for ldb_path in (node.chain_path / \"chainstate\").glob(\"*.ldb\"):\n+            with open(ldb_path, \"r+b\") as f:\n+                f.seek(ldb_path.stat().st_size // 2)\n+                f.write(b'\\xff')\n+\n+        self.start_node(0, extra_args=[\"-checkblocks=0\", \"-checklevel=0\"])\n+\n+        with node.assert_debug_log([\"block checksum mismatch\"]):\n+            try:\n+                for height in range(1, node.getblockcount() + 1):\n+                    txid = node.getblock(node.getblockhash(height))[\"tx\"][0]\n+                    node.gettxout(txid, 0)\n+            except Exception:",
      "path": "test/functional/feature_coinsdb_read_error.py",
      "position": 1,
      "original_position": 34,
      "commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "original_commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "in_reply_to_id": 2682196113,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I think you can pick the same list, like in test/functional/rpc_misc.py:\r\n\r\n```py\r\n...\r\n        except (\r\n                subprocess.CalledProcessError,\r\n                http.client.CannotSendRequest,\r\n                http.client.RemoteDisconnected,\r\n        ):\r\n            self.log.info(\"Restart node after crash\")\r\n...\r\n```\r\n\r\nthe subprocess one is for `bitcoin-cli`, and the others are for the http authproxy.\r\n\r\n\r\nEdit: Hmm, so apparently, Windows runs into this:\r\n\r\n```\r\n                                   ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host\r\n```\r\n\r\nNot sure why this would be needed here, but not in rpc_misc.py.\r\n\r\n",
      "created_at": "2026-01-13T09:05:42Z",
      "updated_at": "2026-01-13T09:49:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2685521121",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2685521121"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 34,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2685727504",
      "pull_request_review_id": 3654996802,
      "id": 2685727504,
      "node_id": "PRRC_kwDOABII586gFPMQ",
      "diff_hunk": "@@ -0,0 +1,43 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test that coins database read errors trigger a shutdown message.\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class CoinsDBReadErrorTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+\n+        # Stop node to clear LevelDB block cache (required for 32-bit where mmap is disabled)\n+        self.stop_node(0)\n+\n+        for ldb_path in (node.chain_path / \"chainstate\").glob(\"*.ldb\"):\n+            with open(ldb_path, \"r+b\") as f:\n+                f.seek(ldb_path.stat().st_size // 2)\n+                f.write(b'\\xff')\n+\n+        self.start_node(0, extra_args=[\"-checkblocks=0\", \"-checklevel=0\"])\n+\n+        with node.assert_debug_log([\"block checksum mismatch\"]):\n+            try:\n+                for height in range(1, node.getblockcount() + 1):\n+                    txid = node.getblock(node.getblockhash(height))[\"tx\"][0]\n+                    node.gettxout(txid, 0)\n+            except Exception:",
      "path": "test/functional/feature_coinsdb_read_error.py",
      "position": 1,
      "original_position": 34,
      "commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "original_commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "in_reply_to_id": 2682196113,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Yeah, Windows and 32 bots were a real pain for this test... do you think I should investigate further?\r\nI'm fine with the current test (except `HaveCoin` not delegating to the specialized db implementation, working on it....)",
      "created_at": "2026-01-13T10:11:54Z",
      "updated_at": "2026-01-13T10:11:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2685727504",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2685727504"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 34,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2685941439",
      "pull_request_review_id": 3655236326,
      "id": 2685941439,
      "node_id": "PRRC_kwDOABII586gGDa_",
      "diff_hunk": "@@ -0,0 +1,43 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test that coins database read errors trigger a shutdown message.\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class CoinsDBReadErrorTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+\n+        # Stop node to clear LevelDB block cache (required for 32-bit where mmap is disabled)\n+        self.stop_node(0)\n+\n+        for ldb_path in (node.chain_path / \"chainstate\").glob(\"*.ldb\"):\n+            with open(ldb_path, \"r+b\") as f:\n+                f.seek(ldb_path.stat().st_size // 2)\n+                f.write(b'\\xff')\n+\n+        self.start_node(0, extra_args=[\"-checkblocks=0\", \"-checklevel=0\"])\n+\n+        with node.assert_debug_log([\"block checksum mismatch\"]):\n+            try:\n+                for height in range(1, node.getblockcount() + 1):\n+                    txid = node.getblock(node.getblockhash(height))[\"tx\"][0]\n+                    node.gettxout(txid, 0)\n+            except Exception:",
      "path": "test/functional/feature_coinsdb_read_error.py",
      "position": 1,
      "original_position": 34,
      "commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "original_commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "in_reply_to_id": 2682196113,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "It is just a nit about the \"wildcard\" `catch ... Exception:`.\r\n\r\nI wonder if\r\n\r\n```py\r\nexcept (\r\n                subprocess.CalledProcessError,\r\n                http.client.CannotSendRequest,\r\n                http.client.RemoteDisconnected,\r\n                ConnectionResetError,\r\n        ):\r\n```\r\n\r\npasses. I'd prefer that, but again, this is just a nit.",
      "created_at": "2026-01-13T11:12:36Z",
      "updated_at": "2026-01-13T11:12:36Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2685941439",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2685941439"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 34,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2685955268",
      "pull_request_review_id": 3655253632,
      "id": 2685955268,
      "node_id": "PRRC_kwDOABII586gGGzE",
      "diff_hunk": "@@ -34,7 +34,7 @@ struct ChainstateLoadOptions {\n     bool require_full_verification{true};\n     int64_t check_blocks{DEFAULT_CHECKBLOCKS};\n     int64_t check_level{DEFAULT_CHECKLEVEL};\n-    std::function<void()> coins_error_cb;\n+    std::function<void()> read_error_cb{[]{}};",
      "path": "src/node/chainstate.h",
      "position": 5,
      "original_position": 5,
      "commit_id": "00af5d72c263906025d17761179c1fc1cc5ffdf2",
      "original_commit_id": "00af5d72c263906025d17761179c1fc1cc5ffdf2",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "e77ef5c8ab9c618a38ced5c7cfbc639da5fa6aa2: I don't think this is a rename. You change nullptr to an object?! When changing behavior, you should mention why the behavior is changed, instead of omitting the change.",
      "created_at": "2026-01-13T11:16:32Z",
      "updated_at": "2026-01-13T11:28:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2685955268",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2685955268"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 37,
      "original_line": 37,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2685971802",
      "pull_request_review_id": 3655253632,
      "id": 2685971802,
      "node_id": "PRRC_kwDOABII586gGK1a",
      "diff_hunk": "@@ -362,30 +362,24 @@ const Coin& AccessByTxid(const CCoinsViewCache& view, const Txid& txid)\n     return coinEmpty;\n }\n \n-template <typename ReturnType, typename Func>\n-static ReturnType ExecuteBackedWrapper(Func func, const std::vector<std::function<void()>>& err_callbacks)\n+std::optional<Coin> CCoinsViewErrorCatcher::GetCoin(const COutPoint& outpoint) const\n {\n     try {\n-        return func();\n-    } catch(const std::runtime_error& e) {\n-        for (const auto& f : err_callbacks) {\n-            f();\n-        }\n-        LogError(\"Error reading from database: %s\\n\", e.what());\n-        // Starting the shutdown sequence and returning false to the caller would be\n-        // interpreted as 'entry not found' (as opposed to unable to read data), and\n-        // could lead to invalid interpretation. Just exit immediately, as we can't\n-        // continue anyway, and all writes should be atomic.",
      "path": "src/coins.cpp",
      "position": 18,
      "original_position": 18,
      "commit_id": "029224b31e16841f4097a325442d44eabc3613a1",
      "original_commit_id": "029224b31e16841f4097a325442d44eabc3613a1",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "029224b31e16841f4097a325442d44eabc3613a1: I don't think this is an \"inline\". You are removing this comment without even mentioning it. When removing code, you should mention why it is not needed.",
      "created_at": "2026-01-13T11:21:39Z",
      "updated_at": "2026-01-13T11:28:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2685971802",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2685971802"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": 375,
      "original_start_line": 375,
      "start_side": "LEFT",
      "line": 378,
      "original_line": 378,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2686864978",
      "pull_request_review_id": 3656357756,
      "id": 2686864978,
      "node_id": "PRRC_kwDOABII586gJk5S",
      "diff_hunk": "@@ -362,30 +362,24 @@ const Coin& AccessByTxid(const CCoinsViewCache& view, const Txid& txid)\n     return coinEmpty;\n }\n \n-template <typename ReturnType, typename Func>\n-static ReturnType ExecuteBackedWrapper(Func func, const std::vector<std::function<void()>>& err_callbacks)\n+std::optional<Coin> CCoinsViewErrorCatcher::GetCoin(const COutPoint& outpoint) const\n {\n     try {\n-        return func();\n-    } catch(const std::runtime_error& e) {\n-        for (const auto& f : err_callbacks) {\n-            f();\n-        }\n-        LogError(\"Error reading from database: %s\\n\", e.what());\n-        // Starting the shutdown sequence and returning false to the caller would be\n-        // interpreted as 'entry not found' (as opposed to unable to read data), and\n-        // could lead to invalid interpretation. Just exit immediately, as we can't\n-        // continue anyway, and all writes should be atomic.",
      "path": "src/coins.cpp",
      "position": 18,
      "original_position": 18,
      "commit_id": "029224b31e16841f4097a325442d44eabc3613a1",
      "original_commit_id": "029224b31e16841f4097a325442d44eabc3613a1",
      "in_reply_to_id": 2685971802,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I think the `ExecuteBackedWrapper` can be kept. It seems applicable if it is moved to txdb.cpp as well?",
      "created_at": "2026-01-13T15:15:03Z",
      "updated_at": "2026-01-13T15:15:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2686864978",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2686864978"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": 375,
      "original_start_line": 375,
      "start_side": "LEFT",
      "line": 378,
      "original_line": 378,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2688407672",
      "pull_request_review_id": 3658266189,
      "id": 2688407672,
      "node_id": "PRRC_kwDOABII586gPdh4",
      "diff_hunk": "@@ -0,0 +1,43 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test that coins database read errors trigger a shutdown message.\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class CoinsDBReadErrorTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+\n+        # Stop node to clear LevelDB block cache (required for 32-bit where mmap is disabled)\n+        self.stop_node(0)\n+\n+        for ldb_path in (node.chain_path / \"chainstate\").glob(\"*.ldb\"):\n+            with open(ldb_path, \"r+b\") as f:\n+                f.seek(ldb_path.stat().st_size // 2)\n+                f.write(b'\\xff')\n+\n+        self.start_node(0, extra_args=[\"-checkblocks=0\", \"-checklevel=0\"])\n+\n+        with node.assert_debug_log([\"block checksum mismatch\"]):\n+            try:\n+                for height in range(1, node.getblockcount() + 1):\n+                    txid = node.getblock(node.getblockhash(height))[\"tx\"][0]\n+                    node.gettxout(txid, 0)\n+            except Exception:",
      "path": "test/functional/feature_coinsdb_read_error.py",
      "position": 1,
      "original_position": 34,
      "commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "original_commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "in_reply_to_id": 2682196113,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "https://github.com/l0rinc/bitcoin/pull/93/changes/5a11d22973c18f2d9d6df3a1c635fc099120c600#diff-ec1488c477d842de37ca241dcd59da114261dc4c5e490dcde1fdeacc5c47dbccR36-R39 indicates it does, will change on next push, thanks",
      "created_at": "2026-01-13T23:08:44Z",
      "updated_at": "2026-01-13T23:08:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2688407672",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2688407672"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 34,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2692307054",
      "pull_request_review_id": 3663133906,
      "id": 2692307054,
      "node_id": "PRRC_kwDOABII586geVhu",
      "diff_hunk": "@@ -0,0 +1,43 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test that coins database read errors trigger a shutdown message.\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class CoinsDBReadErrorTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+\n+        # Stop node to clear LevelDB block cache (required for 32-bit where mmap is disabled)\n+        self.stop_node(0)\n+\n+        for ldb_path in (node.chain_path / \"chainstate\").glob(\"*.ldb\"):\n+            with open(ldb_path, \"r+b\") as f:\n+                f.seek(ldb_path.stat().st_size // 2)\n+                f.write(b'\\xff')\n+\n+        self.start_node(0, extra_args=[\"-checkblocks=0\", \"-checklevel=0\"])\n+\n+        with node.assert_debug_log([\"block checksum mismatch\"]):\n+            try:\n+                for height in range(1, node.getblockcount() + 1):\n+                    txid = node.getblock(node.getblockhash(height))[\"tx\"][0]\n+                    node.gettxout(txid, 0)\n+            except Exception:",
      "path": "test/functional/feature_coinsdb_read_error.py",
      "position": 1,
      "original_position": 34,
      "commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "original_commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "in_reply_to_id": 2682196113,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> https://github.com/bitcoin/bitcoin/pull/26331 did not fix https://github.com/bitcoin/bitcoin/issues/26112.\r\n\r\nThe more I think about it, the less sense it makes. I forgot that I have already tried removing `HaveCoin` about a year ago...\r\n\r\nOn the database side reading a value or checking if it exists is basically the same:\r\nhttps://github.com/bitcoin/bitcoin/blob/cd0959ce9b7c5b80ebd45b652d557630b4dc604b/src/dbwrapper.cpp#L304-L331\r\n\r\nThe difference comes a layer higher, where `Exists` just forwards a boolean:\r\nhttps://github.com/bitcoin/bitcoin/blob/a9b7f5614c24fe6f386448604c325ec4fa6c98a5/src/dbwrapper.h#L234-L241\r\nwhile `Read` attempts to deobfuscate + deserialize:\r\nhttps://github.com/bitcoin/bitcoin/blob/a9b7f5614c24fe6f386448604c325ec4fa6c98a5/src/dbwrapper.h#L206-L224\r\n\r\n(Note that `Read` can return `false` on deserialization failure, while `Exists` will return `true` if the key is present, so \"have\" and \"get\" are only equivalent assuming the DB entry is readable. I will also investigate why we are not simply throwing when we cannot deserialize the value. cc: @sipa)\r\n\r\nSo `Exists` is not really an IO optimization (it still does a `DB::Get()`), it mainly avoids the decode step and can return \"present\" even if the value is unreadable.\r\n\r\nIn the UTXO stack, when `HaveCoin` is implemented via the DB `Exists` path, it does not provide a value that we could cache. If the caller ends up needing the `Coin` shortly after, that can mean an extra lookup compared to just using `GetCoin/AccessCoin` and warming the cache once.\r\n\r\nI will push a separate PR proposing removal of `HaveCoin` - we can discuss details there.\r\n",
      "created_at": "2026-01-14T22:34:49Z",
      "updated_at": "2026-01-14T22:34:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2692307054",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2692307054"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 34,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2699148330",
      "pull_request_review_id": 3671667999,
      "id": 2699148330,
      "node_id": "PRRC_kwDOABII586g4bwq",
      "diff_hunk": "@@ -0,0 +1,43 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test that coins database read errors trigger a shutdown message.\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class CoinsDBReadErrorTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+\n+        # Stop node to clear LevelDB block cache (required for 32-bit where mmap is disabled)\n+        self.stop_node(0)\n+\n+        for ldb_path in (node.chain_path / \"chainstate\").glob(\"*.ldb\"):\n+            with open(ldb_path, \"r+b\") as f:\n+                f.seek(ldb_path.stat().st_size // 2)\n+                f.write(b'\\xff')\n+\n+        self.start_node(0, extra_args=[\"-checkblocks=0\", \"-checklevel=0\"])\n+\n+        with node.assert_debug_log([\"block checksum mismatch\"]):\n+            try:\n+                for height in range(1, node.getblockcount() + 1):\n+                    txid = node.getblock(node.getblockhash(height))[\"tx\"][0]\n+                    node.gettxout(txid, 0)\n+            except Exception:",
      "path": "test/functional/feature_coinsdb_read_error.py",
      "position": 1,
      "original_position": 34,
      "commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "original_commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "in_reply_to_id": 2682196113,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Split it out to https://github.com/bitcoin/bitcoin/pull/34320",
      "created_at": "2026-01-16T16:19:23Z",
      "updated_at": "2026-01-16T16:19:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2699148330",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2699148330"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 34,
      "side": "RIGHT"
    }
  ]
}