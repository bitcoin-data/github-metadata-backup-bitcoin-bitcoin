{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132",
    "id": 3120160595,
    "node_id": "PR_kwDOABII5865-d9T",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/34132",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/34132.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/34132.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34132",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34132/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/d3063740684f51722850e6ffec290951913fa56d",
    "number": 34132,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "refactor: inline `CCoinsViewErrorCatcher` into `CCoinsViewDB`",
    "user": {
      "login": "l0rinc",
      "id": 1841944,
      "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l0rinc",
      "html_url": "https://github.com/l0rinc",
      "followers_url": "https://api.github.com/users/l0rinc/followers",
      "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
      "organizations_url": "https://api.github.com/users/l0rinc/orgs",
      "repos_url": "https://api.github.com/users/l0rinc/repos",
      "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/l0rinc/received_events",
      "type": "User",
      "site_admin": false,
      "name": null,
      "patch_url": null
    },
    "body": "### Problem\r\n\r\nThe current coins database read-error handling adds unnecessary complexity to the critical path:\r\n\r\n- `CCoinsViewErrorCatcher` sits between the cache and database views, wrapping every read operation with a generic error handler\r\n- `ExecuteBackedWrapper` adds another function call layer with lambda captures on each database read\r\n-  Uses `std::vector<std::function<void()>>` for callbacks when there's only ever one callback registered\r\n-  The error callback is set after database initialization rather than during construction (requiring a `cs_main` lock)\r\n\r\nThis adds unnecessary stack depth and bookkeeping overhead on every coins database read operation (`GetCoin`). Also note that `CCoinsViewDB::HaveCoin` isn't even called from production code as far as I can tell.\r\n\r\n### Context\r\n\r\nThis is part of ongoing coins caching cleanup efforts like #34124, #33866, #33018, and #33512.\r\n\r\n### Fix\r\n\r\nThis PR collapses the `CCoinsViewErrorCatcher` layer entirely and moves error handling directly into `CCoinsViewDB`:\r\n\r\n- Remove `ExecuteBackedWrapper` and `CCoinsViewErrorCatcher`, placing try-catch blocks directly in `CCoinsViewDB::GetCoin` and `CCoinsViewDB::HaveCoin`\r\n- Replace `std::vector<std::function<void()>>` with a single `std::function<void()>` member, initialized in the constructor\r\n- The read error callback is now passed to `Chainstate::InitCoinsDB` and forwarded to `CCoinsViewDB` constructor\r\n\r\nA new test is also added to reproduce the behavior in case of database corruption. It's added as a first commit to demonstrate that the behavior stays unchanged.",
    "labels": [
      {
        "id": 135961,
        "node_id": "MDU6TGFiZWwxMzU5NjE=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
        "name": "Refactoring",
        "color": "E6F6D6",
        "default": false
      }
    ],
    "created_at": "2025-12-20T22:56:45Z",
    "updated_at": "2026-01-12T16:40:43Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "944ed0607b94feec7c8b45f69360d07268c18cb9",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    ],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "l0rinc:l0rinc/move-errorcatcher",
      "ref": "l0rinc/move-errorcatcher",
      "sha": "d3063740684f51722850e6ffec290951913fa56d",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 674169038,
        "node_id": "R_kgDOKC8Azg",
        "name": "bitcoin",
        "full_name": "l0rinc/bitcoin",
        "owner": {
          "login": "l0rinc",
          "id": 1841944,
          "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
          "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/l0rinc",
          "html_url": "https://github.com/l0rinc",
          "followers_url": "https://api.github.com/users/l0rinc/followers",
          "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
          "organizations_url": "https://api.github.com/users/l0rinc/orgs",
          "repos_url": "https://api.github.com/users/l0rinc/repos",
          "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/l0rinc/received_events",
          "type": "User",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/l0rinc/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/l0rinc/bitcoin",
        "archive_url": "https://api.github.com/repos/l0rinc/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/l0rinc/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/l0rinc/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/l0rinc/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/l0rinc/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/l0rinc/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/l0rinc/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/l0rinc/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/l0rinc/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/l0rinc/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/l0rinc/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/l0rinc/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/l0rinc/bitcoin/events",
        "forks_url": "https://api.github.com/repos/l0rinc/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/l0rinc/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/l0rinc/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/l0rinc/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/l0rinc/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/l0rinc/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/l0rinc/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/l0rinc/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/l0rinc/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/l0rinc/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/l0rinc/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/l0rinc/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/l0rinc/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/l0rinc/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/l0rinc/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/l0rinc/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:l0rinc/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/l0rinc/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/l0rinc/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/l0rinc/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/l0rinc/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/l0rinc/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/l0rinc/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/l0rinc/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/l0rinc/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/l0rinc/bitcoin/hooks",
        "svn_url": "https://github.com/l0rinc/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 4,
        "watchers_count": 4,
        "size": 281549,
        "default_branch": "master",
        "open_issues_count": 28,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2026-01-12T16:40:11Z",
        "created_at": "2023-08-03T09:49:12Z",
        "updated_at": "2026-01-10T21:20:48Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "abc6a3a4eb9814a7f17e40f7a4d330cbef86bff0",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 38589,
        "stargazers_count": 87629,
        "watchers_count": 87629,
        "size": 301410,
        "default_branch": "master",
        "open_issues_count": 756,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2026-01-11T22:44:29Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2026-01-12T17:00:14Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 85,
    "deletions": 90,
    "changed_files": 11,
    "commits": 5,
    "review_comments": 11,
    "comments": 4
  },
  "events": [
    {
      "event": "labeled",
      "id": 21687125522,
      "node_id": "LE_lADOABII587fjBumzwAAAAUMp0YS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21687125522",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-20T22:56:49Z",
      "label": {
        "name": "Refactoring",
        "color": "E6F6D6"
      }
    },
    {
      "event": "commented",
      "id": 3678186264,
      "node_id": "IC_kwDOABII587bPKsY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3678186264",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-20T22:56:54Z",
      "updated_at": "2026-01-12T16:40:43Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/34132.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [sedited](https://github.com/bitcoin/bitcoin/pull/34132#issuecomment-3709594872) |\n| Stale ACK | [andrewtoth](https://github.com/bitcoin/bitcoin/pull/34132#pullrequestreview-3648378551) |\n\nIf your review is incorrectly listed, please copy-paste <code>&lt;!--meta-tag:bot-skip--&gt;</code> into the comment that the bot should ignore.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#34207](https://github.com/bitcoin/bitcoin/pull/34207) (coins/refactor: enforce `GetCoin()` returns only unspent coins by l0rinc)\n* [#34164](https://github.com/bitcoin/bitcoin/pull/34164) (validation: add reusable coins view for ConnectBlock by andrewtoth)\n* [#34124](https://github.com/bitcoin/bitcoin/pull/34124) (refactor: make `CCoinsView` a purely virtual abstract base class by l0rinc)\n* [#31382](https://github.com/bitcoin/bitcoin/pull/31382) (kernel: Flush in ChainstateManager destructor by sedited)\n* [#31132](https://github.com/bitcoin/bitcoin/pull/31132) (validation: fetch block inputs on parallel threads 3x faster IBD by andrewtoth)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#issuecomment-3678186264",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34132"
    },
    {
      "event": "labeled",
      "id": 21687355771,
      "node_id": "LE_lADOABII587fjBumzwAAAAUMqsl7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21687355771",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-21T00:14:49Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21689056531,
      "node_id": "HRFPE_lADOABII587fjBumzwAAAAUMxL0T",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21689056531",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "53de82d7429a174326fe24edf150584cf9aa1191",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/53de82d7429a174326fe24edf150584cf9aa1191",
      "created_at": "2025-12-21T07:55:52Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21713515609,
      "node_id": "HRFPE_lADOABII587fjBumzwAAAAUOOfRZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21713515609",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "0973a03b76566881c5f207e5b11837f0f7ef66dd",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/0973a03b76566881c5f207e5b11837f0f7ef66dd",
      "created_at": "2025-12-22T21:37:21Z"
    },
    {
      "event": "commented",
      "id": 3685636357,
      "node_id": "IC_kwDOABII587brlkF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3685636357",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-23T08:04:46Z",
      "updated_at": "2025-12-23T08:04:46Z",
      "author_association": "CONTRIBUTOR",
      "body": "close/open dance to retrigger CI - likely caused by [GitHub outage](https://www.githubstatus.com/history) ",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#issuecomment-3685636357",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34132"
    },
    {
      "event": "closed",
      "id": 21720402980,
      "node_id": "CE_lADOABII587fjBumzwAAAAUOowwk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21720402980",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-23T08:04:46Z"
    },
    {
      "event": "reopened",
      "id": 21720403561,
      "node_id": "REE_lADOABII587fjBumzwAAAAUOow5p",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21720403561",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-23T08:04:49Z"
    },
    {
      "event": "unlabeled",
      "id": 21721670046,
      "node_id": "UNLE_lADOABII587fjBumzwAAAAUOtmGe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21721670046",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-23T09:22:58Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "ready_for_review",
      "id": 21721757908,
      "node_id": "RFRE_lADOABII587fjBumzwAAAAUOt7jU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21721757908",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-12-23T09:27:05Z"
    },
    {
      "event": "reviewed",
      "id": 3625121433,
      "node_id": "PRR_kwDOABII587YEvaZ",
      "url": null,
      "actor": null,
      "commit_id": "0973a03b76566881c5f207e5b11837f0f7ef66dd",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-01-04T18:40:28Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK\r\n\r\nI think getting rid of this indirection is great. It reduces a lot of complexity when thinking about the stack of views.\r\n\r\nWhen reviewing, I think the last 3 commits should be combined into 1. There doesn't seem to be much value in creating and then removing functions in multiple commits.\r\n\r\nI would utACK but I wanted clarity on why we have to skip a test when no IPC.",
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#pullrequestreview-3625121433",
      "submitted_at": "2026-01-04T18:40:28Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
    },
    {
      "event": "commented",
      "id": 3709594872,
      "node_id": "IC_kwDOABII587dG-z4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3709594872",
      "actor": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-05T09:26:47Z",
      "updated_at": "2026-01-05T09:26:47Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#issuecomment-3709594872",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34132"
    },
    {
      "event": "labeled",
      "id": 21870672849,
      "node_id": "LE_lADOABII587fjBumzwAAAAUXl_vR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21870672849",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-06T08:10:18Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21967157355,
      "node_id": "HRFPE_lADOABII587fjBumzwAAAAUdWDhr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21967157355",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "dceb67114d9e6523005f7d707c3fb627e4a6cb3b",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/dceb67114d9e6523005f7d707c3fb627e4a6cb3b",
      "created_at": "2026-01-11T00:44:38Z"
    },
    {
      "event": "commented",
      "id": 3733764137,
      "node_id": "IC_kwDOABII587ejLgp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3733764137",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-11T00:45:21Z",
      "updated_at": "2026-01-11T00:45:21Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased and updated the added test to work on [32 bit systems](https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2679121949) as well. Ready for review again! ",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#issuecomment-3733764137",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34132"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21972694234,
      "node_id": "HRFPE_lADOABII587fjBumzwAAAAUdrLTa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21972694234",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "4ae1f793d6718edf7a94fb032a2a7423105e85bd",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/4ae1f793d6718edf7a94fb032a2a7423105e85bd",
      "created_at": "2026-01-11T17:07:40Z"
    },
    {
      "event": "unlabeled",
      "id": 21973758401,
      "node_id": "UNLE_lADOABII587fjBumzwAAAAUdvPHB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21973758401",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-11T18:27:34Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 3648297222,
      "node_id": "PRR_kwDOABII587ZdJkG",
      "url": null,
      "actor": null,
      "commit_id": "4ae1f793d6718edf7a94fb032a2a7423105e85bd",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-01-11T18:51:32Z",
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#pullrequestreview-3648297222",
      "submitted_at": "2026-01-11T18:51:32Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
    },
    {
      "event": "reviewed",
      "id": 3648378551,
      "node_id": "PRR_kwDOABII587Zdda3",
      "url": null,
      "actor": null,
      "commit_id": "4ae1f793d6718edf7a94fb032a2a7423105e85bd",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-01-11T19:40:10Z",
      "author_association": "CONTRIBUTOR",
      "body": "ACK 4ae1f793d6718edf7a94fb032a2a7423105e85bd",
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#pullrequestreview-3648378551",
      "submitted_at": "2026-01-11T19:40:10Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
    },
    {
      "event": "review_requested",
      "id": 21974763796,
      "node_id": "RRE_lADOABII587fjBumzwAAAAUdzEkU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21974763796",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-11T19:40:14Z",
      "requested_reviewer": {
        "login": "sedited",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sedited",
        "html_url": "https://github.com/sedited",
        "followers_url": "https://api.github.com/users/sedited/followers",
        "following_url": "https://api.github.com/users/sedited/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sedited/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sedited/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sedited/subscriptions",
        "organizations_url": "https://api.github.com/users/sedited/orgs",
        "repos_url": "https://api.github.com/users/sedited/repos",
        "events_url": "https://api.github.com/users/sedited/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sedited/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    },
    {
      "event": "reviewed",
      "id": 3650676738,
      "node_id": "PRR_kwDOABII587ZmOgC",
      "url": null,
      "actor": null,
      "commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-01-12T13:04:42Z",
      "author_association": "MEMBER",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#pullrequestreview-3650676738",
      "submitted_at": "2026-01-12T13:04:41Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDMwMWM3Yzg3ZmE2ODA0NzI2M2JiMTNkMjUzZTE5ODU0OWY2OTRjZjQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/301c7c87fa68047263bb13d253e198549f694cf4",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/301c7c87fa68047263bb13d253e198549f694cf4",
      "tree": {
        "sha": "e230a8b9a9246db36df4fcc9d9a4c6afbfdd96cb",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e230a8b9a9246db36df4fcc9d9a4c6afbfdd96cb"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree e230a8b9a9246db36df4fcc9d9a4c6afbfdd96cb\nparent 595504a43209bead162da54a204df7d140a25f0e\nauthor Lrinc <pap.lorinc@gmail.com> 1766164779 +0100\ncommitter Lrinc <pap.lorinc@gmail.com> 1768235807 +0100\n\ntest: add test for coins database read error handling\n\nThe error was also reworded to avoid the leading repetition (see expected stderr).\n\n### Reproducers\nThe test failure can be triggered manually by:\n```patch\nstd::optional<Coin> CCoinsViewErrorCatcher::GetCoin(const COutPoint& outpoint) const\n{\n-    return ExecuteBackedWrapper<std::optional<Coin>>([&]() { return CCoinsViewBacked::GetCoin(outpoint); }, m_err_callbacks);\n+    return CCoinsViewBacked::GetCoin(outpoint);\n}\n```\n\n### Notes\nNote that CCoinsViewErrorCatcher::HaveCoin failure isn't tested since it doesn't seem to be used in production code, all tests pass with:\n```patch\nbool CCoinsViewErrorCatcher::HaveCoin(const COutPoint& outpoint) const\n{\n-    return ExecuteBackedWrapper<bool>([&]() { return CCoinsViewBacked::HaveCoin(outpoint); }, m_err_callbacks);\n+    throw \"CCoinsViewBacked::HaveCoin\";\n}\n```\n\n### Context:\n\nOn 64-bit systems, LevelDB uses mmap which reflects file changes immediately.\nOn 32-bit systems (i686, armhf), mmap is disabled (kDefaultMmapLimit=0 in leveldb/util/env_posix.cc), so LevelDB uses block cache which serves stale data.\nThe node must be restarted after corruption to clear the cache.\n\nCorruption is placed at the middle to avoid LevelDB's paranoid_checks verification during database open, and -checkblocks=0 -checklevel=0 skips Bitcoin's block verification.\n\nCo-authored-by: MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqXy8dDLWkKQdUrTAZp//D/pHenYFAmllIx8ACgkQZp//D/pH\nenaDog/9FNL62m8RaqmpgQkPkWqkqxR3iElnSPKo0BadbvVUgP0aAED7k2XwWSvF\nzfQcYIMqp+nEbkh2Xms44auUdnsof+m/VHMLZT/8XkWw5z7o4UwH5jswu5d1K/d7\nVGJ5tQNL2FFwEORPqopofm3g9dtViHZr0fkiH5PkNEPTZmCBRtyUKkJcWBq9VROA\n2ULRcwfzzUrN6HVCe/aATUpa3zcPTKyrPUDqWLDQYyEAxeCJHM/kTpvOQ095rSlK\n5tCgLxTx8TdJuXYD6n2AdHAN//jiZtOxRezRH2IYg5v3r/xaVHpU7BIEgzE3aW3o\nPa+CkYouRYOsOwmy4qOVpE6oytj13a8d4Zh7i1i39/qZGP82rGuvTjGMuMz/qukk\nYTtH83Kf/atIte14nr9W2ur1exVxtc8OWzAl/SIqYoD6V4JHOwIDWjWJtro4D7qR\n3DQ0QvJfTa+JR9LMvJxFa2SZHak+10skjLxpgtpNvQIjqL47Nx3ArN54vVu52iKG\nMGk8750XLFPGHs6SIi+9dNeFgFNqEpXGnakAE5V8ftBJfi4sciBVfGZp/j4D55hg\nJhHlkll9t/KRUWQlkUm1DRwO9YXbiQxy5xcXHQYMa13gZHLy9kFSo74OYcDoGJUy\niRvsuwj++693D7SIKkLKWPRO1CxvzINtZfqR9GoX3Jvt30ogYyM=\n=sBV2\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/595504a43209bead162da54a204df7d140a25f0e",
          "sha": "595504a43209bead162da54a204df7d140a25f0e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/595504a43209bead162da54a204df7d140a25f0e"
        }
      ],
      "message": "test: add test for coins database read error handling\n\nThe error was also reworded to avoid the leading repetition (see expected stderr).\n\n### Reproducers\nThe test failure can be triggered manually by:\n```patch\nstd::optional<Coin> CCoinsViewErrorCatcher::GetCoin(const COutPoint& outpoint) const\n{\n-    return ExecuteBackedWrapper<std::optional<Coin>>([&]() { return CCoinsViewBacked::GetCoin(outpoint); }, m_err_callbacks);\n+    return CCoinsViewBacked::GetCoin(outpoint);\n}\n```\n\n### Notes\nNote that CCoinsViewErrorCatcher::HaveCoin failure isn't tested since it doesn't seem to be used in production code, all tests pass with:\n```patch\nbool CCoinsViewErrorCatcher::HaveCoin(const COutPoint& outpoint) const\n{\n-    return ExecuteBackedWrapper<bool>([&]() { return CCoinsViewBacked::HaveCoin(outpoint); }, m_err_callbacks);\n+    throw \"CCoinsViewBacked::HaveCoin\";\n}\n```\n\n### Context:\n\nOn 64-bit systems, LevelDB uses mmap which reflects file changes immediately.\nOn 32-bit systems (i686, armhf), mmap is disabled (kDefaultMmapLimit=0 in leveldb/util/env_posix.cc), so LevelDB uses block cache which serves stale data.\nThe node must be restarted after corruption to clear the cache.\n\nCorruption is placed at the middle to avoid LevelDB's paranoid_checks verification during database open, and -checkblocks=0 -checklevel=0 skips Bitcoin's block verification.\n\nCo-authored-by: MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz>",
      "committer": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-01-12T16:36:47Z"
      },
      "author": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-12-19T17:19:39Z"
      },
      "sha": "301c7c87fa68047263bb13d253e198549f694cf4"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDdjN2I4OWRjM2ExZDkxNTk3MjBkN2JmOTUxYWEyMzQ2M2NhZTFmM2E",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7c7b89dc3a1d9159720d7bf951aa23463cae1f3a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/7c7b89dc3a1d9159720d7bf951aa23463cae1f3a",
      "tree": {
        "sha": "dc4c98ad7b22c706efd0bf4e3f2724db6e243b54",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/dc4c98ad7b22c706efd0bf4e3f2724db6e243b54"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree dc4c98ad7b22c706efd0bf4e3f2724db6e243b54\nparent 301c7c87fa68047263bb13d253e198549f694cf4\nauthor Lrinc <pap.lorinc@gmail.com> 1766170400 +0100\ncommitter Lrinc <pap.lorinc@gmail.com> 1768235935 +0100\n\nrefactor: rename coins_error_cb to read_error_cb for clarity\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqXy8dDLWkKQdUrTAZp//D/pHenYFAmllI58ACgkQZp//D/pH\nenYeshAAi+JeIcP0ckK1+ff1vYIX8W+sVLsu+QihjRMXOc2Y/XtainP+mVqm4ch2\nMIKwFvmQ+1cX20ltEL9mnI6gtXyiBnZs5cZkUYqmx+CZchL27flQHaqiqbJSKI5E\nzyNe5lRicijhGp5hdP/X08Z6ZqmHvYVbeF+xtFXLeWKgrbIyuK3RB9I+e077VPNp\n0c/eQyydUHJhpkl5yi+9+14Lu5D9Yu6uuYvcvmSdKm9Krv19X120qTgE2DGfZRbc\n34c4DmuaifsB1vhX8iOsZSmA4EyoXdAZE2yHkDOthhSg2K1M4roK8Dwh7a6Xq/cR\np6APUsTNvqpX8Eqs5a91x5WYcN9xFIHXTiu1Ij8jSaLKmbn5rbB4kQnWbD/b1XNZ\ngwiCIW41vzUuRrJEwCJ2IGsBCDpl3qKGJtczUWg7Lw2MbAE/OcsH3edsMQzNlxN3\nuRTBnU9YWPni1EQKvho6vpUUFWeB54LeltOFg0REzlqDjlRLGYHDP7sqFhRI4IEa\n5ok14kRo3+lTnZHyS1Pkm5CnyOfk/tv2wPTNzC3JYGl7+s4CqO32kOJgWcOiIkAH\n3bC2Yhu0bosD2os7k10oOuR+GqkEDNvQLHrjIbAHjL2hOsYJm00Le/0kBVZ2mXat\nGlX3PyiAFpSSOcW6y+K5V5rvIkXJicS1rOZsFkpsa2Y4+FR85J0=\n=1+xy\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/301c7c87fa68047263bb13d253e198549f694cf4",
          "sha": "301c7c87fa68047263bb13d253e198549f694cf4",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/301c7c87fa68047263bb13d253e198549f694cf4"
        }
      ],
      "message": "refactor: rename coins_error_cb to read_error_cb for clarity",
      "committer": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-01-12T16:38:55Z"
      },
      "author": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-12-19T18:53:20Z"
      },
      "sha": "7c7b89dc3a1d9159720d7bf951aa23463cae1f3a"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQ4ZjZkMDA2MzhmNzQ3ZjE1NzdjODg4NzI4YWE4Y2M1NmY1MDQ1OWI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/48f6d00638f747f1577c888728aa8cc56f50459b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/48f6d00638f747f1577c888728aa8cc56f50459b",
      "tree": {
        "sha": "b5aa6a5e40a52c29a4a1287624c0a60ff2ee9c98",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b5aa6a5e40a52c29a4a1287624c0a60ff2ee9c98"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree b5aa6a5e40a52c29a4a1287624c0a60ff2ee9c98\nparent 7c7b89dc3a1d9159720d7bf951aa23463cae1f3a\nauthor Lrinc <pap.lorinc@gmail.com> 1766153249 +0100\ncommitter Lrinc <pap.lorinc@gmail.com> 1768235935 +0100\n\nrefactor: inline `ExecuteBackedWrapper`\n\nInlined `ExecuteBackedWrapper`, removing a lambda indirection and specializing the error logs per usage.\n\nThe error handling will be pushed down to the call sites in follow ups.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqXy8dDLWkKQdUrTAZp//D/pHenYFAmllI58ACgkQZp//D/pH\nenbSsBAAm7KhO+jxh2Yo/U3oQc7N9kyHq76CEfww/AbGFW8xX/YWTzjjzgaPs9In\nIS7JlANnCOSQrFTrhIjBZN77/YKrUo4B+YhQ6JvqCLT9B2dn4eZKG4iJnrB3GIEy\n7aW1VcxhY/Pexg42rZ7S8Ox0c4oYWE9BKNsBvKDktfQX7f8A5FIdbKP3KlVHVrMT\nsnPvVKZejSVvmuPtLHXsDs51Bva5TFLIzuw2O+pnJxd01GXEK55OUxtzQ351xYyZ\nSb6/IyTdtmAXQ8LXwRckYzlzet9Gecx8EfZXgr/1uPlo0lwv8oBjvOn4ekiqdbeh\ny5UhvWoZ0oq3Ac6w796tuLMY3z2yDP4S5PSassYumFCbHPVDvH56sw3fcgl+m1kB\nw7nMoIYxP6kFTb6lHqb+bYq0c/rwAv2oAFN+pjLkkc7zY2zOOrSztpcRQna/hOd0\nj8KWrQffVr5FpcGKfBySWZhcpY2ZSFcHYK4sHBXYnGwpa9H6wew41iAp49AgNHVo\nQAjpofGyIPmBpdqAmLWux5qkK0foGNJE8fwPCI/yiZp5vl3yKyNxPSP+fgwMGg/v\nOisTKx3dk/ExLxdRC/z7JjRsFJSETwXgi7XkjGX9bEn7lRCK3uPyiMywdrkcmJhn\nHZZz016nb1omIkycEC5sx9BQv03z58MFdmW8IYp97gii85SAR48=\n=z485\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7c7b89dc3a1d9159720d7bf951aa23463cae1f3a",
          "sha": "7c7b89dc3a1d9159720d7bf951aa23463cae1f3a",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/7c7b89dc3a1d9159720d7bf951aa23463cae1f3a"
        }
      ],
      "message": "refactor: inline `ExecuteBackedWrapper`\n\nInlined `ExecuteBackedWrapper`, removing a lambda indirection and specializing the error logs per usage.\n\nThe error handling will be pushed down to the call sites in follow ups.",
      "committer": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-01-12T16:38:55Z"
      },
      "author": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-12-19T14:07:29Z"
      },
      "sha": "48f6d00638f747f1577c888728aa8cc56f50459b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGI2YWRlM2MwZTBhMTVlOWJiY2Y2ZDZlZmNkZGIyMmM4ZmUxYjMyMDE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b6ade3c0e0a15e9bbcf6d6efcddb22c8fe1b3201",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b6ade3c0e0a15e9bbcf6d6efcddb22c8fe1b3201",
      "tree": {
        "sha": "1b7f635673ab3778045354342f04f28b7f378844",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1b7f635673ab3778045354342f04f28b7f378844"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 1b7f635673ab3778045354342f04f28b7f378844\nparent 48f6d00638f747f1577c888728aa8cc56f50459b\nauthor Lrinc <pap.lorinc@gmail.com> 1766150567 +0100\ncommitter Lrinc <pap.lorinc@gmail.com> 1768235935 +0100\n\nrefactor: inline `CCoinsViewErrorCatcher`\n\nThere's only ever a single callback at most, let's assign it instead of pretending we have a list of callbacks. This will be moved to the constructor in the next commit.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqXy8dDLWkKQdUrTAZp//D/pHenYFAmllI58ACgkQZp//D/pH\nenbTQA//aDRLdxVx4xQGrnGMlMTL7W9V+5GO8p0Nv4JYXLnQGPHVMBIfBofcS0QT\nuP5BzsuoWWCnMMryyXPIGNDkrEXqW5XN6mG/OjdCuuyekoKWZgXhXEHFk4w9LF4S\nGGb+ZBfaypcDl/u5tfYsEaW5jj9AY9jypOFNxo2CfCELW7tZTc9QR0cmP6Q1LLcF\ndsTxl0DyvVluDVvCqUJ+a56Ym127QW1+TAJnNVf34V2IFx7V2Ukr78VxeZJzX7Kc\nYHuGLmX+rcLV71nwESRJIrM2QrlVMYJz/Hh88q5+karYX0pj9IK5dOvYB3hxF/ve\n20CYMcBwkCpZFcGyK+kWTy3d1MrpDijX23/H57mx0TEgHiCan3sqzsbjCP4+fA4g\nDQhGqi1B0WZ9aQSd1l9NLNlxXcfcMQazl2tX4LCJrrpqabe6Y6ssxQQt4B/xsFzo\ncmYQC9pEemhafVubJkdJQgoGJ8LZm3uvi8SaGyU/3CrzZKadmG4Lp4OziJKWx9H3\nR/dXGDZXRCvZ8gxWRflZw4hrx7mJ198P2bfHi78ctzLXzW7g5uYnDnpB1TFoVN3J\nchufAtySR9u7j2HVJt1K/XKPo05nnOAM/wUGHcQdeWCiaka3UfdBmFHBcu0x88FD\n96AeR9tsf7Gzi5RoPdbajvOz5c0kZPxvCOFHUFmKDyAQ7KmM73o=\n=gP5s\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/48f6d00638f747f1577c888728aa8cc56f50459b",
          "sha": "48f6d00638f747f1577c888728aa8cc56f50459b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/48f6d00638f747f1577c888728aa8cc56f50459b"
        }
      ],
      "message": "refactor: inline `CCoinsViewErrorCatcher`\n\nThere's only ever a single callback at most, let's assign it instead of pretending we have a list of callbacks. This will be moved to the constructor in the next commit.",
      "committer": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-01-12T16:38:55Z"
      },
      "author": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-12-19T13:22:47Z"
      },
      "sha": "b6ade3c0e0a15e9bbcf6d6efcddb22c8fe1b3201"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGQzMDYzNzQwNjg0ZjUxNzIyODUwZTZmZmVjMjkwOTUxOTEzZmE1NmQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d3063740684f51722850e6ffec290951913fa56d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d3063740684f51722850e6ffec290951913fa56d",
      "tree": {
        "sha": "2b30d74326d330e45f6f7ae948b609cc64883144",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2b30d74326d330e45f6f7ae948b609cc64883144"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 2b30d74326d330e45f6f7ae948b609cc64883144\nparent b6ade3c0e0a15e9bbcf6d6efcddb22c8fe1b3201\nauthor Lrinc <pap.lorinc@gmail.com> 1766170273 +0100\ncommitter Lrinc <pap.lorinc@gmail.com> 1768235935 +0100\n\nrefactor: init read error callback in InitCoinsDB\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqXy8dDLWkKQdUrTAZp//D/pHenYFAmllI58ACgkQZp//D/pH\nenYIKQ/9GDYudcKaX4WkDHeyxfmqjoV3FVoHL/0V/PxPUsHhM5uRhT/3vmT515dl\nNFZJGceRcs8WxbNKTjYQNNM8UMoVuP2eoXXR4QtaRpaKglAOAJQeCwK2xQKgfOQp\nbfp9uNBK/2KW+QjPDqhe8aBddko0to27ItD1xezvV5sPoAMOguKAsl4bt3dML7Fy\nvQQHQuyCcniQ6g7vY7asUAWQVnOe49mTXS6YQx/auYKsMANll3qzJ2tHaW+68Rfy\n2HuInd2FE2ykBMJvNicj7MUOgfetAU4v3U50+bKJzR7KDDT5CuB+AnOIVarfp82I\nFRCPXxZm/w0ChagvwpTtXUeiI+dO/IriJSpmQYwIhNJxnjfHYVC7LREcwGgQRIQI\nH2z+R/JhHOMIFSnyd9Lov+3PXhzjw5NTie6bi3VDjIWVqHj/9JjH+IOvj23DF6RO\nPN7icCIBJazI9U2JQo27ixKj1CVJJGQMS5OQeEGHfa/gWSva6xg074eP30HiV+8y\nZ+wRCJn+oacBfXLxvDZ1/YhUcgAZUynJVz6ZGn7TRzhP9Fj1yrz67IUbeikcUhKT\nxjLUObpeRuu/VnJiMTVYH5QZhBBzZJi7A3EEtCzhqcEl892BUMUGZB427lwSbSfL\nqzbRpV9s/MDcC10a6b8wal+KJeXoIE5rwO2PwIGoHOXaTJLDTPI=\n=Aat9\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b6ade3c0e0a15e9bbcf6d6efcddb22c8fe1b3201",
          "sha": "b6ade3c0e0a15e9bbcf6d6efcddb22c8fe1b3201",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b6ade3c0e0a15e9bbcf6d6efcddb22c8fe1b3201"
        }
      ],
      "message": "refactor: init read error callback in InitCoinsDB",
      "committer": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2026-01-12T16:38:55Z"
      },
      "author": {
        "name": "Lrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-12-19T18:51:13Z"
      },
      "sha": "d3063740684f51722850e6ffec290951913fa56d"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 21994364059,
      "node_id": "HRFPE_lADOABII587fjBumzwAAAAUe91yb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/21994364059",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "d3063740684f51722850e6ffec290951913fa56d",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/d3063740684f51722850e6ffec290951913fa56d",
      "created_at": "2026-01-12T16:40:13Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2659843996",
      "pull_request_review_id": 3625121433,
      "id": 2659843996,
      "node_id": "PRRC_kwDOABII586eif-c",
      "diff_hunk": "@@ -1364,7 +1364,7 @@ static ChainstateLoadResult InitAndLoadChainstate(\n     options.require_full_verification = args.IsArgSet(\"-checkblocks\") || args.IsArgSet(\"-checklevel\");\n     options.coins_error_cb = [] {\n         uiInterface.ThreadSafeMessageBox(\n-            _(\"Error reading from database, shutting down.\"),\n+            _(\"Cannot read database, shutting down.\"),",
      "path": "src/init.cpp",
      "position": 1,
      "original_position": 5,
      "commit_id": "0973a03b76566881c5f207e5b11837f0f7ef66dd",
      "original_commit_id": "83d2b3eaca10a717b00058e1a4321912be7b95c9",
      "in_reply_to_id": null,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "nit\r\n```suggestion\r\n            _(\"Cannot read from database, shutting down.\"),\r\n```",
      "created_at": "2026-01-04T18:27:07Z",
      "updated_at": "2026-01-04T18:40:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2659843996",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2659843996"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1367,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2659845168",
      "pull_request_review_id": 3625121433,
      "id": 2659845168,
      "node_id": "PRRC_kwDOABII586eigQw",
      "diff_hunk": "@@ -0,0 +1,37 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test that coins database read errors trigger a shutdown message.\"\"\"\n+import platform\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class CoinsDBReadErrorTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        self.skip_if_no_ipc()",
      "path": "test/functional/feature_coinsdb_read_error.py",
      "position": 1,
      "original_position": 18,
      "commit_id": "0973a03b76566881c5f207e5b11837f0f7ef66dd",
      "original_commit_id": "83d2b3eaca10a717b00058e1a4321912be7b95c9",
      "in_reply_to_id": null,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "> `skip_if_no_ipc` was added to the test since on `i686, no IPC` the db corruption didn't trigger any failure.\r\n\r\nDo we know why?",
      "created_at": "2026-01-04T18:29:37Z",
      "updated_at": "2026-01-04T18:40:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2659845168",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2659845168"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2662744693",
      "pull_request_review_id": 3628354629,
      "id": 2662744693,
      "node_id": "PRRC_kwDOABII586etkJ1",
      "diff_hunk": "@@ -0,0 +1,37 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test that coins database read errors trigger a shutdown message.\"\"\"\n+import platform\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class CoinsDBReadErrorTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        self.skip_if_no_ipc()",
      "path": "test/functional/feature_coinsdb_read_error.py",
      "position": 1,
      "original_position": 18,
      "commit_id": "0973a03b76566881c5f207e5b11837f0f7ef66dd",
      "original_commit_id": "83d2b3eaca10a717b00058e1a4321912be7b95c9",
      "in_reply_to_id": 2659845168,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I don't, I just noticed that the ci failed because the db corruption didn't cause the read to fail. I'm wondering if there's some intermediary cache that prevented the read from disk. Tried restarting the node and doing a few other tricks, but the node never crashed on `i686, no IPC` when I corrupted the db... Maybe @ryanofsky can help us out here...",
      "created_at": "2026-01-05T20:40:45Z",
      "updated_at": "2026-01-05T20:40:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2662744693",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2662744693"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2664068476",
      "pull_request_review_id": 3629903117,
      "id": 2664068476,
      "node_id": "PRRC_kwDOABII586eynV8",
      "diff_hunk": "@@ -0,0 +1,37 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test that coins database read errors trigger a shutdown message.\"\"\"\n+import platform\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class CoinsDBReadErrorTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        self.skip_if_no_ipc()",
      "path": "test/functional/feature_coinsdb_read_error.py",
      "position": 1,
      "original_position": 18,
      "commit_id": "0973a03b76566881c5f207e5b11837f0f7ef66dd",
      "original_commit_id": "83d2b3eaca10a717b00058e1a4321912be7b95c9",
      "in_reply_to_id": 2659845168,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "It fails on all 32-bit architectures, it seems. E.g. armhf:\r\n\r\n```\r\nfeature_coinsdb_read_error.py                                                    |  Failed  | 80 s",
      "created_at": "2026-01-06T08:18:13Z",
      "updated_at": "2026-01-06T08:18:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2664068476",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2664068476"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2679121949",
      "pull_request_review_id": 3647331992,
      "id": 2679121949,
      "node_id": "PRRC_kwDOABII586fsCgd",
      "diff_hunk": "@@ -0,0 +1,37 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test that coins database read errors trigger a shutdown message.\"\"\"\n+import platform\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class CoinsDBReadErrorTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        self.skip_if_no_ipc()",
      "path": "test/functional/feature_coinsdb_read_error.py",
      "position": 1,
      "original_position": 18,
      "commit_id": "0973a03b76566881c5f207e5b11837f0f7ef66dd",
      "original_commit_id": "83d2b3eaca10a717b00058e1a4321912be7b95c9",
      "in_reply_to_id": 2659845168,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Was a bit more involved to find out why this is the case and why the test is failing.\r\nReproduced it with https://github.com/l0rinc/bitcoin/actions/runs/20884565973/job/60007051301?pr=90\r\n\r\nThe trick was that on 64-bit systems, `LevelDB` uses `mmap` which reflects file changes immediately - this is what we we're used to. But on 32-bit systems (i686, armhf), `mmap` is disabled (`kDefaultMmapLimit=0` in `leveldb/util/env_posix.cc`), so `LevelDB` uses block cache which serves stale data. So the corruption on disk isn't reflected during runtime. The node must be restarted after corruption to clear the cache, but it usually fails immediately because of the `paranoid_checks`. Managed to work around that by corrupting the middle and turning off a few sanity checks on restart.\r\n\r\nAdjusted the tests, https://github.com/l0rinc/bitcoin/actions/runs/20885734265/job/60009569692?pr=90 indicates it's working on both platforms now.",
      "created_at": "2026-01-11T00:44:37Z",
      "updated_at": "2026-01-11T00:44:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2679121949",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2679121949"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2679121968",
      "pull_request_review_id": 3647332014,
      "id": 2679121968,
      "node_id": "PRRC_kwDOABII586fsCgw",
      "diff_hunk": "@@ -1364,7 +1364,7 @@ static ChainstateLoadResult InitAndLoadChainstate(\n     options.require_full_verification = args.IsArgSet(\"-checkblocks\") || args.IsArgSet(\"-checklevel\");\n     options.coins_error_cb = [] {\n         uiInterface.ThreadSafeMessageBox(\n-            _(\"Error reading from database, shutting down.\"),\n+            _(\"Cannot read database, shutting down.\"),",
      "path": "src/init.cpp",
      "position": 1,
      "original_position": 5,
      "commit_id": "0973a03b76566881c5f207e5b11837f0f7ef66dd",
      "original_commit_id": "83d2b3eaca10a717b00058e1a4321912be7b95c9",
      "in_reply_to_id": 2659843996,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Done",
      "created_at": "2026-01-11T00:44:41Z",
      "updated_at": "2026-01-11T00:44:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2679121968",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2679121968"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1367,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2680070358",
      "pull_request_review_id": 3648297222,
      "id": 2680070358,
      "node_id": "PRRC_kwDOABII586fvqDW",
      "diff_hunk": "@@ -1362,9 +1362,9 @@ static ChainstateLoadResult InitAndLoadChainstate(\n     options.check_blocks = args.GetIntArg(\"-checkblocks\", DEFAULT_CHECKBLOCKS);\n     options.check_level = args.GetIntArg(\"-checklevel\", DEFAULT_CHECKLEVEL);\n     options.require_full_verification = args.IsArgSet(\"-checkblocks\") || args.IsArgSet(\"-checklevel\");\n-    options.coins_error_cb = [] {\n+    options.read_error_cb = [] {",
      "path": "src/init.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "d3063740684f51722850e6ffec290951913fa56d",
      "original_commit_id": "4ae1f793d6718edf7a94fb032a2a7423105e85bd",
      "in_reply_to_id": null,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Is there a way to verify that this callback is still being executed in the functional test?\r\nMaybe add a debug log that we can assert?",
      "created_at": "2026-01-11T18:51:32Z",
      "updated_at": "2026-01-11T18:51:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2680070358",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2680070358"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1365,
      "original_line": 1365,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2680107724",
      "pull_request_review_id": 3648335713,
      "id": 2680107724,
      "node_id": "PRRC_kwDOABII586fvzLM",
      "diff_hunk": "@@ -1362,9 +1362,9 @@ static ChainstateLoadResult InitAndLoadChainstate(\n     options.check_blocks = args.GetIntArg(\"-checkblocks\", DEFAULT_CHECKBLOCKS);\n     options.check_level = args.GetIntArg(\"-checklevel\", DEFAULT_CHECKLEVEL);\n     options.require_full_verification = args.IsArgSet(\"-checkblocks\") || args.IsArgSet(\"-checklevel\");\n-    options.coins_error_cb = [] {\n+    options.read_error_cb = [] {",
      "path": "src/init.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "d3063740684f51722850e6ffec290951913fa56d",
      "original_commit_id": "4ae1f793d6718edf7a94fb032a2a7423105e85bd",
      "in_reply_to_id": 2680070358,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Is that now what we're doing now? Can you add a diff for how you imagine it? I went through a thousand iterations for that test until I found this one that works on all CI :).\r\nIf you have a better one to validate the read_error_cb error, let me know.",
      "created_at": "2026-01-11T19:15:36Z",
      "updated_at": "2026-01-11T19:15:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2680107724",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2680107724"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1365,
      "original_line": 1365,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2680146712",
      "pull_request_review_id": 3648378088,
      "id": 2680146712,
      "node_id": "PRRC_kwDOABII586fv8sY",
      "diff_hunk": "@@ -1362,9 +1362,9 @@ static ChainstateLoadResult InitAndLoadChainstate(\n     options.check_blocks = args.GetIntArg(\"-checkblocks\", DEFAULT_CHECKBLOCKS);\n     options.check_level = args.GetIntArg(\"-checklevel\", DEFAULT_CHECKLEVEL);\n     options.require_full_verification = args.IsArgSet(\"-checkblocks\") || args.IsArgSet(\"-checklevel\");\n-    options.coins_error_cb = [] {\n+    options.read_error_cb = [] {",
      "path": "src/init.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "d3063740684f51722850e6ffec290951913fa56d",
      "original_commit_id": "4ae1f793d6718edf7a94fb032a2a7423105e85bd",
      "in_reply_to_id": 2680070358,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Right nvm, LGTM.",
      "created_at": "2026-01-11T19:39:53Z",
      "updated_at": "2026-01-11T19:39:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2680146712",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2680146712"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1365,
      "original_line": 1365,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2682196113",
      "pull_request_review_id": 3650676738,
      "id": 2682196113,
      "node_id": "PRRC_kwDOABII586f3xCR",
      "diff_hunk": "@@ -0,0 +1,43 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test that coins database read errors trigger a shutdown message.\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class CoinsDBReadErrorTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+\n+        # Stop node to clear LevelDB block cache (required for 32-bit where mmap is disabled)\n+        self.stop_node(0)\n+\n+        for ldb_path in (node.chain_path / \"chainstate\").glob(\"*.ldb\"):\n+            with open(ldb_path, \"r+b\") as f:\n+                f.seek(ldb_path.stat().st_size // 2)\n+                f.write(b'\\xff')\n+\n+        self.start_node(0, extra_args=[\"-checkblocks=0\", \"-checklevel=0\"])\n+\n+        with node.assert_debug_log([\"block checksum mismatch\"]):\n+            try:\n+                for height in range(1, node.getblockcount() + 1):\n+                    txid = node.getblock(node.getblockhash(height))[\"tx\"][0]\n+                    node.gettxout(txid, 0)\n+            except Exception:",
      "path": "test/functional/feature_coinsdb_read_error.py",
      "position": 1,
      "original_position": 34,
      "commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "original_commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "nit in the first commit: A wildcard Exception is always a bit hard to read, as to what it means.\n\nI think in this context, we want all exceptions to be fatal aborts.\n\nSo this could be written as:\n\n\n```py\n   # All exceptions here should be fatal aborts.\n  except (http.client.CannotSendRequest, http.client.RemoteDisconnected) as e:\n```\n\nThis will also make the inducted test failure (mentioned in the commit message) nicer to read, and a lot faster.",
      "created_at": "2026-01-12T13:04:42Z",
      "updated_at": "2026-01-12T13:04:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2682196113",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2682196113"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 34,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2682753313",
      "pull_request_review_id": 3651341814,
      "id": 2682753313,
      "node_id": "PRRC_kwDOABII586f55Eh",
      "diff_hunk": "@@ -0,0 +1,43 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2025-present The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\"\"\"Test that coins database read errors trigger a shutdown message.\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class CoinsDBReadErrorTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+\n+        # Stop node to clear LevelDB block cache (required for 32-bit where mmap is disabled)\n+        self.stop_node(0)\n+\n+        for ldb_path in (node.chain_path / \"chainstate\").glob(\"*.ldb\"):\n+            with open(ldb_path, \"r+b\") as f:\n+                f.seek(ldb_path.stat().st_size // 2)\n+                f.write(b'\\xff')\n+\n+        self.start_node(0, extra_args=[\"-checkblocks=0\", \"-checklevel=0\"])\n+\n+        with node.assert_debug_log([\"block checksum mismatch\"]):\n+            try:\n+                for height in range(1, node.getblockcount() + 1):\n+                    txid = node.getblock(node.getblockhash(height))[\"tx\"][0]\n+                    node.gettxout(txid, 0)\n+            except Exception:",
      "path": "test/functional/feature_coinsdb_read_error.py",
      "position": 1,
      "original_position": 34,
      "commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "original_commit_id": "c6482df6373f1fbe4df772054af183e5d17b8281",
      "in_reply_to_id": 2682196113,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Also, in the first commit: This is unrelated to this refactor, but if the `HaveCoin` is dead code, then I suspect that https://github.com/bitcoin/bitcoin/pull/26331 did not fix https://github.com/bitcoin/bitcoin/issues/26112.\r\n\r\nWith this diff, I get the crash traceback:\r\n\r\n```diff\r\ndiff --git a/src/coins.cpp b/src/coins.cpp\r\nindex 7f2ffc38ef..53716f4e87 100644\r\n--- a/src/coins.cpp\r\n+++ b/src/coins.cpp\r\n@@ -376,6 +376,7 @@ static ReturnType ExecuteBackedWrapper(Func func, const std::vector<std::functio\r\n         // interpreted as 'entry not found' (as opposed to unable to read data), and\r\n         // could lead to invalid interpretation. Just exit immediately, as we can't\r\n         // continue anyway, and all writes should be atomic.\r\n+        assert(false);\r\n         std::abort();\r\n     }\r\n }\r\n@@ -387,5 +388,6 @@ std::optional<Coin> CCoinsViewErrorCatcher::GetCoin(const COutPoint& outpoint) c\r\n \r\n bool CCoinsViewErrorCatcher::HaveCoin(const COutPoint& outpoint) const\r\n {\r\n+        assert(false);\r\n     return ExecuteBackedWrapper<bool>([&]() { return CCoinsViewBacked::HaveCoin(outpoint); }, m_err_callbacks);\r\n }\r\ndiff --git a/test/functional/feature_coinsdb_read_error.py b/test/functional/feature_coinsdb_read_error.py\r\nindex 3f0dff0893..942e0ee0e0 100755\r\n--- a/test/functional/feature_coinsdb_read_error.py\r\n+++ b/test/functional/feature_coinsdb_read_error.py\r\n@@ -6,6 +6,7 @@\r\n \"\"\"Test that coins database read errors trigger a shutdown message.\"\"\"\r\n \r\n from test_framework.test_framework import BitcoinTestFramework\r\n+from test_framework.wallet import MiniWallet\r\n \r\n \r\n class CoinsDBReadErrorTest(BitcoinTestFramework):\r\n@@ -16,6 +17,9 @@ class CoinsDBReadErrorTest(BitcoinTestFramework):\r\n     def run_test(self):\r\n         node = self.nodes[0]\r\n \r\n+        miniwallet = MiniWallet(node)\r\n+        utxos = miniwallet.get_utxos(mark_as_spent=False)\r\n+\r\n         # Stop node to clear LevelDB block cache (required for 32-bit where mmap is disabled)\r\n         self.stop_node(0)\r\n \r\n@@ -27,12 +31,11 @@ class CoinsDBReadErrorTest(BitcoinTestFramework):\r\n         self.start_node(0, extra_args=[\"-checkblocks=0\", \"-checklevel=0\"])\r\n \r\n         with node.assert_debug_log([\"block checksum mismatch\"]):\r\n-            try:\r\n-                for height in range(1, node.getblockcount() + 1):\r\n-                    txid = node.getblock(node.getblockhash(height))[\"tx\"][0]\r\n-                    node.gettxout(txid, 0)\r\n-            except Exception:\r\n-                pass\r\n+         for utxo in utxos:\r\n+            tx = miniwallet.create_self_transfer(utxo_to_spend=utxo)\r\n+            self.generateblock(node, output=\"raw(55)\", transactions=[tx[\"hex\"]])\r\n+            #testres = node.testmempoolaccept([tx[\"hex\"]])[0]\r\n+            #assert testres[\"allowed\"], testres\r\n \r\n         node.wait_until(lambda: node.process.poll())\r\n         assert node.is_node_stopped(expected_stderr=\"Error: Cannot read from database, shutting down.\",\r\n```\r\n\r\n```\r\n==68989==    by 0x4A8C782: ExecuteBackedWrapper<std::optional<Coin>, (lambda at ./coins.cpp:386:54)> (./coins.cpp:379)\r\n==68989==    by 0x4A8C782: CCoinsViewErrorCatcher::GetCoin(COutPoint const&) const (???:386)\r\n==68989==    by 0x4A8A3B9: CCoinsViewCache::FetchCoin(COutPoint const&) const (./coins.cpp:55)\r\n==68989==    by 0x4A8A605: CCoinsViewCache::GetCoin(COutPoint const&) const (./coins.cpp:72)\r\n==68989==    by 0x4A8A3B9: CCoinsViewCache::FetchCoin(COutPoint const&) const (./coins.cpp:55)\r\n==68989==    by 0x4A8B286: CCoinsViewCache::HaveCoin(COutPoint const&) const (./coins.cpp:171)\r\n==68989==    by 0x4A8C25F: CCoinsViewCache::HaveInputs(CTransaction const&) const (./coins.cpp:300)\r\n==68989==    by 0x438BB00: Consensus::CheckTxInputs(CTransaction const&, TxValidationState&, CCoinsViewCache const&, int, long&) (./consensus/tx_verify.cpp:167)\r\n==68989==    by 0x479C492: Chainstate::ConnectBlock(CBlock const&, BlockValidationState&, CBlockIndex*, CCoinsViewCache&, bool) (./validation.cpp:2564)\r\n```\r\n\r\nSo the suggestion in https://github.com/bitcoin/bitcoin/issues/26112#issuecomment-1249683401 and the resulting pull request  likely did not  pinpoint and fix the bug.",
      "created_at": "2026-01-12T15:24:01Z",
      "updated_at": "2026-01-12T15:24:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34132#discussion_r2682753313",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2682753313"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34132"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 34,
      "side": "RIGHT"
    }
  ]
}