{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349",
    "id": 965013592,
    "node_id": "PR_kwDOABII5845hPBY",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/25349",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/25349.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/25349.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25349",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25349/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/3a61fc56a0ad6ed58570350dcfd9ed2d10239b48",
    "number": 25349,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "CBlockIndex/CDiskBlockIndex improvements for safety, consistent behavior",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fix a few design issues, potential footguns and inconsistent behavior in the CBlockIndex and CDiskBlockIndex classes.\r\n\r\n- Ensure phashBlock in `CBlockIndex#GetBlockHash()` is not nullptr before dereferencing and remove a now-redundant assert preceding a GetBlockHash() caller.  This protects against UB here, and in case of failure (which would indicate a consensus bug), the debug log will print `bitcoind: chain.h:265: uint256 CBlockIndex::GetBlockHash() const: Assertion 'phashBlock != nullptr' failed. Aborted` instead of `Segmentation fault`.\r\n- Remove the unused `CDiskBlockIndex#ToString()` class member, and mark the inherited `CBlockIndex#ToString()` public interface member as deleted to disallow calling it in the derived CDiskBlockIndex class.\r\n- Rename the `CDiskBlockIndex GetBlockHash()` class member to `ConstructBlockHash()`, which also makes sense as they perform different operations to return a blockhash, and mark the inherited `CBlockIndex#GetBlockHash()` public interface member as deleted to disallow calling it in the derived CDiskBlockIndex class.\r\n- Move `CBlockIndex#ToString()` from header to implementation, which also allows dropping `tinyformat.h` from the header file.\r\n\r\nRationale and discussion regarding the CDiskBlockIndex changes:\r\n\r\nHere is a failing test on master that demonstrates the inconsistent behavior of the current design: calling the same inherited public interface functions on the same CDiskBlockIndex object should yield identical behavior, but does not.\r\n\r\n```diff\r\ndiff --git a/src/test/validation_chainstatemanager_tests.cpp b/src/test/validation_chainstatemanager_tests.cpp\r\nindex 6dc522b421..dac3840f32 100644\r\n--- a/src/test/validation_chainstatemanager_tests.cpp\r\n+++ b/src/test/validation_chainstatemanager_tests.cpp\r\n@@ -240,6 +240,15 @@ BOOST_FIXTURE_TEST_CASE(chainstatemanager_activate_snapshot, TestChain100Setup)\r\n\r\n     const CBlockIndex* tip = chainman.ActiveTip();\r\n\r\n     BOOST_CHECK_EQUAL(tip->nChainTx, au_data.nChainTx);\r\n\r\n+    // CDiskBlockIndex \"is a\" CBlockIndex, as it publicly inherits from it.\r\n+    // Test that calling the same inherited interface functions on the same\r\n+    // object yields identical behavior.\r\n+    CDiskBlockIndex index{tip};\r\n+    CBlockIndex *pB = &index;\r\n+    CDiskBlockIndex *pD = &index;\r\n+    BOOST_CHECK_EQUAL(pB->GetBlockHash(), pD->GetBlockHash());\r\n+    BOOST_CHECK_EQUAL(pB->ToString(), pD->ToString());\r\n```\r\n\r\n(build and run: `$ ./src/test/test_bitcoin -t validation_chainstatemanager_tests`)\r\n\r\nThe GetBlockHash() test assertion only passes on master because the different methods invoked by the current design happen to return the same result.  If one of the two is changed, it fails like the ToString() assertion does.\r\n\r\nRedefining inherited non-virtual functions is well-documented as incorrect design to avoid inconsistent behavior (see Scott Meyers, Effective C++, Item 36). Class usage is confusing when the behavior depends on the pointer definition instead of the object definition (static binding happening where dynamic binding was expected). This can lead to unsuspected or hard-to-track bugs.\r\n\r\nOutside of critical hot spots, correctness usually comes before optimisation, but the current design dates back to main.cpp and it may possibly have been chosen to avoid the overhead of dynamic dispatch.  This solution does the same: the class sizes are unchanged and no vptr or vtbl is added.\r\n\r\nThere are better designs for doing this that use composition instead of inheritance, or that separate the public interface from the private implementations.  One example of the latter would be a non-virtual public interface that calls private virtual implementation methods, i.e. the Template pattern via the Non-Virtual Interface (NVI) idiom.",
    "labels": [
      {
        "id": 135961,
        "node_id": "MDU6TGFiZWwxMzU5NjE=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
        "name": "Refactoring",
        "color": "E6F6D6",
        "default": false
      }
    ],
    "created_at": "2022-06-12T14:20:56Z",
    "updated_at": "2023-07-25T10:16:36Z",
    "closed_at": "2022-07-25T14:21:50Z",
    "mergeable_state": "unknown",
    "merged_at": "2022-07-25T14:21:50Z",
    "merge_commit_sha": "5057adf22fc4c3593e1e633defeda96be508f198",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "jonatack:2022-06-CDiskBlockIndex-class-design",
      "ref": "2022-06-CDiskBlockIndex-class-design",
      "sha": "3a61fc56a0ad6ed58570350dcfd9ed2d10239b48",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 173103842,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNzMxMDM4NDI=",
        "name": "bitcoin",
        "full_name": "jonatack/bitcoin",
        "owner": {
          "login": "jonatack",
          "id": 2415484,
          "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
          "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/jonatack",
          "html_url": "https://github.com/jonatack",
          "followers_url": "https://api.github.com/users/jonatack/followers",
          "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
          "organizations_url": "https://api.github.com/users/jonatack/orgs",
          "repos_url": "https://api.github.com/users/jonatack/repos",
          "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/jonatack/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/jonatack/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/jonatack/bitcoin",
        "archive_url": "https://api.github.com/repos/jonatack/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/jonatack/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/jonatack/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/jonatack/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/jonatack/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/jonatack/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/jonatack/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/jonatack/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/jonatack/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/jonatack/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/jonatack/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/jonatack/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/jonatack/bitcoin/events",
        "forks_url": "https://api.github.com/repos/jonatack/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/jonatack/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/jonatack/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/jonatack/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/jonatack/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/jonatack/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/jonatack/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/jonatack/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/jonatack/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/jonatack/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/jonatack/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/jonatack/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/jonatack/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/jonatack/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/jonatack/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/jonatack/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:jonatack/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/jonatack/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/jonatack/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/jonatack/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/jonatack/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/jonatack/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/jonatack/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/jonatack/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/jonatack/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/jonatack/bitcoin/hooks",
        "svn_url": "https://github.com/jonatack/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 1,
        "watchers_count": 1,
        "size": 219625,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-02T16:48:38Z",
        "created_at": "2019-02-28T11:57:18Z",
        "updated_at": "2023-01-03T22:00:49Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "6dc3084eec912cf2abfe18d1c05655defaa45e20",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35476,
        "stargazers_count": 70608,
        "watchers_count": 70608,
        "size": 236222,
        "default_branch": "master",
        "open_issues_count": 672,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-02T23:26:31Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-08-02T18:21:18Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 14,
    "deletions": 23,
    "changed_files": 5,
    "commits": 4,
    "review_comments": 27,
    "comments": 5
  },
  "events": [
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-12T14:30:31Z",
      "updated_at": "2022-06-12T14:30:31Z",
      "source": {
        "issue": {
          "id": 1264985013,
          "node_id": "PR_kwDOABII5845VQYu",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25311",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25311/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25311/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25311/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25311",
          "number": 25311,
          "state": "closed",
          "state_reason": null,
          "title": "refactor: remove CBlockIndex copy construction",
          "body": "Copy construction of CBlockIndex objects is a footgun because of the\r\nwide use of equality-by-pointer comparison in the code base. There are\r\nalso potential lifetime confusions of using copied instances, since\r\nthere are recursive pointer members (e.g. pprev).\r\n\r\n(See also https://github.com/bitcoin/bitcoin/pull/24008#discussion_r891949166)\r\n\r\nWe can't just delete the copy constructors because they are used for\r\nderived classes (CDiskBlockIndex), so we mark them protected.",
          "user": {
            "login": "jamesob",
            "id": 73197,
            "node_id": "MDQ6VXNlcjczMTk3",
            "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jamesob",
            "html_url": "https://github.com/jamesob",
            "followers_url": "https://api.github.com/users/jamesob/followers",
            "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
            "organizations_url": "https://api.github.com/users/jamesob/orgs",
            "repos_url": "https://api.github.com/users/jamesob/repos",
            "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/jamesob/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            },
            {
              "id": 97470796,
              "node_id": "MDU6TGFiZWw5NzQ3MDc5Ng==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/UTXO%20Db%20and%20Indexes",
              "name": "UTXO Db and Indexes",
              "color": "fbca04",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 14,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25311",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25311",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25311.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25311.patch"
          },
          "closed_at": "2022-12-19T09:34:54Z",
          "created_at": "2022-06-08T16:10:24Z",
          "updated_at": "2022-12-19T09:34:55Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "renamed",
      "id": 6791530357,
      "node_id": "RTE_lADOABII585LnUT4zwAAAAGUzod1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6791530357",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-12T14:32:59Z",
      "rename": {
        "from": "refactor: CDiskBlockIndex ToString() and GetBlockHash() for consistent behavior and safety",
        "to": "refactor: CDiskBlockIndex ToString() and GetBlockHash()"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6791537203,
      "node_id": "HRFPE_lADOABII585LnUT4zwAAAAGUzqIz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6791537203",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-12T14:38:44Z"
    },
    {
      "event": "labeled",
      "id": 6791561167,
      "node_id": "LE_lADOABII585LnUT4zwAAAAGUzv_P",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6791561167",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-12T14:58:51Z",
      "label": {
        "name": "Refactoring",
        "color": "E6F6D6"
      }
    },
    {
      "event": "renamed",
      "id": 6797660693,
      "node_id": "RTE_lADOABII585LnUT4zwAAAAGVLBIV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6797660693",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-13T16:41:12Z",
      "rename": {
        "from": "refactor: CDiskBlockIndex ToString() and GetBlockHash()",
        "to": "CDiskBlockIndex: remove ToString and rename GetBlockHash for consistent behavior"
      }
    },
    {
      "event": "renamed",
      "id": 6797664862,
      "node_id": "RTE_lADOABII585LnUT4zwAAAAGVLCJe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6797664862",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-13T16:41:50Z",
      "rename": {
        "from": "CDiskBlockIndex: remove ToString and rename GetBlockHash for consistent behavior",
        "to": "CDiskBlockIndex: remove ToString() and rename GetBlockHash() for consistent behavior"
      }
    },
    {
      "event": "reviewed",
      "id": 1005316130,
      "node_id": "PRR_kwDOABII58476-gi",
      "url": null,
      "actor": null,
      "commit_id": "905a4d1b2c9ed6b28f2bfbb156bbb95b1d99c44e",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#pullrequestreview-1005316130",
      "submitted_at": "2022-06-14T06:48:46Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349"
    },
    {
      "event": "commented",
      "id": 1156176143,
      "node_id": "IC_kwDOABII585E6dkP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1156176143",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-15T08:43:04Z",
      "updated_at": "2022-07-16T17:27:20Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#25311](https://github.com/bitcoin/bitcoin/pull/25311) (remove CBlockIndex copy construction by jamesob)\n* [#25023](https://github.com/bitcoin/bitcoin/pull/25023) (Remove unused SetTip(nullptr) code by MarcoFalke)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#issuecomment-1156176143",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25349"
    },
    {
      "event": "renamed",
      "id": 6868479600,
      "node_id": "RTE_lADOABII585LnUT4zwAAAAGZZK5w",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6868479600",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-23T17:57:31Z",
      "rename": {
        "from": "CDiskBlockIndex: remove ToString() and rename GetBlockHash() for consistent behavior",
        "to": "CDiskBlockIndex: remove unused ToString(), rename GetBlockHash() for consistent behavior"
      }
    },
    {
      "event": "commented",
      "id": 1164713443,
      "node_id": "IC_kwDOABII585FbB3j",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1164713443",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-23T18:03:18Z",
      "updated_at": "2022-07-15T06:47:36Z",
      "author_association": "CONTRIBUTOR",
      "body": "The same approach (and a further design refactoring) were also suggested in https://github.com/bitcoin/bitcoin/pull/25311#discussion_r895318403. ",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#issuecomment-1164713443",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25349"
    },
    {
      "event": "reviewed",
      "id": 1037392084,
      "node_id": "PRR_kwDOABII58491VjU",
      "url": null,
      "actor": null,
      "commit_id": "905a4d1b2c9ed6b28f2bfbb156bbb95b1d99c44e",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK 905a4d1b2c9ed6b28f2bfbb156bbb95b1d99c44e\r\n\r\nRemoving unused code is always good IMO. If needed it can be resurrected from git history or re-implemented.\r\n\r\nSome non-blocker questions:\r\n\r\nWhy is overriding non-virtual functions incorrect design?\r\n\r\nI think inheritance implies that the derived class wants to have all the properties of the base class. If it wants just some of them, then at some point maybe [composition would be more appropriate than inheritance](https://google.github.io/styleguide/cppguide.html#Inheritance).\r\n\r\nThe test from the commit message is expected to fail. If you access a Derived object through a pointer to Base, and both have the same method, then the Base's method is to be called.\r\n\r\nEdit: now I see that the alternative approach in https://github.com/bitcoin/bitcoin/pull/25311#discussion_r895318403 uses composition instead of inheritance. If indeed the users of `CDiskBlockIndex` do not use all the stuff provided by `CBlockIndex`, then that is a better approach.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#pullrequestreview-1037392084",
      "submitted_at": "2022-07-13T13:55:04Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6999483472,
      "node_id": "HRFPE_lADOABII585LnUT4zwAAAAGhM6RQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6999483472",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-15T06:22:21Z"
    },
    {
      "event": "commented",
      "id": 1185226396,
      "node_id": "IC_kwDOABII585GpR6c",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1185226396",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-15T06:39:10Z",
      "updated_at": "2022-07-15T17:09:52Z",
      "author_association": "CONTRIBUTOR",
      "body": "Updated per `git range-diff 02ede4f 905a4d1 7866c85` to take review feedback (thanks!)\r\n\r\n> Some non-blocker questions:\r\n> \r\n> Why is overriding non-virtual functions incorrect design?\r\n\r\nTo avoid inconsistent behavior. Public inheritance establishes an invariant over specialization for the derived class. Class usage is confusing when the behavior depends on the pointer definition instead of the object definition (static binding happening where dynamic binding was expected). This can lead to unsuspected or hard-to-track bugs. See **Scott Meyers, *Effective C++*, Item 36: Inherited non-virtual functions should never be redefined**, rephrased in urls like https://programmersought.com/article/50007468749/ and https://www.programminghunter.com/article/96792264397/. I updated the PR description with part of this paragraph.\r\n \r\n> Edit: now I see that the alternative approach in [#25311 (comment)](https://github.com/bitcoin/bitcoin/pull/25311#discussion_r895318403) uses composition instead of inheritance. If indeed the users of `CDiskBlockIndex` do not use all the stuff provided by `CBlockIndex`, then that is a better approach.\r\n\r\nI agree it could potentially be a better design as a follow-up / next step (it is a somewhat more invasive refactoring).",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#issuecomment-1185226396",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25349"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-15T12:58:23Z",
      "updated_at": "2022-07-15T12:58:23Z",
      "source": {
        "issue": {
          "id": 1306008117,
          "node_id": "PR_kwDOABII5847eDJ6",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25619",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25619/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25619/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25619/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25619",
          "number": 25619,
          "state": "closed",
          "state_reason": null,
          "title": "net: avoid overriding non-virtual ToString() in CService and use better naming",
          "body": "Before this PR we had the somewhat confusing combination of methods:\r\n\r\n`CNetAddr::ToStringIP()`\r\n`CNetAddr::ToString()` (duplicate of the above)\r\n`CService::ToStringIPPort()`\r\n`CService::ToString()` (duplicate of the above, overrides a non-virtual method from `CNetAddr`)\r\n`CService::ToStringPort()`\r\n\r\nAvoid [overriding non-virtual methods](https://github.com/bitcoin/bitcoin/pull/25349/#issuecomment-1185226396).\r\n\r\n\"IP\" stands for \"Internet Protocol\" and while sometimes \"IP addresses\" are called just \"IPs\", it is incorrect to call Tor or I2P addresses \"IPs\". Thus use \"Addr\" instead of \"IP\".\r\n\r\nChange the above to:\r\n\r\n`CNetAddr::ToStringAddr()`\r\n`CService::ToStringAddrPort()`\r\n\r\nThe changes touch a lot of files, but are mostly mechanical.",
          "user": {
            "login": "vasild",
            "id": 266751,
            "node_id": "MDQ6VXNlcjI2Njc1MQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vasild",
            "html_url": "https://github.com/vasild",
            "followers_url": "https://api.github.com/users/vasild/followers",
            "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
            "organizations_url": "https://api.github.com/users/vasild/orgs",
            "repos_url": "https://api.github.com/users/vasild/repos",
            "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/vasild/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 20,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25619",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25619",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25619.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25619.patch"
          },
          "closed_at": "2023-02-17T18:34:58Z",
          "created_at": "2022-07-15T12:58:23Z",
          "updated_at": "2023-02-20T09:48:54Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1040262197,
      "node_id": "PRR_kwDOABII584-ASQ1",
      "url": null,
      "actor": null,
      "commit_id": "7866c85387c3fa553437be1e004986b889fcd2de",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK 7866c85387c3fa553437be1e004986b889fcd2de\r\n\r\nThanks for the explanation and links!\r\n\r\nNow I have justification to clarify the naming of `CNetAddr` and `CService` methods which has been confusing me for a long time: https://github.com/bitcoin/bitcoin/pull/25619",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#pullrequestreview-1040262197",
      "submitted_at": "2022-07-15T13:00:21Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349"
    },
    {
      "event": "reviewed",
      "id": 1040286075,
      "node_id": "PRR_kwDOABII584-AYF7",
      "url": null,
      "actor": null,
      "commit_id": "7866c85387c3fa553437be1e004986b889fcd2de",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#pullrequestreview-1040286075",
      "submitted_at": "2022-07-15T13:20:04Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-16T18:32:22Z",
      "updated_at": "2022-07-16T18:32:22Z",
      "source": {
        "issue": {
          "id": 1220094845,
          "node_id": "PR_kwDOABII5843BXnK",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25023",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25023/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25023/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25023/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25023",
          "number": 25023,
          "state": "closed",
          "state_reason": null,
          "title": "Remove unused SetTip(nullptr) code",
          "body": "Now that this path is no longer used after commit b51e60f91472da5216116626afc032acd5616e85, we can remove it.\r\n\r\nFuture code should reset `CChain` by simply discarding it and constructing a fresh one.",
          "user": {
            "login": "MarcoFalke",
            "id": 6399679,
            "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MarcoFalke",
            "html_url": "https://github.com/MarcoFalke",
            "followers_url": "https://api.github.com/users/MarcoFalke/followers",
            "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
            "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
            "repos_url": "https://api.github.com/users/MarcoFalke/repos",
            "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 2,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25023",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25023",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25023.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25023.patch"
          },
          "closed_at": "2022-08-04T15:48:33Z",
          "created_at": "2022-04-29T07:24:52Z",
          "updated_at": "2022-08-04T16:05:12Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1044741693,
      "node_id": "PRR_kwDOABII584-RX49",
      "url": null,
      "actor": null,
      "commit_id": "2ececec41e780ca0fe3aa945313a34750618c50e",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#pullrequestreview-1044741693",
      "submitted_at": "2022-07-20T10:22:13Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349"
    },
    {
      "event": "renamed",
      "id": 7040537906,
      "node_id": "RTE_lADOABII585LnUT4zwAAAAGjphUy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7040537906",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-21T18:21:14Z",
      "rename": {
        "from": "CDiskBlockIndex: remove unused ToString(), rename GetBlockHash() for consistent behavior",
        "to": "CBlockIndex and CDiskBlockIndex improvements for safety and consistent behavior"
      }
    },
    {
      "event": "renamed",
      "id": 7040545667,
      "node_id": "RTE_lADOABII585LnUT4zwAAAAGjpjOD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7040545667",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-21T18:22:29Z",
      "rename": {
        "from": "CBlockIndex and CDiskBlockIndex improvements for safety and consistent behavior",
        "to": "CBlockIndex/CDiskBlockIndex improvements for safety, consistent behavior"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7040616254,
      "node_id": "HRFPE_lADOABII585LnUT4zwAAAAGjp0c-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7040616254",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-21T18:34:46Z"
    },
    {
      "event": "commented",
      "id": 1191810906,
      "node_id": "IC_kwDOABII585HCZda",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1191810906",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-21T18:36:35Z",
      "updated_at": "2022-07-21T18:36:35Z",
      "author_association": "CONTRIBUTOR",
      "body": "Updated per review feedback by @vasild and @MarcoFalke (thanks!)",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#issuecomment-1191810906",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25349"
    },
    {
      "event": "mentioned",
      "id": 7040627734,
      "node_id": "MEE_lADOABII585LnUT4zwAAAAGjp3QW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7040627734",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-21T18:36:35Z"
    },
    {
      "event": "subscribed",
      "id": 7040627745,
      "node_id": "SE_lADOABII585LnUT4zwAAAAGjp3Qh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7040627745",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-21T18:36:35Z"
    },
    {
      "event": "mentioned",
      "id": 7040627756,
      "node_id": "MEE_lADOABII585LnUT4zwAAAAGjp3Qs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7040627756",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-21T18:36:35Z"
    },
    {
      "event": "subscribed",
      "id": 7040627766,
      "node_id": "SE_lADOABII585LnUT4zwAAAAGjp3Q2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7040627766",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-21T18:36:35Z"
    },
    {
      "event": "reviewed",
      "id": 1046991348,
      "node_id": "PRR_kwDOABII584-Z9H0",
      "url": null,
      "actor": null,
      "commit_id": "0ddad240dcd43b46ee70ccfb112d66d655b5c34f",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#pullrequestreview-1046991348",
      "submitted_at": "2022-07-21T18:43:35Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7040878786,
      "node_id": "HRFPE_lADOABII585LnUT4zwAAAAGjq0jC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7040878786",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-21T19:20:30Z"
    },
    {
      "event": "reviewed",
      "id": 1047427406,
      "node_id": "PRR_kwDOABII584-bnlO",
      "url": null,
      "actor": null,
      "commit_id": "306cd9defe538a8bf841dd1464b75f36c706d54d",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#pullrequestreview-1047427406",
      "submitted_at": "2022-07-22T06:06:47Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDE0YWVlY2U0NjJiMTQ5ZWFmMGQyOGEzN2Q1NWNjMTY5ZGY5OWIyY2I",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/14aeece462b149eaf0d28a37d55cc169df99b2cb",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/14aeece462b149eaf0d28a37d55cc169df99b2cb",
      "tree": {
        "sha": "06650ddeffc85efe331ad49a19a1d611b5d10324",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/06650ddeffc85efe331ad49a19a1d611b5d10324"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/02ede4f1fde9b5aa3ff370d523f9c9858c98905c",
          "sha": "02ede4f1fde9b5aa3ff370d523f9c9858c98905c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/02ede4f1fde9b5aa3ff370d523f9c9858c98905c"
        }
      ],
      "message": "CBlockIndex: ensure phashBlock is not nullptr before dereferencing\n\nand remove a now-redundant assert preceding a GetBlockHash() caller.\n\nThis protects against UB here, and in case of failure (which would\nindicate a consensus bug), the debug log will print\n\nbitcoind: chain.h:265: uint256 CBlockIndex::GetBlockHash() const: Assertion `phashBlock != nullptr' failed.\nAborted\n\ninstead of\n\nSegmentation fault",
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2022-07-22T10:42:27Z"
      },
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2022-07-16T11:22:46Z"
      },
      "sha": "14aeece462b149eaf0d28a37d55cc169df99b2cb"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDk5ZThlYzg3MjFhNTJjZDA4YmRjYTMxZjZlOTI2YzljMWNlMjgxZmI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/99e8ec8721a52cd08bdca31f6e926c9c1ce281fb",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/99e8ec8721a52cd08bdca31f6e926c9c1ce281fb",
      "tree": {
        "sha": "4a1359f343a4beda25c0ac320f38e1d87de00bd2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4a1359f343a4beda25c0ac320f38e1d87de00bd2"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/14aeece462b149eaf0d28a37d55cc169df99b2cb",
          "sha": "14aeece462b149eaf0d28a37d55cc169df99b2cb",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/14aeece462b149eaf0d28a37d55cc169df99b2cb"
        }
      ],
      "message": "CDiskBlockIndex: remove unused ToString() class member\n\nand mark its inherited CBlockIndex#ToString public interface member\nas deleted, to disallow calling it in the derived CDiskBlockIndex class.",
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2022-07-22T10:44:16Z"
      },
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2022-06-12T10:38:38Z"
      },
      "sha": "99e8ec8721a52cd08bdca31f6e926c9c1ce281fb"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDU3ODY1ZWI1MTI4ODg1MmMzY2U5OTYwN2VmZjc2YzYxYWU1ZjUzNjU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/57865eb51288852c3ce99607eff76c61ae5f5365",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/57865eb51288852c3ce99607eff76c61ae5f5365",
      "tree": {
        "sha": "bb3a755a8c91a8426980d7d2191d70bd929a31ee",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/bb3a755a8c91a8426980d7d2191d70bd929a31ee"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/99e8ec8721a52cd08bdca31f6e926c9c1ce281fb",
          "sha": "99e8ec8721a52cd08bdca31f6e926c9c1ce281fb",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/99e8ec8721a52cd08bdca31f6e926c9c1ce281fb"
        }
      ],
      "message": "CDiskBlockIndex: rename GetBlockHash() to ConstructBlockHash()\n\nand mark the inherited CBlockIndex#GetBlockHash public interface member\nas deleted, to disallow calling it in the derived CDiskBlockIndex class.\n\nHere is a failing test on master demonstrating the inconsistent behavior of the\ncurrent design: calling the same inherited public interface functions on the\nsame CDiskBlockIndex object should yield identical behavior.\n\n```diff\ndiff --git a/src/test/validation_chainstatemanager_tests.cpp b/src/test/validation_chainstatemanager_tests.cpp\nindex 6dc522b421..dac3840f32 100644\n--- a/src/test/validation_chainstatemanager_tests.cpp\n+++ b/src/test/validation_chainstatemanager_tests.cpp\n@@ -240,6 +240,15 @@ BOOST_FIXTURE_TEST_CASE(chainstatemanager_activate_snapshot, TestChain100Setup)\n\n     const CBlockIndex* tip = chainman.ActiveTip();\n\n     BOOST_CHECK_EQUAL(tip->nChainTx, au_data.nChainTx);\n\n+    // CDiskBlockIndex \"is a\" CBlockIndex, as it publicly inherits from it.\n+    // Test that calling the same inherited interface functions on the same\n+    // object yields identical behavior.\n+    CDiskBlockIndex index{tip};\n+    CBlockIndex *pB = &index;\n+    CDiskBlockIndex *pD = &index;\n+    BOOST_CHECK_EQUAL(pB->GetBlockHash(), pD->GetBlockHash());\n+    BOOST_CHECK_EQUAL(pB->ToString(), pD->ToString());\n+\n```\n\nThe GetBlockHash() test assertion only passes on master because the different\nmethods invoked by the current design happen to return the same result.  If one\nof the two is changed, it fails like the ToString() assertion does.\n\nRedefining inherited non-virtual functions is well-documented as incorrect\ndesign to avoid inconsistent behavior (see Scott Meyers, \"Effective C++\", Item\n36).  Class usage is confusing when the behavior depends on the pointer\ndefinition instead of the object definition (static binding happening where\ndynamic binding was expected).  This can lead to unsuspected or hard-to-track\nbugs.\n\nOutside of critical hot spots, correctness usually comes before optimisation,\nbut the current design dates back to main.cpp and it may possibly have been\nchosen to avoid the overhead of dynamic dispatch.  This solution does the same:\nthe class sizes are unchanged and no vptr or vtbl is added.\n\nThere are better designs for doing this that use composition instead of\ninheritance or that separate the public interface from the private\nimplementations.  One example of the latter would be a non-virtual public\ninterface that calls private virtual implementation methods, i.e. the Template\npattern via the Non-Virtual Interface (NVI) idiom.",
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2022-07-22T10:45:07Z"
      },
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2022-06-12T10:37:41Z"
      },
      "sha": "57865eb51288852c3ce99607eff76c61ae5f5365"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDNhNjFmYzU2YTBhZDZlZDU4NTcwMzUwZGNmZDllZDJkMTAyMzliNDg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3a61fc56a0ad6ed58570350dcfd9ed2d10239b48",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/3a61fc56a0ad6ed58570350dcfd9ed2d10239b48",
      "tree": {
        "sha": "efa4ca6dddcc2acb62e8306000a00e930f9e33e5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/efa4ca6dddcc2acb62e8306000a00e930f9e33e5"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/57865eb51288852c3ce99607eff76c61ae5f5365",
          "sha": "57865eb51288852c3ce99607eff76c61ae5f5365",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/57865eb51288852c3ce99607eff76c61ae5f5365"
        }
      ],
      "message": "refactor: move CBlockIndex#ToString() from header to implementation\n\nwhich allows dropping tinyformat.h from the header file.",
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2022-07-22T10:47:13Z"
      },
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2022-07-16T13:19:03Z"
      },
      "sha": "3a61fc56a0ad6ed58570350dcfd9ed2d10239b48"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7045672312,
      "node_id": "HRFPE_lADOABII585LnUT4zwAAAAGj9G14",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7045672312",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-22T11:04:48Z"
    },
    {
      "event": "commented",
      "id": 1192457497,
      "node_id": "IC_kwDOABII585HE3UZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1192457497",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-22T11:05:36Z",
      "updated_at": "2022-07-22T11:05:36Z",
      "author_association": "CONTRIBUTOR",
      "body": "Updated per review feedback by @MarcoFalke (thanks!)",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#issuecomment-1192457497",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25349"
    },
    {
      "event": "mentioned",
      "id": 7045676953,
      "node_id": "MEE_lADOABII585LnUT4zwAAAAGj9H-Z",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7045676953",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-22T11:05:37Z"
    },
    {
      "event": "subscribed",
      "id": 7045676958,
      "node_id": "SE_lADOABII585LnUT4zwAAAAGj9H-e",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7045676958",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-22T11:05:37Z"
    },
    {
      "event": "reviewed",
      "id": 1047762974,
      "node_id": "PRR_kwDOABII584-c5ge",
      "url": null,
      "actor": null,
      "commit_id": "3a61fc56a0ad6ed58570350dcfd9ed2d10239b48",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK 3a61fc56a0ad6ed58570350dcfd9ed2d10239b48",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#pullrequestreview-1047762974",
      "submitted_at": "2022-07-22T11:17:15Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349"
    },
    {
      "event": "merged",
      "id": 7057033566,
      "node_id": "ME_lADOABII585LnUT4zwAAAAGkocle",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7057033566",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "5057adf22fc4c3593e1e633defeda96be508f198",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5057adf22fc4c3593e1e633defeda96be508f198",
      "created_at": "2022-07-25T14:21:50Z"
    },
    {
      "event": "closed",
      "id": 7057033631,
      "node_id": "CE_lADOABII585LnUT4zwAAAAGkocmf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7057033631",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-25T14:21:50Z"
    },
    {
      "event": "head_ref_deleted",
      "id": 7057371686,
      "node_id": "HRDE_lADOABII585LnUT4zwAAAAGkpvIm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7057371686",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-25T15:01:00Z"
    },
    {
      "event": "referenced",
      "id": 7058081231,
      "node_id": "REFE_lADOABII585LnUT4zwAAAAGkscXP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7058081231",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "3af0f9a84cfca92836a91e145ef0caee99461cfc",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/3af0f9a84cfca92836a91e145ef0caee99461cfc",
      "created_at": "2022-07-25T16:32:47Z"
    },
    {
      "event": "referenced",
      "id": 8549910686,
      "node_id": "REFE_lADOABII585LnUT4zwAAAAH9nUie",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8549910686",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "35fbc972082eca0fc848fba77360ff35f1ba69e1",
      "commit_url": "https://api.github.com/repos/bitcoin-core/gui/commits/35fbc972082eca0fc848fba77360ff35f1ba69e1",
      "created_at": "2023-02-17T18:34:48Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-19T16:10:42Z",
      "updated_at": "2023-04-19T16:10:42Z",
      "source": {
        "issue": {
          "id": 1290476607,
          "node_id": "PR_kwDOABII5846qNZf",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25515",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25515/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25515/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25515/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25515",
          "number": 25515,
          "state": "open",
          "state_reason": null,
          "title": "net, test: Virtualise CConnman and add initial PeerManager unit tests",
          "body": "This PR creates an abstract `ConnectionsInterface` class that is used as an interface for interacting with the connection manager. The `PeerManager` is made to hold a reference to a `ConnectionsInterface` instead of `CConnman`, which makes it possible for us to mock the connection manager in the newly introduced `PeerManager` unit tests. Two initial unit tests are added for the version handshake and ping/pong logic.",
          "user": {
            "login": "dergoegge",
            "id": 8077169,
            "node_id": "MDQ6VXNlcjgwNzcxNjk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dergoegge",
            "html_url": "https://github.com/dergoegge",
            "followers_url": "https://api.github.com/users/dergoegge/followers",
            "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
            "organizations_url": "https://api.github.com/users/dergoegge/orgs",
            "repos_url": "https://api.github.com/users/dergoegge/repos",
            "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/dergoegge/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 11,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25515",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25515",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25515.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25515.patch"
          },
          "created_at": "2022-06-30T18:04:58Z",
          "updated_at": "2023-07-18T02:05:54Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "locked",
      "id": 9909780385,
      "node_id": "LOE_lADOABII585LnUT4zwAAAAJOqz-h",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9909780385",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-25T10:16:36Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/896436437",
      "pull_request_review_id": 1005316130,
      "id": 896436437,
      "node_id": "PRRC_kwDOABII5841bojV",
      "diff_hunk": "@@ -414,16 +414,9 @@ class CDiskBlockIndex : public CBlockIndex\n         return block.GetHash();\n     }\n \n-\n-    std::string ToString() const",
      "path": "src/chain.h",
      "position": 45,
      "original_position": 14,
      "commit_id": "3a61fc56a0ad6ed58570350dcfd9ed2d10239b48",
      "original_commit_id": "905a4d1b2c9ed6b28f2bfbb156bbb95b1d99c44e",
      "in_reply_to_id": null,
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'm somewhat ambivalent about removing this. The superclass has it so it can be considered part of the API, and it can be useful to show the contents of the structure when debugging/troubleshooting.",
      "created_at": "2022-06-14T06:48:46Z",
      "updated_at": "2022-06-14T06:48:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#discussion_r896436437",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/896436437"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 418,
      "original_line": 418,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/896450607",
      "pull_request_review_id": 1005336203,
      "id": 896450607,
      "node_id": "PRRC_kwDOABII5841bsAv",
      "diff_hunk": "@@ -414,16 +414,9 @@ class CDiskBlockIndex : public CBlockIndex\n         return block.GetHash();\n     }\n \n-\n-    std::string ToString() const",
      "path": "src/chain.h",
      "position": 45,
      "original_position": 14,
      "commit_id": "3a61fc56a0ad6ed58570350dcfd9ed2d10239b48",
      "original_commit_id": "905a4d1b2c9ed6b28f2bfbb156bbb95b1d99c44e",
      "in_reply_to_id": 896436437,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Should we rename it instead?\n\n(Noting that the safe and correct way would be to use dynamic dispatch, like in https://github.com/jonatack/bitcoin/commits/CBlockIndex-CDiskBlockIndex-class-design, if the base and derived classes aren't critical hotspots.)",
      "created_at": "2022-06-14T07:06:56Z",
      "updated_at": "2022-06-14T07:06:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#discussion_r896450607",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/896450607"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 418,
      "original_line": 418,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/896503569",
      "pull_request_review_id": 1005411189,
      "id": 896503569,
      "node_id": "PRRC_kwDOABII5841b48R",
      "diff_hunk": "@@ -414,16 +414,9 @@ class CDiskBlockIndex : public CBlockIndex\n         return block.GetHash();\n     }\n \n-\n-    std::string ToString() const",
      "path": "src/chain.h",
      "position": 45,
      "original_position": 14,
      "commit_id": "3a61fc56a0ad6ed58570350dcfd9ed2d10239b48",
      "original_commit_id": "905a4d1b2c9ed6b28f2bfbb156bbb95b1d99c44e",
      "in_reply_to_id": 896436437,
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I agree it's not worth it to set that up just for a debugging function. ",
      "created_at": "2022-06-14T08:02:40Z",
      "updated_at": "2022-06-14T08:02:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#discussion_r896503569",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/896503569"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 418,
      "original_line": 418,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/896507421",
      "pull_request_review_id": 1005417001,
      "id": 896507421,
      "node_id": "PRRC_kwDOABII5841b54d",
      "diff_hunk": "@@ -414,16 +414,9 @@ class CDiskBlockIndex : public CBlockIndex\n         return block.GetHash();\n     }\n \n-\n-    std::string ToString() const",
      "path": "src/chain.h",
      "position": 45,
      "original_position": 14,
      "commit_id": "3a61fc56a0ad6ed58570350dcfd9ed2d10239b48",
      "original_commit_id": "905a4d1b2c9ed6b28f2bfbb156bbb95b1d99c44e",
      "in_reply_to_id": 896436437,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Right.",
      "created_at": "2022-06-14T08:06:50Z",
      "updated_at": "2022-06-14T08:06:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#discussion_r896507421",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/896507421"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 418,
      "original_line": 418,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905315608",
      "pull_request_review_id": 1017436583,
      "id": 905315608,
      "node_id": "PRRC_kwDOABII58419gUY",
      "diff_hunk": "@@ -414,16 +414,9 @@ class CDiskBlockIndex : public CBlockIndex\n         return block.GetHash();\n     }\n \n-\n-    std::string ToString() const",
      "path": "src/chain.h",
      "position": 45,
      "original_position": 14,
      "commit_id": "3a61fc56a0ad6ed58570350dcfd9ed2d10239b48",
      "original_commit_id": "905a4d1b2c9ed6b28f2bfbb156bbb95b1d99c44e",
      "in_reply_to_id": 896436437,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Resolving as the method is unused and can have inconsistent behavior as described in the OP, but please let me know if a change should be made. ",
      "created_at": "2022-06-23T18:00:27Z",
      "updated_at": "2022-06-23T18:00:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#discussion_r905315608",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905315608"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 418,
      "original_line": 418,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920099125",
      "pull_request_review_id": 1037392084,
      "id": 920099125,
      "node_id": "PRRC_kwDOABII584215k1",
      "diff_hunk": "@@ -414,16 +414,9 @@ class CDiskBlockIndex : public CBlockIndex\n         return block.GetHash();\n     }\n \n-\n-    std::string ToString() const\n-    {\n-        std::string str = \"CDiskBlockIndex(\";\n-        str += CBlockIndex::ToString();\n-        str += strprintf(\"\\n                hashBlock=%s, hashPrev=%s)\",\n-            GetBlockHash().ToString(),\n-            hashPrev.ToString());\n-        return str;\n-    }\n+    // To be called only by the base class.\n+    uint256 GetBlockHash() = delete;\n+    uint256 ToString() = delete;",
      "path": "src/chain.h",
      "position": null,
      "original_position": 25,
      "commit_id": "3a61fc56a0ad6ed58570350dcfd9ed2d10239b48",
      "original_commit_id": "905a4d1b2c9ed6b28f2bfbb156bbb95b1d99c44e",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why return `uint256` from `ToString()`? It is irrelevant in this case, but better have the same return type as the parent `CBlockIndex::ToString()` in order to avoid people asking this question :)\r\n\r\n```suggestion\r\n    std::string ToString() = delete;\r\n```",
      "created_at": "2022-07-13T13:46:18Z",
      "updated_at": "2022-07-13T13:55:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#discussion_r920099125",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920099125"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 419,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920113775",
      "pull_request_review_id": 1037412867,
      "id": 920113775,
      "node_id": "PRRC_kwDOABII584219Jv",
      "diff_hunk": "@@ -414,16 +414,9 @@ class CDiskBlockIndex : public CBlockIndex\n         return block.GetHash();\n     }\n \n-\n-    std::string ToString() const\n-    {\n-        std::string str = \"CDiskBlockIndex(\";\n-        str += CBlockIndex::ToString();\n-        str += strprintf(\"\\n                hashBlock=%s, hashPrev=%s)\",\n-            GetBlockHash().ToString(),\n-            hashPrev.ToString());\n-        return str;\n-    }\n+    // To be called only by the base class.\n+    uint256 GetBlockHash() = delete;\n+    uint256 ToString() = delete;",
      "path": "src/chain.h",
      "position": null,
      "original_position": 25,
      "commit_id": "3a61fc56a0ad6ed58570350dcfd9ed2d10239b48",
      "original_commit_id": "905a4d1b2c9ed6b28f2bfbb156bbb95b1d99c44e",
      "in_reply_to_id": 920099125,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Deleted functions may also return `void`",
      "created_at": "2022-07-13T13:58:28Z",
      "updated_at": "2022-07-13T13:58:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#discussion_r920113775",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920113775"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 419,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920147704",
      "pull_request_review_id": 1037461943,
      "id": 920147704,
      "node_id": "PRRC_kwDOABII58422Fb4",
      "diff_hunk": "@@ -414,16 +414,9 @@ class CDiskBlockIndex : public CBlockIndex\n         return block.GetHash();\n     }\n \n-\n-    std::string ToString() const\n-    {\n-        std::string str = \"CDiskBlockIndex(\";\n-        str += CBlockIndex::ToString();\n-        str += strprintf(\"\\n                hashBlock=%s, hashPrev=%s)\",\n-            GetBlockHash().ToString(),\n-            hashPrev.ToString());\n-        return str;\n-    }\n+    // To be called only by the base class.\n+    uint256 GetBlockHash() = delete;\n+    uint256 ToString() = delete;",
      "path": "src/chain.h",
      "position": null,
      "original_position": 25,
      "commit_id": "3a61fc56a0ad6ed58570350dcfd9ed2d10239b48",
      "original_commit_id": "905a4d1b2c9ed6b28f2bfbb156bbb95b1d99c44e",
      "in_reply_to_id": 920099125,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It may return anything because it is irrelevant, but if it is going to be different than the return type of the base method, then I would prefer it to return [`std::vector<double>`](https://purple.bikeshed.com/).",
      "created_at": "2022-07-13T14:26:44Z",
      "updated_at": "2022-07-13T14:26:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#discussion_r920147704",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920147704"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 419,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920169558",
      "pull_request_review_id": 1037494251,
      "id": 920169558,
      "node_id": "PRRC_kwDOABII58422KxW",
      "diff_hunk": "@@ -414,16 +414,9 @@ class CDiskBlockIndex : public CBlockIndex\n         return block.GetHash();\n     }\n \n-\n-    std::string ToString() const\n-    {\n-        std::string str = \"CDiskBlockIndex(\";\n-        str += CBlockIndex::ToString();\n-        str += strprintf(\"\\n                hashBlock=%s, hashPrev=%s)\",\n-            GetBlockHash().ToString(),\n-            hashPrev.ToString());\n-        return str;\n-    }\n+    // To be called only by the base class.\n+    uint256 GetBlockHash() = delete;\n+    uint256 ToString() = delete;",
      "path": "src/chain.h",
      "position": null,
      "original_position": 25,
      "commit_id": "3a61fc56a0ad6ed58570350dcfd9ed2d10239b48",
      "original_commit_id": "905a4d1b2c9ed6b28f2bfbb156bbb95b1d99c44e",
      "in_reply_to_id": 920099125,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> [std::vector<double>](https://purple.bikeshed.com/).\r\n\r\nI mentioned it because the standard library seems to be using `void`, but I couldn't find the reference, so I didn't mention the reason. I'd advise against using non-built in types, as this increases the include dependencies.",
      "created_at": "2022-07-13T14:45:02Z",
      "updated_at": "2022-07-13T14:45:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#discussion_r920169558",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920169558"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 419,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/921850537",
      "pull_request_review_id": 1039847411,
      "id": 921850537,
      "node_id": "PRRC_kwDOABII58428lKp",
      "diff_hunk": "@@ -414,16 +414,9 @@ class CDiskBlockIndex : public CBlockIndex\n         return block.GetHash();\n     }\n \n-\n-    std::string ToString() const\n-    {\n-        std::string str = \"CDiskBlockIndex(\";\n-        str += CBlockIndex::ToString();\n-        str += strprintf(\"\\n                hashBlock=%s, hashPrev=%s)\",\n-            GetBlockHash().ToString(),\n-            hashPrev.ToString());\n-        return str;\n-    }\n+    // To be called only by the base class.\n+    uint256 GetBlockHash() = delete;\n+    uint256 ToString() = delete;",
      "path": "src/chain.h",
      "position": null,
      "original_position": 25,
      "commit_id": "3a61fc56a0ad6ed58570350dcfd9ed2d10239b48",
      "original_commit_id": "905a4d1b2c9ed6b28f2bfbb156bbb95b1d99c44e",
      "in_reply_to_id": 920099125,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> Why return `uint256` from `ToString()`? It is irrelevant in this case, but better have the same return type as the parent `CBlockIndex::ToString()` in order to avoid people asking this question :)\r\n\r\nAgree, fixed (thanks!)",
      "created_at": "2022-07-15T06:23:45Z",
      "updated_at": "2022-07-15T06:23:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#discussion_r921850537",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/921850537"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 419,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922158695",
      "pull_request_review_id": 1040286075,
      "id": 922158695,
      "node_id": "PRRC_kwDOABII58429wZn",
      "diff_hunk": "@@ -414,16 +414,9 @@ class CDiskBlockIndex : public CBlockIndex\n         return block.GetHash();\n     }\n \n-\n-    std::string ToString() const\n-    {\n-        std::string str = \"CDiskBlockIndex(\";\n-        str += CBlockIndex::ToString();\n-        str += strprintf(\"\\n                hashBlock=%s, hashPrev=%s)\",\n-            GetBlockHash().ToString(),\n-            hashPrev.ToString());\n-        return str;\n-    }\n+    // To be called only by the base class.",
      "path": "src/chain.h",
      "position": null,
      "original_position": 23,
      "commit_id": "3a61fc56a0ad6ed58570350dcfd9ed2d10239b48",
      "original_commit_id": "7866c85387c3fa553437be1e004986b889fcd2de",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I am pretty sure that constructing a `CDiskBlockIndex`, then calling the base class's method on the constructed object will result in dereferencing a nullptr (UB)",
      "created_at": "2022-07-15T13:20:04Z",
      "updated_at": "2022-07-15T13:20:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#discussion_r922158695",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922158695"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 417,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922322439",
      "pull_request_review_id": 1040526164,
      "id": 922322439,
      "node_id": "PRRC_kwDOABII5842-YYH",
      "diff_hunk": "@@ -414,16 +414,9 @@ class CDiskBlockIndex : public CBlockIndex\n         return block.GetHash();\n     }\n \n-\n-    std::string ToString() const\n-    {\n-        std::string str = \"CDiskBlockIndex(\";\n-        str += CBlockIndex::ToString();\n-        str += strprintf(\"\\n                hashBlock=%s, hashPrev=%s)\",\n-            GetBlockHash().ToString(),\n-            hashPrev.ToString());\n-        return str;\n-    }\n+    // To be called only by the base class.",
      "path": "src/chain.h",
      "position": null,
      "original_position": 23,
      "commit_id": "3a61fc56a0ad6ed58570350dcfd9ed2d10239b48",
      "original_commit_id": "7866c85387c3fa553437be1e004986b889fcd2de",
      "in_reply_to_id": 922158695,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I don't get it. Do you mean this?\r\n\r\n```cpp\r\nclass B\r\n{\r\npublic:\r\n    void f() { std::cout << \"B::f()\\n\"; }\r\n};\r\n\r\nclass D : public B\r\n{\r\npublic:\r\n    void f() = delete;\r\n};\r\n\r\nint main(int, char**)\r\n{\r\n    D d;\r\n    static_cast<B*>(&d)->f();\r\n    return 0;\r\n}\r\n```\r\n\r\n(it prints \"B::f()\")\r\n",
      "created_at": "2022-07-15T16:24:33Z",
      "updated_at": "2022-07-15T16:24:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#discussion_r922322439",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922322439"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 417,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922336309",
      "pull_request_review_id": 1040546551,
      "id": 922336309,
      "node_id": "PRRC_kwDOABII5842-bw1",
      "diff_hunk": "@@ -414,16 +414,9 @@ class CDiskBlockIndex : public CBlockIndex\n         return block.GetHash();\n     }\n \n-\n-    std::string ToString() const\n-    {\n-        std::string str = \"CDiskBlockIndex(\";\n-        str += CBlockIndex::ToString();\n-        str += strprintf(\"\\n                hashBlock=%s, hashPrev=%s)\",\n-            GetBlockHash().ToString(),\n-            hashPrev.ToString());\n-        return str;\n-    }\n+    // To be called only by the base class.",
      "path": "src/chain.h",
      "position": null,
      "original_position": 23,
      "commit_id": "3a61fc56a0ad6ed58570350dcfd9ed2d10239b48",
      "original_commit_id": "7866c85387c3fa553437be1e004986b889fcd2de",
      "in_reply_to_id": 922158695,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Running mainnet with the following patch:\r\n\r\n```diff\r\ndiff --git a/src/txdb.cpp b/src/txdb.cpp\r\nindex bad3bb80a9..5078ddb6bf 100644\r\n--- a/src/txdb.cpp\r\n+++ b/src/txdb.cpp\r\n@@ -310,7 +310,9 @@ bool CBlockTreeDB::LoadBlockIndexGuts(const Consensus::Params& consensusParams,\r\n             CDiskBlockIndex diskindex;\r\n             if (pcursor->GetValue(diskindex)) {\r\n                 // Construct block index object\r\n                 CBlockIndex* pindexNew = insertBlockIndex(diskindex.ConstructBlockHash());\r\n+                assert(pindexNew);\r\n+                LogPrintf(\"CBI 1: %s\\n\", pindexNew->ToString());\r\n                 pindexNew->pprev          = insertBlockIndex(diskindex.hashPrev);\r\n                 pindexNew->nHeight        = diskindex.nHeight;\r\n                 pindexNew->nFile          = diskindex.nFile;\r\n@@ -323,6 +325,7 @@ bool CBlockTreeDB::LoadBlockIndexGuts(const Consensus::Params& consensusParams,\r\n                 pindexNew->nNonce         = diskindex.nNonce;\r\n                 pindexNew->nStatus        = diskindex.nStatus;\r\n                 pindexNew->nTx            = diskindex.nTx;\r\n+                LogPrintf(\"CBI 2: %s\\n\", pindexNew->ToString());\r\n \r\n                 if (!CheckProofOfWork(pindexNew->GetBlockHash(), pindexNew->nBits, consensusParams)) {\r\n                     return error(\"%s: CheckProofOfWork failed: %s\", __func__, pindexNew->ToString());\r\n```\r\n\r\nprints (many) valid-looking objects.\r\n\r\n```\r\n2022-07-15T16:34:08Z CBI 1: CBlockIndex(pprev=0, nHeight=0, merkle=0000000000000000000000000000000000000000000000000000000000000000, hashBlock=000000000000000000597281aa1ec7e99f0fff6eeda0db8707f77709951ba61a)\r\n2022-07-15T16:34:08Z CBI 2: CBlockIndex(pprev=0x55d02f11c778, nHeight=478600, merkle=40e759d1ea04b507003f1177a66c39ec2783eb464f7d867c3d7f401fb168f2aa, hashBlock=000000000000000000597281aa1ec7e99f0fff6eeda0db8707f77709951ba61a)\r\n\r\n2022-07-15T16:34:08Z CBI 1: CBlockIndex(pprev=0, nHeight=0, merkle=0000000000000000000000000000000000000000000000000000000000000000, hashBlock=00000000000000000506e18c023143c5c3421399d3582be8aa4b263b8f69a61a)\r\n2022-07-15T16:34:08Z CBI 2: CBlockIndex(pprev=0x55d02f11c918, nHeight=427311, merkle=29af1206ec66690b1a0e51c2b07e6ead88056e7c11746c4d448f47e161cbbe39, hashBlock=00000000000000000506e18c023143c5c3421399d3582be8aa4b263b8f69a61a)\r\n```\r\n\r\nand with this patch calling the base function from the child class that is deleted in the child class:\r\n\r\n```diff\r\ndiff --git a/src/txdb.cpp b/src/txdb.cpp\r\nindex bad3bb80a9..c048c2d92a 100644\r\n--- a/src/txdb.cpp\r\n+++ b/src/txdb.cpp\r\n@@ -310,7 +310,7 @@ bool CBlockTreeDB::LoadBlockIndexGuts(const Consensus::Params& consensusParams,\r\n             CDiskBlockIndex diskindex;\r\n             if (pcursor->GetValue(diskindex)) {\r\n                 // Construct block index object\r\n-                CBlockIndex* pindexNew = insertBlockIndex(diskindex.ConstructBlockHash());\r\n+                CBlockIndex* pindexNew = insertBlockIndex(diskindex.GetBlockHash());\r\n                 pindexNew->pprev          = insertBlockIndex(diskindex.hashPrev);\r\n                 pindexNew->nHeight        = diskindex.nHeight;\r\n```\r\n\r\nI see the following build error:\r\n\r\n```\r\ntxdb.cpp:313:69: error: attempt to use a deleted function\r\n                CBlockIndex* pindexNew = insertBlockIndex(diskindex.GetBlockHash());\r\n                                                                    ^\r\n./chain.h:418:13: note: 'GetBlockHash' has been explicitly marked deleted here\r\n    uint256 GetBlockHash() = delete;\r\n            ^\r\n1 error generated.\r\n```\r\n\r\nLet me know if I'm misunderstanding or missing something.",
      "created_at": "2022-07-15T16:41:25Z",
      "updated_at": "2022-07-15T17:33:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#discussion_r922336309",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922336309"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 417,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922649077",
      "pull_request_review_id": 1040967502,
      "id": 922649077,
      "node_id": "PRRC_kwDOABII5842_oH1",
      "diff_hunk": "@@ -414,16 +414,9 @@ class CDiskBlockIndex : public CBlockIndex\n         return block.GetHash();\n     }\n \n-\n-    std::string ToString() const\n-    {\n-        std::string str = \"CDiskBlockIndex(\";\n-        str += CBlockIndex::ToString();\n-        str += strprintf(\"\\n                hashBlock=%s, hashPrev=%s)\",\n-            GetBlockHash().ToString(),\n-            hashPrev.ToString());\n-        return str;\n-    }\n+    // To be called only by the base class.",
      "path": "src/chain.h",
      "position": null,
      "original_position": 23,
      "commit_id": "3a61fc56a0ad6ed58570350dcfd9ed2d10239b48",
      "original_commit_id": "7866c85387c3fa553437be1e004986b889fcd2de",
      "in_reply_to_id": 922158695,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I mean that calling the base class method on a disk index object is UB:\r\n\r\n```diff\r\ndiff --git a/src/txdb.cpp b/src/txdb.cpp\r\nindex c048c2d92a..de1384fb61 100644\r\n--- a/src/txdb.cpp\r\n+++ b/src/txdb.cpp\r\n@@ -309,6 +309,7 @@ bool CBlockTreeDB::LoadBlockIndexGuts(const Consensus::Params& consensusParams,\r\n         if (pcursor->GetKey(key) && key.first == DB_BLOCK_INDEX) {\r\n             CDiskBlockIndex diskindex;\r\n             if (pcursor->GetValue(diskindex)) {\r\n+                static_cast<CBlockIndex&>(diskindex).ToString();\r\n                 // Construct block index object\r\n                 CBlockIndex* pindexNew = insertBlockIndex(diskindex.GetBlockHash());\r\n                 pindexNew->pprev          = insertBlockIndex(diskindex.hashPrev);\r\n```\r\n\r\n```\r\n==563291== Invalid read of size 16\r\n==563291==    at 0x2192B0: GetBlockHash (chain.h:266)\r\n==563291==    by 0x2192B0: CBlockIndex::ToString[abi:cxx11]() const (chain.h:309)\r\n==563291==    by 0x3CD954: CBlockTreeDB::LoadBlockIndexGuts(Consensus::Params const&, std::function<CBlockIndex* (uint256 const&)>) (txdb.cpp:312)\r\n==563291==    by 0x210BBF: node::BlockManager::LoadBlockIndex(Consensus::Params const&) (blockstorage.cpp:258)\r\n==563291==    by 0x2114AD: node::BlockManager::LoadBlockIndexDB(Consensus::Params const&) (blockstorage.cpp:323)\r\n==563291==    by 0x410C0B: ChainstateManager::LoadBlockIndex() (validation.cpp:4148)\r\n==563291==    by 0x222EEB: node::LoadChainstate(bool, ChainstateManager&, CTxMemPool*, bool, bool, long, long, long, bool, bool, std::function<bool ()>, std::function<void ()>) (chainstate.cpp:53)\r\n==563291==    by 0x1749A4: AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*) (init.cpp:1456)\r\n==563291==    by 0x159A31: AppInit (bitcoind.cpp:234)\r\n==563291==    by 0x159A31: main (bitcoind.cpp:278)\r\n==563291==  Address 0x0 is not stack'd, malloc'd or (recently) free'd\r\n==563291== \r\n==563291== \r\n==563291== Process terminating with default action of signal 11 (SIGSEGV): dumping core\r\n==563291==  Access not within mapped region at address 0x0\r\n==563291==    at 0x2192B0: GetBlockHash (chain.h:266)\r\n==563291==    by 0x2192B0: CBlockIndex::ToString[abi:cxx11]() const (chain.h:309)\r\n==563291==    by 0x3CD954: CBlockTreeDB::LoadBlockIndexGuts(Consensus::Params const&, std::function<CBlockIndex* (uint256 const&)>) (txdb.cpp:312)\r\n==563291==    by 0x210BBF: node::BlockManager::LoadBlockIndex(Consensus::Params const&) (blockstorage.cpp:258)\r\n==563291==    by 0x2114AD: node::BlockManager::LoadBlockIndexDB(Consensus::Params const&) (blockstorage.cpp:323)\r\n==563291==    by 0x410C0B: ChainstateManager::LoadBlockIndex() (validation.cpp:4148)\r\n==563291==    by 0x222EEB: node::LoadChainstate(bool, ChainstateManager&, CTxMemPool*, bool, bool, long, long, long, bool, bool, std::function<bool ()>, std::function<void ()>) (chainstate.cpp:53)\r\n==563291==    by 0x1749A4: AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*) (init.cpp:1456)\r\n==563291==    by 0x159A31: AppInit (bitcoind.cpp:234)\r\n==563291==    by 0x159A31: main (bitcoind.cpp:278)\r\n```\r\n\r\nSo I'd say the comment should be clarified that it is wholly illegal to call any such method on this object (whether through itself or a class it inherits from).",
      "created_at": "2022-07-16T08:04:50Z",
      "updated_at": "2022-07-16T08:04:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#discussion_r922649077",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922649077"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 417,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922657909",
      "pull_request_review_id": 1040974914,
      "id": 922657909,
      "node_id": "PRRC_kwDOABII5842_qR1",
      "diff_hunk": "@@ -414,16 +414,9 @@ class CDiskBlockIndex : public CBlockIndex\n         return block.GetHash();\n     }\n \n-\n-    std::string ToString() const\n-    {\n-        std::string str = \"CDiskBlockIndex(\";\n-        str += CBlockIndex::ToString();\n-        str += strprintf(\"\\n                hashBlock=%s, hashPrev=%s)\",\n-            GetBlockHash().ToString(),\n-            hashPrev.ToString());\n-        return str;\n-    }\n+    // To be called only by the base class.",
      "path": "src/chain.h",
      "position": null,
      "original_position": 23,
      "commit_id": "3a61fc56a0ad6ed58570350dcfd9ed2d10239b48",
      "original_commit_id": "7866c85387c3fa553437be1e004986b889fcd2de",
      "in_reply_to_id": 922158695,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Added the following belt-and-suspenders check to ensure we don't dereference nullptr.\r\n\r\n```diff\r\n    std::string ToString() const\r\n    {\r\n        return strprintf(\"CBlockIndex(pprev=%p, nHeight=%d, merkle=%s, hashBlock=%s)\",\r\n            pprev, nHeight,\r\n            hashMerkleRoot.ToString(),\r\n-            GetBlockHash().ToString());\r\n+            phashBlock ? GetBlockHash().ToString() : \"\");\r\n    }\r\n```\r\n",
      "created_at": "2022-07-16T09:33:24Z",
      "updated_at": "2022-07-16T11:44:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#discussion_r922657909",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922657909"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 417,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/925406215",
      "pull_request_review_id": 1044741693,
      "id": 925406215,
      "node_id": "PRRC_kwDOABII5843KJQH",
      "diff_hunk": "@@ -4,13 +4,21 @@\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n #include <chain.h>\n+#include <tinyformat.h>\n #include <util/time.h>\n \n std::string CBlockFileInfo::ToString() const\n {\n     return strprintf(\"CBlockFileInfo(blocks=%u, size=%u, heights=%u...%u, time=%s...%s)\", nBlocks, nSize, nHeightFirst, nHeightLast, FormatISO8601Date(nTimeFirst), FormatISO8601Date(nTimeLast));\n }\n \n+std::string CBlockIndex::ToString() const\n+{\n+    return strprintf(\"CBlockIndex(pprev=%p, nHeight=%d, merkle=%s, hashBlock=%s)\",\n+                     pprev, nHeight, hashMerkleRoot.ToString(),\n+                     phashBlock ? GetBlockHash().ToString() : \"\");",
      "path": "src/chain.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "3a61fc56a0ad6ed58570350dcfd9ed2d10239b48",
      "original_commit_id": "2ececec41e780ca0fe3aa945313a34750618c50e",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit1:\r\nThis could print `hashBlock=)`. Maybe better to omit `hashBlock` altogether:\r\n\r\n```cpp\r\nreturn strprintf(\"CBlockIndex(pprev=%p, nHeight=%d, merkle=%s%s)\",\r\n                 pprev, nHeight, hashMerkleRoot.ToString(),\r\n                 phashBlock ? \", hashBlock=\" + GetBlockHash().ToString() : \"\");\r\n```\r\n\r\nnit2:\r\nThis assumes that `GetBlockHash()` will dereference `phashBlock` - it kind of \"knows\" what `GetBlockHash()` will do, which defeats the purpose of isolating/abstracting some code into that method. Given that this is happening internally in `CBlockIndex` I think it would better be:\r\n\r\n```cpp\r\nphashBlock ? phashBlock->ToString() : \"\"\r\n```\r\n",
      "created_at": "2022-07-20T09:49:24Z",
      "updated_at": "2022-07-20T10:22:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#discussion_r925406215",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/925406215"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 19,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/925436378",
      "pull_request_review_id": 1044741693,
      "id": 925436378,
      "node_id": "PRRC_kwDOABII5843KQna",
      "diff_hunk": "@@ -263,7 +263,7 @@ class CBlockIndex\n \n     uint256 GetBlockHash() const\n     {\n-        return *phashBlock;\n+        return *Assert(phashBlock);",
      "path": "src/chain.h",
      "position": null,
      "original_position": 15,
      "commit_id": "3a61fc56a0ad6ed58570350dcfd9ed2d10239b48",
      "original_commit_id": "2ececec41e780ca0fe3aa945313a34750618c50e",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think this should be turned into `assert(phashBlock);` (or even better `assert(phashBlock != nullptr)`). It will crash for sure even in release builds where `Assert()` is a noop. Better provide some meaningful message in that case (from the assert), before crashing. Then this assert can be removed:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/895937edb2cca3046640dc016827a216e0b6d1c1/src/validation.cpp#L2269-L2271",
      "created_at": "2022-07-20T10:21:38Z",
      "updated_at": "2022-07-20T10:22:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#discussion_r925436378",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/925436378"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349"
        }
      },
      "start_line": null,
      "original_start_line": 264,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 266,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/925441496",
      "pull_request_review_id": 1044790892,
      "id": 925441496,
      "node_id": "PRRC_kwDOABII5843KR3Y",
      "diff_hunk": "@@ -414,16 +414,9 @@ class CDiskBlockIndex : public CBlockIndex\n         return block.GetHash();\n     }\n \n-\n-    std::string ToString() const\n-    {\n-        std::string str = \"CDiskBlockIndex(\";\n-        str += CBlockIndex::ToString();\n-        str += strprintf(\"\\n                hashBlock=%s, hashPrev=%s)\",\n-            GetBlockHash().ToString(),\n-            hashPrev.ToString());\n-        return str;\n-    }\n+    // To be called only by the base class.",
      "path": "src/chain.h",
      "position": null,
      "original_position": 23,
      "commit_id": "3a61fc56a0ad6ed58570350dcfd9ed2d10239b48",
      "original_commit_id": "7866c85387c3fa553437be1e004986b889fcd2de",
      "in_reply_to_id": 922158695,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> I am pretty sure that constructing a CDiskBlockIndex, then calling the base class's method on the constructed object will result in dereferencing a nullptr (UB)\r\n\r\nI see your point now.\r\n\r\n```cpp\r\nCDiskBlockIndex diskindex;\r\n// Will crash because `phashBlock` is nullptr.\r\nstatic_cast<CBlockIndex&>(diskindex).ToString();\r\n```\r\n\r\nBut then, the following will also crash for the same reason:\r\n\r\n```cpp\r\nCBlockIndex index;\r\nindex.ToString();\r\n```\r\n\r\nThe crash is not related to the inheritance or the deleted methods from this PR.",
      "created_at": "2022-07-20T10:27:20Z",
      "updated_at": "2022-07-20T10:27:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#discussion_r925441496",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/925441496"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 417,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/925514590",
      "pull_request_review_id": 1044894494,
      "id": 925514590,
      "node_id": "PRRC_kwDOABII5843Kjte",
      "diff_hunk": "@@ -414,16 +414,9 @@ class CDiskBlockIndex : public CBlockIndex\n         return block.GetHash();\n     }\n \n-\n-    std::string ToString() const\n-    {\n-        std::string str = \"CDiskBlockIndex(\";\n-        str += CBlockIndex::ToString();\n-        str += strprintf(\"\\n                hashBlock=%s, hashPrev=%s)\",\n-            GetBlockHash().ToString(),\n-            hashPrev.ToString());\n-        return str;\n-    }\n+    // To be called only by the base class.",
      "path": "src/chain.h",
      "position": null,
      "original_position": 23,
      "commit_id": "3a61fc56a0ad6ed58570350dcfd9ed2d10239b48",
      "original_commit_id": "7866c85387c3fa553437be1e004986b889fcd2de",
      "in_reply_to_id": 922158695,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> The crash is not related to the inheritance or the deleted methods from this PR.\r\n\r\nCorrect, this is why I commented on the documentation, which seemed to encourage calling the deleted method on the base class instead.",
      "created_at": "2022-07-20T11:52:40Z",
      "updated_at": "2022-07-20T11:52:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#discussion_r925514590",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/925514590"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 417,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926989801",
      "pull_request_review_id": 1046975290,
      "id": 926989801,
      "node_id": "PRRC_kwDOABII5843QL3p",
      "diff_hunk": "@@ -414,16 +414,9 @@ class CDiskBlockIndex : public CBlockIndex\n         return block.GetHash();\n     }\n \n-\n-    std::string ToString() const\n-    {\n-        std::string str = \"CDiskBlockIndex(\";\n-        str += CBlockIndex::ToString();\n-        str += strprintf(\"\\n                hashBlock=%s, hashPrev=%s)\",\n-            GetBlockHash().ToString(),\n-            hashPrev.ToString());\n-        return str;\n-    }\n+    // To be called only by the base class.",
      "path": "src/chain.h",
      "position": null,
      "original_position": 23,
      "commit_id": "3a61fc56a0ad6ed58570350dcfd9ed2d10239b48",
      "original_commit_id": "7866c85387c3fa553437be1e004986b889fcd2de",
      "in_reply_to_id": 922158695,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Dropped the documentation and moved the fix that ensures phashBlock in CBlockIndex#ToString() is not nullptr before dereferencing to the first commit of this changeset. Don't hesitate to propose a code comment if you think one is still a good idea.  ",
      "created_at": "2022-07-21T18:29:58Z",
      "updated_at": "2022-07-21T18:29:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#discussion_r926989801",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926989801"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 417,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926990325",
      "pull_request_review_id": 1046976009,
      "id": 926990325,
      "node_id": "PRRC_kwDOABII5843QL_1",
      "diff_hunk": "@@ -4,13 +4,21 @@\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n #include <chain.h>\n+#include <tinyformat.h>\n #include <util/time.h>\n \n std::string CBlockFileInfo::ToString() const\n {\n     return strprintf(\"CBlockFileInfo(blocks=%u, size=%u, heights=%u...%u, time=%s...%s)\", nBlocks, nSize, nHeightFirst, nHeightLast, FormatISO8601Date(nTimeFirst), FormatISO8601Date(nTimeLast));\n }\n \n+std::string CBlockIndex::ToString() const\n+{\n+    return strprintf(\"CBlockIndex(pprev=%p, nHeight=%d, merkle=%s, hashBlock=%s)\",\n+                     pprev, nHeight, hashMerkleRoot.ToString(),\n+                     phashBlock ? GetBlockHash().ToString() : \"\");",
      "path": "src/chain.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "3a61fc56a0ad6ed58570350dcfd9ed2d10239b48",
      "original_commit_id": "2ececec41e780ca0fe3aa945313a34750618c50e",
      "in_reply_to_id": 925406215,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Agree, done both, thanks!",
      "created_at": "2022-07-21T18:30:38Z",
      "updated_at": "2022-07-21T18:30:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#discussion_r926990325",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926990325"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 19,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926990586",
      "pull_request_review_id": 1046976313,
      "id": 926990586,
      "node_id": "PRRC_kwDOABII5843QMD6",
      "diff_hunk": "@@ -263,7 +263,7 @@ class CBlockIndex\n \n     uint256 GetBlockHash() const\n     {\n-        return *phashBlock;\n+        return *Assert(phashBlock);",
      "path": "src/chain.h",
      "position": null,
      "original_position": 15,
      "commit_id": "3a61fc56a0ad6ed58570350dcfd9ed2d10239b48",
      "original_commit_id": "2ececec41e780ca0fe3aa945313a34750618c50e",
      "in_reply_to_id": 925436378,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done and done, thanks!",
      "created_at": "2022-07-21T18:30:54Z",
      "updated_at": "2022-07-21T18:30:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#discussion_r926990586",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926990586"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349"
        }
      },
      "start_line": null,
      "original_start_line": 264,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 266,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/927000345",
      "pull_request_review_id": 1046991348,
      "id": 927000345,
      "node_id": "PRRC_kwDOABII5843QOcZ",
      "diff_hunk": "@@ -303,10 +303,10 @@ class CBlockIndex\n \n     std::string ToString() const\n     {\n-        return strprintf(\"CBlockIndex(pprev=%p, nHeight=%d, merkle=%s, hashBlock=%s)\",\n+        return strprintf(\"CBlockIndex(pprev=%p, nHeight=%d, merkle=%s%s)\",\n             pprev, nHeight,\n             hashMerkleRoot.ToString(),\n-            GetBlockHash().ToString());\n+            phashBlock ? \", hashBlock=\" + phashBlock->ToString() : \"\");",
      "path": "src/chain.h",
      "position": null,
      "original_position": 9,
      "commit_id": "3a61fc56a0ad6ed58570350dcfd9ed2d10239b48",
      "original_commit_id": "0ddad240dcd43b46ee70ccfb112d66d655b5c34f",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "0ddad240dcd43b46ee70ccfb112d66d655b5c34f:\r\n\r\nMissing the hash is a critical consensus bug. I think it is better to assert than to silently continue when there is a bug.",
      "created_at": "2022-07-21T18:43:35Z",
      "updated_at": "2022-07-21T18:43:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#discussion_r927000345",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/927000345"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 309,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/927013002",
      "pull_request_review_id": 1047009152,
      "id": 927013002,
      "node_id": "PRRC_kwDOABII5843QRiK",
      "diff_hunk": "@@ -303,10 +303,10 @@ class CBlockIndex\n \n     std::string ToString() const\n     {\n-        return strprintf(\"CBlockIndex(pprev=%p, nHeight=%d, merkle=%s, hashBlock=%s)\",\n+        return strprintf(\"CBlockIndex(pprev=%p, nHeight=%d, merkle=%s%s)\",\n             pprev, nHeight,\n             hashMerkleRoot.ToString(),\n-            GetBlockHash().ToString());\n+            phashBlock ? \", hashBlock=\" + phashBlock->ToString() : \"\");",
      "path": "src/chain.h",
      "position": null,
      "original_position": 9,
      "commit_id": "3a61fc56a0ad6ed58570350dcfd9ed2d10239b48",
      "original_commit_id": "0ddad240dcd43b46ee70ccfb112d66d655b5c34f",
      "in_reply_to_id": 927000345,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Good idea, updating.",
      "created_at": "2022-07-21T19:00:10Z",
      "updated_at": "2022-07-21T19:00:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#discussion_r927013002",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/927013002"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 309,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/927319523",
      "pull_request_review_id": 1047427406,
      "id": 927319523,
      "node_id": "PRRC_kwDOABII5843RcXj",
      "diff_hunk": "@@ -4,13 +4,21 @@\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n #include <chain.h>\n+#include <tinyformat.h>\n #include <util/time.h>\n \n std::string CBlockFileInfo::ToString() const\n {\n     return strprintf(\"CBlockFileInfo(blocks=%u, size=%u, heights=%u...%u, time=%s...%s)\", nBlocks, nSize, nHeightFirst, nHeightLast, FormatISO8601Date(nTimeFirst), FormatISO8601Date(nTimeLast));\n }\n \n+std::string CBlockIndex::ToString() const\n+{\n+    assert(phashBlock != nullptr);",
      "path": "src/chain.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "3a61fc56a0ad6ed58570350dcfd9ed2d10239b48",
      "original_commit_id": "306cd9defe538a8bf841dd1464b75f36c706d54d",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "no need to call the assert twice in this function?",
      "created_at": "2022-07-22T06:06:46Z",
      "updated_at": "2022-07-22T06:06:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#discussion_r927319523",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/927319523"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 17,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/927534682",
      "pull_request_review_id": 1047736940,
      "id": 927534682,
      "node_id": "PRRC_kwDOABII5843SQ5a",
      "diff_hunk": "@@ -4,13 +4,21 @@\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n #include <chain.h>\n+#include <tinyformat.h>\n #include <util/time.h>\n \n std::string CBlockFileInfo::ToString() const\n {\n     return strprintf(\"CBlockFileInfo(blocks=%u, size=%u, heights=%u...%u, time=%s...%s)\", nBlocks, nSize, nHeightFirst, nHeightLast, FormatISO8601Date(nTimeFirst), FormatISO8601Date(nTimeLast));\n }\n \n+std::string CBlockIndex::ToString() const\n+{\n+    assert(phashBlock != nullptr);",
      "path": "src/chain.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "3a61fc56a0ad6ed58570350dcfd9ed2d10239b48",
      "original_commit_id": "306cd9defe538a8bf841dd1464b75f36c706d54d",
      "in_reply_to_id": 927319523,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Right, the first commit bc7d14164b `CBlockIndex: ensure phashBlock is not nullptr before dereferencing` seems unnecessary.",
      "created_at": "2022-07-22T10:50:21Z",
      "updated_at": "2022-07-22T10:50:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#discussion_r927534682",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/927534682"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 17,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/927544379",
      "pull_request_review_id": 1047750340,
      "id": 927544379,
      "node_id": "PRRC_kwDOABII5843STQ7",
      "diff_hunk": "@@ -4,13 +4,21 @@\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n #include <chain.h>\n+#include <tinyformat.h>\n #include <util/time.h>\n \n std::string CBlockFileInfo::ToString() const\n {\n     return strprintf(\"CBlockFileInfo(blocks=%u, size=%u, heights=%u...%u, time=%s...%s)\", nBlocks, nSize, nHeightFirst, nHeightLast, FormatISO8601Date(nTimeFirst), FormatISO8601Date(nTimeLast));\n }\n \n+std::string CBlockIndex::ToString() const\n+{\n+    assert(phashBlock != nullptr);",
      "path": "src/chain.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "3a61fc56a0ad6ed58570350dcfd9ed2d10239b48",
      "original_commit_id": "306cd9defe538a8bf841dd1464b75f36c706d54d",
      "in_reply_to_id": 927319523,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Indeed. Done.",
      "created_at": "2022-07-22T11:04:09Z",
      "updated_at": "2022-07-22T11:04:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25349#discussion_r927544379",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/927544379"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25349"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 17,
      "side": "RIGHT"
    }
  ]
}