{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22796",
    "id": 719605224,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NzE5NjA1MjI0",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22796",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/22796.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/22796.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22796",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22796/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22796/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22796/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/f293c68be0469894c988711559f5528020c0ff71",
    "number": 22796,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "RBF move (1/3): extract BIP125 Rule 5 into policy/rbf",
    "user": {
      "login": "glozow",
      "id": 25183001,
      "node_id": "MDQ6VXNlcjI1MTgzMDAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glozow",
      "html_url": "https://github.com/glozow",
      "followers_url": "https://api.github.com/users/glozow/followers",
      "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
      "organizations_url": "https://api.github.com/users/glozow/orgs",
      "repos_url": "https://api.github.com/users/glozow/repos",
      "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/glozow/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "See #22675 for motivation, this is one chunk of it. It extracts some BIP125 logic into policy/rbf:\r\n\r\n- Defines a constant for specifying the maximum number of mempool entries we'd consider replacing by RBF\r\n- Calls the available `SignalsOptInRBF` function instead of manually iterating through inputs\r\n- Moves the logic for getting the list of conflicting mempool entries to a helper function\r\n- Also does a bit of preparation for future moves - moving declarations around, etc\r\nAlso see #22677 for addressing the circular dependency.",
    "labels": [
      {
        "id": 135961,
        "node_id": "MDU6TGFiZWwxMzU5NjE=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
        "name": "Refactoring",
        "color": "E6F6D6",
        "default": false
      },
      {
        "id": 82428251,
        "node_id": "MDU6TGFiZWw4MjQyODI1MQ==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/TX%20fees%20and%20policy",
        "name": "TX fees and policy",
        "color": "5319e7",
        "default": false
      },
      {
        "id": 118379652,
        "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
        "name": "Validation",
        "color": "6060aa",
        "default": false
      }
    ],
    "active_lock_reason": "resolved",
    "created_at": "2021-08-25T13:30:02Z",
    "updated_at": "2022-09-02T17:38:16Z",
    "closed_at": "2021-08-31T14:34:54Z",
    "mergeable_state": "unknown",
    "merged_at": "2021-08-31T14:34:54Z",
    "merge_commit_sha": "81f4a3e84d6f30e7b12a9605dabc3359f614da93",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "glozow:2021-08-rbf-1",
      "ref": "2021-08-rbf-1",
      "sha": "f293c68be0469894c988711559f5528020c0ff71",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 244262754,
        "node_id": "MDEwOlJlcG9zaXRvcnkyNDQyNjI3NTQ=",
        "name": "bitcoin",
        "full_name": "glozow/bitcoin",
        "owner": {
          "login": "glozow",
          "id": 25183001,
          "node_id": "MDQ6VXNlcjI1MTgzMDAx",
          "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/glozow",
          "html_url": "https://github.com/glozow",
          "followers_url": "https://api.github.com/users/glozow/followers",
          "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
          "organizations_url": "https://api.github.com/users/glozow/orgs",
          "repos_url": "https://api.github.com/users/glozow/repos",
          "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/glozow/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/glozow/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/glozow/bitcoin",
        "archive_url": "https://api.github.com/repos/glozow/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/glozow/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/glozow/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/glozow/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/glozow/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/glozow/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/glozow/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/glozow/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/glozow/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/glozow/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/glozow/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/glozow/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/glozow/bitcoin/events",
        "forks_url": "https://api.github.com/repos/glozow/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/glozow/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/glozow/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/glozow/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/glozow/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/glozow/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/glozow/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/glozow/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/glozow/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/glozow/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/glozow/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/glozow/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/glozow/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/glozow/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/glozow/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/glozow/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:glozow/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/glozow/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/glozow/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/glozow/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/glozow/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/glozow/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/glozow/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/glozow/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/glozow/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/glozow/bitcoin/hooks",
        "svn_url": "https://github.com/glozow/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 2,
        "stargazers_count": 9,
        "watchers_count": 9,
        "size": 227503,
        "default_branch": "master",
        "open_issues_count": 1,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-02T16:54:17Z",
        "created_at": "2020-03-02T02:31:56Z",
        "updated_at": "2023-07-18T03:26:20Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "3755dea3c502f32048b110a4868daefe9dbe3cc1",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35476,
        "stargazers_count": 70608,
        "watchers_count": 70608,
        "size": 236222,
        "default_branch": "master",
        "open_issues_count": 672,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-02T20:20:41Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-08-02T18:21:18Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22796"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 86,
    "deletions": 51,
    "changed_files": 5,
    "commits": 5,
    "review_comments": 17,
    "comments": 4
  },
  "events": [
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiMDAxYjlmNmRlN2EwMzlhNDY4Y2YwZjk2NDVmM2YwYTQzMGZhODg5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b001b9f6de7a039a468cf0f9645f3f0a430fa889",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b001b9f6de7a039a468cf0f9645f3f0a430fa889",
      "tree": {
        "sha": "4b06827230389feaaced0fc6ad7c7794261cb396",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4b06827230389feaaced0fc6ad7c7794261cb396"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4fc15d15667d9d9c4fb5515ce73c05b4596298ec",
          "sha": "4fc15d15667d9d9c4fb5515ce73c05b4596298ec",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/4fc15d15667d9d9c4fb5515ce73c05b4596298ec"
        }
      ],
      "message": "MOVEONLY: BIP125 max conflicts limit to policy/rbf.h\n\nA circular dependency is added because policy now depends on txmempool and\ntxmempool depends on validation. It is natural for [mempool] policy to\nrely on mempool; the problem is caused by txmempool depending on\nvalidation. #22677 will resolve this.",
      "committer": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2021-08-24T14:47:21Z"
      },
      "author": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2021-07-27T09:03:49Z"
      },
      "sha": "b001b9f6de7a039a468cf0f9645f3f0a430fa889"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzplMGRmNDFkN2Q1ODRiODU0YzI5MTRkNGFmZTdiMjFlMGFmM2ZiZjY5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e0df41d7d584b854c2914d4afe7b21e0af3fbf69",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e0df41d7d584b854c2914d4afe7b21e0af3fbf69",
      "tree": {
        "sha": "899bf45ad86d96013ae6c4e97fcb3b97ecd9e5be",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/899bf45ad86d96013ae6c4e97fcb3b97ecd9e5be"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b001b9f6de7a039a468cf0f9645f3f0a430fa889",
          "sha": "b001b9f6de7a039a468cf0f9645f3f0a430fa889",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b001b9f6de7a039a468cf0f9645f3f0a430fa889"
        }
      ],
      "message": "[validation] default conflicting fees and size to 0\n\nThis should have no effect in practice, since we only ever call\nPreChecks once per transaction.",
      "committer": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2021-08-24T14:47:21Z"
      },
      "author": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2021-08-20T14:17:49Z"
      },
      "sha": "e0df41d7d584b854c2914d4afe7b21e0af3fbf69"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiYWRiOWIxMWE2ZjdlMWU2OTNjZWNjOGNkNWFhZTU1YTE5N2Q3MGUy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/badb9b11a6f7e1e693cecc8cd5aae55a197d70e2",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/badb9b11a6f7e1e693cecc8cd5aae55a197d70e2",
      "tree": {
        "sha": "03ac91f1d6279ad47badf384d131de33cf6749b5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/03ac91f1d6279ad47badf384d131de33cf6749b5"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e0df41d7d584b854c2914d4afe7b21e0af3fbf69",
          "sha": "e0df41d7d584b854c2914d4afe7b21e0af3fbf69",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/e0df41d7d584b854c2914d4afe7b21e0af3fbf69"
        }
      ],
      "message": "call SignalsOptInRBF instead of checking all inputs",
      "committer": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2021-08-24T14:47:21Z"
      },
      "author": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2021-08-20T12:01:07Z"
      },
      "sha": "badb9b11a6f7e1e693cecc8cd5aae55a197d70e2"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4ZDcxNzk2MzM1NTJmNThjYTBkMjMzMDUxOTZkY2I0MjQ5YjZkY2U3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8d7179633552f58ca0d23305196dcb4249b6dce7",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/8d7179633552f58ca0d23305196dcb4249b6dce7",
      "tree": {
        "sha": "4d6824b56117691c297a6eaca5e0d8084898c428",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4d6824b56117691c297a6eaca5e0d8084898c428"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/badb9b11a6f7e1e693cecc8cd5aae55a197d70e2",
          "sha": "badb9b11a6f7e1e693cecc8cd5aae55a197d70e2",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/badb9b11a6f7e1e693cecc8cd5aae55a197d70e2"
        }
      ],
      "message": "[validation] quit RBF logic earlier and separate loops\n\nNo behavior change.\nWhile we're looking through the descendants and calculating how many\ntransactions we might replace, quit early, as soon as we hit 100.\nSince we're failing faster, we can also separate the loops - yes, we\nloop through more times, but this helps us detangle the different BIP125\nrules later.",
      "committer": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2021-08-24T14:47:21Z"
      },
      "author": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2021-07-27T10:49:34Z"
      },
      "sha": "8d7179633552f58ca0d23305196dcb4249b6dce7"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmMjkzYzY4YmUwNDY5ODk0Yzk4ODcxMTU1OWY1NTI4MDIwYzBmZjcx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f293c68be0469894c988711559f5528020c0ff71",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f293c68be0469894c988711559f5528020c0ff71",
      "tree": {
        "sha": "4bcd1740db9364d2801ce5268d84b10819233d9b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4bcd1740db9364d2801ce5268d84b10819233d9b"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8d7179633552f58ca0d23305196dcb4249b6dce7",
          "sha": "8d7179633552f58ca0d23305196dcb4249b6dce7",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/8d7179633552f58ca0d23305196dcb4249b6dce7"
        }
      ],
      "message": "MOVEONLY: getting mempool conflicts to policy/rbf",
      "committer": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2021-08-24T14:51:54Z"
      },
      "author": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2021-07-27T13:23:40Z"
      },
      "sha": "f293c68be0469894c988711559f5528020c0ff71"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-25T13:31:28Z",
      "updated_at": "2021-08-25T13:31:28Z",
      "source": {
        "issue": {
          "id": 964947735,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NzA3MzIzOTE4",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22675",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22675/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22675/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22675/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/22675",
          "number": 22675,
          "state": "closed",
          "state_reason": null,
          "title": "RBF move 2/3: extract RBF logic into policy/rbf",
          "body": "This PR does not change behavior. It extracts the BIP125 logic into helper functions (and puts them in the policy/rbf* files). This enables three things - I think each one individually is pretty good:\r\n\r\n- Implementation of package RBF (see #22290). I want it to be as close to BIP125 as possible so that it doesn't become a distinct fee-bumping mechanism. Doing these move-only commits first means the diff is mostly mechanical to review, and I just need to create a function that mirrors the single transaction validation.\r\n- We will be able to isolate and test our RBF logic alone. Recently, there have been some discussions on discrepancies between our code and BIP125, as well as proposals for improving it. Generally, I think making this code more modular and de-bloating validation.cpp is probably a good idea.\r\n- Witness Replacement (replacing same-txid-different-wtxid when the witness is significantly smaller and therefore higher feerate) in a BIP125-similar way. Hopefully it can just be implemented with calls to the rbf functions (i.e. `PaysForRBF`) and an edit to the relevant mempool entries.",
          "user": {
            "login": "glozow",
            "id": 25183001,
            "node_id": "MDQ6VXNlcjI1MTgzMDAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/glozow",
            "html_url": "https://github.com/glozow",
            "followers_url": "https://api.github.com/users/glozow/followers",
            "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
            "organizations_url": "https://api.github.com/users/glozow/orgs",
            "repos_url": "https://api.github.com/users/glozow/repos",
            "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/glozow/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            },
            {
              "id": 82428251,
              "node_id": "MDU6TGFiZWw4MjQyODI1MQ==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/TX%20fees%20and%20policy",
              "name": "TX fees and policy",
              "color": "5319e7",
              "default": false
            },
            {
              "id": 118379652,
              "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
              "name": "Validation",
              "color": "6060aa",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 16,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22675",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/22675",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/22675.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/22675.patch"
          },
          "closed_at": "2021-09-10T06:45:07Z",
          "created_at": "2021-08-10T12:49:39Z",
          "updated_at": "2022-10-30T19:09:40Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "labeled",
      "id": 5206819835,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDUyMDY4MTk4MzU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5206819835",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-25T13:35:30Z",
      "label": {
        "name": "Refactoring",
        "color": "E6F6D6"
      }
    },
    {
      "event": "labeled",
      "id": 5206819836,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDUyMDY4MTk4MzY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5206819836",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-25T13:35:30Z",
      "label": {
        "name": "TX fees and policy",
        "color": "5319e7"
      }
    },
    {
      "event": "labeled",
      "id": 5206821232,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDUyMDY4MjEyMzI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5206821232",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-25T13:35:44Z",
      "label": {
        "name": "Validation",
        "color": "6060aa"
      }
    },
    {
      "event": "commented",
      "id": 905516755,
      "node_id": "IC_kwDOABII5841-RbT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/905516755",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-25T13:47:26Z",
      "updated_at": "2021-08-25T13:47:26Z",
      "author_association": "MEMBER",
      "body": "Code review ACK f293c68be0469894c988711559f5528020c0ff71",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22796#issuecomment-905516755",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22796"
    },
    {
      "event": "renamed",
      "id": 5206990117,
      "node_id": "MDE3OlJlbmFtZWRUaXRsZUV2ZW50NTIwNjk5MDExNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5206990117",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-25T14:00:52Z",
      "rename": {
        "from": "RBF move (1/n): extract BIP125 Rule 5 into policy/rbf",
        "to": "RBF move (1/3): extract BIP125 Rule 5 into policy/rbf"
      }
    },
    {
      "event": "reviewed",
      "id": 738763833,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NzM4NzYzODMz",
      "url": null,
      "actor": null,
      "commit_id": "f293c68be0469894c988711559f5528020c0ff71",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Thanks for splitting up, this way the changes are easier to digest and should also potentially attract more reviewers.\r\n\r\nCode-review ACK f293c68be0469894c988711559f5528020c0ff71 ðŸ“” ",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22796#pullrequestreview-738763833",
      "submitted_at": "2021-08-25T19:50:50Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22796"
    },
    {
      "event": "commented",
      "id": 905949924,
      "node_id": "IC_kwDOABII5841_7Lk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/905949924",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-25T23:49:28Z",
      "updated_at": "2021-08-25T23:49:28Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#22698](https://github.com/bitcoin/bitcoin/pull/22698) (Implement RBF inherited signaling and fix getmempoolentry returned bip125-replaceable status by mjdietzx)\n* [#22677](https://github.com/bitcoin/bitcoin/pull/22677) ([RFC] cut the validation <-> txmempool circular dependency by glozow)\n* [#22665](https://github.com/bitcoin/bitcoin/pull/22665) (policy/rbf: don't return \"incorrect\" replaceability status by darosior)\n* [#22539](https://github.com/bitcoin/bitcoin/pull/22539) (Re-include RBF replacement txs in fee estimation by darosior)\n* [#22290](https://github.com/bitcoin/bitcoin/pull/22290) (Package Mempool Submission with Package Fee-Bumping by glozow)\n* [#10443](https://github.com/bitcoin/bitcoin/pull/10443) (Add fee_est tool for debugging fee estimation code by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22796#issuecomment-905949924",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22796"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-26T02:20:31Z",
      "updated_at": "2021-08-26T02:20:31Z",
      "source": {
        "issue": {
          "id": 970462628,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NzEyNDEyMTg3",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22698",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22698/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22698/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22698/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/22698",
          "number": 22698,
          "state": "closed",
          "state_reason": null,
          "title": "Implement RBF inherited signaling and fix getmempoolentry returned bip125-replaceable status",
          "body": "This PR is on top of #22867 which adds test coverage relevant to this PR, and motivates it by highlighting some of the behavior this improves upon.\r\n\r\nIt aims to resolve issue #22209 as well as [CVE-2021-31876](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-31876)\r\n> Bitcoin Core 0.12.0 through 0.21.1 does not properly implement the replacement policy specified in BIP125, which makes it easier for attackers to trigger a loss of funds, or a denial of service attack against downstream projects such as Lightning network nodes.\r\n\r\n---\r\n\r\n- As a followup to this PR I think some fuzz testing would be useful.\r\n- Also an optimization followup can be done, putting some stricter bounds on `IsRBFOptIn` when it invokes `CalculateMemPoolAncestors`. However, I don't do that in this PR to keep it as simple as possible, and I don't think it's necessary. a) default mempool limits are much stricter than BIP125 Rule 5's `MAX_BIP125_REPLACEMENT_CANDIDATES{100}`, because `DEFAULT_DESCENDANT_LIMIT == 25`. b) I don't see a major performance tradeoff (please double check me). I think https://github.com/bitcoin/bitcoin/blob/master/test/functional/mempool_updatefromblock.py is a good worst-case scenario stress test for additional runtime required to check for inherited signaling, and this test seems to run in approx the same amount of time after this PR. Which seems acceptable to me, and not a risk for a DOS vector. But again, please be critical of this in the review. I also noticed #23621 when testing, and would like to see where that lands before I try any optimization.",
          "user": {
            "login": "mjdietzx",
            "id": 7217256,
            "node_id": "MDQ6VXNlcjcyMTcyNTY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7217256?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mjdietzx",
            "html_url": "https://github.com/mjdietzx",
            "followers_url": "https://api.github.com/users/mjdietzx/followers",
            "following_url": "https://api.github.com/users/mjdietzx/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/mjdietzx/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/mjdietzx/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/mjdietzx/subscriptions",
            "organizations_url": "https://api.github.com/users/mjdietzx/orgs",
            "repos_url": "https://api.github.com/users/mjdietzx/repos",
            "events_url": "https://api.github.com/users/mjdietzx/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/mjdietzx/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 82428251,
              "node_id": "MDU6TGFiZWw4MjQyODI1MQ==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/TX%20fees%20and%20policy",
              "name": "TX fees and policy",
              "color": "5319e7",
              "default": false
            },
            {
              "id": 118379652,
              "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
              "name": "Validation",
              "color": "6060aa",
              "default": false
            },
            {
              "id": 241832923,
              "node_id": "MDU6TGFiZWwyNDE4MzI5MjM=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Utils/log/libs",
              "name": "Utils/log/libs",
              "description": "",
              "color": "5319e7",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "comments": 32,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22698",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/22698",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/22698.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/22698.patch"
          },
          "closed_at": "2022-03-22T10:50:07Z",
          "created_at": "2021-08-13T14:41:59Z",
          "updated_at": "2023-03-22T10:20:15Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-26T02:38:47Z",
      "updated_at": "2021-08-26T02:38:47Z",
      "source": {
        "issue": {
          "id": 965115109,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NzA3NDY2ODM3",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22677",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22677/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22677/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22677/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/22677",
          "number": 22677,
          "state": "closed",
          "state_reason": null,
          "title": "cut the validation <-> txmempool circular dependency 2/2",
          "body": "Remove 2 circular dependencies: validation - txmempool and validation - policy/rbf - txmempool\r\n\r\nValidation should depend on txmempool (e.g. `CChainstateManager` has a mempool and we often need to know what's in our mempool to validate transactions), but txmempool is a data structure that shouldn't really need to know about chain state.\r\n\r\n- Changes `removeForReorg()` to be parameterized by a callable that returns true/false (i.e. whether the transaction should be removed due to being now immature or nonfinal) instead of a `CChainState`. The mempool really shouldn't need to know about coinbase maturity or lockpoints, it just needs to know which entries to remove.",
          "user": {
            "login": "glozow",
            "id": 25183001,
            "node_id": "MDQ6VXNlcjI1MTgzMDAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/glozow",
            "html_url": "https://github.com/glozow",
            "followers_url": "https://api.github.com/users/glozow/followers",
            "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
            "organizations_url": "https://api.github.com/users/glozow/orgs",
            "repos_url": "https://api.github.com/users/glozow/repos",
            "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/glozow/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 64585,
              "node_id": "MDU6TGFiZWw2NDU4NQ==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug",
              "name": "Bug",
              "color": "FBBAAB",
              "default": false
            },
            {
              "id": 118379652,
              "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
              "name": "Validation",
              "color": "6060aa",
              "default": false
            },
            {
              "id": 164208572,
              "node_id": "MDU6TGFiZWwxNjQyMDg1NzI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Mempool",
              "name": "Mempool",
              "color": "fef2c0",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 23,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22677",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/22677",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/22677.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/22677.patch"
          },
          "closed_at": "2021-12-01T16:59:29Z",
          "created_at": "2021-08-10T16:30:33Z",
          "updated_at": "2022-12-29T10:05:00Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-26T02:52:37Z",
      "updated_at": "2021-08-26T02:52:37Z",
      "source": {
        "issue": {
          "id": 963465039,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NzA2MDY4NjMy",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22665",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22665/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22665/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22665/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/22665",
          "number": 22665,
          "state": "closed",
          "state_reason": null,
          "title": "policy/rbf: don't return \"incorrect\" replaceability status",
          "body": "We were still reporting transactions that inherited signaling as being replaceable in `IsRBFOptIn`.\r\nIn addition, the second commits does a bunch of refactoring by getting rid of `IsRBFOptIn` entirely and removing the check for RBF from the node interface since we actually don't need access to the mempool.\r\n\r\nRelated to #22209, kinda followup of #21946.",
          "user": {
            "login": "darosior",
            "id": 22457751,
            "node_id": "MDQ6VXNlcjIyNDU3NzUx",
            "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/darosior",
            "html_url": "https://github.com/darosior",
            "followers_url": "https://api.github.com/users/darosior/followers",
            "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
            "organizations_url": "https://api.github.com/users/darosior/orgs",
            "repos_url": "https://api.github.com/users/darosior/repos",
            "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/darosior/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 82428251,
              "node_id": "MDU6TGFiZWw4MjQyODI1MQ==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/TX%20fees%20and%20policy",
              "name": "TX fees and policy",
              "color": "5319e7",
              "default": false
            },
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 31,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22665",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/22665",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/22665.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/22665.patch"
          },
          "closed_at": "2021-09-01T14:35:32Z",
          "created_at": "2021-08-08T16:13:02Z",
          "updated_at": "2023-07-11T10:10:07Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 739001665,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NzM5MDAxNjY1",
      "url": null,
      "actor": null,
      "commit_id": "f293c68be0469894c988711559f5528020c0ff71",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "body": "",
      "user": {
        "login": "Herrytheeagle",
        "id": 30316855,
        "node_id": "MDQ6VXNlcjMwMzE2ODU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/30316855?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Herrytheeagle",
        "html_url": "https://github.com/Herrytheeagle",
        "followers_url": "https://api.github.com/users/Herrytheeagle/followers",
        "following_url": "https://api.github.com/users/Herrytheeagle/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Herrytheeagle/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Herrytheeagle/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Herrytheeagle/subscriptions",
        "organizations_url": "https://api.github.com/users/Herrytheeagle/orgs",
        "repos_url": "https://api.github.com/users/Herrytheeagle/repos",
        "events_url": "https://api.github.com/users/Herrytheeagle/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Herrytheeagle/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22796#pullrequestreview-739001665",
      "submitted_at": "2021-08-26T03:28:44Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22796"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-26T04:33:40Z",
      "updated_at": "2021-08-26T04:33:40Z",
      "source": {
        "issue": {
          "id": 951664556,
          "node_id": "MDExOlB1bGxSZXF1ZXN0Njk2MDEzNTMx",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22539",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22539/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22539/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22539/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/22539",
          "number": 22539,
          "state": "closed",
          "state_reason": null,
          "title": "Re-include RBF replacement txs in fee estimation",
          "body": "This effectively reverts #9519.\r\n\r\nRBF is now largely in use on the network (signaled for by around 20% of\r\nall transactions on average) and replacement logic is implemented in\r\nmost end-user wallets. The rate of replaced transactions is also\r\nexpected to rise as fee-bumping techniques are being developed for\r\npre-signed transaction (\"L2\") protocols.",
          "user": {
            "login": "darosior",
            "id": 22457751,
            "node_id": "MDQ6VXNlcjIyNDU3NzUx",
            "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/darosior",
            "html_url": "https://github.com/darosior",
            "followers_url": "https://api.github.com/users/darosior/followers",
            "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
            "organizations_url": "https://api.github.com/users/darosior/orgs",
            "repos_url": "https://api.github.com/users/darosior/repos",
            "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/darosior/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 82428251,
              "node_id": "MDU6TGFiZWw4MjQyODI1MQ==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/TX%20fees%20and%20policy",
              "name": "TX fees and policy",
              "color": "5319e7",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 21,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22539",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/22539",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/22539.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/22539.patch"
          },
          "closed_at": "2021-10-07T11:48:12Z",
          "created_at": "2021-07-23T15:09:18Z",
          "updated_at": "2022-10-30T19:09:47Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "Herrytheeagle",
        "id": 30316855,
        "node_id": "MDQ6VXNlcjMwMzE2ODU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/30316855?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Herrytheeagle",
        "html_url": "https://github.com/Herrytheeagle",
        "followers_url": "https://api.github.com/users/Herrytheeagle/followers",
        "following_url": "https://api.github.com/users/Herrytheeagle/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Herrytheeagle/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Herrytheeagle/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Herrytheeagle/subscriptions",
        "organizations_url": "https://api.github.com/users/Herrytheeagle/orgs",
        "repos_url": "https://api.github.com/users/Herrytheeagle/repos",
        "events_url": "https://api.github.com/users/Herrytheeagle/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Herrytheeagle/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-26T04:59:50Z",
      "updated_at": "2021-08-26T04:59:50Z",
      "source": {
        "issue": {
          "id": 979835282,
          "node_id": "MDU6SXNzdWU5Nzk4MzUyODI=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22802",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22802/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22802/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22802/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/22802",
          "number": 22802,
          "state": "closed",
          "state_reason": "completed",
          "title": ".",
          "body": "nit: I think this include is not needed in this compilation unit (neither `FormatMoney` nor `ParseMoney` is used anywhere here)\r\n```suggestion\r\n```\r\n\r\n_Originally posted by @theStack in https://github.com/bitcoin/bitcoin/pull/22796#discussion_r696062327_",
          "user": {
            "login": "Herrytheeagle",
            "id": 30316855,
            "node_id": "MDQ6VXNlcjMwMzE2ODU1",
            "avatar_url": "https://avatars.githubusercontent.com/u/30316855?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Herrytheeagle",
            "html_url": "https://github.com/Herrytheeagle",
            "followers_url": "https://api.github.com/users/Herrytheeagle/followers",
            "following_url": "https://api.github.com/users/Herrytheeagle/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/Herrytheeagle/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/Herrytheeagle/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/Herrytheeagle/subscriptions",
            "organizations_url": "https://api.github.com/users/Herrytheeagle/orgs",
            "repos_url": "https://api.github.com/users/Herrytheeagle/repos",
            "events_url": "https://api.github.com/users/Herrytheeagle/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/Herrytheeagle/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "NONE",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 0,
          "closed_at": "2021-08-26T05:00:46Z",
          "created_at": "2021-08-26T04:59:50Z",
          "updated_at": "2022-08-26T08:42:57Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 739034856,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NzM5MDM0ODU2",
      "url": null,
      "actor": null,
      "commit_id": "f293c68be0469894c988711559f5528020c0ff71",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "body": "",
      "user": {
        "login": "Herrytheeagle",
        "id": 30316855,
        "node_id": "MDQ6VXNlcjMwMzE2ODU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/30316855?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Herrytheeagle",
        "html_url": "https://github.com/Herrytheeagle",
        "followers_url": "https://api.github.com/users/Herrytheeagle/followers",
        "following_url": "https://api.github.com/users/Herrytheeagle/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Herrytheeagle/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Herrytheeagle/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Herrytheeagle/subscriptions",
        "organizations_url": "https://api.github.com/users/Herrytheeagle/orgs",
        "repos_url": "https://api.github.com/users/Herrytheeagle/repos",
        "events_url": "https://api.github.com/users/Herrytheeagle/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Herrytheeagle/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22796#pullrequestreview-739034856",
      "submitted_at": "2021-08-26T05:00:52Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22796"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-26T06:38:33Z",
      "updated_at": "2021-08-26T06:38:33Z",
      "source": {
        "issue": {
          "id": 925627435,
          "node_id": "MDExOlB1bGxSZXF1ZXN0Njc0MDU2NTg1",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22290",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22290/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22290/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22290/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/22290",
          "number": 22290,
          "state": "closed",
          "state_reason": null,
          "title": "Package Mempool Submission with Package Fee-Bumping",
          "body": "This implements mempool validation logic for fee-bumping transactions using CPFP and RBFing mempool transactions within a package, and the combination of both (i.e. a child in a package can pay to RBF its parents' conflicts). This does not implement package relay; there are no P2P changes.\r\n\r\nFor more info, see full proposal [gist](https://gist.github.com/glozow/dc4e9d5c5b14ade7cdfac40f43adb18a).\r\n\r\n**Package Mempool Accept Progress**:\r\n- [x] #21062\r\n- [x] #20833\r\n- [x] #21800\r\n- [x] #22675 \r\n- [x] #23381\r\n- [x] #22674\r\n- [x] #23804\r\n- [x] #24152\r\n- [x] #24836 \r\n- [ ] #25038\r\n\r\nNote that, until package relay exists, fee-bumped package transactions that are otherwise too-low-fee won't go any further than the user's mempool. This PR doesn't expose the package validation codepath to users because it would be misleading.",
          "user": {
            "login": "glozow",
            "id": 25183001,
            "node_id": "MDQ6VXNlcjI1MTgzMDAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/glozow",
            "html_url": "https://github.com/glozow",
            "followers_url": "https://api.github.com/users/glozow/followers",
            "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
            "organizations_url": "https://api.github.com/users/glozow/orgs",
            "repos_url": "https://api.github.com/users/glozow/repos",
            "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/glozow/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            },
            {
              "id": 118379652,
              "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
              "name": "Validation",
              "color": "6060aa",
              "default": false
            },
            {
              "id": 164208572,
              "node_id": "MDU6TGFiZWwxNjQyMDg1NzI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Mempool",
              "name": "Mempool",
              "color": "fef2c0",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 13,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22290",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/22290",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/22290.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/22290.patch"
          },
          "closed_at": "2022-12-22T12:14:04Z",
          "created_at": "2021-06-20T15:49:10Z",
          "updated_at": "2023-01-04T11:08:32Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-26T17:57:31Z",
      "updated_at": "2021-08-26T17:57:31Z",
      "source": {
        "issue": {
          "id": 230539233,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MTIxODgwMDE0",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10443",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10443/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10443/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10443/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/10443",
          "number": 10443,
          "state": "open",
          "state_reason": null,
          "title": "Add fee_est tool for debugging fee estimation code",
          "body": "This PR adds an `-estlog` option for saving live fee estimation data from a bitcoin node, and a `fee_est` command line tool for processing the data and testing fee estimation code.\r\n\r\nThe idea is to make it easier to test improvements to fee estimation like https://github.com/bitcoin/bitcoin/pull/10199 in a more systematic and reproducible way.\r\n\r\nSome documentation is in [`src/test/fee_est/README.md`](https://github.com/ryanofsky/bitcoin/blob/pr/fee/src/test/fee_est/README.md)\r\n\r\nSample log file: [`est.log.xz`](https://storage.googleapis.com/ryanofsky/est.log.xz) (65M)\r\n\r\nSample [`fee_est.cpp`](https://github.com/ryanofsky/bitcoin/blob/pr/fee/src/test/fee_est/fee_est.cpp)  graph output: \r\n\r\n![graph](https://cloud.githubusercontent.com/assets/7133040/26331057/f2de8d0c-3f1c-11e7-99ea-de1801d13b05.png)\r\n\r\n",
          "user": {
            "login": "ryanofsky",
            "id": 7133040,
            "node_id": "MDQ6VXNlcjcxMzMwNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanofsky",
            "html_url": "https://github.com/ryanofsky",
            "followers_url": "https://api.github.com/users/ryanofsky/followers",
            "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
            "repos_url": "https://api.github.com/users/ryanofsky/repos",
            "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 64583,
              "node_id": "MDU6TGFiZWw2NDU4Mw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Feature",
              "name": "Feature",
              "color": "7cf575",
              "default": false
            },
            {
              "id": 82428251,
              "node_id": "MDU6TGFiZWw4MjQyODI1MQ==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/TX%20fees%20and%20policy",
              "name": "TX fees and policy",
              "color": "5319e7",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 20,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10443",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/10443",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/10443.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/10443.patch"
          },
          "created_at": "2017-05-22T22:40:55Z",
          "updated_at": "2023-06-20T17:24:07Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 740918322,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NzQwOTE4MzIy",
      "url": null,
      "actor": null,
      "commit_id": "f293c68be0469894c988711559f5528020c0ff71",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK f293c68b\r\n\r\nI verified that `test_too_many_replacements` in `test/functional/feature_rbf.py` still cover correctly the refactored bip 125 rule 5 check.\r\n\r\nI think any comments if worthy can be addressed in a follow-up or be taken on another PR of this serie of works.",
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22796#pullrequestreview-740918322",
      "submitted_at": "2021-08-27T23:44:18Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22796"
    },
    {
      "event": "commented",
      "id": 909295352,
      "node_id": "IC_kwDOABII5842Mr74",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/909295352",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-31T14:34:01Z",
      "updated_at": "2021-08-31T14:34:01Z",
      "author_association": "MEMBER",
      "body": "Please comment here when you're addressing followup comments / nits via the next PRs in the series.",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22796#issuecomment-909295352",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22796"
    },
    {
      "event": "merged",
      "id": 5233031035,
      "node_id": "MDExOk1lcmdlZEV2ZW50NTIzMzAzMTAzNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5233031035",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "81f4a3e84d6f30e7b12a9605dabc3359f614da93",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/81f4a3e84d6f30e7b12a9605dabc3359f614da93",
      "created_at": "2021-08-31T14:34:54Z"
    },
    {
      "event": "closed",
      "id": 5233031058,
      "node_id": "MDExOkNsb3NlZEV2ZW50NTIzMzAzMTA1OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5233031058",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-31T14:34:54Z"
    },
    {
      "event": "referenced",
      "id": 5233462156,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDUyMzM0NjIxNTY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5233462156",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "74f46397e22a8a933b0cc1dfb84b5eced214a0d0",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/74f46397e22a8a933b0cc1dfb84b5eced214a0d0",
      "created_at": "2021-08-31T15:38:05Z"
    },
    {
      "event": "reviewed",
      "id": 743560170,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NzQzNTYwMTcw",
      "url": null,
      "actor": null,
      "commit_id": "8d7179633552f58ca0d23305196dcb4249b6dce7",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Post-merge ACK f293c68be0469894c988711559f5528020c0ff71",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22796#pullrequestreview-743560170",
      "submitted_at": "2021-09-01T07:28:26Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22796"
    },
    {
      "event": "head_ref_deleted",
      "id": 5238140746,
      "node_id": "HRDE_lADOABII5846XLE6zwAAAAE4N69K",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5238140746",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-01T09:10:45Z"
    },
    {
      "event": "commented",
      "id": 910093172,
      "node_id": "IC_kwDOABII5842Put0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/910093172",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-01T09:11:34Z",
      "updated_at": "2021-09-01T09:11:34Z",
      "author_association": "MEMBER",
      "body": "Next PR is #22675!\r\nAddressing documentation-related comments in #22855",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22796#issuecomment-910093172",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22796"
    },
    {
      "event": "reviewed",
      "id": 744873827,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NzQ0ODczODI3",
      "url": null,
      "actor": null,
      "commit_id": "f293c68be0469894c988711559f5528020c0ff71",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "cr ACK f293c68\r\n\r\nbut I don't like the symbol re-use",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22796#pullrequestreview-744873827",
      "submitted_at": "2021-09-02T10:11:54Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22796"
    },
    {
      "event": "locked",
      "id": 7314890051,
      "node_id": "LOE_lADOABII5846XLE6zwAAAAG0AF1D",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7314890051",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-02T17:38:16Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/696062327",
      "pull_request_review_id": 738763833,
      "id": 696062327,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5NjA2MjMyNw==",
      "diff_hunk": "@@ -3,6 +3,10 @@\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n #include <policy/rbf.h>\n+\n+#include <policy/settings.h>\n+#include <tinyformat.h>\n+#include <util/moneystr.h>",
      "path": "src/policy/rbf.cpp",
      "position": 7,
      "original_position": 7,
      "commit_id": "f293c68be0469894c988711559f5528020c0ff71",
      "original_commit_id": "f293c68be0469894c988711559f5528020c0ff71",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: I think this include is not needed in this compilation unit (neither `FormatMoney` nor `ParseMoney` is used anywhere here)\r\n```suggestion\r\n```",
      "created_at": "2021-08-25T19:45:57Z",
      "updated_at": "2021-08-25T19:50:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22796#discussion_r696062327",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/696062327"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22796"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 9,
      "original_line": 9,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/696454500",
      "pull_request_review_id": 739243727,
      "id": 696454500,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5NjQ1NDUwMA==",
      "diff_hunk": "@@ -3,6 +3,10 @@\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n #include <policy/rbf.h>\n+\n+#include <policy/settings.h>\n+#include <tinyformat.h>\n+#include <util/moneystr.h>",
      "path": "src/policy/rbf.cpp",
      "position": 7,
      "original_position": 7,
      "commit_id": "f293c68be0469894c988711559f5528020c0ff71",
      "original_commit_id": "f293c68be0469894c988711559f5528020c0ff71",
      "in_reply_to_id": 696062327,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "ah true, I guess not needed until https://github.com/bitcoin/bitcoin/pull/22675/commits/781e100b6047f110f93e965146d5202ed7032e2c\r\n\r\nwill update if i need to repush",
      "created_at": "2021-08-26T09:24:40Z",
      "updated_at": "2021-08-26T09:24:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22796#discussion_r696454500",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/696454500"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22796"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 9,
      "original_line": 9,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/697739720",
      "pull_request_review_id": 740918322,
      "id": 697739720,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5NzczOTcyMA==",
      "diff_hunk": "@@ -11,8 +11,15 @@ class CTransaction;\n \n static const uint32_t MAX_BIP125_RBF_SEQUENCE = 0xfffffffd;\n \n-// Check whether the sequence numbers on this transaction are signaling\n-// opt-in to replace-by-fee, according to BIP 125\n+/** Check whether the sequence numbers on this transaction are signaling\n+* opt-in to replace-by-fee, according to BIP 125.\n+* Allow opt-out of transaction replacement by setting\n+* nSequence > MAX_BIP125_RBF_SEQUENCE (SEQUENCE_FINAL-2) on all inputs.\n+*\n+* SEQUENCE_FINAL-1 is picked to still allow use of nLockTime by\n+* non-replaceable transactions. All inputs rather than just one\n+* is for the sake of multi-party protocols, where we don't\n+* want a single party to be able to disable replacement. */",
      "path": "src/util/rbf.h",
      "position": 14,
      "original_position": 14,
      "commit_id": "f293c68be0469894c988711559f5528020c0ff71",
      "original_commit_id": "f293c68be0469894c988711559f5528020c0ff71",
      "in_reply_to_id": null,
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: \"...by opt-in out its contributed input\"",
      "created_at": "2021-08-27T21:58:06Z",
      "updated_at": "2021-08-27T23:44:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22796#discussion_r697739720",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/697739720"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22796"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 22,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/697744794",
      "pull_request_review_id": 740918322,
      "id": 697744794,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5Nzc0NDc5NA==",
      "diff_hunk": "@@ -474,8 +475,10 @@ class MemPoolAccept\n         bool m_replacement_transaction;\n         CAmount m_base_fees;\n         CAmount m_modified_fees;\n-        CAmount m_conflicting_fees;\n-        size_t m_conflicting_size;\n+        /** Total modified fees of all transactions being replaced. */\n+        CAmount m_conflicting_fees{0};",
      "path": "src/validation.cpp",
      "position": 15,
      "original_position": 15,
      "commit_id": "f293c68be0469894c988711559f5528020c0ff71",
      "original_commit_id": "f293c68be0469894c988711559f5528020c0ff71",
      "in_reply_to_id": null,
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think what we called \"modified fees\" in before-this-PR `PreChecks()` are currently the base_fee of the mempool candidate plus the delta from `PrioritiseTransaction` (L698 in `src/validation.cpp`). Maybe the \"modified\" adjective can be dropped ?",
      "created_at": "2021-08-27T22:13:48Z",
      "updated_at": "2021-08-27T23:44:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22796#discussion_r697744794",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/697744794"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22796"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 479,
      "original_line": 479,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/697759143",
      "pull_request_review_id": 740918322,
      "id": 697759143,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5Nzc1OTE0Mw==",
      "diff_hunk": "@@ -818,33 +814,40 @@ bool MemPoolAccept::PreChecks(ATMPArgs& args, Workspace& ws)\n                             newFeeRate.ToString(),\n                             oldFeeRate.ToString()));\n             }\n+        }\n+\n+        uint64_t nConflictingCount = 0;\n+        for (const auto& mi : setIterConflicting) {\n+            nConflictingCount += mi->GetCountWithDescendants();\n+            // This potentially overestimates the number of actual descendants\n+            // but we just want to be conservative to avoid doing too much\n+            // work.\n+            if (nConflictingCount > MAX_BIP125_REPLACEMENT_CANDIDATES) {\n+                return state.Invalid(TxValidationResult::TX_MEMPOOL_POLICY, \"too many potential replacements\",\n+                        strprintf(\"rejecting replacement %s; too many potential replacements (%d > %d)\\n\",\n+                            hash.ToString(),\n+                            nConflictingCount,\n+                            MAX_BIP125_REPLACEMENT_CANDIDATES));\n+            }\n+        }\n+        // If not too many to replace, then calculate the set of\n+        // transactions that would have to be evicted\n+        for (CTxMemPool::txiter it : setIterConflicting) {\n+            m_pool.CalculateDescendants(it, allConflicting);\n+        }\n+        // Check if it's economically rational to mine this transaction rather\n+        // than the ones it replaces.\n+        for (CTxMemPool::txiter it : allConflicting) {\n+            nConflictingFees += it->GetModifiedFee();\n+            nConflictingSize += it->GetTxSize();\n+        }\n \n+        std::set<uint256> setConflictsParents;\n+        for (const auto& mi : setIterConflicting) {",
      "path": "src/validation.cpp",
      "position": 96,
      "original_position": 51,
      "commit_id": "f293c68be0469894c988711559f5528020c0ff71",
      "original_commit_id": "8d7179633552f58ca0d23305196dcb4249b6dce7",
      "in_reply_to_id": null,
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Note, I think this commit is changing a bit the processing, Previously, the 3 operations a) checking candidate feerate is better than any replaced transaction b) fulfilling the set of parents inputs and c) accounting replaced transactions with descendants in the same loop.\r\n\r\nAfter this commit, `setIterConflicting` is iterated 3 times. Overall I think it's okay, though it might add a bit of work in case of well-sized set of replaced transactions. From a DoS viewpoint no changes. An upper bound is still enforced with `nConflictingCount` against `MAX_BIP_125_REPLACEMENT_CANDIDATES` (that would be great to have a set of QA assets with a wide range of mempool candidates payloads to confirm or infirm that kind of intuitions, not sure that's an information you can currently get from `qa-assets/fuzz_seed_corpus/validation_load_mempool`)",
      "created_at": "2021-08-27T23:06:43Z",
      "updated_at": "2021-08-27T23:44:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22796#discussion_r697759143",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/697759143"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22796"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 833,
      "original_line": 846,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/697764806",
      "pull_request_review_id": 740918322,
      "id": 697764806,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5Nzc2NDgwNg==",
      "diff_hunk": "@@ -35,4 +35,19 @@ enum class RBFTransactionState {\n RBFTransactionState IsRBFOptIn(const CTransaction& tx, const CTxMemPool& pool) EXCLUSIVE_LOCKS_REQUIRED(pool.cs);\n RBFTransactionState IsRBFOptInEmptyMempool(const CTransaction& tx);\n \n+/** Get all descendants of setIterConflicting. Also enforce BIP125 Rule #5, \"The number of original\n+ * transactions to be replaced and their descendant transactions which will be evicted from the\n+ * mempool must not exceed a total of 100 transactions.\" Quit as early as possible. There cannot be\n+ * more than MAX_BIP125_REPLACEMENT_CANDIDATES potential entries.\n+ * @param[in]   setIterConflicting  The set of iterators to mempool entries.\n+ * @param[out]  err_string          Used to return errors, if any.\n+ * @param[out]  allConflicting      Populated with all the mempool entries that would be replaced,\n+ *                                  which includes descendants of setIterConflicting. Not cleared at\n+ *                                  the start; any existing mempool entries will remain in the set.",
      "path": "src/policy/rbf.h",
      "position": 23,
      "original_position": 12,
      "commit_id": "f293c68be0469894c988711559f5528020c0ff71",
      "original_commit_id": "f293c68be0469894c988711559f5528020c0ff71",
      "in_reply_to_id": null,
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "What do you mean by \"Not cleared at the start; any existing mempool entries will remain in the set\" ?\r\n\r\nIf the replacement is successful,  `allConflicting` are going to be removed in `Finalize`. For package support, I think this operation we'll remove the per-package tx `allConflicting` set all at once. If `PreChecks` or any new other package policy checks as failed, don't modify mempool state.",
      "created_at": "2021-08-27T23:31:04Z",
      "updated_at": "2021-08-27T23:44:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22796#discussion_r697764806",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/697764806"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22796"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 46,
      "original_line": 46,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/697767044",
      "pull_request_review_id": 740918322,
      "id": 697767044,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5Nzc2NzA0NA==",
      "diff_hunk": "@@ -42,3 +46,34 @@ RBFTransactionState IsRBFOptInEmptyMempool(const CTransaction& tx)\n     // If we don't have a local mempool we can only check the transaction itself.\n     return SignalsOptInRBF(tx) ? RBFTransactionState::REPLACEABLE_BIP125 : RBFTransactionState::UNKNOWN;\n }\n+\n+bool GetEntriesForConflicts(const CTransaction& tx,\n+                            CTxMemPool& m_pool,\n+                            const CTxMemPool::setEntries& setIterConflicting,\n+                            CTxMemPool::setEntries& allConflicting,\n+                            std::string& err_string)\n+{\n+    AssertLockHeld(m_pool.cs);\n+    const uint256 hash = tx.GetHash();\n+    uint64_t nConflictingCount = 0;\n+    for (const auto& mi : setIterConflicting) {\n+        nConflictingCount += mi->GetCountWithDescendants();\n+        // This potentially overestimates the number of actual descendants",
      "path": "src/policy/rbf.cpp",
      "position": 27,
      "original_position": 27,
      "commit_id": "f293c68be0469894c988711559f5528020c0ff71",
      "original_commit_id": "f293c68be0469894c988711559f5528020c0ff71",
      "in_reply_to_id": null,
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: \"as replaced parents might have intersecting descendants\"",
      "created_at": "2021-08-27T23:41:30Z",
      "updated_at": "2021-08-27T23:44:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22796#discussion_r697767044",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/697767044"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22796"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 61,
      "original_line": 61,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/699133182",
      "pull_request_review_id": 742472990,
      "id": 699133182,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5OTEzMzE4Mg==",
      "diff_hunk": "@@ -35,4 +35,19 @@ enum class RBFTransactionState {\n RBFTransactionState IsRBFOptIn(const CTransaction& tx, const CTxMemPool& pool) EXCLUSIVE_LOCKS_REQUIRED(pool.cs);\n RBFTransactionState IsRBFOptInEmptyMempool(const CTransaction& tx);\n \n+/** Get all descendants of setIterConflicting. Also enforce BIP125 Rule #5, \"The number of original\n+ * transactions to be replaced and their descendant transactions which will be evicted from the\n+ * mempool must not exceed a total of 100 transactions.\" Quit as early as possible. There cannot be\n+ * more than MAX_BIP125_REPLACEMENT_CANDIDATES potential entries.\n+ * @param[in]   setIterConflicting  The set of iterators to mempool entries.\n+ * @param[out]  err_string          Used to return errors, if any.\n+ * @param[out]  allConflicting      Populated with all the mempool entries that would be replaced,\n+ *                                  which includes descendants of setIterConflicting. Not cleared at\n+ *                                  the start; any existing mempool entries will remain in the set.",
      "path": "src/policy/rbf.h",
      "position": 23,
      "original_position": 12,
      "commit_id": "f293c68be0469894c988711559f5528020c0ff71",
      "original_commit_id": "f293c68be0469894c988711559f5528020c0ff71",
      "in_reply_to_id": 697764806,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It's similar to other mempool functions where you can pass in a `setEntries` and it will `insert` entries, but not expect it to be empty beforehand, so you can call it multiple times and end up with an aggregated set. I'm expecting to use this in package RBF. It has nothing to do with what's going to end up in the mempool; this is just a helper function.\r\n\r\nThe reason I document it here is I think it's a relevant detail in the interface. It's the caller's responsibility to clear the set beforehand if it needs that.",
      "created_at": "2021-08-31T09:08:56Z",
      "updated_at": "2021-08-31T09:09:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22796#discussion_r699133182",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/699133182"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22796"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 46,
      "original_line": 46,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/699134183",
      "pull_request_review_id": 742474313,
      "id": 699134183,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5OTEzNDE4Mw==",
      "diff_hunk": "@@ -42,3 +46,34 @@ RBFTransactionState IsRBFOptInEmptyMempool(const CTransaction& tx)\n     // If we don't have a local mempool we can only check the transaction itself.\n     return SignalsOptInRBF(tx) ? RBFTransactionState::REPLACEABLE_BIP125 : RBFTransactionState::UNKNOWN;\n }\n+\n+bool GetEntriesForConflicts(const CTransaction& tx,\n+                            CTxMemPool& m_pool,\n+                            const CTxMemPool::setEntries& setIterConflicting,\n+                            CTxMemPool::setEntries& allConflicting,\n+                            std::string& err_string)\n+{\n+    AssertLockHeld(m_pool.cs);\n+    const uint256 hash = tx.GetHash();\n+    uint64_t nConflictingCount = 0;\n+    for (const auto& mi : setIterConflicting) {\n+        nConflictingCount += mi->GetCountWithDescendants();\n+        // This potentially overestimates the number of actual descendants",
      "path": "src/policy/rbf.cpp",
      "position": 27,
      "original_position": 27,
      "commit_id": "f293c68be0469894c988711559f5528020c0ff71",
      "original_commit_id": "f293c68be0469894c988711559f5528020c0ff71",
      "in_reply_to_id": 697767044,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I elaborate on this comment in a33fdd0b981965982754b39586eedb7ae456ba57 - these commits are MOVEONLY",
      "created_at": "2021-08-31T09:10:21Z",
      "updated_at": "2021-08-31T09:10:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22796#discussion_r699134183",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/699134183"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22796"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 61,
      "original_line": 61,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/699134584",
      "pull_request_review_id": 742474808,
      "id": 699134584,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5OTEzNDU4NA==",
      "diff_hunk": "@@ -11,8 +11,15 @@ class CTransaction;\n \n static const uint32_t MAX_BIP125_RBF_SEQUENCE = 0xfffffffd;\n \n-// Check whether the sequence numbers on this transaction are signaling\n-// opt-in to replace-by-fee, according to BIP 125\n+/** Check whether the sequence numbers on this transaction are signaling\n+* opt-in to replace-by-fee, according to BIP 125.\n+* Allow opt-out of transaction replacement by setting\n+* nSequence > MAX_BIP125_RBF_SEQUENCE (SEQUENCE_FINAL-2) on all inputs.\n+*\n+* SEQUENCE_FINAL-1 is picked to still allow use of nLockTime by\n+* non-replaceable transactions. All inputs rather than just one\n+* is for the sake of multi-party protocols, where we don't\n+* want a single party to be able to disable replacement. */",
      "path": "src/util/rbf.h",
      "position": 14,
      "original_position": 14,
      "commit_id": "f293c68be0469894c988711559f5528020c0ff71",
      "original_commit_id": "f293c68be0469894c988711559f5528020c0ff71",
      "in_reply_to_id": 697739720,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Noted, will add this to a33fdd0b981965982754b39586eedb7ae456ba57!",
      "created_at": "2021-08-31T09:10:50Z",
      "updated_at": "2021-08-31T09:10:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22796#discussion_r699134584",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/699134584"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22796"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 22,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/699136514",
      "pull_request_review_id": 742477260,
      "id": 699136514,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5OTEzNjUxNA==",
      "diff_hunk": "@@ -474,8 +475,10 @@ class MemPoolAccept\n         bool m_replacement_transaction;\n         CAmount m_base_fees;\n         CAmount m_modified_fees;\n-        CAmount m_conflicting_fees;\n-        size_t m_conflicting_size;\n+        /** Total modified fees of all transactions being replaced. */\n+        CAmount m_conflicting_fees{0};",
      "path": "src/validation.cpp",
      "position": 15,
      "original_position": 15,
      "commit_id": "f293c68be0469894c988711559f5528020c0ff71",
      "original_commit_id": "f293c68be0469894c988711559f5528020c0ff71",
      "in_reply_to_id": 697744794,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Correct, modified is base + delta from prioritise. But why should we drop the \"modified\" adjective? It's still very widely used in the mempool and `MemPoolAccept` code. In my view, just saying \"fees\" is less clear, as I would assume that to mean base fees.",
      "created_at": "2021-08-31T09:13:14Z",
      "updated_at": "2021-08-31T09:13:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22796#discussion_r699136514",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/699136514"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22796"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 479,
      "original_line": 479,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/699140383",
      "pull_request_review_id": 742482488,
      "id": 699140383,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5OTE0MDM4Mw==",
      "diff_hunk": "@@ -818,33 +814,40 @@ bool MemPoolAccept::PreChecks(ATMPArgs& args, Workspace& ws)\n                             newFeeRate.ToString(),\n                             oldFeeRate.ToString()));\n             }\n+        }\n+\n+        uint64_t nConflictingCount = 0;\n+        for (const auto& mi : setIterConflicting) {\n+            nConflictingCount += mi->GetCountWithDescendants();\n+            // This potentially overestimates the number of actual descendants\n+            // but we just want to be conservative to avoid doing too much\n+            // work.\n+            if (nConflictingCount > MAX_BIP125_REPLACEMENT_CANDIDATES) {\n+                return state.Invalid(TxValidationResult::TX_MEMPOOL_POLICY, \"too many potential replacements\",\n+                        strprintf(\"rejecting replacement %s; too many potential replacements (%d > %d)\\n\",\n+                            hash.ToString(),\n+                            nConflictingCount,\n+                            MAX_BIP125_REPLACEMENT_CANDIDATES));\n+            }\n+        }\n+        // If not too many to replace, then calculate the set of\n+        // transactions that would have to be evicted\n+        for (CTxMemPool::txiter it : setIterConflicting) {\n+            m_pool.CalculateDescendants(it, allConflicting);\n+        }\n+        // Check if it's economically rational to mine this transaction rather\n+        // than the ones it replaces.\n+        for (CTxMemPool::txiter it : allConflicting) {\n+            nConflictingFees += it->GetModifiedFee();\n+            nConflictingSize += it->GetTxSize();\n+        }\n \n+        std::set<uint256> setConflictsParents;\n+        for (const auto& mi : setIterConflicting) {",
      "path": "src/validation.cpp",
      "position": 96,
      "original_position": 51,
      "commit_id": "f293c68be0469894c988711559f5528020c0ff71",
      "original_commit_id": "8d7179633552f58ca0d23305196dcb4249b6dce7",
      "in_reply_to_id": 697759143,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Right, I was hoping to make this clear in the commit messages. Because of the changes in the preceding commit, we now quit immediately when we see more than `MAX_BIP_125_REPLACEMENT_CANDIDATES`. Previously, we'd grab all potential candidates and only check the total number afterward. So this PR has, overall, reduced the  complexity from O(n) to O(1) where n is the number of conflicts, which is why I think it's okay to iterate 3 times.\r\n\r\nThe only observable \"behavior\" change is that we might return `too many potential replacements` instead of `insufficient fee` when a transaction violates both.",
      "created_at": "2021-08-31T09:18:16Z",
      "updated_at": "2021-08-31T09:18:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22796#discussion_r699140383",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/699140383"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22796"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 833,
      "original_line": 846,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/699939557",
      "pull_request_review_id": 743560170,
      "id": 699939557,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5OTkzOTU1Nw==",
      "diff_hunk": "@@ -818,33 +814,40 @@ bool MemPoolAccept::PreChecks(ATMPArgs& args, Workspace& ws)\n                             newFeeRate.ToString(),\n                             oldFeeRate.ToString()));\n             }\n+        }\n+\n+        uint64_t nConflictingCount = 0;\n+        for (const auto& mi : setIterConflicting) {\n+            nConflictingCount += mi->GetCountWithDescendants();\n+            // This potentially overestimates the number of actual descendants\n+            // but we just want to be conservative to avoid doing too much\n+            // work.\n+            if (nConflictingCount > MAX_BIP125_REPLACEMENT_CANDIDATES) {\n+                return state.Invalid(TxValidationResult::TX_MEMPOOL_POLICY, \"too many potential replacements\",\n+                        strprintf(\"rejecting replacement %s; too many potential replacements (%d > %d)\\n\",\n+                            hash.ToString(),\n+                            nConflictingCount,\n+                            MAX_BIP125_REPLACEMENT_CANDIDATES));\n+            }\n+        }\n+        // If not too many to replace, then calculate the set of\n+        // transactions that would have to be evicted\n+        for (CTxMemPool::txiter it : setIterConflicting) {\n+            m_pool.CalculateDescendants(it, allConflicting);\n+        }\n+        // Check if it's economically rational to mine this transaction rather\n+        // than the ones it replaces.\n+        for (CTxMemPool::txiter it : allConflicting) {\n+            nConflictingFees += it->GetModifiedFee();\n+            nConflictingSize += it->GetTxSize();\n+        }",
      "path": "src/validation.cpp",
      "position": 93,
      "original_position": 48,
      "commit_id": "f293c68be0469894c988711559f5528020c0ff71",
      "original_commit_id": "8d7179633552f58ca0d23305196dcb4249b6dce7",
      "in_reply_to_id": null,
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In the same spirit of exiting early, i think we could check `if (nModifiedFees < nConflictingFees)` here directly. We could probably also check the delta fee.",
      "created_at": "2021-09-01T07:13:23Z",
      "updated_at": "2021-09-01T07:28:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22796#discussion_r699939557",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/699939557"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22796"
        }
      },
      "start_line": 827,
      "original_start_line": 840,
      "start_side": "RIGHT",
      "line": 830,
      "original_line": 843,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/700028093",
      "pull_request_review_id": 743674824,
      "id": 700028093,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcwMDAyODA5Mw==",
      "diff_hunk": "@@ -11,8 +11,15 @@ class CTransaction;\n \n static const uint32_t MAX_BIP125_RBF_SEQUENCE = 0xfffffffd;\n \n-// Check whether the sequence numbers on this transaction are signaling\n-// opt-in to replace-by-fee, according to BIP 125\n+/** Check whether the sequence numbers on this transaction are signaling\n+* opt-in to replace-by-fee, according to BIP 125.\n+* Allow opt-out of transaction replacement by setting\n+* nSequence > MAX_BIP125_RBF_SEQUENCE (SEQUENCE_FINAL-2) on all inputs.\n+*\n+* SEQUENCE_FINAL-1 is picked to still allow use of nLockTime by\n+* non-replaceable transactions. All inputs rather than just one\n+* is for the sake of multi-party protocols, where we don't\n+* want a single party to be able to disable replacement. */",
      "path": "src/util/rbf.h",
      "position": 14,
      "original_position": 14,
      "commit_id": "f293c68be0469894c988711559f5528020c0ff71",
      "original_commit_id": "f293c68be0469894c988711559f5528020c0ff71",
      "in_reply_to_id": 697739720,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Taken in #22855",
      "created_at": "2021-09-01T09:09:24Z",
      "updated_at": "2021-09-01T09:09:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22796#discussion_r700028093",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/700028093"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22796"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 22,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/700034236",
      "pull_request_review_id": 743683105,
      "id": 700034236,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcwMDAzNDIzNg==",
      "diff_hunk": "@@ -818,33 +814,40 @@ bool MemPoolAccept::PreChecks(ATMPArgs& args, Workspace& ws)\n                             newFeeRate.ToString(),\n                             oldFeeRate.ToString()));\n             }\n+        }\n+\n+        uint64_t nConflictingCount = 0;\n+        for (const auto& mi : setIterConflicting) {\n+            nConflictingCount += mi->GetCountWithDescendants();\n+            // This potentially overestimates the number of actual descendants\n+            // but we just want to be conservative to avoid doing too much\n+            // work.\n+            if (nConflictingCount > MAX_BIP125_REPLACEMENT_CANDIDATES) {\n+                return state.Invalid(TxValidationResult::TX_MEMPOOL_POLICY, \"too many potential replacements\",\n+                        strprintf(\"rejecting replacement %s; too many potential replacements (%d > %d)\\n\",\n+                            hash.ToString(),\n+                            nConflictingCount,\n+                            MAX_BIP125_REPLACEMENT_CANDIDATES));\n+            }\n+        }\n+        // If not too many to replace, then calculate the set of\n+        // transactions that would have to be evicted\n+        for (CTxMemPool::txiter it : setIterConflicting) {\n+            m_pool.CalculateDescendants(it, allConflicting);\n+        }\n+        // Check if it's economically rational to mine this transaction rather\n+        // than the ones it replaces.\n+        for (CTxMemPool::txiter it : allConflicting) {\n+            nConflictingFees += it->GetModifiedFee();\n+            nConflictingSize += it->GetTxSize();\n+        }",
      "path": "src/validation.cpp",
      "position": 93,
      "original_position": 48,
      "commit_id": "f293c68be0469894c988711559f5528020c0ff71",
      "original_commit_id": "8d7179633552f58ca0d23305196dcb4249b6dce7",
      "in_reply_to_id": 699939557,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'm not sure if that would be much of an improvement? There would be <=100 entries to aggregate fees for, so this is pretty tightly bounded already.",
      "created_at": "2021-09-01T09:17:37Z",
      "updated_at": "2021-09-01T09:17:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22796#discussion_r700034236",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/700034236"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22796"
        }
      },
      "start_line": 827,
      "original_start_line": 840,
      "start_side": "RIGHT",
      "line": 830,
      "original_line": 843,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/700944084",
      "pull_request_review_id": 744873827,
      "id": 700944084,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcwMDk0NDA4NA==",
      "diff_hunk": "@@ -835,33 +815,26 @@ bool MemPoolAccept::PreChecks(ATMPArgs& args, Workspace& ws)\n                             newFeeRate.ToString(),\n                             oldFeeRate.ToString()));\n             }\n+        }\n+\n+        // Calculate all conflicting entries and enforce Rule #5.\n+        if (!GetEntriesForConflicts(tx, m_pool, setIterConflicting, allConflicting, err_string)) {",
      "path": "src/validation.cpp",
      "position": 84,
      "original_position": 84,
      "commit_id": "f293c68be0469894c988711559f5528020c0ff71",
      "original_commit_id": "f293c68be0469894c988711559f5528020c0ff71",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "f293c68be0469894c988711559f5528020c0ff71: I think for new code we should avoid leaking mutable return args into a greater scope than needed. Especially when the goal is to re-use (https://github.com/bitcoin/bitcoin/pull/22675/files) the symbol (err_string), when it shouldn't be re-used. With C++17 this is trivial to fix.\r\n\r\nOne example:\r\n\r\n```cpp\r\n         if (const auto err_string{GetEntriesForConflicts(tx, m_pool, setIterConflicting, allConflicting)}) {\r\n            return ..., *err_string;\r\n```\r\n\r\nand make the util function return an error string or nullopt if no error is hit.\r\n\r\nRe-using symbols has bitten us in ATMP in the past, so I don't think there is need to repeat that. See commit 116419e58dddef8fe3ff9806a1d8ceebe64ae3e6",
      "created_at": "2021-09-02T10:11:13Z",
      "updated_at": "2021-09-02T10:11:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22796#discussion_r700944084",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/700944084"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22796"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 821,
      "original_line": 821,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/701206996",
      "pull_request_review_id": 745231709,
      "id": 701206996,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcwMTIwNjk5Ng==",
      "diff_hunk": "@@ -835,33 +815,26 @@ bool MemPoolAccept::PreChecks(ATMPArgs& args, Workspace& ws)\n                             newFeeRate.ToString(),\n                             oldFeeRate.ToString()));\n             }\n+        }\n+\n+        // Calculate all conflicting entries and enforce Rule #5.\n+        if (!GetEntriesForConflicts(tx, m_pool, setIterConflicting, allConflicting, err_string)) {",
      "path": "src/validation.cpp",
      "position": 84,
      "original_position": 84,
      "commit_id": "f293c68be0469894c988711559f5528020c0ff71",
      "original_commit_id": "f293c68be0469894c988711559f5528020c0ff71",
      "in_reply_to_id": 700944084,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Good point, I've added a followup commit for `GetEntriesForConflicts` and edited the rest of the functions to return a `std::optional<std::string>` in #22675",
      "created_at": "2021-09-02T15:40:34Z",
      "updated_at": "2021-09-02T15:40:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22796#discussion_r701206996",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/701206996"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22796"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 821,
      "original_line": 821,
      "side": "RIGHT"
    }
  ]
}