{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329",
    "id": 3184839812,
    "node_id": "PR_kwDOABII58691MyE",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/34329",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/34329.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/34329.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34329",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34329/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/a034fbd7d907da99726c20e6bf09239d2dfd711b",
    "number": 34329,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "rpc,net: Add private broadcast RPCs",
    "user": {
      "login": "andrewtoth",
      "id": 237213,
      "node_id": "MDQ6VXNlcjIzNzIxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/andrewtoth",
      "html_url": "https://github.com/andrewtoth",
      "followers_url": "https://api.github.com/users/andrewtoth/followers",
      "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
      "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
      "repos_url": "https://api.github.com/users/andrewtoth/repos",
      "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
      "type": "User",
      "site_admin": false,
      "name": null,
      "patch_url": null
    },
    "body": "Follow up from #29415 \r\n\r\nSending a transaction via private broadcast does not have any way for a user to track the status of the transaction before it gets returned by another peer. The default logs have been removed as well in #34267. Nor is there any way to abort a transaction once it has been added to the private broadcast queue.\r\n\r\nThis adds two new RPCs:\r\n- `getprivatebroadastinfo` returns information about what transactions are in the private broadcast queue, including all the peers' addresses we have chosen and timestamps.\r\n- `abortprivatebroadcast` stops broadcasting a transaction in the private broadcast queue.",
    "labels": [],
    "milestone": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/74",
      "html_url": "https://github.com/bitcoin/bitcoin/milestone/74",
      "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/74/labels",
      "id": 12610874,
      "node_id": "MI_kwDOABII584AwG06",
      "number": 74,
      "state": "open",
      "title": "31.0",
      "creator": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "open_issues": 19,
      "closed_issues": 39,
      "created_at": "2025-03-25T18:44:16Z",
      "updated_at": "2026-02-11T11:20:43Z"
    },
    "created_at": "2026-01-18T01:46:20Z",
    "updated_at": "2026-02-11T14:03:10Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "eb7d66ba1e80b47679e0669446c7b1a63a702599",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "andrewtoth:private_broadcast_rpcs",
      "ref": "private_broadcast_rpcs",
      "sha": "a034fbd7d907da99726c20e6bf09239d2dfd711b",
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 156145027,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNTYxNDUwMjc=",
        "name": "bitcoin",
        "full_name": "andrewtoth/bitcoin",
        "owner": {
          "login": "andrewtoth",
          "id": 237213,
          "node_id": "MDQ6VXNlcjIzNzIxMw==",
          "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/andrewtoth",
          "html_url": "https://github.com/andrewtoth",
          "followers_url": "https://api.github.com/users/andrewtoth/followers",
          "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
          "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
          "repos_url": "https://api.github.com/users/andrewtoth/repos",
          "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
          "type": "User",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/andrewtoth/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/andrewtoth/bitcoin",
        "archive_url": "https://api.github.com/repos/andrewtoth/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/andrewtoth/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/andrewtoth/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/andrewtoth/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/andrewtoth/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/andrewtoth/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/andrewtoth/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/andrewtoth/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/andrewtoth/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/andrewtoth/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/andrewtoth/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/andrewtoth/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/andrewtoth/bitcoin/events",
        "forks_url": "https://api.github.com/repos/andrewtoth/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/andrewtoth/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/andrewtoth/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/andrewtoth/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/andrewtoth/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/andrewtoth/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/andrewtoth/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/andrewtoth/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/andrewtoth/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/andrewtoth/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/andrewtoth/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/andrewtoth/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/andrewtoth/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/andrewtoth/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/andrewtoth/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/andrewtoth/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:andrewtoth/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/andrewtoth/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/andrewtoth/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/andrewtoth/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/andrewtoth/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/andrewtoth/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/andrewtoth/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/andrewtoth/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/andrewtoth/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/andrewtoth/bitcoin/hooks",
        "svn_url": "https://github.com/andrewtoth/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 1,
        "watchers_count": 1,
        "size": 296300,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2026-02-10T15:02:28Z",
        "created_at": "2018-11-05T01:43:59Z",
        "updated_at": "2025-11-13T15:07:23Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "64294c89094d5ab10d87236729cc267fde0a24ca",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "name": null,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 38891,
        "stargazers_count": 88075,
        "watchers_count": 88075,
        "size": 303421,
        "default_branch": "master",
        "open_issues_count": 723,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2026-02-11T13:53:08Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2026-02-11T14:55:56Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 315,
    "deletions": 9,
    "changed_files": 9,
    "commits": 7,
    "review_comments": 49,
    "comments": 13
  },
  "events": [
    {
      "event": "commented",
      "id": 3764618506,
      "node_id": "IC_kwDOABII587gY4UK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3764618506",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-18T01:46:27Z",
      "updated_at": "2026-02-11T14:03:10Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/34329.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [nervana21](https://github.com/bitcoin/bitcoin/pull/34329#issuecomment-3881370861), [l0rinc](https://github.com/bitcoin/bitcoin/pull/34329#pullrequestreview-3784002042) |\n| Stale ACK | [danielabrozzoni](https://github.com/bitcoin/bitcoin/pull/34329#pullrequestreview-3705580456), [vasild](https://github.com/bitcoin/bitcoin/pull/34329#pullrequestreview-3706202946) |\n\nIf your review is incorrectly listed, please copy-paste <code>&lt;!--meta-tag:bot-skip--&gt;</code> into the comment that the bot should ignore.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#34322](https://github.com/bitcoin/bitcoin/pull/34322) (node: Persist private broadcast transactions over node restarts by andrewtoth)\n* [#34271](https://github.com/bitcoin/bitcoin/pull/34271) (net_processing: make m_tx_for_private_broadcast optional by vasild)\n* [#34049](https://github.com/bitcoin/bitcoin/pull/34049) (rpc: Disallow captures in RPCMethodImpl by ajtowns)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->\n### LLM Linter (âœ¨ experimental)\n\n\n\nPossible places where comparison-specific test macros should replace generic comparisons:\n\n- test/functional/p2p_private_broadcast.py: \"assert len(peers) >= NUM_PRIVATE_BROADCAST_PER_TX\" -> recommendation: use assert_greater_than_or_equal(len(peers), NUM_PRIVATE_BROADCAST_PER_TX)\n- test/functional/p2p_private_broadcast.py: \"assert sum(1 for p in peers if \\\"received\\\" in p) >= NUM_PRIVATE_BROADCAST_PER_TX\" -> recommendation: store the sum in a variable and use assert_greater_than_or_equal(that_sum, NUM_PRIVATE_BROADCAST_PER_TX)\n\nNo comparison macro suggestions were found in C++ code.\n\n\n\n<sup>2026-02-10 15:02:59</sup>\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#issuecomment-3764618506",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34329"
    },
    {
      "event": "labeled",
      "id": 22119420979,
      "node_id": "LE_lADOABII587kDqTMzwAAAAUma5Qz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22119420979",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-18T03:04:07Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 3764829863,
      "node_id": "IC_kwDOABII587gZr6n",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3764829863",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-18T03:04:10Z",
      "updated_at": "2026-01-18T03:04:10Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Task `Windows native, fuzz, VS 2022`: https://github.com/bitcoin/bitcoin/actions/runs/21104117103/job/60692665532</sub>\n<sub>LLM reason (âœ¨ experimental): Fuzzing failed because the RPC command \"abortprivatebroadcast\" is not registered as safe or not-safe for fuzzing in rpc.cpp.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#issuecomment-3764829863",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34329"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22119428254,
      "node_id": "HRFPE_lADOABII587kDqTMzwAAAAUma7Ce",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22119428254",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "cb20591e88f136eebe9c5df7b17d2441e40514a5",
      "commit_url": "https://api.github.com/repos/andrewtoth/bitcoin/commits/cb20591e88f136eebe9c5df7b17d2441e40514a5",
      "created_at": "2026-01-18T03:06:11Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22119589316,
      "node_id": "HRFPE_lADOABII587kDqTMzwAAAAUmbiXE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22119589316",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "e955ef6363380f6319ab7e0806bcb8a53a924eb3",
      "commit_url": "https://api.github.com/repos/andrewtoth/bitcoin/commits/e955ef6363380f6319ab7e0806bcb8a53a924eb3",
      "created_at": "2026-01-18T03:52:40Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22122427881,
      "node_id": "HRFPE_lADOABII587kDqTMzwAAAAUmmXXp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22122427881",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "ac6c2bd06485ff6e7ed538a234f20491d3cf47cb",
      "commit_url": "https://api.github.com/repos/andrewtoth/bitcoin/commits/ac6c2bd06485ff6e7ed538a234f20491d3cf47cb",
      "created_at": "2026-01-18T14:45:58Z"
    },
    {
      "event": "reviewed",
      "id": 3686130506,
      "node_id": "PRR_kwDOABII587bteNK",
      "url": null,
      "actor": null,
      "commit_id": "ac6c2bd06485ff6e7ed538a234f20491d3cf47cb",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-01-21T10:14:18Z",
      "author_association": "CONTRIBUTOR",
      "body": "ACK ac6c2bd06485ff6e7ed538a234f20491d3cf47cb\r\n\r\nNice and straight forward, thanks!\r\n\r\nI think we can do better by [showing more info](https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2711749027), but this does not make the current PR worse.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#pullrequestreview-3686130506",
      "submitted_at": "2026-01-21T10:13:49Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
    },
    {
      "event": "unlabeled",
      "id": 22218897434,
      "node_id": "UNLE_lADOABII587kDqTMzwAAAAUsWXga",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22218897434",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-22T15:19:08Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22276194125,
      "node_id": "HRFPE_lADOABII587kDqTMzwAAAAUvw79N",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22276194125",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "d18996d9b9c1014a32b4c74b005088d57a16aaa2",
      "commit_url": "https://api.github.com/repos/andrewtoth/bitcoin/commits/d18996d9b9c1014a32b4c74b005088d57a16aaa2",
      "created_at": "2026-01-25T18:30:00Z"
    },
    {
      "event": "commented",
      "id": 3797063840,
      "node_id": "IC_kwDOABII587iUpig",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3797063840",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-25T18:32:28Z",
      "updated_at": "2026-01-25T19:10:59Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thank you for your review @vasild. I have taken all your suggestions except tracking the \"received\" in https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2711749027, since I'm not sure yet how we should store info after we get the transaction back.\r\n\r\n`git diff ac6c2bd06485ff6e7ed538a234f20491d3cf47cb..61078dab77c86a26b38afc3b1bb2ab97b8263fb0`",
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#issuecomment-3797063840",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34329"
    },
    {
      "event": "mentioned",
      "id": 22276209796,
      "node_id": "MEE_lADOABII587kDqTMzwAAAAUvw_yE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22276209796",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-25T18:32:29Z"
    },
    {
      "event": "subscribed",
      "id": 22276209802,
      "node_id": "SE_lADOABII587kDqTMzwAAAAUvw_yK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22276209802",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-25T18:32:30Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22276477858,
      "node_id": "HRFPE_lADOABII587kDqTMzwAAAAUvyBOi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22276477858",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "61078dab77c86a26b38afc3b1bb2ab97b8263fb0",
      "commit_url": "https://api.github.com/repos/andrewtoth/bitcoin/commits/61078dab77c86a26b38afc3b1bb2ab97b8263fb0",
      "created_at": "2026-01-25T19:09:58Z"
    },
    {
      "event": "labeled",
      "id": 22276481146,
      "node_id": "LE_lADOABII587kDqTMzwAAAAUvyCB6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22276481146",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-25T19:10:34Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 3797107450,
      "node_id": "IC_kwDOABII587iU0L6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3797107450",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-25T19:10:41Z",
      "updated_at": "2026-01-25T19:10:41Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Task `test max 6 ancestor commits`: https://github.com/bitcoin/bitcoin/actions/runs/21337454291/job/61411547620</sub>\n<sub>LLM reason (âœ¨ experimental): Compilation failed: PickTxForSend called with only 1 argument in private_broadcast_tests.cpp, missing the will_send_to_address parameter.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#issuecomment-3797107450",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34329"
    },
    {
      "event": "unlabeled",
      "id": 22276861082,
      "node_id": "UNLE_lADOABII587kDqTMzwAAAAUvzeya",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22276861082",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-25T20:18:07Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 3705580456,
      "node_id": "PRR_kwDOABII587c3quo",
      "url": null,
      "actor": null,
      "commit_id": "61078dab77c86a26b38afc3b1bb2ab97b8263fb0",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-01-26T12:53:37Z",
      "author_association": "MEMBER",
      "body": "tACK 61078dab77c86a26b38afc3b1bb2ab97b8263fb0\r\n\r\nCode looks good to me, I left a couple of non-blocking nits. \r\n\r\nI tested locally using a signet node, I tried broadcasting transactions, seeing the confirmation/reception times and aborting the broadcast. ",
      "user": {
        "login": "danielabrozzoni",
        "id": 25042473,
        "node_id": "MDQ6VXNlcjI1MDQyNDcz",
        "avatar_url": "https://avatars.githubusercontent.com/u/25042473?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/danielabrozzoni",
        "html_url": "https://github.com/danielabrozzoni",
        "followers_url": "https://api.github.com/users/danielabrozzoni/followers",
        "following_url": "https://api.github.com/users/danielabrozzoni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/danielabrozzoni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/danielabrozzoni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/danielabrozzoni/subscriptions",
        "organizations_url": "https://api.github.com/users/danielabrozzoni/orgs",
        "repos_url": "https://api.github.com/users/danielabrozzoni/repos",
        "events_url": "https://api.github.com/users/danielabrozzoni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/danielabrozzoni/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#pullrequestreview-3705580456",
      "submitted_at": "2026-01-26T12:53:37Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
    },
    {
      "event": "review_requested",
      "id": 22288740315,
      "node_id": "RRE_lADOABII587kDqTMzwAAAAUwgy_b",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22288740315",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-26T12:53:41Z",
      "requested_reviewer": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      }
    },
    {
      "event": "reviewed",
      "id": 3706202946,
      "node_id": "PRR_kwDOABII587c6CtC",
      "url": null,
      "actor": null,
      "commit_id": "61078dab77c86a26b38afc3b1bb2ab97b8263fb0",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-01-26T14:24:12Z",
      "author_association": "CONTRIBUTOR",
      "body": "ACK 61078dab77c86a26b38afc3b1bb2ab97b8263fb0\n\n> ... except tracking the \"received\" in https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2711749027, since I'm not sure yet how we should store info after we get the transaction back\n\nI think at this point, within the scope of this PR, we could keep the transactions in the same place - `PrivateBroadcast::m_transactions`:\n\n* Don't delete entries from `m_transactions` when they are received back after a round-trip through the network - rename `Remove()` to e.g. `StopBroadcasting()`. Same for when giving up on stale transactions that don't make it to the mempool anymore or manually abandoned by the user.\n* Make sure those \"stopped\" entries are not considered by the methods `PickTxForSend()`, `HavePendingTransactions()` and `GetStale()`.\n* Add some cap to the size of `m_transactions`.\n* Add a status field in the RPC output per transaction, which could be \"success: received back from 1.2.3.4:8333\", \"abandoned: not eligible for our mempool: xyz\", \"abandoned by the user via RPC\".\n* Plus a timestamp of the status field.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#pullrequestreview-3706202946",
      "submitted_at": "2026-01-26T14:24:12Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22333617040,
      "node_id": "HRFPE_lADOABII587kDqTMzwAAAAUzL_OQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22333617040",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "9df523a53693e2827e097d29cc1b5eaa43b02874",
      "commit_url": "https://api.github.com/repos/andrewtoth/bitcoin/commits/9df523a53693e2827e097d29cc1b5eaa43b02874",
      "created_at": "2026-01-28T02:52:43Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22333691732,
      "node_id": "HRFPE_lADOABII587kDqTMzwAAAAUzMRdU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22333691732",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "37f7e5577853f3655de08710e688256e144e3cf1",
      "commit_url": "https://api.github.com/repos/andrewtoth/bitcoin/commits/37f7e5577853f3655de08710e688256e144e3cf1",
      "created_at": "2026-01-28T02:58:46Z"
    },
    {
      "event": "commented",
      "id": 3808688160,
      "node_id": "IC_kwDOABII587jA_gg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3808688160",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-28T03:03:51Z",
      "updated_at": "2026-01-28T03:03:51Z",
      "author_association": "CONTRIBUTOR",
      "body": "@danielabrozzoni @vasild thank you for your reviews. I have taken most of your suggestions. Also rebased due to https://github.com/bitcoin/bitcoin/pull/34267.\r\n\r\nNew commits added to faciliate extra information in `getprivatebroadcastinfo`:\r\n\r\n- Rename `Remove` to `StopBroadcasting` and pass either the node's address if received or a message if aborted. 7a83e570fa94bc572233bf0f3c62f7b010e57e55\r\n- Store private broadcast transactions even after they are stopped, storing the received from node address or message, and a timestamp. adf16cb57e880c77415a5ee47017150136e68cac\r\n- Prune finished transactions if there are move than 1000. 4194ab3c93c1d87ecdacbaef7da91f280edd46c3\r\n\r\n`git range-diff 22bde74d1d8f861323eabb8dc60401bbf1226544..61078dab77c86a26b38afc3b1bb2ab97b8263fb0 c0e6556e4f51b454c3f6e9069044761c34e99f81..37f7e5577853f3655de08710e688256e144e3cf1`",
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#issuecomment-3808688160",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34329"
    },
    {
      "event": "mentioned",
      "id": 22333756219,
      "node_id": "MEE_lADOABII587kDqTMzwAAAAUzMhM7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22333756219",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-28T03:03:53Z"
    },
    {
      "event": "subscribed",
      "id": 22333756239,
      "node_id": "SE_lADOABII587kDqTMzwAAAAUzMhNP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22333756239",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-28T03:03:53Z"
    },
    {
      "event": "mentioned",
      "id": 22333756248,
      "node_id": "MEE_lADOABII587kDqTMzwAAAAUzMhNY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22333756248",
      "actor": {
        "login": "danielabrozzoni",
        "id": 25042473,
        "node_id": "MDQ6VXNlcjI1MDQyNDcz",
        "avatar_url": "https://avatars.githubusercontent.com/u/25042473?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/danielabrozzoni",
        "html_url": "https://github.com/danielabrozzoni",
        "followers_url": "https://api.github.com/users/danielabrozzoni/followers",
        "following_url": "https://api.github.com/users/danielabrozzoni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/danielabrozzoni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/danielabrozzoni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/danielabrozzoni/subscriptions",
        "organizations_url": "https://api.github.com/users/danielabrozzoni/orgs",
        "repos_url": "https://api.github.com/users/danielabrozzoni/repos",
        "events_url": "https://api.github.com/users/danielabrozzoni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/danielabrozzoni/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-28T03:03:53Z"
    },
    {
      "event": "subscribed",
      "id": 22333756260,
      "node_id": "SE_lADOABII587kDqTMzwAAAAUzMhNk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22333756260",
      "actor": {
        "login": "danielabrozzoni",
        "id": 25042473,
        "node_id": "MDQ6VXNlcjI1MDQyNDcz",
        "avatar_url": "https://avatars.githubusercontent.com/u/25042473?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/danielabrozzoni",
        "html_url": "https://github.com/danielabrozzoni",
        "followers_url": "https://api.github.com/users/danielabrozzoni/followers",
        "following_url": "https://api.github.com/users/danielabrozzoni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/danielabrozzoni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/danielabrozzoni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/danielabrozzoni/subscriptions",
        "organizations_url": "https://api.github.com/users/danielabrozzoni/orgs",
        "repos_url": "https://api.github.com/users/danielabrozzoni/repos",
        "events_url": "https://api.github.com/users/danielabrozzoni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/danielabrozzoni/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-28T03:03:53Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22333821390,
      "node_id": "HRFPE_lADOABII587kDqTMzwAAAAUzMxHO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22333821390",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "db23ae39358168823593d28c3114590900d7e887",
      "commit_url": "https://api.github.com/repos/andrewtoth/bitcoin/commits/db23ae39358168823593d28c3114590900d7e887",
      "created_at": "2026-01-28T03:08:57Z"
    },
    {
      "event": "labeled",
      "id": 22333831996,
      "node_id": "LE_lADOABII587kDqTMzwAAAAUzMzs8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22333831996",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-28T03:09:44Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 3808703739,
      "node_id": "IC_kwDOABII587jBDT7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3808703739",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-28T03:09:57Z",
      "updated_at": "2026-01-28T03:09:57Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Task `lint`: https://github.com/bitcoin/bitcoin/actions/runs/21423156818/job/61686652517</sub>\n<sub>LLM reason (âœ¨ experimental): Trailing whitespace detected in src/private_broadcast.h, causing the lint check to fail.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#issuecomment-3808703739",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34329"
    },
    {
      "event": "unlabeled",
      "id": 22334756280,
      "node_id": "UNLE_lADOABII587kDqTMzwAAAAUzQVW4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22334756280",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-28T04:22:06Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "subscribed",
      "id": 22418514286,
      "node_id": "SE_lADOABII587kDqTMzwAAAAU4P2Fu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22418514286",
      "actor": {
        "login": "nervana21",
        "id": 205626986,
        "node_id": "U_kgDODEGeag",
        "avatar_url": "https://avatars.githubusercontent.com/u/205626986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nervana21",
        "html_url": "https://github.com/nervana21",
        "followers_url": "https://api.github.com/users/nervana21/followers",
        "following_url": "https://api.github.com/users/nervana21/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nervana21/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nervana21/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nervana21/subscriptions",
        "organizations_url": "https://api.github.com/users/nervana21/orgs",
        "repos_url": "https://api.github.com/users/nervana21/repos",
        "events_url": "https://api.github.com/users/nervana21/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nervana21/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-01-30T21:55:10Z"
    },
    {
      "event": "reviewed",
      "id": 3735277305,
      "node_id": "PRR_kwDOABII587eo875",
      "url": null,
      "actor": null,
      "commit_id": "db23ae39358168823593d28c3114590900d7e887",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-02-01T08:50:55Z",
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#pullrequestreview-3735277305",
      "submitted_at": "2026-02-01T08:50:55Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
    },
    {
      "event": "reviewed",
      "id": 3735282362,
      "node_id": "PRR_kwDOABII587eo-K6",
      "url": null,
      "actor": null,
      "commit_id": "db23ae39358168823593d28c3114590900d7e887",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-02-01T08:56:02Z",
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#pullrequestreview-3735282362",
      "submitted_at": "2026-02-01T08:56:02Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22447876853,
      "node_id": "HRFPE_lADOABII587kDqTMzwAAAAU5_2r1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22447876853",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "5d3c79a96fab2018a3e13bbe8d6ca6080e38ec91",
      "commit_url": "https://api.github.com/repos/andrewtoth/bitcoin/commits/5d3c79a96fab2018a3e13bbe8d6ca6080e38ec91",
      "created_at": "2026-02-01T19:58:56Z"
    },
    {
      "event": "commented",
      "id": 3831877144,
      "node_id": "IC_kwDOABII587kZc4Y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3831877144",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-01T19:59:44Z",
      "updated_at": "2026-02-01T19:59:59Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thank you for your review @w0xlt. Addressed https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2750800537.\r\n\r\n`git diff db23ae39358168823593d28c3114590900d7e887..5d3c79a96fab2018a3e13bbe8d6ca6080e38ec91`.",
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#issuecomment-3831877144",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34329"
    },
    {
      "event": "mentioned",
      "id": 22447893017,
      "node_id": "MEE_lADOABII587kDqTMzwAAAAU5_6oZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22447893017",
      "actor": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-01T20:00:19Z"
    },
    {
      "event": "subscribed",
      "id": 22447893073,
      "node_id": "SE_lADOABII587kDqTMzwAAAAU5_6pR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22447893073",
      "actor": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-01T20:00:19Z"
    },
    {
      "event": "reviewed",
      "id": 3738208110,
      "node_id": "PRR_kwDOABII587e0Idu",
      "url": null,
      "actor": null,
      "commit_id": "5d3c79a96fab2018a3e13bbe8d6ca6080e38ec91",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-02-02T09:21:03Z",
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#pullrequestreview-3738208110",
      "submitted_at": "2026-02-02T09:21:02Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
    },
    {
      "event": "reviewed",
      "id": 3738211437,
      "node_id": "PRR_kwDOABII587e0JRt",
      "url": null,
      "actor": null,
      "commit_id": "5d3c79a96fab2018a3e13bbe8d6ca6080e38ec91",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-02-02T09:21:52Z",
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#pullrequestreview-3738211437",
      "submitted_at": "2026-02-02T09:21:52Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
    },
    {
      "event": "reviewed",
      "id": 3738769335,
      "node_id": "PRR_kwDOABII587e2Re3",
      "url": null,
      "actor": null,
      "commit_id": "5d3c79a96fab2018a3e13bbe8d6ca6080e38ec91",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-02-02T12:45:09Z",
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#pullrequestreview-3738769335",
      "submitted_at": "2026-02-02T12:45:09Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22485043581,
      "node_id": "HRFPE_lADOABII587kDqTMzwAAAAU8Nol9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22485043581",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "e0c75536ce6e1f9392c50ebf022a1840a46d0dfd",
      "commit_url": "https://api.github.com/repos/andrewtoth/bitcoin/commits/e0c75536ce6e1f9392c50ebf022a1840a46d0dfd",
      "created_at": "2026-02-03T05:06:47Z"
    },
    {
      "event": "commented",
      "id": 3839106270,
      "node_id": "IC_kwDOABII587k1Bze",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3839106270",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-03T05:14:56Z",
      "updated_at": "2026-02-03T05:14:56Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thank you for your reviews @w0xlt and @vasild. I have taken most of your suggestions, and added you both as co-authors.\r\n\r\n`git diff 5d3c79a96fab2018a3e13bbe8d6ca6080e38ec91..e0c75536ce6e1f9392c50ebf022a1840a46d0dfd`",
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#issuecomment-3839106270",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34329"
    },
    {
      "event": "mentioned",
      "id": 22485176763,
      "node_id": "MEE_lADOABII587kDqTMzwAAAAU8OJG7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22485176763",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-03T05:14:57Z"
    },
    {
      "event": "subscribed",
      "id": 22485176784,
      "node_id": "SE_lADOABII587kDqTMzwAAAAU8OJHQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22485176784",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-03T05:14:57Z"
    },
    {
      "event": "mentioned",
      "id": 22485176800,
      "node_id": "MEE_lADOABII587kDqTMzwAAAAU8OJHg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22485176800",
      "actor": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-03T05:14:57Z"
    },
    {
      "event": "subscribed",
      "id": 22485176811,
      "node_id": "SE_lADOABII587kDqTMzwAAAAU8OJHr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22485176811",
      "actor": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-03T05:14:57Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22562937105,
      "node_id": "HRFPE_lADOABII587kDqTMzwAAAAVA2xkR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22562937105",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "844e08c0677f04288ed0cb38d05c68e09bae7e67",
      "commit_url": "https://api.github.com/repos/andrewtoth/bitcoin/commits/844e08c0677f04288ed0cb38d05c68e09bae7e67",
      "created_at": "2026-02-05T15:50:23Z"
    },
    {
      "event": "commented",
      "id": 3854530696,
      "node_id": "IC_kwDOABII587lv3iI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3854530696",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-05T15:52:17Z",
      "updated_at": "2026-02-05T15:52:17Z",
      "author_association": "CONTRIBUTOR",
      "body": "Addressed https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2753995437. Pass stop reason strings as rvalue refs.\r\n\r\n`git diff e0c75536ce6e1f9392c50ebf022a1840a46d0dfd..844e08c0677f04288ed0cb38d05c68e09bae7e67`",
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#issuecomment-3854530696",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34329"
    },
    {
      "event": "milestoned",
      "id": 22566509861,
      "node_id": "MIE_lADOABII587kDqTMzwAAAAVBEZ0l",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22566509861",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-05T18:00:44Z",
      "milestone": {
        "title": "31.0"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22574263232,
      "node_id": "HRFPE_lADOABII587kDqTMzwAAAAVBh-vA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22574263232",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "9eda82baae179a00250b2e7ae58f5dbea160a1a1",
      "commit_url": "https://api.github.com/repos/andrewtoth/bitcoin/commits/9eda82baae179a00250b2e7ae58f5dbea160a1a1",
      "created_at": "2026-02-05T23:50:53Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22575702506,
      "node_id": "HRFPE_lADOABII587kDqTMzwAAAAVBneHq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22575702506",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "0649a6a01ff74659af432443ae6e1f60606c844a",
      "commit_url": "https://api.github.com/repos/andrewtoth/bitcoin/commits/0649a6a01ff74659af432443ae6e1f60606c844a",
      "created_at": "2026-02-06T01:41:23Z"
    },
    {
      "event": "commented",
      "id": 3857370567,
      "node_id": "IC_kwDOABII587l6s3H",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3857370567",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-06T01:41:36Z",
      "updated_at": "2026-02-06T01:41:36Z",
      "author_association": "CONTRIBUTOR",
      "body": "Addressed https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2754002247. Thanks @vasild and @w0xlt.\r\n\r\n`git diff 844e08c0677f04288ed0cb38d05c68e09bae7e67..0649a6a01ff74659af432443ae6e1f60606c844a`",
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#issuecomment-3857370567",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34329"
    },
    {
      "event": "mentioned",
      "id": 22575705584,
      "node_id": "MEE_lADOABII587kDqTMzwAAAAVBne3w",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22575705584",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-06T01:41:37Z"
    },
    {
      "event": "subscribed",
      "id": 22575705601,
      "node_id": "SE_lADOABII587kDqTMzwAAAAVBne4B",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22575705601",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-06T01:41:37Z"
    },
    {
      "event": "mentioned",
      "id": 22575705621,
      "node_id": "MEE_lADOABII587kDqTMzwAAAAVBne4V",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22575705621",
      "actor": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-06T01:41:37Z"
    },
    {
      "event": "subscribed",
      "id": 22575705644,
      "node_id": "SE_lADOABII587kDqTMzwAAAAVBne4s",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22575705644",
      "actor": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-06T01:41:37Z"
    },
    {
      "event": "labeled",
      "id": 22576787328,
      "node_id": "LE_lADOABII587kDqTMzwAAAAVBrm-A",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22576787328",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-06T02:55:42Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 3865149001,
      "node_id": "IC_kwDOABII587mYX5J",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3865149001",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-07T19:32:16Z",
      "updated_at": "2026-02-07T19:32:16Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Sending a transaction via private broadcast does not have any way for a user to track the status of the transaction before it gets returned by another peer. \r\n\r\n+1, I understand why this is important to get into the same release as the private broadcast, but not sure about the `abortprivatebroadcast` and related refactors, I think those could be done after the freeze as well and in separate PRs, since this change is a bit bigger than I anticipated. Could you maybe split it into an urgent minimal PR and follow-ups that aren't necessary for this release?",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#issuecomment-3865149001",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34329"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDU3M2JiNTQyYmU4MGI2M2IxNzEzYTBiNzZiZWRhYTVlMzdjMzc4M2Y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/573bb542be80b63b1713a0b76bedaa5e37c3783f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/573bb542be80b63b1713a0b76bedaa5e37c3783f",
      "tree": {
        "sha": "f8df6cc2f4cd33eb0eada7d02acfc8563f0a66b9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f8df6cc2f4cd33eb0eada7d02acfc8563f0a66b9"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree f8df6cc2f4cd33eb0eada7d02acfc8563f0a66b9\nparent 64294c89094d5ab10d87236729cc267fde0a24ca\nauthor Andrew Toth <andrewstoth@gmail.com> 1769365072 -0500\ncommitter Andrew Toth <andrewstoth@gmail.com> 1770734692 -0500\n\nnet: Store recipient node address in private broadcast\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEISytpz6vNK/yCogaYAB6/Ik4sBgFAmmLRGQACgkQYAB6/Ik4\nsBhjwA/+LUOb4q6/mQP1R/R65ZBIY0V/sg5STujNQRctPJz+9/EMIx611sM9MTO/\nAVoqFoiWzBTI8rjM+gzpjY3VhfiwcPaNJWdsE6CeN/T9wkCQf7ndphwIdRdjrSes\niAbYNAnxHWGaI43jLQAeqmXQlQhR6sm+2PvNlQ41JrrtICuU0+Oso8CxSF7UFu0N\nYqP4Xb3OwSUpYshXpuqChbK8KgtMhAPYUWTdqcTAeCphpLgWAe3Y1JRSn3oW0cqU\nofemwl9EYaT5dMo+45p7xSzk5xa0e3qh9WYSvWwofpSZCyVoqJ49izogbMoi0G4Y\nNxFrH7yL8gqqEnP8SJpZaKouYtgMTE7c1pDB+vJxgQRGhxXPw0Jpy27c8QCu2jzs\nyyB7FgBvhAEXbMAoegetvVLdIjzkfNaAQ7I4vLS7tM+fD89uAq+Te7YkOab9g8K4\nLBLWCoKdgRiobM1SSqJMXusp+bIMiFAJyDbq4yJ53kwQ/4pQXtwVqp6MWPg9suja\nK0EIqjGLUsGOSsJGxGI4Iulko9Bg5FLg25cAGO9v6T+6z1uQG+lFGplmAWOFUyyR\nh6c2bF2lUHQfJElnc/7hC+siQZxmchCcpgWIFfPXF874LtF8xtVQ15nloYl7CL1c\n7G8tMxkj47iqezrmgz7nXgebzYSfC5V8jLk2EXSyyyH6KLsCNrg=\n=MCiM\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/64294c89094d5ab10d87236729cc267fde0a24ca",
          "sha": "64294c89094d5ab10d87236729cc267fde0a24ca",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/64294c89094d5ab10d87236729cc267fde0a24ca"
        }
      ],
      "message": "net: Store recipient node address in private broadcast",
      "committer": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2026-02-10T14:44:52Z"
      },
      "author": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2026-01-25T18:17:52Z"
      },
      "sha": "573bb542be80b63b1713a0b76bedaa5e37c3783f"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGNjMTA4MzdmYzEwYzNhZmIzN2M4M2YxZDhiNGE3YTA4OGNkMDQ2ZDk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cc10837fc10c3afb37c83f1d8b4a7a088cd046d9",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/cc10837fc10c3afb37c83f1d8b4a7a088cd046d9",
      "tree": {
        "sha": "446d6d8aecf8671cda07a0fba2d12d8d3287fc15",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/446d6d8aecf8671cda07a0fba2d12d8d3287fc15"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 446d6d8aecf8671cda07a0fba2d12d8d3287fc15\nparent 573bb542be80b63b1713a0b76bedaa5e37c3783f\nauthor Andrew Toth <andrewstoth@gmail.com> 1768692577 -0500\ncommitter Andrew Toth <andrewstoth@gmail.com> 1770735225 -0500\n\nnet: Add PrivateBroadcast::GetBroadcastInfo\n\nCo-authored-by: Daniela Brozzoni <danielabrozzoni@protonmail.com>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEISytpz6vNK/yCogaYAB6/Ik4sBgFAmmLRowACgkQYAB6/Ik4\nsBjEJxAAoAraaiPJ8eT2A703osdouy9YznH5UJY5BMpiIbMzX93No2dX3c+/o6A2\n69C7HX1CfbZBB5YXSNmhaONYWrup0Ugkg/7XU8iO3tnLTK6RevLc17dRRkWXYWxD\niCSkKji7/9YJL5hji2x2y9/28Qfb1SNmZ0jxZDHHMBnrp0skfEioj490UXDRVAUH\nOx5MaF32GklOZoX6lO9y9WAB/4KnXo5Wn3Qdin3o2v5OMmNlsQZVIXT5bZSdjp65\nKBzMFzeZCzjAS52DBjRMrfyfX0z+j7PI0I5auouujR184P31sXbx46cFrLPwrykE\nV6BA9xSRY9rmMAMtvxdVxooOyf3SH5XpLDmJluhyrT5uKqo3lWwzm0aloTxvSKXe\nMV+Hc/pnq4B6MZuF+n29Ucp6gdlSoUnSRxXBlk9+EEyqjFFtKmbpZ2Fg0Lrg9PG3\nrMdeSjLHoc0tCNdab2TUfr3AloFOvQTV6swstDLFuKC2B7Vz9p4jj18BG7kVRulh\ntkCPlrrJWs/8No51y9mG1bYRhqJ/uV5EmzCn66QN7sX5bSTX0yEny/7dmBLgO9FE\nEYxw5A6bRWCXGcLpV6c1R35lDUVbh7JHNXjRw6Da/DGKMDkO0MM5gidtVoBExK/j\n/sMoaZETfpT5QxEldsGnEBhh9R6bN7qyPm/7tKj2V+Semn7Efmc=\n=Jlp5\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/573bb542be80b63b1713a0b76bedaa5e37c3783f",
          "sha": "573bb542be80b63b1713a0b76bedaa5e37c3783f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/573bb542be80b63b1713a0b76bedaa5e37c3783f"
        }
      ],
      "message": "net: Add PrivateBroadcast::GetBroadcastInfo\n\nCo-authored-by: Daniela Brozzoni <danielabrozzoni@protonmail.com>",
      "committer": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2026-02-10T14:53:45Z"
      },
      "author": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2026-01-17T23:29:37Z"
      },
      "sha": "cc10837fc10c3afb37c83f1d8b4a7a088cd046d9"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDExNWUxMTdiODNkZDczZjNmNGZhMjkxMjRlM2ZkMzVhZWY0MzJlZjg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/115e117b83dd73f3f4fa29124e3fd35aef432ef8",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/115e117b83dd73f3f4fa29124e3fd35aef432ef8",
      "tree": {
        "sha": "e1799d9b6257f132296d22b994adf4e71233f888",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e1799d9b6257f132296d22b994adf4e71233f888"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree e1799d9b6257f132296d22b994adf4e71233f888\nparent cc10837fc10c3afb37c83f1d8b4a7a088cd046d9\nauthor Andrew Toth <andrewstoth@gmail.com> 1768692756 -0500\ncommitter Andrew Toth <andrewstoth@gmail.com> 1770735244 -0500\n\nrpc: Add getprivatebroadcastinfo\n\nCo-authored-by: Vasil Dimov <vd@freebsd.org>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEISytpz6vNK/yCogaYAB6/Ik4sBgFAmmLRpAACgkQYAB6/Ik4\nsBiukQ/+LvHsQvtngtFuAqn5VxW/h1gnodhRINWpzlGwAsTUiUWG/2lCYh6rgxCV\nKXdqk7X/4rRl6nfFYQmFsF7Boj/QrWg//0im2gNt8kjDjbjSdl57njcYQy8O+pDk\nemMaROI0hFprMN/mKJS3UGkkyPRECr+79o2cE044ecg+5mHELqUU6IKqz1ziKmU3\nzYr9k/pI6SlPTKAEfYgezOInQYyYq7VRjwserUxZLUQBF5Ai2cP3h2SVkjgmW9NP\nY7ocRQcWVIboZel6QhYWA8IWR9BHSIHiJXCKCbUv5oDC+TlBsM9S+CUetvIj7bT/\nGJtjxXjSf3PI04JoARB6CJkU5Y2x9LssjKflvDB3uU1lTEmvZpOlfLKOLksodp4V\nrvLLcXkdE9UQKf3UJ8DJf3QJGwOYkcUEtBU9rDKEHOh41VjhXKzb8DMFjGdjMC1v\n6IxiLobQSqJpJmNRpypUwHqq8egsxAfOBJtC77z6LRzPc5fQVBFOtKnkNNVo7suJ\n2NaYH6Cztfv8Wuh/os6LxwMpF+9KDecX9M8iR1BXmn9Eyct24FTIcXKpj8FYFSCN\nPVNwAP9Vf6GtKHsiyUsFvBvJkGPKV3xBk8klvakuofmwaU47+gY2oF9qGwUfaP3O\nlre/9eVUS4ooHpu0hdAm3lXmRy3X2ItBufGosUFeRMbdYBxfgRQ=\n=SARb\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cc10837fc10c3afb37c83f1d8b4a7a088cd046d9",
          "sha": "cc10837fc10c3afb37c83f1d8b4a7a088cd046d9",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/cc10837fc10c3afb37c83f1d8b4a7a088cd046d9"
        }
      ],
      "message": "rpc: Add getprivatebroadcastinfo\n\nCo-authored-by: Vasil Dimov <vd@freebsd.org>",
      "committer": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2026-02-10T14:54:04Z"
      },
      "author": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2026-01-17T23:32:36Z"
      },
      "sha": "115e117b83dd73f3f4fa29124e3fd35aef432ef8"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGExMGU1YTE3NmUwZTg0ZWM1N2Y4ZDY4YmFlNWRhMGViZmQwYzQzMTY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a10e5a176e0e84ec57f8d68bae5da0ebfd0c4316",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a10e5a176e0e84ec57f8d68bae5da0ebfd0c4316",
      "tree": {
        "sha": "6c36a8f794dacd4076ac734611938c7bbe42b8d7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6c36a8f794dacd4076ac734611938c7bbe42b8d7"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 6c36a8f794dacd4076ac734611938c7bbe42b8d7\nparent 115e117b83dd73f3f4fa29124e3fd35aef432ef8\nauthor Andrew Toth <andrewstoth@gmail.com> 1768692790 -0500\ncommitter Andrew Toth <andrewstoth@gmail.com> 1770735248 -0500\n\ntest: Cover getprivatebroadcastinfo in p2p_private_broadcast\n\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEISytpz6vNK/yCogaYAB6/Ik4sBgFAmmLRpAACgkQYAB6/Ik4\nsBgmQA//SEnjP+PKqSaNgtTXX1wDkkG8R+Oq8hOCbIh7ea6JxG20YYuodS6p5IYW\nWyyFy84AHD5xbHBtA+kBzPucoeVdipQ7+Za/H2hXIG+qudrUQgIEr4lWbWh0FRrZ\nNfLMIMAwTPOHyzueriraKcIusb7069ChOv6rMzAeWcjaJd4cZKjK8awKJ3xcrZee\n8XKZD6uHvOVSmA9cct6XzLDtqElFRnqCv8oKcJ3CcrAhEFfJQnDm7sj2H4kYMraW\nf+3vcMQmGthYD3YPKNIjG6k+9l4tIyoPGXxemHZp3OAujT9yFyviYDAhesXpHKMA\n5X7JmxWeb5m+VDsP0rPfda6axTfHiUVyxI4CFy0rl8i+dynN2anSu4NuxoTuiZ6G\nCSOOqp4TTGkfUfqMDhKmDx6DeYNXQGzsEqUSBx2i6Wyc4eWUKtlXtjXKOucV/ktU\nIoF8q8lvWQod3DozV1qfnKN/Ugm/Y74BKKjq/jRIx9rSQU5UPmFxArCJh/VMlgQM\n6sSTSr9g2HuzxBTIQPqwfoRoe0G5wqGABW4VWvJDhtQ8j7HuacH0WfAaclGBaNFk\niAWAFuDA/FKszoZKOgcLphbtFSZ1j9roaev5Hi0U2ZZvgCrD+aW4Q2TzdU469Ihm\nwuKfuN1IxTCBou6kbhn26XPWcq1ROPQ84lQhJJyJkS/MPqtZHIw=\n=DiV8\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/115e117b83dd73f3f4fa29124e3fd35aef432ef8",
          "sha": "115e117b83dd73f3f4fa29124e3fd35aef432ef8",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/115e117b83dd73f3f4fa29124e3fd35aef432ef8"
        }
      ],
      "message": "test: Cover getprivatebroadcastinfo in p2p_private_broadcast",
      "committer": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2026-02-10T14:54:08Z"
      },
      "author": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2026-01-17T23:33:10Z"
      },
      "sha": "a10e5a176e0e84ec57f8d68bae5da0ebfd0c4316"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDA0M2Q5Y2RlNGRjMzM5ZTQyOWJhZjk5NzU2ZjZjMmEwZDA4MTAyYWI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/043d9cde4dc339e429baf99756f6c2a0d08102ab",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/043d9cde4dc339e429baf99756f6c2a0d08102ab",
      "tree": {
        "sha": "489a2318b37cf725a5fad1bdf8f862894f07443a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/489a2318b37cf725a5fad1bdf8f862894f07443a"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 489a2318b37cf725a5fad1bdf8f862894f07443a\nparent a10e5a176e0e84ec57f8d68bae5da0ebfd0c4316\nauthor Andrew Toth <andrewstoth@gmail.com> 1768692808 -0500\ncommitter Andrew Toth <andrewstoth@gmail.com> 1770735248 -0500\n\nrpc: Add abortprivatebroadcast\n\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEISytpz6vNK/yCogaYAB6/Ik4sBgFAmmLRpAACgkQYAB6/Ik4\nsBjfQg//ehrz85CMOVOHaMzJ+MYekR9dI3N/XRVfpqEgnKZwckCtLI0lh6KqH2Ds\nIl8AFXx702wNj2zyWV3OS4sXZQGYLc3QJ785O4XqEawRc0PMBfvNeywvdetJ4i56\n9+oLw61Zrj9kj8BS4NsS1uCnRfiNAFiCpKmBmQZzgbo6HX6K9OGD6HWTkwKRty4h\nrRoTlfz5K8H59yFfQu4knDM8j+kyvPHF3Or6DIomRqFGHSsFtExXsQ2Dls5RRBDq\nFhWdlYqnTCZnEMC7nQBzDCtVxfJlthbXqGrPZEL3JxQfbT+P9ymGAIGX3tfKyRgQ\nNaP1/6/0aD7QLt3SsWspRjI0SUGcw4ISQA6ze2DiBbxumaO27reZGfx+B861ac9A\nBRDiidZIo4/AJ4SiH57Ks4HSEC8tx5MnJ2pKNkwevITestq+hqh+WzNlOEk9AqgL\nJ2ZGxejat79ZDAZtblYYY0rV5EunWDjw7UrHv+UghiyKHE/ww6lS5joLiHE5eoEJ\nxBw0zMd8B7SX96FWD+dowFipNpdX/MCQdFdy961IdGwFj0k5T6FNdmsvFqGGx6Te\nz4r/oyKg2B0WwfE+M3lB1oqLGtkGUJPXJuUsF8G8Oas0cCtvmVPF5GgAXIGncDSB\ntzpk5ENdPNLhGLDB4zJsC2AmwpzrU69WrgWDd3di9IaHIEOS0YQ=\n=nx2y\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a10e5a176e0e84ec57f8d68bae5da0ebfd0c4316",
          "sha": "a10e5a176e0e84ec57f8d68bae5da0ebfd0c4316",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a10e5a176e0e84ec57f8d68bae5da0ebfd0c4316"
        }
      ],
      "message": "rpc: Add abortprivatebroadcast",
      "committer": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2026-02-10T14:54:08Z"
      },
      "author": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2026-01-17T23:33:28Z"
      },
      "sha": "043d9cde4dc339e429baf99756f6c2a0d08102ab"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQyZjhhMTBkNWEzMDdiY2FiYWNmN2ZlNTJmNjhjMTZhZTQ0NTU1MzM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/42f8a10d5a307bcabacf7fe52f68c16ae4455533",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/42f8a10d5a307bcabacf7fe52f68c16ae4455533",
      "tree": {
        "sha": "dfbe4f243c0c2256797a7899fcb68610b88bb362",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/dfbe4f243c0c2256797a7899fcb68610b88bb362"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree dfbe4f243c0c2256797a7899fcb68610b88bb362\nparent 043d9cde4dc339e429baf99756f6c2a0d08102ab\nauthor Andrew Toth <andrewstoth@gmail.com> 1768692822 -0500\ncommitter Andrew Toth <andrewstoth@gmail.com> 1770735248 -0500\n\ntest: Cover abortprivatebroadcast in p2p_private_broadcast\n\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEISytpz6vNK/yCogaYAB6/Ik4sBgFAmmLRpAACgkQYAB6/Ik4\nsBiW2hAAie5v/XhawVK4gTKa9gFl5kdB8xK8L9kDKtcf3zBAROP6sUgQkWLs66Gu\nFYCm68etyuxAFu5s/SAgSaivzmwyj+Ra0u6wrrnU+y6XXbc9xu1EFKOGkFDaB8x2\nmdqqUqso9N4QOCeqRmFQW+r/mxJxzaVboVlA1K7w19B1g21DDi3pL0d9A5Oyy3+C\noH+7G53/aO2GAXxIsHO4T2QKcCSC5DjDEFKUyvO9xkt6oSjMgjlTjN3HCW3Iyo+1\nscE1CzaMu4bsWJzJVUQsIuHw4pl+1dKJYLawVsaWHCaf0O5SBInPIj+ducHy09yW\ntIcr50TtL5uxYXLb941NDX38NsZA6g974D2q8omINF7CQf8UQy7gbErNZ8pA4utf\nskt/EiIleQuNhYY5kuM8yYtwgWsltEI0QdMwC45nQfMzavKNWd1bQ20OFH/88NVE\naeZR5DJQIZaVRox29RgJBnPWfvcnGPUxd6u7ec4XSLTNR/wXRjub+HGGhGy9s08S\nc+LRrLFwL473gaYwossR9XFrHZKXHAHX8aCeWi576f/YDvPAwXwCs7PJTd7nMNW7\nrXCn+yEUJFqUjHEGWteKNqeNBTapYGPIhwCB8U1TACmVIq+nib+vdlQhA+TTXsoQ\njRXFeVS0JjwahJoIwkOjivbt4FQKvj5D6HtGlP4k3UHQ5+VJfYw=\n=71uZ\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/043d9cde4dc339e429baf99756f6c2a0d08102ab",
          "sha": "043d9cde4dc339e429baf99756f6c2a0d08102ab",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/043d9cde4dc339e429baf99756f6c2a0d08102ab"
        }
      ],
      "message": "test: Cover abortprivatebroadcast in p2p_private_broadcast",
      "committer": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2026-02-10T14:54:08Z"
      },
      "author": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2026-01-17T23:33:42Z"
      },
      "sha": "42f8a10d5a307bcabacf7fe52f68c16ae4455533"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGEwMzRmYmQ3ZDkwN2RhOTk3MjZjMjBlNmJmMDkyMzlkMmRmZDcxMWI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a034fbd7d907da99726c20e6bf09239d2dfd711b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a034fbd7d907da99726c20e6bf09239d2dfd711b",
      "tree": {
        "sha": "b16600411c5dc4c85367cd1fefc7f3143b8b3d6a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b16600411c5dc4c85367cd1fefc7f3143b8b3d6a"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree b16600411c5dc4c85367cd1fefc7f3143b8b3d6a\nparent 42f8a10d5a307bcabacf7fe52f68c16ae4455533\nauthor Andrew Toth <andrewstoth@gmail.com> 1768692829 -0500\ncommitter Andrew Toth <andrewstoth@gmail.com> 1770735248 -0500\n\ndoc: Mention private broadcast RPCs in release notes\n\n\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEISytpz6vNK/yCogaYAB6/Ik4sBgFAmmLRpAACgkQYAB6/Ik4\nsBgzqw//dBbITIW4uce5Nj98O9FjA/G5eCyFwoeV8wbGFlLEKW7pLNb/vN0zghYC\nvxDB0sNle7wKwgi1VmuiZthOzwPEUTXL/m6XZVQf7+Z5K9Fsd47tb/tKIX6bNkl4\nt7w7oNW8jWI7PfdbUZSXn/vKTD8C1mtyzLktipKrYIi62XuoOmgPYkU0SSiFjspS\nq/qlubbqIcq1z2N7WfBmcwqklmHEIlbH/mapIspTQJoGwJ+AVxwuucrPcJDSqLkY\n4gjM9QTrgtsdb+aQsnn24zxqFirHj+3bMlcmYNqafXm+XMj1Tm14ChvXAPzI3WD8\nwi7s2Og42N7nF8nyL2eiLi5UfElJtDQKy+mHoIZBMEszGATDYRxb80wHqxBS1vTk\npw1UYhkfK95O9OLY54sFk7o7huOPDNf6/yxgzc4AUsWSveCq+w/jcNG2paY0qvSo\nOHWKmf1+tdYY7Jdcpva7Og6wON6ZSGwoYBtnWX+eLZEMEgGLk8KfU4us6aUbW1dq\n/jCEKmub4AOMQIc7RaDRgrAKBsf65kXvPSyoFJ27QKwxgF36AtBT/v1Mgs66UQxX\nCu+xbTcA/dZuw1su25IkSQfhURniG3aRbF6MK5UCmx//5XekXkD6DNPx3x3n4oUZ\nsnSgcfi8s1/PZHaTz1j/V9rg6AO6kiZDKLxwpq9U9iUi+UUWDSo=\n=PxwO\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/42f8a10d5a307bcabacf7fe52f68c16ae4455533",
          "sha": "42f8a10d5a307bcabacf7fe52f68c16ae4455533",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/42f8a10d5a307bcabacf7fe52f68c16ae4455533"
        }
      ],
      "message": "doc: Mention private broadcast RPCs in release notes",
      "committer": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2026-02-10T14:54:08Z"
      },
      "author": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2026-01-17T23:33:49Z"
      },
      "sha": "a034fbd7d907da99726c20e6bf09239d2dfd711b"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 22677076325,
      "node_id": "HRFPE_lADOABII587kDqTMzwAAAAVHqLll",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22677076325",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": "a034fbd7d907da99726c20e6bf09239d2dfd711b",
      "commit_url": "https://api.github.com/repos/andrewtoth/bitcoin/commits/a034fbd7d907da99726c20e6bf09239d2dfd711b",
      "created_at": "2026-02-10T15:02:30Z"
    },
    {
      "event": "commented",
      "id": 3878344431,
      "node_id": "IC_kwDOABII587nKtbv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3878344431",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-10T15:09:10Z",
      "updated_at": "2026-02-10T15:09:51Z",
      "author_association": "CONTRIBUTOR",
      "body": "@l0rinc thanks for that feedback. Indeed, the changes made to persist finished private broadcast transactions in memory are difficult to review. I do feel that `abortprivatebroadcast` is an important RPC to have in the upcoming release though. There can be many cases where a transaction might never return to a node's mempool, and right now the only way to stop opening connections in these cases is to restart the node.\r\n\r\nI've reverted the changes up to 61078dab77c86a26b38afc3b1bb2ab97b8263fb0, which had 2 ACKs from @danielabrozzoni and @vasild. I've rebased due to #34267, and addressed comments https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2727206008 and https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2727748350. I think this makes it much easier to review, and we can figure out persisting finished transactions in memory or on disk in a follow-up after v31.\r\n\r\n`git range-diff 22bde74d1d8f861323eabb8dc60401bbf1226544..61078dab77c86a26b38afc3b1bb2ab97b8263fb0  64294c89094d5ab10d87236729cc267fde0a24ca..a034fbd7d907da99726c20e6bf09239d2dfd711b`",
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#issuecomment-3878344431",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34329"
    },
    {
      "event": "mentioned",
      "id": 22677291841,
      "node_id": "MEE_lADOABII587kDqTMzwAAAAVHrANB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22677291841",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-10T15:09:12Z"
    },
    {
      "event": "subscribed",
      "id": 22677291896,
      "node_id": "SE_lADOABII587kDqTMzwAAAAVHrAN4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22677291896",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-10T15:09:12Z"
    },
    {
      "event": "mentioned",
      "id": 22677291950,
      "node_id": "MEE_lADOABII587kDqTMzwAAAAVHrAOu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22677291950",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-10T15:09:12Z"
    },
    {
      "event": "subscribed",
      "id": 22677291989,
      "node_id": "SE_lADOABII587kDqTMzwAAAAVHrAPV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22677291989",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-10T15:09:12Z"
    },
    {
      "event": "mentioned",
      "id": 22677292046,
      "node_id": "MEE_lADOABII587kDqTMzwAAAAVHrAQO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22677292046",
      "actor": {
        "login": "danielabrozzoni",
        "id": 25042473,
        "node_id": "MDQ6VXNlcjI1MDQyNDcz",
        "avatar_url": "https://avatars.githubusercontent.com/u/25042473?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/danielabrozzoni",
        "html_url": "https://github.com/danielabrozzoni",
        "followers_url": "https://api.github.com/users/danielabrozzoni/followers",
        "following_url": "https://api.github.com/users/danielabrozzoni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/danielabrozzoni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/danielabrozzoni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/danielabrozzoni/subscriptions",
        "organizations_url": "https://api.github.com/users/danielabrozzoni/orgs",
        "repos_url": "https://api.github.com/users/danielabrozzoni/repos",
        "events_url": "https://api.github.com/users/danielabrozzoni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/danielabrozzoni/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-10T15:09:12Z"
    },
    {
      "event": "subscribed",
      "id": 22677292091,
      "node_id": "SE_lADOABII587kDqTMzwAAAAVHrAQ7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22677292091",
      "actor": {
        "login": "danielabrozzoni",
        "id": 25042473,
        "node_id": "MDQ6VXNlcjI1MDQyNDcz",
        "avatar_url": "https://avatars.githubusercontent.com/u/25042473?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/danielabrozzoni",
        "html_url": "https://github.com/danielabrozzoni",
        "followers_url": "https://api.github.com/users/danielabrozzoni/followers",
        "following_url": "https://api.github.com/users/danielabrozzoni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/danielabrozzoni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/danielabrozzoni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/danielabrozzoni/subscriptions",
        "organizations_url": "https://api.github.com/users/danielabrozzoni/orgs",
        "repos_url": "https://api.github.com/users/danielabrozzoni/repos",
        "events_url": "https://api.github.com/users/danielabrozzoni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/danielabrozzoni/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-10T15:09:12Z"
    },
    {
      "event": "unlabeled",
      "id": 22679410610,
      "node_id": "UNLE_lADOABII587kDqTMzwAAAAVHzFey",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22679410610",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-10T16:20:43Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 3881370861,
      "node_id": "IC_kwDOABII587nWQTt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3881370861",
      "actor": {
        "login": "nervana21",
        "id": 205626986,
        "node_id": "U_kgDODEGeag",
        "avatar_url": "https://avatars.githubusercontent.com/u/205626986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nervana21",
        "html_url": "https://github.com/nervana21",
        "followers_url": "https://api.github.com/users/nervana21/followers",
        "following_url": "https://api.github.com/users/nervana21/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nervana21/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nervana21/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nervana21/subscriptions",
        "organizations_url": "https://api.github.com/users/nervana21/orgs",
        "repos_url": "https://api.github.com/users/nervana21/repos",
        "events_url": "https://api.github.com/users/nervana21/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nervana21/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-11T00:03:59Z",
      "updated_at": "2026-02-11T00:03:59Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "nervana21",
        "id": 205626986,
        "node_id": "U_kgDODEGeag",
        "avatar_url": "https://avatars.githubusercontent.com/u/205626986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nervana21",
        "html_url": "https://github.com/nervana21",
        "followers_url": "https://api.github.com/users/nervana21/followers",
        "following_url": "https://api.github.com/users/nervana21/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nervana21/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nervana21/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nervana21/subscriptions",
        "organizations_url": "https://api.github.com/users/nervana21/orgs",
        "repos_url": "https://api.github.com/users/nervana21/repos",
        "events_url": "https://api.github.com/users/nervana21/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nervana21/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#issuecomment-3881370861",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/34329"
    },
    {
      "event": "subscribed",
      "id": 22698287633,
      "node_id": "SE_lADOABII587kDqTMzwAAAAVI7GIR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/22698287633",
      "actor": {
        "login": "MarnixCroes",
        "id": 93143998,
        "node_id": "U_kgDOBY1Dvg",
        "avatar_url": "https://avatars.githubusercontent.com/u/93143998?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarnixCroes",
        "html_url": "https://github.com/MarnixCroes",
        "followers_url": "https://api.github.com/users/MarnixCroes/followers",
        "following_url": "https://api.github.com/users/MarnixCroes/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarnixCroes/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarnixCroes/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarnixCroes/subscriptions",
        "organizations_url": "https://api.github.com/users/MarnixCroes/orgs",
        "repos_url": "https://api.github.com/users/MarnixCroes/repos",
        "events_url": "https://api.github.com/users/MarnixCroes/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarnixCroes/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2026-02-11T09:36:27Z"
    },
    {
      "event": "reviewed",
      "id": 3784002042,
      "node_id": "PRR_kwDOABII587hi0n6",
      "url": null,
      "actor": null,
      "commit_id": "a034fbd7d907da99726c20e6bf09239d2dfd711b",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2026-02-11T14:03:05Z",
      "author_association": "CONTRIBUTOR",
      "body": "I went over the change, my biggest concern is the race in remove and the verbose tests and some minor commit churn - left examples for each suggestion to speed up the process.\n\nConcept ACK",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#pullrequestreview-3784002042",
      "submitted_at": "2026-02-11T14:03:05Z",
      "state": "CHANGES_REQUESTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2711651368",
      "pull_request_review_id": 3686130506,
      "id": 2711651368,
      "node_id": "PRRC_kwDOABII586hoIQo",
      "diff_hunk": "@@ -78,6 +119,23 @@ BOOST_AUTO_TEST_CASE(basic)\n     BOOST_CHECK(pb.DidNodeConfirmReception(recipient1));\n     BOOST_CHECK(!pb.DidNodeConfirmReception(recipient2));\n \n+    {\n+        const auto infos{pb.GetBroadcastInfo()};\n+        BOOST_CHECK_EQUAL(infos.size(), 2);\n+\n+        const auto it_confirmed{std::ranges::find_if(infos, [&](const auto& info) { return info.tx->GetWitnessHash() == tx_for_recipient1->GetWitnessHash(); })};\n+        const auto it_unconfirmed{std::ranges::find_if(infos, [&](const auto& info) { return info.tx->GetWitnessHash() == tx_for_recipient2->GetWitnessHash(); })};\n+        BOOST_REQUIRE(it_confirmed != infos.end());\n+        BOOST_REQUIRE(it_unconfirmed != infos.end());\n+        const auto& confirmed_tx{*it_confirmed};\n+        const auto& unconfirmed_tx{*it_unconfirmed};\n+\n+        BOOST_CHECK_EQUAL(confirmed_tx.num_peer_reception_acks, 1);",
      "path": "src/test/private_broadcast_tests.cpp",
      "position": 1,
      "original_position": 84,
      "commit_id": "ac6c2bd06485ff6e7ed538a234f20491d3cf47cb",
      "original_commit_id": "ac6c2bd06485ff6e7ed538a234f20491d3cf47cb",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I picked \"confirmed\" for `PrivateBroadcast::SendStatus::confirmed`, but looking at it now...\n\n\"Confirmed\" overlaps with an already established term, meaning \"included in a block\". So, maybe better to use any other word, but not \"confirmed\".\n\n\"received\"?\n\"reception confirmed\"?\n\"broadcast\"?\n\nOr at least keep this in mind ;-) Feel free to ignore.",
      "created_at": "2026-01-21T09:15:45Z",
      "updated_at": "2026-01-21T10:13:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2711651368",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2711651368"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 133,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2711675234",
      "pull_request_review_id": 3686130506,
      "id": 2711675234,
      "node_id": "PRRC_kwDOABII586hoOFi",
      "diff_hunk": "@@ -104,6 +104,31 @@ std::vector<CTransactionRef> PrivateBroadcast::GetStale() const\n     return stale;\n }\n \n+std::vector<PrivateBroadcast::TxBroadcastInfo> PrivateBroadcast::GetBroadcastInfo() const\n+    EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+{\n+    LOCK(m_mutex);\n+    std::vector<TxBroadcastInfo> entries;\n+    entries.reserve(m_transactions.size());\n+\n+    for (const auto& [tx, sent_to] : m_transactions) {\n+        TxBroadcastInfo info;\n+        info.tx = tx;\n+        const Priority p{DerivePriority(sent_to)};\n+        info.num_sent = p.num_picked;\n+        if (p.num_picked > 0) info.last_sent = p.last_picked;\n+        info.num_peer_reception_acks = p.num_confirmed;\n+        if (p.num_confirmed > 0) info.last_peer_reception_ack = p.last_confirmed;\n+        entries.push_back(std::move(info));\n+    }\n+\n+    // Ensure stable output order (m_transactions is an unordered_map).\n+    std::sort(entries.begin(), entries.end(), [](const TxBroadcastInfo& a, const TxBroadcastInfo& b) {\n+        return std::tie(a.tx->GetHash(), a.tx->GetWitnessHash()) < std::tie(b.tx->GetHash(), b.tx->GetWitnessHash());\n+    });",
      "path": "src/private_broadcast.cpp",
      "position": 1,
      "original_position": 25,
      "commit_id": "ac6c2bd06485ff6e7ed538a234f20491d3cf47cb",
      "original_commit_id": "ac6c2bd06485ff6e7ed538a234f20491d3cf47cb",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Sorting seems unnecessary. It might be difficult to drop it later if users get used to it and start depending on it.",
      "created_at": "2026-01-21T09:22:16Z",
      "updated_at": "2026-01-21T10:13:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2711675234",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2711675234"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": 125,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 128,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2711749027",
      "pull_request_review_id": 3686130506,
      "id": 2711749027,
      "node_id": "PRRC_kwDOABII586hogGj",
      "diff_hunk": "@@ -30,6 +30,14 @@\n class PrivateBroadcast\n {\n public:\n+    struct TxBroadcastInfo {\n+        CTransactionRef tx;\n+        size_t num_sent{0};\n+        std::optional<NodeClock::time_point> last_sent{};\n+        size_t num_peer_reception_acks{0};\n+        std::optional<NodeClock::time_point> last_peer_reception_ack{};\n+    };",
      "path": "src/private_broadcast.h",
      "position": 13,
      "original_position": 10,
      "commit_id": "a034fbd7d907da99726c20e6bf09239d2dfd711b",
      "original_commit_id": "ac6c2bd06485ff6e7ed538a234f20491d3cf47cb",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "It would be useful to show also the addresses the transaction was sent to and some additional information. Like so:\r\n\r\n```json\r\n[\r\n    {\r\n        \"txid\": \"tx1\",\r\n        \"sent\": [\r\n            {\r\n                \"address\": \"aaa.onion:8333\",\r\n                \"begin\": \"2026.01...\", // time when picked for sending\r\n                \"end\": \"2026.01...\" // time when reception was confirmed by the peer\r\n            },\r\n            {\r\n                \"address\": \"bbb.onion:8333\",\r\n                \"begin\": \"2026.01...\",\r\n                \"end\": \"2026.01...\"\r\n            }\r\n        ],\r\n        \"received\": {\r\n            \"address\": \"1.2.3.4:8333\", // received back from the network from this peer\r\n            \"when\": \"2026.01...\" // at this time\r\n        }\r\n    }   \r\n]\r\n```\r\n\r\nThis would mean to not immediately drop the statistics when we receive the transaction back from the network, but keep the stats for some time, in order to be able to show them to the user. Maybe keep this info for e.g. 24 hours or better, keep the last N entries.\r\n\r\nPS as a side effect, this would make it possible to see the round-trip time through the network.",
      "created_at": "2026-01-21T09:41:20Z",
      "updated_at": "2026-01-21T14:36:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2711749027",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2711749027"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": 39,
      "original_start_line": 33,
      "start_side": "RIGHT",
      "line": 42,
      "original_line": 42,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2711806505",
      "pull_request_review_id": 3686130506,
      "id": 2711806505,
      "node_id": "PRRC_kwDOABII586houIp",
      "diff_hunk": "@@ -395,8 +421,8 @@ def run_test(self):\n         with tx_originator.busy_wait_for_debug_log(expected_msgs=[rebroadcast_msg.encode()]):\n             tx_originator.setmocktime(int(time.time()) + delta)\n             tx_originator.mockscheduler(delta)\n-        self.check_broadcasts(\"Rebroadcast\", txs[1], 1, skip_destinations)\n         tx_originator.setmocktime(0) # Let the clock tick again (it will go backwards due to this).\n+        self.check_broadcasts(\"Rebroadcast\", txs[1], 1, skip_destinations)",
      "path": "test/functional/p2p_private_broadcast.py",
      "position": 1,
      "original_position": 46,
      "commit_id": "ac6c2bd06485ff6e7ed538a234f20491d3cf47cb",
      "original_commit_id": "ac6c2bd06485ff6e7ed538a234f20491d3cf47cb",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Why reorder this?",
      "created_at": "2026-01-21T09:55:04Z",
      "updated_at": "2026-01-21T10:13:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2711806505",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2711806505"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": 397,
      "original_start_line": 398,
      "start_side": "LEFT",
      "line": 423,
      "original_line": 423,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2711838591",
      "pull_request_review_id": 3686130506,
      "id": 2711838591,
      "node_id": "PRRC_kwDOABII586ho19_",
      "diff_hunk": "@@ -118,6 +120,12 @@ class PeerManager : public CValidationInterface, public NetEventsInterface\n     /** Get peer manager info. */\n     virtual PeerManagerInfo GetInfo() const = 0;\n \n+    /** Get info about transactions currently being privately broadcast. */\n+    virtual std::vector<PrivateBroadcast::TxBroadcastInfo> GetPrivateBroadcastInfo() const = 0;\n+\n+    /** Abort private broadcast attempts for a transaction (identified by txid or wtxid). */\n+    virtual std::vector<CTransactionRef> AbortPrivateBroadcast(const uint256& id) = 0;",
      "path": "src/net_processing.h",
      "position": 1,
      "original_position": 19,
      "commit_id": "ac6c2bd06485ff6e7ed538a234f20491d3cf47cb",
      "original_commit_id": "ac6c2bd06485ff6e7ed538a234f20491d3cf47cb",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Would be good to document the return value. It may not be immediately obvious why it is a vector.",
      "created_at": "2026-01-21T10:01:34Z",
      "updated_at": "2026-01-21T10:13:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2711838591",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2711838591"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": 126,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 127,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2711847123",
      "pull_request_review_id": 3686130506,
      "id": 2711847123,
      "node_id": "PRRC_kwDOABII586ho4DT",
      "diff_hunk": "@@ -137,6 +137,118 @@ static RPCHelpMan sendrawtransaction()\n     };\n }\n \n+static RPCHelpMan getprivatebroadcastinfo()\n+{\n+    return RPCHelpMan{\n+        \"getprivatebroadcastinfo\",\n+        \"Returns information about transactions that are currently being privately broadcast.\\n\",\n+        {},\n+        RPCResult{\n+            RPCResult::Type::OBJ, \"\", \"\",\n+            {\n+                {RPCResult::Type::ARR, \"transactions\", \"\",\n+                    {\n+                        {RPCResult::Type::OBJ, \"\", \"\",\n+                            {\n+                                {RPCResult::Type::STR_HEX, \"txid\", \"The transaction hash in hex\"},\n+                                {RPCResult::Type::STR_HEX, \"wtxid\", \"The transaction witness hash in hex\"},\n+                                {RPCResult::Type::STR_HEX, \"hex\", \"The serialized, hex-encoded transaction data\"},\n+                                {RPCResult::Type::NUM, \"sent_count\", \"Number of times this transaction has been sent to peers via private broadcast\"},\n+                                {RPCResult::Type::NUM_TIME, \"last_sent\", /*optional=*/true, \"The last time this transaction was sent to peers via private broadcast (seconds since epoch)\"},\n+                                {RPCResult::Type::NUM, \"peer_reception_ack_count\", \"Number of times peers acknowledged reception of this transaction (via private broadcast PING/PONG)\"},\n+                                {RPCResult::Type::NUM_TIME, \"last_peer_reception_ack\", /*optional=*/true, \"The last time a peer acknowledged reception of this transaction (seconds since epoch)\"},\n+                            }},\n+                    }},\n+            }},\n+        RPCExamples{\n+            HelpExampleCli(\"getprivatebroadcastinfo\", \"\")\n+            + HelpExampleRpc(\"getprivatebroadcastinfo\", \"\")\n+        },\n+        [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n+        {\n+            const NodeContext& node{EnsureAnyNodeContext(request.context)};\n+            const PeerManager& peerman{EnsurePeerman(node)};\n+            const auto txs{peerman.GetPrivateBroadcastInfo()};\n+\n+            UniValue transactions(UniValue::VARR);\n+            for (const auto& tx_info : txs) {\n+                UniValue o(UniValue::VOBJ);\n+                o.pushKV(\"txid\", tx_info.tx->GetHash().ToString());\n+                o.pushKV(\"wtxid\", tx_info.tx->GetWitnessHash().ToString());\n+                o.pushKV(\"hex\", EncodeHexTx(*tx_info.tx));\n+                o.pushKV(\"sent_count\", tx_info.num_sent);\n+                if (tx_info.last_sent.has_value()) {\n+                    o.pushKV(\"last_sent\", TicksSinceEpoch<std::chrono::seconds>(*tx_info.last_sent));\n+                }\n+                o.pushKV(\"peer_reception_ack_count\", tx_info.num_peer_reception_acks);\n+                if (tx_info.last_peer_reception_ack.has_value()) {\n+                    o.pushKV(\"last_peer_reception_ack\", TicksSinceEpoch<std::chrono::seconds>(*tx_info.last_peer_reception_ack));\n+                }\n+                transactions.push_back(std::move(o));\n+            }\n+\n+            UniValue ret(UniValue::VOBJ);\n+            ret.pushKV(\"transactions\", std::move(transactions));\n+            return ret;\n+        },\n+    };\n+}\n+\n+static RPCHelpMan abortprivatebroadcast()\n+{\n+    return RPCHelpMan{\n+        \"abortprivatebroadcast\",\n+        \"Abort private broadcast attempts for a transaction currently being privately broadcast.\\n\"\n+        \"The transaction will be removed from the private broadcast queue.\\n\",\n+        {\n+            {\"id\", RPCArg::Type::STR_HEX, RPCArg::Optional::NO, \"A transaction identifier to abort. It will be matched against both txid and wtxid for all transactions in the private broadcast queue.\\n\"\n+                                                                \"If the provided id matches a txid that corresponds to multiple transactions with different wtxids, multiple transactions will be removed and returned.\"},\n+        },\n+        RPCResult{\n+            RPCResult::Type::OBJ, \"\", \"\",\n+            {\n+                {RPCResult::Type::ARR, \"removed_transactions\", \"Transactions removed from the private broadcast queue\",\n+                    {\n+                        {RPCResult::Type::OBJ, \"\", \"\",\n+                            {\n+                                {RPCResult::Type::STR_HEX, \"txid\", \"The transaction hash in hex\"},\n+                                {RPCResult::Type::STR_HEX, \"wtxid\", \"The transaction witness hash in hex\"},\n+                                {RPCResult::Type::STR_HEX, \"hex\", \"The serialized, hex-encoded transaction data\"},\n+                            }},\n+                    }},\n+            }\n+        },\n+        RPCExamples{\n+            HelpExampleCli(\"abortprivatebroadcast\", \"\\\"id\\\"\")\n+            + HelpExampleRpc(\"abortprivatebroadcast\", \"\\\"id\\\"\")\n+        },\n+        [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n+        {\n+            const uint256 id{ParseHashV(self.Arg<UniValue>(\"id\"), \"id\")};\n+\n+            const NodeContext& node{EnsureAnyNodeContext(request.context)};\n+            PeerManager& peerman{EnsurePeerman(node)};\n+\n+            const auto removed_txs{peerman.AbortPrivateBroadcast(id)};\n+            if (removed_txs.empty()) {\n+                throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Transaction not in private broadcast queue\");",
      "path": "src/rpc/mempool.cpp",
      "position": 1,
      "original_position": 98,
      "commit_id": "ac6c2bd06485ff6e7ed538a234f20491d3cf47cb",
      "original_commit_id": "ac6c2bd06485ff6e7ed538a234f20491d3cf47cb",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Could point the user here to go look at the `getprivatebroadcastinfo` RPC to see what is in the queue.",
      "created_at": "2026-01-21T10:03:50Z",
      "updated_at": "2026-01-21T10:13:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2711847123",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2711847123"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 234,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2724369369",
      "pull_request_review_id": 3702081504,
      "id": 2724369369,
      "node_id": "PRRC_kwDOABII586iYpPZ",
      "diff_hunk": "@@ -30,6 +30,14 @@\n class PrivateBroadcast\n {\n public:\n+    struct TxBroadcastInfo {\n+        CTransactionRef tx;\n+        size_t num_sent{0};\n+        std::optional<NodeClock::time_point> last_sent{};\n+        size_t num_peer_reception_acks{0};\n+        std::optional<NodeClock::time_point> last_peer_reception_ack{};\n+    };",
      "path": "src/private_broadcast.h",
      "position": 13,
      "original_position": 10,
      "commit_id": "a034fbd7d907da99726c20e6bf09239d2dfd711b",
      "original_commit_id": "ac6c2bd06485ff6e7ed538a234f20491d3cf47cb",
      "in_reply_to_id": 2711749027,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Yes, this information would be interesting to provide. I will add the extra sent information.\r\n\r\n> Maybe keep this info for e.g. 24 hours or better, keep the last N entries.\r\n\r\nThis raises an interesting point about how we should store this information. I'm curious about your thoughts on https://github.com/bitcoin/bitcoin/pull/34322 as well @vasild.\r\n\r\nPerhaps we introduce a new option `privatebroadcast_persist` or something, that when set keeps track of all private broadcasts indefinitely. This would let us show the `received` information above, but if turned off it would alleviate the concerns raised in #34322.",
      "created_at": "2026-01-24T17:02:48Z",
      "updated_at": "2026-01-24T17:02:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2724369369",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2724369369"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": 39,
      "original_start_line": 33,
      "start_side": "RIGHT",
      "line": 42,
      "original_line": 42,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2724491354",
      "pull_request_review_id": 3702355069,
      "id": 2724491354,
      "node_id": "PRRC_kwDOABII586iZHBa",
      "diff_hunk": "@@ -395,8 +421,8 @@ def run_test(self):\n         with tx_originator.busy_wait_for_debug_log(expected_msgs=[rebroadcast_msg.encode()]):\n             tx_originator.setmocktime(int(time.time()) + delta)\n             tx_originator.mockscheduler(delta)\n-        self.check_broadcasts(\"Rebroadcast\", txs[1], 1, skip_destinations)\n         tx_originator.setmocktime(0) # Let the clock tick again (it will go backwards due to this).\n+        self.check_broadcasts(\"Rebroadcast\", txs[1], 1, skip_destinations)",
      "path": "test/functional/p2p_private_broadcast.py",
      "position": 1,
      "original_position": 46,
      "commit_id": "ac6c2bd06485ff6e7ed538a234f20491d3cf47cb",
      "original_commit_id": "ac6c2bd06485ff6e7ed538a234f20491d3cf47cb",
      "in_reply_to_id": 2711806505,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "This was causing a consistent CI failure on `macOS native` in this PR. I'm not sure why it isn't reproducing in other PRs or other CI jobs.\r\nThe mocktime being advanced causes the node to timeout a peer that was opened since it has been advanced more than 180 seconds in check_broadcasts.\r\nThis assertion fails since `tx` and `ping` are not received.\r\n```python\r\n            assert_equal(peer.message_count, {\r\n                \"version\": 1,\r\n                \"verack\": 1,\r\n                \"inv\": 1,\r\n                \"tx\": 1,\r\n                \"ping\": 1\r\n            })\r\n```\r\n\r\nI don't know exactly why a connection is open before we reach there though. Could possibly be that the job is slow enough to cause a real 2-3 minute rebroadcast before we set mocktime. I'm still investigating, but if you have any insight please let me know.",
      "created_at": "2026-01-24T18:49:55Z",
      "updated_at": "2026-01-24T18:49:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2724491354",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2724491354"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": 397,
      "original_start_line": 398,
      "start_side": "LEFT",
      "line": 423,
      "original_line": 423,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2725806514",
      "pull_request_review_id": 3704159210,
      "id": 2725806514,
      "node_id": "PRRC_kwDOABII586ieIGy",
      "diff_hunk": "@@ -78,6 +119,23 @@ BOOST_AUTO_TEST_CASE(basic)\n     BOOST_CHECK(pb.DidNodeConfirmReception(recipient1));\n     BOOST_CHECK(!pb.DidNodeConfirmReception(recipient2));\n \n+    {\n+        const auto infos{pb.GetBroadcastInfo()};\n+        BOOST_CHECK_EQUAL(infos.size(), 2);\n+\n+        const auto it_confirmed{std::ranges::find_if(infos, [&](const auto& info) { return info.tx->GetWitnessHash() == tx_for_recipient1->GetWitnessHash(); })};\n+        const auto it_unconfirmed{std::ranges::find_if(infos, [&](const auto& info) { return info.tx->GetWitnessHash() == tx_for_recipient2->GetWitnessHash(); })};\n+        BOOST_REQUIRE(it_confirmed != infos.end());\n+        BOOST_REQUIRE(it_unconfirmed != infos.end());\n+        const auto& confirmed_tx{*it_confirmed};\n+        const auto& unconfirmed_tx{*it_unconfirmed};\n+\n+        BOOST_CHECK_EQUAL(confirmed_tx.num_peer_reception_acks, 1);",
      "path": "src/test/private_broadcast_tests.cpp",
      "position": 1,
      "original_position": 84,
      "commit_id": "ac6c2bd06485ff6e7ed538a234f20491d3cf47cb",
      "original_commit_id": "ac6c2bd06485ff6e7ed538a234f20491d3cf47cb",
      "in_reply_to_id": 2711651368,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Changed to \"received\".",
      "created_at": "2026-01-25T18:30:15Z",
      "updated_at": "2026-01-25T18:30:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2725806514",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2725806514"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 133,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2725806683",
      "pull_request_review_id": 3704159348,
      "id": 2725806683,
      "node_id": "PRRC_kwDOABII586ieIJb",
      "diff_hunk": "@@ -395,8 +421,8 @@ def run_test(self):\n         with tx_originator.busy_wait_for_debug_log(expected_msgs=[rebroadcast_msg.encode()]):\n             tx_originator.setmocktime(int(time.time()) + delta)\n             tx_originator.mockscheduler(delta)\n-        self.check_broadcasts(\"Rebroadcast\", txs[1], 1, skip_destinations)\n         tx_originator.setmocktime(0) # Let the clock tick again (it will go backwards due to this).\n+        self.check_broadcasts(\"Rebroadcast\", txs[1], 1, skip_destinations)",
      "path": "test/functional/p2p_private_broadcast.py",
      "position": 1,
      "original_position": 46,
      "commit_id": "ac6c2bd06485ff6e7ed538a234f20491d3cf47cb",
      "original_commit_id": "ac6c2bd06485ff6e7ed538a234f20491d3cf47cb",
      "in_reply_to_id": 2711806505,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I removed the reorder. Let's see what CI says.",
      "created_at": "2026-01-25T18:30:35Z",
      "updated_at": "2026-01-25T18:30:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2725806683",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2725806683"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": 397,
      "original_start_line": 398,
      "start_side": "LEFT",
      "line": 423,
      "original_line": 423,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2727206008",
      "pull_request_review_id": 3705580456,
      "id": 2727206008,
      "node_id": "PRRC_kwDOABII586ijdx4",
      "diff_hunk": "@@ -80,6 +112,23 @@ BOOST_AUTO_TEST_CASE(basic)\n     BOOST_CHECK(pb.DidNodeConfirmReception(recipient1));\n     BOOST_CHECK(!pb.DidNodeConfirmReception(recipient2));\n \n+    {\n+        const auto infos{pb.GetBroadcastInfo()};\n+        BOOST_CHECK_EQUAL(infos.size(), 2);\n+\n+        const auto it_confirmed{std::ranges::find_if(infos, [&](const auto& info) { return info.tx->GetWitnessHash() == tx_for_recipient1->GetWitnessHash(); })};\n+        const auto it_unconfirmed{std::ranges::find_if(infos, [&](const auto& info) { return info.tx->GetWitnessHash() == tx_for_recipient2->GetWitnessHash(); })};\n+        BOOST_REQUIRE(it_confirmed != infos.end());\n+        BOOST_REQUIRE(it_unconfirmed != infos.end());\n+        const auto& confirmed_tx{*it_confirmed};\n+        const auto& unconfirmed_tx{*it_unconfirmed};\n+\n+        BOOST_CHECK_EQUAL(confirmed_tx.peers.size(), 1);\n+        BOOST_CHECK_EQUAL(unconfirmed_tx.peers.size(), 1);\n+        BOOST_CHECK(confirmed_tx.peers[0].received.has_value());\n+        BOOST_CHECK(!unconfirmed_tx.peers[0].received.has_value());",
      "path": "src/test/private_broadcast_tests.cpp",
      "position": 94,
      "original_position": 78,
      "commit_id": "a034fbd7d907da99726c20e6bf09239d2dfd711b",
      "original_commit_id": "ccf91e48a3076b3d4e3a0b4b7ce0502fa90cd3ba",
      "in_reply_to_id": null,
      "user": {
        "login": "danielabrozzoni",
        "id": 25042473,
        "node_id": "MDQ6VXNlcjI1MDQyNDcz",
        "avatar_url": "https://avatars.githubusercontent.com/u/25042473?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/danielabrozzoni",
        "html_url": "https://github.com/danielabrozzoni",
        "followers_url": "https://api.github.com/users/danielabrozzoni/followers",
        "following_url": "https://api.github.com/users/danielabrozzoni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/danielabrozzoni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/danielabrozzoni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/danielabrozzoni/subscriptions",
        "organizations_url": "https://api.github.com/users/danielabrozzoni/orgs",
        "repos_url": "https://api.github.com/users/danielabrozzoni/repos",
        "events_url": "https://api.github.com/users/danielabrozzoni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/danielabrozzoni/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "nit: we could also check that the node addresses match. I took a stab at adding this:\r\n\r\n```diff\r\ndiff --git a/src/test/private_broadcast_tests.cpp b/src/test/private_broadcast_tests.cpp\r\nindex 4dbc768d74..9a86137c02 100644\r\n--- a/src/test/private_broadcast_tests.cpp\r\n+++ b/src/test/private_broadcast_tests.cpp\r\n@@ -30,7 +30,9 @@ BOOST_AUTO_TEST_CASE(basic)\r\n \r\n     PrivateBroadcast pb;\r\n     const NodeId recipient1{1};\r\n-    const CService addr1{};\r\n+    in_addr ipv4Addr;\r\n+    ipv4Addr.s_addr = 0xa0b0c001;\r\n+    const CService addr1(ipv4Addr, 1111);\r\n \r\n     // No transactions initially.\r\n     BOOST_CHECK(!pb.PickTxForSend(/*will_send_to_nodeid=*/recipient1, /*will_send_to_address=*/addr1).has_value());\r\n@@ -71,7 +73,7 @@ BOOST_AUTO_TEST_CASE(basic)\r\n \r\n     // A second pick must return the other transaction.\r\n     const NodeId recipient2{2};\r\n-    const CService addr2{};\r\n+    const CService addr2(ipv4Addr, 2222);\r\n     const auto tx_for_recipient2{pb.PickTxForSend(/*will_send_to_nodeid=*/recipient2, /*will_send_to_address=*/addr2).value()};\r\n     BOOST_CHECK(tx_for_recipient2 == tx1 || tx_for_recipient2 == tx2);\r\n     BOOST_CHECK_NE(tx_for_recipient1, tx_for_recipient2);\r\n@@ -124,7 +126,9 @@ BOOST_AUTO_TEST_CASE(basic)\r\n         const auto& unconfirmed_tx{*it_unconfirmed};\r\n \r\n         BOOST_CHECK_EQUAL(confirmed_tx.peers.size(), 1);\r\n+        BOOST_CHECK_EQUAL(confirmed_tx.peers[0].address.ToStringAddrPort(), addr1.ToStringAddrPort());\r\n         BOOST_CHECK_EQUAL(unconfirmed_tx.peers.size(), 1);\r\n+        BOOST_CHECK_EQUAL(unconfirmed_tx.peers[0].address.ToStringAddrPort(), addr2.ToStringAddrPort());\r\n         BOOST_CHECK(confirmed_tx.peers[0].received.has_value());\r\n         BOOST_CHECK(!unconfirmed_tx.peers[0].received.has_value());\r\n     }\r\n```",
      "created_at": "2026-01-26T11:10:48Z",
      "updated_at": "2026-01-26T12:53:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2727206008",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2727206008"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 133,
      "original_line": 133,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2727312800",
      "pull_request_review_id": 3705580456,
      "id": 2727312800,
      "node_id": "PRRC_kwDOABII586ij32g",
      "diff_hunk": "@@ -202,6 +202,61 @@ static RPCHelpMan getprivatebroadcastinfo()\n     };\n }\n \n+static RPCHelpMan abortprivatebroadcast()\n+{\n+    return RPCHelpMan{\n+        \"abortprivatebroadcast\",\n+        \"Abort private broadcast attempts for a transaction currently being privately broadcast.\\n\"\n+        \"The transaction will be removed from the private broadcast queue.\\n\",\n+        {\n+            {\"id\", RPCArg::Type::STR_HEX, RPCArg::Optional::NO, \"A transaction identifier to abort. It will be matched against both txid and wtxid for all transactions in the private broadcast queue.\\n\"\n+                                                                \"If the provided id matches a txid that corresponds to multiple transactions with different wtxids, multiple transactions will be removed and returned.\"},\n+        },\n+        RPCResult{\n+            RPCResult::Type::OBJ, \"\", \"\",\n+            {\n+                {RPCResult::Type::ARR, \"removed_transactions\", \"Transactions removed from the private broadcast queue\",\n+                    {\n+                        {RPCResult::Type::OBJ, \"\", \"\",\n+                            {\n+                                {RPCResult::Type::STR_HEX, \"txid\", \"The transaction hash in hex\"},",
      "path": "src/rpc/mempool.cpp",
      "position": 86,
      "original_position": 21,
      "commit_id": "a034fbd7d907da99726c20e6bf09239d2dfd711b",
      "original_commit_id": "2ac1cc811ad0d08cab9c199cb0a6cc546e351c52",
      "in_reply_to_id": null,
      "user": {
        "login": "danielabrozzoni",
        "id": 25042473,
        "node_id": "MDQ6VXNlcjI1MDQyNDcz",
        "avatar_url": "https://avatars.githubusercontent.com/u/25042473?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/danielabrozzoni",
        "html_url": "https://github.com/danielabrozzoni",
        "followers_url": "https://api.github.com/users/danielabrozzoni/followers",
        "following_url": "https://api.github.com/users/danielabrozzoni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/danielabrozzoni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/danielabrozzoni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/danielabrozzoni/subscriptions",
        "organizations_url": "https://api.github.com/users/danielabrozzoni/orgs",
        "repos_url": "https://api.github.com/users/danielabrozzoni/repos",
        "events_url": "https://api.github.com/users/danielabrozzoni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/danielabrozzoni/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I think it would be useful to show how many peers the transaction was sent to and how many acknowledged receipt, so users are not surprised if a transaction is later mined after aborting a private broadcast.\r\nHappy to work on this in a follow up PR if you think that makes sense :) ",
      "created_at": "2026-01-26T11:50:41Z",
      "updated_at": "2026-01-26T12:53:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2727312800",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2727312800"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 222,
      "original_line": 222,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2727748350",
      "pull_request_review_id": 3706202946,
      "id": 2727748350,
      "node_id": "PRRC_kwDOABII586iliL-",
      "diff_hunk": "@@ -137,6 +137,126 @@ static RPCHelpMan sendrawtransaction()\n     };\n }\n \n+static RPCHelpMan getprivatebroadcastinfo()\n+{\n+    return RPCHelpMan{\n+        \"getprivatebroadcastinfo\",\n+        \"Returns information about transactions that are currently being privately broadcast.\\n\",\n+        {},\n+        RPCResult{\n+            RPCResult::Type::OBJ, \"\", \"\",\n+            {\n+                {RPCResult::Type::ARR, \"transactions\", \"\",\n+                    {\n+                        {RPCResult::Type::OBJ, \"\", \"\",\n+                            {\n+                                {RPCResult::Type::STR_HEX, \"txid\", \"The transaction hash in hex\"},\n+                                {RPCResult::Type::STR_HEX, \"wtxid\", \"The transaction witness hash in hex\"},\n+                                {RPCResult::Type::STR_HEX, \"hex\", \"The serialized, hex-encoded transaction data\"},\n+                                {RPCResult::Type::ARR, \"peers\", \"Per-peer send and acknowledgment information for this transaction\",\n+                                    {\n+                                        {RPCResult::Type::OBJ, \"\", \"\",\n+                                            {\n+                                                {RPCResult::Type::STR, \"address\", \"The address of the peer to which the transaction was sent\"},\n+                                                {RPCResult::Type::NUM_TIME, \"sent\", \"The time this transaction was sent to this peer via private broadcast (seconds since epoch)\"},",
      "path": "src/rpc/mempool.cpp",
      "position": 1,
      "original_position": 25,
      "commit_id": "61078dab77c86a26b38afc3b1bb2ab97b8263fb0",
      "original_commit_id": "61078dab77c86a26b38afc3b1bb2ab97b8263fb0",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "\"was picked for sending\" (or selected) would be more accurate than \"was sent\".\n```suggestion\n                                                {RPCResult::Type::NUM_TIME, \"sent\", \"The time this transaction was picked for sending to this peer via private broadcast (seconds since epoch)\"},\n```",
      "created_at": "2026-01-26T14:07:20Z",
      "updated_at": "2026-01-26T14:24:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2727748350",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2727748350"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 161,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2734655100",
      "pull_request_review_id": 3714373231,
      "id": 2734655100,
      "node_id": "PRRC_kwDOABII586i_4Z8",
      "diff_hunk": "@@ -137,6 +137,126 @@ static RPCHelpMan sendrawtransaction()\n     };\n }\n \n+static RPCHelpMan getprivatebroadcastinfo()\n+{\n+    return RPCHelpMan{\n+        \"getprivatebroadcastinfo\",\n+        \"Returns information about transactions that are currently being privately broadcast.\\n\",\n+        {},\n+        RPCResult{\n+            RPCResult::Type::OBJ, \"\", \"\",\n+            {\n+                {RPCResult::Type::ARR, \"transactions\", \"\",\n+                    {\n+                        {RPCResult::Type::OBJ, \"\", \"\",\n+                            {\n+                                {RPCResult::Type::STR_HEX, \"txid\", \"The transaction hash in hex\"},\n+                                {RPCResult::Type::STR_HEX, \"wtxid\", \"The transaction witness hash in hex\"},\n+                                {RPCResult::Type::STR_HEX, \"hex\", \"The serialized, hex-encoded transaction data\"},\n+                                {RPCResult::Type::ARR, \"peers\", \"Per-peer send and acknowledgment information for this transaction\",\n+                                    {\n+                                        {RPCResult::Type::OBJ, \"\", \"\",\n+                                            {\n+                                                {RPCResult::Type::STR, \"address\", \"The address of the peer to which the transaction was sent\"},\n+                                                {RPCResult::Type::NUM_TIME, \"sent\", \"The time this transaction was sent to this peer via private broadcast (seconds since epoch)\"},",
      "path": "src/rpc/mempool.cpp",
      "position": 1,
      "original_position": 25,
      "commit_id": "61078dab77c86a26b38afc3b1bb2ab97b8263fb0",
      "original_commit_id": "61078dab77c86a26b38afc3b1bb2ab97b8263fb0",
      "in_reply_to_id": 2727748350,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Done, added you as co-author.",
      "created_at": "2026-01-28T03:04:03Z",
      "updated_at": "2026-01-28T03:04:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2734655100",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2734655100"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 161,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2734655470",
      "pull_request_review_id": 3714373579,
      "id": 2734655470,
      "node_id": "PRRC_kwDOABII586i_4fu",
      "diff_hunk": "@@ -80,6 +112,23 @@ BOOST_AUTO_TEST_CASE(basic)\n     BOOST_CHECK(pb.DidNodeConfirmReception(recipient1));\n     BOOST_CHECK(!pb.DidNodeConfirmReception(recipient2));\n \n+    {\n+        const auto infos{pb.GetBroadcastInfo()};\n+        BOOST_CHECK_EQUAL(infos.size(), 2);\n+\n+        const auto it_confirmed{std::ranges::find_if(infos, [&](const auto& info) { return info.tx->GetWitnessHash() == tx_for_recipient1->GetWitnessHash(); })};\n+        const auto it_unconfirmed{std::ranges::find_if(infos, [&](const auto& info) { return info.tx->GetWitnessHash() == tx_for_recipient2->GetWitnessHash(); })};\n+        BOOST_REQUIRE(it_confirmed != infos.end());\n+        BOOST_REQUIRE(it_unconfirmed != infos.end());\n+        const auto& confirmed_tx{*it_confirmed};\n+        const auto& unconfirmed_tx{*it_unconfirmed};\n+\n+        BOOST_CHECK_EQUAL(confirmed_tx.peers.size(), 1);\n+        BOOST_CHECK_EQUAL(unconfirmed_tx.peers.size(), 1);\n+        BOOST_CHECK(confirmed_tx.peers[0].received.has_value());\n+        BOOST_CHECK(!unconfirmed_tx.peers[0].received.has_value());",
      "path": "src/test/private_broadcast_tests.cpp",
      "position": 94,
      "original_position": 78,
      "commit_id": "a034fbd7d907da99726c20e6bf09239d2dfd711b",
      "original_commit_id": "ccf91e48a3076b3d4e3a0b4b7ce0502fa90cd3ba",
      "in_reply_to_id": 2727206008,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Taken, added you as co-author.",
      "created_at": "2026-01-28T03:04:16Z",
      "updated_at": "2026-01-28T03:04:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2734655470",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2734655470"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 133,
      "original_line": 133,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2734656218",
      "pull_request_review_id": 3714374300,
      "id": 2734656218,
      "node_id": "PRRC_kwDOABII586i_4ra",
      "diff_hunk": "@@ -202,6 +202,61 @@ static RPCHelpMan getprivatebroadcastinfo()\n     };\n }\n \n+static RPCHelpMan abortprivatebroadcast()\n+{\n+    return RPCHelpMan{\n+        \"abortprivatebroadcast\",\n+        \"Abort private broadcast attempts for a transaction currently being privately broadcast.\\n\"\n+        \"The transaction will be removed from the private broadcast queue.\\n\",\n+        {\n+            {\"id\", RPCArg::Type::STR_HEX, RPCArg::Optional::NO, \"A transaction identifier to abort. It will be matched against both txid and wtxid for all transactions in the private broadcast queue.\\n\"\n+                                                                \"If the provided id matches a txid that corresponds to multiple transactions with different wtxids, multiple transactions will be removed and returned.\"},\n+        },\n+        RPCResult{\n+            RPCResult::Type::OBJ, \"\", \"\",\n+            {\n+                {RPCResult::Type::ARR, \"removed_transactions\", \"Transactions removed from the private broadcast queue\",\n+                    {\n+                        {RPCResult::Type::OBJ, \"\", \"\",\n+                            {\n+                                {RPCResult::Type::STR_HEX, \"txid\", \"The transaction hash in hex\"},",
      "path": "src/rpc/mempool.cpp",
      "position": 86,
      "original_position": 21,
      "commit_id": "a034fbd7d907da99726c20e6bf09239d2dfd711b",
      "original_commit_id": "2ac1cc811ad0d08cab9c199cb0a6cc546e351c52",
      "in_reply_to_id": 2727312800,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Yes, I think this PR is big enough now as it is. A follow up to add this would be great.",
      "created_at": "2026-01-28T03:04:42Z",
      "updated_at": "2026-01-28T03:04:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2734656218",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2734656218"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 222,
      "original_line": 222,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2734660071",
      "pull_request_review_id": 3714378260,
      "id": 2734660071,
      "node_id": "PRRC_kwDOABII586i_5nn",
      "diff_hunk": "@@ -30,6 +30,14 @@\n class PrivateBroadcast\n {\n public:\n+    struct TxBroadcastInfo {\n+        CTransactionRef tx;\n+        size_t num_sent{0};\n+        std::optional<NodeClock::time_point> last_sent{};\n+        size_t num_peer_reception_acks{0};\n+        std::optional<NodeClock::time_point> last_peer_reception_ack{};\n+    };",
      "path": "src/private_broadcast.h",
      "position": 13,
      "original_position": 10,
      "commit_id": "a034fbd7d907da99726c20e6bf09239d2dfd711b",
      "original_commit_id": "ac6c2bd06485ff6e7ed538a234f20491d3cf47cb",
      "in_reply_to_id": 2711749027,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Re: your suggestions here https://github.com/bitcoin/bitcoin/pull/34329#pullrequestreview-3706202946.\r\n\r\nI've implemented them. This is a bit tricky, so I tried to break up the changes to do that in multiple commits. I think the way it works now will be compatible with your suggestions in #34322 as well, since we prune oldest finished txs now when adding a new one. We could just prune txs that are expired whenever we call `GetBroadcastInfo` there.",
      "created_at": "2026-01-28T03:07:04Z",
      "updated_at": "2026-01-28T03:07:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2734660071",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2734660071"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": 39,
      "original_start_line": 33,
      "start_side": "RIGHT",
      "line": 42,
      "original_line": 42,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2750800537",
      "pull_request_review_id": 3735277305,
      "id": 2750800537,
      "node_id": "PRRC_kwDOABII586j9eKZ",
      "diff_hunk": "@@ -1852,6 +1854,38 @@ PeerManagerInfo PeerManagerImpl::GetInfo() const\n     };\n }\n \n+std::vector<PrivateBroadcast::TxBroadcastInfo> PeerManagerImpl::GetPrivateBroadcastInfo() const\n+{\n+    return m_tx_for_private_broadcast.GetBroadcastInfo();\n+}\n+\n+std::vector<CTransactionRef> PeerManagerImpl::AbortPrivateBroadcast(const uint256& id)\n+{\n+    const auto snapshot{m_tx_for_private_broadcast.GetBroadcastInfo()};\n+    std::vector<CTransactionRef> to_stop;\n+    to_stop.reserve(snapshot.size());\n+    for (const auto& entry : snapshot) {\n+        if (entry.tx->GetHash().ToUint256() == id || entry.tx->GetWitnessHash().ToUint256() == id) {\n+            to_stop.push_back(entry.tx);\n+        }\n+    }",
      "path": "src/net_processing.cpp",
      "position": 1,
      "original_position": 36,
      "commit_id": "db23ae39358168823593d28c3114590900d7e887",
      "original_commit_id": "db23ae39358168823593d28c3114590900d7e887",
      "in_reply_to_id": null,
      "user": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "The function iterates over all transactions including finished ones from `GetBroadcastInfo()`, but only active (non-finished) transactions are abortable.\n`to_stop.reserve(snapshot.size())` over-reserves since it is including finished transactions.\n\n```suggestion\n    for (const auto& entry : snapshot) {\n      if (entry.final_state.has_value()) continue; // Skip already finished\n      if (entry.tx->GetHash().ToUint256() == id || entry.tx->GetWitnessHash().ToUint256() == id) {\n        to_stop.push_back(entry.tx);\n      }\n    }\n```",
      "created_at": "2026-02-01T08:50:55Z",
      "updated_at": "2026-02-01T08:50:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2750800537",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2750800537"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": 1866,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 1871,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2750803935",
      "pull_request_review_id": 3735282362,
      "id": 2750803935,
      "node_id": "PRRC_kwDOABII586j9e_f",
      "diff_hunk": "@@ -137,6 +137,143 @@ static RPCHelpMan sendrawtransaction()\n     };\n }\n \n+static RPCHelpMan getprivatebroadcastinfo()\n+{\n+    return RPCHelpMan{\n+        \"getprivatebroadcastinfo\",\n+        \"Returns information about transactions that are currently being privately broadcast.\\n\",\n+        {},\n+        RPCResult{\n+            RPCResult::Type::OBJ, \"\", \"\",\n+            {\n+                {RPCResult::Type::ARR, \"transactions\", \"\",\n+                    {\n+                        {RPCResult::Type::OBJ, \"\", \"\",\n+                            {\n+                                {RPCResult::Type::STR_HEX, \"txid\", \"The transaction hash in hex\"},\n+                                {RPCResult::Type::STR_HEX, \"wtxid\", \"The transaction witness hash in hex\"},\n+                                {RPCResult::Type::STR_HEX, \"hex\", \"The serialized, hex-encoded transaction data\"},\n+                                {RPCResult::Type::ARR, \"peers\", \"Per-peer send and acknowledgment information for this transaction\",\n+                                    {\n+                                        {RPCResult::Type::OBJ, \"\", \"\",\n+                                            {\n+                                                {RPCResult::Type::STR, \"address\", \"The address of the peer to which the transaction was sent\"},\n+                                                {RPCResult::Type::NUM_TIME, \"sent\", \"The time this transaction was picked for sending to this peer via private broadcast (seconds since epoch)\"},\n+                                                {RPCResult::Type::NUM_TIME, \"received\", /*optional=*/true, \"The time this peer acknowledged reception of the transaction (seconds since epoch)\"},\n+                                            }},\n+                                    }},\n+                                {RPCResult::Type::OBJ, \"final_state\", /*optional=*/true,\n+                                    \"The final state of the transaction if private broadcasting has stopped. Note: a transaction with an aborted final state may be updated to received at a later time if the node receives the transaction.\",\n+                                    {\n+                                        {RPCResult::Type::NUM_TIME, \"time\", \"The time private broadcasting for this transaction stopped (seconds since epoch)\"},\n+                                        {RPCResult::Type::STR, \"received_from\", /*optional=*/true, \"The address of the peer from which the transaction was received back from the network\"},\n+                                        {RPCResult::Type::STR, \"aborted\", /*optional=*/true, \"A message describing why private broadcasting was aborted\"},\n+                                    }},\n+                            }},\n+                    }},\n+            }},\n+        RPCExamples{\n+            HelpExampleCli(\"getprivatebroadcastinfo\", \"\")\n+            + HelpExampleRpc(\"getprivatebroadcastinfo\", \"\")\n+        },\n+        [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n+        {\n+            const NodeContext& node{EnsureAnyNodeContext(request.context)};\n+            const PeerManager& peerman{EnsurePeerman(node)};\n+            const auto txs{peerman.GetPrivateBroadcastInfo()};\n+\n+            UniValue transactions(UniValue::VARR);\n+            for (const auto& tx_info : txs) {\n+                UniValue o(UniValue::VOBJ);\n+                o.pushKV(\"txid\", tx_info.tx->GetHash().ToString());\n+                o.pushKV(\"wtxid\", tx_info.tx->GetWitnessHash().ToString());\n+                o.pushKV(\"hex\", EncodeHexTx(*tx_info.tx));\n+                UniValue peers(UniValue::VARR);\n+                for (const auto& peer : tx_info.peers) {\n+                    UniValue p(UniValue::VOBJ);\n+                    p.pushKV(\"address\", peer.address.ToStringAddrPort());\n+                    p.pushKV(\"sent\", TicksSinceEpoch<std::chrono::seconds>(peer.sent));\n+                    if (peer.received.has_value()) {\n+                        p.pushKV(\"received\", TicksSinceEpoch<std::chrono::seconds>(*peer.received));\n+                    }\n+                    peers.push_back(std::move(p));\n+                }\n+                o.pushKV(\"peers\", std::move(peers));\n+                if (const auto final_state{tx_info.final_state}) {\n+                    UniValue s(UniValue::VOBJ);\n+                    s.pushKV(\"time\", TicksSinceEpoch<std::chrono::seconds>(final_state->time));\n+                    if (final_state->result.has_value()) {\n+                        s.pushKV(\"received_from\", final_state->result.value().ToStringAddrPort());\n+                    } else {\n+                        s.pushKV(\"aborted\", final_state->result.error());\n+                    }\n+                    o.pushKV(\"final_state\", std::move(s));\n+                }\n+                transactions.push_back(std::move(o));\n+            }\n+\n+            UniValue ret(UniValue::VOBJ);\n+            ret.pushKV(\"transactions\", std::move(transactions));\n+            return ret;\n+        },\n+    };\n+}\n+\n+static RPCHelpMan abortprivatebroadcast()\n+{\n+    return RPCHelpMan{\n+        \"abortprivatebroadcast\",\n+        \"Abort private broadcast attempts for a transaction currently being privately broadcast.\\n\"\n+        \"The transaction will be removed from the private broadcast queue.\\n\",\n+        {\n+            {\"id\", RPCArg::Type::STR_HEX, RPCArg::Optional::NO, \"A transaction identifier to abort. It will be matched against both txid and wtxid for all transactions in the private broadcast queue.\\n\"\n+                                                                \"If the provided id matches a txid that corresponds to multiple transactions with different wtxids, multiple transactions will be removed and returned.\"},\n+        },\n+        RPCResult{\n+            RPCResult::Type::OBJ, \"\", \"\",\n+            {\n+                {RPCResult::Type::ARR, \"removed_transactions\", \"Transactions removed from the private broadcast queue\",\n+                    {\n+                        {RPCResult::Type::OBJ, \"\", \"\",\n+                            {\n+                                {RPCResult::Type::STR_HEX, \"txid\", \"The transaction hash in hex\"},\n+                                {RPCResult::Type::STR_HEX, \"wtxid\", \"The transaction witness hash in hex\"},\n+                                {RPCResult::Type::STR_HEX, \"hex\", \"The serialized, hex-encoded transaction data\"},\n+                            }},\n+                    }},\n+            }\n+        },\n+        RPCExamples{\n+            HelpExampleCli(\"abortprivatebroadcast\", \"\\\"id\\\"\")\n+            + HelpExampleRpc(\"abortprivatebroadcast\", \"\\\"id\\\"\")\n+        },\n+        [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n+        {\n+            const uint256 id{ParseHashV(self.Arg<UniValue>(\"id\"), \"id\")};\n+\n+            const NodeContext& node{EnsureAnyNodeContext(request.context)};\n+            PeerManager& peerman{EnsurePeerman(node)};\n+\n+            const auto removed_txs{peerman.AbortPrivateBroadcast(id)};\n+            if (removed_txs.empty()) {\n+                throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Transaction not in private broadcast queue. Check getprivatebroadcastinfo.\");",
      "path": "src/rpc/mempool.cpp",
      "position": 106,
      "original_position": 123,
      "commit_id": "a034fbd7d907da99726c20e6bf09239d2dfd711b",
      "original_commit_id": "db23ae39358168823593d28c3114590900d7e887",
      "in_reply_to_id": null,
      "user": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "`RPC_INVALID_ADDRESS_OR_KEY` is typically used for Bitcoin address/key validation errors. Maybe `RPC_INVALID_PARAMETER` would be more accurate.",
      "created_at": "2026-02-01T08:56:02Z",
      "updated_at": "2026-02-01T08:56:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2750803935",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2750803935"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 242,
      "original_line": 242,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2751858181",
      "pull_request_review_id": 3736534561,
      "id": 2751858181,
      "node_id": "PRRC_kwDOABII586kBgYF",
      "diff_hunk": "@@ -137,6 +137,143 @@ static RPCHelpMan sendrawtransaction()\n     };\n }\n \n+static RPCHelpMan getprivatebroadcastinfo()\n+{\n+    return RPCHelpMan{\n+        \"getprivatebroadcastinfo\",\n+        \"Returns information about transactions that are currently being privately broadcast.\\n\",\n+        {},\n+        RPCResult{\n+            RPCResult::Type::OBJ, \"\", \"\",\n+            {\n+                {RPCResult::Type::ARR, \"transactions\", \"\",\n+                    {\n+                        {RPCResult::Type::OBJ, \"\", \"\",\n+                            {\n+                                {RPCResult::Type::STR_HEX, \"txid\", \"The transaction hash in hex\"},\n+                                {RPCResult::Type::STR_HEX, \"wtxid\", \"The transaction witness hash in hex\"},\n+                                {RPCResult::Type::STR_HEX, \"hex\", \"The serialized, hex-encoded transaction data\"},\n+                                {RPCResult::Type::ARR, \"peers\", \"Per-peer send and acknowledgment information for this transaction\",\n+                                    {\n+                                        {RPCResult::Type::OBJ, \"\", \"\",\n+                                            {\n+                                                {RPCResult::Type::STR, \"address\", \"The address of the peer to which the transaction was sent\"},\n+                                                {RPCResult::Type::NUM_TIME, \"sent\", \"The time this transaction was picked for sending to this peer via private broadcast (seconds since epoch)\"},\n+                                                {RPCResult::Type::NUM_TIME, \"received\", /*optional=*/true, \"The time this peer acknowledged reception of the transaction (seconds since epoch)\"},\n+                                            }},\n+                                    }},\n+                                {RPCResult::Type::OBJ, \"final_state\", /*optional=*/true,\n+                                    \"The final state of the transaction if private broadcasting has stopped. Note: a transaction with an aborted final state may be updated to received at a later time if the node receives the transaction.\",\n+                                    {\n+                                        {RPCResult::Type::NUM_TIME, \"time\", \"The time private broadcasting for this transaction stopped (seconds since epoch)\"},\n+                                        {RPCResult::Type::STR, \"received_from\", /*optional=*/true, \"The address of the peer from which the transaction was received back from the network\"},\n+                                        {RPCResult::Type::STR, \"aborted\", /*optional=*/true, \"A message describing why private broadcasting was aborted\"},\n+                                    }},\n+                            }},\n+                    }},\n+            }},\n+        RPCExamples{\n+            HelpExampleCli(\"getprivatebroadcastinfo\", \"\")\n+            + HelpExampleRpc(\"getprivatebroadcastinfo\", \"\")\n+        },\n+        [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n+        {\n+            const NodeContext& node{EnsureAnyNodeContext(request.context)};\n+            const PeerManager& peerman{EnsurePeerman(node)};\n+            const auto txs{peerman.GetPrivateBroadcastInfo()};\n+\n+            UniValue transactions(UniValue::VARR);\n+            for (const auto& tx_info : txs) {\n+                UniValue o(UniValue::VOBJ);\n+                o.pushKV(\"txid\", tx_info.tx->GetHash().ToString());\n+                o.pushKV(\"wtxid\", tx_info.tx->GetWitnessHash().ToString());\n+                o.pushKV(\"hex\", EncodeHexTx(*tx_info.tx));\n+                UniValue peers(UniValue::VARR);\n+                for (const auto& peer : tx_info.peers) {\n+                    UniValue p(UniValue::VOBJ);\n+                    p.pushKV(\"address\", peer.address.ToStringAddrPort());\n+                    p.pushKV(\"sent\", TicksSinceEpoch<std::chrono::seconds>(peer.sent));\n+                    if (peer.received.has_value()) {\n+                        p.pushKV(\"received\", TicksSinceEpoch<std::chrono::seconds>(*peer.received));\n+                    }\n+                    peers.push_back(std::move(p));\n+                }\n+                o.pushKV(\"peers\", std::move(peers));\n+                if (const auto final_state{tx_info.final_state}) {\n+                    UniValue s(UniValue::VOBJ);\n+                    s.pushKV(\"time\", TicksSinceEpoch<std::chrono::seconds>(final_state->time));\n+                    if (final_state->result.has_value()) {\n+                        s.pushKV(\"received_from\", final_state->result.value().ToStringAddrPort());\n+                    } else {\n+                        s.pushKV(\"aborted\", final_state->result.error());\n+                    }\n+                    o.pushKV(\"final_state\", std::move(s));\n+                }\n+                transactions.push_back(std::move(o));\n+            }\n+\n+            UniValue ret(UniValue::VOBJ);\n+            ret.pushKV(\"transactions\", std::move(transactions));\n+            return ret;\n+        },\n+    };\n+}\n+\n+static RPCHelpMan abortprivatebroadcast()\n+{\n+    return RPCHelpMan{\n+        \"abortprivatebroadcast\",\n+        \"Abort private broadcast attempts for a transaction currently being privately broadcast.\\n\"\n+        \"The transaction will be removed from the private broadcast queue.\\n\",\n+        {\n+            {\"id\", RPCArg::Type::STR_HEX, RPCArg::Optional::NO, \"A transaction identifier to abort. It will be matched against both txid and wtxid for all transactions in the private broadcast queue.\\n\"\n+                                                                \"If the provided id matches a txid that corresponds to multiple transactions with different wtxids, multiple transactions will be removed and returned.\"},\n+        },\n+        RPCResult{\n+            RPCResult::Type::OBJ, \"\", \"\",\n+            {\n+                {RPCResult::Type::ARR, \"removed_transactions\", \"Transactions removed from the private broadcast queue\",\n+                    {\n+                        {RPCResult::Type::OBJ, \"\", \"\",\n+                            {\n+                                {RPCResult::Type::STR_HEX, \"txid\", \"The transaction hash in hex\"},\n+                                {RPCResult::Type::STR_HEX, \"wtxid\", \"The transaction witness hash in hex\"},\n+                                {RPCResult::Type::STR_HEX, \"hex\", \"The serialized, hex-encoded transaction data\"},\n+                            }},\n+                    }},\n+            }\n+        },\n+        RPCExamples{\n+            HelpExampleCli(\"abortprivatebroadcast\", \"\\\"id\\\"\")\n+            + HelpExampleRpc(\"abortprivatebroadcast\", \"\\\"id\\\"\")\n+        },\n+        [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n+        {\n+            const uint256 id{ParseHashV(self.Arg<UniValue>(\"id\"), \"id\")};\n+\n+            const NodeContext& node{EnsureAnyNodeContext(request.context)};\n+            PeerManager& peerman{EnsurePeerman(node)};\n+\n+            const auto removed_txs{peerman.AbortPrivateBroadcast(id)};\n+            if (removed_txs.empty()) {\n+                throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Transaction not in private broadcast queue. Check getprivatebroadcastinfo.\");",
      "path": "src/rpc/mempool.cpp",
      "position": 106,
      "original_position": 123,
      "commit_id": "a034fbd7d907da99726c20e6bf09239d2dfd711b",
      "original_commit_id": "db23ae39358168823593d28c3114590900d7e887",
      "in_reply_to_id": 2750803935,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "This error is typically used when a transaction or block is not found by hash. In `mempool.cpp` there are several that throw with error message `Transaction not in mempool`. In `blockchain.cpp`, there are several that throw with message `Block not found`. In `rawtransaction.cpp` it is returned for `getrawtransaction` when the tx is not found. \r\n\r\nI think this is the correct error code to use in this case.",
      "created_at": "2026-02-01T19:39:36Z",
      "updated_at": "2026-02-01T19:50:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2751858181",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2751858181"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 242,
      "original_line": 242,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2751877183",
      "pull_request_review_id": 3736559894,
      "id": 2751877183,
      "node_id": "PRRC_kwDOABII586kBlA_",
      "diff_hunk": "@@ -1852,6 +1854,38 @@ PeerManagerInfo PeerManagerImpl::GetInfo() const\n     };\n }\n \n+std::vector<PrivateBroadcast::TxBroadcastInfo> PeerManagerImpl::GetPrivateBroadcastInfo() const\n+{\n+    return m_tx_for_private_broadcast.GetBroadcastInfo();\n+}\n+\n+std::vector<CTransactionRef> PeerManagerImpl::AbortPrivateBroadcast(const uint256& id)\n+{\n+    const auto snapshot{m_tx_for_private_broadcast.GetBroadcastInfo()};\n+    std::vector<CTransactionRef> to_stop;\n+    to_stop.reserve(snapshot.size());\n+    for (const auto& entry : snapshot) {\n+        if (entry.tx->GetHash().ToUint256() == id || entry.tx->GetWitnessHash().ToUint256() == id) {\n+            to_stop.push_back(entry.tx);\n+        }\n+    }",
      "path": "src/net_processing.cpp",
      "position": 1,
      "original_position": 36,
      "commit_id": "db23ae39358168823593d28c3114590900d7e887",
      "original_commit_id": "db23ae39358168823593d28c3114590900d7e887",
      "in_reply_to_id": 2750800537,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Done, also collapsed the 2 loops into one loop.",
      "created_at": "2026-02-01T19:59:10Z",
      "updated_at": "2026-02-01T19:59:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2751877183",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2751877183"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": 1866,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 1871,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2753353416",
      "pull_request_review_id": 3738208110,
      "id": 2753353416,
      "node_id": "PRRC_kwDOABII586kHNbI",
      "diff_hunk": "@@ -1854,6 +1854,34 @@ PeerManagerInfo PeerManagerImpl::GetInfo() const\n     };\n }\n \n+std::vector<PrivateBroadcast::TxBroadcastInfo> PeerManagerImpl::GetPrivateBroadcastInfo() const\n+{\n+    return m_tx_for_private_broadcast.GetBroadcastInfo();\n+}\n+\n+std::vector<CTransactionRef> PeerManagerImpl::AbortPrivateBroadcast(const uint256& id)\n+{\n+    const auto snapshot{m_tx_for_private_broadcast.GetBroadcastInfo()};\n+    std::vector<CTransactionRef> to_stop;\n+    size_t connections_cancelled{0};\n+    for (const auto& entry : snapshot) {\n+        if (entry.final_state.has_value()) continue;\n+        if (entry.tx->GetHash().ToUint256() != id && entry.tx->GetWitnessHash().ToUint256() != id) continue;\n+        to_stop.push_back(entry.tx);\n+        const auto peer_acks{m_tx_for_private_broadcast.StopBroadcasting(entry.tx, \"Manually aborted via abortprivatebroadcast RPC\")};\n+        if (!peer_acks.has_value()) continue;\n+        if (NUM_PRIVATE_BROADCAST_PER_TX > peer_acks.value()) {",
      "path": "src/net_processing.cpp",
      "position": 1,
      "original_position": 55,
      "commit_id": "5d3c79a96fab2018a3e13bbe8d6ca6080e38ec91",
      "original_commit_id": "5d3c79a96fab2018a3e13bbe8d6ca6080e38ec91",
      "in_reply_to_id": null,
      "user": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Only add `entry.tx` to `to_stop` if `StopBroadcasting` returns a `non-nullopt` value.\nAnother thread may have already stopped it.\n\n```suggestion\n        const auto peer_acks{m_tx_for_private_broadcast.StopBroadcasting(entry.tx, \"Manually aborted via abortprivatebroadcast RPC\")};\n        if (!peer_acks.has_value()) continue;\n        to_stop.push_back(entry.tx);\n        if (NUM_PRIVATE_BROADCAST_PER_TX > peer_acks.value()) {\n```",
      "created_at": "2026-02-02T09:21:02Z",
      "updated_at": "2026-02-02T09:21:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2753353416",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2753353416"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": 1870,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 1873,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2753356315",
      "pull_request_review_id": 3738211437,
      "id": 2753356315,
      "node_id": "PRRC_kwDOABII586kHOIb",
      "diff_hunk": "@@ -366,6 +377,33 @@ def run_test(self):\n         self.log.info(\"Waiting for normal broadcast to another peer\")\n         self.destinations[1][\"node\"].wait_for_inv([inv])\n \n+        self.log.info(\"Checking getprivatebroadcastinfo reports final_state after it is received back\")\n+        pbinfo = tx_originator.getprivatebroadcastinfo()\n+        info = [t for t in pbinfo[\"transactions\"] if t[\"wtxid\"] == txs[0][\"wtxid\"]]\n+        assert_equal(len(info), 1)\n+        assert_equal(info[0][\"final_state\"][\"received_from\"], self.destinations[0][\"requested_to\"])\n+        assert \"aborted\" not in info[0][\"final_state\"]\n+\n+        self.log.info(\"Checking abortprivatebroadcast removes a pending private-broadcast transaction\")\n+        tx_abort = wallet.create_self_transfer()\n+        tx_originator.sendrawtransaction(hexstring=tx_abort[\"hex\"], maxfeerate=0.1)\n+        assert any(t[\"wtxid\"] == tx_abort[\"wtxid\"] for t in tx_originator.getprivatebroadcastinfo()[\"transactions\"])\n+        abort_time_before = int(time.time())\n+        abort_res = tx_originator.abortprivatebroadcast(tx_abort[\"txid\"])\n+        abort_time_after = int(time.time())\n+        assert_equal(len(abort_res[\"removed_transactions\"]), 1)\n+        assert_equal(abort_res[\"removed_transactions\"][0][\"txid\"], tx_abort[\"txid\"])\n+        assert_equal(abort_res[\"removed_transactions\"][0][\"wtxid\"], tx_abort[\"wtxid\"])\n+        assert_equal(abort_res[\"removed_transactions\"][0][\"hex\"].lower(), tx_abort[\"hex\"].lower())\n+        # After abort, the transaction should remain stored with an aborted final_state.\n+        pbinfo = tx_originator.getprivatebroadcastinfo()\n+        info = [t for t in pbinfo[\"transactions\"] if t[\"wtxid\"] == tx_abort[\"wtxid\"]]\n+        assert_equal(len(info), 1)\n+        assert_equal(info[0][\"final_state\"][\"aborted\"], \"Manually aborted via abortprivatebroadcast RPC\")\n+        # The abort time is recorded on the node; allow a little slack around the RPC call.\n+        assert abort_time_before - 5 <= info[0][\"final_state\"][\"time\"] <= abort_time_after + 5\n+        assert \"received_from\" not in info[0][\"final_state\"]\n+",
      "path": "test/functional/p2p_private_broadcast.py",
      "position": 1,
      "original_position": 48,
      "commit_id": "0649a6a01ff74659af432443ae6e1f60606c844a",
      "original_commit_id": "5d3c79a96fab2018a3e13bbe8d6ca6080e38ec91",
      "in_reply_to_id": null,
      "user": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "```suggestion\n        self.log.info(\"Checking abortprivatebroadcast fails for non-existent transaction\")\n        assert_raises_rpc_error(-5, \"Transaction not in private broadcast queue\",\n                                tx_originator.abortprivatebroadcast, \"0\" * 64)\n```",
      "created_at": "2026-02-02T09:21:52Z",
      "updated_at": "2026-02-02T09:21:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2753356315",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2753356315"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 406,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2753817122",
      "pull_request_review_id": 3738769335,
      "id": 2753817122,
      "node_id": "PRRC_kwDOABII586kI-oi",
      "diff_hunk": "@@ -78,19 +114,163 @@ BOOST_AUTO_TEST_CASE(basic)\n     BOOST_CHECK(pb.DidNodeConfirmReception(recipient1));\n     BOOST_CHECK(!pb.DidNodeConfirmReception(recipient2));\n \n+    {\n+        const auto infos{pb.GetBroadcastInfo()};\n+        BOOST_CHECK_EQUAL(infos.size(), 2);\n+\n+        const auto it_confirmed{std::ranges::find_if(infos, [&](const auto& info) { return info.tx->GetWitnessHash() == tx_for_recipient1->GetWitnessHash(); })};\n+        const auto it_unconfirmed{std::ranges::find_if(infos, [&](const auto& info) { return info.tx->GetWitnessHash() == tx_for_recipient2->GetWitnessHash(); })};\n+        BOOST_REQUIRE(it_confirmed != infos.end());\n+        BOOST_REQUIRE(it_unconfirmed != infos.end());\n+        const auto& confirmed_tx{*it_confirmed};\n+        const auto& unconfirmed_tx{*it_unconfirmed};\n+\n+        BOOST_CHECK_EQUAL(confirmed_tx.peers.size(), 1);\n+        BOOST_CHECK_EQUAL(confirmed_tx.peers[0].address.ToStringAddrPort(), addr1.ToStringAddrPort());\n+        BOOST_CHECK_EQUAL(unconfirmed_tx.peers.size(), 1);\n+        BOOST_CHECK_EQUAL(unconfirmed_tx.peers[0].address.ToStringAddrPort(), addr2.ToStringAddrPort());\n+        BOOST_CHECK(confirmed_tx.peers[0].received.has_value());\n+        BOOST_CHECK(!unconfirmed_tx.peers[0].received.has_value());\n+    }\n+\n     BOOST_CHECK_EQUAL(pb.GetStale().size(), 1);\n     BOOST_CHECK_EQUAL(pb.GetStale()[0], tx_for_recipient2);\n \n     SetMockTime(Now<NodeSeconds>() + 10h);\n \n     BOOST_CHECK_EQUAL(pb.GetStale().size(), 2);\n \n-    BOOST_CHECK_EQUAL(pb.Remove(tx_for_recipient1).value(), 1);\n-    BOOST_CHECK(!pb.Remove(tx_for_recipient1).has_value());\n-    BOOST_CHECK_EQUAL(pb.Remove(tx_for_recipient2).value(), 0);\n-    BOOST_CHECK(!pb.Remove(tx_for_recipient2).has_value());\n+    BOOST_CHECK_EQUAL(pb.StopBroadcasting(tx_for_recipient1, \"test\").value(), 1);\n+    BOOST_CHECK(!pb.StopBroadcasting(tx_for_recipient1, \"test\").has_value());\n+    BOOST_CHECK_EQUAL(pb.StopBroadcasting(tx_for_recipient2, \"test\").value(), 0);\n+    BOOST_CHECK(!pb.StopBroadcasting(tx_for_recipient2, \"test\").has_value());\n+\n+    // Stopped transactions remain stored and available in GetBroadcastInfo().\n+    BOOST_CHECK_EQUAL(pb.GetBroadcastInfo().size(), 2);\n+    BOOST_CHECK(!pb.HavePendingTransactions());\n+    BOOST_CHECK(!pb.PickTxForSend(/*will_send_to_nodeid=*/nonexistent_recipient, /*will_send_to_address=*/CService{}).has_value());\n+}\n+\n+BOOST_AUTO_TEST_CASE(prune_finished)\n+{\n+    SetMockTime(Now<NodeSeconds>());\n+    PrivateBroadcast pb;\n+\n+    static constexpr uint32_t MAX_STORED_TRANSACTIONS{1'000};\n+\n+    // Add one transaction that will be the oldest finished entry.\n+    const auto oldest{MakeDummyTx(/*id=*/1, /*num_witness=*/0)};\n+    BOOST_CHECK(pb.Add(oldest));\n+    SetMockTime(Now<NodeSeconds>() - 1h);\n+    BOOST_CHECK(pb.StopBroadcasting(oldest, \"test\").has_value());\n \n-    BOOST_CHECK(!pb.PickTxForSend(/*will_send_to_nodeid=*/nonexistent_recipient).has_value());\n+    // Fill up to the cap with other finished transactions that all have newer finish times.\n+    SetMockTime(Now<NodeSeconds>() + 1h);\n+    for (uint32_t i = 0; i < MAX_STORED_TRANSACTIONS - 1; ++i) {\n+        auto tx{MakeDummyTx(/*id=*/i + 2, /*num_witness=*/0)};",
      "path": "src/test/private_broadcast_tests.cpp",
      "position": 1,
      "original_position": 136,
      "commit_id": "5d3c79a96fab2018a3e13bbe8d6ca6080e38ec91",
      "original_commit_id": "5d3c79a96fab2018a3e13bbe8d6ca6080e38ec91",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Maybe would be more readable:\n\n\n```suggestion\n    for (uint32_t i = 2; i <= MAX_STORED_TRANSACTIONS; ++i) {\n        auto tx{MakeDummyTx(/*id=*/i, /*num_witness=*/0)};\n```",
      "created_at": "2026-02-02T11:12:01Z",
      "updated_at": "2026-02-02T12:45:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2753817122",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2753817122"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": 169,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 170,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2753826457",
      "pull_request_review_id": 3738769335,
      "id": 2753826457,
      "node_id": "PRRC_kwDOABII586kJA6Z",
      "diff_hunk": "@@ -78,19 +114,163 @@ BOOST_AUTO_TEST_CASE(basic)\n     BOOST_CHECK(pb.DidNodeConfirmReception(recipient1));\n     BOOST_CHECK(!pb.DidNodeConfirmReception(recipient2));\n \n+    {\n+        const auto infos{pb.GetBroadcastInfo()};\n+        BOOST_CHECK_EQUAL(infos.size(), 2);\n+\n+        const auto it_confirmed{std::ranges::find_if(infos, [&](const auto& info) { return info.tx->GetWitnessHash() == tx_for_recipient1->GetWitnessHash(); })};\n+        const auto it_unconfirmed{std::ranges::find_if(infos, [&](const auto& info) { return info.tx->GetWitnessHash() == tx_for_recipient2->GetWitnessHash(); })};\n+        BOOST_REQUIRE(it_confirmed != infos.end());\n+        BOOST_REQUIRE(it_unconfirmed != infos.end());\n+        const auto& confirmed_tx{*it_confirmed};\n+        const auto& unconfirmed_tx{*it_unconfirmed};\n+\n+        BOOST_CHECK_EQUAL(confirmed_tx.peers.size(), 1);\n+        BOOST_CHECK_EQUAL(confirmed_tx.peers[0].address.ToStringAddrPort(), addr1.ToStringAddrPort());\n+        BOOST_CHECK_EQUAL(unconfirmed_tx.peers.size(), 1);\n+        BOOST_CHECK_EQUAL(unconfirmed_tx.peers[0].address.ToStringAddrPort(), addr2.ToStringAddrPort());\n+        BOOST_CHECK(confirmed_tx.peers[0].received.has_value());\n+        BOOST_CHECK(!unconfirmed_tx.peers[0].received.has_value());\n+    }\n+\n     BOOST_CHECK_EQUAL(pb.GetStale().size(), 1);\n     BOOST_CHECK_EQUAL(pb.GetStale()[0], tx_for_recipient2);\n \n     SetMockTime(Now<NodeSeconds>() + 10h);\n \n     BOOST_CHECK_EQUAL(pb.GetStale().size(), 2);\n \n-    BOOST_CHECK_EQUAL(pb.Remove(tx_for_recipient1).value(), 1);\n-    BOOST_CHECK(!pb.Remove(tx_for_recipient1).has_value());\n-    BOOST_CHECK_EQUAL(pb.Remove(tx_for_recipient2).value(), 0);\n-    BOOST_CHECK(!pb.Remove(tx_for_recipient2).has_value());\n+    BOOST_CHECK_EQUAL(pb.StopBroadcasting(tx_for_recipient1, \"test\").value(), 1);\n+    BOOST_CHECK(!pb.StopBroadcasting(tx_for_recipient1, \"test\").has_value());\n+    BOOST_CHECK_EQUAL(pb.StopBroadcasting(tx_for_recipient2, \"test\").value(), 0);\n+    BOOST_CHECK(!pb.StopBroadcasting(tx_for_recipient2, \"test\").has_value());\n+\n+    // Stopped transactions remain stored and available in GetBroadcastInfo().\n+    BOOST_CHECK_EQUAL(pb.GetBroadcastInfo().size(), 2);\n+    BOOST_CHECK(!pb.HavePendingTransactions());\n+    BOOST_CHECK(!pb.PickTxForSend(/*will_send_to_nodeid=*/nonexistent_recipient, /*will_send_to_address=*/CService{}).has_value());\n+}\n+\n+BOOST_AUTO_TEST_CASE(prune_finished)\n+{\n+    SetMockTime(Now<NodeSeconds>());",
      "path": "src/test/private_broadcast_tests.cpp",
      "position": 1,
      "original_position": 121,
      "commit_id": "5d3c79a96fab2018a3e13bbe8d6ca6080e38ec91",
      "original_commit_id": "5d3c79a96fab2018a3e13bbe8d6ca6080e38ec91",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "The pattern:\n\n```cpp\nSetMockTime(Now<NodeSeconds>());\nSetMockTime(Now<NodeSeconds>() - 1h);\nSetMockTime(Now<NodeSeconds>() + 1h);\n```\nwhile unlikely makes it possible something unexpected to happen if 1h passes in between (ðŸ‘€). Would be more robust to assign to a variable, whose value will not change during the test:\n```cpp\nconst auto start = Now<NodeSeconds>();\nSetMockTime(start);\nSetMockTime(start - 1h);\nSetMockTime(start + 1h);\n```",
      "created_at": "2026-02-02T11:14:45Z",
      "updated_at": "2026-02-02T12:45:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2753826457",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2753826457"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 156,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2753861201",
      "pull_request_review_id": 3738769335,
      "id": 2753861201,
      "node_id": "PRRC_kwDOABII586kJJZR",
      "diff_hunk": "@@ -78,19 +114,163 @@ BOOST_AUTO_TEST_CASE(basic)\n     BOOST_CHECK(pb.DidNodeConfirmReception(recipient1));\n     BOOST_CHECK(!pb.DidNodeConfirmReception(recipient2));\n \n+    {\n+        const auto infos{pb.GetBroadcastInfo()};\n+        BOOST_CHECK_EQUAL(infos.size(), 2);\n+\n+        const auto it_confirmed{std::ranges::find_if(infos, [&](const auto& info) { return info.tx->GetWitnessHash() == tx_for_recipient1->GetWitnessHash(); })};\n+        const auto it_unconfirmed{std::ranges::find_if(infos, [&](const auto& info) { return info.tx->GetWitnessHash() == tx_for_recipient2->GetWitnessHash(); })};\n+        BOOST_REQUIRE(it_confirmed != infos.end());\n+        BOOST_REQUIRE(it_unconfirmed != infos.end());\n+        const auto& confirmed_tx{*it_confirmed};\n+        const auto& unconfirmed_tx{*it_unconfirmed};\n+\n+        BOOST_CHECK_EQUAL(confirmed_tx.peers.size(), 1);\n+        BOOST_CHECK_EQUAL(confirmed_tx.peers[0].address.ToStringAddrPort(), addr1.ToStringAddrPort());\n+        BOOST_CHECK_EQUAL(unconfirmed_tx.peers.size(), 1);\n+        BOOST_CHECK_EQUAL(unconfirmed_tx.peers[0].address.ToStringAddrPort(), addr2.ToStringAddrPort());\n+        BOOST_CHECK(confirmed_tx.peers[0].received.has_value());\n+        BOOST_CHECK(!unconfirmed_tx.peers[0].received.has_value());\n+    }\n+\n     BOOST_CHECK_EQUAL(pb.GetStale().size(), 1);\n     BOOST_CHECK_EQUAL(pb.GetStale()[0], tx_for_recipient2);\n \n     SetMockTime(Now<NodeSeconds>() + 10h);\n \n     BOOST_CHECK_EQUAL(pb.GetStale().size(), 2);\n \n-    BOOST_CHECK_EQUAL(pb.Remove(tx_for_recipient1).value(), 1);\n-    BOOST_CHECK(!pb.Remove(tx_for_recipient1).has_value());\n-    BOOST_CHECK_EQUAL(pb.Remove(tx_for_recipient2).value(), 0);\n-    BOOST_CHECK(!pb.Remove(tx_for_recipient2).has_value());\n+    BOOST_CHECK_EQUAL(pb.StopBroadcasting(tx_for_recipient1, \"test\").value(), 1);\n+    BOOST_CHECK(!pb.StopBroadcasting(tx_for_recipient1, \"test\").has_value());\n+    BOOST_CHECK_EQUAL(pb.StopBroadcasting(tx_for_recipient2, \"test\").value(), 0);\n+    BOOST_CHECK(!pb.StopBroadcasting(tx_for_recipient2, \"test\").has_value());\n+\n+    // Stopped transactions remain stored and available in GetBroadcastInfo().\n+    BOOST_CHECK_EQUAL(pb.GetBroadcastInfo().size(), 2);\n+    BOOST_CHECK(!pb.HavePendingTransactions());\n+    BOOST_CHECK(!pb.PickTxForSend(/*will_send_to_nodeid=*/nonexistent_recipient, /*will_send_to_address=*/CService{}).has_value());\n+}\n+\n+BOOST_AUTO_TEST_CASE(prune_finished)\n+{\n+    SetMockTime(Now<NodeSeconds>());\n+    PrivateBroadcast pb;\n+\n+    static constexpr uint32_t MAX_STORED_TRANSACTIONS{1'000};\n+\n+    // Add one transaction that will be the oldest finished entry.\n+    const auto oldest{MakeDummyTx(/*id=*/1, /*num_witness=*/0)};\n+    BOOST_CHECK(pb.Add(oldest));\n+    SetMockTime(Now<NodeSeconds>() - 1h);\n+    BOOST_CHECK(pb.StopBroadcasting(oldest, \"test\").has_value());\n \n-    BOOST_CHECK(!pb.PickTxForSend(/*will_send_to_nodeid=*/nonexistent_recipient).has_value());\n+    // Fill up to the cap with other finished transactions that all have newer finish times.\n+    SetMockTime(Now<NodeSeconds>() + 1h);\n+    for (uint32_t i = 0; i < MAX_STORED_TRANSACTIONS - 1; ++i) {\n+        auto tx{MakeDummyTx(/*id=*/i + 2, /*num_witness=*/0)};\n+        BOOST_CHECK(pb.Add(tx));\n+        BOOST_CHECK(pb.StopBroadcasting(tx, \"test\").has_value());\n+    }\n+    BOOST_CHECK_EQUAL(pb.GetBroadcastInfo().size(), MAX_STORED_TRANSACTIONS);\n+\n+    // Adding one more transaction should evict the oldest finished transaction.\n+    const auto extra{MakeDummyTx(/*id=*/MAX_STORED_TRANSACTIONS + 1, /*num_witness=*/0)};\n+    BOOST_CHECK(pb.Add(extra));\n+    const auto infos1{pb.GetBroadcastInfo()};\n+    BOOST_CHECK_EQUAL(infos1.size(), MAX_STORED_TRANSACTIONS);\n+    BOOST_CHECK(std::ranges::find_if(infos1, [&](const auto& info) {\n+                    return info.tx->GetWitnessHash() == oldest->GetWitnessHash();\n+                }) == infos1.end());\n+    BOOST_CHECK(std::ranges::find_if(infos1, [&](const auto& info) {\n+                    return info.tx->GetWitnessHash() == extra->GetWitnessHash();\n+                }) != infos1.end());\n+\n+    // If all entries are unfinished, do not prune even above the cap.\n+    PrivateBroadcast pb_unfinished;\n+    for (uint32_t i = 0; i < MAX_STORED_TRANSACTIONS + 1; ++i) {\n+        BOOST_CHECK(pb_unfinished.Add(MakeDummyTx(/*id=*/i + 1, /*num_witness=*/0)));\n+    }\n+    const auto infos2{pb_unfinished.GetBroadcastInfo()};\n+    BOOST_CHECK_EQUAL(infos2.size(), MAX_STORED_TRANSACTIONS + 1);\n+    BOOST_CHECK(std::ranges::all_of(infos2, [](const auto& info) { return !info.final_state.has_value(); }));\n+}\n+\n+BOOST_AUTO_TEST_CASE(update_aborted_to_received)\n+{\n+    SetMockTime(Now<NodeSeconds>());\n+\n+    PrivateBroadcast pb;\n+    const auto tx{MakeDummyTx(/*id=*/1, /*num_witness=*/0)};\n+    BOOST_CHECK(pb.Add(tx));\n+\n+    in_addr ipv4Addr;\n+    ipv4Addr.s_addr = 0xa0b0c002;\n+\n+    // Stop broadcasting as aborted.\n+    BOOST_CHECK_EQUAL(pb.StopBroadcasting(tx, \"aborted\").value(), 0);\n+    int64_t time_aborted{0};\n+    {\n+        const auto infos{pb.GetBroadcastInfo()};\n+        const auto it{std::ranges::find_if(infos, [&](const auto& info) { return info.tx->GetWitnessHash() == tx->GetWitnessHash(); })};\n+        BOOST_REQUIRE(it != infos.end());\n+        BOOST_REQUIRE(it->final_state.has_value());\n+        BOOST_CHECK(!it->final_state->result.has_value());\n+        BOOST_CHECK_EQUAL(it->final_state->result.error(), \"aborted\");\n+        time_aborted = TicksSinceEpoch<std::chrono::seconds>(it->final_state->time);\n+    }\n+\n+    // Further abort attempts should return nullopt and must not overwrite the aborted final state.\n+    SetMockTime(Now<NodeSeconds>() + 1s);",
      "path": "src/test/private_broadcast_tests.cpp",
      "position": 1,
      "original_position": 189,
      "commit_id": "5d3c79a96fab2018a3e13bbe8d6ca6080e38ec91",
      "original_commit_id": "5d3c79a96fab2018a3e13bbe8d6ca6080e38ec91",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Same here. If the system clock, for some reason (ntp adjustment?) goes back for 1 second, then this will have unintended result.",
      "created_at": "2026-02-02T11:23:56Z",
      "updated_at": "2026-02-02T12:45:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2753861201",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2753861201"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 223,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2753960408",
      "pull_request_review_id": 3738769335,
      "id": 2753960408,
      "node_id": "PRRC_kwDOABII586kJhnY",
      "diff_hunk": "@@ -1658,7 +1658,7 @@ void PeerManagerImpl::ReattemptPrivateBroadcast(CScheduler& scheduler)\n                 LogDebug(BCLog::PRIVBROADCAST, \"Giving up broadcast attempts for txid=%s wtxid=%s: %s\",\n                          stale_tx->GetHash().ToString(), stale_tx->GetWitnessHash().ToString(),\n                          mempool_acceptable.m_state.ToString());\n-                m_tx_for_private_broadcast.Remove(stale_tx);\n+                m_tx_for_private_broadcast.StopBroadcasting(stale_tx, mempool_acceptable.m_state.ToString());",
      "path": "src/net_processing.cpp",
      "position": 1,
      "original_position": 31,
      "commit_id": "5d3c79a96fab2018a3e13bbe8d6ca6080e38ec91",
      "original_commit_id": "5d3c79a96fab2018a3e13bbe8d6ca6080e38ec91",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "`m_state.ToString()` could be quite short, e.g. \"tx-size\", \"transaction failed\" or \"bad-txns-inputs-missingorspent\", etc. Maybe prefix this with \"Not acceptable to our mempool: %s\".",
      "created_at": "2026-02-02T11:50:33Z",
      "updated_at": "2026-02-02T12:45:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2753960408",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2753960408"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1661,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2753995437",
      "pull_request_review_id": 3738769335,
      "id": 2753995437,
      "node_id": "PRRC_kwDOABII586kJqKt",
      "diff_hunk": "@@ -30,33 +32,73 @@\n class PrivateBroadcast\n {\n public:\n+    struct FinalState {\n+        util::Expected<CService, std::string> result;\n+        NodeClock::time_point time;\n+    };\n+\n+    struct PeerSendInfo {\n+        CService address;\n+        NodeClock::time_point sent;\n+        std::optional<NodeClock::time_point> received;\n+    };\n+\n+    struct TxBroadcastInfo {\n+        CTransactionRef tx;\n+        std::vector<PeerSendInfo> peers;\n+        std::optional<FinalState> final_state;\n+    };\n+\n     /**\n      * Add a transaction to the storage.\n      * @param[in] tx The transaction to add.\n-     * @retval true The transaction was added.\n-     * @retval false The transaction was already present.\n+     * @retval true The transaction was added, or was previously stopped and is now scheduled again.\n+     * @retval false The transaction was already present and pending.\n      */\n     bool Add(const CTransactionRef& tx)\n         EXCLUSIVE_LOCKS_REQUIRED(!m_mutex);\n \n     /**\n-     * Forget a transaction.\n-     * @param[in] tx Transaction to forget.\n+     * Stop broadcasting a transaction and mark as received back from the network.\n+     * Updates a previously aborted transaction with the received_from address.\n+     *\n+     * @param[in] tx Transaction to stop broadcasting.\n+     * @param[in] received_from The peer address from which the transaction was received.\n      * @retval !nullopt The number of times the transaction was sent and confirmed\n-     * by the recipient (if the transaction existed and was removed).\n-     * @retval nullopt The transaction was not in the storage.\n+     * by the recipient (if the transaction existed and broadcasting was stopped).\n+     * @retval nullopt The transaction was not in the storage, or was already stopped.\n      */\n-    std::optional<size_t> Remove(const CTransactionRef& tx)\n-        EXCLUSIVE_LOCKS_REQUIRED(!m_mutex);\n+    std::optional<size_t> StopBroadcasting(const CTransactionRef& tx, const CService& received_from)\n+        EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        return StopBroadcasting(tx, util::Expected<CService, std::string>{received_from});\n+    }\n+\n+    /**\n+     * Stop broadcasting a transaction and mark as aborted.\n+     *\n+     * @param[in] tx Transaction to stop broadcasting.\n+     * @param[in] aborted Message describing why private broadcasting was aborted.\n+     * @retval !nullopt The number of times the transaction was sent and confirmed\n+     * by the recipient (if the transaction existed and broadcasting was stopped).\n+     * @retval nullopt The transaction was not in the storage, or was already stopped.\n+     */\n+    std::optional<size_t> StopBroadcasting(const CTransactionRef& tx, std::string aborted)\n+        EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        return StopBroadcasting(tx, util::Unexpected<std::string>{std::move(aborted)});",
      "path": "src/private_broadcast.h",
      "position": 1,
      "original_position": 87,
      "commit_id": "e0c75536ce6e1f9392c50ebf022a1840a46d0dfd",
      "original_commit_id": "5d3c79a96fab2018a3e13bbe8d6ca6080e38ec91",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "It is a good convention to pass `in` parameters as const reference. I think passing by value and then moving from the temporary might be as effective, but I find the const reference parameters more readable.",
      "created_at": "2026-02-02T12:00:33Z",
      "updated_at": "2026-02-02T12:45:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2753995437",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2753995437"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": 86,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 89,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2754002247",
      "pull_request_review_id": 3738769335,
      "id": 2754002247,
      "node_id": "PRRC_kwDOABII586kJr1H",
      "diff_hunk": "@@ -30,33 +32,73 @@\n class PrivateBroadcast\n {\n public:\n+    struct FinalState {\n+        util::Expected<CService, std::string> result;\n+        NodeClock::time_point time;\n+    };\n+\n+    struct PeerSendInfo {\n+        CService address;\n+        NodeClock::time_point sent;\n+        std::optional<NodeClock::time_point> received;\n+    };\n+\n+    struct TxBroadcastInfo {\n+        CTransactionRef tx;\n+        std::vector<PeerSendInfo> peers;\n+        std::optional<FinalState> final_state;\n+    };\n+\n     /**\n      * Add a transaction to the storage.\n      * @param[in] tx The transaction to add.\n-     * @retval true The transaction was added.\n-     * @retval false The transaction was already present.\n+     * @retval true The transaction was added, or was previously stopped and is now scheduled again.\n+     * @retval false The transaction was already present and pending.\n      */\n     bool Add(const CTransactionRef& tx)\n         EXCLUSIVE_LOCKS_REQUIRED(!m_mutex);\n \n     /**\n-     * Forget a transaction.\n-     * @param[in] tx Transaction to forget.\n+     * Stop broadcasting a transaction and mark as received back from the network.\n+     * Updates a previously aborted transaction with the received_from address.\n+     *\n+     * @param[in] tx Transaction to stop broadcasting.\n+     * @param[in] received_from The peer address from which the transaction was received.\n      * @retval !nullopt The number of times the transaction was sent and confirmed\n-     * by the recipient (if the transaction existed and was removed).\n-     * @retval nullopt The transaction was not in the storage.\n+     * by the recipient (if the transaction existed and broadcasting was stopped).\n+     * @retval nullopt The transaction was not in the storage, or was already stopped.\n      */\n-    std::optional<size_t> Remove(const CTransactionRef& tx)\n-        EXCLUSIVE_LOCKS_REQUIRED(!m_mutex);\n+    std::optional<size_t> StopBroadcasting(const CTransactionRef& tx, const CService& received_from)\n+        EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        return StopBroadcasting(tx, util::Expected<CService, std::string>{received_from});",
      "path": "src/private_broadcast.h",
      "position": 1,
      "original_position": 72,
      "commit_id": "844e08c0677f04288ed0cb38d05c68e09bae7e67",
      "original_commit_id": "5d3c79a96fab2018a3e13bbe8d6ca6080e38ec91",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I find this usage of `util::Expected` unusual. Is not [`std::variant`](https://en.cppreference.com/w/cpp/utility/variant.html) more suitable for this?",
      "created_at": "2026-02-02T12:02:23Z",
      "updated_at": "2026-02-02T12:45:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2754002247",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2754002247"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 74,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2754125280",
      "pull_request_review_id": 3738769335,
      "id": 2754125280,
      "node_id": "PRRC_kwDOABII586kKJ3g",
      "diff_hunk": "@@ -6,45 +6,95 @@\n #include <util/check.h>\n \n #include <algorithm>\n+#include <ranges>\n \n /// If a transaction is not received back from the network for this duration\n /// after it is broadcast, then we consider it stale / for rebroadcasting.\n static constexpr auto STALE_DURATION{1min};\n+static constexpr size_t MAX_STORED_TRANSACTIONS{1'000};\n \n bool PrivateBroadcast::Add(const CTransactionRef& tx)\n     EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n {\n     LOCK(m_mutex);\n-    const bool inserted{m_transactions.try_emplace(tx).second};\n+    auto [it, inserted]{m_transactions.try_emplace(tx)};\n+    if (!inserted && it->second.final_state.has_value()) {\n+        // Re-schedule a previously finished transaction for private broadcast again.\n+        it->second.final_state.reset();\n+        it->second.sent_to.clear();\n+        inserted = true;\n+    }\n+\n+    // Bound memory usage by pruning oldest finished transactions. If we still exceed the cap\n+    // but all transactions are unfinished, that's ok.\n+    if (m_transactions.size() > MAX_STORED_TRANSACTIONS) {\n+        struct FinishedEntry {\n+            NodeClock::time_point time;\n+            CTransactionRef tx;\n+        };\n+        std::vector<FinishedEntry> finished;\n+        finished.reserve(m_transactions.size());",
      "path": "src/private_broadcast.cpp",
      "position": 1,
      "original_position": 32,
      "commit_id": "5d3c79a96fab2018a3e13bbe8d6ca6080e38ec91",
      "original_commit_id": "5d3c79a96fab2018a3e13bbe8d6ca6080e38ec91",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "This micro optimization might overshoot and turn out to have negative performance impact. Maybe just drop it.",
      "created_at": "2026-02-02T12:35:05Z",
      "updated_at": "2026-02-02T12:45:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2754125280",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2754125280"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 36,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2754127585",
      "pull_request_review_id": 3738769335,
      "id": 2754127585,
      "node_id": "PRRC_kwDOABII586kKKbh",
      "diff_hunk": "@@ -6,45 +6,95 @@\n #include <util/check.h>\n \n #include <algorithm>\n+#include <ranges>\n \n /// If a transaction is not received back from the network for this duration\n /// after it is broadcast, then we consider it stale / for rebroadcasting.\n static constexpr auto STALE_DURATION{1min};\n+static constexpr size_t MAX_STORED_TRANSACTIONS{1'000};\n \n bool PrivateBroadcast::Add(const CTransactionRef& tx)\n     EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n {\n     LOCK(m_mutex);\n-    const bool inserted{m_transactions.try_emplace(tx).second};\n+    auto [it, inserted]{m_transactions.try_emplace(tx)};\n+    if (!inserted && it->second.final_state.has_value()) {\n+        // Re-schedule a previously finished transaction for private broadcast again.\n+        it->second.final_state.reset();\n+        it->second.sent_to.clear();\n+        inserted = true;\n+    }\n+\n+    // Bound memory usage by pruning oldest finished transactions. If we still exceed the cap\n+    // but all transactions are unfinished, that's ok.\n+    if (m_transactions.size() > MAX_STORED_TRANSACTIONS) {\n+        struct FinishedEntry {\n+            NodeClock::time_point time;\n+            CTransactionRef tx;\n+        };\n+        std::vector<FinishedEntry> finished;\n+        finished.reserve(m_transactions.size());\n+        for (const auto& [txref, state] : m_transactions) {\n+            if (const auto final_state{state.final_state}) {\n+                finished.push_back(FinishedEntry{.time = state.final_state->time, .tx = txref});\n+            }",
      "path": "src/private_broadcast.cpp",
      "position": 1,
      "original_position": 36,
      "commit_id": "0649a6a01ff74659af432443ae6e1f60606c844a",
      "original_commit_id": "5d3c79a96fab2018a3e13bbe8d6ca6080e38ec91",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "The variable `final_state` is not used?",
      "created_at": "2026-02-02T12:35:48Z",
      "updated_at": "2026-02-02T12:45:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2754127585",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2754127585"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": 38,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 39,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2754158977",
      "pull_request_review_id": 3738769335,
      "id": 2754158977,
      "node_id": "PRRC_kwDOABII586kKSGB",
      "diff_hunk": "@@ -6,45 +6,95 @@\n #include <util/check.h>\n \n #include <algorithm>\n+#include <ranges>\n \n /// If a transaction is not received back from the network for this duration\n /// after it is broadcast, then we consider it stale / for rebroadcasting.\n static constexpr auto STALE_DURATION{1min};\n+static constexpr size_t MAX_STORED_TRANSACTIONS{1'000};\n \n bool PrivateBroadcast::Add(const CTransactionRef& tx)\n     EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n {\n     LOCK(m_mutex);\n-    const bool inserted{m_transactions.try_emplace(tx).second};\n+    auto [it, inserted]{m_transactions.try_emplace(tx)};\n+    if (!inserted && it->second.final_state.has_value()) {\n+        // Re-schedule a previously finished transaction for private broadcast again.\n+        it->second.final_state.reset();\n+        it->second.sent_to.clear();\n+        inserted = true;\n+    }\n+\n+    // Bound memory usage by pruning oldest finished transactions. If we still exceed the cap\n+    // but all transactions are unfinished, that's ok.",
      "path": "src/private_broadcast.cpp",
      "position": 1,
      "original_position": 25,
      "commit_id": "0649a6a01ff74659af432443ae6e1f60606c844a",
      "original_commit_id": "5d3c79a96fab2018a3e13bbe8d6ca6080e38ec91",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I think the current code is fine, but just mentioning: trimming only during \"add\" could leave us with more than 1000 finalized transactions. For example, if 1100 are added, all of them pending, then no new ones are added (no calls to `Add()`, so the trimming code is never executed anymore) and one by one those 1100 are finalized. So, in theory, to enforce this, the trimming code should be run also when a state changes from non-finalized to finalized. Maybe an overkill, feel free to ignore.",
      "created_at": "2026-02-02T12:44:32Z",
      "updated_at": "2026-02-02T12:45:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2754158977",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2754158977"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": 28,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 29,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2757234131",
      "pull_request_review_id": 3742995193,
      "id": 2757234131,
      "node_id": "PRRC_kwDOABII586kWA3T",
      "diff_hunk": "@@ -30,33 +32,73 @@\n class PrivateBroadcast\n {\n public:\n+    struct FinalState {\n+        util::Expected<CService, std::string> result;\n+        NodeClock::time_point time;\n+    };\n+\n+    struct PeerSendInfo {\n+        CService address;\n+        NodeClock::time_point sent;\n+        std::optional<NodeClock::time_point> received;\n+    };\n+\n+    struct TxBroadcastInfo {\n+        CTransactionRef tx;\n+        std::vector<PeerSendInfo> peers;\n+        std::optional<FinalState> final_state;\n+    };\n+\n     /**\n      * Add a transaction to the storage.\n      * @param[in] tx The transaction to add.\n-     * @retval true The transaction was added.\n-     * @retval false The transaction was already present.\n+     * @retval true The transaction was added, or was previously stopped and is now scheduled again.\n+     * @retval false The transaction was already present and pending.\n      */\n     bool Add(const CTransactionRef& tx)\n         EXCLUSIVE_LOCKS_REQUIRED(!m_mutex);\n \n     /**\n-     * Forget a transaction.\n-     * @param[in] tx Transaction to forget.\n+     * Stop broadcasting a transaction and mark as received back from the network.\n+     * Updates a previously aborted transaction with the received_from address.\n+     *\n+     * @param[in] tx Transaction to stop broadcasting.\n+     * @param[in] received_from The peer address from which the transaction was received.\n      * @retval !nullopt The number of times the transaction was sent and confirmed\n-     * by the recipient (if the transaction existed and was removed).\n-     * @retval nullopt The transaction was not in the storage.\n+     * by the recipient (if the transaction existed and broadcasting was stopped).\n+     * @retval nullopt The transaction was not in the storage, or was already stopped.\n      */\n-    std::optional<size_t> Remove(const CTransactionRef& tx)\n-        EXCLUSIVE_LOCKS_REQUIRED(!m_mutex);\n+    std::optional<size_t> StopBroadcasting(const CTransactionRef& tx, const CService& received_from)\n+        EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        return StopBroadcasting(tx, util::Expected<CService, std::string>{received_from});\n+    }\n+\n+    /**\n+     * Stop broadcasting a transaction and mark as aborted.\n+     *\n+     * @param[in] tx Transaction to stop broadcasting.\n+     * @param[in] aborted Message describing why private broadcasting was aborted.\n+     * @retval !nullopt The number of times the transaction was sent and confirmed\n+     * by the recipient (if the transaction existed and broadcasting was stopped).\n+     * @retval nullopt The transaction was not in the storage, or was already stopped.\n+     */\n+    std::optional<size_t> StopBroadcasting(const CTransactionRef& tx, std::string aborted)\n+        EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        return StopBroadcasting(tx, util::Unexpected<std::string>{std::move(aborted)});",
      "path": "src/private_broadcast.h",
      "position": 1,
      "original_position": 87,
      "commit_id": "e0c75536ce6e1f9392c50ebf022a1840a46d0dfd",
      "original_commit_id": "5d3c79a96fab2018a3e13bbe8d6ca6080e38ec91",
      "in_reply_to_id": 2753995437,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I think `std::string_view` has made passing `const std::string&` obsolete. In this case we want to own the `std::string`, so passing by value is appropriate. The callers can move the string into the function or a temporary is automatically moved. Using a const ref here would always require making an extra copy.",
      "created_at": "2026-02-03T05:13:33Z",
      "updated_at": "2026-02-03T05:13:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2757234131",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2757234131"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": 86,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 89,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2757234352",
      "pull_request_review_id": 3742995511,
      "id": 2757234352,
      "node_id": "PRRC_kwDOABII586kWA6w",
      "diff_hunk": "@@ -30,33 +32,73 @@\n class PrivateBroadcast\n {\n public:\n+    struct FinalState {\n+        util::Expected<CService, std::string> result;\n+        NodeClock::time_point time;\n+    };\n+\n+    struct PeerSendInfo {\n+        CService address;\n+        NodeClock::time_point sent;\n+        std::optional<NodeClock::time_point> received;\n+    };\n+\n+    struct TxBroadcastInfo {\n+        CTransactionRef tx;\n+        std::vector<PeerSendInfo> peers;\n+        std::optional<FinalState> final_state;\n+    };\n+\n     /**\n      * Add a transaction to the storage.\n      * @param[in] tx The transaction to add.\n-     * @retval true The transaction was added.\n-     * @retval false The transaction was already present.\n+     * @retval true The transaction was added, or was previously stopped and is now scheduled again.\n+     * @retval false The transaction was already present and pending.\n      */\n     bool Add(const CTransactionRef& tx)\n         EXCLUSIVE_LOCKS_REQUIRED(!m_mutex);\n \n     /**\n-     * Forget a transaction.\n-     * @param[in] tx Transaction to forget.\n+     * Stop broadcasting a transaction and mark as received back from the network.\n+     * Updates a previously aborted transaction with the received_from address.\n+     *\n+     * @param[in] tx Transaction to stop broadcasting.\n+     * @param[in] received_from The peer address from which the transaction was received.\n      * @retval !nullopt The number of times the transaction was sent and confirmed\n-     * by the recipient (if the transaction existed and was removed).\n-     * @retval nullopt The transaction was not in the storage.\n+     * by the recipient (if the transaction existed and broadcasting was stopped).\n+     * @retval nullopt The transaction was not in the storage, or was already stopped.\n      */\n-    std::optional<size_t> Remove(const CTransactionRef& tx)\n-        EXCLUSIVE_LOCKS_REQUIRED(!m_mutex);\n+    std::optional<size_t> StopBroadcasting(const CTransactionRef& tx, const CService& received_from)\n+        EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        return StopBroadcasting(tx, util::Expected<CService, std::string>{received_from});",
      "path": "src/private_broadcast.h",
      "position": 1,
      "original_position": 72,
      "commit_id": "844e08c0677f04288ed0cb38d05c68e09bae7e67",
      "original_commit_id": "5d3c79a96fab2018a3e13bbe8d6ca6080e38ec91",
      "in_reply_to_id": 2754002247,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "`util::Expected` is a `std::variant` under the hood. It is generally used for when you have an expected happy path result or an unexpected error, which I think is appropriate for storing this data.",
      "created_at": "2026-02-03T05:13:39Z",
      "updated_at": "2026-02-03T05:13:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2757234352",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2757234352"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 74,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2757234621",
      "pull_request_review_id": 3742995892,
      "id": 2757234621,
      "node_id": "PRRC_kwDOABII586kWA-9",
      "diff_hunk": "@@ -6,45 +6,95 @@\n #include <util/check.h>\n \n #include <algorithm>\n+#include <ranges>\n \n /// If a transaction is not received back from the network for this duration\n /// after it is broadcast, then we consider it stale / for rebroadcasting.\n static constexpr auto STALE_DURATION{1min};\n+static constexpr size_t MAX_STORED_TRANSACTIONS{1'000};\n \n bool PrivateBroadcast::Add(const CTransactionRef& tx)\n     EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n {\n     LOCK(m_mutex);\n-    const bool inserted{m_transactions.try_emplace(tx).second};\n+    auto [it, inserted]{m_transactions.try_emplace(tx)};\n+    if (!inserted && it->second.final_state.has_value()) {\n+        // Re-schedule a previously finished transaction for private broadcast again.\n+        it->second.final_state.reset();\n+        it->second.sent_to.clear();\n+        inserted = true;\n+    }\n+\n+    // Bound memory usage by pruning oldest finished transactions. If we still exceed the cap\n+    // but all transactions are unfinished, that's ok.",
      "path": "src/private_broadcast.cpp",
      "position": 1,
      "original_position": 25,
      "commit_id": "0649a6a01ff74659af432443ae6e1f60606c844a",
      "original_commit_id": "5d3c79a96fab2018a3e13bbe8d6ca6080e38ec91",
      "in_reply_to_id": 2754158977,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Good observation. I think it's unlikely to happen, and not a big deal if it does. If there are already 1100 entries, then keeping them there until another is added is not making anything worse. This would also require a user to add a lot of txs at once, and then stop adding altogether. I'm not sure if that's a common usage pattern. We can deal with this in a follow-up when we add persistence to this data.",
      "created_at": "2026-02-03T05:13:48Z",
      "updated_at": "2026-02-03T05:13:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2757234621",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2757234621"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": 28,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 29,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2760128469",
      "pull_request_review_id": 3746510878,
      "id": 2760128469,
      "node_id": "PRRC_kwDOABII586khDfV",
      "diff_hunk": "@@ -30,33 +32,73 @@\n class PrivateBroadcast\n {\n public:\n+    struct FinalState {\n+        util::Expected<CService, std::string> result;\n+        NodeClock::time_point time;\n+    };\n+\n+    struct PeerSendInfo {\n+        CService address;\n+        NodeClock::time_point sent;\n+        std::optional<NodeClock::time_point> received;\n+    };\n+\n+    struct TxBroadcastInfo {\n+        CTransactionRef tx;\n+        std::vector<PeerSendInfo> peers;\n+        std::optional<FinalState> final_state;\n+    };\n+\n     /**\n      * Add a transaction to the storage.\n      * @param[in] tx The transaction to add.\n-     * @retval true The transaction was added.\n-     * @retval false The transaction was already present.\n+     * @retval true The transaction was added, or was previously stopped and is now scheduled again.\n+     * @retval false The transaction was already present and pending.\n      */\n     bool Add(const CTransactionRef& tx)\n         EXCLUSIVE_LOCKS_REQUIRED(!m_mutex);\n \n     /**\n-     * Forget a transaction.\n-     * @param[in] tx Transaction to forget.\n+     * Stop broadcasting a transaction and mark as received back from the network.\n+     * Updates a previously aborted transaction with the received_from address.\n+     *\n+     * @param[in] tx Transaction to stop broadcasting.\n+     * @param[in] received_from The peer address from which the transaction was received.\n      * @retval !nullopt The number of times the transaction was sent and confirmed\n-     * by the recipient (if the transaction existed and was removed).\n-     * @retval nullopt The transaction was not in the storage.\n+     * by the recipient (if the transaction existed and broadcasting was stopped).\n+     * @retval nullopt The transaction was not in the storage, or was already stopped.\n      */\n-    std::optional<size_t> Remove(const CTransactionRef& tx)\n-        EXCLUSIVE_LOCKS_REQUIRED(!m_mutex);\n+    std::optional<size_t> StopBroadcasting(const CTransactionRef& tx, const CService& received_from)\n+        EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        return StopBroadcasting(tx, util::Expected<CService, std::string>{received_from});",
      "path": "src/private_broadcast.h",
      "position": 1,
      "original_position": 72,
      "commit_id": "844e08c0677f04288ed0cb38d05c68e09bae7e67",
      "original_commit_id": "5d3c79a96fab2018a3e13bbe8d6ca6080e38ec91",
      "in_reply_to_id": 2754002247,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I find this very confusing because I see nothing \"expected\" or \"unexpected\" about stopping a transaction by \"address\" (received back) or by \"string\" (manually aborted, or not suitable for our mempool). I mean both stop-methods are equally (un)expected to me.",
      "created_at": "2026-02-03T17:12:23Z",
      "updated_at": "2026-02-03T17:12:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2760128469",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2760128469"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 74,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2761487787",
      "pull_request_review_id": 3748183397,
      "id": 2761487787,
      "node_id": "PRRC_kwDOABII586kmPWr",
      "diff_hunk": "@@ -30,33 +32,73 @@\n class PrivateBroadcast\n {\n public:\n+    struct FinalState {\n+        util::Expected<CService, std::string> result;\n+        NodeClock::time_point time;\n+    };\n+\n+    struct PeerSendInfo {\n+        CService address;\n+        NodeClock::time_point sent;\n+        std::optional<NodeClock::time_point> received;\n+    };\n+\n+    struct TxBroadcastInfo {\n+        CTransactionRef tx;\n+        std::vector<PeerSendInfo> peers;\n+        std::optional<FinalState> final_state;\n+    };\n+\n     /**\n      * Add a transaction to the storage.\n      * @param[in] tx The transaction to add.\n-     * @retval true The transaction was added.\n-     * @retval false The transaction was already present.\n+     * @retval true The transaction was added, or was previously stopped and is now scheduled again.\n+     * @retval false The transaction was already present and pending.\n      */\n     bool Add(const CTransactionRef& tx)\n         EXCLUSIVE_LOCKS_REQUIRED(!m_mutex);\n \n     /**\n-     * Forget a transaction.\n-     * @param[in] tx Transaction to forget.\n+     * Stop broadcasting a transaction and mark as received back from the network.\n+     * Updates a previously aborted transaction with the received_from address.\n+     *\n+     * @param[in] tx Transaction to stop broadcasting.\n+     * @param[in] received_from The peer address from which the transaction was received.\n      * @retval !nullopt The number of times the transaction was sent and confirmed\n-     * by the recipient (if the transaction existed and was removed).\n-     * @retval nullopt The transaction was not in the storage.\n+     * by the recipient (if the transaction existed and broadcasting was stopped).\n+     * @retval nullopt The transaction was not in the storage, or was already stopped.\n      */\n-    std::optional<size_t> Remove(const CTransactionRef& tx)\n-        EXCLUSIVE_LOCKS_REQUIRED(!m_mutex);\n+    std::optional<size_t> StopBroadcasting(const CTransactionRef& tx, const CService& received_from)\n+        EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        return StopBroadcasting(tx, util::Expected<CService, std::string>{received_from});",
      "path": "src/private_broadcast.h",
      "position": 1,
      "original_position": 72,
      "commit_id": "844e08c0677f04288ed0cb38d05c68e09bae7e67",
      "original_commit_id": "5d3c79a96fab2018a3e13bbe8d6ca6080e38ec91",
      "in_reply_to_id": 2754002247,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "When a tx gets submitted for private broadcast, we expect that it will find its way to a peer and make it back to our mempool.\r\nIf it gets stale and then has a mempool conflict, something unexpected has happened. When it was initially submitted the mempool checks passed.\r\nIf it is submitted, a user intended to broadcast the tx and expects to have it make its way back to us. They could unexpectedly decide to abort the tx before this happens.",
      "created_at": "2026-02-03T23:28:35Z",
      "updated_at": "2026-02-03T23:28:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2761487787",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2761487787"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 74,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2769877453",
      "pull_request_review_id": 3757956676,
      "id": 2769877453,
      "node_id": "PRRC_kwDOABII586lGPnN",
      "diff_hunk": "@@ -30,33 +32,73 @@\n class PrivateBroadcast\n {\n public:\n+    struct FinalState {\n+        util::Expected<CService, std::string> result;\n+        NodeClock::time_point time;\n+    };\n+\n+    struct PeerSendInfo {\n+        CService address;\n+        NodeClock::time_point sent;\n+        std::optional<NodeClock::time_point> received;\n+    };\n+\n+    struct TxBroadcastInfo {\n+        CTransactionRef tx;\n+        std::vector<PeerSendInfo> peers;\n+        std::optional<FinalState> final_state;\n+    };\n+\n     /**\n      * Add a transaction to the storage.\n      * @param[in] tx The transaction to add.\n-     * @retval true The transaction was added.\n-     * @retval false The transaction was already present.\n+     * @retval true The transaction was added, or was previously stopped and is now scheduled again.\n+     * @retval false The transaction was already present and pending.\n      */\n     bool Add(const CTransactionRef& tx)\n         EXCLUSIVE_LOCKS_REQUIRED(!m_mutex);\n \n     /**\n-     * Forget a transaction.\n-     * @param[in] tx Transaction to forget.\n+     * Stop broadcasting a transaction and mark as received back from the network.\n+     * Updates a previously aborted transaction with the received_from address.\n+     *\n+     * @param[in] tx Transaction to stop broadcasting.\n+     * @param[in] received_from The peer address from which the transaction was received.\n      * @retval !nullopt The number of times the transaction was sent and confirmed\n-     * by the recipient (if the transaction existed and was removed).\n-     * @retval nullopt The transaction was not in the storage.\n+     * by the recipient (if the transaction existed and broadcasting was stopped).\n+     * @retval nullopt The transaction was not in the storage, or was already stopped.\n      */\n-    std::optional<size_t> Remove(const CTransactionRef& tx)\n-        EXCLUSIVE_LOCKS_REQUIRED(!m_mutex);\n+    std::optional<size_t> StopBroadcasting(const CTransactionRef& tx, const CService& received_from)\n+        EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        return StopBroadcasting(tx, util::Expected<CService, std::string>{received_from});\n+    }\n+\n+    /**\n+     * Stop broadcasting a transaction and mark as aborted.\n+     *\n+     * @param[in] tx Transaction to stop broadcasting.\n+     * @param[in] aborted Message describing why private broadcasting was aborted.\n+     * @retval !nullopt The number of times the transaction was sent and confirmed\n+     * by the recipient (if the transaction existed and broadcasting was stopped).\n+     * @retval nullopt The transaction was not in the storage, or was already stopped.\n+     */\n+    std::optional<size_t> StopBroadcasting(const CTransactionRef& tx, std::string aborted)\n+        EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        return StopBroadcasting(tx, util::Unexpected<std::string>{std::move(aborted)});",
      "path": "src/private_broadcast.h",
      "position": 1,
      "original_position": 87,
      "commit_id": "e0c75536ce6e1f9392c50ebf022a1840a46d0dfd",
      "original_commit_id": "5d3c79a96fab2018a3e13bbe8d6ca6080e38ec91",
      "in_reply_to_id": 2753995437,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Actually, I think these should be passed as rvalue refs. Updated.",
      "created_at": "2026-02-05T15:51:26Z",
      "updated_at": "2026-02-05T15:51:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2769877453",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2769877453"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": 86,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 89,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2770966113",
      "pull_request_review_id": 3759223275,
      "id": 2770966113,
      "node_id": "PRRC_kwDOABII586lKZZh",
      "diff_hunk": "@@ -30,33 +32,73 @@\n class PrivateBroadcast\n {\n public:\n+    struct FinalState {\n+        util::Expected<CService, std::string> result;\n+        NodeClock::time_point time;\n+    };\n+\n+    struct PeerSendInfo {\n+        CService address;\n+        NodeClock::time_point sent;\n+        std::optional<NodeClock::time_point> received;\n+    };\n+\n+    struct TxBroadcastInfo {\n+        CTransactionRef tx;\n+        std::vector<PeerSendInfo> peers;\n+        std::optional<FinalState> final_state;\n+    };\n+\n     /**\n      * Add a transaction to the storage.\n      * @param[in] tx The transaction to add.\n-     * @retval true The transaction was added.\n-     * @retval false The transaction was already present.\n+     * @retval true The transaction was added, or was previously stopped and is now scheduled again.\n+     * @retval false The transaction was already present and pending.\n      */\n     bool Add(const CTransactionRef& tx)\n         EXCLUSIVE_LOCKS_REQUIRED(!m_mutex);\n \n     /**\n-     * Forget a transaction.\n-     * @param[in] tx Transaction to forget.\n+     * Stop broadcasting a transaction and mark as received back from the network.\n+     * Updates a previously aborted transaction with the received_from address.\n+     *\n+     * @param[in] tx Transaction to stop broadcasting.\n+     * @param[in] received_from The peer address from which the transaction was received.\n      * @retval !nullopt The number of times the transaction was sent and confirmed\n-     * by the recipient (if the transaction existed and was removed).\n-     * @retval nullopt The transaction was not in the storage.\n+     * by the recipient (if the transaction existed and broadcasting was stopped).\n+     * @retval nullopt The transaction was not in the storage, or was already stopped.\n      */\n-    std::optional<size_t> Remove(const CTransactionRef& tx)\n-        EXCLUSIVE_LOCKS_REQUIRED(!m_mutex);\n+    std::optional<size_t> StopBroadcasting(const CTransactionRef& tx, const CService& received_from)\n+        EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        return StopBroadcasting(tx, util::Expected<CService, std::string>{received_from});",
      "path": "src/private_broadcast.h",
      "position": 1,
      "original_position": 72,
      "commit_id": "844e08c0677f04288ed0cb38d05c68e09bae7e67",
      "original_commit_id": "5d3c79a96fab2018a3e13bbe8d6ca6080e38ec91",
      "in_reply_to_id": 2754002247,
      "user": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "`util::Expected<CService, std::string>` is being used here as an union (received-from-address vs. abort-reason-string) rather than for its intended success/error semantics. \r\n\r\nA `std::variant<CService, std::string>` would better communicate intent. The current approach works but can confuse future maintainers.",
      "created_at": "2026-02-05T20:14:33Z",
      "updated_at": "2026-02-05T20:14:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2770966113",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2770966113"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 74,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2771825248",
      "pull_request_review_id": 3760235749,
      "id": 2771825248,
      "node_id": "PRRC_kwDOABII586lNrJg",
      "diff_hunk": "@@ -30,33 +32,73 @@\n class PrivateBroadcast\n {\n public:\n+    struct FinalState {\n+        util::Expected<CService, std::string> result;\n+        NodeClock::time_point time;\n+    };\n+\n+    struct PeerSendInfo {\n+        CService address;\n+        NodeClock::time_point sent;\n+        std::optional<NodeClock::time_point> received;\n+    };\n+\n+    struct TxBroadcastInfo {\n+        CTransactionRef tx;\n+        std::vector<PeerSendInfo> peers;\n+        std::optional<FinalState> final_state;\n+    };\n+\n     /**\n      * Add a transaction to the storage.\n      * @param[in] tx The transaction to add.\n-     * @retval true The transaction was added.\n-     * @retval false The transaction was already present.\n+     * @retval true The transaction was added, or was previously stopped and is now scheduled again.\n+     * @retval false The transaction was already present and pending.\n      */\n     bool Add(const CTransactionRef& tx)\n         EXCLUSIVE_LOCKS_REQUIRED(!m_mutex);\n \n     /**\n-     * Forget a transaction.\n-     * @param[in] tx Transaction to forget.\n+     * Stop broadcasting a transaction and mark as received back from the network.\n+     * Updates a previously aborted transaction with the received_from address.\n+     *\n+     * @param[in] tx Transaction to stop broadcasting.\n+     * @param[in] received_from The peer address from which the transaction was received.\n      * @retval !nullopt The number of times the transaction was sent and confirmed\n-     * by the recipient (if the transaction existed and was removed).\n-     * @retval nullopt The transaction was not in the storage.\n+     * by the recipient (if the transaction existed and broadcasting was stopped).\n+     * @retval nullopt The transaction was not in the storage, or was already stopped.\n      */\n-    std::optional<size_t> Remove(const CTransactionRef& tx)\n-        EXCLUSIVE_LOCKS_REQUIRED(!m_mutex);\n+    std::optional<size_t> StopBroadcasting(const CTransactionRef& tx, const CService& received_from)\n+        EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        return StopBroadcasting(tx, util::Expected<CService, std::string>{received_from});",
      "path": "src/private_broadcast.h",
      "position": 1,
      "original_position": 72,
      "commit_id": "844e08c0677f04288ed0cb38d05c68e09bae7e67",
      "original_commit_id": "5d3c79a96fab2018a3e13bbe8d6ca6080e38ec91",
      "in_reply_to_id": 2754002247,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Updated to a `std::variant`.",
      "created_at": "2026-02-06T01:24:40Z",
      "updated_at": "2026-02-06T01:24:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2771825248",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2771825248"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 74,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2792528178",
      "pull_request_review_id": 3784002042,
      "id": 2792528178,
      "node_id": "PRRC_kwDOABII586mcpky",
      "diff_hunk": "@@ -1855,6 +1857,38 @@ PeerManagerInfo PeerManagerImpl::GetInfo() const\n     };\n }\n \n+std::vector<PrivateBroadcast::TxBroadcastInfo> PeerManagerImpl::GetPrivateBroadcastInfo() const\n+{\n+    return m_tx_for_private_broadcast.GetBroadcastInfo();\n+}\n+\n+std::vector<CTransactionRef> PeerManagerImpl::AbortPrivateBroadcast(const uint256& id)\n+{\n+    const auto snapshot{m_tx_for_private_broadcast.GetBroadcastInfo()};\n+    std::vector<CTransactionRef> to_remove;\n+    to_remove.reserve(snapshot.size());\n+    for (const auto& entry : snapshot) {",
      "path": "src/net_processing.cpp",
      "position": 23,
      "original_position": 23,
      "commit_id": "a034fbd7d907da99726c20e6bf09239d2dfd711b",
      "original_commit_id": "a034fbd7d907da99726c20e6bf09239d2dfd711b",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "I think there might be a small race here : we take a snapshot and then remove in a separate pass, but we don't hold one lock across both operations.\n\nIf another thread removes a tx between `GetBroadcastInfo()` and `Remove()`, this method can currently return a tx that this call did not actually remove.\nGiven the contract (`Transactions removed from the private broadcast queue`), should we return only txs removed by this call (or otherwise relax the docs)?\n\nMaybe something like:\n```C++\nstd::vector<CTransactionRef> PeerManagerImpl::AbortPrivateBroadcast(const uint256& id)\n{\n    const auto snapshot{m_tx_for_private_broadcast.GetBroadcastInfo()};\n    std::vector<CTransactionRef> removed_txs;\n    removed_txs.reserve(snapshot.size());\n\n    size_t connections_cancelled{0};\n    for (const auto& [tx, _] : snapshot) {\n        if (tx->GetHash().ToUint256() != id && tx->GetWitnessHash().ToUint256() != id) continue;\n        if (const auto peer_acks{m_tx_for_private_broadcast.Remove(tx)}) {\n            removed_txs.push_back(tx);\n            if (NUM_PRIVATE_BROADCAST_PER_TX > *peer_acks) {\n                connections_cancelled += (NUM_PRIVATE_BROADCAST_PER_TX - *peer_acks);\n            }\n        }\n    }\n    m_connman.m_private_broadcast.NumToOpenSub(connections_cancelled);\n\n    return removed_txs;\n}\n```",
      "created_at": "2026-02-11T10:33:34Z",
      "updated_at": "2026-02-11T14:03:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2792528178",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2792528178"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1870,
      "original_line": 1870,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2792541308",
      "pull_request_review_id": 3784002042,
      "id": 2792541308,
      "node_id": "PRRC_kwDOABII586mcsx8",
      "diff_hunk": "@@ -1855,6 +1857,38 @@ PeerManagerInfo PeerManagerImpl::GetInfo() const\n     };\n }\n \n+std::vector<PrivateBroadcast::TxBroadcastInfo> PeerManagerImpl::GetPrivateBroadcastInfo() const\n+{\n+    return m_tx_for_private_broadcast.GetBroadcastInfo();\n+}\n+\n+std::vector<CTransactionRef> PeerManagerImpl::AbortPrivateBroadcast(const uint256& id)\n+{\n+    const auto snapshot{m_tx_for_private_broadcast.GetBroadcastInfo()};\n+    std::vector<CTransactionRef> to_remove;\n+    to_remove.reserve(snapshot.size());\n+    for (const auto& entry : snapshot) {\n+        if (entry.tx->GetHash().ToUint256() == id || entry.tx->GetWitnessHash().ToUint256() == id) {\n+            to_remove.push_back(entry.tx);\n+        }\n+    }\n+\n+    size_t connections_cancelled{0};\n+    for (const auto& tx : to_remove) {\n+        const auto peer_acks{m_tx_for_private_broadcast.Remove(tx)};\n+        if (!peer_acks.has_value()) continue;\n+        if (NUM_PRIVATE_BROADCAST_PER_TX > peer_acks.value()) {\n+            connections_cancelled += (NUM_PRIVATE_BROADCAST_PER_TX - peer_acks.value());\n+        }\n+    }\n+\n+    if (connections_cancelled > 0) {\n+        m_connman.m_private_broadcast.NumToOpenSub(connections_cancelled);",
      "path": "src/net_processing.cpp",
      "position": 39,
      "original_position": 39,
      "commit_id": "a034fbd7d907da99726c20e6bf09239d2dfd711b",
      "original_commit_id": "a034fbd7d907da99726c20e6bf09239d2dfd711b",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "shouldn't `NumToOpenSub` handle `connections_cancelled > 0` explicitly?\nIt seems to handle it implicitly, so the guard may not be needed.",
      "created_at": "2026-02-11T10:36:00Z",
      "updated_at": "2026-02-11T14:03:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2792541308",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2792541308"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1886,
      "original_line": 1886,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2792587204",
      "pull_request_review_id": 3784002042,
      "id": 2792587204,
      "node_id": "PRRC_kwDOABII586mc3_E",
      "diff_hunk": "@@ -366,6 +376,22 @@ def run_test(self):\n         self.log.info(\"Waiting for normal broadcast to another peer\")\n         self.destinations[1][\"node\"].wait_for_inv([inv])\n \n+        self.log.info(\"Checking getprivatebroadcastinfo no longer reports the transaction after it is received back\")\n+        pbinfo = tx_originator.getprivatebroadcastinfo()\n+        pending = [t for t in pbinfo[\"transactions\"] if t[\"txid\"] == txs[0][\"txid\"] and t[\"wtxid\"] == txs[0][\"wtxid\"]]\n+        assert_equal(len(pending), 0)\n+\n+        self.log.info(\"Checking abortprivatebroadcast removes a pending private-broadcast transaction\")\n+        tx_abort = wallet.create_self_transfer()\n+        tx_originator.sendrawtransaction(hexstring=tx_abort[\"hex\"], maxfeerate=0.1)\n+        assert any(t[\"wtxid\"] == tx_abort[\"wtxid\"] for t in tx_originator.getprivatebroadcastinfo()[\"transactions\"])\n+        abort_res = tx_originator.abortprivatebroadcast(tx_abort[\"txid\"])\n+        assert_equal(len(abort_res[\"removed_transactions\"]), 1)\n+        assert_equal(abort_res[\"removed_transactions\"][0][\"txid\"], tx_abort[\"txid\"])\n+        assert_equal(abort_res[\"removed_transactions\"][0][\"wtxid\"], tx_abort[\"wtxid\"])\n+        assert_equal(abort_res[\"removed_transactions\"][0][\"hex\"].lower(), tx_abort[\"hex\"].lower())\n+        assert all(t[\"wtxid\"] != tx_abort[\"wtxid\"] for t in tx_originator.getprivatebroadcastinfo()[\"transactions\"])\n+",
      "path": "test/functional/p2p_private_broadcast.py",
      "position": 36,
      "original_position": 36,
      "commit_id": "a034fbd7d907da99726c20e6bf09239d2dfd711b",
      "original_commit_id": "a034fbd7d907da99726c20e6bf09239d2dfd711b",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "Might make sense to verify that `abortprivatebroadcast` fails for missing ids:\r\n```python\r\n        self.log.info(\"Checking abortprivatebroadcast fails for non-existent transaction\")\r\n        assert_raises_rpc_error(\r\n            -5,\r\n            \"Transaction not in private broadcast queue\",\r\n            tx_originator.abortprivatebroadcast,\r\n            \"0\" * 64,\r\n        )\r\n```",
      "created_at": "2026-02-11T10:46:13Z",
      "updated_at": "2026-02-11T14:03:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2792587204",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2792587204"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 394,
      "original_line": 394,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2792863991",
      "pull_request_review_id": 3784002042,
      "id": 2792863991,
      "node_id": "PRRC_kwDOABII586md7j3",
      "diff_hunk": "@@ -48,12 +49,13 @@ BOOST_AUTO_TEST_CASE(basic)\n \n     BOOST_CHECK(pb.Add(tx2));\n \n-    const auto tx_for_recipient1{pb.PickTxForSend(/*will_send_to_nodeid=*/recipient1).value()};\n+    const auto tx_for_recipient1{pb.PickTxForSend(/*will_send_to_nodeid=*/recipient1, /*will_send_to_address=*/addr1).value()};\n     BOOST_CHECK(tx_for_recipient1 == tx1 || tx_for_recipient1 == tx2);\n \n     // A second pick must return the other transaction.\n     const NodeId recipient2{2};\n-    const auto tx_for_recipient2{pb.PickTxForSend(/*will_send_to_nodeid=*/recipient2).value()};\n+    const CService addr2{};",
      "path": "src/test/private_broadcast_tests.cpp",
      "position": 23,
      "original_position": 23,
      "commit_id": "573bb542be80b63b1713a0b76bedaa5e37c3783f",
      "original_commit_id": "573bb542be80b63b1713a0b76bedaa5e37c3783f",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "573bb542be80b63b1713a0b76bedaa5e37c3783f\nCould we use distinct non-default addresses (or at least distinct ports) for `addr1`/`addr2` here?\nWith both as `CService{}`, this test wonâ€™t catch address propagation mixups, something like:\n```patch\ndiff --git a/src/test/private_broadcast_tests.cpp b/src/test/private_broadcast_tests.cpp\n--- a/src/test/private_broadcast_tests.cpp\t(revision 573bb542be80b63b1713a0b76bedaa5e37c3783f)\n+++ b/src/test/private_broadcast_tests.cpp\t(date 1770810667358)\n@@ -28,8 +28,9 @@\n     SetMockTime(Now<NodeSeconds>());\n \n     PrivateBroadcast pb;\n-    const NodeId recipient1{1};\n-    const CService addr1{};\n+    constexpr NodeId recipient1{1};\n+    constexpr in_addr ipv4_addr{0x01010101}; // Dummy IPv4 address: 1.1.1.1.\n+    const CService addr1{ipv4_addr, /*port=*/1111};\n \n     // No transactions initially.\n     BOOST_CHECK(!pb.PickTxForSend(/*will_send_to_nodeid=*/recipient1, /*will_send_to_address=*/addr1).has_value());\n@@ -53,13 +54,13 @@\n     BOOST_CHECK(tx_for_recipient1 == tx1 || tx_for_recipient1 == tx2);\n \n     // A second pick must return the other transaction.\n-    const NodeId recipient2{2};\n-    const CService addr2{};\n+    constexpr NodeId recipient2{2};\n+    const CService addr2{ipv4_addr, /*port=*/2222};\n     const auto tx_for_recipient2{pb.PickTxForSend(/*will_send_to_nodeid=*/recipient2, /*will_send_to_address=*/addr2).value()};\n     BOOST_CHECK(tx_for_recipient2 == tx1 || tx_for_recipient2 == tx2);\n     BOOST_CHECK_NE(tx_for_recipient1, tx_for_recipient2);\n \n-    const NodeId nonexistent_recipient{0};\n+    constexpr NodeId nonexistent_recipient{0};\n \n     // Confirm transactions <-> recipients mapping is correct.\n     BOOST_CHECK(!pb.GetTxForNode(nonexistent_recipient).has_value());\n@@ -92,7 +93,8 @@\n     BOOST_CHECK_EQUAL(pb.Remove(tx_for_recipient2).value(), 0);\n     BOOST_CHECK(!pb.Remove(tx_for_recipient2).has_value());\n \n-    BOOST_CHECK(!pb.PickTxForSend(/*will_send_to_nodeid=*/nonexistent_recipient, /*will_send_to_address=*/CService{}).has_value());\n+    const CService addr_nonexistent{ipv4_addr, /*port=*/3333};\n+    BOOST_CHECK(!pb.PickTxForSend(/*will_send_to_nodeid=*/nonexistent_recipient, /*will_send_to_address=*/addr_nonexistent).has_value());\n }\n \n BOOST_AUTO_TEST_SUITE_END()\n```\n\nThat would simplify the next commit so that it can focus purely on `GetBroadcastInfo` changes",
      "created_at": "2026-02-11T11:53:21Z",
      "updated_at": "2026-02-11T14:03:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2792863991",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2792863991"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 57,
      "original_line": 57,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2792914044",
      "pull_request_review_id": 3784002042,
      "id": 2792914044,
      "node_id": "PRRC_kwDOABII586meHx8",
      "diff_hunk": "@@ -49,16 +53,46 @@ BOOST_AUTO_TEST_CASE(basic)\n \n     BOOST_CHECK(pb.Add(tx2));\n \n+    {\n+        const auto infos{pb.GetBroadcastInfo()};\n+        BOOST_CHECK_EQUAL(infos.size(), 2);\n+\n+        const auto it1{std::ranges::find_if(infos, [&](const auto& info) { return info.tx->GetWitnessHash() == tx1->GetWitnessHash(); })};\n+        const auto it2{std::ranges::find_if(infos, [&](const auto& info) { return info.tx->GetWitnessHash() == tx2->GetWitnessHash(); })};\n+        BOOST_REQUIRE(it1 != infos.end());\n+        BOOST_REQUIRE(it2 != infos.end());\n+        const auto& info1{*it1};\n+        const auto& info2{*it2};\n+\n+        BOOST_CHECK_EQUAL(info1.peers.size(), 0);\n+        BOOST_CHECK_EQUAL(info2.peers.size(), 0);\n+    }",
      "path": "src/test/private_broadcast_tests.cpp",
      "position": 42,
      "original_position": 42,
      "commit_id": "cc10837fc10c3afb37c83f1d8b4a7a088cd046d9",
      "original_commit_id": "cc10837fc10c3afb37c83f1d8b4a7a088cd046d9",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "there's a lot of repetition here alone and parts of this code block are repeated a few more times here - can we add a local helper lambdas to dedup these?\n```patch\ndiff --git a/src/test/private_broadcast_tests.cpp b/src/test/private_broadcast_tests.cpp\n--- a/src/test/private_broadcast_tests.cpp\t(revision a2c339144982836e4f0773604b2d99c46dd143b8)\n+++ b/src/test/private_broadcast_tests.cpp\t(date 1770811873480)\n@@ -52,21 +52,19 @@\n     BOOST_REQUIRE(tx1->GetWitnessHash() != tx2->GetWitnessHash());\n \n     BOOST_CHECK(pb.Add(tx2));\n-\n-    {\n+    const auto find_tx_info{[](auto& infos, const CTransactionRef& tx) -> const PrivateBroadcast::TxBroadcastInfo& {\n+        const auto it{std::ranges::find(infos, tx->GetWitnessHash(), [](const auto& info) { return info.tx->GetWitnessHash(); })};\n+        BOOST_REQUIRE(it != infos.end());\n+        return *it;\n+    }};\n+    const auto check_peer_counts{[&](size_t tx1_peer_count, size_t tx2_peer_count) {\n         const auto infos{pb.GetBroadcastInfo()};\n         BOOST_CHECK_EQUAL(infos.size(), 2);\n+        BOOST_CHECK_EQUAL(find_tx_info(infos, tx1).peers.size(), tx1_peer_count);\n+        BOOST_CHECK_EQUAL(find_tx_info(infos, tx2).peers.size(), tx2_peer_count);\n+    }};\n \n-        const auto it1{std::ranges::find_if(infos, [&](const auto& info) { return info.tx->GetWitnessHash() == tx1->GetWitnessHash(); })};\n-        const auto it2{std::ranges::find_if(infos, [&](const auto& info) { return info.tx->GetWitnessHash() == tx2->GetWitnessHash(); })};\n-        BOOST_REQUIRE(it1 != infos.end());\n-        BOOST_REQUIRE(it2 != infos.end());\n-        const auto& info1{*it1};\n-        const auto& info2{*it2};\n-\n-        BOOST_CHECK_EQUAL(info1.peers.size(), 0);\n-        BOOST_CHECK_EQUAL(info2.peers.size(), 0);\n-    }\n+    check_peer_counts(/*tx1_peer_count=*/0, /*tx2_peer_count=*/0);\n \n     const auto tx_for_recipient1{pb.PickTxForSend(/*will_send_to_nodeid=*/recipient1, /*will_send_to_address=*/addr1).value()};\n     BOOST_CHECK(tx_for_recipient1 == tx1 || tx_for_recipient1 == tx2);\n@@ -78,20 +76,7 @@\n     BOOST_CHECK(tx_for_recipient2 == tx1 || tx_for_recipient2 == tx2);\n     BOOST_CHECK_NE(tx_for_recipient1, tx_for_recipient2);\n \n-    {\n-        const auto infos{pb.GetBroadcastInfo()};\n-        BOOST_CHECK_EQUAL(infos.size(), 2);\n-\n-        const auto it1{std::ranges::find_if(infos, [&](const auto& info) { return info.tx->GetWitnessHash() == tx1->GetWitnessHash(); })};\n-        const auto it2{std::ranges::find_if(infos, [&](const auto& info) { return info.tx->GetWitnessHash() == tx2->GetWitnessHash(); })};\n-        BOOST_REQUIRE(it1 != infos.end());\n-        BOOST_REQUIRE(it2 != infos.end());\n-        const auto& info1{*it1};\n-        const auto& info2{*it2};\n-\n-        BOOST_CHECK_EQUAL(info1.peers.size(), 1);\n-        BOOST_CHECK_EQUAL(info2.peers.size(), 1);\n-    }\n+    check_peer_counts(/*tx1_peer_count=*/1, /*tx2_peer_count=*/1);\n \n     const NodeId nonexistent_recipient{0};\n \n@@ -114,23 +99,19 @@\n     BOOST_CHECK(pb.DidNodeConfirmReception(recipient1));\n     BOOST_CHECK(!pb.DidNodeConfirmReception(recipient2));\n \n-    {\n-        const auto infos{pb.GetBroadcastInfo()};\n-        BOOST_CHECK_EQUAL(infos.size(), 2);\n-\n-        const auto it_confirmed{std::ranges::find_if(infos, [&](const auto& info) { return info.tx->GetWitnessHash() == tx_for_recipient1->GetWitnessHash(); })};\n-        const auto it_unconfirmed{std::ranges::find_if(infos, [&](const auto& info) { return info.tx->GetWitnessHash() == tx_for_recipient2->GetWitnessHash(); })};\n-        BOOST_REQUIRE(it_confirmed != infos.end());\n-        BOOST_REQUIRE(it_unconfirmed != infos.end());\n-        const auto& confirmed_tx{*it_confirmed};\n-        const auto& unconfirmed_tx{*it_unconfirmed};\n-\n-        BOOST_CHECK_EQUAL(confirmed_tx.peers.size(), 1);\n-        BOOST_CHECK_EQUAL(confirmed_tx.peers[0].address.ToStringAddrPort(), addr1.ToStringAddrPort());\n-        BOOST_CHECK_EQUAL(unconfirmed_tx.peers.size(), 1);\n-        BOOST_CHECK_EQUAL(unconfirmed_tx.peers[0].address.ToStringAddrPort(), addr2.ToStringAddrPort());\n-        BOOST_CHECK(confirmed_tx.peers[0].received.has_value());\n-        BOOST_CHECK(!unconfirmed_tx.peers[0].received.has_value());\n+    const auto infos{pb.GetBroadcastInfo()};\n+    BOOST_CHECK_EQUAL(infos.size(), 2);\n+    {\n+        const auto& [tx, peers]{find_tx_info(infos, tx_for_recipient1)};\n+        BOOST_CHECK_EQUAL(peers.size(), 1);\n+        BOOST_CHECK_EQUAL(peers[0].address.ToStringAddrPort(), addr1.ToStringAddrPort());\n+        BOOST_CHECK(peers[0].received.has_value());\n+    }\n+    {\n+        const auto& [tx, peers]{find_tx_info(infos, tx_for_recipient2)};\n+        BOOST_CHECK_EQUAL(peers.size(), 1);\n+        BOOST_CHECK_EQUAL(peers[0].address.ToStringAddrPort(), addr2.ToStringAddrPort());\n+        BOOST_CHECK(!peers[0].received.has_value());\n     }\n \n     BOOST_CHECK_EQUAL(pb.GetStale().size(), 1);\n```",
      "created_at": "2026-02-11T12:05:33Z",
      "updated_at": "2026-02-11T14:03:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2792914044",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2792914044"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": 56,
      "original_start_line": 56,
      "start_side": "RIGHT",
      "line": 69,
      "original_line": 69,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2793032202",
      "pull_request_review_id": 3784002042,
      "id": 2793032202,
      "node_id": "PRRC_kwDOABII586mekoK",
      "diff_hunk": "@@ -104,6 +104,30 @@ std::vector<CTransactionRef> PrivateBroadcast::GetStale() const\n     return stale;\n }\n \n+std::vector<PrivateBroadcast::TxBroadcastInfo> PrivateBroadcast::GetBroadcastInfo() const\n+    EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+{\n+    LOCK(m_mutex);\n+    std::vector<TxBroadcastInfo> entries;\n+    entries.reserve(m_transactions.size());\n+\n+    for (const auto& [tx, sent_to] : m_transactions) {\n+        TxBroadcastInfo info;\n+        info.tx = tx;\n+        info.peers.reserve(sent_to.size());\n+        for (const auto& status : sent_to) {\n+            info.peers.push_back(PeerSendInfo{\n+                .address = status.address,\n+                .sent = status.picked,\n+                .received = status.confirmed,\n+            });\n+        }\n+        entries.push_back(std::move(info));\n+    }",
      "path": "src/private_broadcast.cpp",
      "position": 23,
      "original_position": 23,
      "commit_id": "cc10837fc10c3afb37c83f1d8b4a7a088cd046d9",
      "original_commit_id": "cc10837fc10c3afb37c83f1d8b4a7a088cd046d9",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "nit: alternatively we could just construct the peers before attempting to add them to the info and filling it later:\n```suggestion\n    for (const auto& [tx, sent_to] : m_transactions) {\n        std::vector<PeerSendInfo> peers;\n        peers.reserve(sent_to.size());\n        for (const auto& status : sent_to) {\n            peers.emplace_back(PeerSendInfo{.address = status.address, .sent = status.picked, .received = status.confirmed});\n        }\n        entries.emplace_back(TxBroadcastInfo{.tx = tx, .peers = std::move(peers)});\n    }\n```\nor maybe even\n```suggestion\n    for (const auto& sent_to : m_transactions | std::views::values) {\n        std::vector<PeerSendInfo> peers;\n        peers.reserve(sent_to.size());\n        std::ranges::transform(sent_to, std::back_inserter(peers), [](const auto& status) {\n            return PeerSendInfo{.address = status.address, .sent = status.picked, .received = status.confirmed};\n        });\n    }\n```",
      "created_at": "2026-02-11T12:30:54Z",
      "updated_at": "2026-02-11T14:03:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2793032202",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2793032202"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": 114,
      "original_start_line": 114,
      "start_side": "RIGHT",
      "line": 126,
      "original_line": 126,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2793392841",
      "pull_request_review_id": 3784002042,
      "id": 2793392841,
      "node_id": "PRRC_kwDOABII586mf8rJ",
      "diff_hunk": "@@ -301,6 +301,16 @@ def check_broadcasts(self, label, tx, broadcasts_to_expect, skip_destinations):\n             self.log.info(f\"{label}: ok: outbound connection i={i} is private broadcast of txid={tx['txid']}\")\n             broadcasts_done += 1\n \n+        # Verify the tx we just observed is tracked in getprivatebroadcastinfo.\n+        pbinfo = self.nodes[0].getprivatebroadcastinfo()\n+        pending = [t for t in pbinfo[\"transactions\"] if t[\"txid\"] == tx[\"txid\"] and t[\"wtxid\"] == tx[\"wtxid\"]]\n+        assert_equal(len(pending), 1)\n+        assert_equal(pending[0][\"hex\"].lower(), tx[\"hex\"].lower())\n+        peers = pending[0][\"peers\"]\n+        assert len(peers) >= NUM_PRIVATE_BROADCAST_PER_TX\n+        assert all(\"address\" in p and \"sent\" in p for p in peers)\n+        assert sum(1 for p in peers if \"received\" in p) >= NUM_PRIVATE_BROADCAST_PER_TX",
      "path": "test/functional/p2p_private_broadcast.py",
      "position": 12,
      "original_position": 12,
      "commit_id": "a10e5a176e0e84ec57f8d68bae5da0ebfd0c4316",
      "original_commit_id": "a10e5a176e0e84ec57f8d68bae5da0ebfd0c4316",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "some people prefer to use the dedicated asserts that return better :\n```suggestion\n        assert_greater_than_or_equal(sum(1 for p in peers if \"received\" in p), NUM_PRIVATE_BROADCAST_PER_TX)\n```",
      "created_at": "2026-02-11T13:47:59Z",
      "updated_at": "2026-02-11T14:03:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2793392841",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2793392841"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 312,
      "original_line": 312,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2793411510",
      "pull_request_review_id": 3784002042,
      "id": 2793411510,
      "node_id": "PRRC_kwDOABII586mgBO2",
      "diff_hunk": "@@ -366,6 +376,11 @@ def run_test(self):\n         self.log.info(\"Waiting for normal broadcast to another peer\")\n         self.destinations[1][\"node\"].wait_for_inv([inv])\n \n+        self.log.info(\"Checking getprivatebroadcastinfo no longer reports the transaction after it is received back\")\n+        pbinfo = tx_originator.getprivatebroadcastinfo()\n+        pending = [t for t in pbinfo[\"transactions\"] if t[\"txid\"] == txs[0][\"txid\"] and t[\"wtxid\"] == txs[0][\"wtxid\"]]\n+        assert_equal(len(pending), 0)",
      "path": "test/functional/p2p_private_broadcast.py",
      "position": 24,
      "original_position": 24,
      "commit_id": "a10e5a176e0e84ec57f8d68bae5da0ebfd0c4316",
      "original_commit_id": "a10e5a176e0e84ec57f8d68bae5da0ebfd0c4316",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "name": null,
        "patch_url": null
      },
      "body": "alternatively we can avoid stopping after the first match is found:\n```suggestion\n        assert not any(t[\"txid\"] == txs[0][\"txid\"] and t[\"wtxid\"] == txs[0][\"wtxid\"] for t in pbinfo[\"transactions\"])\n```",
      "created_at": "2026-02-11T13:51:32Z",
      "updated_at": "2026-02-11T14:03:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/34329#discussion_r2793411510",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2793411510"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/34329"
        }
      },
      "start_line": 381,
      "original_start_line": 381,
      "start_side": "RIGHT",
      "line": 382,
      "original_line": 382,
      "side": "RIGHT"
    }
  ]
}