{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605",
    "id": 2009211458,
    "node_id": "PR_kwDOABII5853wiJC",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/30605",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/30605.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/30605.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30605",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30605/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/d7fca5c171f450621112457ea6f7c99b2e21d354",
    "number": 30605,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "Cluster linearization: separate tests from tests-of-tests",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "Part of the cluster mempool project: #30289\r\n \r\nThe current cluster linearization fuzz tests contain two tests which combine testing of production code with testing of the test code itself:\r\n* `clusterlin_search_finder`: establishes the correctness of `SearchCandidateFinder` by comparing against both `SimpleCandidateFinder` and `ExhaustiveCandidateFinder` (which is even more simple than `SimpleCandidateFinder`). If `SimpleCandidateFinder` works correctly, then this comparison with `ExhaustiveCandidateFinder` is redundant. If it isn't, we ought to find that in a test specific to `SimpleCandidateFinder` rather than as a side-effect of testing `SearchCandidateFinder`. Split this functionality out into a new `clusterlin_simple_finder`.\r\n* `clusterlin_linearize`: establishes the correctness of `Linearize` by comparing against both `SimpleLinearize` and literally every valid linearization for the cluster. Again, if `SimpleLinearize` works correctly, then this comparison with all valid linearizations is redundant, and if it isn't we should find it in a test for `SimpleLinearize`. Do so by splitting off that functionality into `clusterlin_simple_linearize`.\r\n\r\nAfter that, a few general improvements to the affected tests are made (comparing with linearizations and subsets read from the fuzz input, plus a performance improvement).",
    "labels": [
      {
        "id": 62963516,
        "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
        "name": "Tests",
        "color": "d4c5f9",
        "default": false
      }
    ],
    "created_at": "2024-08-07T20:48:19Z",
    "updated_at": "2025-06-15T12:56:53Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "843696b84aa90ddcfe3130d76e9b9a69ab278754",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "sipa:202408_cluster_tests",
      "ref": "202408_cluster_tests",
      "sha": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1458655,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNDU4NjU1",
        "name": "bitcoin",
        "full_name": "sipa/bitcoin",
        "owner": {
          "login": "sipa",
          "id": 548488,
          "node_id": "MDQ6VXNlcjU0ODQ4OA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/sipa",
          "html_url": "https://github.com/sipa",
          "followers_url": "https://api.github.com/users/sipa/followers",
          "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
          "organizations_url": "https://api.github.com/users/sipa/orgs",
          "repos_url": "https://api.github.com/users/sipa/repos",
          "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/sipa/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/sipa/bitcoin",
        "description": "Bitcoin integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/sipa/bitcoin",
        "archive_url": "https://api.github.com/repos/sipa/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/sipa/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/sipa/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/sipa/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/sipa/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/sipa/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/sipa/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/sipa/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/sipa/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/sipa/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/sipa/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/sipa/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/sipa/bitcoin/events",
        "forks_url": "https://api.github.com/repos/sipa/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/sipa/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/sipa/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/sipa/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/sipa/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/sipa/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/sipa/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/sipa/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/sipa/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/sipa/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/sipa/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/sipa/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/sipa/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/sipa/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/sipa/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/sipa/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:sipa/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/sipa/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/sipa/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/sipa/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/sipa/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/sipa/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/sipa/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/sipa/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/sipa/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/sipa/bitcoin/hooks",
        "svn_url": "https://github.com/sipa/bitcoin",
        "homepage": "http://www.bitcoin.org",
        "language": "TypeScript",
        "forks_count": 20,
        "stargazers_count": 90,
        "watchers_count": 90,
        "size": 264391,
        "default_branch": "lows",
        "open_issues_count": 16,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-06-14T22:56:28Z",
        "created_at": "2011-03-09T10:46:59Z",
        "updated_at": "2025-02-27T11:11:39Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "2def85847318513afa7765e042567d13f616c54c",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 37375,
        "stargazers_count": 84157,
        "watchers_count": 84157,
        "size": 283876,
        "default_branch": "master",
        "open_issues_count": 750,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-06-14T00:27:57Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-06-15T12:12:30Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 304,
    "deletions": 72,
    "changed_files": 1,
    "commits": 11,
    "review_comments": 38,
    "comments": 12
  },
  "events": [
    {
      "event": "commented",
      "id": 2274322158,
      "node_id": "IC_kwDOABII586Hj2bu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2274322158",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-07T20:48:21Z",
      "updated_at": "2025-06-15T12:56:53Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/30605.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Stale ACK | [marcofleon](https://github.com/bitcoin/bitcoin/pull/30605#pullrequestreview-2921965126), [ismaelsadeeq](https://github.com/bitcoin/bitcoin/pull/30605#pullrequestreview-2925447583) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#issuecomment-2274322158",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30605"
    },
    {
      "event": "labeled",
      "id": 13798392755,
      "node_id": "LE_lADOABII586SSgymzwAAAAM2csOz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13798392755",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-07T22:13:34Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2274438968,
      "node_id": "IC_kwDOABII586HkS84",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2274438968",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-07T22:13:35Z",
      "updated_at": "2024-08-07T22:13:35Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/28483985918</sub>\n\n<details><summary>Hints</summary>\n\nMake sure to run all tests locally, according to the documentation.\n\nThe failure may happen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#issuecomment-2274438968",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30605"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13798817138,
      "node_id": "HRFPE_lADOABII586SSgymzwAAAAM2eT1y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13798817138",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "383ad1b1f5c806dcefef387423adb9abf09d9aaa",
      "commit_url": "https://api.github.com/repos/sipa/bitcoin/commits/383ad1b1f5c806dcefef387423adb9abf09d9aaa",
      "created_at": "2024-08-07T23:33:47Z"
    },
    {
      "event": "unlabeled",
      "id": 13800347387,
      "node_id": "UNLE_lADOABII586SSgymzwAAAAM2kJb7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13800347387",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-08T02:45:46Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 13805119351,
      "node_id": "LE_lADOABII586SSgymzwAAAAM22Wd3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13805119351",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-08T11:05:33Z",
      "label": {
        "name": "Tests",
        "color": "d4c5f9"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14123792390,
      "node_id": "HRFPE_lADOABII586SSgymzwAAAANJ1_gG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14123792390",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "48ae2bf539de7bc18c1828a12313a4a7c885586c",
      "commit_url": "https://api.github.com/repos/sipa/bitcoin/commits/48ae2bf539de7bc18c1828a12313a4a7c885586c",
      "created_at": "2024-09-04T03:56:53Z"
    },
    {
      "event": "labeled",
      "id": 14278001007,
      "node_id": "LE_lADOABII586SSgymzwAAAANTCQFv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14278001007",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-16T18:38:10Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14293274266,
      "node_id": "HRFPE_lADOABII586SSgymzwAAAANT8g6a",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14293274266",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "bf1b1b09ca4dd18b7848fb1807df8533cf930df7",
      "commit_url": "https://api.github.com/repos/sipa/bitcoin/commits/bf1b1b09ca4dd18b7848fb1807df8533cf930df7",
      "created_at": "2024-09-17T15:24:24Z"
    },
    {
      "event": "commented",
      "id": 2356233258,
      "node_id": "IC_kwDOABII586McUQq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2356233258",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-17T15:24:38Z",
      "updated_at": "2024-09-17T15:24:38Z",
      "author_association": "MEMBER",
      "body": "Rebased after merge of #30286.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#issuecomment-2356233258",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30605"
    },
    {
      "event": "unlabeled",
      "id": 14294215447,
      "node_id": "UNLE_lADOABII586SSgymzwAAAANUAGsX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14294215447",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-17T16:36:25Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 2326163992,
      "node_id": "PRR_kwDOABII586KpnIY",
      "url": null,
      "actor": null,
      "commit_id": "bf1b1b09ca4dd18b7848fb1807df8533cf930df7",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#pullrequestreview-2326163992",
      "submitted_at": "2024-09-24T19:09:40Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
    },
    {
      "event": "reviewed",
      "id": 2328851273,
      "node_id": "PRR_kwDOABII586Kz3NJ",
      "url": null,
      "actor": null,
      "commit_id": "bf1b1b09ca4dd18b7848fb1807df8533cf930df7",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Code review bf1b1b09ca4dd18b7848fb1807df8533cf930df7\r\n\r\nThis is a nice refactor, really improve the cluster linearize test a lot.",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#pullrequestreview-2328851273",
      "submitted_at": "2024-09-25T17:59:41Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14408257348,
      "node_id": "HRFPE_lADOABII586SSgymzwAAAANazI9E",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14408257348",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "81579e5a0b14c11b9fee0fe36c5bafffb3f3d822",
      "commit_url": "https://api.github.com/repos/sipa/bitcoin/commits/81579e5a0b14c11b9fee0fe36c5bafffb3f3d822",
      "created_at": "2024-09-26T02:35:03Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14418127230,
      "node_id": "HRFPE_lADOABII586SSgymzwAAAANbYyl-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14418127230",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "0cae0c487cb8b32b96f888a31e818f2a90f848cc",
      "commit_url": "https://api.github.com/repos/sipa/bitcoin/commits/0cae0c487cb8b32b96f888a31e818f2a90f848cc",
      "created_at": "2024-09-26T14:53:25Z"
    },
    {
      "event": "reviewed",
      "id": 2333401196,
      "node_id": "PRR_kwDOABII586LFOBs",
      "url": null,
      "actor": null,
      "commit_id": "0cae0c487cb8b32b96f888a31e818f2a90f848cc",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Code review ACK 0cae0c487cb8b32b96f888a31e818f2a90f848cc",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#pullrequestreview-2333401196",
      "submitted_at": "2024-09-27T10:43:14Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14440962175,
      "node_id": "HRFPE_lADOABII586SSgymzwAAAANcv5h_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14440962175",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "8eb70e3ca467ac66bc1f43e3e0b3338d63806ee5",
      "commit_url": "https://api.github.com/repos/sipa/bitcoin/commits/8eb70e3ca467ac66bc1f43e3e0b3338d63806ee5",
      "created_at": "2024-09-28T15:42:10Z"
    },
    {
      "event": "reviewed",
      "id": 2347653035,
      "node_id": "PRR_kwDOABII586L7ler",
      "url": null,
      "actor": null,
      "commit_id": "8eb70e3ca467ac66bc1f43e3e0b3338d63806ee5",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "I reviewed the latest changes in the last push \r\n\r\nCode review 8eb70e3ca467ac66bc1f43e3e0b3338d63806ee5\r\n\r\nChanges since my last review were\r\n\r\n1. Addressed my previous review comments.\r\n\r\n2. An optimization was introduced in the  `clusterlin_simple_linearize` fuzz test that skips to the last non-topological permutation.\r\nFor example, given transactions `[A, B, C, D, E]`.\r\nif A-B-C are a valid topological ancestor set, and the first permutation results in [A, E, B, C, D], which is not topologically valid, we can skip to [A, E, D, C, B]. \r\nThis optimization saves iterations, allowing us to increase the maximum dependency graph we can check to 8.\r\n\r\n3. Assert that the found subsets are compared against the first valid topological set, verifying that we achieve better results when optimal.\r\n\r\n4. Compared the optimal linearization to the default chunking of the dependency graph.\r\n\r\nOverall, the changes look good to me. I left some comments.\r\nI also have a single question regarding the process of marking topological set as done.\r\n",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#pullrequestreview-2347653035",
      "submitted_at": "2024-10-04T11:24:21Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14520744216,
      "node_id": "HRFPE_lADOABII586SSgymzwAAAANhgPkY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14520744216",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "4ef437a3a022b8faf6334f94a82dc17d181c79a4",
      "commit_url": "https://api.github.com/repos/sipa/bitcoin/commits/4ef437a3a022b8faf6334f94a82dc17d181c79a4",
      "created_at": "2024-10-04T15:09:17Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14521041848,
      "node_id": "HRFPE_lADOABII586SSgymzwAAAANhhYO4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14521041848",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "46b6a67eccb411903deb09af3301c2499d2c0217",
      "commit_url": "https://api.github.com/repos/sipa/bitcoin/commits/46b6a67eccb411903deb09af3301c2499d2c0217",
      "created_at": "2024-10-04T15:33:48Z"
    },
    {
      "event": "reviewed",
      "id": 2348390455,
      "node_id": "PRR_kwDOABII586L-Zg3",
      "url": null,
      "actor": null,
      "commit_id": "46b6a67eccb411903deb09af3301c2499d2c0217",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Code review ACK 46b6a67eccb411903deb09af3301c2499d2c0217\r\n\r\nAll comments were addressed.\r\n",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#pullrequestreview-2348390455",
      "submitted_at": "2024-10-04T15:47:30Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
    },
    {
      "event": "labeled",
      "id": 14593782628,
      "node_id": "LE_lADOABII586SSgymzwAAAANl23Nk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14593782628",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-10T15:47:34Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14594958208,
      "node_id": "HRFPE_lADOABII586SSgymzwAAAANl7WOA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14594958208",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "ff4634771a19f7edb6ae7ee842964823d14edd24",
      "commit_url": "https://api.github.com/repos/sipa/bitcoin/commits/ff4634771a19f7edb6ae7ee842964823d14edd24",
      "created_at": "2024-10-10T17:24:48Z"
    },
    {
      "event": "commented",
      "id": 2405669097,
      "node_id": "IC_kwDOABII586PY5jp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2405669097",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-10T17:25:19Z",
      "updated_at": "2024-10-10T17:25:19Z",
      "author_association": "MEMBER",
      "body": "Rebased after the merge of #30857.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#issuecomment-2405669097",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30605"
    },
    {
      "event": "unlabeled",
      "id": 14595367221,
      "node_id": "UNLE_lADOABII586SSgymzwAAAANl86E1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14595367221",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-10T18:02:05Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 14595889788,
      "node_id": "LE_lADOABII586SSgymzwAAAANl-5p8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14595889788",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-10T18:49:32Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2405816580,
      "node_id": "IC_kwDOABII586PZdkE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2405816580",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-10T18:49:33Z",
      "updated_at": "2024-10-10T18:49:33Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/31368623698</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#issuecomment-2405816580",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30605"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14595993190,
      "node_id": "HRFPE_lADOABII586SSgymzwAAAANl_S5m",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14595993190",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "30f30bbcaae67d725360c3e7b83207904e1a9b19",
      "commit_url": "https://api.github.com/repos/sipa/bitcoin/commits/30f30bbcaae67d725360c3e7b83207904e1a9b19",
      "created_at": "2024-10-10T18:59:02Z"
    },
    {
      "event": "unlabeled",
      "id": 14597156816,
      "node_id": "UNLE_lADOABII586SSgymzwAAAANmDu_Q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14597156816",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-10T20:43:54Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2413603230,
      "node_id": "IC_kwDOABII586P3Kme",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2413603230",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-15T11:16:07Z",
      "updated_at": "2024-10-15T11:16:07Z",
      "author_association": "MEMBER",
      "body": "re-ACK 30f30bbcaae67d725360c3e7b83207904e1a9b19 \r\n\r\nThe recent push was rebase on master after https://github.com/bitcoin/bitcoin/pull/30857",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#issuecomment-2413603230",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30605"
    },
    {
      "event": "commented",
      "id": 2539605981,
      "node_id": "IC_kwDOABII586XX0_d",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2539605981",
      "actor": {
        "login": "marcofleon",
        "id": 95179662,
        "node_id": "U_kgDOBaxTjg",
        "avatar_url": "https://avatars.githubusercontent.com/u/95179662?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/marcofleon",
        "html_url": "https://github.com/marcofleon",
        "followers_url": "https://api.github.com/users/marcofleon/followers",
        "following_url": "https://api.github.com/users/marcofleon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/marcofleon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/marcofleon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/marcofleon/subscriptions",
        "organizations_url": "https://api.github.com/users/marcofleon/orgs",
        "repos_url": "https://api.github.com/users/marcofleon/repos",
        "events_url": "https://api.github.com/users/marcofleon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/marcofleon/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-12T17:43:58Z",
      "updated_at": "2024-12-12T17:43:58Z",
      "author_association": "CONTRIBUTOR",
      "body": "```\r\necho \"oz0QFv7///////8HPRCGEBAQEBA7Ozs7OwYGBgYGd3d3d3d3d5sAAAAAAAAAd3d3d3cGBgYGBgb/BgYGBgYGBgYGCAgICAgICAgICAgICAgICAgICAgICAgIBgYGBgYGBgYGBgY7OzsQEBAQEBAQEBAQEBAQLT09PRA9PT09PRAQEBAQEC0QEBAQLT09PRA9PT09EA==\" | base64 --decode > clusterlin_linearize.crash\r\nFUZZ=clusterlin_linearize ./clusterlinfuzzbuild/src/test/fuzz/fuzz clusterlin_linearize.crash\r\nsrc/test/fuzz/cluster_linearize.cpp:1069: void clusterlin_linearize_fuzz_target(FuzzBufferType): Assertion `cmp_read >= 0' failed.\r\n```\r\nJust did some initial fuzzing for now, but I'm looking to do a more thorough review of this soon.",
      "user": {
        "login": "marcofleon",
        "id": 95179662,
        "node_id": "U_kgDOBaxTjg",
        "avatar_url": "https://avatars.githubusercontent.com/u/95179662?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/marcofleon",
        "html_url": "https://github.com/marcofleon",
        "followers_url": "https://api.github.com/users/marcofleon/followers",
        "following_url": "https://api.github.com/users/marcofleon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/marcofleon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/marcofleon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/marcofleon/subscriptions",
        "organizations_url": "https://api.github.com/users/marcofleon/orgs",
        "repos_url": "https://api.github.com/users/marcofleon/repos",
        "events_url": "https://api.github.com/users/marcofleon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/marcofleon/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#issuecomment-2539605981",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30605"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 15639679357,
      "node_id": "HRFPE_lADOABII586SSgymzwAAAAOkMpF9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15639679357",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "f5cded8829021aee9e6ac3e782b44218d22fd3d9",
      "commit_url": "https://api.github.com/repos/sipa/bitcoin/commits/f5cded8829021aee9e6ac3e782b44218d22fd3d9",
      "created_at": "2024-12-12T19:34:57Z"
    },
    {
      "event": "commented",
      "id": 2539855446,
      "node_id": "IC_kwDOABII586XYx5W",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2539855446",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-12T19:35:21Z",
      "updated_at": "2024-12-12T19:35:21Z",
      "author_association": "MEMBER",
      "body": "@marcofleon Thank you! It was a bug in the fuzz test, comparing the wrong things. Should be fixed.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#issuecomment-2539855446",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30605"
    },
    {
      "event": "mentioned",
      "id": 15639683304,
      "node_id": "MEE_lADOABII586SSgymzwAAAAOkMqDo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15639683304",
      "actor": {
        "login": "marcofleon",
        "id": 95179662,
        "node_id": "U_kgDOBaxTjg",
        "avatar_url": "https://avatars.githubusercontent.com/u/95179662?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/marcofleon",
        "html_url": "https://github.com/marcofleon",
        "followers_url": "https://api.github.com/users/marcofleon/followers",
        "following_url": "https://api.github.com/users/marcofleon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/marcofleon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/marcofleon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/marcofleon/subscriptions",
        "organizations_url": "https://api.github.com/users/marcofleon/orgs",
        "repos_url": "https://api.github.com/users/marcofleon/repos",
        "events_url": "https://api.github.com/users/marcofleon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/marcofleon/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-12T19:35:23Z"
    },
    {
      "event": "subscribed",
      "id": 15639683329,
      "node_id": "SE_lADOABII586SSgymzwAAAAOkMqEB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15639683329",
      "actor": {
        "login": "marcofleon",
        "id": 95179662,
        "node_id": "U_kgDOBaxTjg",
        "avatar_url": "https://avatars.githubusercontent.com/u/95179662?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/marcofleon",
        "html_url": "https://github.com/marcofleon",
        "followers_url": "https://api.github.com/users/marcofleon/followers",
        "following_url": "https://api.github.com/users/marcofleon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/marcofleon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/marcofleon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/marcofleon/subscriptions",
        "organizations_url": "https://api.github.com/users/marcofleon/orgs",
        "repos_url": "https://api.github.com/users/marcofleon/repos",
        "events_url": "https://api.github.com/users/marcofleon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/marcofleon/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-12T19:35:23Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 16539082061,
      "node_id": "HRFPE_lADOABII586SSgymzwAAAAPZzl1N",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16539082061",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "c8d2a330b61716dba6326c16224b7a7fab356ad4",
      "commit_url": "https://api.github.com/repos/sipa/bitcoin/commits/c8d2a330b61716dba6326c16224b7a7fab356ad4",
      "created_at": "2025-03-03T18:40:56Z"
    },
    {
      "event": "labeled",
      "id": 17001210056,
      "node_id": "LE_lADOABII586SSgymzwAAAAP1WeDI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17001210056",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-26T23:08:15Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17011422597,
      "node_id": "HRFPE_lADOABII586SSgymzwAAAAP19bWF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17011422597",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "d2fc10b64505512a70bed05e7bb21d76c8f748cd",
      "commit_url": "https://api.github.com/repos/sipa/bitcoin/commits/d2fc10b64505512a70bed05e7bb21d76c8f748cd",
      "created_at": "2025-03-27T11:36:47Z"
    },
    {
      "event": "commented",
      "id": 2757728856,
      "node_id": "IC_kwDOABII586kX5pY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2757728856",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-27T11:37:13Z",
      "updated_at": "2025-03-27T11:37:13Z",
      "author_association": "MEMBER",
      "body": "Rebased after the merge of #31363.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#issuecomment-2757728856",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30605"
    },
    {
      "event": "unlabeled",
      "id": 17012125341,
      "node_id": "UNLE_lADOABII586SSgymzwAAAAP2AG6d",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17012125341",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-27T12:12:05Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 17698758199,
      "node_id": "LE_lADOABII586SSgymzwAAAAQe7Z43",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17698758199",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-17T11:15:28Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 17702930315,
      "node_id": "UNLE_lADOABII586SSgymzwAAAAQfLUeL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17702930315",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-18T11:01:43Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 2913685583,
      "node_id": "PRR_kwDOABII586tq1BP",
      "url": null,
      "actor": null,
      "commit_id": "d2fc10b64505512a70bed05e7bb21d76c8f748cd",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "reACK d2fc10b64505512a70bed05e7bb21d76c8f748cd\r\n\r\nWith some comments, even though some things added here are deleted in #32545\r\nI think this is quite useful and should get in before SFL.",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#pullrequestreview-2913685583",
      "submitted_at": "2025-06-10T15:02:33Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18083151048,
      "node_id": "HRFPE_lADOABII586SSgymzwAAAAQ11vzI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18083151048",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "448570555f004453359ca7e223ae4638fda321be",
      "commit_url": "https://api.github.com/repos/sipa/bitcoin/commits/448570555f004453359ca7e223ae4638fda321be",
      "created_at": "2025-06-10T21:34:56Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18085465003,
      "node_id": "HRFPE_lADOABII586SSgymzwAAAAQ1-kur",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18085465003",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "30c699dea39157631515d867c65a03987bd46cce",
      "commit_url": "https://api.github.com/repos/sipa/bitcoin/commits/30c699dea39157631515d867c65a03987bd46cce",
      "created_at": "2025-06-11T02:33:54Z"
    },
    {
      "event": "reviewed",
      "id": 2917474725,
      "node_id": "PRR_kwDOABII586t5SGl",
      "url": null,
      "actor": null,
      "commit_id": "30c699dea39157631515d867c65a03987bd46cce",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "reACK 30c699dea39157631515d867c65a03987bd46cce",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#pullrequestreview-2917474725",
      "submitted_at": "2025-06-11T14:24:23Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
    },
    {
      "event": "commented",
      "id": 2963912913,
      "node_id": "IC_kwDOABII586wqbjR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2963912913",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-11T19:22:38Z",
      "updated_at": "2025-06-11T21:27:18Z",
      "author_association": "MEMBER",
      "body": "A suggestion from during the review club: abstracting out the `std::next_permuation` iteration loop into a `ExhaustiveLinearize` function, which could be done using a similar interface as `Linearize` and `SimpleLinearize` (which would then mimick the search algorithm progress `SearchCandidateFinder` -> `SimpleCandidateFinder` -> `ExhaustiveCandidateFinder`).\r\n\r\nEDIT: the problem below doesn't matter, because it always iterates through all (valid) permutations anyway, so it will always encounter the optimal.\r\n\r\n---\r\n\r\n~~I've thought about this a bit, and it is possible, but not entirely a trivial operation, because contrary to what the current code does (which compares every found permutation individual with the linearization result), it would need an interface that returns a single \"found\" linearization. However, this is a complication, because found linearization may be incomparable. We know an optimal linearization always exists, which is at least as good or better as every other linearization, but our iterating over permutations may not find the optimal.~~\r\n\r\n~~There are two ways of dealing with this:~~\r\n* ~~Only replace the \"best\" found so far in our hypothetical `ExhaustiveLinearize` whenever a linearization is found that is strictly better than the best so far.~~\r\n* ~~Use `MergeLinearizations` to combine all linearizations when they are incomparable. This would be a bit slower, but may find better results when there aren't enough iterations. However, it would also complicate the code, and would \"depend\" on the correctness of MergeLinearization (tested through yet another fuzz test) to convey confidence in the \"obvious correctness\".~~\r\n\r\n~~Worth doing? Which approach?~~\r\n",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#issuecomment-2963912913",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30605"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18117538027,
      "node_id": "HRFPE_lADOABII586SSgymzwAAAAQ347Dr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18117538027",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "9877e275b95400e46f336bc34ce41ed68ce43683",
      "commit_url": "https://api.github.com/repos/sipa/bitcoin/commits/9877e275b95400e46f336bc34ce41ed68ce43683",
      "created_at": "2025-06-12T14:54:44Z"
    },
    {
      "event": "labeled",
      "id": 18117541606,
      "node_id": "LE_lADOABII586SSgymzwAAAAQ3477m",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18117541606",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-12T14:54:55Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2967172931,
      "node_id": "IC_kwDOABII586w23dD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2967172931",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-12T14:54:57Z",
      "updated_at": "2025-06-12T14:54:57Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Task `ARM, unit tests, no functional tests`: https://github.com/bitcoin/bitcoin/runs/43981343548</sub>\n<sub>LLM reason (âœ¨ experimental): Compilation error due to a multi-line comment causing a warning treated as error, leading to build failure.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#issuecomment-2967172931",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30605"
    },
    {
      "event": "commented",
      "id": 2967247693,
      "node_id": "IC_kwDOABII586w3JtN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2967247693",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-12T15:14:13Z",
      "updated_at": "2025-06-13T13:23:27Z",
      "author_association": "MEMBER",
      "body": "I have abstracted out the `std::next_permutation` logic into a separate `ExhaustiveLinearize()` function, and also added a comment that explains how the various functions/classes/tests are related.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#issuecomment-2967247693",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30605"
    },
    {
      "event": "unlabeled",
      "id": 18120300364,
      "node_id": "UNLE_lADOABII586SSgymzwAAAAQ4DddM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18120300364",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-12T17:42:10Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 2921965126,
      "node_id": "PRR_kwDOABII586uKaZG",
      "url": null,
      "actor": null,
      "commit_id": "9877e275b95400e46f336bc34ce41ed68ce43683",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "code review ACK 9877e275b95400e46f336bc34ce41ed68ce43683\r\n\r\nPreviously, the test helpers (`SimpleCandidateFinder` and `SimpleLinearize`) were being checked for correctness within the same fuzz targets that are testing the production cluster linearization. Separating out these checks into their own targets reduces redundancy and makes the hierarchy of all these tests easier to follow. \r\n\r\nI ran `clusterlin_linearize`, `clusterlin_search_finder`, `clusterlin_simple_finder`, and `clusterlin_simple_linearize` for ~50 CPU hours each, no issues.\r\n\r\nThe added diagram comment at the beginning is helpful. It also looks a lot cleaner in #32545 ðŸ˜Ž",
      "user": {
        "login": "marcofleon",
        "id": 95179662,
        "node_id": "U_kgDOBaxTjg",
        "avatar_url": "https://avatars.githubusercontent.com/u/95179662?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/marcofleon",
        "html_url": "https://github.com/marcofleon",
        "followers_url": "https://api.github.com/users/marcofleon/followers",
        "following_url": "https://api.github.com/users/marcofleon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/marcofleon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/marcofleon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/marcofleon/subscriptions",
        "organizations_url": "https://api.github.com/users/marcofleon/orgs",
        "repos_url": "https://api.github.com/users/marcofleon/repos",
        "events_url": "https://api.github.com/users/marcofleon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/marcofleon/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#pullrequestreview-2921965126",
      "submitted_at": "2025-06-12T18:19:24Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
    },
    {
      "event": "review_requested",
      "id": 18120792365,
      "node_id": "RRE_lADOABII586SSgymzwAAAAQ4FVkt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18120792365",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-12T18:19:27Z",
      "requested_reviewer": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "reviewed",
      "id": 2925444354,
      "node_id": "PRR_kwDOABII586uXr0C",
      "url": null,
      "actor": null,
      "commit_id": "9877e275b95400e46f336bc34ce41ed68ce43683",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#pullrequestreview-2925444354",
      "submitted_at": "2025-06-13T16:27:33Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
    },
    {
      "event": "review_requested",
      "id": 18137313535,
      "node_id": "RRE_lADOABII586SSgymzwAAAAQ5EXD_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18137313535",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-13T16:27:37Z",
      "requested_reviewer": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "reviewed",
      "id": 2925447583,
      "node_id": "PRR_kwDOABII586uXsmf",
      "url": null,
      "actor": null,
      "commit_id": "9877e275b95400e46f336bc34ce41ed68ce43683",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "re-ACK 9877e275b95400e46f336bc34ce41ed68ce43683",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#pullrequestreview-2925447583",
      "submitted_at": "2025-06-13T16:28:30Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDc3YTQzMmVlNzA0YjRhODNkNTYxMzVlZDEwY2YyYWRmNGIzYzE4YWY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/77a432ee704b4a83d56135ed10cf2adf4b3c18af",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/77a432ee704b4a83d56135ed10cf2adf4b3c18af",
      "tree": {
        "sha": "eab383223fda42c5cbb9f509cf629e057b54cf49",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/eab383223fda42c5cbb9f509cf629e057b54cf49"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2def85847318513afa7765e042567d13f616c54c",
          "sha": "2def85847318513afa7765e042567d13f616c54c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/2def85847318513afa7765e042567d13f616c54c"
        }
      ],
      "message": "clusterlin tests: count SimpleCandidateFinder iterations better\n\nOnly count the number of actual new subsets added. If the queue contains\na work item that completely covers a component, no transaction can be added\nto it without creating a disconnected component. In this case, also don't\ncount it as an iteration.\n\nWith this, the number of iterations performed by SimpleCandidateFinder is\nbounded by the number of distinct connected topologically-valid subsets of\nthe cluster.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-06-14T22:27:24Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2024-09-25T23:34:47Z"
      },
      "sha": "77a432ee704b4a83d56135ed10cf2adf4b3c18af"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGEzOGMzODk1MWUxMGE2MWFmODBlM2JjYTFlMWFlMDRkZTk3OGQ1YzA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a38c38951e10a61af80e3bca1e1ae04de978d5c0",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a38c38951e10a61af80e3bca1e1ae04de978d5c0",
      "tree": {
        "sha": "f18c1e2ef9c43f0a66ba74304c9ca901ca350be0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f18c1e2ef9c43f0a66ba74304c9ca901ca350be0"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/77a432ee704b4a83d56135ed10cf2adf4b3c18af",
          "sha": "77a432ee704b4a83d56135ed10cf2adf4b3c18af",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/77a432ee704b4a83d56135ed10cf2adf4b3c18af"
        }
      ],
      "message": "clusterlin tests: separate testing of Search- and SimpleCandidateFinder\n\nThis separates the existing fuzz test into:\n\n* clusterlin_search_finder: establishes SearchCandidateFinder's correctness using the\n                            simpler SimpleCandidateFinder.\n* clusterlin_simple_finder: establishes SimpleCandidateFinder's correctness using the\n                            (even) simpler ExhaustiveCandidateFinder.\n\nrather than trying to do both at once.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-06-14T22:27:24Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2024-08-07T17:40:47Z"
      },
      "sha": "a38c38951e10a61af80e3bca1e1ae04de978d5c0"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDEwZTkwZjdhZWY5Y2ZmNmZhNjNkYzE1YWRiZTIyZTY4Zjc2YWFjNTg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/10e90f7aef9cff6fa63dc15adbe22e68f76aac58",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/10e90f7aef9cff6fa63dc15adbe22e68f76aac58",
      "tree": {
        "sha": "754f397b3a8c46516874356c9d150397ccf5334d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/754f397b3a8c46516874356c9d150397ccf5334d"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a38c38951e10a61af80e3bca1e1ae04de978d5c0",
          "sha": "a38c38951e10a61af80e3bca1e1ae04de978d5c0",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a38c38951e10a61af80e3bca1e1ae04de978d5c0"
        }
      ],
      "message": "clusterlin tests: make SimpleCandidateFinder always find connected\n\nMake a small change to guarantee that SimpleCandidateFinder only ever returns\nconnected solutions, even when non-optimal. Then test this property.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-06-14T22:27:24Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-06-10T21:32:48Z"
      },
      "sha": "10e90f7aef9cff6fa63dc15adbe22e68f76aac58"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDk4YzFjODhiNmY4ZDkyOGIzODkzZTI5MTBjZTBjNDAwYTZmZDE5Mjg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/98c1c88b6f8d928b3893e2910ce0c400a6fd1928",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/98c1c88b6f8d928b3893e2910ce0c400a6fd1928",
      "tree": {
        "sha": "2df027adb623a9fabe925fd4dcaff3f4a82b7bd5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2df027adb623a9fabe925fd4dcaff3f4a82b7bd5"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/10e90f7aef9cff6fa63dc15adbe22e68f76aac58",
          "sha": "10e90f7aef9cff6fa63dc15adbe22e68f76aac58",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/10e90f7aef9cff6fa63dc15adbe22e68f76aac58"
        }
      ],
      "message": "clusterlin tests: separate testing of SimpleLinearize and Linearize\n\nThe separates the existing fuzz test into:\n\n* clusterlin_linearize: establishes the correctness of Linearize() using the\n                        simpler SimpleLinearize() function.\n* clusterlin_simple_linearize: establishes the correctness of SimpleLinearize() by\n                        comparing with all valid linearizations computed by\n                        std::next_permutation.\n\nrather than combining the first two into a single fuzz test.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-06-14T22:27:24Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2024-08-07T18:27:33Z"
      },
      "sha": "98c1c88b6f8d928b3893e2910ce0c400a6fd1928"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDZlMzc4MjRhYzM5MDgzNWQzZDljODJkMTk3ZjU4ZTk5MmNjYzU4NGY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6e37824ac390835d3d9c82d197f58e992ccc584f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6e37824ac390835d3d9c82d197f58e992ccc584f",
      "tree": {
        "sha": "36958fb2cf7856ce29c55c6dd11feaebc4414925",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/36958fb2cf7856ce29c55c6dd11feaebc4414925"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/98c1c88b6f8d928b3893e2910ce0c400a6fd1928",
          "sha": "98c1c88b6f8d928b3893e2910ce0c400a6fd1928",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/98c1c88b6f8d928b3893e2910ce0c400a6fd1928"
        }
      ],
      "message": "clusterlin tests: optimize clusterlin_simple_linearize\n\nWhenever a non-topological permutation is encountered, fast forward to the\nlast permutation with the same non-topological prefix, skipping over\npotentially many permutations that are non-topological for the same reason.\n\nWith that, increase the checking of all permutations to clusters of size 8\ninstead of 7.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-06-14T22:27:24Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2024-09-26T02:18:33Z"
      },
      "sha": "6e37824ac390835d3d9c82d197f58e992ccc584f"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDVmOTJlYmVlMGQyNDAxZDBkN2I1YzM0NjZkNjZhNGIwOWU1MWNjYjA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5f92ebee0d2401d0d7b5c3466d66a4b09e51ccb0",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/5f92ebee0d2401d0d7b5c3466d66a4b09e51ccb0",
      "tree": {
        "sha": "ebbf32d1f468087953284e5cb23aed4eeb052512",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ebbf32d1f468087953284e5cb23aed4eeb052512"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6e37824ac390835d3d9c82d197f58e992ccc584f",
          "sha": "6e37824ac390835d3d9c82d197f58e992ccc584f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/6e37824ac390835d3d9c82d197f58e992ccc584f"
        }
      ],
      "message": "clusterlin tests: compare with fuzz-provided topological sets",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-06-14T22:27:24Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2024-09-26T02:29:46Z"
      },
      "sha": "5f92ebee0d2401d0d7b5c3466d66a4b09e51ccb0"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDk0ZjNlMTdjMzNlNmZlNjNjNGY3OTFkZTdhYWNmYjkxMjA1OWUzOTQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/94f3e17c33e6fe63c4f791de7aacfb912059e394",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/94f3e17c33e6fe63c4f791de7aacfb912059e394",
      "tree": {
        "sha": "7310de23061c9c80c541e904ea5a227661e4228b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7310de23061c9c80c541e904ea5a227661e4228b"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5f92ebee0d2401d0d7b5c3466d66a4b09e51ccb0",
          "sha": "5f92ebee0d2401d0d7b5c3466d66a4b09e51ccb0",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5f92ebee0d2401d0d7b5c3466d66a4b09e51ccb0"
        }
      ],
      "message": "clusterlin tests: compare with fuzz-provided linearizations",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-06-14T22:27:24Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2024-09-26T02:30:02Z"
      },
      "sha": "94f3e17c33e6fe63c4f791de7aacfb912059e394"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGRhMjNlY2VmMjliN2U2YTFlMDNkZTk2OTdhNmJkZjZmYmU5NDRlZjc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/da23ecef29b7e6a1e03de9697a6bdf6fbe944ef7",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/da23ecef29b7e6a1e03de9697a6bdf6fbe944ef7",
      "tree": {
        "sha": "20d0acefe7ce5343a852254085970b5c979fe294",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/20d0acefe7ce5343a852254085970b5c979fe294"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/94f3e17c33e6fe63c4f791de7aacfb912059e394",
          "sha": "94f3e17c33e6fe63c4f791de7aacfb912059e394",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/94f3e17c33e6fe63c4f791de7aacfb912059e394"
        }
      ],
      "message": "clusterlin tests: support non-empty ReadTopologicalSubset()\n\nIn several call sites for ReadTopologicalSubset, a non-empty result is\nexpected, necessitating a special case at the call site for empty results.\n\nFix this by adding a bool non_empty argument, which does this special\ncasing (more efficiently) inside ReadTopologicalSubset itself.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-06-14T22:27:24Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2024-10-04T14:59:32Z"
      },
      "sha": "da23ecef29b7e6a1e03de9697a6bdf6fbe944ef7"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDFmYTU1YTY0ZWQxOGEwYTNkZWZiZWQzM2Y2YmQzNTU5MjlmNjdiNDg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1fa55a64ed18a0a3defbed33f6bd355929f67b48",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/1fa55a64ed18a0a3defbed33f6bd355929f67b48",
      "tree": {
        "sha": "ddb432845987d054d25c1f603464a59d0d2fe039",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ddb432845987d054d25c1f603464a59d0d2fe039"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/da23ecef29b7e6a1e03de9697a6bdf6fbe944ef7",
          "sha": "da23ecef29b7e6a1e03de9697a6bdf6fbe944ef7",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/da23ecef29b7e6a1e03de9697a6bdf6fbe944ef7"
        }
      ],
      "message": "clusterlin tests: verify that chunks are minimal",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-06-14T22:27:24Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-03-03T18:40:42Z"
      },
      "sha": "1fa55a64ed18a0a3defbed33f6bd355929f67b48"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGI2NGU2MWQyZGU2NTAyNmM0NmY3MGNiOTFlM2NiMjIxM2MzMzZiZTA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b64e61d2de65026c46f70cb91e3cb2213c336be0",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b64e61d2de65026c46f70cb91e3cb2213c336be0",
      "tree": {
        "sha": "d8bd68ee10b1e82042f0f97bfc9ef59e1be0c43c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d8bd68ee10b1e82042f0f97bfc9ef59e1be0c43c"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1fa55a64ed18a0a3defbed33f6bd355929f67b48",
          "sha": "1fa55a64ed18a0a3defbed33f6bd355929f67b48",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/1fa55a64ed18a0a3defbed33f6bd355929f67b48"
        }
      ],
      "message": "clusterlin: abstract try-permutations into ExhaustiveLinearize function\n\nRather than this exhaustive linearization check happening inline inside\nclusterlin_simple_linearize, abstract it out into a Linearize()-like\nfunction for clarity.\n\nNote that this isn't exactly a refactor, because the old code would compare the\nfound linearization against all (valid) permutations, while the new code instead\nfirst computes the best linearization from all valid permutations, and then\ncompares it with the found one.",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-06-14T22:28:13Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-06-11T21:30:56Z"
      },
      "sha": "b64e61d2de65026c46f70cb91e3cb2213c336be0"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGQ3ZmNhNWMxNzFmNDUwNjIxMTEyNDU3ZWE2ZjdjOTliMmUyMWQzNTQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d7fca5c171f450621112457ea6f7c99b2e21d354",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d7fca5c171f450621112457ea6f7c99b2e21d354",
      "tree": {
        "sha": "c1b244ba0023123b9445933566ad1aeaaa73fee5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c1b244ba0023123b9445933566ad1aeaaa73fee5"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b64e61d2de65026c46f70cb91e3cb2213c336be0",
          "sha": "b64e61d2de65026c46f70cb91e3cb2213c336be0",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b64e61d2de65026c46f70cb91e3cb2213c336be0"
        }
      ],
      "message": "clusterlin: add big comment explaning the relation between tests",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-06-14T22:35:33Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2025-06-12T14:49:04Z"
      },
      "sha": "d7fca5c171f450621112457ea6f7c99b2e21d354"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18152983788,
      "node_id": "HRFPE_lADOABII586SSgymzwAAAAQ6AIzs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18152983788",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "commit_url": "https://api.github.com/repos/sipa/bitcoin/commits/d7fca5c171f450621112457ea6f7c99b2e21d354",
      "created_at": "2025-06-14T22:36:55Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1775578705",
      "pull_request_review_id": 2328851273,
      "id": 1775578705,
      "node_id": "PRRC_kwDOABII585p1S5R",
      "diff_hunk": "@@ -74,6 +73,7 @@ class SimpleCandidateFinder\n                 // transactions that share ancestry with inc so far (which means only connected\n                 // sets will be considered).\n                 if (inc_none || inc.Overlaps(m_depgraph.Ancestors(split))) {\n+                    --iterations_left;",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": 92,
      "original_position": 12,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "d5d6839fe7479ccd98f450081cfd76b478d1bf12",
      "in_reply_to_id": null,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I believe this new behavior is correct, as it reduces `iteration_left` when work is being done. This aligns with the behavior in `SearchCandidateFinder`.\r\n\r\nOn a side note, I think \"iterations\" might be a misnomer here. A more accurate term could be \"maximum optimization\" or \"optimizations left\".",
      "created_at": "2024-09-25T16:37:38Z",
      "updated_at": "2024-09-25T17:59:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r1775578705",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1775578705"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 137,
      "original_line": 137,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1775638585",
      "pull_request_review_id": 2328851273,
      "id": 1775638585,
      "node_id": "PRRC_kwDOABII585p1hg5",
      "diff_hunk": "@@ -495,11 +494,93 @@ FUZZ_TARGET(clusterlin_ancestor_finder)\n \n static constexpr auto MAX_SIMPLE_ITERATIONS = 300000;\n \n+FUZZ_TARGET(clusterlin_simple_finder)\n+{\n+    // Verify that SimpleCandidateFinder works as expected by sanity checking the results\n+    // and comparing with the results from ExhaustiveCandidateFinder. Note that\n+    // SimpleCandidateFinder is only used in tests; the purpose of this fuzz test is to establish\n+    // confidence in SimpleCandidateFinder, so that it can be used to test SearchCandidateFinder\n+    // below.\n+\n+    // Retrieve a depgraph from the fuzz input.\n+    SpanReader reader(buffer);\n+    DepGraph<TestBitSet> depgraph;\n+    try {\n+        reader >> Using<DepGraphFormatter>(depgraph);\n+    } catch (const std::ios_base::failure&) {}\n+\n+    // Instantiate the SimpleCandidateFinder to be tested, and the ExhaustiveCandidateFinder it is\n+    // being tested against.\n+    SimpleCandidateFinder smp_finder(depgraph);\n+    ExhaustiveCandidateFinder exh_finder(depgraph);\n+\n+    auto todo = TestBitSet::Fill(depgraph.TxCount());\n+    while (todo.Any()) {\n+        assert(!smp_finder.AllDone());\n+        assert(!exh_finder.AllDone());\n+\n+        // Call SimpleCandidateFinder.\n+        auto [found, iterations_done] = smp_finder.FindCandidateSet(MAX_SIMPLE_ITERATIONS);\n+        bool optimal = (iterations_done != MAX_SIMPLE_ITERATIONS);\n+\n+        // Sanity check the result.\n+        assert(iterations_done <= MAX_SIMPLE_ITERATIONS);\n+        assert(found.transactions.Any());\n+        assert(found.transactions.IsSubsetOf(todo));\n+        assert(depgraph.FeeRate(found.transactions) == found.feerate);\n+        // Check that it is topologically valid.\n+        for (auto i : found.transactions) {\n+            assert(found.transactions.IsSupersetOf(depgraph.Ancestors(i) & todo));\n+        }\n+\n+        // At most 2^(N-1) iterations can be required: the number of non-empty connected subsets a\n+        // graph with N transactions can have.\n+        assert(iterations_done <= (uint64_t{1} << (todo.Count() - 1)));\n+\n+        // Perform quality checks only if SimpleCandidateFinder claims an optimal result.\n+        if (optimal) {\n+            // Optimal sets are always connected.\n+            assert(depgraph.IsConnected(found.transactions));\n+\n+            if (todo.Count() <= 12) {\n+                // Compare with ExhaustiveCandidateFinder. This quickly gets computationally\n+                // expensive for large clusters (O(2^n)), so only do it for sufficiently small ones.\n+                auto exhaustive = exh_finder.FindCandidateSet();\n+                assert(exhaustive.feerate == found.feerate);\n+            } else {\n+                // For larger todo sets, just test against every ancestor set ...\n+                for (auto t1 : todo) {\n+                    const auto& a1 = depgraph.Ancestors(t1);\n+                    assert(found.feerate >= depgraph.FeeRate(a1 & todo));\n+                }\n+                // and every union of two ancestor sets.\n+                for (auto t1 : todo) {\n+                    const auto& a1 = depgraph.Ancestors(t1);\n+                    for (auto t2 : todo - a1) {\n+                        const auto& a2 = depgraph.Ancestors(t2);\n+                        assert(found.feerate >= depgraph.FeeRate((a1 | a2) & todo));\n+                    }",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": null,
      "original_position": 97,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "d5d6839fe7479ccd98f450081cfd76b478d1bf12",
      "in_reply_to_id": null,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This can be in the same loop above?\r\n\r\nWhy not just compare with the result of ancestor finder?",
      "created_at": "2024-09-25T17:11:42Z",
      "updated_at": "2024-09-25T17:59:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r1775638585",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1775638585"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": 558,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 562,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1775651129",
      "pull_request_review_id": 2328851273,
      "id": 1775651129,
      "node_id": "PRRC_kwDOABII585p1kk5",
      "diff_hunk": "@@ -573,22 +650,20 @@ FUZZ_TARGET(clusterlin_search_finder)\n             assert(found.feerate >= simple.feerate);\n             if (simple_iters < MAX_SIMPLE_ITERATIONS) {\n                 assert(found.feerate == simple.feerate);\n-            }\n-\n-            // Compare with AncestorCandidateFinder;\n-            auto anc = anc_finder.FindCandidateSet();\n-            assert(found.feerate >= anc.feerate);\n-\n-            // Compare with ExhaustiveCandidateFinder. This quickly gets computationally expensive\n-            // for large clusters (O(2^n)), so only do it for sufficiently small ones.\n-            if (todo.Count() <= 12) {\n-                auto exhaustive = exh_finder.FindCandidateSet();\n-                assert(exhaustive.feerate == found.feerate);\n-                // Also compare ExhaustiveCandidateFinder with SimpleCandidateFinder (this is\n-                // primarily a test for SimpleCandidateFinder's correctness).\n-                assert(exhaustive.feerate >= simple.feerate);\n-                if (simple_iters < MAX_SIMPLE_ITERATIONS) {\n-                    assert(exhaustive.feerate == simple.feerate);\n+            } else {\n+                // If SimpleCandidateFinder couldn't guarantee an optimal result, also test\n+                // against every ancestor set ...\n+                for (auto t1 : todo) {\n+                    const auto& a1 = depgraph.Ancestors(t1);\n+                    assert(found.feerate >= depgraph.FeeRate(a1 & todo));\n+                }\n+                // and every union of two ancestor sets.\n+                for (auto t1 : todo) {\n+                    const auto& a1 = depgraph.Ancestors(t1);\n+                    for (auto t2 : todo - a1) {\n+                        const auto& a2 = depgraph.Ancestors(t2);\n+                        assert(found.feerate >= depgraph.FeeRate((a1 | a2) & todo));\n+                    }",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": null,
      "original_position": 195,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "d5d6839fe7479ccd98f450081cfd76b478d1bf12",
      "in_reply_to_id": null,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "We could wrap this in a helper to be dry, as same code is used above.",
      "created_at": "2024-09-25T17:19:40Z",
      "updated_at": "2024-09-25T17:59:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r1775651129",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1775651129"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": 655,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 666,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1775677456",
      "pull_request_review_id": 2328851273,
      "id": 1775677456,
      "node_id": "PRRC_kwDOABII585p1rAQ",
      "diff_hunk": "@@ -495,11 +494,93 @@ FUZZ_TARGET(clusterlin_ancestor_finder)\n \n static constexpr auto MAX_SIMPLE_ITERATIONS = 300000;\n \n+FUZZ_TARGET(clusterlin_simple_finder)\n+{\n+    // Verify that SimpleCandidateFinder works as expected by sanity checking the results\n+    // and comparing with the results from ExhaustiveCandidateFinder. Note that\n+    // SimpleCandidateFinder is only used in tests; the purpose of this fuzz test is to establish\n+    // confidence in SimpleCandidateFinder, so that it can be used to test SearchCandidateFinder\n+    // below.\n+\n+    // Retrieve a depgraph from the fuzz input.\n+    SpanReader reader(buffer);\n+    DepGraph<TestBitSet> depgraph;\n+    try {\n+        reader >> Using<DepGraphFormatter>(depgraph);\n+    } catch (const std::ios_base::failure&) {}\n+\n+    // Instantiate the SimpleCandidateFinder to be tested, and the ExhaustiveCandidateFinder it is\n+    // being tested against.\n+    SimpleCandidateFinder smp_finder(depgraph);\n+    ExhaustiveCandidateFinder exh_finder(depgraph);\n+\n+    auto todo = TestBitSet::Fill(depgraph.TxCount());\n+    while (todo.Any()) {\n+        assert(!smp_finder.AllDone());\n+        assert(!exh_finder.AllDone());\n+\n+        // Call SimpleCandidateFinder.\n+        auto [found, iterations_done] = smp_finder.FindCandidateSet(MAX_SIMPLE_ITERATIONS);\n+        bool optimal = (iterations_done != MAX_SIMPLE_ITERATIONS);\n+\n+        // Sanity check the result.\n+        assert(iterations_done <= MAX_SIMPLE_ITERATIONS);\n+        assert(found.transactions.Any());\n+        assert(found.transactions.IsSubsetOf(todo));\n+        assert(depgraph.FeeRate(found.transactions) == found.feerate);\n+        // Check that it is topologically valid.\n+        for (auto i : found.transactions) {\n+            assert(found.transactions.IsSupersetOf(depgraph.Ancestors(i) & todo));\n+        }\n+\n+        // At most 2^(N-1) iterations can be required: the number of non-empty connected subsets a\n+        // graph with N transactions can have.\n+        assert(iterations_done <= (uint64_t{1} << (todo.Count() - 1)));\n+\n+        // Perform quality checks only if SimpleCandidateFinder claims an optimal result.\n+        if (optimal) {\n+            // Optimal sets are always connected.\n+            assert(depgraph.IsConnected(found.transactions));\n+\n+            if (todo.Count() <= 12) {\n+                // Compare with ExhaustiveCandidateFinder. This quickly gets computationally\n+                // expensive for large clusters (O(2^n)), so only do it for sufficiently small ones.\n+                auto exhaustive = exh_finder.FindCandidateSet();\n+                assert(exhaustive.feerate == found.feerate);",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": 286,
      "original_position": 84,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "d5d6839fe7479ccd98f450081cfd76b478d1bf12",
      "in_reply_to_id": null,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Should we also assert that the transactions in the set are the same?",
      "created_at": "2024-09-25T17:37:12Z",
      "updated_at": "2024-09-25T17:59:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r1775677456",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1775677456"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 831,
      "original_line": 831,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1775682420",
      "pull_request_review_id": 2328851273,
      "id": 1775682420,
      "node_id": "PRRC_kwDOABII585p1sN0",
      "diff_hunk": "@@ -495,11 +494,93 @@ FUZZ_TARGET(clusterlin_ancestor_finder)\n \n static constexpr auto MAX_SIMPLE_ITERATIONS = 300000;\n \n+FUZZ_TARGET(clusterlin_simple_finder)\n+{\n+    // Verify that SimpleCandidateFinder works as expected by sanity checking the results\n+    // and comparing with the results from ExhaustiveCandidateFinder. Note that",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": null,
      "original_position": 35,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "d5d6839fe7479ccd98f450081cfd76b478d1bf12",
      "in_reply_to_id": null,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Maybe indicate that we only compare `SimpleCandidateFinder` with `ExhaustiveCandidateFinder` when we optimally found a subset and the cluster size is small.",
      "created_at": "2024-09-25T17:39:45Z",
      "updated_at": "2024-09-25T17:59:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r1775682420",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1775682420"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 500,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1775732905",
      "pull_request_review_id": 2329130211,
      "id": 1775732905,
      "node_id": "PRRC_kwDOABII585p14ip",
      "diff_hunk": "@@ -74,6 +73,7 @@ class SimpleCandidateFinder\n                 // transactions that share ancestry with inc so far (which means only connected\n                 // sets will be considered).\n                 if (inc_none || inc.Overlaps(m_depgraph.Ancestors(split))) {\n+                    --iterations_left;",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": 92,
      "original_position": 12,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "d5d6839fe7479ccd98f450081cfd76b478d1bf12",
      "in_reply_to_id": 1775578705,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "could be in it's own commit?",
      "created_at": "2024-09-25T18:04:21Z",
      "updated_at": "2024-09-25T18:04:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r1775732905",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1775732905"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 137,
      "original_line": 137,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1776227563",
      "pull_request_review_id": 2329889173,
      "id": 1776227563,
      "node_id": "PRRC_kwDOABII585p3xTr",
      "diff_hunk": "@@ -74,6 +73,7 @@ class SimpleCandidateFinder\n                 // transactions that share ancestry with inc so far (which means only connected\n                 // sets will be considered).\n                 if (inc_none || inc.Overlaps(m_depgraph.Ancestors(split))) {\n+                    --iterations_left;",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": 92,
      "original_position": 12,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "d5d6839fe7479ccd98f450081cfd76b478d1bf12",
      "in_reply_to_id": 1775578705,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I've moved it to its own commit. I left the name `iterations_left` as I think calling it \"optimizations\" is misleading; most steps don't optimize anything. It's true that the iterations are not actually the loop's iterations anymore, but they're still very correlated to the number of iterations the algorithm makes.",
      "created_at": "2024-09-26T02:36:48Z",
      "updated_at": "2024-09-26T02:36:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r1776227563",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1776227563"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 137,
      "original_line": 137,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1776231855",
      "pull_request_review_id": 2329894362,
      "id": 1776231855,
      "node_id": "PRRC_kwDOABII585p3yWv",
      "diff_hunk": "@@ -495,11 +494,93 @@ FUZZ_TARGET(clusterlin_ancestor_finder)\n \n static constexpr auto MAX_SIMPLE_ITERATIONS = 300000;\n \n+FUZZ_TARGET(clusterlin_simple_finder)\n+{\n+    // Verify that SimpleCandidateFinder works as expected by sanity checking the results\n+    // and comparing with the results from ExhaustiveCandidateFinder. Note that\n+    // SimpleCandidateFinder is only used in tests; the purpose of this fuzz test is to establish\n+    // confidence in SimpleCandidateFinder, so that it can be used to test SearchCandidateFinder\n+    // below.\n+\n+    // Retrieve a depgraph from the fuzz input.\n+    SpanReader reader(buffer);\n+    DepGraph<TestBitSet> depgraph;\n+    try {\n+        reader >> Using<DepGraphFormatter>(depgraph);\n+    } catch (const std::ios_base::failure&) {}\n+\n+    // Instantiate the SimpleCandidateFinder to be tested, and the ExhaustiveCandidateFinder it is\n+    // being tested against.\n+    SimpleCandidateFinder smp_finder(depgraph);\n+    ExhaustiveCandidateFinder exh_finder(depgraph);\n+\n+    auto todo = TestBitSet::Fill(depgraph.TxCount());\n+    while (todo.Any()) {\n+        assert(!smp_finder.AllDone());\n+        assert(!exh_finder.AllDone());\n+\n+        // Call SimpleCandidateFinder.\n+        auto [found, iterations_done] = smp_finder.FindCandidateSet(MAX_SIMPLE_ITERATIONS);\n+        bool optimal = (iterations_done != MAX_SIMPLE_ITERATIONS);\n+\n+        // Sanity check the result.\n+        assert(iterations_done <= MAX_SIMPLE_ITERATIONS);\n+        assert(found.transactions.Any());\n+        assert(found.transactions.IsSubsetOf(todo));\n+        assert(depgraph.FeeRate(found.transactions) == found.feerate);\n+        // Check that it is topologically valid.\n+        for (auto i : found.transactions) {\n+            assert(found.transactions.IsSupersetOf(depgraph.Ancestors(i) & todo));\n+        }\n+\n+        // At most 2^(N-1) iterations can be required: the number of non-empty connected subsets a\n+        // graph with N transactions can have.\n+        assert(iterations_done <= (uint64_t{1} << (todo.Count() - 1)));\n+\n+        // Perform quality checks only if SimpleCandidateFinder claims an optimal result.\n+        if (optimal) {\n+            // Optimal sets are always connected.\n+            assert(depgraph.IsConnected(found.transactions));\n+\n+            if (todo.Count() <= 12) {\n+                // Compare with ExhaustiveCandidateFinder. This quickly gets computationally\n+                // expensive for large clusters (O(2^n)), so only do it for sufficiently small ones.\n+                auto exhaustive = exh_finder.FindCandidateSet();\n+                assert(exhaustive.feerate == found.feerate);\n+            } else {\n+                // For larger todo sets, just test against every ancestor set ...\n+                for (auto t1 : todo) {\n+                    const auto& a1 = depgraph.Ancestors(t1);\n+                    assert(found.feerate >= depgraph.FeeRate(a1 & todo));\n+                }\n+                // and every union of two ancestor sets.\n+                for (auto t1 : todo) {\n+                    const auto& a1 = depgraph.Ancestors(t1);\n+                    for (auto t2 : todo - a1) {\n+                        const auto& a2 = depgraph.Ancestors(t2);\n+                        assert(found.feerate >= depgraph.FeeRate((a1 | a2) & todo));\n+                    }",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": null,
      "original_position": 97,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "d5d6839fe7479ccd98f450081cfd76b478d1bf12",
      "in_reply_to_id": 1775638585,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I was hoping to do a bit better than comparing with `AncestorCandidateFinder` (which only tries ancestor sets, not unions of two of them), but it's really not worth the complexity here. I've changed it to using `AncestorCandidateFinder` (here and below), and in a separate commit added an arbitrary subset (from fuzz input) to compare with.",
      "created_at": "2024-09-26T02:38:18Z",
      "updated_at": "2024-09-26T02:38:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r1776231855",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1776231855"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": 558,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 562,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1776232273",
      "pull_request_review_id": 2329894934,
      "id": 1776232273,
      "node_id": "PRRC_kwDOABII585p3ydR",
      "diff_hunk": "@@ -573,22 +650,20 @@ FUZZ_TARGET(clusterlin_search_finder)\n             assert(found.feerate >= simple.feerate);\n             if (simple_iters < MAX_SIMPLE_ITERATIONS) {\n                 assert(found.feerate == simple.feerate);\n-            }\n-\n-            // Compare with AncestorCandidateFinder;\n-            auto anc = anc_finder.FindCandidateSet();\n-            assert(found.feerate >= anc.feerate);\n-\n-            // Compare with ExhaustiveCandidateFinder. This quickly gets computationally expensive\n-            // for large clusters (O(2^n)), so only do it for sufficiently small ones.\n-            if (todo.Count() <= 12) {\n-                auto exhaustive = exh_finder.FindCandidateSet();\n-                assert(exhaustive.feerate == found.feerate);\n-                // Also compare ExhaustiveCandidateFinder with SimpleCandidateFinder (this is\n-                // primarily a test for SimpleCandidateFinder's correctness).\n-                assert(exhaustive.feerate >= simple.feerate);\n-                if (simple_iters < MAX_SIMPLE_ITERATIONS) {\n-                    assert(exhaustive.feerate == simple.feerate);\n+            } else {\n+                // If SimpleCandidateFinder couldn't guarantee an optimal result, also test\n+                // against every ancestor set ...\n+                for (auto t1 : todo) {\n+                    const auto& a1 = depgraph.Ancestors(t1);\n+                    assert(found.feerate >= depgraph.FeeRate(a1 & todo));\n+                }\n+                // and every union of two ancestor sets.\n+                for (auto t1 : todo) {\n+                    const auto& a1 = depgraph.Ancestors(t1);\n+                    for (auto t2 : todo - a1) {\n+                        const auto& a2 = depgraph.Ancestors(t2);\n+                        assert(found.feerate >= depgraph.FeeRate((a1 | a2) & todo));\n+                    }",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": null,
      "original_position": 195,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "d5d6839fe7479ccd98f450081cfd76b478d1bf12",
      "in_reply_to_id": 1775651129,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "You're right that it shouldn't be repeated, but I don't think it's worth much effort to keep this. I've dropped it.",
      "created_at": "2024-09-26T02:38:49Z",
      "updated_at": "2024-09-26T02:38:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r1776232273",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1776232273"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": 655,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 666,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1776235234",
      "pull_request_review_id": 2329898614,
      "id": 1776235234,
      "node_id": "PRRC_kwDOABII585p3zLi",
      "diff_hunk": "@@ -495,11 +494,93 @@ FUZZ_TARGET(clusterlin_ancestor_finder)\n \n static constexpr auto MAX_SIMPLE_ITERATIONS = 300000;\n \n+FUZZ_TARGET(clusterlin_simple_finder)\n+{\n+    // Verify that SimpleCandidateFinder works as expected by sanity checking the results\n+    // and comparing with the results from ExhaustiveCandidateFinder. Note that\n+    // SimpleCandidateFinder is only used in tests; the purpose of this fuzz test is to establish\n+    // confidence in SimpleCandidateFinder, so that it can be used to test SearchCandidateFinder\n+    // below.\n+\n+    // Retrieve a depgraph from the fuzz input.\n+    SpanReader reader(buffer);\n+    DepGraph<TestBitSet> depgraph;\n+    try {\n+        reader >> Using<DepGraphFormatter>(depgraph);\n+    } catch (const std::ios_base::failure&) {}\n+\n+    // Instantiate the SimpleCandidateFinder to be tested, and the ExhaustiveCandidateFinder it is\n+    // being tested against.\n+    SimpleCandidateFinder smp_finder(depgraph);\n+    ExhaustiveCandidateFinder exh_finder(depgraph);\n+\n+    auto todo = TestBitSet::Fill(depgraph.TxCount());\n+    while (todo.Any()) {\n+        assert(!smp_finder.AllDone());\n+        assert(!exh_finder.AllDone());\n+\n+        // Call SimpleCandidateFinder.\n+        auto [found, iterations_done] = smp_finder.FindCandidateSet(MAX_SIMPLE_ITERATIONS);\n+        bool optimal = (iterations_done != MAX_SIMPLE_ITERATIONS);\n+\n+        // Sanity check the result.\n+        assert(iterations_done <= MAX_SIMPLE_ITERATIONS);\n+        assert(found.transactions.Any());\n+        assert(found.transactions.IsSubsetOf(todo));\n+        assert(depgraph.FeeRate(found.transactions) == found.feerate);\n+        // Check that it is topologically valid.\n+        for (auto i : found.transactions) {\n+            assert(found.transactions.IsSupersetOf(depgraph.Ancestors(i) & todo));\n+        }\n+\n+        // At most 2^(N-1) iterations can be required: the number of non-empty connected subsets a\n+        // graph with N transactions can have.\n+        assert(iterations_done <= (uint64_t{1} << (todo.Count() - 1)));\n+\n+        // Perform quality checks only if SimpleCandidateFinder claims an optimal result.\n+        if (optimal) {\n+            // Optimal sets are always connected.\n+            assert(depgraph.IsConnected(found.transactions));\n+\n+            if (todo.Count() <= 12) {\n+                // Compare with ExhaustiveCandidateFinder. This quickly gets computationally\n+                // expensive for large clusters (O(2^n)), so only do it for sufficiently small ones.\n+                auto exhaustive = exh_finder.FindCandidateSet();\n+                assert(exhaustive.feerate == found.feerate);",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": 286,
      "original_position": 84,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "d5d6839fe7479ccd98f450081cfd76b478d1bf12",
      "in_reply_to_id": 1775677456,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "They cannot be guaranteed to be identical; there may be multiple distinct optimal candidate sets. ",
      "created_at": "2024-09-26T02:39:35Z",
      "updated_at": "2024-09-26T02:39:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r1776235234",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1776235234"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 831,
      "original_line": 831,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1777269039",
      "pull_request_review_id": 2331579052,
      "id": 1777269039,
      "node_id": "PRRC_kwDOABII585p7vkv",
      "diff_hunk": "@@ -495,11 +494,93 @@ FUZZ_TARGET(clusterlin_ancestor_finder)\n \n static constexpr auto MAX_SIMPLE_ITERATIONS = 300000;\n \n+FUZZ_TARGET(clusterlin_simple_finder)\n+{\n+    // Verify that SimpleCandidateFinder works as expected by sanity checking the results\n+    // and comparing with the results from ExhaustiveCandidateFinder. Note that",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": null,
      "original_position": 35,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "d5d6839fe7479ccd98f450081cfd76b478d1bf12",
      "in_reply_to_id": 1775682420,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I've improved the comments a bit.",
      "created_at": "2024-09-26T14:58:50Z",
      "updated_at": "2024-09-26T14:58:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r1777269039",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1777269039"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 500,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1787476002",
      "pull_request_review_id": 2347653035,
      "id": 1787476002,
      "node_id": "PRRC_kwDOABII585qirgi",
      "diff_hunk": "@@ -495,11 +494,94 @@ FUZZ_TARGET(clusterlin_ancestor_finder)\n \n static constexpr auto MAX_SIMPLE_ITERATIONS = 300000;\n \n+FUZZ_TARGET(clusterlin_simple_finder)\n+{\n+    // Verify that SimpleCandidateFinder works as expected by sanity checking the results\n+    // and comparing them (if claimed to be optimal) against the sets found by\n+    // ExhaustiveCandidateFinder and AncestorCandidateFinder.\n+    //\n+    // Note that SimpleCandidateFinder is only used in tests; the purpose of this fuzz test is to\n+    // establish confidence in SimpleCandidateFinder, so that it can be used to test\n+    // SearchCandidateFinder below.\n+\n+    // Retrieve a depgraph from the fuzz input.\n+    SpanReader reader(buffer);\n+    DepGraph<TestBitSet> depgraph;\n+    try {\n+        reader >> Using<DepGraphFormatter>(depgraph);\n+    } catch (const std::ios_base::failure&) {}\n+\n+    // Instantiate the SimpleCandidateFinder to be tested, and the ExhaustiveCandidateFinder and\n+    // AncestorCandidateFinder it is being tested against.\n+    SimpleCandidateFinder smp_finder(depgraph);\n+    ExhaustiveCandidateFinder exh_finder(depgraph);\n+    AncestorCandidateFinder anc_finder(depgraph);\n+\n+    auto todo = TestBitSet::Fill(depgraph.TxCount());\n+    while (todo.Any()) {\n+        assert(!smp_finder.AllDone());\n+        assert(!exh_finder.AllDone());\n+        assert(!anc_finder.AllDone());\n+        assert(anc_finder.NumRemaining() == todo.Count());\n+\n+        // Call SimpleCandidateFinder.\n+        auto [found, iterations_done] = smp_finder.FindCandidateSet(MAX_SIMPLE_ITERATIONS);\n+        bool optimal = (iterations_done != MAX_SIMPLE_ITERATIONS);\n+\n+        // Sanity check the result.\n+        assert(iterations_done <= MAX_SIMPLE_ITERATIONS);\n+        assert(found.transactions.Any());\n+        assert(found.transactions.IsSubsetOf(todo));\n+        assert(depgraph.FeeRate(found.transactions) == found.feerate);\n+        // Check that it is topologically valid.\n+        for (auto i : found.transactions) {\n+            assert(found.transactions.IsSupersetOf(depgraph.Ancestors(i) & todo));\n+        }\n+\n+        // At most 2^(N-1) iterations can be required: the number of non-empty connected subsets a\n+        // graph with N transactions can have. If MAX_SIMPLE_ITERATIONS exceeds this number, the\n+        // result is necessarily optimal.\n+        assert(iterations_done <= (uint64_t{1} << (todo.Count() - 1)));\n+        if (MAX_SIMPLE_ITERATIONS > (uint64_t{1} << (todo.Count() - 1))) assert(optimal);\n+\n+        // Perform quality checks only if SimpleCandidateFinder claims an optimal result.\n+        if (optimal) {\n+            // Optimal sets are always connected.\n+            assert(depgraph.IsConnected(found.transactions));\n+\n+            // Compare with AncestorCandidateFinder.\n+            auto anc = anc_finder.FindCandidateSet();\n+            assert(anc.feerate <= found.feerate);\n+\n+            if (todo.Count() <= 12) {\n+                // Compare with ExhaustiveCandidateFinder. This quickly gets computationally\n+                // expensive for large clusters (O(2^n)), so only do it for sufficiently small ones.",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": 284,
      "original_position": 77,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "465469f1c16d3d21e84b386afa0975731b40ef45",
      "in_reply_to_id": null,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Is this not $O(N * 2{^N})$",
      "created_at": "2024-10-04T09:56:52Z",
      "updated_at": "2024-10-04T11:24:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r1787476002",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1787476002"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 829,
      "original_line": 829,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1787508540",
      "pull_request_review_id": 2347653035,
      "id": 1787508540,
      "node_id": "PRRC_kwDOABII585qizc8",
      "diff_hunk": "@@ -495,11 +494,94 @@ FUZZ_TARGET(clusterlin_ancestor_finder)\n \n static constexpr auto MAX_SIMPLE_ITERATIONS = 300000;\n \n+FUZZ_TARGET(clusterlin_simple_finder)\n+{\n+    // Verify that SimpleCandidateFinder works as expected by sanity checking the results\n+    // and comparing them (if claimed to be optimal) against the sets found by\n+    // ExhaustiveCandidateFinder and AncestorCandidateFinder.\n+    //\n+    // Note that SimpleCandidateFinder is only used in tests; the purpose of this fuzz test is to\n+    // establish confidence in SimpleCandidateFinder, so that it can be used to test\n+    // SearchCandidateFinder below.\n+\n+    // Retrieve a depgraph from the fuzz input.\n+    SpanReader reader(buffer);\n+    DepGraph<TestBitSet> depgraph;\n+    try {\n+        reader >> Using<DepGraphFormatter>(depgraph);\n+    } catch (const std::ios_base::failure&) {}\n+\n+    // Instantiate the SimpleCandidateFinder to be tested, and the ExhaustiveCandidateFinder and\n+    // AncestorCandidateFinder it is being tested against.\n+    SimpleCandidateFinder smp_finder(depgraph);\n+    ExhaustiveCandidateFinder exh_finder(depgraph);\n+    AncestorCandidateFinder anc_finder(depgraph);\n+\n+    auto todo = TestBitSet::Fill(depgraph.TxCount());\n+    while (todo.Any()) {\n+        assert(!smp_finder.AllDone());\n+        assert(!exh_finder.AllDone());\n+        assert(!anc_finder.AllDone());\n+        assert(anc_finder.NumRemaining() == todo.Count());\n+\n+        // Call SimpleCandidateFinder.\n+        auto [found, iterations_done] = smp_finder.FindCandidateSet(MAX_SIMPLE_ITERATIONS);\n+        bool optimal = (iterations_done != MAX_SIMPLE_ITERATIONS);\n+\n+        // Sanity check the result.\n+        assert(iterations_done <= MAX_SIMPLE_ITERATIONS);\n+        assert(found.transactions.Any());\n+        assert(found.transactions.IsSubsetOf(todo));\n+        assert(depgraph.FeeRate(found.transactions) == found.feerate);\n+        // Check that it is topologically valid.\n+        for (auto i : found.transactions) {\n+            assert(found.transactions.IsSupersetOf(depgraph.Ancestors(i) & todo));\n+        }\n+\n+        // At most 2^(N-1) iterations can be required: the number of non-empty connected subsets a\n+        // graph with N transactions can have. If MAX_SIMPLE_ITERATIONS exceeds this number, the\n+        // result is necessarily optimal.\n+        assert(iterations_done <= (uint64_t{1} << (todo.Count() - 1)));\n+        if (MAX_SIMPLE_ITERATIONS > (uint64_t{1} << (todo.Count() - 1))) assert(optimal);\n+\n+        // Perform quality checks only if SimpleCandidateFinder claims an optimal result.\n+        if (optimal) {\n+            // Optimal sets are always connected.\n+            assert(depgraph.IsConnected(found.transactions));\n+\n+            // Compare with AncestorCandidateFinder.\n+            auto anc = anc_finder.FindCandidateSet();\n+            assert(anc.feerate <= found.feerate);\n+\n+            if (todo.Count() <= 12) {\n+                // Compare with ExhaustiveCandidateFinder. This quickly gets computationally\n+                // expensive for large clusters (O(2^n)), so only do it for sufficiently small ones.\n+                auto exhaustive = exh_finder.FindCandidateSet();\n+                assert(exhaustive.feerate == found.feerate);\n+            }\n+        }\n+\n+        // Find a topologically valid subset of transactions to remove from the graph.\n+        auto del_set = ReadTopologicalSet(depgraph, todo, reader);\n+        // If we did not find anything, use found itself, because we should remove something.\n+        if (del_set.None()) del_set = found.transactions;\n+        todo -= del_set;",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": null,
      "original_position": 87,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "465469f1c16d3d21e84b386afa0975731b40ef45",
      "in_reply_to_id": null,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I might be missing something here, so I would appreciate some clarification.\r\n\r\n1. Why don't we directly remove the candidate set transactions found by the search? \r\n2. It seems like there could be multiple valid topological sets at a given time. How does it know which set was actually found?",
      "created_at": "2024-10-04T10:25:13Z",
      "updated_at": "2024-10-04T12:30:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r1787508540",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1787508540"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": 564,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 844,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1787549994",
      "pull_request_review_id": 2347653035,
      "id": 1787549994,
      "node_id": "PRRC_kwDOABII585qi9kq",
      "diff_hunk": "@@ -559,6 +559,10 @@ FUZZ_TARGET(clusterlin_simple_finder)\n                 auto exhaustive = exh_finder.FindCandidateSet();\n                 assert(exhaustive.feerate == found.feerate);\n             }\n+\n+            // Compare with a topological set read from the fuzz input.\n+            auto read_topo = ReadTopologicalSet(depgraph, todo, reader);",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "560402264fc6d54f03bc72202bf6068a22d9054c",
      "in_reply_to_id": null,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "We can cache the subset and then reuse it here and when finding topological subset to be deleted.\r\n",
      "created_at": "2024-10-04T11:02:37Z",
      "updated_at": "2024-10-04T11:24:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r1787549994",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1787549994"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 564,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1787551272",
      "pull_request_review_id": 2347653035,
      "id": 1787551272,
      "node_id": "PRRC_kwDOABII585qi94o",
      "diff_hunk": "@@ -659,6 +663,10 @@ FUZZ_TARGET(clusterlin_search_finder)\n             // Compare with AncestorCandidateFinder;\n             auto anc = anc_finder.FindCandidateSet();\n             assert(found.feerate >= anc.feerate);\n+\n+            // Compare with a topological set read from the fuzz input.",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "560402264fc6d54f03bc72202bf6068a22d9054c",
      "in_reply_to_id": null,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Same  comment applies here as well. ",
      "created_at": "2024-10-04T11:03:49Z",
      "updated_at": "2024-10-04T11:24:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r1787551272",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1787551272"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 667,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1787606089",
      "pull_request_review_id": 2347879063,
      "id": 1787606089,
      "node_id": "PRRC_kwDOABII585qjLRJ",
      "diff_hunk": "@@ -495,11 +494,94 @@ FUZZ_TARGET(clusterlin_ancestor_finder)\n \n static constexpr auto MAX_SIMPLE_ITERATIONS = 300000;\n \n+FUZZ_TARGET(clusterlin_simple_finder)\n+{\n+    // Verify that SimpleCandidateFinder works as expected by sanity checking the results\n+    // and comparing them (if claimed to be optimal) against the sets found by\n+    // ExhaustiveCandidateFinder and AncestorCandidateFinder.\n+    //\n+    // Note that SimpleCandidateFinder is only used in tests; the purpose of this fuzz test is to\n+    // establish confidence in SimpleCandidateFinder, so that it can be used to test\n+    // SearchCandidateFinder below.\n+\n+    // Retrieve a depgraph from the fuzz input.\n+    SpanReader reader(buffer);\n+    DepGraph<TestBitSet> depgraph;\n+    try {\n+        reader >> Using<DepGraphFormatter>(depgraph);\n+    } catch (const std::ios_base::failure&) {}\n+\n+    // Instantiate the SimpleCandidateFinder to be tested, and the ExhaustiveCandidateFinder and\n+    // AncestorCandidateFinder it is being tested against.\n+    SimpleCandidateFinder smp_finder(depgraph);\n+    ExhaustiveCandidateFinder exh_finder(depgraph);\n+    AncestorCandidateFinder anc_finder(depgraph);\n+\n+    auto todo = TestBitSet::Fill(depgraph.TxCount());\n+    while (todo.Any()) {\n+        assert(!smp_finder.AllDone());\n+        assert(!exh_finder.AllDone());\n+        assert(!anc_finder.AllDone());\n+        assert(anc_finder.NumRemaining() == todo.Count());\n+\n+        // Call SimpleCandidateFinder.\n+        auto [found, iterations_done] = smp_finder.FindCandidateSet(MAX_SIMPLE_ITERATIONS);\n+        bool optimal = (iterations_done != MAX_SIMPLE_ITERATIONS);\n+\n+        // Sanity check the result.\n+        assert(iterations_done <= MAX_SIMPLE_ITERATIONS);\n+        assert(found.transactions.Any());\n+        assert(found.transactions.IsSubsetOf(todo));\n+        assert(depgraph.FeeRate(found.transactions) == found.feerate);\n+        // Check that it is topologically valid.\n+        for (auto i : found.transactions) {\n+            assert(found.transactions.IsSupersetOf(depgraph.Ancestors(i) & todo));\n+        }\n+\n+        // At most 2^(N-1) iterations can be required: the number of non-empty connected subsets a\n+        // graph with N transactions can have. If MAX_SIMPLE_ITERATIONS exceeds this number, the\n+        // result is necessarily optimal.\n+        assert(iterations_done <= (uint64_t{1} << (todo.Count() - 1)));\n+        if (MAX_SIMPLE_ITERATIONS > (uint64_t{1} << (todo.Count() - 1))) assert(optimal);\n+\n+        // Perform quality checks only if SimpleCandidateFinder claims an optimal result.\n+        if (optimal) {\n+            // Optimal sets are always connected.\n+            assert(depgraph.IsConnected(found.transactions));\n+\n+            // Compare with AncestorCandidateFinder.\n+            auto anc = anc_finder.FindCandidateSet();\n+            assert(anc.feerate <= found.feerate);\n+\n+            if (todo.Count() <= 12) {\n+                // Compare with ExhaustiveCandidateFinder. This quickly gets computationally\n+                // expensive for large clusters (O(2^n)), so only do it for sufficiently small ones.",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": 284,
      "original_position": 77,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "465469f1c16d3d21e84b386afa0975731b40ef45",
      "in_reply_to_id": 1787476002,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Yeah, it's $\\mathcal{O}(2^N)$ *iterations*, but overall runtime is indeed $\\mathcal{O}(N \\cdot 2^N)$ (or, arguably, $\\mathcal{O}(N^2 \\cdot 2^N)$ even if you take into account that for larger $N$, the bitsets involved need to grow linearly too, so bitset operations themselves are really $\\mathcal{O}(N)$ ).",
      "created_at": "2024-10-04T11:56:29Z",
      "updated_at": "2024-10-04T11:57:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r1787606089",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1787606089"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 829,
      "original_line": 829,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1787610478",
      "pull_request_review_id": 2347886590,
      "id": 1787610478,
      "node_id": "PRRC_kwDOABII585qjMVu",
      "diff_hunk": "@@ -495,11 +494,94 @@ FUZZ_TARGET(clusterlin_ancestor_finder)\n \n static constexpr auto MAX_SIMPLE_ITERATIONS = 300000;\n \n+FUZZ_TARGET(clusterlin_simple_finder)\n+{\n+    // Verify that SimpleCandidateFinder works as expected by sanity checking the results\n+    // and comparing them (if claimed to be optimal) against the sets found by\n+    // ExhaustiveCandidateFinder and AncestorCandidateFinder.\n+    //\n+    // Note that SimpleCandidateFinder is only used in tests; the purpose of this fuzz test is to\n+    // establish confidence in SimpleCandidateFinder, so that it can be used to test\n+    // SearchCandidateFinder below.\n+\n+    // Retrieve a depgraph from the fuzz input.\n+    SpanReader reader(buffer);\n+    DepGraph<TestBitSet> depgraph;\n+    try {\n+        reader >> Using<DepGraphFormatter>(depgraph);\n+    } catch (const std::ios_base::failure&) {}\n+\n+    // Instantiate the SimpleCandidateFinder to be tested, and the ExhaustiveCandidateFinder and\n+    // AncestorCandidateFinder it is being tested against.\n+    SimpleCandidateFinder smp_finder(depgraph);\n+    ExhaustiveCandidateFinder exh_finder(depgraph);\n+    AncestorCandidateFinder anc_finder(depgraph);\n+\n+    auto todo = TestBitSet::Fill(depgraph.TxCount());\n+    while (todo.Any()) {\n+        assert(!smp_finder.AllDone());\n+        assert(!exh_finder.AllDone());\n+        assert(!anc_finder.AllDone());\n+        assert(anc_finder.NumRemaining() == todo.Count());\n+\n+        // Call SimpleCandidateFinder.\n+        auto [found, iterations_done] = smp_finder.FindCandidateSet(MAX_SIMPLE_ITERATIONS);\n+        bool optimal = (iterations_done != MAX_SIMPLE_ITERATIONS);\n+\n+        // Sanity check the result.\n+        assert(iterations_done <= MAX_SIMPLE_ITERATIONS);\n+        assert(found.transactions.Any());\n+        assert(found.transactions.IsSubsetOf(todo));\n+        assert(depgraph.FeeRate(found.transactions) == found.feerate);\n+        // Check that it is topologically valid.\n+        for (auto i : found.transactions) {\n+            assert(found.transactions.IsSupersetOf(depgraph.Ancestors(i) & todo));\n+        }\n+\n+        // At most 2^(N-1) iterations can be required: the number of non-empty connected subsets a\n+        // graph with N transactions can have. If MAX_SIMPLE_ITERATIONS exceeds this number, the\n+        // result is necessarily optimal.\n+        assert(iterations_done <= (uint64_t{1} << (todo.Count() - 1)));\n+        if (MAX_SIMPLE_ITERATIONS > (uint64_t{1} << (todo.Count() - 1))) assert(optimal);\n+\n+        // Perform quality checks only if SimpleCandidateFinder claims an optimal result.\n+        if (optimal) {\n+            // Optimal sets are always connected.\n+            assert(depgraph.IsConnected(found.transactions));\n+\n+            // Compare with AncestorCandidateFinder.\n+            auto anc = anc_finder.FindCandidateSet();\n+            assert(anc.feerate <= found.feerate);\n+\n+            if (todo.Count() <= 12) {\n+                // Compare with ExhaustiveCandidateFinder. This quickly gets computationally\n+                // expensive for large clusters (O(2^n)), so only do it for sufficiently small ones.\n+                auto exhaustive = exh_finder.FindCandidateSet();\n+                assert(exhaustive.feerate == found.feerate);\n+            }\n+        }\n+\n+        // Find a topologically valid subset of transactions to remove from the graph.\n+        auto del_set = ReadTopologicalSet(depgraph, todo, reader);\n+        // If we did not find anything, use found itself, because we should remove something.\n+        if (del_set.None()) del_set = found.transactions;\n+        todo -= del_set;",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": null,
      "original_position": 87,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "465469f1c16d3d21e84b386afa0975731b40ef45",
      "in_reply_to_id": 1787508540,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "The goal here is simply continuing the test, so this isn't just exercising the first candidate found for a linearization, but can hit arbitrary remainders in later iterations too. To that end, we read a topological subset from the fuzzer, which can be anything, but since `ReadTopologicalSet` may return an empty set, we need to specially deal with that case.\r\n\r\nOne possibility would be adding to `ReadTopologicalSet` a way to force it to return a non-empty set. Instead, the code here uses the found candidate as fallback. This is just a last-resort fallback to avoid ending up in an infinite loop; the choice doesn't really matter. Arguably, it could just as well be `if (del_set.None()) break;`.",
      "created_at": "2024-10-04T12:00:44Z",
      "updated_at": "2024-10-04T12:00:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r1787610478",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1787610478"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": 564,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 844,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1787611090",
      "pull_request_review_id": 2347887634,
      "id": 1787611090,
      "node_id": "PRRC_kwDOABII585qjMfS",
      "diff_hunk": "@@ -559,6 +559,10 @@ FUZZ_TARGET(clusterlin_simple_finder)\n                 auto exhaustive = exh_finder.FindCandidateSet();\n                 assert(exhaustive.feerate == found.feerate);\n             }\n+\n+            // Compare with a topological set read from the fuzz input.\n+            auto read_topo = ReadTopologicalSet(depgraph, todo, reader);",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "560402264fc6d54f03bc72202bf6068a22d9054c",
      "in_reply_to_id": 1787549994,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Sure we could, but I don't think there is reason to assume that's necessarily the best choice.",
      "created_at": "2024-10-04T12:01:18Z",
      "updated_at": "2024-10-04T12:01:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r1787611090",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1787611090"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 564,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1787649203",
      "pull_request_review_id": 2347950674,
      "id": 1787649203,
      "node_id": "PRRC_kwDOABII585qjVyz",
      "diff_hunk": "@@ -495,11 +494,94 @@ FUZZ_TARGET(clusterlin_ancestor_finder)\n \n static constexpr auto MAX_SIMPLE_ITERATIONS = 300000;\n \n+FUZZ_TARGET(clusterlin_simple_finder)\n+{\n+    // Verify that SimpleCandidateFinder works as expected by sanity checking the results\n+    // and comparing them (if claimed to be optimal) against the sets found by\n+    // ExhaustiveCandidateFinder and AncestorCandidateFinder.\n+    //\n+    // Note that SimpleCandidateFinder is only used in tests; the purpose of this fuzz test is to\n+    // establish confidence in SimpleCandidateFinder, so that it can be used to test\n+    // SearchCandidateFinder below.\n+\n+    // Retrieve a depgraph from the fuzz input.\n+    SpanReader reader(buffer);\n+    DepGraph<TestBitSet> depgraph;\n+    try {\n+        reader >> Using<DepGraphFormatter>(depgraph);\n+    } catch (const std::ios_base::failure&) {}\n+\n+    // Instantiate the SimpleCandidateFinder to be tested, and the ExhaustiveCandidateFinder and\n+    // AncestorCandidateFinder it is being tested against.\n+    SimpleCandidateFinder smp_finder(depgraph);\n+    ExhaustiveCandidateFinder exh_finder(depgraph);\n+    AncestorCandidateFinder anc_finder(depgraph);\n+\n+    auto todo = TestBitSet::Fill(depgraph.TxCount());\n+    while (todo.Any()) {\n+        assert(!smp_finder.AllDone());\n+        assert(!exh_finder.AllDone());\n+        assert(!anc_finder.AllDone());\n+        assert(anc_finder.NumRemaining() == todo.Count());\n+\n+        // Call SimpleCandidateFinder.\n+        auto [found, iterations_done] = smp_finder.FindCandidateSet(MAX_SIMPLE_ITERATIONS);\n+        bool optimal = (iterations_done != MAX_SIMPLE_ITERATIONS);\n+\n+        // Sanity check the result.\n+        assert(iterations_done <= MAX_SIMPLE_ITERATIONS);\n+        assert(found.transactions.Any());\n+        assert(found.transactions.IsSubsetOf(todo));\n+        assert(depgraph.FeeRate(found.transactions) == found.feerate);\n+        // Check that it is topologically valid.\n+        for (auto i : found.transactions) {\n+            assert(found.transactions.IsSupersetOf(depgraph.Ancestors(i) & todo));\n+        }\n+\n+        // At most 2^(N-1) iterations can be required: the number of non-empty connected subsets a\n+        // graph with N transactions can have. If MAX_SIMPLE_ITERATIONS exceeds this number, the\n+        // result is necessarily optimal.\n+        assert(iterations_done <= (uint64_t{1} << (todo.Count() - 1)));\n+        if (MAX_SIMPLE_ITERATIONS > (uint64_t{1} << (todo.Count() - 1))) assert(optimal);\n+\n+        // Perform quality checks only if SimpleCandidateFinder claims an optimal result.\n+        if (optimal) {\n+            // Optimal sets are always connected.\n+            assert(depgraph.IsConnected(found.transactions));\n+\n+            // Compare with AncestorCandidateFinder.\n+            auto anc = anc_finder.FindCandidateSet();\n+            assert(anc.feerate <= found.feerate);\n+\n+            if (todo.Count() <= 12) {\n+                // Compare with ExhaustiveCandidateFinder. This quickly gets computationally\n+                // expensive for large clusters (O(2^n)), so only do it for sufficiently small ones.\n+                auto exhaustive = exh_finder.FindCandidateSet();\n+                assert(exhaustive.feerate == found.feerate);\n+            }\n+        }\n+\n+        // Find a topologically valid subset of transactions to remove from the graph.\n+        auto del_set = ReadTopologicalSet(depgraph, todo, reader);\n+        // If we did not find anything, use found itself, because we should remove something.\n+        if (del_set.None()) del_set = found.transactions;\n+        todo -= del_set;",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": null,
      "original_position": 87,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "465469f1c16d3d21e84b386afa0975731b40ef45",
      "in_reply_to_id": 1787508540,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks for clarifying, initially I thought the aim is to remove the subset found by the search continuously until there are no transactions left in `m_todo`.\r\n\r\nMaybe it will be helpful to document the point you gave as comment?",
      "created_at": "2024-10-04T12:33:17Z",
      "updated_at": "2024-10-04T12:33:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r1787649203",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1787649203"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": 564,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 844,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1787864440",
      "pull_request_review_id": 2348314280,
      "id": 1787864440,
      "node_id": "PRRC_kwDOABII585qkKV4",
      "diff_hunk": "@@ -495,11 +494,94 @@ FUZZ_TARGET(clusterlin_ancestor_finder)\n \n static constexpr auto MAX_SIMPLE_ITERATIONS = 300000;\n \n+FUZZ_TARGET(clusterlin_simple_finder)\n+{\n+    // Verify that SimpleCandidateFinder works as expected by sanity checking the results\n+    // and comparing them (if claimed to be optimal) against the sets found by\n+    // ExhaustiveCandidateFinder and AncestorCandidateFinder.\n+    //\n+    // Note that SimpleCandidateFinder is only used in tests; the purpose of this fuzz test is to\n+    // establish confidence in SimpleCandidateFinder, so that it can be used to test\n+    // SearchCandidateFinder below.\n+\n+    // Retrieve a depgraph from the fuzz input.\n+    SpanReader reader(buffer);\n+    DepGraph<TestBitSet> depgraph;\n+    try {\n+        reader >> Using<DepGraphFormatter>(depgraph);\n+    } catch (const std::ios_base::failure&) {}\n+\n+    // Instantiate the SimpleCandidateFinder to be tested, and the ExhaustiveCandidateFinder and\n+    // AncestorCandidateFinder it is being tested against.\n+    SimpleCandidateFinder smp_finder(depgraph);\n+    ExhaustiveCandidateFinder exh_finder(depgraph);\n+    AncestorCandidateFinder anc_finder(depgraph);\n+\n+    auto todo = TestBitSet::Fill(depgraph.TxCount());\n+    while (todo.Any()) {\n+        assert(!smp_finder.AllDone());\n+        assert(!exh_finder.AllDone());\n+        assert(!anc_finder.AllDone());\n+        assert(anc_finder.NumRemaining() == todo.Count());\n+\n+        // Call SimpleCandidateFinder.\n+        auto [found, iterations_done] = smp_finder.FindCandidateSet(MAX_SIMPLE_ITERATIONS);\n+        bool optimal = (iterations_done != MAX_SIMPLE_ITERATIONS);\n+\n+        // Sanity check the result.\n+        assert(iterations_done <= MAX_SIMPLE_ITERATIONS);\n+        assert(found.transactions.Any());\n+        assert(found.transactions.IsSubsetOf(todo));\n+        assert(depgraph.FeeRate(found.transactions) == found.feerate);\n+        // Check that it is topologically valid.\n+        for (auto i : found.transactions) {\n+            assert(found.transactions.IsSupersetOf(depgraph.Ancestors(i) & todo));\n+        }\n+\n+        // At most 2^(N-1) iterations can be required: the number of non-empty connected subsets a\n+        // graph with N transactions can have. If MAX_SIMPLE_ITERATIONS exceeds this number, the\n+        // result is necessarily optimal.\n+        assert(iterations_done <= (uint64_t{1} << (todo.Count() - 1)));\n+        if (MAX_SIMPLE_ITERATIONS > (uint64_t{1} << (todo.Count() - 1))) assert(optimal);\n+\n+        // Perform quality checks only if SimpleCandidateFinder claims an optimal result.\n+        if (optimal) {\n+            // Optimal sets are always connected.\n+            assert(depgraph.IsConnected(found.transactions));\n+\n+            // Compare with AncestorCandidateFinder.\n+            auto anc = anc_finder.FindCandidateSet();\n+            assert(anc.feerate <= found.feerate);\n+\n+            if (todo.Count() <= 12) {\n+                // Compare with ExhaustiveCandidateFinder. This quickly gets computationally\n+                // expensive for large clusters (O(2^n)), so only do it for sufficiently small ones.",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": 284,
      "original_position": 77,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "465469f1c16d3d21e84b386afa0975731b40ef45",
      "in_reply_to_id": 1787476002,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Fixed.",
      "created_at": "2024-10-04T15:09:37Z",
      "updated_at": "2024-10-04T15:09:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r1787864440",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1787864440"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 829,
      "original_line": 829,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1787865526",
      "pull_request_review_id": 2348315982,
      "id": 1787865526,
      "node_id": "PRRC_kwDOABII585qkKm2",
      "diff_hunk": "@@ -495,11 +494,94 @@ FUZZ_TARGET(clusterlin_ancestor_finder)\n \n static constexpr auto MAX_SIMPLE_ITERATIONS = 300000;\n \n+FUZZ_TARGET(clusterlin_simple_finder)\n+{\n+    // Verify that SimpleCandidateFinder works as expected by sanity checking the results\n+    // and comparing them (if claimed to be optimal) against the sets found by\n+    // ExhaustiveCandidateFinder and AncestorCandidateFinder.\n+    //\n+    // Note that SimpleCandidateFinder is only used in tests; the purpose of this fuzz test is to\n+    // establish confidence in SimpleCandidateFinder, so that it can be used to test\n+    // SearchCandidateFinder below.\n+\n+    // Retrieve a depgraph from the fuzz input.\n+    SpanReader reader(buffer);\n+    DepGraph<TestBitSet> depgraph;\n+    try {\n+        reader >> Using<DepGraphFormatter>(depgraph);\n+    } catch (const std::ios_base::failure&) {}\n+\n+    // Instantiate the SimpleCandidateFinder to be tested, and the ExhaustiveCandidateFinder and\n+    // AncestorCandidateFinder it is being tested against.\n+    SimpleCandidateFinder smp_finder(depgraph);\n+    ExhaustiveCandidateFinder exh_finder(depgraph);\n+    AncestorCandidateFinder anc_finder(depgraph);\n+\n+    auto todo = TestBitSet::Fill(depgraph.TxCount());\n+    while (todo.Any()) {\n+        assert(!smp_finder.AllDone());\n+        assert(!exh_finder.AllDone());\n+        assert(!anc_finder.AllDone());\n+        assert(anc_finder.NumRemaining() == todo.Count());\n+\n+        // Call SimpleCandidateFinder.\n+        auto [found, iterations_done] = smp_finder.FindCandidateSet(MAX_SIMPLE_ITERATIONS);\n+        bool optimal = (iterations_done != MAX_SIMPLE_ITERATIONS);\n+\n+        // Sanity check the result.\n+        assert(iterations_done <= MAX_SIMPLE_ITERATIONS);\n+        assert(found.transactions.Any());\n+        assert(found.transactions.IsSubsetOf(todo));\n+        assert(depgraph.FeeRate(found.transactions) == found.feerate);\n+        // Check that it is topologically valid.\n+        for (auto i : found.transactions) {\n+            assert(found.transactions.IsSupersetOf(depgraph.Ancestors(i) & todo));\n+        }\n+\n+        // At most 2^(N-1) iterations can be required: the number of non-empty connected subsets a\n+        // graph with N transactions can have. If MAX_SIMPLE_ITERATIONS exceeds this number, the\n+        // result is necessarily optimal.\n+        assert(iterations_done <= (uint64_t{1} << (todo.Count() - 1)));\n+        if (MAX_SIMPLE_ITERATIONS > (uint64_t{1} << (todo.Count() - 1))) assert(optimal);\n+\n+        // Perform quality checks only if SimpleCandidateFinder claims an optimal result.\n+        if (optimal) {\n+            // Optimal sets are always connected.\n+            assert(depgraph.IsConnected(found.transactions));\n+\n+            // Compare with AncestorCandidateFinder.\n+            auto anc = anc_finder.FindCandidateSet();\n+            assert(anc.feerate <= found.feerate);\n+\n+            if (todo.Count() <= 12) {\n+                // Compare with ExhaustiveCandidateFinder. This quickly gets computationally\n+                // expensive for large clusters (O(2^n)), so only do it for sufficiently small ones.\n+                auto exhaustive = exh_finder.FindCandidateSet();\n+                assert(exhaustive.feerate == found.feerate);\n+            }\n+        }\n+\n+        // Find a topologically valid subset of transactions to remove from the graph.\n+        auto del_set = ReadTopologicalSet(depgraph, todo, reader);\n+        // If we did not find anything, use found itself, because we should remove something.\n+        if (del_set.None()) del_set = found.transactions;\n+        todo -= del_set;",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": null,
      "original_position": 87,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "465469f1c16d3d21e84b386afa0975731b40ef45",
      "in_reply_to_id": 1787508540,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I have instead added a commit that allows requesting a non-empty subset from `ReadTopologicalSubset`, and added some clarifying comments about why/why not empty sets are requested in all call sites.",
      "created_at": "2024-10-04T15:10:27Z",
      "updated_at": "2024-10-04T15:10:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r1787865526",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1787865526"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": 564,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 844,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1787866904",
      "pull_request_review_id": 2348318237,
      "id": 1787866904,
      "node_id": "PRRC_kwDOABII585qkK8Y",
      "diff_hunk": "@@ -659,6 +663,10 @@ FUZZ_TARGET(clusterlin_search_finder)\n             // Compare with AncestorCandidateFinder;\n             auto anc = anc_finder.FindCandidateSet();\n             assert(found.feerate >= anc.feerate);\n+\n+            // Compare with a topological set read from the fuzz input.",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "560402264fc6d54f03bc72202bf6068a22d9054c",
      "in_reply_to_id": 1787551272,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "And the same response applies.\r\n\r\nThe goal of fuzz testing is testing as many possible valid inputs as possible. Fixing the subset being compared with, and the subset being removed is reducing the number of combinations of tested inputs.",
      "created_at": "2024-10-04T15:11:31Z",
      "updated_at": "2024-10-04T15:11:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r1787866904",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1787866904"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 667,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1787886486",
      "pull_request_review_id": 2348349903,
      "id": 1787886486,
      "node_id": "PRRC_kwDOABII585qkPuW",
      "diff_hunk": "@@ -659,6 +663,10 @@ FUZZ_TARGET(clusterlin_search_finder)\n             // Compare with AncestorCandidateFinder;\n             auto anc = anc_finder.FindCandidateSet();\n             assert(found.feerate >= anc.feerate);\n+\n+            // Compare with a topological set read from the fuzz input.",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "560402264fc6d54f03bc72202bf6068a22d9054c",
      "in_reply_to_id": 1787551272,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I see your point now.\r\nboth comments can be resolved.",
      "created_at": "2024-10-04T15:27:02Z",
      "updated_at": "2024-10-04T15:27:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r1787886486",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1787886486"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 667,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2137965569",
      "pull_request_review_id": 2913685583,
      "id": 2137965569,
      "node_id": "PRRC_kwDOABII585_bsQB",
      "diff_hunk": "@@ -623,11 +622,94 @@ FUZZ_TARGET(clusterlin_ancestor_finder)\n \n static constexpr auto MAX_SIMPLE_ITERATIONS = 300000;\n \n+FUZZ_TARGET(clusterlin_simple_finder)\n+{\n+    // Verify that SimpleCandidateFinder works as expected by sanity checking the results\n+    // and comparing them (if claimed to be optimal) against the sets found by\n+    // ExhaustiveCandidateFinder and AncestorCandidateFinder.\n+    //\n+    // Note that SimpleCandidateFinder is only used in tests; the purpose of this fuzz test is to\n+    // establish confidence in SimpleCandidateFinder, so that it can be used to test\n+    // SearchCandidateFinder below.\n+\n+    // Retrieve a depgraph from the fuzz input.\n+    SpanReader reader(buffer);\n+    DepGraph<TestBitSet> depgraph;\n+    try {\n+        reader >> Using<DepGraphFormatter>(depgraph);\n+    } catch (const std::ios_base::failure&) {}\n+\n+    // Instantiate the SimpleCandidateFinder to be tested, and the ExhaustiveCandidateFinder and\n+    // AncestorCandidateFinder it is being tested against.\n+    SimpleCandidateFinder smp_finder(depgraph);\n+    ExhaustiveCandidateFinder exh_finder(depgraph);\n+    AncestorCandidateFinder anc_finder(depgraph);\n+\n+    auto todo = depgraph.Positions();\n+    while (todo.Any()) {\n+        assert(!smp_finder.AllDone());\n+        assert(!exh_finder.AllDone());\n+        assert(!anc_finder.AllDone());\n+        assert(anc_finder.NumRemaining() == todo.Count());\n+\n+        // Call SimpleCandidateFinder.\n+        auto [found, iterations_done] = smp_finder.FindCandidateSet(MAX_SIMPLE_ITERATIONS);\n+        bool optimal = (iterations_done != MAX_SIMPLE_ITERATIONS);\n+\n+        // Sanity check the result.\n+        assert(iterations_done <= MAX_SIMPLE_ITERATIONS);\n+        assert(found.transactions.Any());\n+        assert(found.transactions.IsSubsetOf(todo));\n+        assert(depgraph.FeeRate(found.transactions) == found.feerate);\n+        // Check that it is topologically valid.\n+        for (auto i : found.transactions) {\n+            assert(found.transactions.IsSupersetOf(depgraph.Ancestors(i) & todo));\n+        }\n+\n+        // At most 2^(N-1) iterations can be required: the number of non-empty connected subsets a\n+        // graph with N transactions can have. If MAX_SIMPLE_ITERATIONS exceeds this number, the\n+        // result is necessarily optimal.\n+        assert(iterations_done <= (uint64_t{1} << (todo.Count() - 1)));\n+        if (MAX_SIMPLE_ITERATIONS > (uint64_t{1} << (todo.Count() - 1))) assert(optimal);\n+\n+        // Perform quality checks only if SimpleCandidateFinder claims an optimal result.\n+        if (optimal) {\n+            // Optimal sets are always connected.\n+            assert(depgraph.IsConnected(found.transactions));",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": null,
      "original_position": 69,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "5aa18902deceab13eb9af15634912e34133c332b",
      "in_reply_to_id": null,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "IIUC `FindCandidateSet` only adds connected sets and there is is comment in line 74-75 that explains that.\r\nso even when not optimal this assertion will hold.\r\n\r\nI've been running a version of this commit with the assertion above if optimal and no crash after a long time.",
      "created_at": "2025-06-10T13:51:18Z",
      "updated_at": "2025-06-10T15:02:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r2137965569",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2137965569"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 678,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2138077597",
      "pull_request_review_id": 2913685583,
      "id": 2138077597,
      "node_id": "PRRC_kwDOABII585_cHmd",
      "diff_hunk": "@@ -1067,6 +1075,12 @@ FUZZ_TARGET(clusterlin_linearize)\n         // If SimpleLinearize finds the optimal result too, they must be equal (if not,\n         // SimpleLinearize is broken).\n         if (simple_optimal) assert(cmp == 0);\n+\n+        // Compare with a linearization read from the fuzz input.\n+        auto read = ReadLinearization(depgraph, reader);\n+        auto read_chunking = ChunkLinearization(depgraph, read);\n+        auto cmp_read = CompareChunks(chunking, read_chunking);",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": 529,
      "original_position": 23,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "50a18d71432b3da92309ef74e0bafaf34765fa0f",
      "in_reply_to_id": null,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "The fuzz crash reported by @marcofleon in https://github.com/bitcoin/bitcoin/pull/30605#issuecomment-2539605981  occurred because we were comparing the simple chunking with the chunking read from the fuzzer.\r\n\r\nHowever, in the block, `simple_chunking` might not be optimal, while chunking from `Linearize` is optimal. In such cases, the linearization provided by the fuzzer might be better than what is produced by `SimpleLinearize` in `simple_chunking`.\r\n\r\nCan be reproduced by appending this diff\r\n```diff\r\ndiff --git a/src/test/fuzz/cluster_linearize.cpp b/src/test/fuzz/cluster_linearize.cpp\r\nindex df2cc312704..3f3111fa30e 100644\r\n--- a/src/test/fuzz/cluster_linearize.cpp\r\n+++ b/src/test/fuzz/cluster_linearize.cpp\r\n@@ -1079,7 +1079,7 @@ FUZZ_TARGET(clusterlin_linearize)\r\n         // Compare with a linearization read from the fuzz input.\r\n         auto read = ReadLinearization(depgraph, reader);\r\n         auto read_chunking = ChunkLinearization(depgraph, read);\r\n-        auto cmp_read = CompareChunks(chunking, read_chunking);\r\n+        auto cmp_read = CompareChunks(simple_chunking, read_chunking);\r\n         assert(cmp_read >= 0);\r\n     }\r\n }\r\n```",
      "created_at": "2025-06-10T14:37:45Z",
      "updated_at": "2025-06-10T15:02:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r2138077597",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2138077597"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1206,
      "original_line": 1206,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2138123670",
      "pull_request_review_id": 2913685583,
      "id": 2138123670,
      "node_id": "PRRC_kwDOABII585_cS2W",
      "diff_hunk": "@@ -1090,6 +1094,9 @@ FUZZ_TARGET(clusterlin_linearize)\n         // If SimpleLinearize finds the optimal result too, they must be equal (if not,\n         // SimpleLinearize is broken).\n         if (simple_optimal) assert(cmp == 0);",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": 496,
      "original_position": 14,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "d2fc10b64505512a70bed05e7bb21d76c8f748cd",
      "in_reply_to_id": null,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Should we also do more comparison when both are optimal, that the chunking matches, \r\nEdit disregard we do it below ðŸ‘ðŸ¾ ",
      "created_at": "2025-06-10T14:54:13Z",
      "updated_at": "2025-06-10T15:09:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r2138123670",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2138123670"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1198,
      "original_line": 1198,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2138805235",
      "pull_request_review_id": 2915093124,
      "id": 2138805235,
      "node_id": "PRRC_kwDOABII585_e5Pz",
      "diff_hunk": "@@ -623,11 +622,94 @@ FUZZ_TARGET(clusterlin_ancestor_finder)\n \n static constexpr auto MAX_SIMPLE_ITERATIONS = 300000;\n \n+FUZZ_TARGET(clusterlin_simple_finder)\n+{\n+    // Verify that SimpleCandidateFinder works as expected by sanity checking the results\n+    // and comparing them (if claimed to be optimal) against the sets found by\n+    // ExhaustiveCandidateFinder and AncestorCandidateFinder.\n+    //\n+    // Note that SimpleCandidateFinder is only used in tests; the purpose of this fuzz test is to\n+    // establish confidence in SimpleCandidateFinder, so that it can be used to test\n+    // SearchCandidateFinder below.\n+\n+    // Retrieve a depgraph from the fuzz input.\n+    SpanReader reader(buffer);\n+    DepGraph<TestBitSet> depgraph;\n+    try {\n+        reader >> Using<DepGraphFormatter>(depgraph);\n+    } catch (const std::ios_base::failure&) {}\n+\n+    // Instantiate the SimpleCandidateFinder to be tested, and the ExhaustiveCandidateFinder and\n+    // AncestorCandidateFinder it is being tested against.\n+    SimpleCandidateFinder smp_finder(depgraph);\n+    ExhaustiveCandidateFinder exh_finder(depgraph);\n+    AncestorCandidateFinder anc_finder(depgraph);\n+\n+    auto todo = depgraph.Positions();\n+    while (todo.Any()) {\n+        assert(!smp_finder.AllDone());\n+        assert(!exh_finder.AllDone());\n+        assert(!anc_finder.AllDone());\n+        assert(anc_finder.NumRemaining() == todo.Count());\n+\n+        // Call SimpleCandidateFinder.\n+        auto [found, iterations_done] = smp_finder.FindCandidateSet(MAX_SIMPLE_ITERATIONS);\n+        bool optimal = (iterations_done != MAX_SIMPLE_ITERATIONS);\n+\n+        // Sanity check the result.\n+        assert(iterations_done <= MAX_SIMPLE_ITERATIONS);\n+        assert(found.transactions.Any());\n+        assert(found.transactions.IsSubsetOf(todo));\n+        assert(depgraph.FeeRate(found.transactions) == found.feerate);\n+        // Check that it is topologically valid.\n+        for (auto i : found.transactions) {\n+            assert(found.transactions.IsSupersetOf(depgraph.Ancestors(i) & todo));\n+        }\n+\n+        // At most 2^(N-1) iterations can be required: the number of non-empty connected subsets a\n+        // graph with N transactions can have. If MAX_SIMPLE_ITERATIONS exceeds this number, the\n+        // result is necessarily optimal.\n+        assert(iterations_done <= (uint64_t{1} << (todo.Count() - 1)));\n+        if (MAX_SIMPLE_ITERATIONS > (uint64_t{1} << (todo.Count() - 1))) assert(optimal);\n+\n+        // Perform quality checks only if SimpleCandidateFinder claims an optimal result.\n+        if (optimal) {\n+            // Optimal sets are always connected.\n+            assert(depgraph.IsConnected(found.transactions));",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": null,
      "original_position": 69,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "5aa18902deceab13eb9af15634912e34133c332b",
      "in_reply_to_id": 2137965569,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Nice catch! I've added a commit that always performs the check for SimpleCandidateFinder (even if non-optimal).",
      "created_at": "2025-06-10T21:35:59Z",
      "updated_at": "2025-06-10T21:35:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r2138805235",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2138805235"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 678,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2138805358",
      "pull_request_review_id": 2915093312,
      "id": 2138805358,
      "node_id": "PRRC_kwDOABII585_e5Ru",
      "diff_hunk": "@@ -1067,6 +1075,12 @@ FUZZ_TARGET(clusterlin_linearize)\n         // If SimpleLinearize finds the optimal result too, they must be equal (if not,\n         // SimpleLinearize is broken).\n         if (simple_optimal) assert(cmp == 0);\n+\n+        // Compare with a linearization read from the fuzz input.\n+        auto read = ReadLinearization(depgraph, reader);\n+        auto read_chunking = ChunkLinearization(depgraph, read);\n+        auto cmp_read = CompareChunks(chunking, read_chunking);",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": 529,
      "original_position": 23,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "50a18d71432b3da92309ef74e0bafaf34765fa0f",
      "in_reply_to_id": 2138077597,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Indeed.",
      "created_at": "2025-06-10T21:36:06Z",
      "updated_at": "2025-06-10T21:36:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r2138805358",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2138805358"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1206,
      "original_line": 1206,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2138806088",
      "pull_request_review_id": 2915094373,
      "id": 2138806088,
      "node_id": "PRRC_kwDOABII585_e5dI",
      "diff_hunk": "@@ -1090,6 +1094,9 @@ FUZZ_TARGET(clusterlin_linearize)\n         // If SimpleLinearize finds the optimal result too, they must be equal (if not,\n         // SimpleLinearize is broken).\n         if (simple_optimal) assert(cmp == 0);",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": 496,
      "original_position": 14,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "d2fc10b64505512a70bed05e7bb21d76c8f748cd",
      "in_reply_to_id": 2138123670,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "The chunking won't necessarily match exactly, but the number of elements in the chunking must match if both are optimal.",
      "created_at": "2025-06-10T21:36:47Z",
      "updated_at": "2025-06-10T21:36:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r2138806088",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2138806088"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1198,
      "original_line": 1198,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2138844396",
      "pull_request_review_id": 2915148865,
      "id": 2138844396,
      "node_id": "PRRC_kwDOABII585_fCzs",
      "diff_hunk": "@@ -623,11 +622,94 @@ FUZZ_TARGET(clusterlin_ancestor_finder)\n \n static constexpr auto MAX_SIMPLE_ITERATIONS = 300000;\n \n+FUZZ_TARGET(clusterlin_simple_finder)\n+{\n+    // Verify that SimpleCandidateFinder works as expected by sanity checking the results\n+    // and comparing them (if claimed to be optimal) against the sets found by\n+    // ExhaustiveCandidateFinder and AncestorCandidateFinder.\n+    //\n+    // Note that SimpleCandidateFinder is only used in tests; the purpose of this fuzz test is to\n+    // establish confidence in SimpleCandidateFinder, so that it can be used to test\n+    // SearchCandidateFinder below.\n+\n+    // Retrieve a depgraph from the fuzz input.\n+    SpanReader reader(buffer);\n+    DepGraph<TestBitSet> depgraph;\n+    try {\n+        reader >> Using<DepGraphFormatter>(depgraph);\n+    } catch (const std::ios_base::failure&) {}\n+\n+    // Instantiate the SimpleCandidateFinder to be tested, and the ExhaustiveCandidateFinder and\n+    // AncestorCandidateFinder it is being tested against.\n+    SimpleCandidateFinder smp_finder(depgraph);\n+    ExhaustiveCandidateFinder exh_finder(depgraph);\n+    AncestorCandidateFinder anc_finder(depgraph);\n+\n+    auto todo = depgraph.Positions();\n+    while (todo.Any()) {\n+        assert(!smp_finder.AllDone());\n+        assert(!exh_finder.AllDone());\n+        assert(!anc_finder.AllDone());\n+        assert(anc_finder.NumRemaining() == todo.Count());\n+\n+        // Call SimpleCandidateFinder.\n+        auto [found, iterations_done] = smp_finder.FindCandidateSet(MAX_SIMPLE_ITERATIONS);\n+        bool optimal = (iterations_done != MAX_SIMPLE_ITERATIONS);\n+\n+        // Sanity check the result.\n+        assert(iterations_done <= MAX_SIMPLE_ITERATIONS);\n+        assert(found.transactions.Any());\n+        assert(found.transactions.IsSubsetOf(todo));\n+        assert(depgraph.FeeRate(found.transactions) == found.feerate);\n+        // Check that it is topologically valid.\n+        for (auto i : found.transactions) {\n+            assert(found.transactions.IsSupersetOf(depgraph.Ancestors(i) & todo));\n+        }\n+\n+        // At most 2^(N-1) iterations can be required: the number of non-empty connected subsets a\n+        // graph with N transactions can have. If MAX_SIMPLE_ITERATIONS exceeds this number, the\n+        // result is necessarily optimal.\n+        assert(iterations_done <= (uint64_t{1} << (todo.Count() - 1)));\n+        if (MAX_SIMPLE_ITERATIONS > (uint64_t{1} << (todo.Count() - 1))) assert(optimal);\n+\n+        // Perform quality checks only if SimpleCandidateFinder claims an optimal result.\n+        if (optimal) {\n+            // Optimal sets are always connected.\n+            assert(depgraph.IsConnected(found.transactions));",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": null,
      "original_position": 69,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "5aa18902deceab13eb9af15634912e34133c332b",
      "in_reply_to_id": 2137965569,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Huh, I hit fuzz failures with this if I let it run for a while. Weird, will investigate.",
      "created_at": "2025-06-10T22:06:32Z",
      "updated_at": "2025-06-10T22:06:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r2138844396",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2138844396"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 678,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2139065850",
      "pull_request_review_id": 2915467515,
      "id": 2139065850,
      "node_id": "PRRC_kwDOABII585_f436",
      "diff_hunk": "@@ -623,11 +622,94 @@ FUZZ_TARGET(clusterlin_ancestor_finder)\n \n static constexpr auto MAX_SIMPLE_ITERATIONS = 300000;\n \n+FUZZ_TARGET(clusterlin_simple_finder)\n+{\n+    // Verify that SimpleCandidateFinder works as expected by sanity checking the results\n+    // and comparing them (if claimed to be optimal) against the sets found by\n+    // ExhaustiveCandidateFinder and AncestorCandidateFinder.\n+    //\n+    // Note that SimpleCandidateFinder is only used in tests; the purpose of this fuzz test is to\n+    // establish confidence in SimpleCandidateFinder, so that it can be used to test\n+    // SearchCandidateFinder below.\n+\n+    // Retrieve a depgraph from the fuzz input.\n+    SpanReader reader(buffer);\n+    DepGraph<TestBitSet> depgraph;\n+    try {\n+        reader >> Using<DepGraphFormatter>(depgraph);\n+    } catch (const std::ios_base::failure&) {}\n+\n+    // Instantiate the SimpleCandidateFinder to be tested, and the ExhaustiveCandidateFinder and\n+    // AncestorCandidateFinder it is being tested against.\n+    SimpleCandidateFinder smp_finder(depgraph);\n+    ExhaustiveCandidateFinder exh_finder(depgraph);\n+    AncestorCandidateFinder anc_finder(depgraph);\n+\n+    auto todo = depgraph.Positions();\n+    while (todo.Any()) {\n+        assert(!smp_finder.AllDone());\n+        assert(!exh_finder.AllDone());\n+        assert(!anc_finder.AllDone());\n+        assert(anc_finder.NumRemaining() == todo.Count());\n+\n+        // Call SimpleCandidateFinder.\n+        auto [found, iterations_done] = smp_finder.FindCandidateSet(MAX_SIMPLE_ITERATIONS);\n+        bool optimal = (iterations_done != MAX_SIMPLE_ITERATIONS);\n+\n+        // Sanity check the result.\n+        assert(iterations_done <= MAX_SIMPLE_ITERATIONS);\n+        assert(found.transactions.Any());\n+        assert(found.transactions.IsSubsetOf(todo));\n+        assert(depgraph.FeeRate(found.transactions) == found.feerate);\n+        // Check that it is topologically valid.\n+        for (auto i : found.transactions) {\n+            assert(found.transactions.IsSupersetOf(depgraph.Ancestors(i) & todo));\n+        }\n+\n+        // At most 2^(N-1) iterations can be required: the number of non-empty connected subsets a\n+        // graph with N transactions can have. If MAX_SIMPLE_ITERATIONS exceeds this number, the\n+        // result is necessarily optimal.\n+        assert(iterations_done <= (uint64_t{1} << (todo.Count() - 1)));\n+        if (MAX_SIMPLE_ITERATIONS > (uint64_t{1} << (todo.Count() - 1))) assert(optimal);\n+\n+        // Perform quality checks only if SimpleCandidateFinder claims an optimal result.\n+        if (optimal) {\n+            // Optimal sets are always connected.\n+            assert(depgraph.IsConnected(found.transactions));",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": null,
      "original_position": 69,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "5aa18902deceab13eb9af15634912e34133c332b",
      "in_reply_to_id": 2137965569,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Fixed!\r\n\r\nThe exception was that `SimpleCandidateFinder::FindCandidateSet` initialized `best` to be the entire set of remaining transactions, which are not necessarily connected. If the search then stops without ever finding a better subset (because `max_iterations` was hit), the entire set was returned.",
      "created_at": "2025-06-11T02:36:04Z",
      "updated_at": "2025-06-11T02:36:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r2139065850",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2139065850"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 678,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2140527873",
      "pull_request_review_id": 2917782021,
      "id": 2140527873,
      "node_id": "PRRC_kwDOABII585_ld0B",
      "diff_hunk": "@@ -495,11 +494,93 @@ FUZZ_TARGET(clusterlin_ancestor_finder)\n \n static constexpr auto MAX_SIMPLE_ITERATIONS = 300000;\n \n+FUZZ_TARGET(clusterlin_simple_finder)\n+{\n+    // Verify that SimpleCandidateFinder works as expected by sanity checking the results\n+    // and comparing with the results from ExhaustiveCandidateFinder. Note that\n+    // SimpleCandidateFinder is only used in tests; the purpose of this fuzz test is to establish\n+    // confidence in SimpleCandidateFinder, so that it can be used to test SearchCandidateFinder\n+    // below.\n+\n+    // Retrieve a depgraph from the fuzz input.\n+    SpanReader reader(buffer);\n+    DepGraph<TestBitSet> depgraph;\n+    try {\n+        reader >> Using<DepGraphFormatter>(depgraph);\n+    } catch (const std::ios_base::failure&) {}\n+\n+    // Instantiate the SimpleCandidateFinder to be tested, and the ExhaustiveCandidateFinder it is\n+    // being tested against.\n+    SimpleCandidateFinder smp_finder(depgraph);\n+    ExhaustiveCandidateFinder exh_finder(depgraph);\n+\n+    auto todo = TestBitSet::Fill(depgraph.TxCount());\n+    while (todo.Any()) {\n+        assert(!smp_finder.AllDone());\n+        assert(!exh_finder.AllDone());\n+\n+        // Call SimpleCandidateFinder.\n+        auto [found, iterations_done] = smp_finder.FindCandidateSet(MAX_SIMPLE_ITERATIONS);\n+        bool optimal = (iterations_done != MAX_SIMPLE_ITERATIONS);\n+\n+        // Sanity check the result.\n+        assert(iterations_done <= MAX_SIMPLE_ITERATIONS);\n+        assert(found.transactions.Any());\n+        assert(found.transactions.IsSubsetOf(todo));\n+        assert(depgraph.FeeRate(found.transactions) == found.feerate);\n+        // Check that it is topologically valid.\n+        for (auto i : found.transactions) {\n+            assert(found.transactions.IsSupersetOf(depgraph.Ancestors(i) & todo));\n+        }\n+\n+        // At most 2^(N-1) iterations can be required: the number of non-empty connected subsets a\n+        // graph with N transactions can have.\n+        assert(iterations_done <= (uint64_t{1} << (todo.Count() - 1)));\n+\n+        // Perform quality checks only if SimpleCandidateFinder claims an optimal result.\n+        if (optimal) {\n+            // Optimal sets are always connected.\n+            assert(depgraph.IsConnected(found.transactions));\n+\n+            if (todo.Count() <= 12) {\n+                // Compare with ExhaustiveCandidateFinder. This quickly gets computationally\n+                // expensive for large clusters (O(2^n)), so only do it for sufficiently small ones.\n+                auto exhaustive = exh_finder.FindCandidateSet();\n+                assert(exhaustive.feerate == found.feerate);",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": 286,
      "original_position": 84,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "d5d6839fe7479ccd98f450081cfd76b478d1bf12",
      "in_reply_to_id": 1775677456,
      "user": {
        "login": "polespinasa",
        "id": 57642229,
        "node_id": "MDQ6VXNlcjU3NjQyMjI5",
        "avatar_url": "https://avatars.githubusercontent.com/u/57642229?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/polespinasa",
        "html_url": "https://github.com/polespinasa",
        "followers_url": "https://api.github.com/users/polespinasa/followers",
        "following_url": "https://api.github.com/users/polespinasa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/polespinasa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/polespinasa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/polespinasa/subscriptions",
        "organizations_url": "https://api.github.com/users/polespinasa/orgs",
        "repos_url": "https://api.github.com/users/polespinasa/repos",
        "events_url": "https://api.github.com/users/polespinasa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/polespinasa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Are sets with different sizes but same fee rate considered equally optimal?\r\nIn case the smaller one \"wins\" would make sense to assert the size also?",
      "created_at": "2025-06-11T15:46:10Z",
      "updated_at": "2025-06-11T18:15:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r2140527873",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2140527873"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 831,
      "original_line": 831,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2140915005",
      "pull_request_review_id": 2918435143,
      "id": 2140915005,
      "node_id": "PRRC_kwDOABII585_m8U9",
      "diff_hunk": "@@ -495,11 +494,93 @@ FUZZ_TARGET(clusterlin_ancestor_finder)\n \n static constexpr auto MAX_SIMPLE_ITERATIONS = 300000;\n \n+FUZZ_TARGET(clusterlin_simple_finder)\n+{\n+    // Verify that SimpleCandidateFinder works as expected by sanity checking the results\n+    // and comparing with the results from ExhaustiveCandidateFinder. Note that\n+    // SimpleCandidateFinder is only used in tests; the purpose of this fuzz test is to establish\n+    // confidence in SimpleCandidateFinder, so that it can be used to test SearchCandidateFinder\n+    // below.\n+\n+    // Retrieve a depgraph from the fuzz input.\n+    SpanReader reader(buffer);\n+    DepGraph<TestBitSet> depgraph;\n+    try {\n+        reader >> Using<DepGraphFormatter>(depgraph);\n+    } catch (const std::ios_base::failure&) {}\n+\n+    // Instantiate the SimpleCandidateFinder to be tested, and the ExhaustiveCandidateFinder it is\n+    // being tested against.\n+    SimpleCandidateFinder smp_finder(depgraph);\n+    ExhaustiveCandidateFinder exh_finder(depgraph);\n+\n+    auto todo = TestBitSet::Fill(depgraph.TxCount());\n+    while (todo.Any()) {\n+        assert(!smp_finder.AllDone());\n+        assert(!exh_finder.AllDone());\n+\n+        // Call SimpleCandidateFinder.\n+        auto [found, iterations_done] = smp_finder.FindCandidateSet(MAX_SIMPLE_ITERATIONS);\n+        bool optimal = (iterations_done != MAX_SIMPLE_ITERATIONS);\n+\n+        // Sanity check the result.\n+        assert(iterations_done <= MAX_SIMPLE_ITERATIONS);\n+        assert(found.transactions.Any());\n+        assert(found.transactions.IsSubsetOf(todo));\n+        assert(depgraph.FeeRate(found.transactions) == found.feerate);\n+        // Check that it is topologically valid.\n+        for (auto i : found.transactions) {\n+            assert(found.transactions.IsSupersetOf(depgraph.Ancestors(i) & todo));\n+        }\n+\n+        // At most 2^(N-1) iterations can be required: the number of non-empty connected subsets a\n+        // graph with N transactions can have.\n+        assert(iterations_done <= (uint64_t{1} << (todo.Count() - 1)));\n+\n+        // Perform quality checks only if SimpleCandidateFinder claims an optimal result.\n+        if (optimal) {\n+            // Optimal sets are always connected.\n+            assert(depgraph.IsConnected(found.transactions));\n+\n+            if (todo.Count() <= 12) {\n+                // Compare with ExhaustiveCandidateFinder. This quickly gets computationally\n+                // expensive for large clusters (O(2^n)), so only do it for sufficiently small ones.\n+                auto exhaustive = exh_finder.FindCandidateSet();\n+                assert(exhaustive.feerate == found.feerate);",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": 286,
      "original_position": 84,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "d5d6839fe7479ccd98f450081cfd76b478d1bf12",
      "in_reply_to_id": 1775677456,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "The `FeeRate::operator<` and similar operators treat equal-feerate sets as better when they're smaller. So the `==` means both feerate and size (and thus fee) equal. Still, there can be multiple equal such sets.",
      "created_at": "2025-06-11T19:27:47Z",
      "updated_at": "2025-06-11T19:28:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r2140915005",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2140915005"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 831,
      "original_line": 831,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2140931625",
      "pull_request_review_id": 2918460923,
      "id": 2140931625,
      "node_id": "PRRC_kwDOABII585_nAYp",
      "diff_hunk": "@@ -495,11 +494,93 @@ FUZZ_TARGET(clusterlin_ancestor_finder)\n \n static constexpr auto MAX_SIMPLE_ITERATIONS = 300000;\n \n+FUZZ_TARGET(clusterlin_simple_finder)\n+{\n+    // Verify that SimpleCandidateFinder works as expected by sanity checking the results\n+    // and comparing with the results from ExhaustiveCandidateFinder. Note that\n+    // SimpleCandidateFinder is only used in tests; the purpose of this fuzz test is to establish\n+    // confidence in SimpleCandidateFinder, so that it can be used to test SearchCandidateFinder\n+    // below.\n+\n+    // Retrieve a depgraph from the fuzz input.\n+    SpanReader reader(buffer);\n+    DepGraph<TestBitSet> depgraph;\n+    try {\n+        reader >> Using<DepGraphFormatter>(depgraph);\n+    } catch (const std::ios_base::failure&) {}\n+\n+    // Instantiate the SimpleCandidateFinder to be tested, and the ExhaustiveCandidateFinder it is\n+    // being tested against.\n+    SimpleCandidateFinder smp_finder(depgraph);\n+    ExhaustiveCandidateFinder exh_finder(depgraph);\n+\n+    auto todo = TestBitSet::Fill(depgraph.TxCount());\n+    while (todo.Any()) {\n+        assert(!smp_finder.AllDone());\n+        assert(!exh_finder.AllDone());\n+\n+        // Call SimpleCandidateFinder.\n+        auto [found, iterations_done] = smp_finder.FindCandidateSet(MAX_SIMPLE_ITERATIONS);\n+        bool optimal = (iterations_done != MAX_SIMPLE_ITERATIONS);\n+\n+        // Sanity check the result.\n+        assert(iterations_done <= MAX_SIMPLE_ITERATIONS);\n+        assert(found.transactions.Any());\n+        assert(found.transactions.IsSubsetOf(todo));\n+        assert(depgraph.FeeRate(found.transactions) == found.feerate);\n+        // Check that it is topologically valid.\n+        for (auto i : found.transactions) {\n+            assert(found.transactions.IsSupersetOf(depgraph.Ancestors(i) & todo));\n+        }\n+\n+        // At most 2^(N-1) iterations can be required: the number of non-empty connected subsets a\n+        // graph with N transactions can have.\n+        assert(iterations_done <= (uint64_t{1} << (todo.Count() - 1)));\n+\n+        // Perform quality checks only if SimpleCandidateFinder claims an optimal result.\n+        if (optimal) {\n+            // Optimal sets are always connected.\n+            assert(depgraph.IsConnected(found.transactions));\n+\n+            if (todo.Count() <= 12) {\n+                // Compare with ExhaustiveCandidateFinder. This quickly gets computationally\n+                // expensive for large clusters (O(2^n)), so only do it for sufficiently small ones.\n+                auto exhaustive = exh_finder.FindCandidateSet();\n+                assert(exhaustive.feerate == found.feerate);",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": 286,
      "original_position": 84,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "d5d6839fe7479ccd98f450081cfd76b478d1bf12",
      "in_reply_to_id": 1775677456,
      "user": {
        "login": "polespinasa",
        "id": 57642229,
        "node_id": "MDQ6VXNlcjU3NjQyMjI5",
        "avatar_url": "https://avatars.githubusercontent.com/u/57642229?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/polespinasa",
        "html_url": "https://github.com/polespinasa",
        "followers_url": "https://api.github.com/users/polespinasa/followers",
        "following_url": "https://api.github.com/users/polespinasa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/polespinasa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/polespinasa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/polespinasa/subscriptions",
        "organizations_url": "https://api.github.com/users/polespinasa/orgs",
        "repos_url": "https://api.github.com/users/polespinasa/repos",
        "events_url": "https://api.github.com/users/polespinasa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/polespinasa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "oh right, it's using FeeFrac to compare. Noted!",
      "created_at": "2025-06-11T19:39:46Z",
      "updated_at": "2025-06-11T19:39:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r2140931625",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2140931625"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 831,
      "original_line": 831,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2143221865",
      "pull_request_review_id": 2921965126,
      "id": 2143221865,
      "node_id": "PRRC_kwDOABII585_vvhp",
      "diff_hunk": "@@ -166,6 +229,58 @@ std::pair<std::vector<DepGraphIndex>, bool> SimpleLinearize(const DepGraph<SetTy\n     return {std::move(linearization), optimal};\n }\n \n+/** An even simpler linearization algorithm that tries all permutations.\n+ *\n+ * This roughly matches SimpleLinearize() (and Linearize) in interface and behavior, but always\n+ * tries all topologically-valid transaction orderings, has no way to bound how much work it does,\n+ * and always finds the optimal. With an O(n!) complexity, it should only be used for small\n+ * clusters.\n+ */\n+template<typename SetType>\n+std::vector<DepGraphIndex> ExhaustiveLinearize(const DepGraph<SetType>& depgraph)\n+{\n+    // The best linearization so far, and its chunking.\n+    std::vector<DepGraphIndex> linearization;\n+    std::vector<FeeFrac> chunking;\n+\n+    std::vector<DepGraphIndex> perm_linearization;\n+    // Initialize with the lexicographically-first linearization.\n+    for (DepGraphIndex i : depgraph.Positions()) perm_linearization.push_back(i);\n+    // Iterate over all valid permutations.\n+    do {\n+        /** What prefix of perm_linearization is topological. */\n+        DepGraphIndex topo_length{0};\n+        TestBitSet perm_done;\n+        while (topo_length < perm_linearization.size()) {\n+            auto i = perm_linearization[topo_length];\n+            perm_done.Set(i);\n+            if (!depgraph.Ancestors(i).IsSubsetOf(perm_done)) break;\n+            ++topo_length;\n+        }\n+        if (topo_length == perm_linearization.size()) {\n+            // If all of perm_linearization is topological, check if it is perhaps our best\n+            // linearization so far.\n+            auto perm_chunking = ChunkLinearization(depgraph, perm_linearization);\n+            auto cmp = CompareChunks(perm_chunking, chunking);\n+            // If the diagram is better, or if it is equal but with more chunks (because we\n+            // prefer minimal chunks), consider this better.\n+            if (linearization.empty() ||cmp > 0 || (cmp == 0 && perm_chunking.size() > chunking.size())) {",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": null,
      "original_position": 151,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "9877e275b95400e46f336bc34ce41ed68ce43683",
      "in_reply_to_id": null,
      "user": {
        "login": "marcofleon",
        "id": 95179662,
        "node_id": "U_kgDOBaxTjg",
        "avatar_url": "https://avatars.githubusercontent.com/u/95179662?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/marcofleon",
        "html_url": "https://github.com/marcofleon",
        "followers_url": "https://api.github.com/users/marcofleon/followers",
        "following_url": "https://api.github.com/users/marcofleon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/marcofleon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/marcofleon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/marcofleon/subscriptions",
        "organizations_url": "https://api.github.com/users/marcofleon/orgs",
        "repos_url": "https://api.github.com/users/marcofleon/repos",
        "events_url": "https://api.github.com/users/marcofleon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/marcofleon/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nittiest of nits: Missing a space here. Could be fixed in #32545 if this is isn't touched anymore.",
      "created_at": "2025-06-12T16:53:00Z",
      "updated_at": "2025-06-12T18:19:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r2143221865",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2143221865"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 267,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2145477824",
      "pull_request_review_id": 2925444354,
      "id": 2145477824,
      "node_id": "PRRC_kwDOABII585_4WTA",
      "diff_hunk": "@@ -17,6 +17,67 @@\n #include <vector>\n #include <utility>\n \n+/*\n+ * The tests in this file primarily test the candidate finder classes and linearization algorithms.\n+ *\n+ *   <----: the right side is tested in the named test by comparison with the left side",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "9877e275b95400e46f336bc34ce41ed68ce43683",
      "in_reply_to_id": null,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In \"clusterlin: add big comment explaning the relation between tests\"  9877e275b95400e46f336bc34ce41ed68ce43683\r\n\r\nI like the new comment addition, just the first description is a bit unclear because the line is diagonal\r\n\r\nMaybe this suggestion will be clearer?\r\n```diff\r\ndiff --git a/src/test/fuzz/cluster_linearize.cpp b/src/test/fuzz/cluster_linearize.cpp\r\nindex 7d0fb5fbec0..8820e3b3eaa 100644\r\n--- a/src/test/fuzz/cluster_linearize.cpp\r\n+++ b/src/test/fuzz/cluster_linearize.cpp\r\n@@ -18,10 +18,11 @@\r\n #include <utility>\r\n \r\n /*\r\n- * The tests in this file primarily test the candidate finder classes and linearization algorithms.\r\n+ * The tests in this file primarily cover the candidate finder classes and linearization algorithms.\r\n  *\r\n- *   <----: the right side is tested in the named test by comparison with the left side\r\n- *   <<---: right side is implemented using left side\r\n+ *   <----: An implementation (at the start of the line --) is tested in the test marked with *\r\n+ *          by comparison with other implementations (at the end of the line ->).\r\n+ *   <<---: The right side is implemented using the left side.\r\n  *\r\n  *   +-----------------------+\r\n  *   | SearchCandidateFinder | <<---------------------\\\r\n@@ -38,7 +39,7 @@\r\n  *     |                            |                    |        ||\r\n  *     |                            |                    |        vv  TEST CODE\r\n  *     |                            |                    |\r\n- *     |-clusterlin_search_finder   |                    |-clusterlin_linearize\r\n+ *     |-clusterlin_search_finder*  |                    |-clusterlin_linearize*\r\n  *     |                            |                    |\r\n  *     v                            |                    v\r\n  *   +-----------------------+      |               +-----------------+\r\n@@ -47,7 +48,7 @@\r\n  *                  |               |                    |\r\n  *                  +---------------/                    |\r\n  *                  |                                    |\r\n- *                  |-clusterlin_simple_finder           |-clusterlin_simple_linearize\r\n+ *                  |-clusterlin_simple_finder*          |-clusterlin_simple_linearize*\r\n  *                  v                                    v\r\n  *   +---------------------------+                  +---------------------+\r\n  *   | ExhaustiveCandidateFinder |                  | ExhaustiveLinearize |\r\nabubakarismail@Abubakars-MacBook-Pro ~/D/W/b/bitcoin ((9877e275))> \r\n```",
      "created_at": "2025-06-13T16:27:33Z",
      "updated_at": "2025-06-13T16:27:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r2145477824",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2145477824"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 23,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2147367431",
      "pull_request_review_id": 2928897371,
      "id": 2147367431,
      "node_id": "PRRC_kwDOABII585__joH",
      "diff_hunk": "@@ -17,6 +17,67 @@\n #include <vector>\n #include <utility>\n \n+/*\n+ * The tests in this file primarily test the candidate finder classes and linearization algorithms.\n+ *\n+ *   <----: the right side is tested in the named test by comparison with the left side",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "9877e275b95400e46f336bc34ce41ed68ce43683",
      "in_reply_to_id": 2145477824,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Done. I have also integrated the mention of `clusterlin_ancestor_finder` into the diagram.",
      "created_at": "2025-06-14T22:37:14Z",
      "updated_at": "2025-06-14T22:37:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r2147367431",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2147367431"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 23,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2147367437",
      "pull_request_review_id": 2928897386,
      "id": 2147367437,
      "node_id": "PRRC_kwDOABII585__joN",
      "diff_hunk": "@@ -166,6 +229,58 @@ std::pair<std::vector<DepGraphIndex>, bool> SimpleLinearize(const DepGraph<SetTy\n     return {std::move(linearization), optimal};\n }\n \n+/** An even simpler linearization algorithm that tries all permutations.\n+ *\n+ * This roughly matches SimpleLinearize() (and Linearize) in interface and behavior, but always\n+ * tries all topologically-valid transaction orderings, has no way to bound how much work it does,\n+ * and always finds the optimal. With an O(n!) complexity, it should only be used for small\n+ * clusters.\n+ */\n+template<typename SetType>\n+std::vector<DepGraphIndex> ExhaustiveLinearize(const DepGraph<SetType>& depgraph)\n+{\n+    // The best linearization so far, and its chunking.\n+    std::vector<DepGraphIndex> linearization;\n+    std::vector<FeeFrac> chunking;\n+\n+    std::vector<DepGraphIndex> perm_linearization;\n+    // Initialize with the lexicographically-first linearization.\n+    for (DepGraphIndex i : depgraph.Positions()) perm_linearization.push_back(i);\n+    // Iterate over all valid permutations.\n+    do {\n+        /** What prefix of perm_linearization is topological. */\n+        DepGraphIndex topo_length{0};\n+        TestBitSet perm_done;\n+        while (topo_length < perm_linearization.size()) {\n+            auto i = perm_linearization[topo_length];\n+            perm_done.Set(i);\n+            if (!depgraph.Ancestors(i).IsSubsetOf(perm_done)) break;\n+            ++topo_length;\n+        }\n+        if (topo_length == perm_linearization.size()) {\n+            // If all of perm_linearization is topological, check if it is perhaps our best\n+            // linearization so far.\n+            auto perm_chunking = ChunkLinearization(depgraph, perm_linearization);\n+            auto cmp = CompareChunks(perm_chunking, chunking);\n+            // If the diagram is better, or if it is equal but with more chunks (because we\n+            // prefer minimal chunks), consider this better.\n+            if (linearization.empty() ||cmp > 0 || (cmp == 0 && perm_chunking.size() > chunking.size())) {",
      "path": "src/test/fuzz/cluster_linearize.cpp",
      "position": null,
      "original_position": 151,
      "commit_id": "d7fca5c171f450621112457ea6f7c99b2e21d354",
      "original_commit_id": "9877e275b95400e46f336bc34ce41ed68ce43683",
      "in_reply_to_id": 2143221865,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Fixed.",
      "created_at": "2025-06-14T22:37:21Z",
      "updated_at": "2025-06-14T22:37:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30605#discussion_r2147367437",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2147367437"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30605"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 267,
      "side": "RIGHT"
    }
  ]
}