{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571",
    "id": 2000460921,
    "node_id": "PR_kwDOABII5853PJx5",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/30571",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/30571.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/30571.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30571",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30571/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/b6b2b38aa77162420babb34e01dd510512411abf",
    "number": 30571,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "test: [refactor] Use m_rng directly",
    "user": {
      "login": "maflcko",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maflcko",
      "html_url": "https://github.com/maflcko",
      "followers_url": "https://api.github.com/users/maflcko/followers",
      "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
      "organizations_url": "https://api.github.com/users/maflcko/orgs",
      "repos_url": "https://api.github.com/users/maflcko/repos",
      "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/maflcko/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This is mostly a style-cleanup for the tests' random generation:\r\n\r\n\r\n1) `g_insecure_rand_ctx` in the tests is problematic, because the name is a leftover when the generator was indeed insecure. However, now the generator is *deterministic*, because the seed is either passed in or printed (c.f. RANDOM_CTX_SEED). Stating that deterministic randomness is insecure in the tests seems redundant at best. Fix it by just using `m_rng` for the name.\r\n\r\n\r\n2) The global random context has many one-line aliases, such as `InsecureRand32`. This is problematic, because the same line of code may use the context directly and through a wrapper at the same time. For example in net_tests (see below). This inconsistency is harmless, but confusing. Fix it by just removing the one-line aliases.\r\n\r\n```\r\nsrc/test/net_tests.cpp:        auto msg_data_1 = g_insecure_rand_ctx.randbytes<uint8_t>(InsecureRandRange(100000));\r\n````\r\n\r\n\r\n3) The wrapper for randmoney has the same problem that the same unit test uses the context directly and through a wrapper at the same time. Also, it has a single type of Rng hardcoded. Fix it by accepting any type.\r\n\r\n\r\n",
    "labels": [
      {
        "id": 62963516,
        "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
        "name": "Tests",
        "color": "d4c5f9",
        "default": false
      }
    ],
    "created_at": "2024-08-02T10:00:35Z",
    "updated_at": "2024-08-21T20:14:53Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "d1486117886923d7d6349a80c2ea6485ea003bc6",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      {
        "login": "marcofleon",
        "id": 95179662,
        "node_id": "U_kgDOBaxTjg",
        "avatar_url": "https://avatars.githubusercontent.com/u/95179662?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/marcofleon",
        "html_url": "https://github.com/marcofleon",
        "followers_url": "https://api.github.com/users/marcofleon/followers",
        "following_url": "https://api.github.com/users/marcofleon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/marcofleon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/marcofleon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/marcofleon/subscriptions",
        "organizations_url": "https://api.github.com/users/marcofleon/orgs",
        "repos_url": "https://api.github.com/users/marcofleon/repos",
        "events_url": "https://api.github.com/users/marcofleon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/marcofleon/received_events",
        "type": "User",
        "site_admin": false
      },
      {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "maflcko:2408-test-rng",
      "ref": "2408-test-rng",
      "sha": "b6b2b38aa77162420babb34e01dd510512411abf",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 40046254,
        "node_id": "MDEwOlJlcG9zaXRvcnk0MDA0NjI1NA==",
        "name": "bitcoin-core",
        "full_name": "maflcko/bitcoin-core",
        "owner": {
          "login": "maflcko",
          "id": 6399679,
          "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
          "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/maflcko",
          "html_url": "https://github.com/maflcko",
          "followers_url": "https://api.github.com/users/maflcko/followers",
          "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
          "organizations_url": "https://api.github.com/users/maflcko/orgs",
          "repos_url": "https://api.github.com/users/maflcko/repos",
          "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/maflcko/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/maflcko/bitcoin-core",
        "fork": true,
        "url": "https://api.github.com/repos/maflcko/bitcoin-core",
        "archive_url": "https://api.github.com/repos/maflcko/bitcoin-core/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/maflcko/bitcoin-core/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/maflcko/bitcoin-core/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/maflcko/bitcoin-core/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/maflcko/bitcoin-core/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/maflcko/bitcoin-core/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/maflcko/bitcoin-core/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/maflcko/bitcoin-core/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/maflcko/bitcoin-core/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/maflcko/bitcoin-core/contributors",
        "deployments_url": "https://api.github.com/repos/maflcko/bitcoin-core/deployments",
        "downloads_url": "https://api.github.com/repos/maflcko/bitcoin-core/downloads",
        "events_url": "https://api.github.com/repos/maflcko/bitcoin-core/events",
        "forks_url": "https://api.github.com/repos/maflcko/bitcoin-core/forks",
        "git_commits_url": "https://api.github.com/repos/maflcko/bitcoin-core/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/maflcko/bitcoin-core/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/maflcko/bitcoin-core/git/tags%7B/sha%7D",
        "git_url": "git://github.com/maflcko/bitcoin-core.git",
        "issue_comment_url": "https://api.github.com/repos/maflcko/bitcoin-core/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/maflcko/bitcoin-core/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/maflcko/bitcoin-core/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/maflcko/bitcoin-core/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/maflcko/bitcoin-core/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/maflcko/bitcoin-core/languages",
        "merges_url": "https://api.github.com/repos/maflcko/bitcoin-core/merges",
        "milestones_url": "https://api.github.com/repos/maflcko/bitcoin-core/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/maflcko/bitcoin-core/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/maflcko/bitcoin-core/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/maflcko/bitcoin-core/releases%7B/id%7D",
        "ssh_url": "git@github.com:maflcko/bitcoin-core.git",
        "stargazers_url": "https://api.github.com/repos/maflcko/bitcoin-core/stargazers",
        "statuses_url": "https://api.github.com/repos/maflcko/bitcoin-core/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/maflcko/bitcoin-core/subscribers",
        "subscription_url": "https://api.github.com/repos/maflcko/bitcoin-core/subscription",
        "tags_url": "https://api.github.com/repos/maflcko/bitcoin-core/tags",
        "teams_url": "https://api.github.com/repos/maflcko/bitcoin-core/teams",
        "trees_url": "https://api.github.com/repos/maflcko/bitcoin-core/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/maflcko/bitcoin-core.git",
        "hooks_url": "https://api.github.com/repos/maflcko/bitcoin-core/hooks",
        "svn_url": "https://github.com/maflcko/bitcoin-core",
        "homepage": "",
        "language": "C++",
        "forks_count": 12,
        "stargazers_count": 25,
        "watchers_count": 25,
        "size": 234574,
        "default_branch": "master",
        "open_issues_count": 18,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-08-21T15:27:26Z",
        "created_at": "2015-08-01T12:42:47Z",
        "updated_at": "2023-10-29T15:00:48Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "60b816439eb4bd837778d424628cd3978e0856d9",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 36058,
        "stargazers_count": 77968,
        "watchers_count": 77968,
        "size": 265575,
        "default_branch": "master",
        "open_issues_count": 667,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-08-21T17:30:07Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-08-21T19:30:42Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 515,
    "deletions": 462,
    "changed_files": 48,
    "commits": 9,
    "review_comments": 30,
    "comments": 9
  },
  "events": [
    {
      "event": "commented",
      "id": 2265018194,
      "node_id": "IC_kwDOABII586HAW9S",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2265018194",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-02T10:00:37Z",
      "updated_at": "2024-08-21T17:06:29Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/30571).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [ryanofsky](https://github.com/bitcoin/bitcoin/pull/30571#pullrequestreview-2251432210) |\n| Concept ACK | [ismaelsadeeq](https://github.com/bitcoin/bitcoin/pull/30571#pullrequestreview-2215438204), [hodlinator](https://github.com/bitcoin/bitcoin/pull/30571#pullrequestreview-2243672559) |\n| Stale ACK | [marcofleon](https://github.com/bitcoin/bitcoin/pull/30571#pullrequestreview-2248388003) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#30673](https://github.com/bitcoin/bitcoin/pull/30673) (coins: remove logic for spent-and-FRESH cache entries and writing non-DIRTY entries by andrewtoth)\n* [#30377](https://github.com/bitcoin/bitcoin/pull/30377) (refactor: Replace ParseHex with consteval HexLiteral by hodlinator)\n* [#27865](https://github.com/bitcoin/bitcoin/pull/27865) (wallet: Track no-longer-spendable TXOs separately by achow101)\n* [#27286](https://github.com/bitcoin/bitcoin/pull/27286) (wallet: Keep track of the wallet's own transaction outputs in memory by achow101)\n* [#26812](https://github.com/bitcoin/bitcoin/pull/26812) (test: add end-to-end tests for CConnman and PeerManager by vasild)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#issuecomment-2265018194",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30571"
    },
    {
      "event": "labeled",
      "id": 13739608072,
      "node_id": "LE_lADOABII586RtY1-zwAAAAMy8cgI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13739608072",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-02T10:00:39Z",
      "label": {
        "name": "Tests",
        "color": "d4c5f9"
      }
    },
    {
      "event": "reviewed",
      "id": 2215438204,
      "node_id": "PRR_kwDOABII586EDOd8",
      "url": null,
      "actor": null,
      "commit_id": "fa295215f6fa3b85b0387511920f75eeb3e12b58",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#pullrequestreview-2215438204",
      "submitted_at": "2024-08-02T12:06:21Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
    },
    {
      "event": "review_requested",
      "id": 13761596734,
      "node_id": "RRE_lADOABII586RtY1-zwAAAAM0QU0-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13761596734",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-05T09:50:45Z",
      "requested_reviewer": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "review_requested",
      "id": 13761596791,
      "node_id": "RRE_lADOABII586RtY1-zwAAAAM0QU13",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13761596791",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-05T09:50:45Z",
      "requested_reviewer": {
        "login": "marcofleon",
        "id": 95179662,
        "node_id": "U_kgDOBaxTjg",
        "avatar_url": "https://avatars.githubusercontent.com/u/95179662?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/marcofleon",
        "html_url": "https://github.com/marcofleon",
        "followers_url": "https://api.github.com/users/marcofleon/followers",
        "following_url": "https://api.github.com/users/marcofleon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/marcofleon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/marcofleon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/marcofleon/subscriptions",
        "organizations_url": "https://api.github.com/users/marcofleon/orgs",
        "repos_url": "https://api.github.com/users/marcofleon/repos",
        "events_url": "https://api.github.com/users/marcofleon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/marcofleon/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "reviewed",
      "id": 2218922674,
      "node_id": "PRR_kwDOABII586EQhKy",
      "url": null,
      "actor": null,
      "commit_id": "fa295215f6fa3b85b0387511920f75eeb3e12b58",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Lgtm ACK fa295215f6fa3b85b0387511920f75eeb3e12b58. Reviewed the code and ran `make check`. Also ran the suggested test:\r\n`RANDOM_CTX_SEED=z ./src/test/test_bitcoin --log_level=all --run_test=timeoffsets_tests/timeoffsets_warning -- -printtoconsole=1 | grep RANDOM_CTX_SEED`",
      "user": {
        "login": "marcofleon",
        "id": 95179662,
        "node_id": "U_kgDOBaxTjg",
        "avatar_url": "https://avatars.githubusercontent.com/u/95179662?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/marcofleon",
        "html_url": "https://github.com/marcofleon",
        "followers_url": "https://api.github.com/users/marcofleon/followers",
        "following_url": "https://api.github.com/users/marcofleon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/marcofleon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/marcofleon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/marcofleon/subscriptions",
        "organizations_url": "https://api.github.com/users/marcofleon/orgs",
        "repos_url": "https://api.github.com/users/marcofleon/repos",
        "events_url": "https://api.github.com/users/marcofleon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/marcofleon/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#pullrequestreview-2218922674",
      "submitted_at": "2024-08-05T12:54:23Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
    },
    {
      "event": "review_requested",
      "id": 13763896754,
      "node_id": "RRE_lADOABII586RtY1-zwAAAAM0ZGWy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13763896754",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-05T12:54:27Z",
      "requested_reviewer": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "reviewed",
      "id": 2218933222,
      "node_id": "PRR_kwDOABII586EQjvm",
      "url": null,
      "actor": null,
      "commit_id": "fa295215f6fa3b85b0387511920f75eeb3e12b58",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "marcofleon",
        "id": 95179662,
        "node_id": "U_kgDOBaxTjg",
        "avatar_url": "https://avatars.githubusercontent.com/u/95179662?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/marcofleon",
        "html_url": "https://github.com/marcofleon",
        "followers_url": "https://api.github.com/users/marcofleon/followers",
        "following_url": "https://api.github.com/users/marcofleon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/marcofleon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/marcofleon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/marcofleon/subscriptions",
        "organizations_url": "https://api.github.com/users/marcofleon/orgs",
        "repos_url": "https://api.github.com/users/marcofleon/repos",
        "events_url": "https://api.github.com/users/marcofleon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/marcofleon/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#pullrequestreview-2218933222",
      "submitted_at": "2024-08-05T12:57:58Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
    },
    {
      "event": "reviewed",
      "id": 2222184242,
      "node_id": "PRR_kwDOABII586Ec9cy",
      "url": null,
      "actor": null,
      "commit_id": "fa295215f6fa3b85b0387511920f75eeb3e12b58",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK fa295215f6fa3b85b0387511920f75eeb3e12b58 but I think it would be nicer to add `FastRandomContext& m_rng{g_rand_ctx}` to `BasicTestingSetup` and have most test code use `m_rng` instead of `g_rand_ctx` directly.\r\n\r\nI think this would be nicer mostly as a matter of style since most test code now doesn't reference global variables directly, while this PR is adding hundreds of references. But it could also help down the road, for example if we wanted to remove the global, or run test cases deterministically in parallel. Current change looks ok to me though if this suggestion is too much work.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#pullrequestreview-2222184242",
      "submitted_at": "2024-08-06T20:29:38Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
    },
    {
      "event": "labeled",
      "id": 13790694943,
      "node_id": "LE_lADOABII586RtY1-zwAAAAM1_U4f",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13790694943",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-07T11:03:53Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2273206564,
      "node_id": "IC_kwDOABII586HfmEk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2273206564",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-07T11:03:54Z",
      "updated_at": "2024-08-07T11:03:54Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/28259682485</sub>\n\n<details><summary>Hints</summary>\n\nMake sure to run all tests locally, according to the documentation.\n\nThe failure may happen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#issuecomment-2273206564",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30571"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13797901907,
      "node_id": "HRFPE_lADOABII586RtY1-zwAAAAM2a0ZT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13797901907",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-07T21:06:27Z"
    },
    {
      "event": "commented",
      "id": 2274352643,
      "node_id": "IC_kwDOABII586Hj94D",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2274352643",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-07T21:09:40Z",
      "updated_at": "2024-08-07T21:09:40Z",
      "author_association": "MEMBER",
      "body": "> But it could also help down the road, for example if we wanted to remove the global, or run test cases deterministically in parallel.\r\n\r\nI looked into it. However, it seems more work. My findings:\r\n\r\n* There are ~300 lines of code touched, which can use the member alias or the global\r\n* 108 lines can not use the member alias as-is, because the compiler does not see it in their scope, so they'll need to be fixed up manually one-by-one\r\n* Excluding them (and only them) automatically leaves some unit tests in an odd state where one function of the unit test is using the global and another function is using the member alias (Something to avoid, I'd say)\r\n* Excluding the files with compile errors completely, which makes each file self-consistent is possible, but it is only touching 80 lines of code at this point.\r\n\r\nSo I did that, and will leave the the remaining 220 lines to be fixed by someone else, because they need to be done file-by-file manually. (I am happy to review a pull request doing that)\r\n\r\n",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#issuecomment-2274352643",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30571"
    },
    {
      "event": "renamed",
      "id": 13797948462,
      "node_id": "RTE_lADOABII586RtY1-zwAAAAM2a_wu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13797948462",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-07T21:12:07Z",
      "rename": {
        "from": "test: [refactor] Use g_rand_ctx directly",
        "to": "test: [refactor] Use g_rng/m_rng directly"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13798235280,
      "node_id": "HRFPE_lADOABII586RtY1-zwAAAAM2cFyQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13798235280",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-07T21:49:20Z"
    },
    {
      "event": "commented",
      "id": 2274410714,
      "node_id": "IC_kwDOABII586HkMDa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2274410714",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-07T21:50:46Z",
      "updated_at": "2024-08-07T21:50:46Z",
      "author_association": "MEMBER",
      "body": "Dropped one commit, because a conflicting pull has already picked it up.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#issuecomment-2274410714",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30571"
    },
    {
      "event": "unlabeled",
      "id": 13798709051,
      "node_id": "UNLE_lADOABII586RtY1-zwAAAAM2d5c7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13798709051",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-07T23:11:49Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2289335140,
      "node_id": "IC_kwDOABII586IdHtk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2289335140",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-14T17:06:03Z",
      "updated_at": "2024-08-14T17:06:24Z",
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK facc85b766dec2481384c878ccbf1696a8386e10. But I think we can eliminate the global now, and I think would be good to do it in this PR to avoid changing affected tests more than once. I posted a branch https://github.com/ryanofsky/bitcoin/commits/pr/rng which I hope you can steal. It has the following commits:\r\n\r\n- a334a9b9bd0d8ee520f9e2769534625a5d147705 test: Add m_rng alias for the global random context\r\n- c38390fb43e40913afa2072c7986ea80da1d4d38 test: refactor: Make unsigned promotion explicit\r\n- 51712d8ee0cc8b03a692f08d8a39b0e7a7fe8609 test: refactor: Give unit test functions access to test state\r\n- ce7ef02cee703e985554c7ced196684f33f96fb9 test: refactor: Pass rng parameters to test functions\r\n- 678c3df2e3a2c7366646db3ec0deb7cad0ede107 test: refactor: Accept any RandomNumberGenerator in RandMoney\r\n- c1c384e57619d9e78c7af9e3ee098f3f25fd5479 scripted-diff: [test] Use g_rng/m_rng directly\r\n- 8468112a8262054d71caaa90764bfa88548a82b8 test: Remove FastRandomContext global",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#issuecomment-2289335140",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30571"
    },
    {
      "event": "review_requested",
      "id": 13883899951,
      "node_id": "RRE_lADOABII586RtY1-zwAAAAM7i4Av",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13883899951",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-14T17:06:08Z",
      "requested_reviewer": {
        "login": "marcofleon",
        "id": 95179662,
        "node_id": "U_kgDOBaxTjg",
        "avatar_url": "https://avatars.githubusercontent.com/u/95179662?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/marcofleon",
        "html_url": "https://github.com/marcofleon",
        "followers_url": "https://api.github.com/users/marcofleon/followers",
        "following_url": "https://api.github.com/users/marcofleon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/marcofleon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/marcofleon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/marcofleon/subscriptions",
        "organizations_url": "https://api.github.com/users/marcofleon/orgs",
        "repos_url": "https://api.github.com/users/marcofleon/repos",
        "events_url": "https://api.github.com/users/marcofleon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/marcofleon/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13901092939,
      "node_id": "HRFPE_lADOABII586RtY1-zwAAAAM8kdhL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13901092939",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-15T19:12:44Z"
    },
    {
      "event": "reviewed",
      "id": 2241150302,
      "node_id": "PRR_kwDOABII586FlT1e",
      "url": null,
      "actor": null,
      "commit_id": "848a619e6bddd59e5c317109fbad72d666e20c8e",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Sure, pushed your branch. A skim looks good. I left a nit and will do a real review later.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#pullrequestreview-2241150302",
      "submitted_at": "2024-08-15T19:16:02Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13901224205,
      "node_id": "HRFPE_lADOABII586RtY1-zwAAAAM8k9kN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13901224205",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-15T19:26:10Z"
    },
    {
      "event": "reviewed",
      "id": 2241332588,
      "node_id": "PRR_kwDOABII586FmAVs",
      "url": null,
      "actor": null,
      "commit_id": "f1c1b37d2247eed49156c0467daa68aa38497bb8",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK f1c1b37d2247eed49156c0467daa68aa38497bb8. Current version of this looks identical to the branch I pushed, except it is rebased and whitespace in the scripted diff was adjusted.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#pullrequestreview-2241332588",
      "submitted_at": "2024-08-15T21:07:42Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
    },
    {
      "event": "reviewed",
      "id": 2242262980,
      "node_id": "PRR_kwDOABII586FpjfE",
      "url": null,
      "actor": null,
      "commit_id": "f1c1b37d2247eed49156c0467daa68aa38497bb8",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#pullrequestreview-2242262980",
      "submitted_at": "2024-08-16T08:56:55Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13908576688,
      "node_id": "HRFPE_lADOABII586RtY1-zwAAAAM9BAmw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13908576688",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-16T09:30:33Z"
    },
    {
      "event": "reviewed",
      "id": 2243660929,
      "node_id": "PRR_kwDOABII586Fu4yB",
      "url": null,
      "actor": null,
      "commit_id": "164732369fc5ecf4c7705136a2de884419023b5a",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK 164732369fc5ecf4c7705136a2de884419023b5a. New commit replacing SeedRandomForTest is very nice and clarifies the code.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#pullrequestreview-2243660929",
      "submitted_at": "2024-08-16T22:55:59Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
    },
    {
      "event": "renamed",
      "id": 13919722471,
      "node_id": "RTE_lADOABII586RtY1-zwAAAAM9rhvn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13919722471",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-17T12:11:39Z",
      "rename": {
        "from": "test: [refactor] Use g_rng/m_rng directly",
        "to": "test: [refactor] Use m_rng directly"
      }
    },
    {
      "event": "commented",
      "id": 2298084825,
      "node_id": "IC_kwDOABII586I-f3Z",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2298084825",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-20T06:42:24Z",
      "updated_at": "2024-08-20T06:42:24Z",
      "author_association": "MEMBER",
      "body": "Edited pull description and title to remove the mention of the global, now that it is removed in the last commit",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#issuecomment-2298084825",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30571"
    },
    {
      "event": "reviewed",
      "id": 2243672559,
      "node_id": "PRR_kwDOABII586Fu7nv",
      "url": null,
      "actor": null,
      "commit_id": "164732369fc5ecf4c7705136a2de884419023b5a",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK 164732369fc5ecf4c7705136a2de884419023b5a",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#pullrequestreview-2243672559",
      "submitted_at": "2024-08-20T13:13:30Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13945875022,
      "node_id": "HRFPE_lADOABII586RtY1-zwAAAAM_PSpO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13945875022",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-20T14:11:24Z"
    },
    {
      "event": "commented",
      "id": 2299012568,
      "node_id": "IC_kwDOABII586JCCXY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2299012568",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-20T14:32:33Z",
      "updated_at": "2024-08-20T14:32:33Z",
      "author_association": "MEMBER",
      "body": "Force pushed to make the diff (minimally) smaller and easier to review. Should be trivial to re-review.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#issuecomment-2299012568",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30571"
    },
    {
      "event": "reviewed",
      "id": 2248303256,
      "node_id": "PRR_kwDOABII586GAmKY",
      "url": null,
      "actor": null,
      "commit_id": "3836bf1e0a207a6cb659053404bcba3a44cf7bb2",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK 3836bf1e0a207a6cb659053404bcba3a44cf7bb2\r\n\r\nJust tweaked cuckoocache_tests since last review",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#pullrequestreview-2248303256",
      "submitted_at": "2024-08-20T15:12:26Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
    },
    {
      "event": "review_requested",
      "id": 13946808572,
      "node_id": "RRE_lADOABII586RtY1-zwAAAAM_S2j8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13946808572",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-20T15:13:00Z",
      "requested_reviewer": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "reviewed",
      "id": 2248388003,
      "node_id": "PRR_kwDOABII586GA62j",
      "url": null,
      "actor": null,
      "commit_id": "3836bf1e0a207a6cb659053404bcba3a44cf7bb2",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK 3836bf1e0a207a6cb659053404bcba3a44cf7bb2",
      "user": {
        "login": "marcofleon",
        "id": 95179662,
        "node_id": "U_kgDOBaxTjg",
        "avatar_url": "https://avatars.githubusercontent.com/u/95179662?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/marcofleon",
        "html_url": "https://github.com/marcofleon",
        "followers_url": "https://api.github.com/users/marcofleon/followers",
        "following_url": "https://api.github.com/users/marcofleon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/marcofleon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/marcofleon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/marcofleon/subscriptions",
        "organizations_url": "https://api.github.com/users/marcofleon/orgs",
        "repos_url": "https://api.github.com/users/marcofleon/repos",
        "events_url": "https://api.github.com/users/marcofleon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/marcofleon/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#pullrequestreview-2248388003",
      "submitted_at": "2024-08-20T15:45:08Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
    },
    {
      "event": "reviewed",
      "id": 2250158253,
      "node_id": "PRR_kwDOABII586GHrCt",
      "url": null,
      "actor": null,
      "commit_id": "3836bf1e0a207a6cb659053404bcba3a44cf7bb2",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#pullrequestreview-2250158253",
      "submitted_at": "2024-08-21T09:57:32Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
    },
    {
      "event": "review_requested",
      "id": 13957810584,
      "node_id": "RRE_lADOABII586RtY1-zwAAAAM_80mY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13957810584",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-21T09:57:36Z",
      "requested_reviewer": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "commented",
      "id": 2301683678,
      "node_id": "IC_kwDOABII586JMOfe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2301683678",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-21T10:15:22Z",
      "updated_at": "2024-08-21T10:15:22Z",
      "author_association": "MEMBER",
      "body": "Thanks for checking the includes in the tests @hodlinator! I think I'll leave this as-is for now, because having leftover unused includes in tests should be harmless, apart from possibly being confusing, or needing more compile time. I have a follow-up to use `iwyu` (and enforce it), so that reviewers can use the re-review cycles to clean up includes for reviewing the code itself. However, this will be a follow-up, so I'll leave this pull request as-is for now.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#issuecomment-2301683678",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30571"
    },
    {
      "event": "mentioned",
      "id": 13958045927,
      "node_id": "MEE_lADOABII586RtY1-zwAAAAM_9uDn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13958045927",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-21T10:15:23Z"
    },
    {
      "event": "subscribed",
      "id": 13958045961,
      "node_id": "SE_lADOABII586RtY1-zwAAAAM_9uEJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13958045961",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-21T10:15:24Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhYTI2MDhlNmMzZTE3NjNkMDk5MTQ0M2MzY2U2ZDliYjE0NjZkYTg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/faa2608e6c3e1763d0991443c3ce6d9bb1466da8",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/faa2608e6c3e1763d0991443c3ce6d9bb1466da8",
      "tree": {
        "sha": "72b822001eb1d2fe8e72d33f99bf6ac22f1f1c0d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/72b822001eb1d2fe8e72d33f99bf6ac22f1f1c0d"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree 72b822001eb1d2fe8e72d33f99bf6ac22f1f1c0d\nparent 60b816439eb4bd837778d424628cd3978e0856d9\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1724253713 +0200\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1724253878 +0200\n\ntest: Correct the random seed log on a prevector test failure\n\nrand_cache is unused since commit\n16329224e70d0525208f6b0ba00c5e1531a4f5ea, so it can be removed\n\nrand_seed is wrong since commit\n022cf47dd7ef8f46e32a184e84f94d1e9f3a495c, because it is no longer\nprinting the seed that was used to seed the global random context in\ntests. Instead, it prints a value derived from the global random context\nvia InsecureRand256().\n\nNow that SeedRandomForTest logs the seed, fix the boost log message\nprinted on failure to correctly mention this.\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQKRAZSbl7GBVDl0okKIDcoBDkDTDjAncL7a8tm/gpJk1lGyvVy8ZwWXMwg1E+CCK8a\norCBT9844+30kJtJOyIQw=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/60b816439eb4bd837778d424628cd3978e0856d9",
          "sha": "60b816439eb4bd837778d424628cd3978e0856d9",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/60b816439eb4bd837778d424628cd3978e0856d9"
        }
      ],
      "message": "test: Correct the random seed log on a prevector test failure\n\nrand_cache is unused since commit\n16329224e70d0525208f6b0ba00c5e1531a4f5ea, so it can be removed\n\nrand_seed is wrong since commit\n022cf47dd7ef8f46e32a184e84f94d1e9f3a495c, because it is no longer\nprinting the seed that was used to seed the global random context in\ntests. Instead, it prints a value derived from the global random context\nvia InsecureRand256().\n\nNow that SeedRandomForTest logs the seed, fix the boost log message\nprinted on failure to correctly mention this.",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2024-08-21T15:24:38Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2024-08-21T15:21:53Z"
      },
      "sha": "faa2608e6c3e1763d0991443c3ce6d9bb1466da8"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhZjQ2NTZlMjIyYTQyOTRiY2MyODQ1YmI4NGM4MTFlZTNhOWM1Yjc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/faf4656e222a4294bcc2845bb84c811ee3a9c5b7",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/faf4656e222a4294bcc2845bb84c811ee3a9c5b7",
      "tree": {
        "sha": "08c3531f0126804ba40c61b29a460a1256d851f4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/08c3531f0126804ba40c61b29a460a1256d851f4"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree 08c3531f0126804ba40c61b29a460a1256d851f4\nparent faa2608e6c3e1763d0991443c3ce6d9bb1466da8\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1723055776 +0200\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1724253881 +0200\n\ntest: Add m_rng alias for the global random context\n\nThe two names point to the same object, but having the reference now\nallows easier removal of the global in the future.\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQJQNTpeLIkOzIjRoiqRjxmpdQ2oLEUPhI1tP7mrgvsNKUA6lh1w4hRoHrvxPKX2ULM\nalc890bnFyTNMfo1ncDAI=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/faa2608e6c3e1763d0991443c3ce6d9bb1466da8",
          "sha": "faa2608e6c3e1763d0991443c3ce6d9bb1466da8",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/faa2608e6c3e1763d0991443c3ce6d9bb1466da8"
        }
      ],
      "message": "test: Add m_rng alias for the global random context\n\nThe two names point to the same object, but having the reference now\nallows easier removal of the global in the future.",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2024-08-21T15:24:41Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2024-08-07T18:36:16Z"
      },
      "sha": "faf4656e222a4294bcc2845bb84c811ee3a9c5b7"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhN2QyNGMyMDUzYzBmNjAxMTIzMTE3YWNlZDg1NWE2Y2ViMGFhNzY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa7d24c2053c0f601123117aced855a6ceb0aa76",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fa7d24c2053c0f601123117aced855a6ceb0aa76",
      "tree": {
        "sha": "fdfd94e901ef064e04ffc2972f22638c9fc22185",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fdfd94e901ef064e04ffc2972f22638c9fc22185"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree fdfd94e901ef064e04ffc2972f22638c9fc22185\nparent faf4656e222a4294bcc2845bb84c811ee3a9c5b7\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1722590894 +0200\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1724253884 +0200\n\ntest: refactor: Make unsigned promotion explicit\n\nInteger promotion will already turn the `signed` into `unsigned` in\nthose lines. However, make the `unsigned` explicit so that the code is\nclearer and a compiler warning is avoided when switching to m_rng:\n\n| test/validation_block_tests.cpp: warning: comparison of integers of different signs: 'int' and 'const unsigned int' [-Wsign-compare]\n|   136 |     bool gen_invalid = m_rng.randrange(100) < invalid_rate;\n|       |                        ~~~~~~~~~~~~~~~~~~~~~~~~~ ^ ~~~~~~~~~~~~\n|   137 |     bool gen_fork = m_rng.randrange(100) < branch_rate;\n|       |                     ~~~~~~~~~~~~~~~~~~~~~~~~~ ^ ~~~~~~~~~~~\n| 2 warnings generated.\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQNBccyQbZx9QqrdZnXIlOkH6EJ1NGmbDWNf5JHY1u86iLQ6yvOHksoCNgfgLq6CEuE\nlltzPtaw4pXQvoh1sglwI=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/faf4656e222a4294bcc2845bb84c811ee3a9c5b7",
          "sha": "faf4656e222a4294bcc2845bb84c811ee3a9c5b7",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/faf4656e222a4294bcc2845bb84c811ee3a9c5b7"
        }
      ],
      "message": "test: refactor: Make unsigned promotion explicit\n\nInteger promotion will already turn the `signed` into `unsigned` in\nthose lines. However, make the `unsigned` explicit so that the code is\nclearer and a compiler warning is avoided when switching to m_rng:\n\n| test/validation_block_tests.cpp: warning: comparison of integers of different signs: 'int' and 'const unsigned int' [-Wsign-compare]\n|   136 |     bool gen_invalid = m_rng.randrange(100) < invalid_rate;\n|       |                        ~~~~~~~~~~~~~~~~~~~~~~~~~ ^ ~~~~~~~~~~~~\n|   137 |     bool gen_fork = m_rng.randrange(100) < branch_rate;\n|       |                     ~~~~~~~~~~~~~~~~~~~~~~~~~ ^ ~~~~~~~~~~~\n| 2 warnings generated.",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2024-08-21T15:24:44Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2024-08-02T09:28:14Z"
      },
      "sha": "fa7d24c2053c0f601123117aced855a6ceb0aa76"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQ0ZWY3YjJkMDQyM2ExNzY1YjdmYjVjNjRjZDg4M2Q0NDBkNTgzZDg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/44ef7b2d0423a1765b7fb5c64cd883d440d583d8",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/44ef7b2d0423a1765b7fb5c64cd883d440d583d8",
      "tree": {
        "sha": "f838677ac409bcbfa4a3a988d8533e99498b9848",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f838677ac409bcbfa4a3a988d8533e99498b9848"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa7d24c2053c0f601123117aced855a6ceb0aa76",
          "sha": "fa7d24c2053c0f601123117aced855a6ceb0aa76",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fa7d24c2053c0f601123117aced855a6ceb0aa76"
        }
      ],
      "message": "test: refactor: Give unit test functions access to test state\n\nAdd unit test subclasses as needed so unit test functions that need to access\nmembers like m_rng can reference it directly.",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2024-08-21T15:24:44Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-08-14T11:58:26Z"
      },
      "sha": "44ef7b2d0423a1765b7fb5c64cd883d440d583d8"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhOTM5ODY2YTZmZGU2ZTViODM1M2NmM2M2N2NmY2JjMTg3N2M5ZGY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa939866a6fde6e5b8353cf3c67cfcbc1877c9df",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fa939866a6fde6e5b8353cf3c67cfcbc1877c9df",
      "tree": {
        "sha": "d9fd1e4766039b74ef2c9391051ccb99f96fdf51",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d9fd1e4766039b74ef2c9391051ccb99f96fdf51"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree d9fd1e4766039b74ef2c9391051ccb99f96fdf51\nparent 44ef7b2d0423a1765b7fb5c64cd883d440d583d8\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1723798380 +0200\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1724253923 +0200\n\ntest: refactor: Move g_insecure_rand_ctx.Reseed out of the helper that calls MakeRandDeterministicDANGEROUS\n\nThe global g_insecure_rand_ctx will be removed in the future, so\nremoving it from this helper is useful.\n\nAlso, tying the two concepts of the global internal RNGState and the\nglobal test-only rng context is a bit confusing, because tests can\nsimply use the m_rng, if it exists. Also, tests may seed more than one\nrandom context, or none at all, or a random context of a different type.\n\nFix all issues by moving the Reseed call to the three places where it is\nused.\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQD8ZBmzlqlgVagQN1NsbvEy56ETg6wqx6QSBlexcHG2qaLsAnhflNolpWRqyDUWao9\nr+BI137RjLhJ2hPLlYPAc=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/44ef7b2d0423a1765b7fb5c64cd883d440d583d8",
          "sha": "44ef7b2d0423a1765b7fb5c64cd883d440d583d8",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/44ef7b2d0423a1765b7fb5c64cd883d440d583d8"
        }
      ],
      "message": "test: refactor: Move g_insecure_rand_ctx.Reseed out of the helper that calls MakeRandDeterministicDANGEROUS\n\nThe global g_insecure_rand_ctx will be removed in the future, so\nremoving it from this helper is useful.\n\nAlso, tying the two concepts of the global internal RNGState and the\nglobal test-only rng context is a bit confusing, because tests can\nsimply use the m_rng, if it exists. Also, tests may seed more than one\nrandom context, or none at all, or a random context of a different type.\n\nFix all issues by moving the Reseed call to the three places where it is\nused.",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2024-08-21T15:25:23Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2024-08-16T08:53:00Z"
      },
      "sha": "fa939866a6fde6e5b8353cf3c67cfcbc1877c9df"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDdiMmY3MDYyNTQ3MWNmN2U2MTkxYTYyNDVjOWVjNDViYjY0MmQ0NTk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7b2f70625471cf7e6191a6245c9ec45bb642d459",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/7b2f70625471cf7e6191a6245c9ec45bb642d459",
      "tree": {
        "sha": "6f3f19ace9090bcf4bbcdcaef21cefd6c4b62347",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6f3f19ace9090bcf4bbcdcaef21cefd6c4b62347"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa939866a6fde6e5b8353cf3c67cfcbc1877c9df",
          "sha": "fa939866a6fde6e5b8353cf3c67cfcbc1877c9df",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fa939866a6fde6e5b8353cf3c67cfcbc1877c9df"
        }
      ],
      "message": "test: refactor: Pass rng parameters to test functions\n\nAdd FastRandomContext parameter to the utility function\nAddTestCoin(), and a few local test functions and classes.",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2024-08-21T15:25:23Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-08-14T12:46:20Z"
      },
      "sha": "7b2f70625471cf7e6191a6245c9ec45bb642d459"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhYjExZDM0Y2I5MjU2ODYwOTMwMzliMGFkYzY3MzI4YjQ2Yzg4YWQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fab11d34cb925686093039b0adc67328b46c88ad",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fab11d34cb925686093039b0adc67328b46c88ad",
      "tree": {
        "sha": "8f8f960bc4ff3956514b56c0cb2b6601db1a2a60",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8f8f960bc4ff3956514b56c0cb2b6601db1a2a60"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree 8f8f960bc4ff3956514b56c0cb2b6601db1a2a60\nparent 7b2f70625471cf7e6191a6245c9ec45bb642d459\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1722593090 +0200\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1724253970 +0200\n\ntest: refactor: Accept any RandomNumberGenerator in RandMoney\n\nAccepting any Rng in RandMoney makes tests more flexible to use a\ndifferent Rng. Also, passing in the Rng clarifies the call sites, so\nthat they all use g_rand_ctx explicitly and consistently.\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQFoOZVjPX45ZEOdsQf7+D3iHNlQe0HZm+jTaK7BF2PjvPTYhfmM0lTrTZGvC9dTOtT\nkMrM9Apc0UwAivjax/5Q4=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7b2f70625471cf7e6191a6245c9ec45bb642d459",
          "sha": "7b2f70625471cf7e6191a6245c9ec45bb642d459",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/7b2f70625471cf7e6191a6245c9ec45bb642d459"
        }
      ],
      "message": "test: refactor: Accept any RandomNumberGenerator in RandMoney\n\nAccepting any Rng in RandMoney makes tests more flexible to use a\ndifferent Rng. Also, passing in the Rng clarifies the call sites, so\nthat they all use g_rand_ctx explicitly and consistently.",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2024-08-21T15:26:10Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2024-08-02T10:04:50Z"
      },
      "sha": "fab11d34cb925686093039b0adc67328b46c88ad"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhNzhjNmE3ZTM0MTY1MDU0NTE3ZTYwNDUwNzY0YTBiNDQyYWQ1ODI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa78c6a7e34165054517e60450764a0b442ad582",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fa78c6a7e34165054517e60450764a0b442ad582",
      "tree": {
        "sha": "ef14d617a4c0a83f9ed3638d6a62ab6ca0a5ed08",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ef14d617a4c0a83f9ed3638d6a62ab6ca0a5ed08"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree ef14d617a4c0a83f9ed3638d6a62ab6ca0a5ed08\nparent fab11d34cb925686093039b0adc67328b46c88ad\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1722590753 +0200\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1724254013 +0200\n\nscripted-diff: [test] Use g_rng/m_rng directly\n\n-BEGIN VERIFY SCRIPT-\n\n # Use m_rng in unit test files\n ren() { sed -i \"s:\\<$1\\>:$2:g\" $( git grep -l \"$1\" src/test/*.cpp src/wallet/test/*.cpp src/test/util/setup_common.cpp ) ; }\n ren InsecureRand32                m_rng.rand32\n ren InsecureRand256               m_rng.rand256\n ren InsecureRandBits              m_rng.randbits\n ren InsecureRandRange             m_rng.randrange\n ren InsecureRandBool              m_rng.randbool\n ren g_insecure_rand_ctx           m_rng\n ren g_insecure_rand_ctx_temp_path g_rng_temp_path\n\n-END VERIFY SCRIPT-\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQKDWI+htyKrS12w3kxzgyypwp4cGDr7SS6MjaPcVw2eQ+P5ufMO5rBZdiQiMOrnsLd\nwKe4ar3d14ifWdkxh36AU=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fab11d34cb925686093039b0adc67328b46c88ad",
          "sha": "fab11d34cb925686093039b0adc67328b46c88ad",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fab11d34cb925686093039b0adc67328b46c88ad"
        }
      ],
      "message": "scripted-diff: [test] Use g_rng/m_rng directly\n\n-BEGIN VERIFY SCRIPT-\n\n # Use m_rng in unit test files\n ren() { sed -i \"s:\\<$1\\>:$2:g\" $( git grep -l \"$1\" src/test/*.cpp src/wallet/test/*.cpp src/test/util/setup_common.cpp ) ; }\n ren InsecureRand32                m_rng.rand32\n ren InsecureRand256               m_rng.rand256\n ren InsecureRandBits              m_rng.randbits\n ren InsecureRandRange             m_rng.randrange\n ren InsecureRandBool              m_rng.randbool\n ren g_insecure_rand_ctx           m_rng\n ren g_insecure_rand_ctx_temp_path g_rng_temp_path\n\n-END VERIFY SCRIPT-",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2024-08-21T15:26:53Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2024-08-02T09:25:53Z"
      },
      "sha": "fa78c6a7e34165054517e60450764a0b442ad582"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGI2YjJiMzhhYTc3MTYyNDIwYmFiYjM0ZTAxZGQ1MTA1MTI0MTFhYmY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b6b2b38aa77162420babb34e01dd510512411abf",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b6b2b38aa77162420babb34e01dd510512411abf",
      "tree": {
        "sha": "1aca79aa17ebdcb34b87385fcfc641498220e52e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1aca79aa17ebdcb34b87385fcfc641498220e52e"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa78c6a7e34165054517e60450764a0b442ad582",
          "sha": "fa78c6a7e34165054517e60450764a0b442ad582",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fa78c6a7e34165054517e60450764a0b442ad582"
        }
      ],
      "message": "test: Remove FastRandomContext global\n\nDrop g_insecure_rand_ctx",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2024-08-21T15:26:53Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-08-14T13:39:31Z"
      },
      "sha": "b6b2b38aa77162420babb34e01dd510512411abf"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13962518017,
      "node_id": "HRFPE_lADOABII586RtY1-zwAAAANAOx4B",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13962518017",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-21T15:27:29Z"
    },
    {
      "event": "commented",
      "id": 2302386080,
      "node_id": "IC_kwDOABII586JO5-g",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2302386080",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-21T15:32:47Z",
      "updated_at": "2024-08-21T15:34:27Z",
      "author_association": "MEMBER",
      "body": "Force pushed to add a bugfix commit to fix an incorrect test log message (bug was introduced years ago), and to remove unused symbols after a finding by @hodlinator in https://github.com/bitcoin/bitcoin/pull/30571#discussion_r1724749568 (Thanks!).\r\n\r\nShould be easy to re-review by looking at the new commit and then checking the other commits via:\r\n\r\n```\r\ngit range-diff bitcoin-core/master 3836bf1e0a b6b2b38aa7 --word-diff-regex=.\r\n```\r\n\r\n(or similar)",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#issuecomment-2302386080",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30571"
    },
    {
      "event": "mentioned",
      "id": 13962599575,
      "node_id": "MEE_lADOABII586RtY1-zwAAAANAPFyX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13962599575",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-21T15:32:49Z"
    },
    {
      "event": "subscribed",
      "id": 13962599600,
      "node_id": "SE_lADOABII586RtY1-zwAAAANAPFyw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13962599600",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-21T15:32:49Z"
    },
    {
      "event": "reviewed",
      "id": 2251432210,
      "node_id": "PRR_kwDOABII586GMiES",
      "url": null,
      "actor": null,
      "commit_id": "b6b2b38aa77162420babb34e01dd510512411abf",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK b6b2b38aa77162420babb34e01dd510512411abf. Just simplified prevector_tests and removed misleading BOOST_CHECK_MESSAGE print since last review.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#pullrequestreview-2251432210",
      "submitted_at": "2024-08-21T17:06:26Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
    },
    {
      "event": "review_requested",
      "id": 13963891674,
      "node_id": "RRE_lADOABII586RtY1-zwAAAANAUBPa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13963891674",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-21T17:06:31Z",
      "requested_reviewer": {
        "login": "marcofleon",
        "id": 95179662,
        "node_id": "U_kgDOBaxTjg",
        "avatar_url": "https://avatars.githubusercontent.com/u/95179662?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/marcofleon",
        "html_url": "https://github.com/marcofleon",
        "followers_url": "https://api.github.com/users/marcofleon/followers",
        "following_url": "https://api.github.com/users/marcofleon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/marcofleon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/marcofleon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/marcofleon/subscriptions",
        "organizations_url": "https://api.github.com/users/marcofleon/orgs",
        "repos_url": "https://api.github.com/users/marcofleon/repos",
        "events_url": "https://api.github.com/users/marcofleon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/marcofleon/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1704079113",
      "pull_request_review_id": 2218933222,
      "id": 1704079113,
      "node_id": "PRRC_kwDOABII585lki8J",
      "diff_hunk": "@@ -27,34 +27,10 @@ enum class SeedRand {\n /** Seed the RNG for testing. This affects all randomness, except GetStrongRandBytes(). */\n void SeedRandomForTest(SeedRand seed = SeedRand::SEED);\n \n-static inline uint32_t InsecureRand32()\n+template <RandomNumberGenerator Rng>\n+inline CAmount RandMoney(Rng&& rng)\n {\n-    return g_insecure_rand_ctx.rand32();\n-}\n-\n-static inline uint256 InsecureRand256()\n-{\n-    return g_insecure_rand_ctx.rand256();\n-}\n-\n-static inline uint64_t InsecureRandBits(int bits)\n-{\n-    return g_insecure_rand_ctx.randbits(bits);\n-}\n-\n-static inline uint64_t InsecureRandRange(uint64_t range)\n-{\n-    return g_insecure_rand_ctx.randrange(range);\n-}\n-\n-static inline bool InsecureRandBool()\n-{\n-    return g_insecure_rand_ctx.randbool();\n-}\n-\n-static inline CAmount InsecureRandMoneyAmount()\n-{\n-    return static_cast<CAmount>(InsecureRandRange(MAX_MONEY + 1));\n+    return CAmount{rng.randrange(MAX_MONEY + 1)};",
      "path": "src/test/util/random.h",
      "position": 58,
      "original_position": 49,
      "commit_id": "b6b2b38aa77162420babb34e01dd510512411abf",
      "original_commit_id": "fa295215f6fa3b85b0387511920f75eeb3e12b58",
      "in_reply_to_id": null,
      "user": {
        "login": "marcofleon",
        "id": 95179662,
        "node_id": "U_kgDOBaxTjg",
        "avatar_url": "https://avatars.githubusercontent.com/u/95179662?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/marcofleon",
        "html_url": "https://github.com/marcofleon",
        "followers_url": "https://api.github.com/users/marcofleon/followers",
        "following_url": "https://api.github.com/users/marcofleon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/marcofleon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/marcofleon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/marcofleon/subscriptions",
        "organizations_url": "https://api.github.com/users/marcofleon/orgs",
        "repos_url": "https://api.github.com/users/marcofleon/repos",
        "events_url": "https://api.github.com/users/marcofleon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/marcofleon/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Just for my own understanding, the advantage here is now that any rng in a test can be used when calling RandMoney? Before it was limited in some way?",
      "created_at": "2024-08-05T12:57:58Z",
      "updated_at": "2024-08-05T13:00:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#discussion_r1704079113",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1704079113"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 25,
      "original_line": 25,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1704119902",
      "pull_request_review_id": 2219003288,
      "id": 1704119902,
      "node_id": "PRRC_kwDOABII585lks5e",
      "diff_hunk": "@@ -27,34 +27,10 @@ enum class SeedRand {\n /** Seed the RNG for testing. This affects all randomness, except GetStrongRandBytes(). */\n void SeedRandomForTest(SeedRand seed = SeedRand::SEED);\n \n-static inline uint32_t InsecureRand32()\n+template <RandomNumberGenerator Rng>\n+inline CAmount RandMoney(Rng&& rng)\n {\n-    return g_insecure_rand_ctx.rand32();\n-}\n-\n-static inline uint256 InsecureRand256()\n-{\n-    return g_insecure_rand_ctx.rand256();\n-}\n-\n-static inline uint64_t InsecureRandBits(int bits)\n-{\n-    return g_insecure_rand_ctx.randbits(bits);\n-}\n-\n-static inline uint64_t InsecureRandRange(uint64_t range)\n-{\n-    return g_insecure_rand_ctx.randrange(range);\n-}\n-\n-static inline bool InsecureRandBool()\n-{\n-    return g_insecure_rand_ctx.randbool();\n-}\n-\n-static inline CAmount InsecureRandMoneyAmount()\n-{\n-    return static_cast<CAmount>(InsecureRandRange(MAX_MONEY + 1));\n+    return CAmount{rng.randrange(MAX_MONEY + 1)};",
      "path": "src/test/util/random.h",
      "position": 58,
      "original_position": 49,
      "commit_id": "b6b2b38aa77162420babb34e01dd510512411abf",
      "original_commit_id": "fa295215f6fa3b85b0387511920f75eeb3e12b58",
      "in_reply_to_id": 1704079113,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Correct, this is one of two reasons. Generally, I try to put the motivation and explanation of the changes in the commit body. I presume you are referring to fa6685e7348903c5bcd318c8acbf85ddf7ab07c5, which lists both reasons for the change? ",
      "created_at": "2024-08-05T13:25:35Z",
      "updated_at": "2024-08-05T13:25:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#discussion_r1704119902",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1704119902"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 25,
      "original_line": 25,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1704147411",
      "pull_request_review_id": 2219051614,
      "id": 1704147411,
      "node_id": "PRRC_kwDOABII585lkznT",
      "diff_hunk": "@@ -27,34 +27,10 @@ enum class SeedRand {\n /** Seed the RNG for testing. This affects all randomness, except GetStrongRandBytes(). */\n void SeedRandomForTest(SeedRand seed = SeedRand::SEED);\n \n-static inline uint32_t InsecureRand32()\n+template <RandomNumberGenerator Rng>\n+inline CAmount RandMoney(Rng&& rng)\n {\n-    return g_insecure_rand_ctx.rand32();\n-}\n-\n-static inline uint256 InsecureRand256()\n-{\n-    return g_insecure_rand_ctx.rand256();\n-}\n-\n-static inline uint64_t InsecureRandBits(int bits)\n-{\n-    return g_insecure_rand_ctx.randbits(bits);\n-}\n-\n-static inline uint64_t InsecureRandRange(uint64_t range)\n-{\n-    return g_insecure_rand_ctx.randrange(range);\n-}\n-\n-static inline bool InsecureRandBool()\n-{\n-    return g_insecure_rand_ctx.randbool();\n-}\n-\n-static inline CAmount InsecureRandMoneyAmount()\n-{\n-    return static_cast<CAmount>(InsecureRandRange(MAX_MONEY + 1));\n+    return CAmount{rng.randrange(MAX_MONEY + 1)};",
      "path": "src/test/util/random.h",
      "position": 58,
      "original_position": 49,
      "commit_id": "b6b2b38aa77162420babb34e01dd510512411abf",
      "original_commit_id": "fa295215f6fa3b85b0387511920f75eeb3e12b58",
      "in_reply_to_id": 1704079113,
      "user": {
        "login": "marcofleon",
        "id": 95179662,
        "node_id": "U_kgDOBaxTjg",
        "avatar_url": "https://avatars.githubusercontent.com/u/95179662?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/marcofleon",
        "html_url": "https://github.com/marcofleon",
        "followers_url": "https://api.github.com/users/marcofleon/followers",
        "following_url": "https://api.github.com/users/marcofleon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/marcofleon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/marcofleon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/marcofleon/subscriptions",
        "organizations_url": "https://api.github.com/users/marcofleon/orgs",
        "repos_url": "https://api.github.com/users/marcofleon/repos",
        "events_url": "https://api.github.com/users/marcofleon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/marcofleon/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ah got it, makes sense. I need to check the individual commits. Thanks.",
      "created_at": "2024-08-05T13:45:34Z",
      "updated_at": "2024-08-05T13:45:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#discussion_r1704147411",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1704147411"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 25,
      "original_line": 25,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1718879706",
      "pull_request_review_id": 2241150302,
      "id": 1718879706,
      "node_id": "PRRC_kwDOABII585mdAXa",
      "diff_hunk": "@@ -25,7 +25,7 @@ enum class SeedRand {\n };\n \n /** Seed the RNG for testing. This affects all randomness, except GetStrongRandBytes(). */\n-void SeedRandomForTest(SeedRand seed = SeedRand::SEED);\n+void SeedRandomForTest(FastRandomContext& rng, SeedRand seed = SeedRand::SEED);",
      "path": "src/test/util/random.h",
      "position": null,
      "original_position": 5,
      "commit_id": "b6b2b38aa77162420babb34e01dd510512411abf",
      "original_commit_id": "bb67ca09c88a46b99bf83e937fa761f0e25cba37",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit in bb67ca09c88a46b99bf83e937fa761f0e25cba37: Not sure about this change. It seems overly restrictive to require a `FastRandomContext&` here, when a caller may not want to pass anything at all, or a different rng.\r\n\r\nI think it would be better to drop this change.",
      "created_at": "2024-08-15T19:15:25Z",
      "updated_at": "2024-08-15T19:16:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#discussion_r1718879706",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1718879706"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 28,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1718994222",
      "pull_request_review_id": 2241332588,
      "id": 1718994222,
      "node_id": "PRRC_kwDOABII585mdcUu",
      "diff_hunk": "@@ -25,7 +25,7 @@ enum class SeedRand {\n };\n \n /** Seed the RNG for testing. This affects all randomness, except GetStrongRandBytes(). */\n-void SeedRandomForTest(SeedRand seed = SeedRand::SEED);\n+void SeedRandomForTest(FastRandomContext& rng, SeedRand seed = SeedRand::SEED);",
      "path": "src/test/util/random.h",
      "position": null,
      "original_position": 5,
      "commit_id": "b6b2b38aa77162420babb34e01dd510512411abf",
      "original_commit_id": "bb67ca09c88a46b99bf83e937fa761f0e25cba37",
      "in_reply_to_id": 1718879706,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "re: https://github.com/bitcoin/bitcoin/pull/30571#discussion_r1718879706\r\n\r\n> nit in [bb67ca0](https://github.com/bitcoin/bitcoin/commit/bb67ca09c88a46b99bf83e937fa761f0e25cba37): Not sure about this change. It seems overly restrictive to require a `FastRandomContext&` here, when a caller may not want to pass anything at all, or a different rng.\r\n\r\nMakes sense. I hadn't really looked at this function closely and was just trying to keep behavior unchanged. Maybe it would be good to change signature to something like:\r\n\r\n```c++\r\nSeedRandomForTest(SeedRand seed = SeedRand::SEED, FastRandomContext* rng = nullptr)\r\n```\r\n\r\nand change the last line of the function to\r\n\r\n```c++\r\nif (rng) rng->Reseed(GetRandHash());\r\n```\r\n\r\nso it could still be used conveniently to seed m_rng. Or maybe the parameter could just be dropped like the global `g_insecure_rand_ctx` is dropped, and `m_rng` could be managed separately.",
      "created_at": "2024-08-15T21:05:46Z",
      "updated_at": "2024-08-15T21:08:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#discussion_r1718994222",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1718994222"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 28,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1719563783",
      "pull_request_review_id": 2242262980,
      "id": 1719563783,
      "node_id": "PRRC_kwDOABII585mfnYH",
      "diff_hunk": "@@ -102,12 +102,6 @@ void ResetCoverageCounters() {}\n \n void initialize()\n {\n-    // By default, make the RNG deterministic with a fixed seed. This will affect all\n-    // randomness during the fuzz test, except:\n-    // - GetStrongRandBytes(), which is used for the creation of private key material.\n-    // - Creating a BasicTestingSetup or derived class will switch to a random seed.\n-    SeedRandomForTest(g_insecure_rand_ctx, SeedRand::ZEROS);",
      "path": "src/test/fuzz/fuzz.cpp",
      "position": null,
      "original_position": 8,
      "commit_id": "b6b2b38aa77162420babb34e01dd510512411abf",
      "original_commit_id": "f1c1b37d2247eed49156c0467daa68aa38497bb8",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "q in f1c1b37d2247eed49156c0467daa68aa38497bb8: Can you explain why this change is correct? `SeedRandomForTest` is doing two things:\r\n\r\n* Set the internal global RNGState\r\n* Reseed the passed `g_insecure_rand_ctx`\r\n\r\nRemoving `g_insecure_rand_ctx` does not remove the need to make the fuzz tests deterministic and stable.\r\n\r\nI'll drop this change as well.",
      "created_at": "2024-08-16T08:56:55Z",
      "updated_at": "2024-08-16T08:56:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#discussion_r1719563783",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1719563783"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 109,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1719563882",
      "pull_request_review_id": 2242263116,
      "id": 1719563882,
      "node_id": "PRRC_kwDOABII585mfnZq",
      "diff_hunk": "@@ -25,7 +25,7 @@ enum class SeedRand {\n };\n \n /** Seed the RNG for testing. This affects all randomness, except GetStrongRandBytes(). */\n-void SeedRandomForTest(SeedRand seed = SeedRand::SEED);\n+void SeedRandomForTest(FastRandomContext& rng, SeedRand seed = SeedRand::SEED);",
      "path": "src/test/util/random.h",
      "position": null,
      "original_position": 5,
      "commit_id": "b6b2b38aa77162420babb34e01dd510512411abf",
      "original_commit_id": "bb67ca09c88a46b99bf83e937fa761f0e25cba37",
      "in_reply_to_id": 1718879706,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> so it could still be used conveniently to seed m_rng.\r\n\r\nNot sure. The \"feature\" is only used in three places, one of which will be removed in the last commit.\r\n\r\nSo it just seems easier to drop this change and instead move the call to `Reseed` from this function to the only two places that need it.",
      "created_at": "2024-08-16T08:57:00Z",
      "updated_at": "2024-08-16T09:50:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#discussion_r1719563882",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1719563882"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 28,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1719621319",
      "pull_request_review_id": 2242353293,
      "id": 1719621319,
      "node_id": "PRRC_kwDOABII585mf1bH",
      "diff_hunk": "@@ -102,12 +102,6 @@ void ResetCoverageCounters() {}\n \n void initialize()\n {\n-    // By default, make the RNG deterministic with a fixed seed. This will affect all\n-    // randomness during the fuzz test, except:\n-    // - GetStrongRandBytes(), which is used for the creation of private key material.\n-    // - Creating a BasicTestingSetup or derived class will switch to a random seed.\n-    SeedRandomForTest(g_insecure_rand_ctx, SeedRand::ZEROS);",
      "path": "src/test/fuzz/fuzz.cpp",
      "position": null,
      "original_position": 8,
      "commit_id": "b6b2b38aa77162420babb34e01dd510512411abf",
      "original_commit_id": "f1c1b37d2247eed49156c0467daa68aa38497bb8",
      "in_reply_to_id": 1719563783,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done: Force pushed to remove this presumed bug in the last commit",
      "created_at": "2024-08-16T09:50:47Z",
      "updated_at": "2024-08-16T09:50:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#discussion_r1719621319",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1719621319"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 109,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1720427422",
      "pull_request_review_id": 2243660929,
      "id": 1720427422,
      "node_id": "PRRC_kwDOABII585mi6Oe",
      "diff_hunk": "@@ -102,12 +102,6 @@ void ResetCoverageCounters() {}\n \n void initialize()\n {\n-    // By default, make the RNG deterministic with a fixed seed. This will affect all\n-    // randomness during the fuzz test, except:\n-    // - GetStrongRandBytes(), which is used for the creation of private key material.\n-    // - Creating a BasicTestingSetup or derived class will switch to a random seed.\n-    SeedRandomForTest(g_insecure_rand_ctx, SeedRand::ZEROS);",
      "path": "src/test/fuzz/fuzz.cpp",
      "position": null,
      "original_position": 8,
      "commit_id": "b6b2b38aa77162420babb34e01dd510512411abf",
      "original_commit_id": "f1c1b37d2247eed49156c0467daa68aa38497bb8",
      "in_reply_to_id": 1719563783,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "re: https://github.com/bitcoin/bitcoin/pull/30571#discussion_r1719563783\r\n\r\n> q in [f1c1b37](https://github.com/bitcoin/bitcoin/commit/f1c1b37d2247eed49156c0467daa68aa38497bb8): Can you explain why this change is correct?\r\n\r\nOf course it is not correct. I only noticed that this function was updating  `g_insecure_rand_ctx` and didn't notice it was updating global rng state. Thanks for fixing!",
      "created_at": "2024-08-16T22:47:36Z",
      "updated_at": "2024-08-16T22:55:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#discussion_r1720427422",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1720427422"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 109,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1720433250",
      "pull_request_review_id": 2243672559,
      "id": 1720433250,
      "node_id": "PRRC_kwDOABII585mi7pi",
      "diff_hunk": "@@ -302,7 +309,8 @@ static void test_cache_generations()\n     // immediately and never uses the other half.\n     struct block_activity {\n         std::vector<uint256> reads;\n-        block_activity(uint32_t n_insert, Cache& c) : reads()\n+    };\n+    auto add_activity = [&](uint32_t n_insert, std::vector<uint256>& reads, Cache& c)",
      "path": "src/test/cuckoocache_tests.cpp",
      "position": null,
      "original_position": 94,
      "commit_id": "b6b2b38aa77162420babb34e01dd510512411abf",
      "original_commit_id": "ac4e757bc3633e01db973201e1633331c0815e3a",
      "in_reply_to_id": null,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It would leave the code in a better state after this PR if the constructor wasn't made into this odd sidecar lambda. We already have `m_rng` available from prior commit so just pass it down.\r\n\r\nApplies on top of and reverts part of ac4e757bc3633e01db973201e1633331c0815e3a \"Give unit test functions access to test state\":\r\n```diff\r\ndiff --git a/src/test/cuckoocache_tests.cpp b/src/test/cuckoocache_tests.cpp\r\nindex d2b28b9b18..ac4fe4404e 100644\r\n--- a/src/test/cuckoocache_tests.cpp\r\n+++ b/src/test/cuckoocache_tests.cpp\r\n@@ -309,8 +309,7 @@ void test_cache_generations()\r\n     // immediately and never uses the other half.\r\n     struct block_activity {\r\n         std::vector<uint256> reads;\r\n-    };\r\n-    auto add_activity = [&](uint32_t n_insert, std::vector<uint256>& reads, Cache& c)\r\n+        block_activity(uint32_t n_insert, FastRandomContext& rng, Cache& c)\r\n         {\r\n             std::vector<uint256> inserts;\r\n             inserts.resize(n_insert);\r\n@@ -318,7 +317,7 @@ void test_cache_generations()\r\n             for (uint32_t i = 0; i < n_insert; ++i) {\r\n                 uint32_t* ptr = (uint32_t*)inserts[i].begin();\r\n                 for (uint8_t j = 0; j < 8; ++j)\r\n-                    *(ptr++) = InsecureRand32();\r\n+                    *(ptr++) = rng.rand32();\r\n             }\r\n             for (uint32_t i = 0; i < n_insert / 4; ++i)\r\n                 reads.push_back(inserts[i]);\r\n@@ -326,7 +325,8 @@ void test_cache_generations()\r\n                 reads.push_back(inserts[i]);\r\n             for (const auto& h : inserts)\r\n                 c.insert(h);\r\n-        };\r\n+        }\r\n+    };\r\n \r\n     const uint32_t BLOCK_SIZE = 1000;\r\n     // We expect window size 60 to perform reasonably given that each epoch\r\n@@ -351,8 +351,7 @@ void test_cache_generations()\r\n     for (uint32_t i = 0; i < total; ++i) {\r\n         if (last_few.size() == WINDOW_SIZE)\r\n             last_few.pop_front();\r\n-        last_few.emplace_back();\r\n-        add_activity(BLOCK_SIZE, last_few.back().reads, set);\r\n+        last_few.emplace_back(BLOCK_SIZE, m_rng, set);\r\n         uint32_t count = 0;\r\n         for (auto& act : last_few)\r\n             for (uint32_t k = 0; k < POP_AMOUNT; ++k) {\r\n```",
      "created_at": "2024-08-16T22:56:13Z",
      "updated_at": "2024-08-20T13:13:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#discussion_r1720433250",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1720433250"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 313,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1723257479",
      "pull_request_review_id": 2243672559,
      "id": 1723257479,
      "node_id": "PRRC_kwDOABII585mttKH",
      "diff_hunk": "@@ -35,18 +35,21 @@ bool operator==(const Coin &a, const Coin &b) {\n \n class CCoinsViewTest : public CCoinsView\n {\n+    FastRandomContext& m_rng;\n     uint256 hashBestBlock_;\n     std::map<COutPoint, Coin> map_;\n \n public:\n+    CCoinsViewTest(FastRandomContext& rng) : m_rng{rng} {}",
      "path": "src/test/coins_tests.cpp",
      "position": 9,
      "original_position": 9,
      "commit_id": "b6b2b38aa77162420babb34e01dd510512411abf",
      "original_commit_id": "164732369fc5ecf4c7705136a2de884419023b5a",
      "in_reply_to_id": null,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "\r\nnit in cb9d4712aec195f1fc5b3bc0a46bc13b46477b85:\r\n```suggestion\r\n    CCoinsViewTest(FastRandomContext& rng LIFETIMEBOUND) : m_rng{rng} {}\r\n```",
      "created_at": "2024-08-20T12:49:26Z",
      "updated_at": "2024-08-20T13:13:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#discussion_r1723257479",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1723257479"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 43,
      "original_line": 43,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1723392149",
      "pull_request_review_id": 2248134258,
      "id": 1723392149,
      "node_id": "PRRC_kwDOABII585muOCV",
      "diff_hunk": "@@ -302,7 +309,8 @@ static void test_cache_generations()\n     // immediately and never uses the other half.\n     struct block_activity {\n         std::vector<uint256> reads;\n-        block_activity(uint32_t n_insert, Cache& c) : reads()\n+    };\n+    auto add_activity = [&](uint32_t n_insert, std::vector<uint256>& reads, Cache& c)",
      "path": "src/test/cuckoocache_tests.cpp",
      "position": null,
      "original_position": 94,
      "commit_id": "b6b2b38aa77162420babb34e01dd510512411abf",
      "original_commit_id": "ac4e757bc3633e01db973201e1633331c0815e3a",
      "in_reply_to_id": 1720433250,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks, done. This is a good idea to reduce the diff and make it easier to review. ",
      "created_at": "2024-08-20T14:11:45Z",
      "updated_at": "2024-08-20T14:11:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#discussion_r1723392149",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1723392149"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 313,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1723397494",
      "pull_request_review_id": 2248143642,
      "id": 1723397494,
      "node_id": "PRRC_kwDOABII585muPV2",
      "diff_hunk": "@@ -35,18 +35,21 @@ bool operator==(const Coin &a, const Coin &b) {\n \n class CCoinsViewTest : public CCoinsView\n {\n+    FastRandomContext& m_rng;\n     uint256 hashBestBlock_;\n     std::map<COutPoint, Coin> map_;\n \n public:\n+    CCoinsViewTest(FastRandomContext& rng) : m_rng{rng} {}",
      "path": "src/test/coins_tests.cpp",
      "position": 9,
      "original_position": 9,
      "commit_id": "b6b2b38aa77162420babb34e01dd510512411abf",
      "original_commit_id": "164732369fc5ecf4c7705136a2de884419023b5a",
      "in_reply_to_id": 1723257479,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Not sure. I understand that this will add compile-time checks, however I think the benefits in test code are limited, because:\r\n\r\n* Tests are deterministic and execute fast (even in valgrind and other sanitizers), so any issues are found at roughly the same CPU cost (with or without compile-time checks).\r\n* If I change it here, I open up the door to change it elsewhere in this diff, which will make it more verbose and harder to review.\r\n* The resulting code is more verbose.\r\n* The check doesn't apply to GCC.\r\n* Passing a temporary is already forbidden by the C++ language in this context and passing another object that violates the lifetime likely won't be detected by `LIFETIMEBOUND` anyway.\r\n\r\nSo I'll leave this as-is for now.",
      "created_at": "2024-08-20T14:14:43Z",
      "updated_at": "2024-08-20T14:16:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#discussion_r1723397494",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1723397494"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 43,
      "original_line": 43,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1724661382",
      "pull_request_review_id": 2250158253,
      "id": 1724661382,
      "node_id": "PRRC_kwDOABII585mzD6G",
      "diff_hunk": "@@ -69,12 +69,13 @@ static void SignTransactionSchnorr(benchmark::Bench& bench) { SignTransactionSin\n \n static void SignSchnorrTapTweakBenchmark(benchmark::Bench& bench, bool use_null_merkle_root)\n {\n+    FastRandomContext rng;\n     ECC_Context ecc_context{};\n \n     auto key = GenerateRandomKey();\n-    auto msg = InsecureRand256();\n-    auto merkle_root = use_null_merkle_root ? uint256() : InsecureRand256();\n-    auto aux = InsecureRand256();\n+    auto msg = rng.rand256();\n+    auto merkle_root = use_null_merkle_root ? uint256() : rng.rand256();\n+    auto aux = rng.rand256();",
      "path": "src/bench/sign_transaction.cpp",
      "position": 13,
      "original_position": 13,
      "commit_id": "b6b2b38aa77162420babb34e01dd510512411abf",
      "original_commit_id": "3836bf1e0a207a6cb659053404bcba3a44cf7bb2",
      "in_reply_to_id": null,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: No longer requires **test/util/random.h** and doesn't get it indirectly through **setup_common.h** since this is a benchmark:\r\n```diff\r\n-#include <test/util/random.h>\r\n+#include <random.h>\r\n```",
      "created_at": "2024-08-21T08:34:22Z",
      "updated_at": "2024-08-21T09:57:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#discussion_r1724661382",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1724661382"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
        }
      },
      "start_line": 72,
      "original_start_line": 72,
      "start_side": "RIGHT",
      "line": 78,
      "original_line": 78,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1724676476",
      "pull_request_review_id": 2250158253,
      "id": 1724676476,
      "node_id": "PRRC_kwDOABII585mzHl8",
      "diff_hunk": "@@ -13,6 +13,7 @@\n #include <primitives/transaction.h>\n #include <pubkey.h>\n #include <stdexcept>\n+#include <test/util/random.h>",
      "path": "src/test/util/setup_common.h",
      "position": 4,
      "original_position": 4,
      "commit_id": "b6b2b38aa77162420babb34e01dd510512411abf",
      "original_commit_id": "3836bf1e0a207a6cb659053404bcba3a44cf7bb2",
      "in_reply_to_id": null,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: No longer needed forward declaration:\r\n```diff\r\n--- a/src/test/util/setup_common.h\r\n+++ b/src/test/util/setup_common.h\r\n@@ -28,7 +28,6 @@\r\n class arith_uint256;\r\n class CFeeRate;\r\n class Chainstate;\r\n-class FastRandomContext;\r\n \r\n /** This is connected to the logger. Can be used to redirect logs to any other log */\r\n extern const std::function<void(const std::string&)> G_TEST_LOG_FUN;\r\n```",
      "created_at": "2024-08-21T08:44:44Z",
      "updated_at": "2024-08-21T09:57:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#discussion_r1724676476",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1724676476"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 16,
      "original_line": 16,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1724749568",
      "pull_request_review_id": 2250158253,
      "id": 1724749568,
      "node_id": "PRRC_kwDOABII585mzZcA",
      "diff_hunk": "@@ -208,84 +208,85 @@ class prevector_tester {\n         BOOST_CHECK_MESSAGE(passed, \"insecure_rand: \" + rand_seed.ToString());\n     }\n \n-    prevector_tester() {\n-        SeedRandomForTest();\n-        rand_seed = InsecureRand256();\n+    prevector_tester(FastRandomContext& rng) {\n+        SeedRandomStateForTest(SeedRand::SEED);\n+        rng.Reseed(GetRandHash());\n+        rand_seed = rng.rand256();\n         rand_cache.Reseed(rand_seed);",
      "path": "src/test/prevector_tests.cpp",
      "position": null,
      "original_position": 11,
      "commit_id": "b6b2b38aa77162420babb34e01dd510512411abf",
      "original_commit_id": "3836bf1e0a207a6cb659053404bcba3a44cf7bb2",
      "in_reply_to_id": null,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`rand_cache` is dead code since 16329224e70d0525208f6b0ba00c5e1531a4f5ea. Maybe remove it in an early clean-up commit?",
      "created_at": "2024-08-21T09:34:13Z",
      "updated_at": "2024-08-21T09:57:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#discussion_r1724749568",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1724749568"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 215,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1724763552",
      "pull_request_review_id": 2250158253,
      "id": 1724763552,
      "node_id": "PRRC_kwDOABII585mzc2g",
      "diff_hunk": "@@ -64,6 +65,14 @@ struct BasicTestingSetup {\n     util::SignalInterrupt m_interrupt;\n     node::NodeContext m_node; // keep as first member to be destructed last\n \n+    FastRandomContext m_rng;\n+    /** Seed the internal global RNG state and m_rng for testing. This affects all randomness, except GetStrongRandBytes(). */\n+    void SeedRandomForTest(SeedRand seed = SeedRand::SEED)\n+    {\n+        SeedRandomStateForTest(seed);\n+        m_rng.Reseed(GetRandHash());",
      "path": "src/test/util/setup_common.h",
      "position": 17,
      "original_position": 17,
      "commit_id": "b6b2b38aa77162420babb34e01dd510512411abf",
      "original_commit_id": "3836bf1e0a207a6cb659053404bcba3a44cf7bb2",
      "in_reply_to_id": null,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I understand this was the behavior in the past too, but should we do something else with `m_rng` if the function was called with `SeedRand::ZEROS`?",
      "created_at": "2024-08-21T09:44:23Z",
      "updated_at": "2024-08-21T09:57:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#discussion_r1724763552",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1724763552"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 74,
      "original_line": 74,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1724773667",
      "pull_request_review_id": 2250158253,
      "id": 1724773667,
      "node_id": "PRRC_kwDOABII585mzfUj",
      "diff_hunk": "@@ -29,14 +31,16 @@ class TxOrphanageTest : public TxOrphanage\n     CTransactionRef RandomOrphan()\n     {\n         std::map<Wtxid, OrphanTx>::iterator it;\n-        it = m_orphans.lower_bound(Wtxid::FromUint256(InsecureRand256()));\n+        it = m_orphans.lower_bound(Wtxid::FromUint256(m_rng.rand256()));\n         if (it == m_orphans.end())\n             it = m_orphans.begin();\n         return it->second.tx;\n     }\n+\n+    FastRandomContext& m_rng;",
      "path": "src/test/orphanage_tests.cpp",
      "position": 20,
      "original_position": 20,
      "commit_id": "b6b2b38aa77162420babb34e01dd510512411abf",
      "original_commit_id": "3836bf1e0a207a6cb659053404bcba3a44cf7bb2",
      "in_reply_to_id": null,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Data-members should be private by default:\r\n```diff\r\n--- a/src/test/orphanage_tests.cpp\r\n+++ b/src/test/orphanage_tests.cpp\r\n@@ -20,6 +20,8 @@ BOOST_FIXTURE_TEST_SUITE(orphanage_tests, TestingSetup)\r\n \r\n class TxOrphanageTest : public TxOrphanage\r\n {\r\n+    FastRandomContext& m_rng;\r\n+\r\n public:\r\n     TxOrphanageTest(FastRandomContext& rng) : m_rng{rng} {}\r\n \r\n@@ -36,8 +38,6 @@ public:\r\n             it = m_orphans.begin();\r\n         return it->second.tx;\r\n     }\r\n-\r\n-    FastRandomContext& m_rng;\r\n };\r\n \r\n static void MakeNewKeyWithFastRandomContext(CKey& key, FastRandomContext& rand_ctx)\r\n```\r\nSame thing with `CPartialMerkleTreeTester`.",
      "created_at": "2024-08-21T09:51:47Z",
      "updated_at": "2024-08-21T09:57:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#discussion_r1724773667",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1724773667"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
        }
      },
      "start_line": 39,
      "original_start_line": 39,
      "start_side": "RIGHT",
      "line": 40,
      "original_line": 40,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1724777213",
      "pull_request_review_id": 2250158253,
      "id": 1724777213,
      "node_id": "PRRC_kwDOABII585mzgL9",
      "diff_hunk": "@@ -11,50 +11,18 @@\n \n #include <cstdint>",
      "path": "src/test/util/random.h",
      "position": 8,
      "original_position": 8,
      "commit_id": "b6b2b38aa77162420babb34e01dd510512411abf",
      "original_commit_id": "3836bf1e0a207a6cb659053404bcba3a44cf7bb2",
      "in_reply_to_id": null,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: No longer needed:\r\n```diff\r\n--- a/src/test/util/random.h\r\n+++ b/src/test/util/random.h\r\n@@ -7,9 +7,6 @@\r\n \r\n #include <consensus/amount.h>\r\n #include <random.h>\r\n-#include <uint256.h>\r\n-\r\n-#include <cstdint>\r\n \r\n enum class SeedRand {\r\n     ZEROS, //!< Seed with a compile time constant of zeros\r\n```",
      "created_at": "2024-08-21T09:54:31Z",
      "updated_at": "2024-08-21T09:57:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#discussion_r1724777213",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1724777213"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 12,
      "original_line": 12,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1724794173",
      "pull_request_review_id": 2250370121,
      "id": 1724794173,
      "node_id": "PRRC_kwDOABII585mzkU9",
      "diff_hunk": "@@ -64,6 +65,14 @@ struct BasicTestingSetup {\n     util::SignalInterrupt m_interrupt;\n     node::NodeContext m_node; // keep as first member to be destructed last\n \n+    FastRandomContext m_rng;\n+    /** Seed the internal global RNG state and m_rng for testing. This affects all randomness, except GetStrongRandBytes(). */\n+    void SeedRandomForTest(SeedRand seed = SeedRand::SEED)\n+    {\n+        SeedRandomStateForTest(seed);\n+        m_rng.Reseed(GetRandHash());",
      "path": "src/test/util/setup_common.h",
      "position": 17,
      "original_position": 17,
      "commit_id": "b6b2b38aa77162420babb34e01dd510512411abf",
      "original_commit_id": "3836bf1e0a207a6cb659053404bcba3a44cf7bb2",
      "in_reply_to_id": 1724763552,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> I understand this was the behavior in the past too, but should we do something else with `m_rng` if the function was called with `SeedRand::ZEROS`?\r\n\r\nIn theory one could reseed with a constant, but I don't see the benefits, given that it:\r\n\r\n* Requires more code to handle both cases\r\n* Is not a refactor\r\n\r\nSo maybe this can be done in a follow-up if relevant?",
      "created_at": "2024-08-21T10:06:46Z",
      "updated_at": "2024-08-21T10:06:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#discussion_r1724794173",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1724794173"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 74,
      "original_line": 74,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1724800311",
      "pull_request_review_id": 2250380790,
      "id": 1724800311,
      "node_id": "PRRC_kwDOABII585mzl03",
      "diff_hunk": "@@ -29,14 +31,16 @@ class TxOrphanageTest : public TxOrphanage\n     CTransactionRef RandomOrphan()\n     {\n         std::map<Wtxid, OrphanTx>::iterator it;\n-        it = m_orphans.lower_bound(Wtxid::FromUint256(InsecureRand256()));\n+        it = m_orphans.lower_bound(Wtxid::FromUint256(m_rng.rand256()));\n         if (it == m_orphans.end())\n             it = m_orphans.begin();\n         return it->second.tx;\n     }\n+\n+    FastRandomContext& m_rng;",
      "path": "src/test/orphanage_tests.cpp",
      "position": 20,
      "original_position": 20,
      "commit_id": "b6b2b38aa77162420babb34e01dd510512411abf",
      "original_commit_id": "3836bf1e0a207a6cb659053404bcba3a44cf7bb2",
      "in_reply_to_id": 1724773667,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> Data-members should be private by default:\r\n\r\nNot sure in tests, because if an object of `TxOrphanageTest` exists, it can be possibly useful to have access to the objects.m_rng for mocking. Whereas there are very little downsides (apart from being possibly confusing to use the objects.m_rng instead of the \"global\" m_rng).\r\n\r\nI'll leave this as-is for now, but I may change it later, because either way is fine and I don't think it matters much.",
      "created_at": "2024-08-21T10:11:01Z",
      "updated_at": "2024-08-21T10:11:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#discussion_r1724800311",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1724800311"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
        }
      },
      "start_line": 39,
      "original_start_line": 39,
      "start_side": "RIGHT",
      "line": 40,
      "original_line": 40,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1724810488",
      "pull_request_review_id": 2250398342,
      "id": 1724810488,
      "node_id": "PRRC_kwDOABII585mzoT4",
      "diff_hunk": "@@ -208,84 +208,85 @@ class prevector_tester {\n         BOOST_CHECK_MESSAGE(passed, \"insecure_rand: \" + rand_seed.ToString());\n     }\n \n-    prevector_tester() {\n-        SeedRandomForTest();\n-        rand_seed = InsecureRand256();\n+    prevector_tester(FastRandomContext& rng) {\n+        SeedRandomStateForTest(SeedRand::SEED);\n+        rng.Reseed(GetRandHash());\n+        rand_seed = rng.rand256();\n         rand_cache.Reseed(rand_seed);",
      "path": "src/test/prevector_tests.cpp",
      "position": null,
      "original_position": 11,
      "commit_id": "b6b2b38aa77162420babb34e01dd510512411abf",
      "original_commit_id": "3836bf1e0a207a6cb659053404bcba3a44cf7bb2",
      "in_reply_to_id": 1724749568,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Good catch. I'll add a commit to this pull request, or create a follow-up, whichever happens earlier.",
      "created_at": "2024-08-21T10:18:22Z",
      "updated_at": "2024-08-21T10:18:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#discussion_r1724810488",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1724810488"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 215,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1724840998",
      "pull_request_review_id": 2250451395,
      "id": 1724840998,
      "node_id": "PRRC_kwDOABII585mzvwm",
      "diff_hunk": "@@ -29,14 +31,16 @@ class TxOrphanageTest : public TxOrphanage\n     CTransactionRef RandomOrphan()\n     {\n         std::map<Wtxid, OrphanTx>::iterator it;\n-        it = m_orphans.lower_bound(Wtxid::FromUint256(InsecureRand256()));\n+        it = m_orphans.lower_bound(Wtxid::FromUint256(m_rng.rand256()));\n         if (it == m_orphans.end())\n             it = m_orphans.begin();\n         return it->second.tx;\n     }\n+\n+    FastRandomContext& m_rng;",
      "path": "src/test/orphanage_tests.cpp",
      "position": 20,
      "original_position": 20,
      "commit_id": "b6b2b38aa77162420babb34e01dd510512411abf",
      "original_commit_id": "3836bf1e0a207a6cb659053404bcba3a44cf7bb2",
      "in_reply_to_id": 1724773667,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Defaulting to private means that should something outside the class start needing access to it, that PR would need to expose it, thereby highlighting to reviewers what is actually happening.\r\n\r\nI think it's a good principle even if this is test code, it is new in this PR after all. Maybe if you re-touch?",
      "created_at": "2024-08-21T10:44:22Z",
      "updated_at": "2024-08-21T10:44:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#discussion_r1724840998",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1724840998"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
        }
      },
      "start_line": 39,
      "original_start_line": 39,
      "start_side": "RIGHT",
      "line": 40,
      "original_line": 40,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1724891863",
      "pull_request_review_id": 2250537793,
      "id": 1724891863,
      "node_id": "PRRC_kwDOABII585mz8LX",
      "diff_hunk": "@@ -29,14 +31,16 @@ class TxOrphanageTest : public TxOrphanage\n     CTransactionRef RandomOrphan()\n     {\n         std::map<Wtxid, OrphanTx>::iterator it;\n-        it = m_orphans.lower_bound(Wtxid::FromUint256(InsecureRand256()));\n+        it = m_orphans.lower_bound(Wtxid::FromUint256(m_rng.rand256()));\n         if (it == m_orphans.end())\n             it = m_orphans.begin();\n         return it->second.tx;\n     }\n+\n+    FastRandomContext& m_rng;",
      "path": "src/test/orphanage_tests.cpp",
      "position": 20,
      "original_position": 20,
      "commit_id": "b6b2b38aa77162420babb34e01dd510512411abf",
      "original_commit_id": "3836bf1e0a207a6cb659053404bcba3a44cf7bb2",
      "in_reply_to_id": 1724773667,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> highlighting to reviewers what is actually happening.\r\n\r\nPersonally I think this is already happening, because the code would be `orphanage.m_rng` vs `m_rng`, clarifying that `TxOrphanageTest::m_rng` is used, as opposed to `BasicTestingSetup::m_rng`.\r\n\r\n I'll leave this as-is for now, but I may change it later, because either way is fine and I don't think it matters much.",
      "created_at": "2024-08-21T11:28:54Z",
      "updated_at": "2024-08-21T11:28:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#discussion_r1724891863",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1724891863"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
        }
      },
      "start_line": 39,
      "original_start_line": 39,
      "start_side": "RIGHT",
      "line": 40,
      "original_line": 40,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1725282465",
      "pull_request_review_id": 2251169700,
      "id": 1725282465,
      "node_id": "PRRC_kwDOABII585m1bih",
      "diff_hunk": "@@ -208,84 +208,85 @@ class prevector_tester {\n         BOOST_CHECK_MESSAGE(passed, \"insecure_rand: \" + rand_seed.ToString());\n     }\n \n-    prevector_tester() {\n-        SeedRandomForTest();\n-        rand_seed = InsecureRand256();\n+    prevector_tester(FastRandomContext& rng) {\n+        SeedRandomStateForTest(SeedRand::SEED);\n+        rng.Reseed(GetRandHash());\n+        rand_seed = rng.rand256();\n         rand_cache.Reseed(rand_seed);",
      "path": "src/test/prevector_tests.cpp",
      "position": null,
      "original_position": 11,
      "commit_id": "b6b2b38aa77162420babb34e01dd510512411abf",
      "original_commit_id": "3836bf1e0a207a6cb659053404bcba3a44cf7bb2",
      "in_reply_to_id": 1724749568,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`rand_seed` is also wrong after 022cf47dd7ef8f46e32a184e84f94d1e9f3a495c, so removing `rand_seed` is a \"bugfix\" commit. ",
      "created_at": "2024-08-21T15:18:33Z",
      "updated_at": "2024-08-21T15:18:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#discussion_r1725282465",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1725282465"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 215,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1725309351",
      "pull_request_review_id": 2251212012,
      "id": 1725309351,
      "node_id": "PRRC_kwDOABII585m1iGn",
      "diff_hunk": "@@ -208,84 +208,85 @@ class prevector_tester {\n         BOOST_CHECK_MESSAGE(passed, \"insecure_rand: \" + rand_seed.ToString());\n     }\n \n-    prevector_tester() {\n-        SeedRandomForTest();\n-        rand_seed = InsecureRand256();\n+    prevector_tester(FastRandomContext& rng) {\n+        SeedRandomStateForTest(SeedRand::SEED);\n+        rng.Reseed(GetRandHash());\n+        rand_seed = rng.rand256();\n         rand_cache.Reseed(rand_seed);",
      "path": "src/test/prevector_tests.cpp",
      "position": null,
      "original_position": 11,
      "commit_id": "b6b2b38aa77162420babb34e01dd510512411abf",
      "original_commit_id": "3836bf1e0a207a6cb659053404bcba3a44cf7bb2",
      "in_reply_to_id": 1724749568,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks for noticing this! The unused symbols and the wrong logging should now be fixed in `prevector_tester`.",
      "created_at": "2024-08-21T15:33:34Z",
      "updated_at": "2024-08-21T15:33:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#discussion_r1725309351",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1725309351"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 215,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1725435882",
      "pull_request_review_id": 2251432210,
      "id": 1725435882,
      "node_id": "PRRC_kwDOABII585m2A_q",
      "diff_hunk": "@@ -205,13 +202,11 @@ class prevector_tester {\n     }\n \n     ~prevector_tester() {\n-        BOOST_CHECK_MESSAGE(passed, \"insecure_rand: \" + rand_seed.ToString());\n+        BOOST_CHECK_MESSAGE(passed, \"The random seed was logged at the start of the test\");",
      "path": "src/test/prevector_tests.cpp",
      "position": 15,
      "original_position": 15,
      "commit_id": "b6b2b38aa77162420babb34e01dd510512411abf",
      "original_commit_id": "faa2608e6c3e1763d0991443c3ce6d9bb1466da8",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"test: Correct the random seed log on a prevector test failure\" (faa2608e6c3e1763d0991443c3ce6d9bb1466da8)\r\n\r\nI think it would be nice to just fix the bug and print the seed when the test fails rather than requiring looking up the seed in logs. It seems like we could easily support this by adding `return seed` as the last line of `SeedRandomForTest` and this would be helpful for debugging tests that only fail with certain seeds, because they could be run without always enabling logging.",
      "created_at": "2024-08-21T17:04:51Z",
      "updated_at": "2024-08-21T17:06:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#discussion_r1725435882",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1725435882"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 205,
      "original_line": 205,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1725663019",
      "pull_request_review_id": 2251792059,
      "id": 1725663019,
      "node_id": "PRRC_kwDOABII585m24cr",
      "diff_hunk": "@@ -205,13 +202,11 @@ class prevector_tester {\n     }\n \n     ~prevector_tester() {\n-        BOOST_CHECK_MESSAGE(passed, \"insecure_rand: \" + rand_seed.ToString());\n+        BOOST_CHECK_MESSAGE(passed, \"The random seed was logged at the start of the test\");",
      "path": "src/test/prevector_tests.cpp",
      "position": 15,
      "original_position": 15,
      "commit_id": "b6b2b38aa77162420babb34e01dd510512411abf",
      "original_commit_id": "faa2608e6c3e1763d0991443c3ce6d9bb1466da8",
      "in_reply_to_id": 1725435882,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Not sure about this. To catch the seed, logging should be enabled (and it is enabled in all CI tasks). (This isn't changed in this pull request, so the comment seems tangential)\r\n\r\nIf the burden is put on each test that uses any kind of randomness to capture and memorize the seed, and print it on failure, it will be spotty at best and confusing, verbose and inconsistent in general.\r\n\r\nIf you are worried that the seed could be missed, I share your concern, but a better or more general fix would be to add a simple patch to the cmake/ctest infra, once it is available. Such an approach would address your concern to capture the seed and print it on failure for all tests, as opposed to just one test (or a few).\r\n\r\nHowever, no behavior is changed in this pull and the goal of this pull request is to be as close to a refactor as possible, so this will have to be done in a follow-up.",
      "created_at": "2024-08-21T19:39:07Z",
      "updated_at": "2024-08-21T19:39:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#discussion_r1725663019",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1725663019"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 205,
      "original_line": 205,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1725675521",
      "pull_request_review_id": 2251812216,
      "id": 1725675521,
      "node_id": "PRRC_kwDOABII585m27gB",
      "diff_hunk": "@@ -205,13 +202,11 @@ class prevector_tester {\n     }\n \n     ~prevector_tester() {\n-        BOOST_CHECK_MESSAGE(passed, \"insecure_rand: \" + rand_seed.ToString());\n+        BOOST_CHECK_MESSAGE(passed, \"The random seed was logged at the start of the test\");",
      "path": "src/test/prevector_tests.cpp",
      "position": 15,
      "original_position": 15,
      "commit_id": "b6b2b38aa77162420babb34e01dd510512411abf",
      "original_commit_id": "faa2608e6c3e1763d0991443c3ce6d9bb1466da8",
      "in_reply_to_id": 1725435882,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Personally, I like how it is done in the python functional tests:\r\n\r\n* Allow to log it to the terminal (This can be used by developers)\r\n* Always record the seed in the log in the test temp dir, which is preserved on failure, so that it can be looked up afterwards. (This is used by CI and can be used by developers as well)\r\n\r\nDoing the same in the unit tests would be nice, but again, this seems best to be tracked, discussed and fixed in a separate issue or pull request.",
      "created_at": "2024-08-21T19:50:07Z",
      "updated_at": "2024-08-21T19:50:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#discussion_r1725675521",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1725675521"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 205,
      "original_line": 205,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1725702791",
      "pull_request_review_id": 2251859290,
      "id": 1725702791,
      "node_id": "PRRC_kwDOABII585m3CKH",
      "diff_hunk": "@@ -205,13 +202,11 @@ class prevector_tester {\n     }\n \n     ~prevector_tester() {\n-        BOOST_CHECK_MESSAGE(passed, \"insecure_rand: \" + rand_seed.ToString());\n+        BOOST_CHECK_MESSAGE(passed, \"The random seed was logged at the start of the test\");",
      "path": "src/test/prevector_tests.cpp",
      "position": 15,
      "original_position": 15,
      "commit_id": "b6b2b38aa77162420babb34e01dd510512411abf",
      "original_commit_id": "faa2608e6c3e1763d0991443c3ce6d9bb1466da8",
      "in_reply_to_id": 1725435882,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "re: https://github.com/bitcoin/bitcoin/pull/30571#discussion_r1725675521\r\n\r\nThat all sounds good but I think I'm proposing a smaller not bigger change in behavior by just fixing the bug instead of trying to do something grander. The change based on master is:\r\n\r\n```diff\r\n--- a/src/test/prevector_tests.cpp\r\n+++ b/src/test/prevector_tests.cpp\r\n@@ -209,9 +209,8 @@ public:\r\n     }\r\n \r\n     prevector_tester() {\r\n-        SeedRandomForTest();\r\n-        rand_seed = InsecureRand256();\r\n-        rand_cache.Reseed(rand_seed);\r\n+        rand_seed = SeedRandomForTest();\r\n+        rand_cache.Reseed(InsecureRand256());\r\n     }\r\n };\r\n \r\n--- a/src/test/util/random.cpp\r\n+++ b/src/test/util/random.cpp\r\n@@ -15,7 +15,7 @@ FastRandomContext g_insecure_rand_ctx;\r\n \r\n extern void MakeRandDeterministicDANGEROUS(const uint256& seed) noexcept;\r\n \r\n-void SeedRandomForTest(SeedRand seedtype)\r\n+uint256 SeedRandomForTest(SeedRand seedtype)\r\n {\r\n     static const std::string RANDOM_CTX_SEED{\"RANDOM_CTX_SEED\"};\r\n \r\n@@ -35,4 +35,5 @@ void SeedRandomForTest(SeedRand seedtype)\r\n     LogPrintf(\"%s: Setting random seed for current tests to %s=%s\\n\", __func__, RANDOM_CTX_SEED, seed.GetHex());\r\n     MakeRandDeterministicDANGEROUS(seed);\r\n     g_insecure_rand_ctx.Reseed(GetRandHash());\r\n+    return seed;\r\n }\r\n--- a/src/test/util/random.h\r\n+++ b/src/test/util/random.h\r\n@@ -25,7 +25,7 @@ enum class SeedRand {\r\n };\r\n \r\n /** Seed the RNG for testing. This affects all randomness, except GetStrongRandBytes(). */\r\n-void SeedRandomForTest(SeedRand seed = SeedRand::SEED);\r\n+uint256 SeedRandomForTest(SeedRand seed = SeedRand::SEED);\r\n \r\n static inline uint32_t InsecureRand32()\r\n {\r\n\r\n```\r\n\r\nThis would change the test less than the current PR, provide nicer behavior, and help out with future changes that make the seed more accessible, by returning the value from the function which set it.",
      "created_at": "2024-08-21T20:14:53Z",
      "updated_at": "2024-08-21T20:14:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30571#discussion_r1725702791",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1725702791"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30571"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 205,
      "original_line": 205,
      "side": "RIGHT"
    }
  ]
}