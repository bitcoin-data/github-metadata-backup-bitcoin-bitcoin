{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713",
    "id": 2293116283,
    "node_id": "PR_kwDOABII586Iri17",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/31713",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/31713.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/31713.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31713",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31713/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/78db9e119136154bd733c95fc6379c780703234a",
    "number": 31713,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "miniscript refactor: Remove unique_ptr-indirection (#30866 follow-up)",
    "user": {
      "login": "hodlinator",
      "id": 172445034,
      "node_id": "U_kgDOCkdNag",
      "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hodlinator",
      "html_url": "https://github.com/hodlinator",
      "followers_url": "https://api.github.com/users/hodlinator/followers",
      "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
      "organizations_url": "https://api.github.com/users/hodlinator/orgs",
      "repos_url": "https://api.github.com/users/hodlinator/repos",
      "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/hodlinator/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "Removes one level of unnecessary indirection, which [aided in finding one issue](https://github.com/bitcoin/bitcoin/pull/30866#pullrequestreview-2434704657) in #30866. Simplifies the code one step further than https://github.com/bitcoin/bitcoin/pull/30866/commits/09a1875ad8cddeb17c19af34b8282d37fed0937e belonging to aforementioned PR.\r\n\r\nNo observed difference when running benchmarks: ExpandDescriptor/WalletIsMineDescriptors/WalletIsMineMigratedDescriptors/WalletLoadingDescriptors.",
    "labels": [
      {
        "id": 241832923,
        "node_id": "MDU6TGFiZWwyNDE4MzI5MjM=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Utils/log/libs",
        "name": "Utils/log/libs",
        "description": "",
        "color": "5319e7",
        "default": false
      }
    ],
    "created_at": "2025-01-22T21:16:33Z",
    "updated_at": "2025-06-24T19:23:41Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "efaf868274996002cb0f24be065d2f2796c8e1e5",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "hodlinator:2024/11/miniscript_ownership",
      "ref": "2024/11/miniscript_ownership",
      "sha": "78db9e119136154bd733c95fc6379c780703234a",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 813856282,
        "node_id": "R_kgDOMIJ2Gg",
        "name": "bitcoin",
        "full_name": "hodlinator/bitcoin",
        "owner": {
          "login": "hodlinator",
          "id": 172445034,
          "node_id": "U_kgDOCkdNag",
          "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/hodlinator",
          "html_url": "https://github.com/hodlinator",
          "followers_url": "https://api.github.com/users/hodlinator/followers",
          "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
          "organizations_url": "https://api.github.com/users/hodlinator/orgs",
          "repos_url": "https://api.github.com/users/hodlinator/repos",
          "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/hodlinator/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/hodlinator/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/hodlinator/bitcoin",
        "archive_url": "https://api.github.com/repos/hodlinator/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/hodlinator/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/hodlinator/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/hodlinator/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/hodlinator/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/hodlinator/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/hodlinator/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/hodlinator/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/hodlinator/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/hodlinator/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/hodlinator/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/hodlinator/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/hodlinator/bitcoin/events",
        "forks_url": "https://api.github.com/repos/hodlinator/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/hodlinator/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/hodlinator/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/hodlinator/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/hodlinator/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/hodlinator/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/hodlinator/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/hodlinator/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/hodlinator/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/hodlinator/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/hodlinator/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/hodlinator/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/hodlinator/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/hodlinator/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/hodlinator/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/hodlinator/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:hodlinator/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/hodlinator/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/hodlinator/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/hodlinator/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/hodlinator/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/hodlinator/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/hodlinator/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/hodlinator/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/hodlinator/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/hodlinator/bitcoin/hooks",
        "svn_url": "https://github.com/hodlinator/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 3,
        "watchers_count": 3,
        "size": 242429,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": true,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-06-24T19:16:49Z",
        "created_at": "2024-06-11T22:00:51Z",
        "updated_at": "2025-03-09T08:58:35Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "ad654a4807cd584be9ffcd8640f628ab40cb5170",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 37415,
        "stargazers_count": 84300,
        "watchers_count": 84300,
        "size": 284350,
        "default_branch": "master",
        "open_issues_count": 754,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-06-24T13:18:22Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-06-24T19:41:53Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 363,
    "deletions": 320,
    "changed_files": 4,
    "commits": 7,
    "review_comments": 40,
    "comments": 11
  },
  "events": [
    {
      "event": "commented",
      "id": 2608287853,
      "node_id": "IC_kwDOABII586bd1Bt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2608287853",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-22T21:16:36Z",
      "updated_at": "2025-06-23T15:36:33Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/31713.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [sipa](https://github.com/bitcoin/bitcoin/pull/31713#issuecomment-2610443273), [l0rinc](https://github.com/bitcoin/bitcoin/pull/31713#pullrequestreview-2948159254) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#32564](https://github.com/bitcoin/bitcoin/pull/32564) (miniscript, refactor: Make `operator\"\"_mst` `consteval` (re-take) by hebasto)\n* [#32471](https://github.com/bitcoin/bitcoin/pull/32471) (wallet/rpc: fix listdescriptors RPC fails to return descriptors with private key information when wallet contains descriptors missing any key by Eunovo)\n* [#31734](https://github.com/bitcoin/bitcoin/pull/31734) (miniscript: account for all `StringType` variants in `Miniscriptdescriptor::ToString()` by pythcoiner)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#issuecomment-2608287853",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31713"
    },
    {
      "event": "commented",
      "id": 2608294425,
      "node_id": "IC_kwDOABII586bd2oZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2608294425",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-22T21:20:48Z",
      "updated_at": "2025-01-22T21:20:48Z",
      "author_association": "CONTRIBUTOR",
      "body": "CC @achow101 @darosior @brunoerg from parent PR to gauge their interest.\r\n\r\nIt's unfortunate that this PR touches many lines, so if there's little support for the refactoring I'm fine with closing, or letting it linger for a while (I understand this is super-low priority). At least it helped find the issue mentioned at the top of the summary.",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#issuecomment-2608294425",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31713"
    },
    {
      "event": "mentioned",
      "id": 16035009155,
      "node_id": "MEE_lADOABII586nNm3HzwAAAAO7wtKD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16035009155",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-22T21:20:50Z"
    },
    {
      "event": "subscribed",
      "id": 16035009171,
      "node_id": "SE_lADOABII586nNm3HzwAAAAO7wtKT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16035009171",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-22T21:20:50Z"
    },
    {
      "event": "mentioned",
      "id": 16035009182,
      "node_id": "MEE_lADOABII586nNm3HzwAAAAO7wtKe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16035009182",
      "actor": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-22T21:20:50Z"
    },
    {
      "event": "subscribed",
      "id": 16035009192,
      "node_id": "SE_lADOABII586nNm3HzwAAAAO7wtKo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16035009192",
      "actor": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-22T21:20:50Z"
    },
    {
      "event": "mentioned",
      "id": 16035009200,
      "node_id": "MEE_lADOABII586nNm3HzwAAAAO7wtKw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16035009200",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-22T21:20:50Z"
    },
    {
      "event": "subscribed",
      "id": 16035009209,
      "node_id": "SE_lADOABII586nNm3HzwAAAAO7wtK5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16035009209",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-22T21:20:50Z"
    },
    {
      "event": "commented",
      "id": 2608626291,
      "node_id": "IC_kwDOABII586bfHpz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2608626291",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-23T01:04:21Z",
      "updated_at": "2025-01-23T01:04:21Z",
      "author_association": "MEMBER",
      "body": "CI failure looks unrelated. Could you `s/script/miniscript/` in the PR title to make it clear to reviewer this does not touch consensus critical stuff?\r\n\r\n> It's unfortunate that this PR touches many lines\r\n\r\nIt's also not a part of the codebase where i expect much churn, so it probably lowers the bar for doing something like this.",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#issuecomment-2608626291",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31713"
    },
    {
      "event": "renamed",
      "id": 16039669648,
      "node_id": "RTE_lADOABII586nNm3HzwAAAAO8Ce-Q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16039669648",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-23T07:51:26Z",
      "rename": {
        "from": "script refactor: Remove superfluous unique_ptr-indirection (#30866 follow-up)",
        "to": "miniscript refactor: Remove unique_ptr-indirection (#30866 follow-up)"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 16039673329,
      "node_id": "HRFPE_lADOABII586nNm3HzwAAAAO8Cf3x",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16039673329",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "58e9c7ca89654abdae2e37fe848ed8afc1e250e1",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/58e9c7ca89654abdae2e37fe848ed8afc1e250e1",
      "created_at": "2025-01-23T07:51:49Z"
    },
    {
      "event": "commented",
      "id": 2609159353,
      "node_id": "IC_kwDOABII586bhJy5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2609159353",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-23T08:33:39Z",
      "updated_at": "2025-01-23T08:33:39Z",
      "author_association": "MEMBER",
      "body": "> CI failure looks unrelated.\r\n\r\nI can't seem to find it. It would be good to always report or at least leave a comment with the log to any CI failure. Otherwise, it will remain unfixed and will just happen on another pull later on.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#issuecomment-2609159353",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31713"
    },
    {
      "event": "commented",
      "id": 2609212276,
      "node_id": "IC_kwDOABII586bhWt0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2609212276",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-23T08:59:26Z",
      "updated_at": "2025-01-23T08:59:26Z",
      "author_association": "CONTRIBUTOR",
      "body": "> leave a comment with the log to any CI failure\r\n\r\nI think they meant the [p2p_1p1c_network](https://github.com/bitcoin/bitcoin/pull/31701) failure at https://github.com/bitcoin/bitcoin/actions/runs/12917231673/job/36023158007?pr=31713",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#issuecomment-2609212276",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31713"
    },
    {
      "event": "commented",
      "id": 2609224746,
      "node_id": "IC_kwDOABII586bhZwq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2609224746",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-23T09:05:00Z",
      "updated_at": "2025-01-23T09:05:00Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I think they meant the [p2p_1p1c_network](https://github.com/bitcoin/bitcoin/pull/31701) failure at https://github.com/bitcoin/bitcoin/actions/runs/12917231673/job/36023158007?pr=31713\r\n\r\nYes, that's the one, thanks for finding it @l0rinc!\r\n\r\n> Could you `s/script/miniscript/` in the PR title to make it clear to reviewer this does not touch consensus critical stuff?\r\n\r\nUpdated PR title and commit message titles.",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#issuecomment-2609224746",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31713"
    },
    {
      "event": "mentioned",
      "id": 16040540006,
      "node_id": "MEE_lADOABII586nNm3HzwAAAAO8Fzdm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16040540006",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-23T09:05:02Z"
    },
    {
      "event": "subscribed",
      "id": 16040540027,
      "node_id": "SE_lADOABII586nNm3HzwAAAAO8Fzd7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16040540027",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-23T09:05:02Z"
    },
    {
      "event": "commented",
      "id": 2610139786,
      "node_id": "IC_kwDOABII586bk5KK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2610139786",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-23T15:36:59Z",
      "updated_at": "2025-01-23T15:36:59Z",
      "author_association": "MEMBER",
      "body": "From a quick skim, this looks fine to me. I wonder if @sipa has any objection to not using pointers here.\r\n\r\nLet me see if we can get the conflicts in first and then do this when nothing else is conflicting anymore.",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#issuecomment-2610139786",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31713"
    },
    {
      "event": "mentioned",
      "id": 16045871500,
      "node_id": "MEE_lADOABII586nNm3HzwAAAAO8aJGM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16045871500",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-23T15:37:01Z"
    },
    {
      "event": "subscribed",
      "id": 16045871545,
      "node_id": "SE_lADOABII586nNm3HzwAAAAO8aJG5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16045871545",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-23T15:37:01Z"
    },
    {
      "event": "commented",
      "id": 2610443273,
      "node_id": "IC_kwDOABII586bmDQJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2610443273",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-23T17:07:38Z",
      "updated_at": "2025-01-23T17:07:38Z",
      "author_association": "MEMBER",
      "body": "Very rough-skim Concept ACK.\n\nThis will make the code diverge further from the c++ miniscript policy compiler code, but that's a bullet we already took with the shared_ptr to unique_ptr change, and it doesn't seem there is development happening on that anyway.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#issuecomment-2610443273",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31713"
    },
    {
      "event": "reviewed",
      "id": 2648300910,
      "node_id": "PRR_kwDOABII586d2d1u",
      "url": null,
      "actor": null,
      "commit_id": "58e9c7ca89654abdae2e37fe848ed8afc1e250e1",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "purpleKarrot",
        "id": 185240,
        "node_id": "MDQ6VXNlcjE4NTI0MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/185240?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/purpleKarrot",
        "html_url": "https://github.com/purpleKarrot",
        "followers_url": "https://api.github.com/users/purpleKarrot/followers",
        "following_url": "https://api.github.com/users/purpleKarrot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/purpleKarrot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/purpleKarrot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/purpleKarrot/subscriptions",
        "organizations_url": "https://api.github.com/users/purpleKarrot/orgs",
        "repos_url": "https://api.github.com/users/purpleKarrot/repos",
        "events_url": "https://api.github.com/users/purpleKarrot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/purpleKarrot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#pullrequestreview-2648300910",
      "submitted_at": "2025-02-27T16:02:40Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
    },
    {
      "event": "labeled",
      "id": 16559063851,
      "node_id": "LE_lADOABII586nNm3HzwAAAAPa_0Mr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16559063851",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-04T13:45:41Z",
      "label": {
        "name": "Utils/log/libs",
        "color": "5319e7"
      }
    },
    {
      "event": "labeled",
      "id": 16899648665,
      "node_id": "LE_lADOABII586nNm3HzwAAAAPvTCyZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16899648665",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-20T10:12:46Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 16912236117,
      "node_id": "HRFPE_lADOABII586nNm3HzwAAAAPwDD5V",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16912236117",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "9ee3f45e6b0480e8295bd7294048836c828d47c8",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/9ee3f45e6b0480e8295bd7294048836c828d47c8",
      "created_at": "2025-03-20T14:40:52Z"
    },
    {
      "event": "unlabeled",
      "id": 16914601016,
      "node_id": "UNLE_lADOABII586nNm3HzwAAAAPwMFQ4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16914601016",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-20T16:50:22Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 17211605226,
      "node_id": "LE_lADOABII586nNm3HzwAAAAQB5EDq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17211605226",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-10T18:37:43Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17233850242,
      "node_id": "HRFPE_lADOABII586nNm3HzwAAAAQDN6-C",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17233850242",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "11bae1d37511ee904a0a0176d76d60ddc61fdf48",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/11bae1d37511ee904a0a0176d76d60ddc61fdf48",
      "created_at": "2025-04-12T08:00:45Z"
    },
    {
      "event": "unlabeled",
      "id": 17233910380,
      "node_id": "UNLE_lADOABII586nNm3HzwAAAAQDOJps",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17233910380",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-12T08:26:10Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 17463783010,
      "node_id": "LE_lADOABII586nNm3HzwAAAAQQ7C5i",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17463783010",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-29T23:03:12Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17469163844,
      "node_id": "HRFPE_lADOABII586nNm3HzwAAAAQRPklE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17469163844",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "10eed3ffab97714b870d7467ae4310d2e71fcc1e",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/10eed3ffab97714b870d7467ae4310d2e71fcc1e",
      "created_at": "2025-04-30T08:59:04Z"
    },
    {
      "event": "unlabeled",
      "id": 17469943697,
      "node_id": "UNLE_lADOABII586nNm3HzwAAAAQRSi-R",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17469943697",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-30T09:48:58Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 17470576806,
      "node_id": "LE_lADOABII586nNm3HzwAAAAQRU9im",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17470576806",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-30T10:33:30Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2841541200,
      "node_id": "IC_kwDOABII586pXnpQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2841541200",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-30T10:33:32Z",
      "updated_at": "2025-04-30T10:33:32Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Task `tidy`: https://github.com/bitcoin/bitcoin/runs/41407555382</sub>\n<sub>LLM reason (âœ¨ experimental): The CI failure is caused by clang-tidy reporting errors related to functions being within a recursive call chain, indicating static analysis issues rather than build or test errors.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#issuecomment-2841541200",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31713"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17471939457,
      "node_id": "HRFPE_lADOABII586nNm3HzwAAAAQRaKOB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17471939457",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "d9d034ae1ccbdeecad5108b066a195a14ebb08ac",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/d9d034ae1ccbdeecad5108b066a195a14ebb08ac",
      "created_at": "2025-04-30T12:17:38Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17472418631,
      "node_id": "HRFPE_lADOABII586nNm3HzwAAAAQRb_NH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17472418631",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "6df05ec2c2f0e013ee770c6c065540b04c90de8f",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/6df05ec2c2f0e013ee770c6c065540b04c90de8f",
      "created_at": "2025-04-30T12:49:50Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17473975979,
      "node_id": "HRFPE_lADOABII586nNm3HzwAAAAQRh7ar",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17473975979",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "575059aef54d5929568c852aa5d9096ec23a25e8",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/575059aef54d5929568c852aa5d9096ec23a25e8",
      "created_at": "2025-04-30T14:19:18Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17474121050,
      "node_id": "HRFPE_lADOABII586nNm3HzwAAAAQRie1a",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17474121050",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "2d54e51f54664540ac82844baacc3905116eb1bb",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/2d54e51f54664540ac82844baacc3905116eb1bb",
      "created_at": "2025-04-30T14:26:58Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17478012766,
      "node_id": "HRFPE_lADOABII586nNm3HzwAAAAQRxU9e",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17478012766",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "97476a3adfba957e4bffa91d0d47d461725b9214",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/97476a3adfba957e4bffa91d0d47d461725b9214",
      "created_at": "2025-04-30T18:15:14Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17478809105,
      "node_id": "HRFPE_lADOABII586nNm3HzwAAAAQR0XYR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17478809105",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "c85588dd47b0743896e4ed48cd1e59205473f451",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/c85588dd47b0743896e4ed48cd1e59205473f451",
      "created_at": "2025-04-30T19:11:45Z"
    },
    {
      "event": "commented",
      "id": 2854028630,
      "node_id": "IC_kwDOABII586qHQVW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2854028630",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-06T10:16:17Z",
      "updated_at": "2025-05-06T10:16:17Z",
      "author_association": "MEMBER",
      "body": "If there is a clang-tidy bug, it could make sense to minimize the reproducer and report/fix it upstream",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#issuecomment-2854028630",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31713"
    },
    {
      "event": "commented",
      "id": 2854049412,
      "node_id": "IC_kwDOABII586qHVaE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2854049412",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-06T10:23:56Z",
      "updated_at": "2025-05-07T13:36:15Z",
      "author_association": "CONTRIBUTOR",
      "body": "> If there is a clang-tidy bug, it could make sense to minimize the reproducer and report/fix it upstream\r\n\r\n~Currently trying to just recreate the CI failure locally on NixOS instead of spamming subscribers of the PR (a bit involved due to clang-tidy depending on generated LLVM headers).~\r\nI keep getting nerd-sniped into trying a more NixOS-native approach. Was able to iterate through `env -i HOME=\"$HOME\" PATH=\"$PATH\" USER=\"$USER\" bash -c 'MAKEJOBS=\"-j$(nproc)\" FILE_ENV=\"./ci/test/00_setup_env_native_tidy.sh\" ./ci/test_run_all.sh'`.\r\n\r\nhttps://reviews.llvm.org/D72362 which added the recursion check does mention not supporting destructors.\r\n\r\nEdit: Using `NOLINTBEGIN/-END` rather than `NOLINTNEXTLINE` did the job. So it was just invalid use of clang-tidy, not a bug.",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#issuecomment-2854049412",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31713"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17552658124,
      "node_id": "HRFPE_lADOABII586nNm3HzwAAAAQWOE7M",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17552658124",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "33df8e9103fb01b75257b3fe9c25d5d4584ea1ed",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/33df8e9103fb01b75257b3fe9c25d5d4584ea1ed",
      "created_at": "2025-05-07T09:24:50Z"
    },
    {
      "event": "unlabeled",
      "id": 17553965473,
      "node_id": "UNLE_lADOABII586nNm3HzwAAAAQWTEGh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17553965473",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-07T10:51:35Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 2821653749,
      "node_id": "PRR_kwDOABII586oLwT1",
      "url": null,
      "actor": null,
      "commit_id": "33df8e9103fb01b75257b3fe9c25d5d4584ea1ed",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#pullrequestreview-2821653749",
      "submitted_at": "2025-05-07T12:58:32Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17558417267,
      "node_id": "HRFPE_lADOABII586nNm3HzwAAAAQWkC9z",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17558417267",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "8ccda63b6a4fbfe32dfd4e28300bfae98b808966",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/8ccda63b6a4fbfe32dfd4e28300bfae98b808966",
      "created_at": "2025-05-07T15:07:15Z"
    },
    {
      "event": "reviewed",
      "id": 2938988094,
      "node_id": "PRR_kwDOABII586vLWY-",
      "url": null,
      "actor": null,
      "commit_id": "8ccda63b6a4fbfe32dfd4e28300bfae98b808966",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#pullrequestreview-2938988094",
      "submitted_at": "2025-06-18T12:22:13Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18217820917,
      "node_id": "HRFPE_lADOABII586nNm3HzwAAAAQ93eL1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18217820917",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "5e4573adda107e6bfad6ba1afb417fdb4fdc81ed",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/5e4573adda107e6bfad6ba1afb417fdb4fdc81ed",
      "created_at": "2025-06-18T20:42:20Z"
    },
    {
      "event": "reviewed",
      "id": 2948159254,
      "node_id": "PRR_kwDOABII586vuVcW",
      "url": null,
      "actor": null,
      "commit_id": "5e4573adda107e6bfad6ba1afb417fdb4fdc81ed",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK, makes sense to improve locality by removing needless indirection!\r\n\r\nMy main concerns are:\r\n* the last commit contains too many changes of different types;\r\n* we may not have proper coverage for all corner cases (duplicate keys, `case Fragment::WRAP_J`, stack-safety for destructor and clone)\r\n* the introduced mutability lowers security\r\n* needless `emplace_back` changes\r\n* unused params (not introduced here, but may be a mistake anyway)",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#pullrequestreview-2948159254",
      "submitted_at": "2025-06-23T15:36:29Z",
      "state": "CHANGES_REQUESTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGIyNGNkYzFjYjIzYjYzYzQ2ZDJjNDMzNTM1NzhkMmY5NjFhOTUwMWM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b24cdc1cb23b63c46d2c43353578d2f961a9501c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b24cdc1cb23b63c46d2c43353578d2f961a9501c",
      "tree": {
        "sha": "e5b0d9d1d4e0f5c6f9e492c2b39fd798790fd055",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e5b0d9d1d4e0f5c6f9e492c2b39fd798790fd055"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree e5b0d9d1d4e0f5c6f9e492c2b39fd798790fd055\nparent 5e6dbfd14ea9eace1c7e5ee76b140be46a0ec855\nauthor Hodlinator <172445034+hodlinator@users.noreply.github.com> 1737577164 +0100\ncommitter Hodlinator <172445034+hodlinator@users.noreply.github.com> 1750766642 +0200\n\ndoc(miniscript): Remove mention of shared pointers\n\nCorrect destructor implementation comment to no longer refer to shared pointers and also move it into the function body, in symmetry with Clone() right below.\n\nLeftover from #30866.\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAg39Hzirivn9mM3G8qwAOGOKsmHT\ny2f/O2iDRQI8UxEyoAAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQIUKlYG+RGXdeqZOPvw7FSkb2D8APe7Gfz3DnqGaoRk+BdJj/RED6gcr+YbuxRNsSH\nLj6kFDTkwJ4xENHyirewY=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5e6dbfd14ea9eace1c7e5ee76b140be46a0ec855",
          "sha": "5e6dbfd14ea9eace1c7e5ee76b140be46a0ec855",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5e6dbfd14ea9eace1c7e5ee76b140be46a0ec855"
        }
      ],
      "message": "doc(miniscript): Remove mention of shared pointers\n\nCorrect destructor implementation comment to no longer refer to shared pointers and also move it into the function body, in symmetry with Clone() right below.\n\nLeftover from #30866.",
      "committer": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2025-06-24T12:04:02Z"
      },
      "author": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2025-01-22T20:19:24Z"
      },
      "sha": "b24cdc1cb23b63c46d2c43353578d2f961a9501c"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGE0MWRiMzliZjg3MzAzZDhhODE3M2RiNTZkMDAyMGM0OTEyMzlkMzg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a41db39bf87303d8a8173db56d0020c491239d38",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a41db39bf87303d8a8173db56d0020c491239d38",
      "tree": {
        "sha": "c9e365b539795deee3da375e7e3dc5505b583dae",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c9e365b539795deee3da375e7e3dc5505b583dae"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree c9e365b539795deee3da375e7e3dc5505b583dae\nparent b24cdc1cb23b63c46d2c43353578d2f961a9501c\nauthor Hodlinator <172445034+hodlinator@users.noreply.github.com> 1737579015 +0100\ncommitter Hodlinator <172445034+hodlinator@users.noreply.github.com> 1750788630 +0200\n\nrefactor(miniscript): Make fields non-const & private\n\nMakes a lot of fields in miniscript.h non-const in order to allow move-operations in next commit.\n\nAlso fixes adjacent comment typos.\n\nCo-authored-by: LÅ‘rinc <pap.lorinc@gmail.com>\nCo-authored-by: MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz>\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAg39Hzirivn9mM3G8qwAOGOKsmHT\ny2f/O2iDRQI8UxEyoAAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQDBSHWNOE0TM+LnZu3INI7+dWkeRZxOo6o5MIeIQChWvCLVuGHxuRZQrydc/gvWNuC\n44z819E/5h8rQUSRdicAU=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b24cdc1cb23b63c46d2c43353578d2f961a9501c",
          "sha": "b24cdc1cb23b63c46d2c43353578d2f961a9501c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b24cdc1cb23b63c46d2c43353578d2f961a9501c"
        }
      ],
      "message": "refactor(miniscript): Make fields non-const & private\n\nMakes a lot of fields in miniscript.h non-const in order to allow move-operations in next commit.\n\nAlso fixes adjacent comment typos.\n\nCo-authored-by: LÅ‘rinc <pap.lorinc@gmail.com>\nCo-authored-by: MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz>",
      "committer": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2025-06-24T18:10:30Z"
      },
      "author": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2025-01-22T20:50:15Z"
      },
      "sha": "a41db39bf87303d8a8173db56d0020c491239d38"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGVmZmNmNzAxNDc0ZWFjZDg1YTI0ZGE0ZDE3MDcxMjBmYzc1NmFhOTE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/effcf701474eacd85a24da4d1707120fc756aa91",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/effcf701474eacd85a24da4d1707120fc756aa91",
      "tree": {
        "sha": "f29d2bec41ac594792f9ebae840d5602a4e93462",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f29d2bec41ac594792f9ebae840d5602a4e93462"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree f29d2bec41ac594792f9ebae840d5602a4e93462\nparent a41db39bf87303d8a8173db56d0020c491239d38\nauthor Hodlinator <172445034+hodlinator@users.noreply.github.com> 1750751212 +0200\ncommitter Hodlinator <172445034+hodlinator@users.noreply.github.com> 1750788630 +0200\n\nrefactor(miniscript): Remove Node::subs mutability\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAg39Hzirivn9mM3G8qwAOGOKsmHT\ny2f/O2iDRQI8UxEyoAAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQM0hqdIb33UvxDtZUghj2Cy4hFgHaLQeWNt3Jfiz4quoRxYHNGTPo49CuOYf4vyMki\nxoLoG/tN5nroi8pEomygg=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a41db39bf87303d8a8173db56d0020c491239d38",
          "sha": "a41db39bf87303d8a8173db56d0020c491239d38",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a41db39bf87303d8a8173db56d0020c491239d38"
        }
      ],
      "message": "refactor(miniscript): Remove Node::subs mutability",
      "committer": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2025-06-24T18:10:30Z"
      },
      "author": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2025-06-24T07:46:52Z"
      },
      "sha": "effcf701474eacd85a24da4d1707120fc756aa91"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDE3ODRjZmFhMTM4NTFlNmMxYjMyNDFlYzY4OGNkN2M4YmZhZjFhNjY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1784cfaa13851e6c1b3241ec688cd7c8bfaf1a66",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/1784cfaa13851e6c1b3241ec688cd7c8bfaf1a66",
      "tree": {
        "sha": "45f12d18af83226931cb504b186963c46187a6fa",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/45f12d18af83226931cb504b186963c46187a6fa"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 45f12d18af83226931cb504b186963c46187a6fa\nparent effcf701474eacd85a24da4d1707120fc756aa91\nauthor Hodlinator <172445034+hodlinator@users.noreply.github.com> 1750790578 +0200\ncommitter Hodlinator <172445034+hodlinator@users.noreply.github.com> 1750790578 +0200\n\nrefactor(miniscript): Remove superfluous unique_ptr-indirection\n\nFunctional parity is achieved through making Node move-able.\n\nUnfortunately ~Node() now needs to have the recursion linter disabled, as it is unable to figure out that recursion stops 1 level down. The former smart pointers must have been circumventing the linter somehow.\n\nNodeRef & MakeNodeRef() are deleted in the following commit (broken out to facilitate review).\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAg39Hzirivn9mM3G8qwAOGOKsmHT\ny2f/O2iDRQI8UxEyoAAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQBpTVBPU9YRlX3tW2CXqE+QNXLlUckgkSnrFlKIzL7nla78TqTN/0fJxqWp0NEe61E\npH/lzA/9lzA/XHf5MxRgI=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/effcf701474eacd85a24da4d1707120fc756aa91",
          "sha": "effcf701474eacd85a24da4d1707120fc756aa91",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/effcf701474eacd85a24da4d1707120fc756aa91"
        }
      ],
      "message": "refactor(miniscript): Remove superfluous unique_ptr-indirection\n\nFunctional parity is achieved through making Node move-able.\n\nUnfortunately ~Node() now needs to have the recursion linter disabled, as it is unable to figure out that recursion stops 1 level down. The former smart pointers must have been circumventing the linter somehow.\n\nNodeRef & MakeNodeRef() are deleted in the following commit (broken out to facilitate review).",
      "committer": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2025-06-24T18:42:58Z"
      },
      "author": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2025-06-24T18:42:58Z"
      },
      "sha": "1784cfaa13851e6c1b3241ec688cd7c8bfaf1a66"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGM0ZDMwMTE1ZjVjZWZlMzk0NWFjOGI2OWMwMjFhNTUxZWIyYjZhNzI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c4d30115f5cefe3945ac8b69c021a551eb2b6a72",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c4d30115f5cefe3945ac8b69c021a551eb2b6a72",
      "tree": {
        "sha": "b3e5cecea919ca30a0cfa35b509998cdd5754e56",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b3e5cecea919ca30a0cfa35b509998cdd5754e56"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree b3e5cecea919ca30a0cfa35b509998cdd5754e56\nparent 1784cfaa13851e6c1b3241ec688cd7c8bfaf1a66\nauthor Hodlinator <172445034+hodlinator@users.noreply.github.com> 1750791912 +0200\ncommitter Hodlinator <172445034+hodlinator@users.noreply.github.com> 1750791912 +0200\n\nrefactor(miniscript): Remove NodeRef & MakeNodeRef()\n\n(Also removes parameter to TestSatisfy() which existed unused from the start in 22c5b00345063bdeb8b6d3da8b5692d18f92bfb7).\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAg39Hzirivn9mM3G8qwAOGOKsmHT\ny2f/O2iDRQI8UxEyoAAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQDoCEHzk+33Rq6ZbjzTMiCYj7krETbtgZXADET5GMv9dGO/m4bIY+57Pd79avKwPjn\nM/NlBwRQCeBycZSDjjpgo=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1784cfaa13851e6c1b3241ec688cd7c8bfaf1a66",
          "sha": "1784cfaa13851e6c1b3241ec688cd7c8bfaf1a66",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/1784cfaa13851e6c1b3241ec688cd7c8bfaf1a66"
        }
      ],
      "message": "refactor(miniscript): Remove NodeRef & MakeNodeRef()\n\n(Also removes parameter to TestSatisfy() which existed unused from the start in 22c5b00345063bdeb8b6d3da8b5692d18f92bfb7).",
      "committer": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2025-06-24T19:05:12Z"
      },
      "author": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2025-06-24T19:05:12Z"
      },
      "sha": "c4d30115f5cefe3945ac8b69c021a551eb2b6a72"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDEwNmQ2OTM3MzcyY2U2MmNjZWJmNWQyYzAxOTM4MWEzMzc2ODE4MjY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/106d6937372ce62ccebf5d2c019381a337681826",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/106d6937372ce62ccebf5d2c019381a337681826",
      "tree": {
        "sha": "8c9885ea3dff41f37a85fc5743b3d14ac125eff1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8c9885ea3dff41f37a85fc5743b3d14ac125eff1"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 8c9885ea3dff41f37a85fc5743b3d14ac125eff1\nparent c4d30115f5cefe3945ac8b69c021a551eb2b6a72\nauthor Hodlinator <172445034+hodlinator@users.noreply.github.com> 1750753798 +0200\ncommitter Hodlinator <172445034+hodlinator@users.noreply.github.com> 1750791913 +0200\n\nrefactor(miniscript): Destroy nodes one full subs-vector at a time\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAg39Hzirivn9mM3G8qwAOGOKsmHT\ny2f/O2iDRQI8UxEyoAAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQMziY5eOPPbtsd5p4DLVv4Bh6jBI3nK8M5qr1OpEs/CAeyYo9007ilOMEjxJtPvfLL\nQjQpUC6oBLhLgyz7ktNwo=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c4d30115f5cefe3945ac8b69c021a551eb2b6a72",
          "sha": "c4d30115f5cefe3945ac8b69c021a551eb2b6a72",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c4d30115f5cefe3945ac8b69c021a551eb2b6a72"
        }
      ],
      "message": "refactor(miniscript): Destroy nodes one full subs-vector at a time",
      "committer": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2025-06-24T19:05:13Z"
      },
      "author": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2025-06-24T08:29:58Z"
      },
      "sha": "106d6937372ce62ccebf5d2c019381a337681826"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDc4ZGI5ZTExOTEzNjE1NGJkNzMzYzk1ZmM2Mzc5Yzc4MDcwMzIzNGE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/78db9e119136154bd733c95fc6379c780703234a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/78db9e119136154bd733c95fc6379c780703234a",
      "tree": {
        "sha": "fa6a6992cea284c82d9e8c625ebf271aa0d6f8ca",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fa6a6992cea284c82d9e8c625ebf271aa0d6f8ca"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree fa6a6992cea284c82d9e8c625ebf271aa0d6f8ca\nparent 106d6937372ce62ccebf5d2c019381a337681826\nauthor Hodlinator <172445034+hodlinator@users.noreply.github.com> 1750768187 +0200\ncommitter Hodlinator <172445034+hodlinator@users.noreply.github.com> 1750791913 +0200\n\ntest(miniscript): Prove avoidance of stack overflow\n\nCan be tested through emptying the function body of ~Node() or replacing Clone() implementation with naive version:\n```C++\n    Node<Key> Clone() const\n    {\n        std::vector<Node> new_subs;\n        new_subs.reserve(subs.size());\n        for (const Node& child : subs) {\n            new_subs.push_back(child.Clone());\n        }\n        return Node{internal::NoDupCheck{}, m_script_ctx, fragment, std::move(new_subs), keys, data, k};\n    }\n```\n\nCo-authored-by: LÅ‘rinc <pap.lorinc@gmail.com>\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAg39Hzirivn9mM3G8qwAOGOKsmHT\ny2f/O2iDRQI8UxEyoAAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQOaOeF0C5gHVsw4pNV3lDBlu/aObq7B8frKXNBLKKJX4RNgJgVl4mEAJeHBSFgA9kV\n2VQWTh/5UfXeyA/XtUIAY=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/106d6937372ce62ccebf5d2c019381a337681826",
          "sha": "106d6937372ce62ccebf5d2c019381a337681826",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/106d6937372ce62ccebf5d2c019381a337681826"
        }
      ],
      "message": "test(miniscript): Prove avoidance of stack overflow\n\nCan be tested through emptying the function body of ~Node() or replacing Clone() implementation with naive version:\n```C++\n    Node<Key> Clone() const\n    {\n        std::vector<Node> new_subs;\n        new_subs.reserve(subs.size());\n        for (const Node& child : subs) {\n            new_subs.push_back(child.Clone());\n        }\n        return Node{internal::NoDupCheck{}, m_script_ctx, fragment, std::move(new_subs), keys, data, k};\n    }\n```\n\nCo-authored-by: LÅ‘rinc <pap.lorinc@gmail.com>",
      "committer": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2025-06-24T19:05:13Z"
      },
      "author": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2025-06-24T12:29:47Z"
      },
      "sha": "78db9e119136154bd733c95fc6379c780703234a"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18301060462,
      "node_id": "HRFPE_lADOABII586nNm3HzwAAAARC1AVu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18301060462",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/78db9e119136154bd733c95fc6379c780703234a",
      "created_at": "2025-06-24T19:16:50Z"
    },
    {
      "event": "reviewed",
      "id": 2952377149,
      "node_id": "PRR_kwDOABII586v-bM9",
      "url": null,
      "actor": null,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "New push in response to all concerns from https://github.com/bitcoin/bitcoin/pull/31713#pullrequestreview-2948159254",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#pullrequestreview-2952377149",
      "submitted_at": "2025-06-24T19:23:40Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1973892213",
      "pull_request_review_id": 2648300910,
      "id": 1973892213,
      "node_id": "PRRC_kwDOABII5851pzR1",
      "diff_hunk": "@@ -1301,31 +1301,31 @@ class StringMaker {\n class MiniscriptDescriptor final : public DescriptorImpl\n {\n private:\n-    miniscript::NodeRef<uint32_t> m_node;\n+    const miniscript::Node<uint32_t> m_node;",
      "path": "src/script/descriptor.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "58e9c7ca89654abdae2e37fe848ed8afc1e250e1",
      "in_reply_to_id": null,
      "user": {
        "login": "purpleKarrot",
        "id": 185240,
        "node_id": "MDQ6VXNlcjE4NTI0MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/185240?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/purpleKarrot",
        "html_url": "https://github.com/purpleKarrot",
        "followers_url": "https://api.github.com/users/purpleKarrot/followers",
        "following_url": "https://api.github.com/users/purpleKarrot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/purpleKarrot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/purpleKarrot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/purpleKarrot/subscriptions",
        "organizations_url": "https://api.github.com/users/purpleKarrot/orgs",
        "repos_url": "https://api.github.com/users/purpleKarrot/repos",
        "events_url": "https://api.github.com/users/purpleKarrot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/purpleKarrot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Data members should not be `const`. See https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Rc-constref",
      "created_at": "2025-02-27T16:02:40Z",
      "updated_at": "2025-02-27T16:02:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r1973892213",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1973892213"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1304,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1976441195",
      "pull_request_review_id": 2652501941,
      "id": 1976441195,
      "node_id": "PRRC_kwDOABII5851zhlr",
      "diff_hunk": "@@ -1301,31 +1301,31 @@ class StringMaker {\n class MiniscriptDescriptor final : public DescriptorImpl\n {\n private:\n-    miniscript::NodeRef<uint32_t> m_node;\n+    const miniscript::Node<uint32_t> m_node;",
      "path": "src/script/descriptor.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "58e9c7ca89654abdae2e37fe848ed8afc1e250e1",
      "in_reply_to_id": 1973892213,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks for having a look! `const` fields are the bane of making types movable, as in c7f1829b4bb3a579c65a99a62b42f64de946c0da of this very PR, so good to have another argument in that direction.\r\n\r\nStill think there's some value in marking fields as `const` to collapse down the mental model of the code when moving is not necessary. Wish we had \"const except on move\".\r\n\r\nBut I've proven my point that it *can* now be made `const`. I'll remove it on the next push.",
      "created_at": "2025-03-01T15:51:38Z",
      "updated_at": "2025-03-01T15:51:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r1976441195",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1976441195"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1304,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2005807278",
      "pull_request_review_id": 2703025510,
      "id": 2005807278,
      "node_id": "PRRC_kwDOABII5853jjCu",
      "diff_hunk": "@@ -1301,31 +1301,31 @@ class StringMaker {\n class MiniscriptDescriptor final : public DescriptorImpl\n {\n private:\n-    miniscript::NodeRef<uint32_t> m_node;\n+    const miniscript::Node<uint32_t> m_node;",
      "path": "src/script/descriptor.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "58e9c7ca89654abdae2e37fe848ed8afc1e250e1",
      "in_reply_to_id": 1973892213,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Adjusted in latest push, which is otherwise just a rebase.",
      "created_at": "2025-03-20T14:41:41Z",
      "updated_at": "2025-03-20T14:41:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2005807278",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2005807278"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1304,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2077573425",
      "pull_request_review_id": 2821653749,
      "id": 2077573425,
      "node_id": "PRRC_kwDOABII58571UEx",
      "diff_hunk": "@@ -421,11 +414,11 @@ struct Ops {\n  */\n struct SatInfo {\n     //! Whether a canonical satisfaction/dissatisfaction is possible at all.\n-    const bool valid;\n+    bool valid;\n     //! How much higher the stack size at start of execution can be compared to at the end.\n-    const int32_t netdiff;\n+    int32_t netdiff;\n     //! Mow much higher the stack size can be during execution compared to at the end.",
      "path": "src/script/miniscript.h",
      "position": null,
      "original_position": 34,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "33df8e9103fb01b75257b3fe9c25d5d4584ea1ed",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "unrelated, but it looks like there are typos:\r\n\r\nMow much -> How much [Typo in \"Mow much\"]\r\n\r\nRIPEMD10 -> RIPEMD160 [Incorrect algorithm name]",
      "created_at": "2025-05-07T12:58:32Z",
      "updated_at": "2025-05-07T12:58:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2077573425",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2077573425"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 420,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2077869573",
      "pull_request_review_id": 2822176381,
      "id": 2077869573,
      "node_id": "PRRC_kwDOABII58572cYF",
      "diff_hunk": "@@ -421,11 +414,11 @@ struct Ops {\n  */\n struct SatInfo {\n     //! Whether a canonical satisfaction/dissatisfaction is possible at all.\n-    const bool valid;\n+    bool valid;\n     //! How much higher the stack size at start of execution can be compared to at the end.\n-    const int32_t netdiff;\n+    int32_t netdiff;\n     //! Mow much higher the stack size can be during execution compared to at the end.",
      "path": "src/script/miniscript.h",
      "position": null,
      "original_position": 34,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "33df8e9103fb01b75257b3fe9c25d5d4584ea1ed",
      "in_reply_to_id": 2077573425,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Taken in latest push.",
      "created_at": "2025-05-07T15:07:41Z",
      "updated_at": "2025-05-07T15:07:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2077869573",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2077869573"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 420,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2154461184",
      "pull_request_review_id": 2938988094,
      "id": 2154461184,
      "node_id": "PRRC_kwDOABII586AangA",
      "diff_hunk": "@@ -311,11 +311,6 @@ const struct KeyComparator {\n // A dummy scriptsig to pass to VerifyScript (we always use Segwit v0).\n const CScript DUMMY_SCRIPTSIG;\n \n-//! Construct a miniscript node as a shared_ptr.",
      "path": "src/test/fuzz/miniscript.cpp",
      "position": 17,
      "original_position": 17,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "8ccda63b6a4fbfe32dfd4e28300bfae98b808966",
      "in_reply_to_id": null,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "@maflcko, the LLM linter is showing issues for the code before my changes, and also changing casing by itself which causes it to detect it as an error:\r\n\r\n> Possible typos and grammar issues:\r\n> \r\n>     * Mow much higher -> How much higher [Typo in comment]\r\n> \r\n>     * Constructed.emplace_back -> constructed.emplace_back [Typo in variable name]\r\n> \r\n>     * //! Construct a miniscript node as a shared_ptr. -> This comment is inaccurate given the code changes, as Node is no longer represented by a shared_ptr. [Inaccurate comment]",
      "created_at": "2025-06-18T12:22:13Z",
      "updated_at": "2025-06-18T12:22:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2154461184",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2154461184"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 314,
      "original_line": 314,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2154470579",
      "pull_request_review_id": 2939002337,
      "id": 2154470579,
      "node_id": "PRRC_kwDOABII586Aapyz",
      "diff_hunk": "@@ -311,11 +311,6 @@ const struct KeyComparator {\n // A dummy scriptsig to pass to VerifyScript (we always use Segwit v0).\n const CScript DUMMY_SCRIPTSIG;\n \n-//! Construct a miniscript node as a shared_ptr.",
      "path": "src/test/fuzz/miniscript.cpp",
      "position": 17,
      "original_position": 17,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "8ccda63b6a4fbfe32dfd4e28300bfae98b808966",
      "in_reply_to_id": 2154461184,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thx, this was fixed in https://github.com/maflcko/DrahtBot/commit/30bb2f0baa4e920211cfa35f5be72aed013253a1 last month. You can ignore it, or rebase, if you want it to re-run.",
      "created_at": "2025-06-18T12:26:43Z",
      "updated_at": "2025-06-18T12:26:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2154470579",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2154470579"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 314,
      "original_line": 314,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2155505262",
      "pull_request_review_id": 2940670872,
      "id": 2155505262,
      "node_id": "PRRC_kwDOABII586AemZu",
      "diff_hunk": "@@ -311,11 +311,6 @@ const struct KeyComparator {\n // A dummy scriptsig to pass to VerifyScript (we always use Segwit v0).\n const CScript DUMMY_SCRIPTSIG;\n \n-//! Construct a miniscript node as a shared_ptr.",
      "path": "src/test/fuzz/miniscript.cpp",
      "position": 17,
      "original_position": 17,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "8ccda63b6a4fbfe32dfd4e28300bfae98b808966",
      "in_reply_to_id": 2154461184,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Rebased, thanks!",
      "created_at": "2025-06-18T21:03:31Z",
      "updated_at": "2025-06-18T21:03:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2155505262",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2155505262"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 314,
      "original_line": 314,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2160319454",
      "pull_request_review_id": 2948159254,
      "id": 2160319454,
      "node_id": "PRRC_kwDOABII586Aw9ve",
      "diff_hunk": "@@ -515,9 +515,11 @@ struct Node {\n     //! The Script context for this node. Either P2WSH or Tapscript.\n     const MiniscriptContext m_script_ctx;\n \n-    /* Destroy the shared pointers iteratively to avoid a stack-overflow due to recursive calls",
      "path": "src/script/miniscript.h",
      "position": 118,
      "original_position": 4,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "db2ede082836fe27ddae62e6e6e6803aa92ee45b",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "The comment is a #30866 leftover, right? we might want to mention it in the commit message for context (i.e. independently of the PR's description)",
      "created_at": "2025-06-22T12:12:48Z",
      "updated_at": "2025-06-23T15:36:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2160319454",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2160319454"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 518,
      "original_line": 518,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2160320908",
      "pull_request_review_id": 2948159254,
      "id": 2160320908,
      "node_id": "PRRC_kwDOABII586Aw-GM",
      "diff_hunk": "@@ -515,9 +515,11 @@ struct Node {\n     //! The Script context for this node. Either P2WSH or Tapscript.\n     const MiniscriptContext m_script_ctx;\n \n-    /* Destroy the shared pointers iteratively to avoid a stack-overflow due to recursive calls\n-     * to the subs' destructors. */\n-    ~Node() {\n+    ~Node()\n+    {\n+        // Destroy the subexpressions iteratively after moving out their\n+        // subexpressions to avoid a stack-overflow due to recursive calls to\n+        // the subs' destructors.",
      "path": "src/script/miniscript.h",
      "position": 136,
      "original_position": 11,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "db2ede082836fe27ddae62e6e6e6803aa92ee45b",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "so this basically flattens out the tree structure to make sure the desctructor's call stack has at most 1 indirection? Would `TreeEval` complicate this too much?\r\n \r\nDo we have a test that makes sure this doesn't cause a stack-overflow?\r\nMaybe we could cover these changed lines with something that exercises the clone and destructor, e.g.:\r\n```C++\r\n// Confirm that `Node`â€™s destructor and Clone() are stack-safe\r\nBOOST_AUTO_TEST_CASE(node_deep_destruct)\r\n{\r\n    using miniscript::internal::NoDupCheck;\r\n    using miniscript::Fragment;\r\n    using NodeU32 = miniscript::Node<uint32_t>;\r\n\r\n    constexpr auto ctx{miniscript::MiniscriptContext::P2WSH};\r\n\r\n    NodeU32 root{NoDupCheck{}, ctx, Fragment::JUST_1};\r\n    for (uint32_t i{0}; i < 100'000; ++i) {\r\n        root = NodeU32{NoDupCheck{}, ctx, Fragment::WRAP_S, Vector(std::move(root))};\r\n    }\r\n\r\n    for(auto clone{root.Clone()}; !clone.subs.empty(); ) {\r\n        BOOST_CHECK_EQUAL(clone.subs.size(), root.subs.size());\r\n        clone = std::move(clone.subs[0]);\r\n        root = std::move(root.subs[0]);\r\n    }\r\n}\r\n```\r\n\r\nwhich would fail for:\r\n```C++\r\n~Node()\r\n{\r\n}\r\n```\r\n\r\nor\r\n```C++\r\nNode<Key> Clone() const\r\n{\r\n    std::vector<Node> new_subs;\r\n    new_subs.reserve(subs.size());\r\n    for (const Node& child : subs) {\r\n        new_subs.push_back(child.Clone());\r\n    }\r\n\r\n    return Node{internal::NoDupCheck{}, m_script_ctx, fragment, std::move(new_subs), keys, data, k};\r\n}\r\n```",
      "created_at": "2025-06-22T12:17:27Z",
      "updated_at": "2025-06-23T15:36:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2160320908",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2160320908"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 535,
      "original_line": 535,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2160322647",
      "pull_request_review_id": 2948159254,
      "id": 2160322647,
      "node_id": "PRRC_kwDOABII586Aw-hX",
      "diff_hunk": "@@ -515,9 +515,11 @@ struct Node {\n     //! The Script context for this node. Either P2WSH or Tapscript.\n     const MiniscriptContext m_script_ctx;\n \n-    /* Destroy the shared pointers iteratively to avoid a stack-overflow due to recursive calls\n-     * to the subs' destructors. */\n-    ~Node() {\n+    ~Node()\n+    {\n+        // Destroy the subexpressions iteratively after moving out their\n+        // subexpressions to avoid a stack-overflow due to recursive calls to\n+        // the subs' destructors.\n         while (!subs.empty()) {\n             auto node = std::move(subs.back());\n             subs.pop_back();",
      "path": "src/script/miniscript.h",
      "position": null,
      "original_position": 14,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "db2ede082836fe27ddae62e6e6e6803aa92ee45b",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Given that this can cause stack overflow, I assume the levels aren't trivial, which makes me wonder if we can [Bulk move all `node->subs` over](https://en.cppreference.com/w/cpp/iterator/make_move_iterator.html) (in a reverse order though) and clear it at the end instead of popping one-by-one.",
      "created_at": "2025-06-22T12:23:35Z",
      "updated_at": "2025-06-23T15:36:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2160322647",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2160322647"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 525,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2160335156",
      "pull_request_review_id": 2948159254,
      "id": 2160335156,
      "node_id": "PRRC_kwDOABII586AxBk0",
      "diff_hunk": "@@ -503,17 +503,17 @@ struct NoDupCheck {};\n template<typename Key>\n struct Node {\n     //! What node type this node is.\n-    const Fragment fragment;\n+    Fragment fragment;\n     //! The k parameter (time for OLDER/AFTER, threshold for THRESH(_M))\n-    const uint32_t k = 0;\n+    uint32_t k = 0;\n     //! The keys used by this expression (only for PK_K/PK_H/MULTI)\n-    const std::vector<Key> keys;\n-    //! The data bytes in this expression (only for HASH160/HASH256/SHA256/RIPEMD10).\n-    const std::vector<unsigned char> data;\n+    std::vector<Key> keys;\n+    //! The data bytes in this expression (only for HASH160/HASH256/SHA256/RIPEMD160).\n+    std::vector<unsigned char> data;\n     //! Subexpressions (for WRAP_*/AND_*/OR_*/ANDOR/THRESH)\n     mutable std::vector<NodeRef<Key>> subs;",
      "path": "src/script/miniscript.h",
      "position": null,
      "original_position": 53,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "c04b7b490e0c63942000472ea9f918df326c5b00",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Could we remove the `mutable` in commit c04b7b490e0c63942000472ea9f918df326c5b00 for consistency?",
      "created_at": "2025-06-22T12:44:40Z",
      "updated_at": "2025-06-23T15:36:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2160335156",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2160335156"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 514,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2160336607",
      "pull_request_review_id": 2948159254,
      "id": 2160336607,
      "node_id": "PRRC_kwDOABII586AxB7f",
      "diff_hunk": "@@ -650,13 +650,13 @@ BOOST_AUTO_TEST_CASE(fixed_tests)\n     // A Script with a non minimal push is invalid\n     constexpr auto nonminpush{\"0000210232780000feff00ffffffffffff21ff005f00ae21ae00000000060602060406564c2102320000060900fe00005f00ae21ae00100000060606060606000000000000000000000000000000000000000000000000000000000000000000\"_hex_u8};\n     const CScript nonminpush_script(nonminpush.begin(), nonminpush.end());\n-    BOOST_CHECK(miniscript::FromScript(nonminpush_script, wsh_converter) == nullptr);\n-    BOOST_CHECK(miniscript::FromScript(nonminpush_script, tap_converter) == nullptr);\n+    BOOST_CHECK(miniscript::FromScript(nonminpush_script, wsh_converter) == std::nullopt);",
      "path": "src/test/miniscript_tests.cpp",
      "position": 166,
      "original_position": 148,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "5e4573adda107e6bfad6ba1afb417fdb4fdc81ed",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "We could even simplify these to:\r\n```suggestion\r\n    BOOST_CHECK(!miniscript::FromScript(nonminpush_script, wsh_converter));\r\n```\r\n(given that `*_EQUALS` wouldn't easily work)",
      "created_at": "2025-06-22T12:49:58Z",
      "updated_at": "2025-06-23T15:36:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2160336607",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2160336607"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 653,
      "original_line": 653,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2160336850",
      "pull_request_review_id": 2948159254,
      "id": 2160336850,
      "node_id": "PRRC_kwDOABII586AxB_S",
      "diff_hunk": "@@ -188,13 +188,6 @@ inline consteval Type operator\"\"_mst(const char* c, size_t l)\n \n using Opcode = std::pair<opcodetype, std::vector<unsigned char>>;\n \n-template<typename Key> struct Node;\n-template<typename Key> using NodeRef = std::unique_ptr<const Node<Key>>;\n-\n-//! Construct a miniscript node as a unique_ptr.\n-template<typename Key, typename... Args>",
      "path": "src/script/miniscript.h",
      "position": 8,
      "original_position": 8,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "5e4573adda107e6bfad6ba1afb417fdb4fdc81ed",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "commit 5e4573adda107e6bfad6ba1afb417fdb4fdc81ed is too big (especially compared to the rest), could we do it in smaller scripted diffs instead?",
      "created_at": "2025-06-22T12:50:43Z",
      "updated_at": "2025-06-23T15:36:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2160336850",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2160336850"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 195,
      "original_line": 195,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2160337340",
      "pull_request_review_id": 2948159254,
      "id": 2160337340,
      "node_id": "PRRC_kwDOABII586AxCG8",
      "diff_hunk": "@@ -523,25 +518,27 @@ struct Node {\n         while (!subs.empty()) {\n             auto node = std::move(subs.back());\n             subs.pop_back();\n-            while (!node->subs.empty()) {\n-                subs.push_back(std::move(node->subs.back()));\n-                node->subs.pop_back();\n+            while (!node.subs.empty()) {\n+                subs.emplace_back(std::move(node.subs.back()));",
      "path": "src/script/miniscript.h",
      "position": null,
      "original_position": 36,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "5e4573adda107e6bfad6ba1afb417fdb4fdc81ed",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "maybe we could do the `push_back` -> `emplace_back` changes in a separate commit.\r\nI'm not sure all of them make sense - does `emplace_back` have any advantage when [the objects are already built](https://medium.com/@its.me.siddh/modern-c-series-vector-push-back-or-emplace-back-e3a482ab4dcd)?\r\n\r\n<details>\r\n<summary>Details</summary>\r\n\r\n```patch\r\ndiff --git a/src/script/miniscript.h b/src/script/miniscript.h\r\nindex f99c9a8036..be1913b785 100644\r\n--- a/src/script/miniscript.h\r\n+++ b/src/script/miniscript.h\r\n@@ -519,7 +519,7 @@ struct Node {\r\n             auto node = std::move(subs.back());\r\n             subs.pop_back();\r\n             while (!node.subs.empty()) {\r\n-                subs.emplace_back(std::move(node.subs.back()));\r\n+                subs.push_back(std::move(node.subs.back()));\r\n                 node.subs.pop_back();\r\n             }\r\n         }\r\n@@ -534,7 +534,7 @@ struct Node {\r\n             for (auto& child : children) {\r\n                 // It's fine to move from children as they are new nodes having\r\n                 // been produced by calling this function one level down.\r\n-                new_subs.emplace_back(std::move(child));\r\n+                new_subs.push_back(std::move(child));\r\n             }\r\n             return Node{internal::NoDupCheck{}, node.m_script_ctx, node.fragment, std::move(new_subs), node.keys, node.data, node.k};\r\n         };\r\ndiff --git a/src/test/fuzz/miniscript.cpp b/src/test/fuzz/miniscript.cpp\r\nindex c9904583e5..743226c33f 100644\r\n--- a/src/test/fuzz/miniscript.cpp\r\n+++ b/src/test/fuzz/miniscript.cpp\r\n@@ -994,7 +994,7 @@ std::optional<Node> GenNode(MsCtx script_ctx, F ConsumeNode, Type root_type, boo\r\n                 return {};\r\n             }\r\n             // Move it to the stack.\r\n-            stack.emplace_back(std::move(*node));\r\n+            stack.push_back(std::move(*node));\r\n             todo.pop_back();\r\n         }\r\n     }\r\n```\r\n\r\n</details>",
      "created_at": "2025-06-22T12:52:16Z",
      "updated_at": "2025-06-23T15:36:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2160337340",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2160337340"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 522,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2160337661",
      "pull_request_review_id": 2948159254,
      "id": 2160337661,
      "node_id": "PRRC_kwDOABII586AxCL9",
      "diff_hunk": "@@ -1660,36 +1657,40 @@ struct Node {\n     bool operator==(const Node<Key>& arg) const { return Compare(*this, arg) == 0; }\n \n     // Constructors with various argument combinations, which bypass the duplicate key check.\n-    Node(internal::NoDupCheck, MiniscriptContext script_ctx, Fragment nt, std::vector<NodeRef<Key>> sub, std::vector<unsigned char> arg, uint32_t val = 0)\n+    Node(internal::NoDupCheck, MiniscriptContext script_ctx, Fragment nt, std::vector<Node<Key>> sub, std::vector<unsigned char> arg, uint32_t val = 0)\n         : fragment(nt), k(val), data(std::move(arg)), subs(std::move(sub)), m_script_ctx{script_ctx}, ops(CalcOps()), ss(CalcStackSize()), ws(CalcWitnessSize()), typ(CalcType()), scriptlen(CalcScriptLen()) {}\n     Node(internal::NoDupCheck, MiniscriptContext script_ctx, Fragment nt, std::vector<unsigned char> arg, uint32_t val = 0)\n         : fragment(nt), k(val), data(std::move(arg)), m_script_ctx{script_ctx}, ops(CalcOps()), ss(CalcStackSize()), ws(CalcWitnessSize()), typ(CalcType()), scriptlen(CalcScriptLen()) {}\n-    Node(internal::NoDupCheck, MiniscriptContext script_ctx, Fragment nt, std::vector<NodeRef<Key>> sub, std::vector<Key> key, uint32_t val = 0)\n+    Node(internal::NoDupCheck, MiniscriptContext script_ctx, Fragment nt, std::vector<Node<Key>> sub, std::vector<Key> key, uint32_t val = 0)\n         : fragment(nt), k(val), keys(std::move(key)), m_script_ctx{script_ctx}, subs(std::move(sub)), ops(CalcOps()), ss(CalcStackSize()), ws(CalcWitnessSize()), typ(CalcType()), scriptlen(CalcScriptLen()) {}\n     Node(internal::NoDupCheck, MiniscriptContext script_ctx, Fragment nt, std::vector<Key> key, uint32_t val = 0)\n         : fragment(nt), k(val), keys(std::move(key)), m_script_ctx{script_ctx}, ops(CalcOps()), ss(CalcStackSize()), ws(CalcWitnessSize()), typ(CalcType()), scriptlen(CalcScriptLen()) {}\n-    Node(internal::NoDupCheck, MiniscriptContext script_ctx, Fragment nt, std::vector<NodeRef<Key>> sub, uint32_t val = 0)\n+    Node(internal::NoDupCheck, MiniscriptContext script_ctx, Fragment nt, std::vector<Node<Key>> sub, uint32_t val = 0)\n         : fragment(nt), k(val), subs(std::move(sub)), m_script_ctx{script_ctx}, ops(CalcOps()), ss(CalcStackSize()), ws(CalcWitnessSize()), typ(CalcType()), scriptlen(CalcScriptLen()) {}\n     Node(internal::NoDupCheck, MiniscriptContext script_ctx, Fragment nt, uint32_t val = 0)\n         : fragment(nt), k(val), m_script_ctx{script_ctx}, ops(CalcOps()), ss(CalcStackSize()), ws(CalcWitnessSize()), typ(CalcType()), scriptlen(CalcScriptLen()) {}\n \n     // Constructors with various argument combinations, which do perform the duplicate key check.\n-    template <typename Ctx> Node(const Ctx& ctx, Fragment nt, std::vector<NodeRef<Key>> sub, std::vector<unsigned char> arg, uint32_t val = 0)\n+    template <typename Ctx> Node(const Ctx& ctx, Fragment nt, std::vector<Node<Key>> sub, std::vector<unsigned char> arg, uint32_t val = 0)\n         : Node(internal::NoDupCheck{}, ctx.MsContext(), nt, std::move(sub), std::move(arg), val) { DuplicateKeyCheck(ctx); }\n     template <typename Ctx> Node(const Ctx& ctx, Fragment nt, std::vector<unsigned char> arg, uint32_t val = 0)\n         : Node(internal::NoDupCheck{}, ctx.MsContext(), nt, std::move(arg), val) { DuplicateKeyCheck(ctx);}\n-    template <typename Ctx> Node(const Ctx& ctx, Fragment nt, std::vector<NodeRef<Key>> sub, std::vector<Key> key, uint32_t val = 0)\n+    template <typename Ctx> Node(const Ctx& ctx, Fragment nt, std::vector<Node<Key>> sub, std::vector<Key> key, uint32_t val = 0)\n         : Node(internal::NoDupCheck{}, ctx.MsContext(), nt, std::move(sub), std::move(key), val) { DuplicateKeyCheck(ctx); }\n     template <typename Ctx> Node(const Ctx& ctx, Fragment nt, std::vector<Key> key, uint32_t val = 0)\n         : Node(internal::NoDupCheck{}, ctx.MsContext(), nt, std::move(key), val) { DuplicateKeyCheck(ctx); }\n-    template <typename Ctx> Node(const Ctx& ctx, Fragment nt, std::vector<NodeRef<Key>> sub, uint32_t val = 0)\n+    template <typename Ctx> Node(const Ctx& ctx, Fragment nt, std::vector<Node<Key>> sub, uint32_t val = 0)\n         : Node(internal::NoDupCheck{}, ctx.MsContext(), nt, std::move(sub), val) { DuplicateKeyCheck(ctx); }\n     template <typename Ctx> Node(const Ctx& ctx, Fragment nt, uint32_t val = 0)\n         : Node(internal::NoDupCheck{}, ctx.MsContext(), nt, val) { DuplicateKeyCheck(ctx); }\n \n     // Delete copy constructor and assignment operator, use Clone() instead\n     Node(const Node&) = delete;\n     Node& operator=(const Node&) = delete;\n+\n+    // subs is movable, circumventing recursion, so these are permitted.\n+    Node(Node&&) = default;\n+    Node& operator=(Node&&) = default;",
      "path": "src/script/miniscript.h",
      "position": null,
      "original_position": 478,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "5e4573adda107e6bfad6ba1afb417fdb4fdc81ed",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Are these implicitly already `noexcept`? In other such cases we've made them explicit.",
      "created_at": "2025-06-22T12:53:33Z",
      "updated_at": "2025-06-23T15:36:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2160337661",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2160337661"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": 1692,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 1693,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2160344023",
      "pull_request_review_id": 2948159254,
      "id": 2160344023,
      "node_id": "PRRC_kwDOABII586AxDvX",
      "diff_hunk": "@@ -503,17 +503,17 @@ struct NoDupCheck {};\n template<typename Key>\n struct Node {\n     //! What node type this node is.\n-    const Fragment fragment;\n+    Fragment fragment;",
      "path": "src/script/miniscript.h",
      "position": 101,
      "original_position": 41,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "c04b7b490e0c63942000472ea9f918df326c5b00",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I don't mind removing the `const` from the privates in `Node`, but I'm not a fan of making the publics mutable...\r\nIt seems to me we could make them private if we move [`FindChallenges`](https://github.com/bitcoin/bitcoin/blob/5e4573adda107e6bfad6ba1afb417fdb4fdc81ed/src/test/miniscript_tests.cpp#L299-L324) over.\r\n\r\n<details>\r\n<summary>or add getters to the fields</summary>\r\n\r\n```patch\r\ndiff --git a/src/script/miniscript.h b/src/script/miniscript.h\r\nindex f99c9a8036..181a6614cf 100644\r\n--- a/src/script/miniscript.h\r\n+++ b/src/script/miniscript.h\r\n@@ -495,19 +495,6 @@ struct NoDupCheck {};\r\n //! A node in a miniscript expression.\r\n template<typename Key>\r\n struct Node {\r\n-    //! What node type this node is.\r\n-    Fragment fragment;\r\n-    //! The k parameter (time for OLDER/AFTER, threshold for THRESH(_M))\r\n-    uint32_t k = 0;\r\n-    //! The keys used by this expression (only for PK_K/PK_H/MULTI)\r\n-    std::vector<Key> keys;\r\n-    //! The data bytes in this expression (only for HASH160/HASH256/SHA256/RIPEMD160).\r\n-    std::vector<unsigned char> data;\r\n-    //! Subexpressions (for WRAP_*/AND_*/OR_*/ANDOR/THRESH)\r\n-    std::vector<Node> subs;\r\n-    //! The Script context for this node. Either P2WSH or Tapscript.\r\n-    MiniscriptContext m_script_ctx;\r\n-\r\n     // Permit 1 level deep recursion since we own instances of our own type.\r\n     // NOLINTBEGIN(misc-no-recursion)\r\n     ~Node()\r\n@@ -541,7 +528,26 @@ struct Node {\r\n         return TreeEval<Node>(upfn);\r\n     }\r\n \r\n+    Fragment GetFragment() const noexcept { return fragment; }\r\n+    uint32_t GetK() const noexcept { return k; }\r\n+    std::span<const Key> GetKeys() const noexcept { return keys; }\r\n+    std::span<const unsigned char> GetData() const noexcept { return data; }\r\n+    std::span<const Node> GetSubs() const noexcept { return subs; }\r\n+\r\n private:\r\n+    //! What node type this node is.\r\n+    Fragment fragment;\r\n+    //! The k parameter (time for OLDER/AFTER, threshold for THRESH(_M))\r\n+    uint32_t k = 0;\r\n+    //! The keys used by this expression (only for PK_K/PK_H/MULTI)\r\n+    std::vector<Key> keys;\r\n+    //! The data bytes in this expression (only for HASH160/HASH256/SHA256/RIPEMD160).\r\n+    std::vector<unsigned char> data;\r\n+    //! Subexpressions (for WRAP_*/AND_*/OR_*/ANDOR/THRESH)\r\n+    std::vector<Node> subs;\r\n+    //! The Script context for this node. Either P2WSH or Tapscript.\r\n+    MiniscriptContext m_script_ctx;\r\n+\r\n     //! Cached ops counts.\r\n     internal::Ops ops;\r\n     //! Cached stack size bounds.\r\ndiff --git a/src/test/miniscript_tests.cpp b/src/test/miniscript_tests.cpp\r\nindex cee88373c4..8a5a54b0bf 100644\r\n--- a/src/test/miniscript_tests.cpp\r\n+++ b/src/test/miniscript_tests.cpp\r\n@@ -121,7 +121,7 @@ enum class ChallengeType {\r\n  * For hashes it's just the first 4 bytes of the hash. For pubkeys, it's the last 4 bytes.\r\n  */\r\n uint32_t ChallengeNumber(const CPubKey& pubkey) { return ReadLE32(pubkey.data() + 29); }\r\n-uint32_t ChallengeNumber(const std::vector<unsigned char>& hash) { return ReadLE32(hash.data()); }\r\n+uint32_t ChallengeNumber(std::span<const unsigned char> hash) { return ReadLE32(hash.data()); }\r\n \r\n //! A Challenge is a combination of type of leaf condition and its challenge number.\r\n typedef std::pair<ChallengeType, uint32_t> Challenge;\r\n@@ -304,19 +304,19 @@ std::set<Challenge> FindChallenges(const Node& root)\r\n         const auto* ref{stack.back()};\r\n         stack.pop_back();\r\n \r\n-        for (const auto& key : ref->keys) {\r\n+        for (const auto& key : ref->GetKeys()) {\r\n             chal.emplace(ChallengeType::PK, ChallengeNumber(key));\r\n         }\r\n-        switch (ref->fragment) {\r\n-        case Fragment::OLDER: chal.emplace(ChallengeType::OLDER, ref->k); break;\r\n-        case Fragment::AFTER: chal.emplace(ChallengeType::AFTER, ref->k); break;\r\n-        case Fragment::SHA256: chal.emplace(ChallengeType::SHA256, ChallengeNumber(ref->data)); break;\r\n-        case Fragment::RIPEMD160: chal.emplace(ChallengeType::RIPEMD160, ChallengeNumber(ref->data)); break;\r\n-        case Fragment::HASH256: chal.emplace(ChallengeType::HASH256, ChallengeNumber(ref->data)); break;\r\n-        case Fragment::HASH160: chal.emplace(ChallengeType::HASH160, ChallengeNumber(ref->data)); break;\r\n+        switch (ref->GetFragment()) {\r\n+        case Fragment::OLDER: chal.emplace(ChallengeType::OLDER, ref->GetK()); break;\r\n+        case Fragment::AFTER: chal.emplace(ChallengeType::AFTER, ref->GetK()); break;\r\n+        case Fragment::SHA256: chal.emplace(ChallengeType::SHA256, ChallengeNumber(ref->GetData())); break;\r\n+        case Fragment::RIPEMD160: chal.emplace(ChallengeType::RIPEMD160, ChallengeNumber(ref->GetData())); break;\r\n+        case Fragment::HASH256: chal.emplace(ChallengeType::HASH256, ChallengeNumber(ref->GetData())); break;\r\n+        case Fragment::HASH160: chal.emplace(ChallengeType::HASH160, ChallengeNumber(ref->GetData())); break;\r\n         default: break;\r\n         }\r\n-        for (const auto& sub : ref->subs) {\r\n+        for (const auto& sub : ref->GetSubs()) {\r\n             stack.push_back(&sub);\r\n         }\r\n     }\r\n```\r\n\r\n</details>",
      "created_at": "2025-06-22T13:16:11Z",
      "updated_at": "2025-06-23T15:36:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2160344023",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2160344023"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 516,
      "original_line": 516,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2161634475",
      "pull_request_review_id": 2948159254,
      "id": 2161634475,
      "node_id": "PRRC_kwDOABII586A1-yr",
      "diff_hunk": "@@ -503,56 +496,62 @@ struct NoDupCheck {};\n template<typename Key>\n struct Node {\n     //! What node type this node is.\n-    const Fragment fragment;\n+    Fragment fragment;\n     //! The k parameter (time for OLDER/AFTER, threshold for THRESH(_M))\n-    const uint32_t k = 0;\n+    uint32_t k = 0;\n     //! The keys used by this expression (only for PK_K/PK_H/MULTI)\n-    const std::vector<Key> keys;\n-    //! The data bytes in this expression (only for HASH160/HASH256/SHA256/RIPEMD10).\n-    const std::vector<unsigned char> data;\n+    std::vector<Key> keys;\n+    //! The data bytes in this expression (only for HASH160/HASH256/SHA256/RIPEMD160).\n+    std::vector<unsigned char> data;\n     //! Subexpressions (for WRAP_*/AND_*/OR_*/ANDOR/THRESH)\n-    mutable std::vector<NodeRef<Key>> subs;\n+    std::vector<Node> subs;\n     //! The Script context for this node. Either P2WSH or Tapscript.\n-    const MiniscriptContext m_script_ctx;\n+    MiniscriptContext m_script_ctx;\n \n-    /* Destroy the shared pointers iteratively to avoid a stack-overflow due to recursive calls\n-     * to the subs' destructors. */\n-    ~Node() {\n+    // Permit 1 level deep recursion since we own instances of our own type.\n+    // NOLINTBEGIN(misc-no-recursion)\n+    ~Node()\n+    {\n+        // Destroy the subexpressions iteratively after moving out their\n+        // subexpressions to avoid a stack-overflow due to recursive calls to\n+        // the subs' destructors.\n         while (!subs.empty()) {\n             auto node = std::move(subs.back());\n             subs.pop_back();\n-            while (!node->subs.empty()) {\n-                subs.push_back(std::move(node->subs.back()));\n-                node->subs.pop_back();\n+            while (!node.subs.empty()) {\n+                subs.emplace_back(std::move(node.subs.back()));\n+                node.subs.pop_back();\n             }\n         }\n     }\n+    // NOLINTEND(misc-no-recursion)\n \n-    NodeRef<Key> Clone() const\n+    Node<Key> Clone() const\n     {\n         // Use TreeEval() to avoid a stack-overflow due to recursion\n-        auto upfn = [](const Node& node, std::span<NodeRef<Key>> children) {\n-            std::vector<NodeRef<Key>> new_subs;\n-            for (auto child = children.begin(); child != children.end(); ++child) {\n-                new_subs.emplace_back(std::move(*child));\n+        auto upfn = [](const Node& node, std::span<Node> children) {\n+            std::vector<Node> new_subs;\n+            for (auto& child : children) {\n+                // It's fine to move from children as they are new nodes having\n+                // been produced by calling this function one level down.\n+                new_subs.emplace_back(std::move(child));\n             }\n-            // std::make_unique (and therefore MakeNodeRef) doesn't work on private constructors\n-            return std::unique_ptr<Node>{new Node{internal::NoDupCheck{}, node.m_script_ctx, node.fragment, std::move(new_subs), node.keys, node.data, node.k}};\n+            return Node{internal::NoDupCheck{}, node.m_script_ctx, node.fragment, std::move(new_subs), node.keys, node.data, node.k};\n         };\n-        return TreeEval<NodeRef<Key>>(upfn);\n+        return TreeEval<Node>(upfn);\n     }\n \n private:\n     //! Cached ops counts.\n-    const internal::Ops ops;\n+    internal::Ops ops;\n     //! Cached stack size bounds.\n-    const internal::StackSize ss;\n+    internal::StackSize ss;\n     //! Cached witness size bounds.\n-    const internal::WitnessSize ws;\n+    internal::WitnessSize ws;\n     //! Cached expression type (computed by CalcType and fed through SanitizeType).\n-    const Type typ;\n+    Type typ;\n     //! Cached script length (computed by CalcScriptLen).\n-    const size_t scriptlen;\n+    size_t scriptlen;\n     //! Whether a public key appears more than once in this node. This value is initialized\n     //! by all constructors except the NoDupCheck ones. The NoDupCheck ones skip the\n     //! computation, requiring it to be done manually by invoking DuplicateKeyCheck().",
      "path": "src/script/miniscript.h",
      "position": 194,
      "original_position": 138,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "5e4573adda107e6bfad6ba1afb417fdb4fdc81ed",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I wish we could remove the `mutable` from `std::optional<bool> has_duplicate_keys` as well since `auto upfn = [&ctx](const Node& node` promises more than it can deliver - but it seems we would need to touch a lot of declarations - I'll let you decide if there's anything to do here.\r\n\r\nIf nothing else, we should at least cover it with tests: https://maflcko.github.io/b-c-cov/total.coverage/src/script/miniscript.h.gcov.html#L1464",
      "created_at": "2025-06-23T13:25:25Z",
      "updated_at": "2025-06-23T15:36:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2161634475",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2161634475"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 580,
      "original_line": 580,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2161695989",
      "pull_request_review_id": 2948159254,
      "id": 2161695989,
      "node_id": "PRRC_kwDOABII586A2Nz1",
      "diff_hunk": "@@ -346,9 +345,10 @@ void SatisfactionToWitness(miniscript::MiniscriptContext ctx, CScriptWitness& wi\n \n struct MiniScriptTest : BasicTestingSetup {\n /** Run random satisfaction tests. */\n-void TestSatisfy(const KeyConverter& converter, const std::string& testcase, const NodeRef& node) {\n-    auto script = node->ToScript(converter);\n-    const auto challenges{FindChallenges(node.get())}; // Find all challenges in the generated miniscript.\n+void TestSatisfy(const KeyConverter& converter, const std::string& testcase, const Node& node)",
      "path": "src/test/miniscript_tests.cpp",
      "position": null,
      "original_position": 35,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "5e4573adda107e6bfad6ba1afb417fdb4fdc81ed",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Is `testcase` here for debugging purposes only? Seems unused...",
      "created_at": "2025-06-23T13:53:05Z",
      "updated_at": "2025-06-23T15:36:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2161695989",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2161695989"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 348,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2161874319",
      "pull_request_review_id": 2948159254,
      "id": 2161874319,
      "node_id": "PRRC_kwDOABII586A25WP",
      "diff_hunk": "@@ -349,8 +342,8 @@ struct InputResult {\n //! Class whose objects represent the maximum of a list of integers.\n template<typename I>\n struct MaxInt {\n-    const bool valid;\n-    const I value;\n+    bool valid;\n+    I value;",
      "path": "src/script/miniscript.h",
      "position": 26,
      "original_position": 21,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "5e4573adda107e6bfad6ba1afb417fdb4fdc81ed",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "can we make these private or friend now that they're exposed?",
      "created_at": "2025-06-23T15:14:33Z",
      "updated_at": "2025-06-23T15:36:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2161874319",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2161874319"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": 346,
      "original_start_line": 345,
      "start_side": "RIGHT",
      "line": 347,
      "original_line": 347,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2161874482",
      "pull_request_review_id": 2948159254,
      "id": 2161874482,
      "node_id": "PRRC_kwDOABII586A25Yy",
      "diff_hunk": "@@ -421,11 +414,11 @@ struct Ops {\n  */\n struct SatInfo {\n     //! Whether a canonical satisfaction/dissatisfaction is possible at all.\n-    const bool valid;\n+    bool valid;",
      "path": "src/script/miniscript.h",
      "position": 47,
      "original_position": 30,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "5e4573adda107e6bfad6ba1afb417fdb4fdc81ed",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "same",
      "created_at": "2025-06-23T15:14:39Z",
      "updated_at": "2025-06-23T15:36:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2161874482",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2161874482"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 423,
      "original_line": 423,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2161887437",
      "pull_request_review_id": 2948159254,
      "id": 2161887437,
      "node_id": "PRRC_kwDOABII586A28jN",
      "diff_hunk": "@@ -2048,40 +2051,40 @@ inline NodeRef<Key> Parse(std::span<const char> in, const Ctx& ctx)\n             break;\n         }\n         case ParseContext::ALT: {\n-            constructed.back() = MakeNodeRef<Key>(internal::NoDupCheck{}, ctx.MsContext(), Fragment::WRAP_A, Vector(std::move(constructed.back())));\n+            constructed.back() = Node{internal::NoDupCheck{}, ctx.MsContext(), Fragment::WRAP_A, Vector(std::move(constructed.back()))};\n             break;\n         }\n         case ParseContext::SWAP: {\n-            constructed.back() = MakeNodeRef<Key>(internal::NoDupCheck{}, ctx.MsContext(), Fragment::WRAP_S, Vector(std::move(constructed.back())));\n+            constructed.back() = Node{internal::NoDupCheck{}, ctx.MsContext(), Fragment::WRAP_S, Vector(std::move(constructed.back()))};\n             break;\n         }\n         case ParseContext::CHECK: {\n-            constructed.back() = MakeNodeRef<Key>(internal::NoDupCheck{}, ctx.MsContext(), Fragment::WRAP_C, Vector(std::move(constructed.back())));\n+            constructed.back() = Node{internal::NoDupCheck{}, ctx.MsContext(), Fragment::WRAP_C, Vector(std::move(constructed.back()))};\n             break;\n         }\n         case ParseContext::DUP_IF: {\n-            constructed.back() = MakeNodeRef<Key>(internal::NoDupCheck{}, ctx.MsContext(), Fragment::WRAP_D, Vector(std::move(constructed.back())));\n+            constructed.back() = Node{internal::NoDupCheck{}, ctx.MsContext(), Fragment::WRAP_D, Vector(std::move(constructed.back()))};\n             break;\n         }\n         case ParseContext::NON_ZERO: {\n-            constructed.back() = MakeNodeRef<Key>(internal::NoDupCheck{}, ctx.MsContext(), Fragment::WRAP_J, Vector(std::move(constructed.back())));\n+            constructed.back() = Node{internal::NoDupCheck{}, ctx.MsContext(), Fragment::WRAP_J, Vector(std::move(constructed.back()))};\n             break;\n         }\n         case ParseContext::ZERO_NOTEQUAL: {\n-            constructed.back() = MakeNodeRef<Key>(internal::NoDupCheck{}, ctx.MsContext(), Fragment::WRAP_N, Vector(std::move(constructed.back())));\n+            constructed.back() = Node{internal::NoDupCheck{}, ctx.MsContext(), Fragment::WRAP_N, Vector(std::move(constructed.back()))};\n             break;\n         }\n         case ParseContext::VERIFY: {\n-            script_size += (constructed.back()->GetType() << \"x\"_mst);\n-            constructed.back() = MakeNodeRef<Key>(internal::NoDupCheck{}, ctx.MsContext(), Fragment::WRAP_V, Vector(std::move(constructed.back())));\n+            script_size += (constructed.back().GetType() << \"x\"_mst);\n+            constructed.back() = Node{internal::NoDupCheck{}, ctx.MsContext(), Fragment::WRAP_V, Vector(std::move(constructed.back()))};\n             break;\n         }\n         case ParseContext::WRAP_U: {\n-            constructed.back() = MakeNodeRef<Key>(internal::NoDupCheck{}, ctx.MsContext(), Fragment::OR_I, Vector(std::move(constructed.back()), MakeNodeRef<Key>(internal::NoDupCheck{}, ctx.MsContext(), Fragment::JUST_0)));\n+            constructed.back() = Node{internal::NoDupCheck{}, ctx.MsContext(), Fragment::OR_I, Vector(std::move(constructed.back()), Node<Key>(internal::NoDupCheck{}, ctx.MsContext(), Fragment::JUST_0))};\n             break;\n         }\n         case ParseContext::WRAP_T: {\n-            constructed.back() = MakeNodeRef<Key>(internal::NoDupCheck{}, ctx.MsContext(), Fragment::AND_V, Vector(std::move(constructed.back()), MakeNodeRef<Key>(internal::NoDupCheck{}, ctx.MsContext(), Fragment::JUST_1)));\n+            constructed.back() = Node{internal::NoDupCheck{}, ctx.MsContext(), Fragment::AND_V, Vector(std::move(constructed.back()), Node<Key>(internal::NoDupCheck{}, ctx.MsContext(), Fragment::JUST_1))};",
      "path": "src/script/miniscript.h",
      "position": null,
      "original_position": 752,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "5e4573adda107e6bfad6ba1afb417fdb4fdc81ed",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "ðŸ‘ for using the alias - but as mentioned before, there are too many changes in this commit, could you do these in smaller, more focused commits instead?",
      "created_at": "2025-06-23T15:20:52Z",
      "updated_at": "2025-06-23T15:36:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2161887437",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2161887437"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2087,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2161891082",
      "pull_request_review_id": 2948159254,
      "id": 2161891082,
      "node_id": "PRRC_kwDOABII586A29cK",
      "diff_hunk": "@@ -961,24 +956,24 @@ NodeRef GenNode(MsCtx script_ctx, F ConsumeNode, Type root_type, bool strict_val\n         } else {\n             // The back of todo has fragment and number of children decided, and\n             // those children have been constructed at the back of stack. Pop\n-            // that entry off todo, and use it to construct a new NodeRef on\n+            // that entry off todo, and use it to construct a new Node on\n             // stack.\n             NodeInfo& info = *todo.back().second;\n             // Gather children from the back of stack.\n-            std::vector<NodeRef> sub;\n+            std::vector<Node> sub;\n             sub.reserve(info.subtypes.size());\n             for (size_t i = 0; i < info.subtypes.size(); ++i) {\n                 sub.push_back(std::move(*(stack.end() - info.subtypes.size() + i)));\n             }\n             stack.erase(stack.end() - info.subtypes.size(), stack.end());\n-            // Construct new NodeRef.\n-            NodeRef node;\n+            // Construct new Node.",
      "path": "src/test/fuzz/miniscript.cpp",
      "position": 63,
      "original_position": 62,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "5e4573adda107e6bfad6ba1afb417fdb4fdc81ed",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "comment is redundant",
      "created_at": "2025-06-23T15:22:36Z",
      "updated_at": "2025-06-23T15:36:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2161891082",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2161891082"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 969,
      "original_line": 969,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2161892692",
      "pull_request_review_id": 2948159254,
      "id": 2161892692,
      "node_id": "PRRC_kwDOABII586A291U",
      "diff_hunk": "@@ -961,24 +956,24 @@ NodeRef GenNode(MsCtx script_ctx, F ConsumeNode, Type root_type, bool strict_val\n         } else {\n             // The back of todo has fragment and number of children decided, and\n             // those children have been constructed at the back of stack. Pop\n-            // that entry off todo, and use it to construct a new NodeRef on\n+            // that entry off todo, and use it to construct a new Node on\n             // stack.\n             NodeInfo& info = *todo.back().second;\n             // Gather children from the back of stack.\n-            std::vector<NodeRef> sub;\n+            std::vector<Node> sub;\n             sub.reserve(info.subtypes.size());\n             for (size_t i = 0; i < info.subtypes.size(); ++i) {\n                 sub.push_back(std::move(*(stack.end() - info.subtypes.size() + i)));\n             }\n             stack.erase(stack.end() - info.subtypes.size(), stack.end());\n-            // Construct new NodeRef.\n-            NodeRef node;\n+            // Construct new Node.\n+            std::optional<Node> node;\n             if (info.keys.empty()) {\n-                node = MakeNodeRef(script_ctx, info.fragment, std::move(sub), std::move(info.hash), info.k);\n+                node = Node{miniscript::internal::NoDupCheck{}, script_ctx, info.fragment, std::move(sub), std::move(info.hash), info.k};",
      "path": "src/test/fuzz/miniscript.cpp",
      "position": 67,
      "original_position": 66,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "5e4573adda107e6bfad6ba1afb417fdb4fdc81ed",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I would inline this in a separate commit, it's non-trivial",
      "created_at": "2025-06-23T15:23:22Z",
      "updated_at": "2025-06-23T15:36:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2161892692",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2161892692"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 972,
      "original_line": 972,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2163090187",
      "pull_request_review_id": 2952377149,
      "id": 2163090187,
      "node_id": "PRRC_kwDOABII586A7iML",
      "diff_hunk": "@@ -515,9 +515,11 @@ struct Node {\n     //! The Script context for this node. Either P2WSH or Tapscript.\n     const MiniscriptContext m_script_ctx;\n \n-    /* Destroy the shared pointers iteratively to avoid a stack-overflow due to recursive calls",
      "path": "src/script/miniscript.h",
      "position": 118,
      "original_position": 4,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "db2ede082836fe27ddae62e6e6e6803aa92ee45b",
      "in_reply_to_id": 2160319454,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Added to reference in commit message.",
      "created_at": "2025-06-24T06:43:47Z",
      "updated_at": "2025-06-24T19:23:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2163090187",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2163090187"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 518,
      "original_line": 518,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2163180665",
      "pull_request_review_id": 2952377149,
      "id": 2163180665,
      "node_id": "PRRC_kwDOABII586A74R5",
      "diff_hunk": "@@ -650,13 +650,13 @@ BOOST_AUTO_TEST_CASE(fixed_tests)\n     // A Script with a non minimal push is invalid\n     constexpr auto nonminpush{\"0000210232780000feff00ffffffffffff21ff005f00ae21ae00000000060602060406564c2102320000060900fe00005f00ae21ae00100000060606060606000000000000000000000000000000000000000000000000000000000000000000\"_hex_u8};\n     const CScript nonminpush_script(nonminpush.begin(), nonminpush.end());\n-    BOOST_CHECK(miniscript::FromScript(nonminpush_script, wsh_converter) == nullptr);\n-    BOOST_CHECK(miniscript::FromScript(nonminpush_script, tap_converter) == nullptr);\n+    BOOST_CHECK(miniscript::FromScript(nonminpush_script, wsh_converter) == std::nullopt);",
      "path": "src/test/miniscript_tests.cpp",
      "position": 166,
      "original_position": 148,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "5e4573adda107e6bfad6ba1afb417fdb4fdc81ed",
      "in_reply_to_id": 2160336607,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Was doing that in earlier pushes of the PR but changed back to `!= nullopt` since it disambiguates pointer/optional cases and is closer to master.",
      "created_at": "2025-06-24T07:34:35Z",
      "updated_at": "2025-06-24T19:23:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2163180665",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2163180665"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 653,
      "original_line": 653,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2163825798",
      "pull_request_review_id": 2952377149,
      "id": 2163825798,
      "node_id": "PRRC_kwDOABII586A-VyG",
      "diff_hunk": "@@ -515,9 +515,11 @@ struct Node {\n     //! The Script context for this node. Either P2WSH or Tapscript.\n     const MiniscriptContext m_script_ctx;\n \n-    /* Destroy the shared pointers iteratively to avoid a stack-overflow due to recursive calls\n-     * to the subs' destructors. */\n-    ~Node() {\n+    ~Node()\n+    {\n+        // Destroy the subexpressions iteratively after moving out their\n+        // subexpressions to avoid a stack-overflow due to recursive calls to\n+        // the subs' destructors.",
      "path": "src/script/miniscript.h",
      "position": 136,
      "original_position": 11,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "db2ede082836fe27ddae62e6e6e6803aa92ee45b",
      "in_reply_to_id": 2160320908,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks for the test! Added as the last commit (78db9e119136154bd733c95fc6379c780703234a). Had to increase the depth from `100'000` to `1000'000` for it to cause stack overflow. Could simplify `Clone()`ing.\r\n\r\n> so this basically flattens out the tree structure to make sure the desctructor's call stack has at most 1 indirection? Would `TreeEval` complicate this too much?\r\n\r\nI've brought back an earlier version of the destructor I had that destroys entire `vector<Node>`s at once in a separate commit (106d6937372ce62ccebf5d2c019381a337681826). If that doesn't satisfy I'm happy to see a `TreeEval`-version.",
      "created_at": "2025-06-24T12:17:20Z",
      "updated_at": "2025-06-24T19:23:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2163825798",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2163825798"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 535,
      "original_line": 535,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2163833758",
      "pull_request_review_id": 2952377149,
      "id": 2163833758,
      "node_id": "PRRC_kwDOABII586A-Xue",
      "diff_hunk": "@@ -515,9 +515,11 @@ struct Node {\n     //! The Script context for this node. Either P2WSH or Tapscript.\n     const MiniscriptContext m_script_ctx;\n \n-    /* Destroy the shared pointers iteratively to avoid a stack-overflow due to recursive calls\n-     * to the subs' destructors. */\n-    ~Node() {\n+    ~Node()\n+    {\n+        // Destroy the subexpressions iteratively after moving out their\n+        // subexpressions to avoid a stack-overflow due to recursive calls to\n+        // the subs' destructors.\n         while (!subs.empty()) {\n             auto node = std::move(subs.back());\n             subs.pop_back();",
      "path": "src/script/miniscript.h",
      "position": null,
      "original_position": 14,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "db2ede082836fe27ddae62e6e6e6803aa92ee45b",
      "in_reply_to_id": 2160322647,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I prefer moving whole `vector`s. See reply to https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2160320908.",
      "created_at": "2025-06-24T12:19:28Z",
      "updated_at": "2025-06-24T19:23:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2163833758",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2163833758"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 525,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2163836697",
      "pull_request_review_id": 2952377149,
      "id": 2163836697,
      "node_id": "PRRC_kwDOABII586A-YcZ",
      "diff_hunk": "@@ -503,17 +503,17 @@ struct NoDupCheck {};\n template<typename Key>\n struct Node {\n     //! What node type this node is.\n-    const Fragment fragment;\n+    Fragment fragment;\n     //! The k parameter (time for OLDER/AFTER, threshold for THRESH(_M))\n-    const uint32_t k = 0;\n+    uint32_t k = 0;\n     //! The keys used by this expression (only for PK_K/PK_H/MULTI)\n-    const std::vector<Key> keys;\n-    //! The data bytes in this expression (only for HASH160/HASH256/SHA256/RIPEMD10).\n-    const std::vector<unsigned char> data;\n+    std::vector<Key> keys;\n+    //! The data bytes in this expression (only for HASH160/HASH256/SHA256/RIPEMD160).\n+    std::vector<unsigned char> data;\n     //! Subexpressions (for WRAP_*/AND_*/OR_*/ANDOR/THRESH)\n     mutable std::vector<NodeRef<Key>> subs;",
      "path": "src/script/miniscript.h",
      "position": null,
      "original_position": 53,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "c04b7b490e0c63942000472ea9f918df326c5b00",
      "in_reply_to_id": 2160335156,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "It got a bit complicated since `NodeRef` is internally `const` (`std::unique_ptr<const Node<Key>>`). Did it as a separate commit for now: effcf701474eacd85a24da4d1707120fc756aa91.",
      "created_at": "2025-06-24T12:20:28Z",
      "updated_at": "2025-06-24T19:27:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2163836697",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2163836697"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 514,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2163872886",
      "pull_request_review_id": 2952377149,
      "id": 2163872886,
      "node_id": "PRRC_kwDOABII586A-hR2",
      "diff_hunk": "@@ -1660,36 +1657,40 @@ struct Node {\n     bool operator==(const Node<Key>& arg) const { return Compare(*this, arg) == 0; }\n \n     // Constructors with various argument combinations, which bypass the duplicate key check.\n-    Node(internal::NoDupCheck, MiniscriptContext script_ctx, Fragment nt, std::vector<NodeRef<Key>> sub, std::vector<unsigned char> arg, uint32_t val = 0)\n+    Node(internal::NoDupCheck, MiniscriptContext script_ctx, Fragment nt, std::vector<Node<Key>> sub, std::vector<unsigned char> arg, uint32_t val = 0)\n         : fragment(nt), k(val), data(std::move(arg)), subs(std::move(sub)), m_script_ctx{script_ctx}, ops(CalcOps()), ss(CalcStackSize()), ws(CalcWitnessSize()), typ(CalcType()), scriptlen(CalcScriptLen()) {}\n     Node(internal::NoDupCheck, MiniscriptContext script_ctx, Fragment nt, std::vector<unsigned char> arg, uint32_t val = 0)\n         : fragment(nt), k(val), data(std::move(arg)), m_script_ctx{script_ctx}, ops(CalcOps()), ss(CalcStackSize()), ws(CalcWitnessSize()), typ(CalcType()), scriptlen(CalcScriptLen()) {}\n-    Node(internal::NoDupCheck, MiniscriptContext script_ctx, Fragment nt, std::vector<NodeRef<Key>> sub, std::vector<Key> key, uint32_t val = 0)\n+    Node(internal::NoDupCheck, MiniscriptContext script_ctx, Fragment nt, std::vector<Node<Key>> sub, std::vector<Key> key, uint32_t val = 0)\n         : fragment(nt), k(val), keys(std::move(key)), m_script_ctx{script_ctx}, subs(std::move(sub)), ops(CalcOps()), ss(CalcStackSize()), ws(CalcWitnessSize()), typ(CalcType()), scriptlen(CalcScriptLen()) {}\n     Node(internal::NoDupCheck, MiniscriptContext script_ctx, Fragment nt, std::vector<Key> key, uint32_t val = 0)\n         : fragment(nt), k(val), keys(std::move(key)), m_script_ctx{script_ctx}, ops(CalcOps()), ss(CalcStackSize()), ws(CalcWitnessSize()), typ(CalcType()), scriptlen(CalcScriptLen()) {}\n-    Node(internal::NoDupCheck, MiniscriptContext script_ctx, Fragment nt, std::vector<NodeRef<Key>> sub, uint32_t val = 0)\n+    Node(internal::NoDupCheck, MiniscriptContext script_ctx, Fragment nt, std::vector<Node<Key>> sub, uint32_t val = 0)\n         : fragment(nt), k(val), subs(std::move(sub)), m_script_ctx{script_ctx}, ops(CalcOps()), ss(CalcStackSize()), ws(CalcWitnessSize()), typ(CalcType()), scriptlen(CalcScriptLen()) {}\n     Node(internal::NoDupCheck, MiniscriptContext script_ctx, Fragment nt, uint32_t val = 0)\n         : fragment(nt), k(val), m_script_ctx{script_ctx}, ops(CalcOps()), ss(CalcStackSize()), ws(CalcWitnessSize()), typ(CalcType()), scriptlen(CalcScriptLen()) {}\n \n     // Constructors with various argument combinations, which do perform the duplicate key check.\n-    template <typename Ctx> Node(const Ctx& ctx, Fragment nt, std::vector<NodeRef<Key>> sub, std::vector<unsigned char> arg, uint32_t val = 0)\n+    template <typename Ctx> Node(const Ctx& ctx, Fragment nt, std::vector<Node<Key>> sub, std::vector<unsigned char> arg, uint32_t val = 0)\n         : Node(internal::NoDupCheck{}, ctx.MsContext(), nt, std::move(sub), std::move(arg), val) { DuplicateKeyCheck(ctx); }\n     template <typename Ctx> Node(const Ctx& ctx, Fragment nt, std::vector<unsigned char> arg, uint32_t val = 0)\n         : Node(internal::NoDupCheck{}, ctx.MsContext(), nt, std::move(arg), val) { DuplicateKeyCheck(ctx);}\n-    template <typename Ctx> Node(const Ctx& ctx, Fragment nt, std::vector<NodeRef<Key>> sub, std::vector<Key> key, uint32_t val = 0)\n+    template <typename Ctx> Node(const Ctx& ctx, Fragment nt, std::vector<Node<Key>> sub, std::vector<Key> key, uint32_t val = 0)\n         : Node(internal::NoDupCheck{}, ctx.MsContext(), nt, std::move(sub), std::move(key), val) { DuplicateKeyCheck(ctx); }\n     template <typename Ctx> Node(const Ctx& ctx, Fragment nt, std::vector<Key> key, uint32_t val = 0)\n         : Node(internal::NoDupCheck{}, ctx.MsContext(), nt, std::move(key), val) { DuplicateKeyCheck(ctx); }\n-    template <typename Ctx> Node(const Ctx& ctx, Fragment nt, std::vector<NodeRef<Key>> sub, uint32_t val = 0)\n+    template <typename Ctx> Node(const Ctx& ctx, Fragment nt, std::vector<Node<Key>> sub, uint32_t val = 0)\n         : Node(internal::NoDupCheck{}, ctx.MsContext(), nt, std::move(sub), val) { DuplicateKeyCheck(ctx); }\n     template <typename Ctx> Node(const Ctx& ctx, Fragment nt, uint32_t val = 0)\n         : Node(internal::NoDupCheck{}, ctx.MsContext(), nt, val) { DuplicateKeyCheck(ctx); }\n \n     // Delete copy constructor and assignment operator, use Clone() instead\n     Node(const Node&) = delete;\n     Node& operator=(const Node&) = delete;\n+\n+    // subs is movable, circumventing recursion, so these are permitted.\n+    Node(Node&&) = default;\n+    Node& operator=(Node&&) = default;",
      "path": "src/script/miniscript.h",
      "position": null,
      "original_position": 478,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "5e4573adda107e6bfad6ba1afb417fdb4fdc81ed",
      "in_reply_to_id": 2160337661,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Probably not implicit, added for good measure.",
      "created_at": "2025-06-24T12:35:16Z",
      "updated_at": "2025-06-24T19:23:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2163872886",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2163872886"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": 1692,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 1693,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2163882445",
      "pull_request_review_id": 2952377149,
      "id": 2163882445,
      "node_id": "PRRC_kwDOABII586A-jnN",
      "diff_hunk": "@@ -503,56 +496,62 @@ struct NoDupCheck {};\n template<typename Key>\n struct Node {\n     //! What node type this node is.\n-    const Fragment fragment;\n+    Fragment fragment;\n     //! The k parameter (time for OLDER/AFTER, threshold for THRESH(_M))\n-    const uint32_t k = 0;\n+    uint32_t k = 0;\n     //! The keys used by this expression (only for PK_K/PK_H/MULTI)\n-    const std::vector<Key> keys;\n-    //! The data bytes in this expression (only for HASH160/HASH256/SHA256/RIPEMD10).\n-    const std::vector<unsigned char> data;\n+    std::vector<Key> keys;\n+    //! The data bytes in this expression (only for HASH160/HASH256/SHA256/RIPEMD160).\n+    std::vector<unsigned char> data;\n     //! Subexpressions (for WRAP_*/AND_*/OR_*/ANDOR/THRESH)\n-    mutable std::vector<NodeRef<Key>> subs;\n+    std::vector<Node> subs;\n     //! The Script context for this node. Either P2WSH or Tapscript.\n-    const MiniscriptContext m_script_ctx;\n+    MiniscriptContext m_script_ctx;\n \n-    /* Destroy the shared pointers iteratively to avoid a stack-overflow due to recursive calls\n-     * to the subs' destructors. */\n-    ~Node() {\n+    // Permit 1 level deep recursion since we own instances of our own type.\n+    // NOLINTBEGIN(misc-no-recursion)\n+    ~Node()\n+    {\n+        // Destroy the subexpressions iteratively after moving out their\n+        // subexpressions to avoid a stack-overflow due to recursive calls to\n+        // the subs' destructors.\n         while (!subs.empty()) {\n             auto node = std::move(subs.back());\n             subs.pop_back();\n-            while (!node->subs.empty()) {\n-                subs.push_back(std::move(node->subs.back()));\n-                node->subs.pop_back();\n+            while (!node.subs.empty()) {\n+                subs.emplace_back(std::move(node.subs.back()));\n+                node.subs.pop_back();\n             }\n         }\n     }\n+    // NOLINTEND(misc-no-recursion)\n \n-    NodeRef<Key> Clone() const\n+    Node<Key> Clone() const\n     {\n         // Use TreeEval() to avoid a stack-overflow due to recursion\n-        auto upfn = [](const Node& node, std::span<NodeRef<Key>> children) {\n-            std::vector<NodeRef<Key>> new_subs;\n-            for (auto child = children.begin(); child != children.end(); ++child) {\n-                new_subs.emplace_back(std::move(*child));\n+        auto upfn = [](const Node& node, std::span<Node> children) {\n+            std::vector<Node> new_subs;\n+            for (auto& child : children) {\n+                // It's fine to move from children as they are new nodes having\n+                // been produced by calling this function one level down.\n+                new_subs.emplace_back(std::move(child));\n             }\n-            // std::make_unique (and therefore MakeNodeRef) doesn't work on private constructors\n-            return std::unique_ptr<Node>{new Node{internal::NoDupCheck{}, node.m_script_ctx, node.fragment, std::move(new_subs), node.keys, node.data, node.k}};\n+            return Node{internal::NoDupCheck{}, node.m_script_ctx, node.fragment, std::move(new_subs), node.keys, node.data, node.k};\n         };\n-        return TreeEval<NodeRef<Key>>(upfn);\n+        return TreeEval<Node>(upfn);\n     }\n \n private:\n     //! Cached ops counts.\n-    const internal::Ops ops;\n+    internal::Ops ops;\n     //! Cached stack size bounds.\n-    const internal::StackSize ss;\n+    internal::StackSize ss;\n     //! Cached witness size bounds.\n-    const internal::WitnessSize ws;\n+    internal::WitnessSize ws;\n     //! Cached expression type (computed by CalcType and fed through SanitizeType).\n-    const Type typ;\n+    Type typ;\n     //! Cached script length (computed by CalcScriptLen).\n-    const size_t scriptlen;\n+    size_t scriptlen;\n     //! Whether a public key appears more than once in this node. This value is initialized\n     //! by all constructors except the NoDupCheck ones. The NoDupCheck ones skip the\n     //! computation, requiring it to be done manually by invoking DuplicateKeyCheck().",
      "path": "src/script/miniscript.h",
      "position": 194,
      "original_position": 138,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "5e4573adda107e6bfad6ba1afb417fdb4fdc81ed",
      "in_reply_to_id": 2161634475,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Good find, but would rather leave that for another PR. This one has ballooned enough IMO just from wanting to remove `unique_ptr`.",
      "created_at": "2025-06-24T12:40:03Z",
      "updated_at": "2025-06-24T19:23:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2163882445",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2163882445"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 580,
      "original_line": 580,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2163883968",
      "pull_request_review_id": 2952377149,
      "id": 2163883968,
      "node_id": "PRRC_kwDOABII586A-j_A",
      "diff_hunk": "@@ -346,9 +345,10 @@ void SatisfactionToWitness(miniscript::MiniscriptContext ctx, CScriptWitness& wi\n \n struct MiniScriptTest : BasicTestingSetup {\n /** Run random satisfaction tests. */\n-void TestSatisfy(const KeyConverter& converter, const std::string& testcase, const NodeRef& node) {\n-    auto script = node->ToScript(converter);\n-    const auto challenges{FindChallenges(node.get())}; // Find all challenges in the generated miniscript.\n+void TestSatisfy(const KeyConverter& converter, const std::string& testcase, const Node& node)",
      "path": "src/test/miniscript_tests.cpp",
      "position": null,
      "original_position": 35,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "5e4573adda107e6bfad6ba1afb417fdb4fdc81ed",
      "in_reply_to_id": 2161695989,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "It was added as a parameter when the function was introduced in 22c5b00345063bdeb8b6d3da8b5692d18f92bfb7 but I couldn't find any commit where we started using it. Removed.",
      "created_at": "2025-06-24T12:40:40Z",
      "updated_at": "2025-06-24T19:23:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2163883968",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2163883968"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 348,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2163902346",
      "pull_request_review_id": 2952377149,
      "id": 2163902346,
      "node_id": "PRRC_kwDOABII586A-oeK",
      "diff_hunk": "@@ -503,17 +503,17 @@ struct NoDupCheck {};\n template<typename Key>\n struct Node {\n     //! What node type this node is.\n-    const Fragment fragment;\n+    Fragment fragment;",
      "path": "src/script/miniscript.h",
      "position": 101,
      "original_position": 41,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "c04b7b490e0c63942000472ea9f918df326c5b00",
      "in_reply_to_id": 2160344023,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Variant of this done as part of: a41db39bf87303d8a8173db56d0020c491239d38.",
      "created_at": "2025-06-24T12:46:26Z",
      "updated_at": "2025-06-24T19:28:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2163902346",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2163902346"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 516,
      "original_line": 516,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2163905772",
      "pull_request_review_id": 2952377149,
      "id": 2163905772,
      "node_id": "PRRC_kwDOABII586A-pTs",
      "diff_hunk": "@@ -349,8 +342,8 @@ struct InputResult {\n //! Class whose objects represent the maximum of a list of integers.\n template<typename I>\n struct MaxInt {\n-    const bool valid;\n-    const I value;\n+    bool valid;\n+    I value;",
      "path": "src/script/miniscript.h",
      "position": 26,
      "original_position": 21,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "5e4573adda107e6bfad6ba1afb417fdb4fdc81ed",
      "in_reply_to_id": 2161874319,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "See response to https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2160344023.",
      "created_at": "2025-06-24T12:47:05Z",
      "updated_at": "2025-06-24T19:23:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2163905772",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2163905772"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": 346,
      "original_start_line": 345,
      "start_side": "RIGHT",
      "line": 347,
      "original_line": 347,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2163906894",
      "pull_request_review_id": 2952377149,
      "id": 2163906894,
      "node_id": "PRRC_kwDOABII586A-plO",
      "diff_hunk": "@@ -421,11 +414,11 @@ struct Ops {\n  */\n struct SatInfo {\n     //! Whether a canonical satisfaction/dissatisfaction is possible at all.\n-    const bool valid;\n+    bool valid;",
      "path": "src/script/miniscript.h",
      "position": 47,
      "original_position": 30,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "5e4573adda107e6bfad6ba1afb417fdb4fdc81ed",
      "in_reply_to_id": 2161874482,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "See response to https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2160344023.",
      "created_at": "2025-06-24T12:47:22Z",
      "updated_at": "2025-06-24T19:23:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2163906894",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2163906894"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 423,
      "original_line": 423,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2163967956",
      "pull_request_review_id": 2952377149,
      "id": 2163967956,
      "node_id": "PRRC_kwDOABII586A-4fU",
      "diff_hunk": "@@ -2048,40 +2051,40 @@ inline NodeRef<Key> Parse(std::span<const char> in, const Ctx& ctx)\n             break;\n         }\n         case ParseContext::ALT: {\n-            constructed.back() = MakeNodeRef<Key>(internal::NoDupCheck{}, ctx.MsContext(), Fragment::WRAP_A, Vector(std::move(constructed.back())));\n+            constructed.back() = Node{internal::NoDupCheck{}, ctx.MsContext(), Fragment::WRAP_A, Vector(std::move(constructed.back()))};\n             break;\n         }\n         case ParseContext::SWAP: {\n-            constructed.back() = MakeNodeRef<Key>(internal::NoDupCheck{}, ctx.MsContext(), Fragment::WRAP_S, Vector(std::move(constructed.back())));\n+            constructed.back() = Node{internal::NoDupCheck{}, ctx.MsContext(), Fragment::WRAP_S, Vector(std::move(constructed.back()))};\n             break;\n         }\n         case ParseContext::CHECK: {\n-            constructed.back() = MakeNodeRef<Key>(internal::NoDupCheck{}, ctx.MsContext(), Fragment::WRAP_C, Vector(std::move(constructed.back())));\n+            constructed.back() = Node{internal::NoDupCheck{}, ctx.MsContext(), Fragment::WRAP_C, Vector(std::move(constructed.back()))};\n             break;\n         }\n         case ParseContext::DUP_IF: {\n-            constructed.back() = MakeNodeRef<Key>(internal::NoDupCheck{}, ctx.MsContext(), Fragment::WRAP_D, Vector(std::move(constructed.back())));\n+            constructed.back() = Node{internal::NoDupCheck{}, ctx.MsContext(), Fragment::WRAP_D, Vector(std::move(constructed.back()))};\n             break;\n         }\n         case ParseContext::NON_ZERO: {\n-            constructed.back() = MakeNodeRef<Key>(internal::NoDupCheck{}, ctx.MsContext(), Fragment::WRAP_J, Vector(std::move(constructed.back())));\n+            constructed.back() = Node{internal::NoDupCheck{}, ctx.MsContext(), Fragment::WRAP_J, Vector(std::move(constructed.back()))};\n             break;\n         }\n         case ParseContext::ZERO_NOTEQUAL: {\n-            constructed.back() = MakeNodeRef<Key>(internal::NoDupCheck{}, ctx.MsContext(), Fragment::WRAP_N, Vector(std::move(constructed.back())));\n+            constructed.back() = Node{internal::NoDupCheck{}, ctx.MsContext(), Fragment::WRAP_N, Vector(std::move(constructed.back()))};\n             break;\n         }\n         case ParseContext::VERIFY: {\n-            script_size += (constructed.back()->GetType() << \"x\"_mst);\n-            constructed.back() = MakeNodeRef<Key>(internal::NoDupCheck{}, ctx.MsContext(), Fragment::WRAP_V, Vector(std::move(constructed.back())));\n+            script_size += (constructed.back().GetType() << \"x\"_mst);\n+            constructed.back() = Node{internal::NoDupCheck{}, ctx.MsContext(), Fragment::WRAP_V, Vector(std::move(constructed.back()))};\n             break;\n         }\n         case ParseContext::WRAP_U: {\n-            constructed.back() = MakeNodeRef<Key>(internal::NoDupCheck{}, ctx.MsContext(), Fragment::OR_I, Vector(std::move(constructed.back()), MakeNodeRef<Key>(internal::NoDupCheck{}, ctx.MsContext(), Fragment::JUST_0)));\n+            constructed.back() = Node{internal::NoDupCheck{}, ctx.MsContext(), Fragment::OR_I, Vector(std::move(constructed.back()), Node<Key>(internal::NoDupCheck{}, ctx.MsContext(), Fragment::JUST_0))};\n             break;\n         }\n         case ParseContext::WRAP_T: {\n-            constructed.back() = MakeNodeRef<Key>(internal::NoDupCheck{}, ctx.MsContext(), Fragment::AND_V, Vector(std::move(constructed.back()), MakeNodeRef<Key>(internal::NoDupCheck{}, ctx.MsContext(), Fragment::JUST_1)));\n+            constructed.back() = Node{internal::NoDupCheck{}, ctx.MsContext(), Fragment::AND_V, Vector(std::move(constructed.back()), Node<Key>(internal::NoDupCheck{}, ctx.MsContext(), Fragment::JUST_1))};",
      "path": "src/script/miniscript.h",
      "position": null,
      "original_position": 752,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "5e4573adda107e6bfad6ba1afb417fdb4fdc81ed",
      "in_reply_to_id": 2161887437,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Broke out removal of `NodeRef` & `MakeNodeRef()` into its own commit: c4d30115f5cefe3945ac8b69c021a551eb2b6a72.",
      "created_at": "2025-06-24T13:11:19Z",
      "updated_at": "2025-06-24T19:29:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2163967956",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2163967956"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2087,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2163971650",
      "pull_request_review_id": 2952377149,
      "id": 2163971650,
      "node_id": "PRRC_kwDOABII586A-5ZC",
      "diff_hunk": "@@ -961,24 +956,24 @@ NodeRef GenNode(MsCtx script_ctx, F ConsumeNode, Type root_type, bool strict_val\n         } else {\n             // The back of todo has fragment and number of children decided, and\n             // those children have been constructed at the back of stack. Pop\n-            // that entry off todo, and use it to construct a new NodeRef on\n+            // that entry off todo, and use it to construct a new Node on\n             // stack.\n             NodeInfo& info = *todo.back().second;\n             // Gather children from the back of stack.\n-            std::vector<NodeRef> sub;\n+            std::vector<Node> sub;\n             sub.reserve(info.subtypes.size());\n             for (size_t i = 0; i < info.subtypes.size(); ++i) {\n                 sub.push_back(std::move(*(stack.end() - info.subtypes.size() + i)));\n             }\n             stack.erase(stack.end() - info.subtypes.size(), stack.end());\n-            // Construct new NodeRef.\n-            NodeRef node;\n+            // Construct new Node.",
      "path": "src/test/fuzz/miniscript.cpp",
      "position": 63,
      "original_position": 62,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "5e4573adda107e6bfad6ba1afb417fdb4fdc81ed",
      "in_reply_to_id": 2161891082,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "The comments around this code seem to be introducing different phases of the code. I'd rather not rip one out and leave the other ones there, so not touching for now.",
      "created_at": "2025-06-24T13:13:03Z",
      "updated_at": "2025-06-24T19:23:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2163971650",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2163971650"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 969,
      "original_line": 969,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2163972682",
      "pull_request_review_id": 2952377149,
      "id": 2163972682,
      "node_id": "PRRC_kwDOABII586A-5pK",
      "diff_hunk": "@@ -961,24 +956,24 @@ NodeRef GenNode(MsCtx script_ctx, F ConsumeNode, Type root_type, bool strict_val\n         } else {\n             // The back of todo has fragment and number of children decided, and\n             // those children have been constructed at the back of stack. Pop\n-            // that entry off todo, and use it to construct a new NodeRef on\n+            // that entry off todo, and use it to construct a new Node on\n             // stack.\n             NodeInfo& info = *todo.back().second;\n             // Gather children from the back of stack.\n-            std::vector<NodeRef> sub;\n+            std::vector<Node> sub;\n             sub.reserve(info.subtypes.size());\n             for (size_t i = 0; i < info.subtypes.size(); ++i) {\n                 sub.push_back(std::move(*(stack.end() - info.subtypes.size() + i)));\n             }\n             stack.erase(stack.end() - info.subtypes.size(), stack.end());\n-            // Construct new NodeRef.\n-            NodeRef node;\n+            // Construct new Node.\n+            std::optional<Node> node;\n             if (info.keys.empty()) {\n-                node = MakeNodeRef(script_ctx, info.fragment, std::move(sub), std::move(info.hash), info.k);\n+                node = Node{miniscript::internal::NoDupCheck{}, script_ctx, info.fragment, std::move(sub), std::move(info.hash), info.k};",
      "path": "src/test/fuzz/miniscript.cpp",
      "position": 67,
      "original_position": 66,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "5e4573adda107e6bfad6ba1afb417fdb4fdc81ed",
      "in_reply_to_id": 2161892692,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Done, see reply to https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2161887437.",
      "created_at": "2025-06-24T13:13:32Z",
      "updated_at": "2025-06-24T19:23:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2163972682",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2163972682"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 972,
      "original_line": 972,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2163987318",
      "pull_request_review_id": 2952377149,
      "id": 2163987318,
      "node_id": "PRRC_kwDOABII586A-9N2",
      "diff_hunk": "@@ -188,13 +188,6 @@ inline consteval Type operator\"\"_mst(const char* c, size_t l)\n \n using Opcode = std::pair<opcodetype, std::vector<unsigned char>>;\n \n-template<typename Key> struct Node;\n-template<typename Key> using NodeRef = std::unique_ptr<const Node<Key>>;\n-\n-//! Construct a miniscript node as a unique_ptr.\n-template<typename Key, typename... Args>",
      "path": "src/script/miniscript.h",
      "position": 8,
      "original_position": 8,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "5e4573adda107e6bfad6ba1afb417fdb4fdc81ed",
      "in_reply_to_id": 2160336850,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Broke out removal of `NodeRef` & `MakeNodeRef()`  as mentioned in other comment.\r\n\r\nLet me know if you still see potential in for a non-contrived scripted diff.",
      "created_at": "2025-06-24T13:19:41Z",
      "updated_at": "2025-06-24T19:23:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2163987318",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2163987318"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 195,
      "original_line": 195,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2164001056",
      "pull_request_review_id": 2952377149,
      "id": 2164001056,
      "node_id": "PRRC_kwDOABII586A_Akg",
      "diff_hunk": "@@ -523,25 +518,27 @@ struct Node {\n         while (!subs.empty()) {\n             auto node = std::move(subs.back());\n             subs.pop_back();\n-            while (!node->subs.empty()) {\n-                subs.push_back(std::move(node->subs.back()));\n-                node->subs.pop_back();\n+            while (!node.subs.empty()) {\n+                subs.emplace_back(std::move(node.subs.back()));",
      "path": "src/script/miniscript.h",
      "position": null,
      "original_position": 36,
      "commit_id": "78db9e119136154bd733c95fc6379c780703234a",
      "original_commit_id": "5e4573adda107e6bfad6ba1afb417fdb4fdc81ed",
      "in_reply_to_id": 2160337340,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Agree I went overboard in those 3 cases, :+1: reverted.",
      "created_at": "2025-06-24T13:23:59Z",
      "updated_at": "2025-06-24T19:23:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31713#discussion_r2164001056",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2164001056"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 522,
      "side": "RIGHT"
    }
  ]
}