{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141",
    "id": 1877177962,
    "node_id": "PR_kwDOABII585v43Zq",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/30141",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/30141.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/30141.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30141",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30141/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/fa660a266b3aa03f40c47a9330e3bce8be89bb54",
    "number": 30141,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "kernel: De-globalize validation caches",
    "user": {
      "login": "TheCharlatan",
      "id": 8421793,
      "node_id": "MDQ6VXNlcjg0MjE3OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheCharlatan",
      "html_url": "https://github.com/TheCharlatan",
      "followers_url": "https://api.github.com/users/TheCharlatan/followers",
      "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
      "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
      "repos_url": "https://api.github.com/users/TheCharlatan/repos",
      "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The validation caches are currently setup independently from where the rest of the validation code is initialized. This makes their ownership semantics unclear. There is also no clear enforcement on when and in what order they need to be initialized. The caches are always initialized in the `BasicTestingSetup` although a number of tests don't actually need them.\r\n\r\nSolve this by moving the caches from global scope into the `ChainstateManager` class. This simplifies the usage of the kernel library by no longer requiring manual setup of the caches prior to using the `ChainstateManager`. Tests that need to access the caches can instantiate them independently.\r\n\r\n---\r\nThis pull request is part of the [libbitcoinkernel project](https://github.com/bitcoin/bitcoin/issues/27587).",
    "labels": [
      {
        "id": 118379652,
        "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
        "name": "Validation",
        "color": "6060aa",
        "default": false
      }
    ],
    "created_at": "2024-05-19T14:17:42Z",
    "updated_at": "2024-06-19T15:36:59Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "354b5c096b5e46050c95ed2fdd2cef4681a027e1",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "TheCharlatan:noGlobalScriptCache",
      "ref": "noGlobalScriptCache",
      "sha": "fa660a266b3aa03f40c47a9330e3bce8be89bb54",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 94456368,
        "node_id": "MDEwOlJlcG9zaXRvcnk5NDQ1NjM2OA==",
        "name": "bitcoin",
        "full_name": "TheCharlatan/bitcoin",
        "owner": {
          "login": "TheCharlatan",
          "id": 8421793,
          "node_id": "MDQ6VXNlcjg0MjE3OTM=",
          "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/TheCharlatan",
          "html_url": "https://github.com/TheCharlatan",
          "followers_url": "https://api.github.com/users/TheCharlatan/followers",
          "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
          "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
          "repos_url": "https://api.github.com/users/TheCharlatan/repos",
          "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/TheCharlatan/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/TheCharlatan/bitcoin",
        "archive_url": "https://api.github.com/repos/TheCharlatan/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/TheCharlatan/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/TheCharlatan/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/TheCharlatan/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/TheCharlatan/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/TheCharlatan/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/TheCharlatan/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/TheCharlatan/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/TheCharlatan/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/TheCharlatan/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/TheCharlatan/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/TheCharlatan/bitcoin/events",
        "forks_url": "https://api.github.com/repos/TheCharlatan/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/TheCharlatan/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/TheCharlatan/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/TheCharlatan/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/TheCharlatan/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/TheCharlatan/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/TheCharlatan/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/TheCharlatan/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/TheCharlatan/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/TheCharlatan/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/TheCharlatan/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/TheCharlatan/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/TheCharlatan/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:TheCharlatan/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/TheCharlatan/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/TheCharlatan/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/TheCharlatan/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/TheCharlatan/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/TheCharlatan/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/TheCharlatan/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/TheCharlatan/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/TheCharlatan/bitcoin/hooks",
        "svn_url": "https://github.com/TheCharlatan/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 1,
        "watchers_count": 1,
        "size": 239685,
        "default_branch": "master",
        "open_issues_count": 2,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-06-19T15:15:53Z",
        "created_at": "2017-06-15T16:03:35Z",
        "updated_at": "2024-06-18T08:52:21Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "2d21060af831fa8f8f1791b4464961d5f28a88cb",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35535,
        "stargazers_count": 76957,
        "watchers_count": 76957,
        "size": 261754,
        "default_branch": "master",
        "open_issues_count": 684,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-06-19T15:15:55Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-06-19T15:12:36Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 199,
    "deletions": 258,
    "changed_files": 19,
    "commits": 5,
    "review_comments": 18,
    "comments": 6
  },
  "events": [
    {
      "event": "commented",
      "id": 2119254138,
      "node_id": "IC_kwDOABII585-UUB6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2119254138",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-19T14:17:45Z",
      "updated_at": "2024-06-19T15:36:59Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/30141).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [ajtowns](https://github.com/bitcoin/bitcoin/pull/30141#pullrequestreview-2066739761), [theuni](https://github.com/bitcoin/bitcoin/pull/30141#pullrequestreview-2066845490) |\n| Approach ACK | [stickies-v](https://github.com/bitcoin/bitcoin/pull/30141#pullrequestreview-2125109551) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#30214](https://github.com/bitcoin/bitcoin/pull/30214) (refactor: Improve assumeutxo state representation by ryanofsky)\n* [#29745](https://github.com/bitcoin/bitcoin/pull/29745) (bench: Adds a benchmark for CheckInputScripts by kevkevinpal)\n* [#29700](https://github.com/bitcoin/bitcoin/pull/29700) (kernel, refactor: return error status on all fatal errors by ryanofsky)\n* [#29641](https://github.com/bitcoin/bitcoin/pull/29641) (scripted-diff: Use LogInfo/LogDebug over LogPrintf/LogPrint by maflcko)\n* [#29432](https://github.com/bitcoin/bitcoin/pull/29432) (Stratum v2 Template Provider (take 3) by Sjors)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#issuecomment-2119254138",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30141"
    },
    {
      "event": "labeled",
      "id": 12858538525,
      "node_id": "LE_lADOABII586JXeoFzwAAAAL-bbod",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12858538525",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-19T14:17:47Z",
      "label": {
        "name": "Validation",
        "color": "6060aa"
      }
    },
    {
      "event": "ready_for_review",
      "id": 12858899189,
      "node_id": "RFRE_lADOABII586JXeoFzwAAAAL-czr1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12858899189",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-19T17:36:25Z"
    },
    {
      "event": "reviewed",
      "id": 2066739761,
      "node_id": "PRR_kwDOABII5857L_Ix",
      "url": null,
      "actor": null,
      "commit_id": "79c9c55b27bd113885da2c36ad76e5ed145027b3",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#pullrequestreview-2066739761",
      "submitted_at": "2024-05-20T18:09:21Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
    },
    {
      "event": "reviewed",
      "id": 2066845490,
      "node_id": "PRR_kwDOABII5857MY8y",
      "url": null,
      "actor": null,
      "commit_id": "79c9c55b27bd113885da2c36ad76e5ed145027b3",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK. Nice.",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#pullrequestreview-2066845490",
      "submitted_at": "2024-05-20T19:09:56Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
    },
    {
      "event": "reviewed",
      "id": 2066862012,
      "node_id": "PRR_kwDOABII5857Mc-8",
      "url": null,
      "actor": null,
      "commit_id": "79c9c55b27bd113885da2c36ad76e5ed145027b3",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#pullrequestreview-2066862012",
      "submitted_at": "2024-05-20T19:19:13Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12876273607,
      "node_id": "HRFPE_lADOABII586JXeoFzwAAAAL_fFfH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12876273607",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-21T08:36:53Z"
    },
    {
      "event": "commented",
      "id": 2122100379,
      "node_id": "IC_kwDOABII585-fK6b",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2122100379",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-21T08:47:10Z",
      "updated_at": "2024-05-21T08:47:10Z",
      "author_association": "CONTRIBUTOR",
      "body": "Updated 79c9c55b27bd113885da2c36ad76e5ed145027b3 -> 4a1df97a016935348e50f384ed52a6671990835f ([noGlobalScriptCache_0](https://github.com/TheCharlatan/bitcoin/tree/noGlobalScriptCache_0) -> [noGlobalScriptCache_1](https://github.com/TheCharlatan/bitcoin/tree/noGlobalScriptCache_1), [compare](https://github.com/TheCharlatan/bitcoin/compare/noGlobalScriptCache_0..noGlobalScriptCache_1))\r\n\r\n* Addressed @theuni's [comment](https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1607175446), made `CSignatureCache` more RAII styled.\r\n* Addressed @ajtowns's [comment](https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1607094214), applied his suggestion of dropping the error handling if the cache size exceeds the `uint32_t` maximum value.",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#issuecomment-2122100379",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30141"
    },
    {
      "event": "mentioned",
      "id": 12876416884,
      "node_id": "MEE_lADOABII586JXeoFzwAAAAL_fod0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12876416884",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-21T08:47:11Z"
    },
    {
      "event": "subscribed",
      "id": 12876416899,
      "node_id": "SE_lADOABII586JXeoFzwAAAAL_foeD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12876416899",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-21T08:47:11Z"
    },
    {
      "event": "mentioned",
      "id": 12876416924,
      "node_id": "MEE_lADOABII586JXeoFzwAAAAL_foec",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12876416924",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-21T08:47:11Z"
    },
    {
      "event": "subscribed",
      "id": 12876416944,
      "node_id": "SE_lADOABII586JXeoFzwAAAAL_foew",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12876416944",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-21T08:47:11Z"
    },
    {
      "event": "reviewed",
      "id": 2069624268,
      "node_id": "PRR_kwDOABII5857W_XM",
      "url": null,
      "actor": null,
      "commit_id": "4a1df97a016935348e50f384ed52a6671990835f",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#pullrequestreview-2069624268",
      "submitted_at": "2024-05-21T21:06:16Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12885606054,
      "node_id": "HRFPE_lADOABII586JXeoFzwAAAAMACr6m",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12885606054",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-21T21:20:35Z"
    },
    {
      "event": "commented",
      "id": 2123462834,
      "node_id": "IC_kwDOABII585-kXiy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2123462834",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-21T21:20:58Z",
      "updated_at": "2024-05-21T21:20:58Z",
      "author_association": "CONTRIBUTOR",
      "body": "Updated 4a1df97a016935348e50f384ed52a6671990835f -> 5b1576bbc664a07e00b5528e13c1928df9bc9b0c ([noGlobalScriptCache_1](https://github.com/TheCharlatan/bitcoin/tree/noGlobalScriptCache_1) -> [noGlobalScriptCache_2](https://github.com/TheCharlatan/bitcoin/tree/noGlobalScriptCache_2), [compare](https://github.com/TheCharlatan/bitcoin/compare/noGlobalScriptCache_1..noGlobalScriptCache_2))\r\n\r\n* Addressed @theuni's [comment](https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1608951984), fixed outdated comment.\r\n",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#issuecomment-2123462834",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30141"
    },
    {
      "event": "mentioned",
      "id": 12885609750,
      "node_id": "MEE_lADOABII586JXeoFzwAAAAMACs0W",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12885609750",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-21T21:21:00Z"
    },
    {
      "event": "subscribed",
      "id": 12885609764,
      "node_id": "SE_lADOABII586JXeoFzwAAAAMACs0k",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12885609764",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-21T21:21:00Z"
    },
    {
      "event": "labeled",
      "id": 12887758389,
      "node_id": "LE_lADOABII586JXeoFzwAAAAMAK5Y1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12887758389",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-22T03:26:39Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 12892297104,
      "node_id": "UNLE_lADOABII586JXeoFzwAAAAMAcNeQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12892297104",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-22T10:32:47Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 13191772112,
      "node_id": "LE_lADOABII586JXeoFzwAAAAMSSnfQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13191772112",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-17T21:16:58Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13197526877,
      "node_id": "HRFPE_lADOABII586JXeoFzwAAAAMSokdd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13197526877",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-18T08:40:11Z"
    },
    {
      "event": "commented",
      "id": 2175538120,
      "node_id": "IC_kwDOABII586BrBPI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2175538120",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-18T08:40:29Z",
      "updated_at": "2024-06-18T08:40:29Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased 5b1576bbc664a07e00b5528e13c1928df9bc9b0c -> 63923c8da686da42f522771f338ea8f2a4f4e568 ([noGlobalScriptCache_2](https://github.com/TheCharlatan/bitcoin/tree/noGlobalScriptCache_2) -> [noGlobalScriptCache_3](https://github.com/TheCharlatan/bitcoin/tree/noGlobalScriptCache_3), [compare](https://github.com/TheCharlatan/bitcoin/compare/noGlobalScriptCache_2..noGlobalScriptCache_3))\r\n\r\n* Fixed conflict with #30058",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#issuecomment-2175538120",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30141"
    },
    {
      "event": "unlabeled",
      "id": 13198494191,
      "node_id": "UNLE_lADOABII586JXeoFzwAAAAMSsQnv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13198494191",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-18T09:52:05Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 2125109551,
      "node_id": "PRR_kwDOABII585-qpkv",
      "url": null,
      "actor": null,
      "commit_id": "63923c8da686da42f522771f338ea8f2a4f4e568",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Approach ACK 63923c8da686da42f522771f338ea8f2a4f4e568",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#pullrequestreview-2125109551",
      "submitted_at": "2024-06-18T20:47:23Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13212889876,
      "node_id": "HRFPE_lADOABII586JXeoFzwAAAAMTjLMU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13212889876",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-19T08:57:06Z"
    },
    {
      "event": "commented",
      "id": 2178139748,
      "node_id": "IC_kwDOABII586B08Zk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2178139748",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-19T08:57:11Z",
      "updated_at": "2024-06-19T08:57:11Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thank you for the review @stickies-v,\r\n\r\n63923c8da686da42f522771f338ea8f2a4f4e568 -> 6ad4aa82056030a8a72b1315676e0703c1500d0d ([noGlobalScriptCache_3](https://github.com/TheCharlatan/bitcoin/tree/noGlobalScriptCache_3) -> [noGlobalScriptCache_4](https://github.com/TheCharlatan/bitcoin/tree/noGlobalScriptCache_4), [compare](https://github.com/TheCharlatan/bitcoin/compare/noGlobalScriptCache_3..noGlobalScriptCache_4))\r\n\r\n* Addressed @stickies-v's [comment](https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1644415772), deleting copy and move constructor of the newly introduced `ValidationCache` class.\r\n* Addressed @stickies-v's [comment](https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1645009465), applying the suggestion of making the pre-initialized hasher private and adding a getter for it.",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#issuecomment-2178139748",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30141"
    },
    {
      "event": "mentioned",
      "id": 13212891323,
      "node_id": "MEE_lADOABII586JXeoFzwAAAAMTjLi7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13212891323",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-19T08:57:13Z"
    },
    {
      "event": "subscribed",
      "id": 13212891339,
      "node_id": "SE_lADOABII586JXeoFzwAAAAMTjLjL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13212891339",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-19T08:57:13Z"
    },
    {
      "event": "reviewed",
      "id": 2128427867,
      "node_id": "PRR_kwDOABII585-3Ttb",
      "url": null,
      "actor": null,
      "commit_id": "f015a501e4bbb4985b52783591031e4e39496009",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#pullrequestreview-2128427867",
      "submitted_at": "2024-06-19T14:17:21Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGYxZGFkOTRiOWQ1MWRiNmRjNzcwMmU1MWY5NDNjMjRhMTcyMjJiMWE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f1dad94b9d51db6dc7702e51f943c24a17222b1a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f1dad94b9d51db6dc7702e51f943c24a17222b1a",
      "tree": {
        "sha": "da0943f0e808b521b2ad64668284cdbf84e82061",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/da0943f0e808b521b2ad64668284cdbf84e82061"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree da0943f0e808b521b2ad64668284cdbf84e82061\nparent 41544b8f96dbc9c6b8998acd6522200d67cdc16d\nauthor TheCharlatan <seb.kung@gmail.com> 1716237152 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1718809688 +0200\n\nvalidation: Don't error if maxsigcachesize exceeds uint32::max\n\nInstead clamp it to uint32::max if it exceeds it.\n\nCo-authored-by: Anthony Towns <aj@erisian.com.au>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmZy9FkACgkQm3m0VpHb\nQXP0Yw/9E12bs/Rd2wf3bchmJ+3/8jffCTSBogyo7lTPvisFDRGYUl68/s23608M\ng6T2IQI++TOY29l8L7q5qvKoW7FaD7FADCMUSNsRZtPs9/WjbP2XKu9cH/UocKXG\nr7sfvQ/ZJYVj+K4RyWptAnvmxChOb66EC2LNZOljn2uyoO77XwRKxAMzmXM9iQmn\nmsbE3991QwLIdPyXnVon3EYnrbrMa785ByuNHDmhxbZyva2yauxjfzFY3wig+TI1\nWNZTFx2HLobJk0y+ub9tYKEsPsT1GSMVJyQ9y8nEszOQuPyPUr6S8N6DF04XYgWJ\nFqYtmlZY8JuRAxNpILVPj9TIKWFSum+/XnVppY4wI5DaOCcDt36oItDpLnebkWUq\nJOg06ljJjxhSLuB5NGJumpiaK5lhdm7wMaUZKyyxyYCDkzFLGjG5Otr8UA4dkNrO\nuxEUoZ5TDiqxb80VKz9sTSqxZx6XckO0+gGz2kl810XqYVG3OBG8cYK4IwUcw6pC\nJQts3N32XWNkYukmeJxwpY8OJ2gqFMVAhPB2DHSpx+wdd0etIIhCUFUToRdXjHhE\nPxvNEFGScJXqXiHvM6B7Q1CgT4dQGSicVuV+7MtaVDYgihckCIf18HsWQb9lQtyV\nKpXpYlccSncNeTX0RJ5E+Fnjx6RdA1//e+roqX/qLmTqvQw2auE=\n=06MI\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/41544b8f96dbc9c6b8998acd6522200d67cdc16d",
          "sha": "41544b8f96dbc9c6b8998acd6522200d67cdc16d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/41544b8f96dbc9c6b8998acd6522200d67cdc16d"
        }
      ],
      "message": "validation: Don't error if maxsigcachesize exceeds uint32::max\n\nInstead clamp it to uint32::max if it exceeds it.\n\nCo-authored-by: Anthony Towns <aj@erisian.com.au>",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-06-19T15:08:08Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-05-20T20:32:32Z"
      },
      "sha": "f1dad94b9d51db6dc7702e51f943c24a17222b1a"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGJlZGMzYjRjMjc4MGY4OGJlN2JmMGQ4MTIyNmNhZmVlMDYzYTJhOWM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bedc3b4c2780f88be7bf0d81226cafee063a2a9c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/bedc3b4c2780f88be7bf0d81226cafee063a2a9c",
      "tree": {
        "sha": "80ee7e168449be9d92e69cdda80f0e1c550bb331",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/80ee7e168449be9d92e69cdda80f0e1c550bb331"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 80ee7e168449be9d92e69cdda80f0e1c550bb331\nparent f1dad94b9d51db6dc7702e51f943c24a17222b1a\nauthor TheCharlatan <seb.kung@gmail.com> 1715981605 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1718809703 +0200\n\nkernel: De-globalize script execution cache\n\nMove its ownership to the ChainstateManager class.\n\nNext to simplifying usage of the kernel library by no longer requiring\nmanual setup of the cache prior to using validation code, it also slims\ndown the amount of memory allocated by BasicTestingSetup.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmZy9GcACgkQm3m0VpHb\nQXMajA//aVyAw5EPvEA+xZgfH4mUK4zVQmrcUgShRbIusrha+2LIKfxSmK2rf5ZW\nYIH9dbiUKwmpQMCFTPZW9hSMLjOxw4IkrnN+D1yUIpY9Mr62GRtYg03Ge0ChiUlp\nYBn/5toMBITYIARQSnNNQX1u7YW87eh+u6rlO9nCSKBr2zi78sklSfDnn4u0Pp/7\nTaQKp2MkceCzwpWXXmgDOt1QI1yzPr8FiqTPLbzOG09YznWXoPcq25alVRc0WAUw\nwSPEdJOhObst70tT+55aRLaXl//aqhelXeoel92ohyZMMWrtcpZb1gf5unlDjK4W\ng0A9sthsU7wSMuvQzIRyuZfXDeFR+chfMS1fx3kZ5UArQaPxh0XpRCbdrqiAMc81\nXm8OYT092hD3p7ObgP76OZpKgG7To7UxaXhW14BZI0xaRNE4pfML6iiy1ZKwCfNR\nWJsxUT+5cmFZ45oHgjuDyEdc6bqB6RwyXC4pneJPZopWSxe/GdWlJKX4I9C2YOtT\nWcr1ROk7IuIODHO3cLw0pzyOPhAiAEoR7pGw4tzJeMjMqMG9xUy4aR42J7VQpiJu\n6zBx9BRV+/mSFisQvBOXWC6bhW98NlVoYWfa3wCEoDBgqeWe93MgE1p2lQHeyls7\ng0pI91bjcauK0Oyp/owsIw3SaP4Hmsnbds/SjMWCNJNANz5WSvA=\n=GOlO\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f1dad94b9d51db6dc7702e51f943c24a17222b1a",
          "sha": "f1dad94b9d51db6dc7702e51f943c24a17222b1a",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f1dad94b9d51db6dc7702e51f943c24a17222b1a"
        }
      ],
      "message": "kernel: De-globalize script execution cache\n\nMove its ownership to the ChainstateManager class.\n\nNext to simplifying usage of the kernel library by no longer requiring\nmanual setup of the cache prior to using validation code, it also slims\ndown the amount of memory allocated by BasicTestingSetup.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-06-19T15:08:23Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-05-17T21:33:25Z"
      },
      "sha": "bedc3b4c2780f88be7bf0d81226cafee063a2a9c"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZlODY5MDUwZjA0ZTNiYzFiNjQ1ODI0ZmI2OGQ4NDc1NTFkMzAyNzQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fe869050f04e3bc1b645824fb68d847551d30274",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fe869050f04e3bc1b645824fb68d847551d30274",
      "tree": {
        "sha": "d39b9e0ec47657963940afba4b5a485355a785af",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d39b9e0ec47657963940afba4b5a485355a785af"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree d39b9e0ec47657963940afba4b5a485355a785af\nparent bedc3b4c2780f88be7bf0d81226cafee063a2a9c\nauthor TheCharlatan <seb.kung@gmail.com> 1716059176 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1718809728 +0200\n\nkernel: De-globalize script execution cache hasher\n\nMove it to the ChainstateManager class.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmZy9IAACgkQm3m0VpHb\nQXP8+g//f9L6jTReWVI+Y12/tlol5EMyEjBAlpMlht0yBzoQL6qqG+S089BUZhde\nk68H2eB/PGZcURuQtSe5Nm7YMyMG07pjZTxWqN7luN42wQdwkuKQ2P7EZOjFSPPZ\nJLl1k9WHeJ094YemoxI3Wb4pyAC4VY/XNP3BCm253pqbHbF/ycEWiKDo7xqXGj24\n33xVZ0dsork5z/g9KPi6+ianYIuXs8HxMrvdeB1Pq6P4r2NBf0S7WqveRGPrOU7M\nzQrhSg2mhQEaz2ls+U8CG+NkgMj/jH6rWZK78JCLqYqjnh0kXGjKNzzAVbQ14dd/\nb24kmoNsbPsPpv53M2kXPMAzcDlHmqk5Hmfv5rt+f8Onmh+Ihni93Cf68Ul7SgIC\nmXHg4WfraA4vMFiIAdm4AtlwneOTpgP3u5LLIUxrsxnCgOTqcTvZbUf/3TXdShH9\nSL/N8yCRBl8XCWuNA8m+SZIX/ZBQosuYvLjbzb40Up0vNsiBWqHT2udXZXFXOj+L\n+y9wlkC4f3rctzV3En89RS2f+9n60FSs4dnY/SURadTWrzCmKE40//Cw0TGUUV8E\nck0TZ9rPHiIQncESn8BaC6c08RNhFAoOPvhcybaFxweBiaguSNyZ1aWlkVQ+H4it\nBPrBpqUJiWQFyHsHrNdTpu7RSnKPFeZiYhJiH0S3VQ6az+h7uC8=\n=MS8N\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bedc3b4c2780f88be7bf0d81226cafee063a2a9c",
          "sha": "bedc3b4c2780f88be7bf0d81226cafee063a2a9c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/bedc3b4c2780f88be7bf0d81226cafee063a2a9c"
        }
      ],
      "message": "kernel: De-globalize script execution cache hasher\n\nMove it to the ChainstateManager class.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-06-19T15:08:48Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-05-18T19:06:16Z"
      },
      "sha": "fe869050f04e3bc1b645824fb68d847551d30274"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDI0MTJlYzI4NjM1MzMyNGIyNjU2MTJiYzZhYjczYjdkYzgyODY5Njk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2412ec286353324b265612bc6ab73b7dc8286969",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/2412ec286353324b265612bc6ab73b7dc8286969",
      "tree": {
        "sha": "e551033d9ee39aabf6c50516154313e385ffebf5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e551033d9ee39aabf6c50516154313e385ffebf5"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree e551033d9ee39aabf6c50516154313e385ffebf5\nparent fe869050f04e3bc1b645824fb68d847551d30274\nauthor TheCharlatan <seb.kung@gmail.com> 1716061188 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1718809741 +0200\n\nExpose CSignatureCache class in header\n\nThis is done in preparation for the following commit.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmZy9I0ACgkQm3m0VpHb\nQXO9UBAAytIYHL27zbXyO2Qo1LkWC0aRQt2SSfj3oCyCfxzBvGypXStbU2jsKzh5\n0rJJLNxSeI7oIjFB5ZmXM/UoCHeJoI5Y5rxAO/pawUzgiratoMm0OmlI93sfXwDx\nsiGMBfT8MijtuxMDw+NPPFayoe6stK2/Ee6Ku9kJ2GER+w63+6RW7rTboJhyk7fw\nvSSCUBwuYhcHU5eMffE1OmmwPcM8xifCrgpnLvQWPKyVpC0T9bnWSa3xr5YOwBl6\naTHckQuwJX+n1E/RwQR+9nOOdAA2ET5z7DQKW2CwVIOWfvVMbmY1NbgbjLf7ughp\nq2R4rZF09NJXuYfVXQ6nuGuqk/lzgzFBXK3a3bJwim1QvlfnxutdQ22XBOEdtNvC\nwFI0w6rt8VaxVYuVsQrzT7UUjB7FNB0Xrh80glNAcYANtyFkKi6d59Cb/tkS2Xrp\nFRHPAO2Sqznj08/zJjlzLKBvwN7+XtRPXixdAGX+UTdeYIHLpJXQx1zJOokhYba7\nQHKyMUcGOmaIhWc1eHXbyzwT4TIhkmrUUV9X+r1drh7p7v1edSGkaGkYvIZVDN6s\ndqxgC+SHhhnjQa9mBC+O8tfZXHRy2nqVQUm3ekVi6v80ctWw+CatVx5ZRrJuKjsY\nIoaAF0JGzrtOFn8RRNH/Pm7N0cOCrHrIn0WYP/1urnRVlJpA48o=\n=hZWI\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fe869050f04e3bc1b645824fb68d847551d30274",
          "sha": "fe869050f04e3bc1b645824fb68d847551d30274",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fe869050f04e3bc1b645824fb68d847551d30274"
        }
      ],
      "message": "Expose CSignatureCache class in header\n\nThis is done in preparation for the following commit.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-06-19T15:09:01Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-05-18T19:39:48Z"
      },
      "sha": "2412ec286353324b265612bc6ab73b7dc8286969"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhNjYwYTI2NmIzYWEwM2Y0MGM0N2E5MzMwZTNiY2U4YmU4OWJiNTQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa660a266b3aa03f40c47a9330e3bce8be89bb54",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fa660a266b3aa03f40c47a9330e3bce8be89bb54",
      "tree": {
        "sha": "899dcbab2f89242b92dabc8c707444c6618566fc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/899dcbab2f89242b92dabc8c707444c6618566fc"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 899dcbab2f89242b92dabc8c707444c6618566fc\nparent 2412ec286353324b265612bc6ab73b7dc8286969\nauthor TheCharlatan <seb.kung@gmail.com> 1716023924 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1718809759 +0200\n\nkernel: De-globalize signature cache\n\nMove its ownership to the ChainstateManager class.\n\nNext to simplifying usage of the kernel library by no longer requiring\nmanual setup of the cache prior to using validation code, it also slims\ndown the amount of memory allocated by BasicTestingSetup.\n\nUse this opportunity to make CSignatureCache RAII styled\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmZy9J8ACgkQm3m0VpHb\nQXPSCw//enhB3o31lAHuM0wSj1O/+mXZtBmaQgS/NB6yG+POFKsH/EnaG3bl9WQP\nxLz/CwtzYZfG9mbwLGElEyG3SXWSWl0FW+LezkSYvVKwlvUBBIwpyDO4i8l7rr+N\nG4wpwPrH1ndG5i5t8D4BUSJBgzmcZjYvx5mLYlRbbpwnWLt/L8HiqOvPy9/ljqy8\nuUElsK0bs5EIX6EeNgV3O16Q0QrQxUVzsFW4bbEEMA2rNFHJflGq1lFJ6vAaVY8g\nXAc2ptYEMsAhXidxTZ7l+JXjjP0qLkmUDlaR9ctYuwGk2vAt9P7zpKAm0bjJSGrM\nBOE77c8ew7oo/lzcUGifTi5nVLVhfWkAJQKItCXH+6wix7cXc8QmDeE7tTn4cRT+\nkCfzSYRbvCJUmfLIlFC1kXHehsp1VTxv7ScbWO4rnDXRbfWD8Y9TO7H2cGG5s70L\n2GpyYYhC5SNzIQeQa/lDUv1BXLvGCcwmo5Et4ZBlNte4pXwpx70EZmoXmJlpDH/k\n9JS5GETmYwfKKKtSq//MDrFJQhnFsrzYwu5kdvSBNdlrA8vAogBv8eeDuOPEoPVH\nmVvc1I0I+My6xGPEK7T7yth3VVqJ6bsfIsI+UIczeFgnCgEBE85moy2zfVjf3ATe\n9/KR7eWwBx0BSvcu+iziUXjdT8gTos5nuWq4XmtoxvB5hXlKtr4=\n=Sj/c\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2412ec286353324b265612bc6ab73b7dc8286969",
          "sha": "2412ec286353324b265612bc6ab73b7dc8286969",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/2412ec286353324b265612bc6ab73b7dc8286969"
        }
      ],
      "message": "kernel: De-globalize signature cache\n\nMove its ownership to the ChainstateManager class.\n\nNext to simplifying usage of the kernel library by no longer requiring\nmanual setup of the cache prior to using validation code, it also slims\ndown the amount of memory allocated by BasicTestingSetup.\n\nUse this opportunity to make CSignatureCache RAII styled",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-06-19T15:09:19Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-05-18T09:18:44Z"
      },
      "sha": "fa660a266b3aa03f40c47a9330e3bce8be89bb54"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13218037363,
      "node_id": "HRFPE_lADOABII586JXeoFzwAAAAMT2z5z",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13218037363",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-19T15:15:54Z"
    },
    {
      "event": "commented",
      "id": 2178956138,
      "node_id": "IC_kwDOABII586B4Dtq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2178956138",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-19T15:15:59Z",
      "updated_at": "2024-06-19T15:15:59Z",
      "author_association": "CONTRIBUTOR",
      "body": "6ad4aa82056030a8a72b1315676e0703c1500d0d -> fa660a266b3aa03f40c47a9330e3bce8be89bb54 ([noGlobalScriptCache_4](https://github.com/TheCharlatan/bitcoin/tree/noGlobalScriptCache_4) -> [noGlobalScriptCache_5](https://github.com/TheCharlatan/bitcoin/tree/noGlobalScriptCache_5), [compare](https://github.com/TheCharlatan/bitcoin/compare/noGlobalScriptCache_4..noGlobalScriptCache_5))\r\n\r\n* Addressed @stickies-v's [comment](https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1645856227), changing integer type of `requested_num_elems`.\r\n* Addressed @maflcko's [comment](https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1646290588), reverting introduction of a separate `m_validation_cache` member in the `Dersig100Setup` testing class and instead using `m_node.chainman->m_validation_cache`.",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#issuecomment-2178956138",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30141"
    },
    {
      "event": "mentioned",
      "id": 13218038633,
      "node_id": "MEE_lADOABII586JXeoFzwAAAAMT20Np",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13218038633",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-19T15:16:00Z"
    },
    {
      "event": "subscribed",
      "id": 13218038644,
      "node_id": "SE_lADOABII586JXeoFzwAAAAMT20N0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13218038644",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-19T15:16:00Z"
    },
    {
      "event": "mentioned",
      "id": 13218038655,
      "node_id": "MEE_lADOABII586JXeoFzwAAAAMT20N_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13218038655",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-19T15:16:01Z"
    },
    {
      "event": "subscribed",
      "id": 13218038668,
      "node_id": "SE_lADOABII586JXeoFzwAAAAMT20OM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13218038668",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-19T15:16:01Z"
    },
    {
      "event": "reviewed",
      "id": 2128584316,
      "node_id": "PRR_kwDOABII585-3558",
      "url": null,
      "actor": null,
      "commit_id": "f1dad94b9d51db6dc7702e51f943c24a17222b1a",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#pullrequestreview-2128584316",
      "submitted_at": "2024-06-19T15:19:58Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1607094214",
      "pull_request_review_id": 2066739761,
      "id": 1607094214,
      "node_id": "PRRC_kwDOABII585fyk_G",
      "diff_hunk": "@@ -924,7 +930,7 @@ class ChainstateManager\n public:\n     using Options = kernel::ChainstateManagerOpts;\n \n-    explicit ChainstateManager(const util::SignalInterrupt& interrupt, Options options, node::BlockManager::Options blockman_options);\n+    explicit ChainstateManager(const util::SignalInterrupt& interrupt, Options options, node::BlockManager::Options blockman_options, bilingual_str& error);",
      "path": "src/validation.h",
      "position": null,
      "original_position": 45,
      "commit_id": "fa660a266b3aa03f40c47a9330e3bce8be89bb54",
      "original_commit_id": "353ba0a19e73e888b5788f5fa10fca682b5ea4f5",
      "in_reply_to_id": null,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Rather than adding an error return in the constructor here, wouldn't it be better to change our cuckoo cache to clamp its size when given too large a value? ie, `InitScriptExecutionCache(135000000)` is treated as `134,217,727` instead? The value passed in is only used as an approximate target in the first place. Historical context is #25527.\r\n\r\n<details>\r\n<summary>(example patch)</summary>\r\n\r\n```diff\r\n--- a/src/cuckoocache.h\r\n+++ b/src/cuckoocache.h\r\n@@ -360,16 +360,16 @@ public:\r\n      * structure\r\n      * @returns A pair of the maximum number of elements storable (see setup()\r\n      * documentation for more detail) and the approximate total size of these\r\n-     * elements in bytes or std::nullopt if the size requested is too large.\r\n+     * elements in bytes.\r\n      */\r\n-    std::optional<std::pair<uint32_t, size_t>> setup_bytes(size_t bytes)\r\n+    std::pair<uint32_t, size_t> setup_bytes(size_t bytes)\r\n     {\r\n         size_t requested_num_elems = bytes / sizeof(Element);\r\n         if (std::numeric_limits<uint32_t>::max() < requested_num_elems) {\r\n-            return std::nullopt;\r\n+            requested_num_elems = std::numeric_limits<uint32_t>::max();\r\n         }\r\n \r\n-        auto num_elems = setup(bytes/sizeof(Element));\r\n+        auto num_elems = setup(requested_num_elems);\r\n \r\n         size_t approx_size_bytes = num_elems * sizeof(Element);\r\n         return std::make_pair(num_elems, approx_size_bytes);\r\n--- a/src/script/sigcache.cpp\r\n+++ b/src/script/sigcache.cpp\r\n@@ -77,7 +77,7 @@ public:\r\n         std::unique_lock<std::shared_mutex> lock(cs_sigcache);\r\n         setValid.insert(entry);\r\n     }\r\n-    std::optional<std::pair<uint32_t, size_t>> setup_bytes(size_t n)\r\n+    std::pair<uint32_t, size_t> setup_bytes(size_t n)\r\n     {\r\n         return setValid.setup_bytes(n);\r\n     }\r\n@@ -96,10 +96,7 @@ static CSignatureCache signatureCache;\r\n // signatureCache.\r\n bool InitSignatureCache(size_t max_size_bytes)\r\n {\r\n-    auto setup_results = signatureCache.setup_bytes(max_size_bytes);\r\n-    if (!setup_results) return false;\r\n-\r\n-    const auto [num_elems, approx_size_bytes] = *setup_results;\r\n+    const auto [num_elems, approx_size_bytes] = signatureCache.setup_bytes(max_size_bytes);\r\n     LogPrintf(\"Using %zu MiB out of %zu MiB requested for signature cache, able to store %zu elements\\n\",\r\n               approx_size_bytes >> 20, max_size_bytes >> 20, num_elems);\r\n     return true;\r\n--- a/src/validation.cpp\r\n+++ b/src/validation.cpp\r\n@@ -1939,10 +1939,8 @@ bool InitScriptExecutionCache(size_t max_size_bytes)\r\n     g_scriptExecutionCacheHasher.Write(nonce.begin(), 32);\r\n     g_scriptExecutionCacheHasher.Write(nonce.begin(), 32);\r\n \r\n-    auto setup_results = g_scriptExecutionCache.setup_bytes(max_size_bytes);\r\n-    if (!setup_results) return false;\r\n+    const auto [num_elems, approx_size_bytes] = g_scriptExecutionCache.setup_bytes(max_size_bytes);\r\n \r\n-    const auto [num_elems, approx_size_bytes] = *setup_results;\r\n     LogPrintf(\"Using %zu MiB out of %zu MiB requested for script execution cache, able to store %zu elements\\n\",\r\n               approx_size_bytes >> 20, max_size_bytes >> 20, num_elems);\r\n     return true;\r\n```\r\n</detail>",
      "created_at": "2024-05-20T18:04:56Z",
      "updated_at": "2024-05-20T18:09:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1607094214",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1607094214"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 933,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1607175446",
      "pull_request_review_id": 2066862012,
      "id": 1607175446,
      "node_id": "PRRC_kwDOABII585fy40W",
      "diff_hunk": "@@ -62,19 +62,11 @@ std::optional<std::pair<uint32_t, size_t>> CSignatureCache::setup_bytes(size_t n\n     return setValid.setup_bytes(n);\n }\n \n-/* In previous versions of this code, signatureCache was a local static variable\n- * in CachingTransactionSignatureChecker::VerifySignature.  We initialize\n- * signatureCache outside of VerifySignature to avoid the atomic operation per\n- * call overhead associated with local static variables even though\n- * signatureCache could be made local to VerifySignature.\n-*/\n-static CSignatureCache signatureCache;\n-\n // To be called once in AppInitMain/BasicTestingSetup to initialize the\n // signatureCache.\n-bool InitSignatureCache(size_t max_size_bytes)\n+bool InitSignatureCache(size_t max_size_bytes, CSignatureCache& signature_cache)",
      "path": "src/script/sigcache.cpp",
      "position": null,
      "original_position": 15,
      "commit_id": "fa660a266b3aa03f40c47a9330e3bce8be89bb54",
      "original_commit_id": "79c9c55b27bd113885da2c36ad76e5ed145027b3",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Any reason to not make `max_size_bytes` a `CSignatureCache` constructor param? That way `InitSignatureCache` could go away.",
      "created_at": "2024-05-20T19:19:12Z",
      "updated_at": "2024-05-20T19:19:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1607175446",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1607175446"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 67,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1607890616",
      "pull_request_review_id": 2067938954,
      "id": 1607890616,
      "node_id": "PRRC_kwDOABII585f1na4",
      "diff_hunk": "@@ -924,7 +930,7 @@ class ChainstateManager\n public:\n     using Options = kernel::ChainstateManagerOpts;\n \n-    explicit ChainstateManager(const util::SignalInterrupt& interrupt, Options options, node::BlockManager::Options blockman_options);\n+    explicit ChainstateManager(const util::SignalInterrupt& interrupt, Options options, node::BlockManager::Options blockman_options, bilingual_str& error);",
      "path": "src/validation.h",
      "position": null,
      "original_position": 45,
      "commit_id": "fa660a266b3aa03f40c47a9330e3bce8be89bb54",
      "original_commit_id": "353ba0a19e73e888b5788f5fa10fca682b5ea4f5",
      "in_reply_to_id": 1607094214,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I like this, no need to introduce all this error handling infrastructure for a debug-only option. Applied.",
      "created_at": "2024-05-21T08:38:04Z",
      "updated_at": "2024-05-21T08:38:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1607890616",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1607890616"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 933,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1608951984",
      "pull_request_review_id": 2069624268,
      "id": 1608951984,
      "node_id": "PRRC_kwDOABII585f5qiw",
      "diff_hunk": "@@ -53,6 +53,16 @@ util::Result<void> ApplyArgsManOptions(const ArgsManager& args, ChainstateManage\n     opts.worker_threads_num = std::clamp(script_threads - 1, 0, MAX_SCRIPTCHECK_THREADS);\n     LogPrintf(\"Script verification uses %d additional threads\\n\", opts.worker_threads_num);\n \n+    if (auto max_size = args.GetIntArg(\"-maxsigcachesize\")) {\n+        // 1. When supplied with a max_size of 0, both InitSignatureCache and\n+        //    InitScriptExecutionCache create the minimum possible cache (2",
      "path": "src/node/chainstatemanager_args.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "fa660a266b3aa03f40c47a9330e3bce8be89bb54",
      "original_commit_id": "4a1df97a016935348e50f384ed52a6671990835f",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Comment is now out of date.",
      "created_at": "2024-05-21T21:06:15Z",
      "updated_at": "2024-05-21T21:06:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1608951984",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1608951984"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 58,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1608966851",
      "pull_request_review_id": 2069646556,
      "id": 1608966851,
      "node_id": "PRRC_kwDOABII585f5uLD",
      "diff_hunk": "@@ -53,6 +53,16 @@ util::Result<void> ApplyArgsManOptions(const ArgsManager& args, ChainstateManage\n     opts.worker_threads_num = std::clamp(script_threads - 1, 0, MAX_SCRIPTCHECK_THREADS);\n     LogPrintf(\"Script verification uses %d additional threads\\n\", opts.worker_threads_num);\n \n+    if (auto max_size = args.GetIntArg(\"-maxsigcachesize\")) {\n+        // 1. When supplied with a max_size of 0, both InitSignatureCache and\n+        //    InitScriptExecutionCache create the minimum possible cache (2",
      "path": "src/node/chainstatemanager_args.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "fa660a266b3aa03f40c47a9330e3bce8be89bb54",
      "original_commit_id": "4a1df97a016935348e50f384ed52a6671990835f",
      "in_reply_to_id": 1608951984,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks, fixed.",
      "created_at": "2024-05-21T21:21:06Z",
      "updated_at": "2024-05-21T21:21:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1608966851",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1608966851"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 58,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1644210320",
      "pull_request_review_id": 2125109551,
      "id": 1644210320,
      "node_id": "PRRC_kwDOABII585iAKiQ",
      "diff_hunk": "@@ -360,16 +360,16 @@ class cache\n      * structure\n      * @returns A pair of the maximum number of elements storable (see setup()\n      * documentation for more detail) and the approximate total size of these\n-     * elements in bytes or std::nullopt if the size requested is too large.\n+     * elements in bytes.\n      */\n-    std::optional<std::pair<uint32_t, size_t>> setup_bytes(size_t bytes)\n+    std::pair<uint32_t, size_t> setup_bytes(size_t bytes)\n     {\n         size_t requested_num_elems = bytes / sizeof(Element);\n         if (std::numeric_limits<uint32_t>::max() < requested_num_elems) {\n-            return std::nullopt;\n+            requested_num_elems = std::numeric_limits<uint32_t>::max();\n         }",
      "path": "src/cuckoocache.h",
      "position": null,
      "original_position": 14,
      "commit_id": "fa660a266b3aa03f40c47a9330e3bce8be89bb54",
      "original_commit_id": "8960bc986b5361108f168c20af280b298061d706",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: declaring `requested_num_elems` as a `uint32_t` would seem more intuitive:\r\n\r\n<details>\r\n<summary>git diff on 8960bc986b</summary>\r\n\r\n```diff\r\ndiff --git a/src/cuckoocache.h b/src/cuckoocache.h\r\nindex c9bd45befc..85556a4da5 100644\r\n--- a/src/cuckoocache.h\r\n+++ b/src/cuckoocache.h\r\n@@ -364,10 +364,10 @@ public:\r\n      */\r\n     std::pair<uint32_t, size_t> setup_bytes(size_t bytes)\r\n     {\r\n-        size_t requested_num_elems = bytes / sizeof(Element);\r\n-        if (std::numeric_limits<uint32_t>::max() < requested_num_elems) {\r\n-            requested_num_elems = std::numeric_limits<uint32_t>::max();\r\n-        }\r\n+        uint32_t requested_num_elems{(uint32_t)std::min(\r\n+            bytes / sizeof(Element),\r\n+            (size_t)std::numeric_limits<uint32_t>::max()\r\n+        )};\r\n \r\n         auto num_elems = setup(requested_num_elems);\r\n \r\n\r\n```\r\n</details>\r\n",
      "created_at": "2024-06-18T10:17:56Z",
      "updated_at": "2024-06-18T20:47:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1644210320",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1644210320"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": 367,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 370,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1644415772",
      "pull_request_review_id": 2125109551,
      "id": 1644415772,
      "node_id": "PRRC_kwDOABII585iA8sc",
      "diff_hunk": "@@ -360,8 +363,13 @@ static_assert(std::is_nothrow_move_assignable_v<CScriptCheck>);\n static_assert(std::is_nothrow_move_constructible_v<CScriptCheck>);\n static_assert(std::is_nothrow_destructible_v<CScriptCheck>);\n \n-/** Initializes the script-execution cache */\n-[[nodiscard]] bool InitScriptExecutionCache(size_t max_size_bytes);\n+/**\n+ * Convenience struct for initializing and passing the script execution cache.\n+ */\n+struct ValidationCache {\n+    ScriptCache m_script_execution_cache;\n+    ValidationCache(size_t script_execution_cache_bytes);",
      "path": "src/validation.h",
      "position": null,
      "original_position": 32,
      "commit_id": "fa660a266b3aa03f40c47a9330e3bce8be89bb54",
      "original_commit_id": "1409fa4f4144308ad8ffeaca927bc76ad982e2a8",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "To minimize future footguns by accidentally passing a cache by value, perhaps best to disable the copy constructor and copy assignment operator? (+ same for `CSignatureCache` in 63923c8da686da42f522771f338ea8f2a4f4e568)\r\n\r\n<details>\r\n<summary>git diff on 1409fa4f41</summary>\r\n\r\n```diff\r\ndiff --git a/src/validation.h b/src/validation.h\r\nindex 9f858bff1d..90f484bc9f 100644\r\n--- a/src/validation.h\r\n+++ b/src/validation.h\r\n@@ -369,6 +369,10 @@ static_assert(std::is_nothrow_destructible_v<CScriptCheck>);\r\n struct ValidationCache {\r\n     ScriptCache m_script_execution_cache;\r\n     ValidationCache(size_t script_execution_cache_bytes);\r\n+\r\n+    // ValidationCache should only be passed by reference or pointer\r\n+    ValidationCache(const ValidationCache&) = delete;\r\n+    ValidationCache& operator=(const ValidationCache&) = delete;\r\n };\r\n \r\n /** Functions for validating blocks and updating the block tree */\r\n\r\n```\r\n</details>\r\n",
      "created_at": "2024-06-18T12:53:01Z",
      "updated_at": "2024-06-18T20:47:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1644415772",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1644415772"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 371,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1645009465",
      "pull_request_review_id": 2125109551,
      "id": 1645009465,
      "node_id": "PRRC_kwDOABII585iDNo5",
      "diff_hunk": "@@ -360,8 +365,16 @@ static_assert(std::is_nothrow_move_assignable_v<CScriptCheck>);\n static_assert(std::is_nothrow_move_constructible_v<CScriptCheck>);\n static_assert(std::is_nothrow_destructible_v<CScriptCheck>);\n \n-/** Initializes the script-execution cache */\n-[[nodiscard]] bool InitScriptExecutionCache(size_t max_size_bytes);\n+/**\n+ * Convenience struct for initializing and passing the script execution cache\n+ * and signature cache.\n+ */\n+struct ValidationCache {\n+    ScriptCache m_script_execution_cache;\n+    CSHA256 m_script_execution_cache_hasher;",
      "path": "src/validation.h",
      "position": 57,
      "original_position": 55,
      "commit_id": "fa660a266b3aa03f40c47a9330e3bce8be89bb54",
      "original_commit_id": "63923c8da686da42f522771f338ea8f2a4f4e568",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "If I understand correctly, `m_script_execution_cache_hasher` is a pre-initialized hasher that we want to copy every time we use it, and we definitely don't want to modify in-place. I think having it as a public struct member is not very robust to enforce that, perhaps better to use a getter here? E.g. something like:\r\n\r\n<details>\r\n<summary>git diff on 63923c8da6</summary>\r\n\r\n```diff\r\ndiff --git a/src/validation.cpp b/src/validation.cpp\r\nindex 39ab7b56ab..600c427c93 100644\r\n--- a/src/validation.cpp\r\n+++ b/src/validation.cpp\r\n@@ -2095,17 +2095,22 @@ bool CScriptCheck::operator()() {\r\n     return VerifyScript(scriptSig, m_tx_out.scriptPubKey, witness, nFlags, CachingTransactionSignatureChecker(ptxTo, nIn, m_tx_out.nValue, cacheStore, *m_signature_cache, *txdata), &error);\r\n }\r\n \r\n-ValidationCache::ValidationCache(size_t script_execution_cache_bytes, size_t signature_cache_bytes)\r\n-    : m_signature_cache{signature_cache_bytes / 2}\r\n+CSHA256 ValidationCache::CreateScriptExecutionCacheHasher()\r\n {\r\n     // Setup the salted hasher\r\n     uint256 nonce = GetRandHash();\r\n     // We want the nonce to be 64 bytes long to force the hasher to process\r\n     // this chunk, which makes later hash computations more efficient. We\r\n     // just write our 32-byte entropy twice to fill the 64 bytes.\r\n-    m_script_execution_cache_hasher.Write(nonce.begin(), 32);\r\n-    m_script_execution_cache_hasher.Write(nonce.begin(), 32);\r\n+    CSHA256 hasher;\r\n+    hasher.Write(nonce.begin(), 32);\r\n+    hasher.Write(nonce.begin(), 32);\r\n+    return hasher;\r\n+}\r\n \r\n+ValidationCache::ValidationCache(size_t script_execution_cache_bytes, size_t signature_cache_bytes)\r\n+    : m_signature_cache{signature_cache_bytes / 2}\r\n+{\r\n     const auto [num_elems, approx_size_bytes] = m_script_execution_cache.setup_bytes(script_execution_cache_bytes);\r\n     LogPrintf(\"Using %zu MiB out of %zu MiB requested for script execution cache, able to store %zu elements\\n\",\r\n               approx_size_bytes >> 20, script_execution_cache_bytes >> 20, num_elems);\r\n@@ -2148,7 +2153,7 @@ bool CheckInputScripts(const CTransaction& tx, TxValidationState& state,\r\n     // properly commits to the scriptPubKey in the inputs view of that\r\n     // transaction).\r\n     uint256 hashCacheEntry;\r\n-    CSHA256 hasher = validation_cache.m_script_execution_cache_hasher;\r\n+    auto hasher{validation_cache.ScriptExecutionCacheHasher()};\r\n     hasher.Write(UCharCast(tx.GetWitnessHash().begin()), 32).Write((unsigned char*)&flags, sizeof(flags)).Finalize(hashCacheEntry.begin());\r\n     AssertLockHeld(cs_main); //TODO: Remove this requirement by making CuckooCache not require external locks\r\n     if (validation_cache.m_script_execution_cache.contains(hashCacheEntry, !cacheFullScriptStore)) {\r\ndiff --git a/src/validation.h b/src/validation.h\r\nindex c4b49ec3e8..1e48f6b4a4 100644\r\n--- a/src/validation.h\r\n+++ b/src/validation.h\r\n@@ -369,11 +369,16 @@ static_assert(std::is_nothrow_destructible_v<CScriptCheck>);\r\n  * Convenience struct for initializing and passing the script execution cache\r\n  * and signature cache.\r\n  */\r\n-struct ValidationCache {\r\n+class ValidationCache {\r\n+public:\r\n     ScriptCache m_script_execution_cache;\r\n-    CSHA256 m_script_execution_cache_hasher;\r\n+    CSHA256 ScriptExecutionCacheHasher() { return m_script_execution_cache_hasher; }\r\n     CSignatureCache m_signature_cache;\r\n     ValidationCache(size_t script_execution_cache_bytes, size_t signature_cache_bytes);\r\n+private:\r\n+    static CSHA256 CreateScriptExecutionCacheHasher();\r\n+    //! Pre-initialized hasher to avoid having to recreate it for every hash calculation\r\n+    const CSHA256 m_script_execution_cache_hasher{CreateScriptExecutionCacheHasher()};\r\n };\r\n \r\n /** Functions for validating blocks and updating the block tree */\r\n\r\n```\r\n</details>\r\n\r\nIt seems this is quite brittle on master too, so not a regression, but probably something to address here?",
      "created_at": "2024-06-18T20:20:15Z",
      "updated_at": "2024-06-18T20:48:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1645009465",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1645009465"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 376,
      "original_line": 376,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1645730446",
      "pull_request_review_id": 2127572221,
      "id": 1645730446,
      "node_id": "PRRC_kwDOABII585iF9qO",
      "diff_hunk": "@@ -360,8 +365,16 @@ static_assert(std::is_nothrow_move_assignable_v<CScriptCheck>);\n static_assert(std::is_nothrow_move_constructible_v<CScriptCheck>);\n static_assert(std::is_nothrow_destructible_v<CScriptCheck>);\n \n-/** Initializes the script-execution cache */\n-[[nodiscard]] bool InitScriptExecutionCache(size_t max_size_bytes);\n+/**\n+ * Convenience struct for initializing and passing the script execution cache\n+ * and signature cache.\n+ */\n+struct ValidationCache {\n+    ScriptCache m_script_execution_cache;\n+    CSHA256 m_script_execution_cache_hasher;",
      "path": "src/validation.h",
      "position": 57,
      "original_position": 55,
      "commit_id": "fa660a266b3aa03f40c47a9330e3bce8be89bb54",
      "original_commit_id": "63923c8da686da42f522771f338ea8f2a4f4e568",
      "in_reply_to_id": 1645009465,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Is there a reason you added a separate initialization function for the hasher?",
      "created_at": "2024-06-19T08:57:18Z",
      "updated_at": "2024-06-19T08:57:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1645730446",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1645730446"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 376,
      "original_line": 376,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1645731158",
      "pull_request_review_id": 2127573308,
      "id": 1645731158,
      "node_id": "PRRC_kwDOABII585iF91W",
      "diff_hunk": "@@ -360,16 +360,16 @@ class cache\n      * structure\n      * @returns A pair of the maximum number of elements storable (see setup()\n      * documentation for more detail) and the approximate total size of these\n-     * elements in bytes or std::nullopt if the size requested is too large.\n+     * elements in bytes.\n      */\n-    std::optional<std::pair<uint32_t, size_t>> setup_bytes(size_t bytes)\n+    std::pair<uint32_t, size_t> setup_bytes(size_t bytes)\n     {\n         size_t requested_num_elems = bytes / sizeof(Element);\n         if (std::numeric_limits<uint32_t>::max() < requested_num_elems) {\n-            return std::nullopt;\n+            requested_num_elems = std::numeric_limits<uint32_t>::max();\n         }",
      "path": "src/cuckoocache.h",
      "position": null,
      "original_position": 14,
      "commit_id": "fa660a266b3aa03f40c47a9330e3bce8be89bb54",
      "original_commit_id": "8960bc986b5361108f168c20af280b298061d706",
      "in_reply_to_id": 1644210320,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Mmh, this does not feel more readable to me, because of the two casts.",
      "created_at": "2024-06-19T08:57:47Z",
      "updated_at": "2024-06-19T08:57:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1645731158",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1645731158"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": 367,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 370,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1645856227",
      "pull_request_review_id": 2127765015,
      "id": 1645856227,
      "node_id": "PRRC_kwDOABII585iGcXj",
      "diff_hunk": "@@ -360,16 +360,16 @@ class cache\n      * structure\n      * @returns A pair of the maximum number of elements storable (see setup()\n      * documentation for more detail) and the approximate total size of these\n-     * elements in bytes or std::nullopt if the size requested is too large.\n+     * elements in bytes.\n      */\n-    std::optional<std::pair<uint32_t, size_t>> setup_bytes(size_t bytes)\n+    std::pair<uint32_t, size_t> setup_bytes(size_t bytes)\n     {\n         size_t requested_num_elems = bytes / sizeof(Element);\n         if (std::numeric_limits<uint32_t>::max() < requested_num_elems) {\n-            return std::nullopt;\n+            requested_num_elems = std::numeric_limits<uint32_t>::max();\n         }",
      "path": "src/cuckoocache.h",
      "position": null,
      "original_position": 14,
      "commit_id": "fa660a266b3aa03f40c47a9330e3bce8be89bb54",
      "original_commit_id": "8960bc986b5361108f168c20af280b298061d706",
      "in_reply_to_id": 1644210320,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It's not really a readability suggestion, I just prefer having `requested_nums_elems` be the integer type for which we're doing the bounds checking. But it's just a nit so happy to leave as is.",
      "created_at": "2024-06-19T10:10:26Z",
      "updated_at": "2024-06-19T10:10:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1645856227",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1645856227"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": 367,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 370,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1645875138",
      "pull_request_review_id": 2127794432,
      "id": 1645875138,
      "node_id": "PRRC_kwDOABII585iGg_C",
      "diff_hunk": "@@ -360,8 +365,16 @@ static_assert(std::is_nothrow_move_assignable_v<CScriptCheck>);\n static_assert(std::is_nothrow_move_constructible_v<CScriptCheck>);\n static_assert(std::is_nothrow_destructible_v<CScriptCheck>);\n \n-/** Initializes the script-execution cache */\n-[[nodiscard]] bool InitScriptExecutionCache(size_t max_size_bytes);\n+/**\n+ * Convenience struct for initializing and passing the script execution cache\n+ * and signature cache.\n+ */\n+struct ValidationCache {\n+    ScriptCache m_script_execution_cache;\n+    CSHA256 m_script_execution_cache_hasher;",
      "path": "src/validation.h",
      "position": 57,
      "original_position": 55,
      "commit_id": "fa660a266b3aa03f40c47a9330e3bce8be89bb54",
      "original_commit_id": "63923c8da686da42f522771f338ea8f2a4f4e568",
      "in_reply_to_id": 1645009465,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Two (soft) reasons:\r\n1. to make `m_script_execution_cache_hasher` `const`\r\n2. having a separate construction function for the hasher seems more composable (e.g. testing the hasher) and makes the `ValidationCache` constructor more readable\r\n\r\nI'm fine with your approach too, though. It addresses my main concern, everything else is more of a nit.",
      "created_at": "2024-06-19T10:22:30Z",
      "updated_at": "2024-06-19T10:22:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1645875138",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1645875138"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 376,
      "original_line": 376,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1646290588",
      "pull_request_review_id": 2128427867,
      "id": 1646290588,
      "node_id": "PRRC_kwDOABII585iIGac",
      "diff_hunk": "@@ -5,23 +5,31 @@\n #include <consensus/validation.h>\n #include <key.h>\n #include <random.h>\n+#include <script/sigcache.h>\n #include <script/sign.h>\n #include <script/signingprovider.h>\n #include <test/util/setup_common.h>\n #include <txmempool.h>\n #include <util/chaintype.h>\n+#include <util/check.h>\n #include <validation.h>\n \n #include <boost/test/unit_test.hpp>\n \n struct Dersig100Setup : public TestChain100Setup {\n+    ValidationCache m_validation_cache;",
      "path": "src/test/txvalidationcache_tests.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "fa660a266b3aa03f40c47a9330e3bce8be89bb54",
      "original_commit_id": "f015a501e4bbb4985b52783591031e4e39496009",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "May be good to explain why this is needed, when `m_node.chainman->m_validation_cache` already exists?",
      "created_at": "2024-06-19T14:17:21Z",
      "updated_at": "2024-06-19T14:17:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1646290588",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1646290588"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1646370563",
      "pull_request_review_id": 2128552072,
      "id": 1646370563,
      "node_id": "PRRC_kwDOABII585iIZ8D",
      "diff_hunk": "@@ -5,23 +5,31 @@\n #include <consensus/validation.h>\n #include <key.h>\n #include <random.h>\n+#include <script/sigcache.h>\n #include <script/sign.h>\n #include <script/signingprovider.h>\n #include <test/util/setup_common.h>\n #include <txmempool.h>\n #include <util/chaintype.h>\n+#include <util/check.h>\n #include <validation.h>\n \n #include <boost/test/unit_test.hpp>\n \n struct Dersig100Setup : public TestChain100Setup {\n+    ValidationCache m_validation_cache;",
      "path": "src/test/txvalidationcache_tests.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "fa660a266b3aa03f40c47a9330e3bce8be89bb54",
      "original_commit_id": "f015a501e4bbb4985b52783591031e4e39496009",
      "in_reply_to_id": 1646290588,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I was thinking it might be useful to control the caches directly for the tests, but on second thought that does not seem like a good thing. Will revert.",
      "created_at": "2024-06-19T15:11:52Z",
      "updated_at": "2024-06-19T15:11:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1646370563",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1646370563"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1646381635",
      "pull_request_review_id": 2128584316,
      "id": 1646381635,
      "node_id": "PRRC_kwDOABII585iIcpD",
      "diff_hunk": "@@ -360,16 +360,15 @@ class cache\n      * structure\n      * @returns A pair of the maximum number of elements storable (see setup()\n      * documentation for more detail) and the approximate total size of these\n-     * elements in bytes or std::nullopt if the size requested is too large.\n+     * elements in bytes.\n      */\n-    std::optional<std::pair<uint32_t, size_t>> setup_bytes(size_t bytes)\n+    std::pair<uint32_t, size_t> setup_bytes(size_t bytes)\n     {\n-        size_t requested_num_elems = bytes / sizeof(Element);\n-        if (std::numeric_limits<uint32_t>::max() < requested_num_elems) {\n-            return std::nullopt;\n-        }\n+        uint32_t requested_num_elems{(uint32_t)std::min(",
      "path": "src/cuckoocache.h",
      "position": 14,
      "original_position": 14,
      "commit_id": "fa660a266b3aa03f40c47a9330e3bce8be89bb54",
      "original_commit_id": "f1dad94b9d51db6dc7702e51f943c24a17222b1a",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: You can combine the cast by using `()` over `{}`. Also you can specify the template to avoid the `size_t` cast, and ensure the right template is always picked:\r\n\r\n```cpp\r\nuint32_t requested_num_elems(std::min<size_t>(",
      "created_at": "2024-06-19T15:19:58Z",
      "updated_at": "2024-06-19T15:19:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1646381635",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1646381635"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 367,
      "original_line": 367,
      "side": "RIGHT"
    }
  ]
}