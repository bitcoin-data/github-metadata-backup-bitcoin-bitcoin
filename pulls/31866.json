{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31866",
    "id": 2336474150,
    "node_id": "PR_kwDOABII586LQ8Qm",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/31866",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/31866.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/31866.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31866",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31866/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31866/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31866/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/8f5228d9239464ece06f3a56372aeec29685801c",
    "number": 31866,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "test, refactor: Add TestNode.binaries to hold binary paths",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "Add new `TestNode.binaries` object to manage paths to bitcoin binaries.\r\n\r\nThe `binaries` object makes it possible for the test framework to exercise the bitcoin wrapper executable introduced in https://github.com/bitcoin/bitcoin/pull/31375 and also makes it easier in general to add new binaries, and new options and environment variables controlling how they are invoked, because logic for invoking them that was previously spread out is now consolidated in one place.\r\n\r\nThese changes were originally part of #31375 but made that PR harder to review because they were unrelated to the other changes there. If this PR can get merged first, python changes in #31375 will be simple, and the test framework changes here should also get a higher quality review.",
    "labels": [],
    "created_at": "2025-02-14T15:45:20Z",
    "updated_at": "2025-02-19T16:33:43Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "5376132ebb6e6b00b0994909cf3396d0f4a678aa",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "ryanofsky:pr/wrapp",
      "ref": "pr/wrapp",
      "sha": "8f5228d9239464ece06f3a56372aeec29685801c",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 69901633,
        "node_id": "MDEwOlJlcG9zaXRvcnk2OTkwMTYzMw==",
        "name": "bitcoin",
        "full_name": "ryanofsky/bitcoin",
        "owner": {
          "login": "ryanofsky",
          "id": 7133040,
          "node_id": "MDQ6VXNlcjcxMzMwNDA=",
          "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/ryanofsky",
          "html_url": "https://github.com/ryanofsky",
          "followers_url": "https://api.github.com/users/ryanofsky/followers",
          "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
          "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
          "repos_url": "https://api.github.com/users/ryanofsky/repos",
          "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/ryanofsky/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/ryanofsky/bitcoin",
        "archive_url": "https://api.github.com/repos/ryanofsky/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/ryanofsky/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/ryanofsky/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/ryanofsky/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/ryanofsky/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/ryanofsky/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/ryanofsky/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/ryanofsky/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/ryanofsky/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/ryanofsky/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/ryanofsky/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/ryanofsky/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/ryanofsky/bitcoin/events",
        "forks_url": "https://api.github.com/repos/ryanofsky/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/ryanofsky/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/ryanofsky/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/ryanofsky/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/ryanofsky/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/ryanofsky/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/ryanofsky/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/ryanofsky/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/ryanofsky/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/ryanofsky/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/ryanofsky/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/ryanofsky/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/ryanofsky/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/ryanofsky/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/ryanofsky/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/ryanofsky/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:ryanofsky/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/ryanofsky/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/ryanofsky/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/ryanofsky/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/ryanofsky/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/ryanofsky/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/ryanofsky/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/ryanofsky/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/ryanofsky/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/ryanofsky/bitcoin/hooks",
        "svn_url": "https://github.com/ryanofsky/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 6,
        "stargazers_count": 16,
        "watchers_count": 16,
        "size": 275348,
        "default_branch": "master",
        "open_issues_count": 3,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-02-19T15:25:04Z",
        "created_at": "2016-10-03T19:05:43Z",
        "updated_at": "2025-02-09T01:43:29Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "43e287b3ff5f0d223b0911b6ef90054ce5eb69d2",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 36750,
        "stargazers_count": 82080,
        "watchers_count": 82080,
        "size": 275668,
        "default_branch": "master",
        "open_issues_count": 685,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-02-19T05:12:56Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-02-19T16:44:31Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31866"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 82,
    "deletions": 38,
    "changed_files": 6,
    "commits": 2,
    "review_comments": 9,
    "comments": 5
  },
  "events": [
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGU2MGZmMTgwYzI5ZGRlNjAxNWYyMTEzMmU5YmMzODQ2YTYwOGVkZjY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e60ff180c29dde6015f21132e9bc3846a608edf6",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e60ff180c29dde6015f21132e9bc3846a608edf6",
      "tree": {
        "sha": "6a33db510872de171e935e00706afc34552e6d37",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6a33db510872de171e935e00706afc34552e6d37"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/73e2ec13737ea497fec2545aab23564e1b8c4adb",
          "sha": "73e2ec13737ea497fec2545aab23564e1b8c4adb",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/73e2ec13737ea497fec2545aab23564e1b8c4adb"
        }
      ],
      "message": "test, refactor: Add TestNode.binaries to hold binary paths\n\nAdd new TestNode.binaries object to manage paths to bitcoin binaries.\n\nHaving this object makes it possible for the test framework to exercise the\nbitcoin wrapper executable introduced in\nhttps://github.com/bitcoin/bitcoin/pull/31375 and also makes it easier to add\nnew binaries and options and environment variables controlling how they are\ninvoked, because logic for invoking them that was previously spread out is now\nconsolidated in one place.\n\nCo-authored-by: Sjors Provoost <sjors@sprovoost.nl>",
      "committer": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2025-02-14T13:19:12Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-11-26T16:51:41Z"
      },
      "sha": "e60ff180c29dde6015f21132e9bc3846a608edf6"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDhmNTIyOGQ5MjM5NDY0ZWNlMDZmM2E1NjM3MmFlZWMyOTY4NTgwMWM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8f5228d9239464ece06f3a56372aeec29685801c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/8f5228d9239464ece06f3a56372aeec29685801c",
      "tree": {
        "sha": "92cfed0b94f88625b983541d542846f2b82f3cd8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/92cfed0b94f88625b983541d542846f2b82f3cd8"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e60ff180c29dde6015f21132e9bc3846a608edf6",
          "sha": "e60ff180c29dde6015f21132e9bc3846a608edf6",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/e60ff180c29dde6015f21132e9bc3846a608edf6"
        }
      ],
      "message": "test, contrib: Fix signer/miner command line escaping\n\nPass bitcoin binary command lines from test framework to signet/miner utility\nusing shell escaping so they are unambigous and don't get mangled if they\ncontain spaces.\n\nThis change is not needed for tests to pass currently, but is a useful change\nto avoid CI failures in followup PR\nhttps://github.com/bitcoin/bitcoin/pull/31375 and to avoid other bugs.",
      "committer": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2025-02-14T13:19:12Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-11-26T16:51:41Z"
      },
      "sha": "8f5228d9239464ece06f3a56372aeec29685801c"
    },
    {
      "event": "commented",
      "id": 2659667498,
      "node_id": "IC_kwDOABII586eh04q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2659667498",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-14T15:45:25Z",
      "updated_at": "2025-02-19T16:33:43Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/31866.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [maflcko](https://github.com/bitcoin/bitcoin/pull/31866#issuecomment-2669124512) |\n| Concept ACK | [Sjors](https://github.com/bitcoin/bitcoin/pull/31866#issuecomment-2669165993) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#31723](https://github.com/bitcoin/bitcoin/pull/31723) (qa debug: Add --debug_runs/-waitfordebugger [DRAFT] by hodlinator)\n* [#31375](https://github.com/bitcoin/bitcoin/pull/31375) (multiprocess: Add bitcoin wrapper executable by ryanofsky)\n* [#31250](https://github.com/bitcoin/bitcoin/pull/31250) (wallet: Disable creating and loading legacy wallets by achow101)\n* [#29838](https://github.com/bitcoin/bitcoin/pull/29838) (Feature: Use different datadirs for different signets by BrandonOdiwuor)\n* [#28710](https://github.com/bitcoin/bitcoin/pull/28710) (Remove the legacy wallet and BDB dependency by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31866#issuecomment-2659667498",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31866"
    },
    {
      "event": "reviewed",
      "id": 2622863309,
      "node_id": "PRR_kwDOABII586cVbfN",
      "url": null,
      "actor": null,
      "commit_id": "bfadc7d241a6288e70fb0c58b6ad5fa5a305af51",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "left a question",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31866#pullrequestreview-2622863309",
      "submitted_at": "2025-02-18T10:04:28Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31866"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 16355284168,
      "node_id": "HRFPE_lADOABII586qHYEpzwAAAAPO2dTI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16355284168",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "11615b1025a09e62f12224ae55c92fe85c42b24c",
      "commit_url": "https://api.github.com/repos/ryanofsky/bitcoin/commits/11615b1025a09e62f12224ae55c92fe85c42b24c",
      "created_at": "2025-02-18T20:34:51Z"
    },
    {
      "event": "reviewed",
      "id": 2624615771,
      "node_id": "PRR_kwDOABII586ccHVb",
      "url": null,
      "actor": null,
      "commit_id": "11615b1025a09e62f12224ae55c92fe85c42b24c",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Thanks for the review! Updated with some simplifications and cleanups based on your suggestions.\r\n\r\nUpdated bfadc7d241a6288e70fb0c58b6ad5fa5a305af51 -> 11615b1025a09e62f12224ae55c92fe85c42b24c ([`pr/wrapp.1`](https://github.com/ryanofsky/bitcoin/commits/pr/wrapp.1) -> [`pr/wrapp.2`](https://github.com/ryanofsky/bitcoin/commits/pr/wrapp.2), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/wrapp.1..pr/wrapp.2)) adding get_binaries method, renaming some variables, and avoiding `getattr`.\r\n",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31866#pullrequestreview-2624615771",
      "submitted_at": "2025-02-18T20:36:04Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31866"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 16355327940,
      "node_id": "HRFPE_lADOABII586qHYEpzwAAAAPO2n_E",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16355327940",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "8f5228d9239464ece06f3a56372aeec29685801c",
      "commit_url": "https://api.github.com/repos/ryanofsky/bitcoin/commits/8f5228d9239464ece06f3a56372aeec29685801c",
      "created_at": "2025-02-18T20:39:21Z"
    },
    {
      "event": "labeled",
      "id": 16355328645,
      "node_id": "LE_lADOABII586qHYEpzwAAAAPO2oKF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16355328645",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-18T20:39:26Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2666883302,
      "node_id": "IC_kwDOABII586e9Wjm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2666883302",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-18T20:39:27Z",
      "updated_at": "2025-02-18T20:39:27Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/37426971220</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31866#issuecomment-2666883302",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31866"
    },
    {
      "event": "commented",
      "id": 2666883972,
      "node_id": "IC_kwDOABII586e9WuE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2666883972",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-18T20:39:49Z",
      "updated_at": "2025-02-18T20:55:38Z",
      "author_association": "CONTRIBUTOR",
      "body": "Updated 11615b1025a09e62f12224ae55c92fe85c42b24c -> 8f5228d9239464ece06f3a56372aeec29685801c ([`pr/wrapp.2`](https://github.com/ryanofsky/bitcoin/commits/pr/wrapp.2) -> [`pr/wrapp.3`](https://github.com/ryanofsky/bitcoin/commits/pr/wrapp.3), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/wrapp.2..pr/wrapp.3)) to fix lint errors https://cirrus-ci.com/task/6024617585803264",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31866#issuecomment-2666883972",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31866"
    },
    {
      "event": "unlabeled",
      "id": 16356660692,
      "node_id": "UNLE_lADOABII586qHYEpzwAAAAPO7tXU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16356660692",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-18T23:00:13Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2669124512,
      "node_id": "IC_kwDOABII586fF5ug",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2669124512",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-19T16:17:25Z",
      "updated_at": "2025-02-19T16:17:25Z",
      "author_association": "MEMBER",
      "body": "review ACK 8f5228d9239464ece06f3a56372aeec29685801c ðŸ˜¸\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\nuntrusted comment: signature from minisign secret key on empty file; verify via: minisign -Vm \"${path_to_any_empty_file}\" -P RWTRmVTMeKV5noAMqVlsMugDDCyyTSbA3Re5AkUrhvLVln0tSaFWglOw -x \"${path_to_this_whole_four_line_signature_blob}\"\r\nRUTRmVTMeKV5npGrKx1nqXCw5zeVHdtdYURB/KlyA/LMFgpNCs+SkW9a8N95d+U4AP1RJMi+krxU1A3Yux4bpwZNLvVBKy0wLgM=\r\ntrusted comment: review ACK 8f5228d9239464ece06f3a56372aeec29685801c ðŸ˜¸\r\net5ca1pe7unBgpCKoxG/XauMAz7SfwmVFTEe7+IgI/62K1awvsuMRPfCjwxGCyBqSTmRCIRRmrzoZ3Czy4lkCQ==\r\n```\r\n\r\n</details>\r\n",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31866#issuecomment-2669124512",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31866"
    },
    {
      "event": "commented",
      "id": 2669165993,
      "node_id": "IC_kwDOABII586fGD2p",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2669165993",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-19T16:33:39Z",
      "updated_at": "2025-02-19T16:33:39Z",
      "author_association": "MEMBER",
      "body": "Concept ACK. Reviewed as part of #31375, but did not check if they're identical.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31866#issuecomment-2669165993",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31866"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1959328055",
      "pull_request_review_id": 2622863309,
      "id": 1959328055,
      "node_id": "PRRC_kwDOABII5850yPk3",
      "diff_hunk": "@@ -56,6 +57,48 @@ def __init__(self, message):\n         self.message = message\n \n \n+class Binaries:\n+    \"\"\"Helper class to provide information about bitcoin binaries\n+\n+    Attributes:\n+        paths: Object returned from get_binary_paths() containing information\n+            which binaries and command lines to use from environment variables and\n+            the config file.\n+        bin_path: An optional string containing a directory path to look for\n+            binaries, which takes precedence over the paths above, if specified.\n+            This is used by tests calling binaries from previous releases.\n+    \"\"\"\n+    def __init__(self, paths, bin_path=None):\n+        self.paths = paths\n+        self.bin_path = bin_path\n+\n+    def daemon_argv(self):\n+        \"Return argv array that should be used to invoke bitcoind\"\n+        return self._argv(\"bitcoind\")\n+\n+    def rpc_argv(self):",
      "path": "test/functional/test_framework/test_framework.py",
      "position": 31,
      "original_position": 31,
      "commit_id": "8f5228d9239464ece06f3a56372aeec29685801c",
      "original_commit_id": "e58f5e0e6180e0f0f39d4fb52d1ed822cbde1078",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit in e58f5e0e6180e0f0f39d4fb52d1ed822cbde1078: Could name this `cli_argv` to keep inline with the name of the exe and to avoid confusion with the existing `TestNode::rpc` and `TestNode::cli` naming?",
      "created_at": "2025-02-18T09:02:14Z",
      "updated_at": "2025-02-18T10:04:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31866#discussion_r1959328055",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1959328055"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31866"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 79,
      "original_line": 79,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1959395105",
      "pull_request_review_id": 2622863309,
      "id": 1959395105,
      "node_id": "PRRC_kwDOABII5850yf8h",
      "diff_hunk": "@@ -18,6 +18,7 @@\n import sys\n import tempfile\n import time\n+import types",
      "path": "test/functional/test_framework/test_framework.py",
      "position": 4,
      "original_position": 4,
      "commit_id": "8f5228d9239464ece06f3a56372aeec29685801c",
      "original_commit_id": "e58f5e0e6180e0f0f39d4fb52d1ed822cbde1078",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit in https://github.com/bitcoin/bitcoin/commit/e58f5e0e6180e0f0f39d4fb52d1ed822cbde1078: Is there a reason to use types, when a simple dict seems sufficient to store key-value pairs?",
      "created_at": "2025-02-18T09:43:59Z",
      "updated_at": "2025-02-18T10:04:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31866#discussion_r1959395105",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1959395105"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31866"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 21,
      "original_line": 21,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1959430288",
      "pull_request_review_id": 2622863309,
      "id": 1959430288,
      "node_id": "PRRC_kwDOABII5850yoiQ",
      "diff_hunk": "@@ -112,7 +115,7 @@ def run_test(self):\n \n             def do_wallet_tool(*args):\n                 proc = subprocess.Popen(\n-                    [self.options.bitcoinwallet, f\"-datadir={self.nodes[0].datadir_path}\", f\"-chain={self.chain}\"] + list(args),\n+                    Binaries(self.paths).wallet_argv() + [f\"-datadir={self.nodes[0].datadir_path}\", f\"-chain={self.chain}\"] + list(args),",
      "path": "test/functional/wallet_encryption.py",
      "position": null,
      "original_position": 17,
      "commit_id": "8f5228d9239464ece06f3a56372aeec29685801c",
      "original_commit_id": "e58f5e0e6180e0f0f39d4fb52d1ed822cbde1078",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit in https://github.com/bitcoin/bitcoin/commit/e58f5e0e6180e0f0f39d4fb52d1ed822cbde1078: I'd say it would be clearer to not have `self.paths` at all, and also remove the need to somehow import and handle `Binaries` in individual tests.\r\n\r\nIt would be better to fully move all touched code of this pull into `TestNode` and only allow getting binaries through the `TestNode` interface. The reasons are:\r\n\r\n* All functional tests revolve around nodes (and their datadirs) and it is hard to imagine a test that calls the wallet util (or another executable) without also depending on a node. Even if there were a few of such tests, I still think it would be clearer to access the util via the `TestNode` like `self.nodes[0].wallet_argv()`.\r\n* In the context of previous releases, it is confusing to have `Binaries(self.paths)` for the \"global master\" binaries/paths and a second set of binaries in `TestNode`. It would be clearer to just have the `TestNode` ones, so that `previous_node.wallet_argv()` calls a previous release binary and `current_node.wallet_argv()` calls the current release binary.",
      "created_at": "2025-02-18T10:04:18Z",
      "updated_at": "2025-02-18T10:04:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31866#discussion_r1959430288",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1959430288"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31866"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 118,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1960332653",
      "pull_request_review_id": 2624615771,
      "id": 1960332653,
      "node_id": "PRRC_kwDOABII58502E1t",
      "diff_hunk": "@@ -18,6 +18,7 @@\n import sys\n import tempfile\n import time\n+import types",
      "path": "test/functional/test_framework/test_framework.py",
      "position": 4,
      "original_position": 4,
      "commit_id": "8f5228d9239464ece06f3a56372aeec29685801c",
      "original_commit_id": "e58f5e0e6180e0f0f39d4fb52d1ed822cbde1078",
      "in_reply_to_id": 1959395105,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "re: https://github.com/bitcoin/bitcoin/pull/31866#discussion_r1959395105\r\n\r\n> nit in [e58f5e0](https://github.com/bitcoin/bitcoin/commit/e58f5e0e6180e0f0f39d4fb52d1ed822cbde1078): Is there a reason to use types, when a simple dict seems sufficient to store key-value pairs?\r\n\r\nImo, plain objects are simpler than dicts, more readable (`o.prop` vs `d[\"prop\"]`) and more compatible with useful features like static type checking.\r\n\r\nRight now the `paths` object is just a collection of paths to executables, but in followup 60b89ab4897e175c8d73a5dd21cd52a0c0c790ef from #31375 it gets a new `bitcoin_cmd` member that can be set to a more generic command line, and in the future if we add other environment variables or configuration values that influence how binaries are located, it could contain other information, which a dict would only make more awkward to access.\r\n\r\nHowever, if you are not a fan of `types.SimpleNamespace`for some reason, I could drop it and declare a custom `class BinaryPaths`. Would just be a little more verbose.",
      "created_at": "2025-02-18T18:49:50Z",
      "updated_at": "2025-02-18T20:36:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31866#discussion_r1960332653",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1960332653"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31866"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 21,
      "original_line": 21,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1960373605",
      "pull_request_review_id": 2624615771,
      "id": 1960373605,
      "node_id": "PRRC_kwDOABII58502O1l",
      "diff_hunk": "@@ -56,6 +57,48 @@ def __init__(self, message):\n         self.message = message\n \n \n+class Binaries:\n+    \"\"\"Helper class to provide information about bitcoin binaries\n+\n+    Attributes:\n+        paths: Object returned from get_binary_paths() containing information\n+            which binaries and command lines to use from environment variables and\n+            the config file.\n+        bin_path: An optional string containing a directory path to look for\n+            binaries, which takes precedence over the paths above, if specified.\n+            This is used by tests calling binaries from previous releases.\n+    \"\"\"\n+    def __init__(self, paths, bin_path=None):\n+        self.paths = paths\n+        self.bin_path = bin_path\n+\n+    def daemon_argv(self):\n+        \"Return argv array that should be used to invoke bitcoind\"\n+        return self._argv(\"bitcoind\")\n+\n+    def rpc_argv(self):",
      "path": "test/functional/test_framework/test_framework.py",
      "position": 31,
      "original_position": 31,
      "commit_id": "8f5228d9239464ece06f3a56372aeec29685801c",
      "original_commit_id": "e58f5e0e6180e0f0f39d4fb52d1ed822cbde1078",
      "in_reply_to_id": 1959328055,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "re: https://github.com/bitcoin/bitcoin/pull/31866#discussion_r1959328055\r\n\r\n> nit in [e58f5e0](https://github.com/bitcoin/bitcoin/commit/e58f5e0e6180e0f0f39d4fb52d1ed822cbde1078): Could name this `cli_argv` to keep inline with the name of the exe and to avoid confusion with the existing `TestNode::rpc` and `TestNode::cli` naming?\r\n\r\nFollowup commit 60b89ab4897e175c8d73a5dd21cd52a0c0c790ef from #31375 might provide context because these names just match names of `bitcoin` subcommands.\r\n\r\nTo answer this more directly, all of this classes's methods return command lines, so calling the one that returns a command line for call an rpc \"cli\" instead of \"rpc\" seems less descriptive, not more descriptive. \r\n\r\nIf these were TestNode methods, I would agree with your point about the `rpc_argv()` method looking too much like `TestNode.rpc`. But the `Binaries` class is a separate class that doesn't reference the `TestNode` object and can be used independently.\r\n\r\nIf there are places you see this method being called that are confusing, it would be good to address, but I wouldn't want to call this one method \"cli\" when all the methods here are returning command lines.",
      "created_at": "2025-02-18T19:00:00Z",
      "updated_at": "2025-02-18T20:36:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31866#discussion_r1960373605",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1960373605"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31866"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 79,
      "original_line": 79,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1960517840",
      "pull_request_review_id": 2624615771,
      "id": 1960517840,
      "node_id": "PRRC_kwDOABII58502yDQ",
      "diff_hunk": "@@ -112,7 +115,7 @@ def run_test(self):\n \n             def do_wallet_tool(*args):\n                 proc = subprocess.Popen(\n-                    [self.options.bitcoinwallet, f\"-datadir={self.nodes[0].datadir_path}\", f\"-chain={self.chain}\"] + list(args),\n+                    Binaries(self.paths).wallet_argv() + [f\"-datadir={self.nodes[0].datadir_path}\", f\"-chain={self.chain}\"] + list(args),",
      "path": "test/functional/wallet_encryption.py",
      "position": null,
      "original_position": 17,
      "commit_id": "8f5228d9239464ece06f3a56372aeec29685801c",
      "original_commit_id": "e58f5e0e6180e0f0f39d4fb52d1ed822cbde1078",
      "in_reply_to_id": 1959430288,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "re: https://github.com/bitcoin/bitcoin/pull/31866#discussion_r1959430288\r\n\r\n> nit in [e58f5e0](https://github.com/bitcoin/bitcoin/commit/e58f5e0e6180e0f0f39d4fb52d1ed822cbde1078): I'd say it would be clearer to not have `self.paths` at all, and also remove the need to somehow import and handle `Binaries` in individual tests.\r\n\r\nThat's a good idea. Added a `TestFramework.get_binaries()` method to make this more convenient. There are only 3 tests that use it, but it is also convenient to use internally.\r\n\r\nI am not sure why you would want to get rid of the `TestFramework.paths` variable entirely. As an alternative I guess we could keep the existing `TestFramework.bitcoind` `TestFramework.bitcoincli` `TestFramework.bitcoinutil` and `TestFramework.bitcoinwallet` variables and add even more variables like these in the future. But I thought would be a clear improvement to move these variables into a `TestFramework.paths` object so `TestFramework` class would be more comprehensible and so interaction between the `TestFramework` class and the `Binaries` class would not require passing individual options around or adding a circular dependency.\r\n\r\n> It would be better to fully move all touched code of this pull into `TestNode` and only allow getting binaries through the `TestNode` interface.\r\n\r\nThis doesn't make much sense to me. I wouldn't want tests to be using `self.nodes[0].binaries` if they aren't actually interacting with node 0, and when a node 0 object might not even exist. If tests just need to call some binaries, they should be able to use a standalone binaries object without creating a fake node or going through an unrelated node.\r\n\r\nI also don't understand what you are saying about \"global master\" binaries in the previous releases code. The latest version should be a little simpler now with `get_binaries` method and I'm open to any suggestions to simplify it more.",
      "created_at": "2025-02-18T20:04:25Z",
      "updated_at": "2025-02-18T20:36:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31866#discussion_r1960517840",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1960517840"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31866"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 118,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1961532157",
      "pull_request_review_id": 2626544766,
      "id": 1961532157,
      "node_id": "PRRC_kwDOABII58506pr9",
      "diff_hunk": "@@ -112,7 +115,7 @@ def run_test(self):\n \n             def do_wallet_tool(*args):\n                 proc = subprocess.Popen(\n-                    [self.options.bitcoinwallet, f\"-datadir={self.nodes[0].datadir_path}\", f\"-chain={self.chain}\"] + list(args),\n+                    Binaries(self.paths).wallet_argv() + [f\"-datadir={self.nodes[0].datadir_path}\", f\"-chain={self.chain}\"] + list(args),",
      "path": "test/functional/wallet_encryption.py",
      "position": null,
      "original_position": 17,
      "commit_id": "8f5228d9239464ece06f3a56372aeec29685801c",
      "original_commit_id": "e58f5e0e6180e0f0f39d4fb52d1ed822cbde1078",
      "in_reply_to_id": 1959430288,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> > It would be better to fully move all touched code of this pull into `TestNode` and only allow getting binaries through the `TestNode` interface.\r\n> \r\n> This doesn't make much sense to me. I wouldn't want tests to be using `self.nodes[0].binaries` if they aren't actually interacting with node 0, and when a node 0 object might not even exist. If tests just need to call some binaries, they should be able to use a standalone binaries object without creating a fake node or going through an unrelated node.\r\n\r\nI understand your point, but the whole test framework is built around the concept of \"nodes\", where the version of the nodes is given in a `versions` array. Normally, it is not supported to use bitcoincli of one version with bitcoind of another version. (The wallet tool may be an exception, because it doesn't speak with another binary, but only interacts with the datadir.) So normally, I expect binaries interacting only with binaries of their own version. So I think it would be simpler to mirror this expectation by default. When a test violates this expectation, it could be worked around for the specific test only, and it would be obvious.\r\n\r\nI see your point about not wanting to use `self.nodes[0].binaries`, so an alternative might be to remove `TestFramework::binary_paths` and instead add an array of the same size as the versions array to store the result of a call to `[Binaries(self.get_binary_paths(), bin_dir_from_version(v)) for v in versions]`.\r\n\r\nWith that suggestion, I expect it would be easier to call the right binary (if several versions are used in the same test). But no strong opinion.",
      "created_at": "2025-02-19T11:46:04Z",
      "updated_at": "2025-02-19T11:46:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31866#discussion_r1961532157",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1961532157"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31866"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 118,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1961806652",
      "pull_request_review_id": 2627030695,
      "id": 1961806652,
      "node_id": "PRRC_kwDOABII58507ss8",
      "diff_hunk": "@@ -112,7 +115,7 @@ def run_test(self):\n \n             def do_wallet_tool(*args):\n                 proc = subprocess.Popen(\n-                    [self.options.bitcoinwallet, f\"-datadir={self.nodes[0].datadir_path}\", f\"-chain={self.chain}\"] + list(args),\n+                    Binaries(self.paths).wallet_argv() + [f\"-datadir={self.nodes[0].datadir_path}\", f\"-chain={self.chain}\"] + list(args),",
      "path": "test/functional/wallet_encryption.py",
      "position": null,
      "original_position": 17,
      "commit_id": "8f5228d9239464ece06f3a56372aeec29685801c",
      "original_commit_id": "e58f5e0e6180e0f0f39d4fb52d1ed822cbde1078",
      "in_reply_to_id": 1959430288,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "re: https://github.com/bitcoin/bitcoin/pull/31866#discussion_r1961532157\r\n\r\n> I see your point about not wanting to use `self.nodes[0].binaries`, so an alternative might be to remove `TestFramework::binary_paths` and instead add an array of the same size as the versions array to store the result of a call to `[Binaries(self.get_binary_paths(), bin_dir_from_version(v)) for v in versions]`.\r\n\r\nI think I don't fully understand the suggestion and the problem this is trying to solve. If the goal is to drop the `TestFramework.binary_paths` variable, that could be done pretty easily with:\r\n\r\n<details><summary>diff</summary>\r\n<p>\r\n\r\n```diff\r\n--- a/test/functional/test_framework/test_framework.py\r\n+++ b/test/functional/test_framework/test_framework.py\r\n@@ -263,7 +263,6 @@ class BitcoinTestFramework(metaclass=BitcoinTestMetaClass):\r\n         config = configparser.ConfigParser()\r\n         config.read_file(open(self.options.configfile))\r\n         self.config = config\r\n-        self.binary_paths = self.get_binary_paths()\r\n         if self.options.v1transport:\r\n             self.options.v2transport=False\r\n \r\n@@ -307,7 +306,7 @@ class BitcoinTestFramework(metaclass=BitcoinTestMetaClass):\r\n         return paths\r\n \r\n     def get_binaries(self, bin_dir=None):\r\n-        return Binaries(self.binary_paths, bin_dir)\r\n+        return Binaries(self.get_binary_paths(), bin_dir)\r\n \r\n     def setup(self):\r\n         \"\"\"Call this method to start up the test framework object with options set.\"\"\"\r\n```\r\n</p>\r\n</details>\r\n\r\nOr if the problem is that having a `BitcoinTestFramework.get_binaries()` method is bad because developers might  call this method to access binaries in cases where it would be better to use the `TestNode.binaries` object instead, then maybe better documentation might be helpful:\r\n\r\n<details><summary>diff</summary>\r\n<p>\r\n\r\n```diff\r\n--- a/test/functional/test_framework/test_framework.py\r\n+++ b/test/functional/test_framework/test_framework.py\r\n@@ -307,6 +307,10 @@ class BitcoinTestFramework(metaclass=BitcoinTestMetaClass):\r\n         return paths\r\n \r\n     def get_binaries(self, bin_dir=None):\r\n+        \"\"\"Return new Binaries object that can be used to call binaries.\r\n+\r\n+        Typically tests will not need to call this method themselves and can use\r\n+        the TestNode.binaries objects assigned to each test node.\"\"\"\r\n         return Binaries(self.binary_paths, bin_dir)\r\n \r\n     def setup(self):\r\n```\r\n</p>\r\n</details>\r\n\r\nI'm sure other changes might be good too, you can let me know what you think might be useful, or if there is another problem with the current approach that I'm not seeing.",
      "created_at": "2025-02-19T14:39:47Z",
      "updated_at": "2025-02-19T14:39:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31866#discussion_r1961806652",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1961806652"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31866"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 118,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1961985647",
      "pull_request_review_id": 2627331301,
      "id": 1961985647,
      "node_id": "PRRC_kwDOABII58508YZv",
      "diff_hunk": "@@ -112,7 +115,7 @@ def run_test(self):\n \n             def do_wallet_tool(*args):\n                 proc = subprocess.Popen(\n-                    [self.options.bitcoinwallet, f\"-datadir={self.nodes[0].datadir_path}\", f\"-chain={self.chain}\"] + list(args),\n+                    Binaries(self.paths).wallet_argv() + [f\"-datadir={self.nodes[0].datadir_path}\", f\"-chain={self.chain}\"] + list(args),",
      "path": "test/functional/wallet_encryption.py",
      "position": null,
      "original_position": 17,
      "commit_id": "8f5228d9239464ece06f3a56372aeec29685801c",
      "original_commit_id": "e58f5e0e6180e0f0f39d4fb52d1ed822cbde1078",
      "in_reply_to_id": 1959430288,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Just a nit, anything is fine here. Further clean-ups can trivially done as a follow-up, if there is need to.",
      "created_at": "2025-02-19T16:17:11Z",
      "updated_at": "2025-02-19T16:17:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31866#discussion_r1961985647",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1961985647"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31866"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 118,
      "side": "RIGHT"
    }
  ]
}