{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201",
    "id": 750480423,
    "node_id": "PR_kwDOABII584su2wn",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23201",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/23201.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/23201.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23201",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23201/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/3866272c450cc659207fbc2cff3c690ae8593341",
    "number": 23201,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "wallet: Allow users to specify input weights when funding a transaction",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "When funding a transaction with external inputs, instead of providing solving data, a user may want to just provide the maximum signed size of that input. This is particularly useful in cases where the input is nonstandard as our dummy signer is unable to handle those inputs.\r\n\r\nThe input weight can be provided to any input regardless of whether it belongs to the wallet and the provided weight will always be used regardless of any calculated input weight. This allows the user to override the calculated input weight which may overestimate in some circumstances due to missing information (e.g. if the private key is not known, a maximum size signature will be used, but the actual signer may be doing additional work which reduces the size of the signature).\r\n\r\nFor `send` and `walletcreatefundedpsbt`, the input weight is specified in a `weight` field in an input object. For `fundrawtransaction`,  a new `input_weights` field is added to the `options` object. This is an array of objects consisting of a txid, vout, and weight.\r\n\r\nCloses #23187",
    "labels": [
      {
        "id": 149424,
        "node_id": "MDU6TGFiZWwxNDk0MjQ=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
        "name": "Wallet",
        "color": "08a781",
        "default": false
      },
      {
        "id": 98279177,
        "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
        "name": "RPC/REST/ZMQ",
        "color": "0052cc",
        "default": false
      }
    ],
    "created_at": "2021-10-05T23:15:15Z",
    "updated_at": "2023-01-25T10:09:33Z",
    "closed_at": "2022-01-25T16:51:43Z",
    "mergeable_state": "unknown",
    "merged_at": "2022-01-25T16:51:43Z",
    "merge_commit_sha": "b94d0c7af11bd91dad4f180ce2a2ffa09e4b5668",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "achow101:ext-input-weight",
      "ref": "ext-input-weight",
      "sha": "3866272c450cc659207fbc2cff3c690ae8593341",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 45006379,
        "node_id": "MDEwOlJlcG9zaXRvcnk0NTAwNjM3OQ==",
        "name": "bitcoin",
        "full_name": "achow101/bitcoin",
        "owner": {
          "login": "achow101",
          "id": 3782274,
          "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
          "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/achow101",
          "html_url": "https://github.com/achow101",
          "followers_url": "https://api.github.com/users/achow101/followers",
          "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
          "organizations_url": "https://api.github.com/users/achow101/orgs",
          "repos_url": "https://api.github.com/users/achow101/repos",
          "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/achow101/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/achow101/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/achow101/bitcoin",
        "archive_url": "https://api.github.com/repos/achow101/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/achow101/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/achow101/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/achow101/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/achow101/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/achow101/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/achow101/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/achow101/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/achow101/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/achow101/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/achow101/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/achow101/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/achow101/bitcoin/events",
        "forks_url": "https://api.github.com/repos/achow101/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/achow101/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/achow101/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/achow101/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/achow101/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/achow101/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/achow101/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/achow101/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/achow101/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/achow101/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/achow101/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/achow101/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/achow101/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/achow101/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/achow101/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/achow101/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:achow101/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/achow101/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/achow101/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/achow101/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/achow101/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/achow101/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/achow101/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/achow101/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/achow101/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/achow101/bitcoin/hooks",
        "svn_url": "https://github.com/achow101/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 9,
        "stargazers_count": 35,
        "watchers_count": 35,
        "size": 243677,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-02T20:20:33Z",
        "created_at": "2015-10-27T00:20:28Z",
        "updated_at": "2023-07-28T14:25:30Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "e3de7cb9039770e0fd5b8bb8a5cba35c87ae8f00",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35476,
        "stargazers_count": 70608,
        "watchers_count": 70608,
        "size": 236222,
        "default_branch": "master",
        "open_issues_count": 672,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-02T20:20:41Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-08-02T18:21:18Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 376,
    "deletions": 18,
    "changed_files": 9,
    "commits": 4,
    "review_comments": 79,
    "comments": 13
  },
  "events": [
    {
      "event": "head_ref_force_pushed",
      "id": 5414383415,
      "node_id": "HRFPE_lADOABII5848nqV-zwAAAAFCuO83",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5414383415",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-05T23:15:23Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5414388643,
      "node_id": "HRFPE_lADOABII5848nqV-zwAAAAFCuQOj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5414388643",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-05T23:16:24Z"
    },
    {
      "event": "commented",
      "id": 935049936,
      "node_id": "IC_kwDOABII5843u7rQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/935049936",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-05T23:22:16Z",
      "updated_at": "2021-10-05T23:22:16Z",
      "author_association": "MEMBER",
      "body": "Note that bumpfee does not take this into account yet, but it's next on my list.",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#issuecomment-935049936",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23201"
    },
    {
      "event": "commented",
      "id": 935053378,
      "node_id": "IC_kwDOABII5843u8hC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/935053378",
      "actor": {
        "login": "meshcollider",
        "id": 3211283,
        "node_id": "MDQ6VXNlcjMyMTEyODM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/meshcollider",
        "html_url": "https://github.com/meshcollider",
        "followers_url": "https://api.github.com/users/meshcollider/followers",
        "following_url": "https://api.github.com/users/meshcollider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/meshcollider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/meshcollider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
        "organizations_url": "https://api.github.com/users/meshcollider/orgs",
        "repos_url": "https://api.github.com/users/meshcollider/repos",
        "events_url": "https://api.github.com/users/meshcollider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/meshcollider/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-05T23:23:46Z",
      "updated_at": "2021-10-05T23:23:46Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "meshcollider",
        "id": 3211283,
        "node_id": "MDQ6VXNlcjMyMTEyODM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/meshcollider",
        "html_url": "https://github.com/meshcollider",
        "followers_url": "https://api.github.com/users/meshcollider/followers",
        "following_url": "https://api.github.com/users/meshcollider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/meshcollider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/meshcollider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
        "organizations_url": "https://api.github.com/users/meshcollider/orgs",
        "repos_url": "https://api.github.com/users/meshcollider/repos",
        "events_url": "https://api.github.com/users/meshcollider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/meshcollider/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#issuecomment-935053378",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23201"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5414432439,
      "node_id": "HRFPE_lADOABII5848nqV-zwAAAAFCua63",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5414432439",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-05T23:24:44Z"
    },
    {
      "event": "labeled",
      "id": 5414455287,
      "node_id": "LE_lADOABII5848nqV-zwAAAAFCugf3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5414455287",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-05T23:29:13Z",
      "label": {
        "name": "RPC/REST/ZMQ",
        "color": "0052cc"
      }
    },
    {
      "event": "labeled",
      "id": 5414455288,
      "node_id": "LE_lADOABII5848nqV-zwAAAAFCugf4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5414455288",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-05T23:29:14Z",
      "label": {
        "name": "Wallet",
        "color": "08a781"
      }
    },
    {
      "event": "review_requested",
      "id": 5414782049,
      "node_id": "RRE_lADOABII5848nqV-zwAAAAFCvwRh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5414782049",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-06T00:26:05Z",
      "requested_reviewer": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "commented",
      "id": 935140775,
      "node_id": "IC_kwDOABII5843vR2n",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/935140775",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-06T00:26:25Z",
      "updated_at": "2021-10-06T00:26:25Z",
      "author_association": "MEMBER",
      "body": "cc @t-bast maybe @apoelstra ",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#issuecomment-935140775",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23201"
    },
    {
      "event": "mentioned",
      "id": 5414783955,
      "node_id": "MEE_lADOABII5848nqV-zwAAAAFCvwvT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5414783955",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-06T00:26:26Z"
    },
    {
      "event": "subscribed",
      "id": 5414783957,
      "node_id": "SE_lADOABII5848nqV-zwAAAAFCvwvV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5414783957",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-06T00:26:26Z"
    },
    {
      "event": "mentioned",
      "id": 5414783961,
      "node_id": "MEE_lADOABII5848nqV-zwAAAAFCvwvZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5414783961",
      "actor": {
        "login": "t-bast",
        "id": 31281497,
        "node_id": "MDQ6VXNlcjMxMjgxNDk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/31281497?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/t-bast",
        "html_url": "https://github.com/t-bast",
        "followers_url": "https://api.github.com/users/t-bast/followers",
        "following_url": "https://api.github.com/users/t-bast/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/t-bast/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/t-bast/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/t-bast/subscriptions",
        "organizations_url": "https://api.github.com/users/t-bast/orgs",
        "repos_url": "https://api.github.com/users/t-bast/repos",
        "events_url": "https://api.github.com/users/t-bast/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/t-bast/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-06T00:26:26Z"
    },
    {
      "event": "subscribed",
      "id": 5414783965,
      "node_id": "SE_lADOABII5848nqV-zwAAAAFCvwvd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5414783965",
      "actor": {
        "login": "t-bast",
        "id": 31281497,
        "node_id": "MDQ6VXNlcjMxMjgxNDk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/31281497?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/t-bast",
        "html_url": "https://github.com/t-bast",
        "followers_url": "https://api.github.com/users/t-bast/followers",
        "following_url": "https://api.github.com/users/t-bast/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/t-bast/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/t-bast/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/t-bast/subscriptions",
        "organizations_url": "https://api.github.com/users/t-bast/orgs",
        "repos_url": "https://api.github.com/users/t-bast/repos",
        "events_url": "https://api.github.com/users/t-bast/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/t-bast/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-06T00:26:26Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-06T02:39:04Z",
      "updated_at": "2021-10-06T02:39:04Z",
      "source": {
        "issue": {
          "id": 1017286539,
          "node_id": "PR_kwDOABII584svwSH",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23202",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23202/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23202/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23202/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/23202",
          "number": 23202,
          "state": "closed",
          "state_reason": null,
          "title": "wallet: allow psbtbumpfee to work with txs with external inputs",
          "body": "This PR allows `psbtbumpfee` to return a PSBT for transactions that contain external inputs. This does not work for bumping in the GUI nor `bumpfee` because these need private keys available to sign and send the transaction. But `psbtbumpfee` returns a psbt, so it is fine to not be able to sign.\r\n\r\nIn order to correctly estimate the size of the inputs for coin selection, the fee bumper will use the size of the inputs of the transaction being bumped. Because the sizes of signatures are not guaranteed, for external inputs, the fee bumper will verify the scripts with a special SignatureChecker which will compute the weight of all of the signatures in that input, and compute their weights if those signatures were maximally sized. This allows the fee bumper to obtain a max size estimate for each external input.\r\n\r\nBuilds on #23201 as it relies on the ability to pass weights in to coin selection.\r\n\r\nCloses #23189",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/54",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/54",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/54/labels",
            "id": 7150037,
            "node_id": "MI_kwDOABII584AbRnV",
            "number": 54,
            "state": "closed",
            "title": "24.0",
            "description": "",
            "creator": {
              "login": "laanwj",
              "id": 126646,
              "node_id": "MDQ6VXNlcjEyNjY0Ng==",
              "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/laanwj",
              "html_url": "https://github.com/laanwj",
              "followers_url": "https://api.github.com/users/laanwj/followers",
              "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
              "organizations_url": "https://api.github.com/users/laanwj/orgs",
              "repos_url": "https://api.github.com/users/laanwj/repos",
              "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/laanwj/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 159,
            "created_at": "2021-09-14T08:27:02Z",
            "updated_at": "2022-11-29T15:44:44Z",
            "closed_at": "2022-11-29T15:44:44Z"
          },
          "locked": false,
          "comments": 15,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/23202",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/23202.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/23202.patch"
          },
          "closed_at": "2022-08-22T09:12:38Z",
          "created_at": "2021-10-06T02:39:04Z",
          "updated_at": "2022-08-22T09:12:39Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 935590919,
      "node_id": "IC_kwDOABII5843w_wH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/935590919",
      "actor": {
        "login": "t-bast",
        "id": 31281497,
        "node_id": "MDQ6VXNlcjMxMjgxNDk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/31281497?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/t-bast",
        "html_url": "https://github.com/t-bast",
        "followers_url": "https://api.github.com/users/t-bast/followers",
        "following_url": "https://api.github.com/users/t-bast/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/t-bast/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/t-bast/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/t-bast/subscriptions",
        "organizations_url": "https://api.github.com/users/t-bast/orgs",
        "repos_url": "https://api.github.com/users/t-bast/repos",
        "events_url": "https://api.github.com/users/t-bast/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/t-bast/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-06T06:46:25Z",
      "updated_at": "2021-10-06T06:46:25Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK, I'll test this today with lightning transactions.\r\nShould this PR update the release notes?",
      "user": {
        "login": "t-bast",
        "id": 31281497,
        "node_id": "MDQ6VXNlcjMxMjgxNDk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/31281497?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/t-bast",
        "html_url": "https://github.com/t-bast",
        "followers_url": "https://api.github.com/users/t-bast/followers",
        "following_url": "https://api.github.com/users/t-bast/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/t-bast/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/t-bast/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/t-bast/subscriptions",
        "organizations_url": "https://api.github.com/users/t-bast/orgs",
        "repos_url": "https://api.github.com/users/t-bast/repos",
        "events_url": "https://api.github.com/users/t-bast/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/t-bast/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#issuecomment-935590919",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23201"
    },
    {
      "event": "reviewed",
      "id": 772362588,
      "node_id": "PRR_kwDOABII584uCVFc",
      "url": null,
      "actor": null,
      "commit_id": "5c2ff2578512fca8134d68a8a86ae144c9335cca",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#pullrequestreview-772362588",
      "submitted_at": "2021-10-06T08:41:56Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
    },
    {
      "event": "commented",
      "id": 935811299,
      "node_id": "IC_kwDOABII5843x1jj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/935811299",
      "actor": {
        "login": "t-bast",
        "id": 31281497,
        "node_id": "MDQ6VXNlcjMxMjgxNDk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/31281497?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/t-bast",
        "html_url": "https://github.com/t-bast",
        "followers_url": "https://api.github.com/users/t-bast/followers",
        "following_url": "https://api.github.com/users/t-bast/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/t-bast/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/t-bast/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/t-bast/subscriptions",
        "organizations_url": "https://api.github.com/users/t-bast/orgs",
        "repos_url": "https://api.github.com/users/t-bast/repos",
        "events_url": "https://api.github.com/users/t-bast/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/t-bast/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-06T09:14:01Z",
      "updated_at": "2021-10-06T09:14:01Z",
      "author_association": "CONTRIBUTOR",
      "body": "I tested https://github.com/bitcoin/bitcoin/pull/23201/commits/5c2ff2578512fca8134d68a8a86ae144c9335cca with lightning transactions, and I'm correctly able to specify input weights for non-standard inputs. Thanks @achow101!",
      "user": {
        "login": "t-bast",
        "id": 31281497,
        "node_id": "MDQ6VXNlcjMxMjgxNDk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/31281497?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/t-bast",
        "html_url": "https://github.com/t-bast",
        "followers_url": "https://api.github.com/users/t-bast/followers",
        "following_url": "https://api.github.com/users/t-bast/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/t-bast/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/t-bast/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/t-bast/subscriptions",
        "organizations_url": "https://api.github.com/users/t-bast/orgs",
        "repos_url": "https://api.github.com/users/t-bast/repos",
        "events_url": "https://api.github.com/users/t-bast/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/t-bast/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#issuecomment-935811299",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23201"
    },
    {
      "event": "mentioned",
      "id": 5417977006,
      "node_id": "MEE_lADOABII5848nqV-zwAAAAFC78Su",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5417977006",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-06T09:14:01Z"
    },
    {
      "event": "subscribed",
      "id": 5417977016,
      "node_id": "SE_lADOABII5848nqV-zwAAAAFC78S4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5417977016",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-06T09:14:01Z"
    },
    {
      "event": "commented",
      "id": 936035567,
      "node_id": "IC_kwDOABII5843ysTv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/936035567",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-06T11:23:34Z",
      "updated_at": "2022-01-15T06:57:09Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#23545](https://github.com/bitcoin/bitcoin/pull/23545) (scripted-diff: Use clang-tidy syntax for C++ named arguments by MarcoFalke)\n* [#23475](https://github.com/bitcoin/bitcoin/pull/23475) (wallet: add config to prioritize a solution that doesn't create change in coin selection by brunoerg)\n* [#23202](https://github.com/bitcoin/bitcoin/pull/23202) (wallet: allow psbtbumpfee to work with txs with external inputs by achow101)\n* [#19602](https://github.com/bitcoin/bitcoin/pull/19602) (wallet: Migrate legacy wallets to descriptor wallets by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#issuecomment-936035567",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23201"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-06T11:27:46Z",
      "updated_at": "2021-10-06T11:27:46Z",
      "source": {
        "issue": {
          "id": 1016994476,
          "node_id": "PR_kwDOABII584suutG",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23200",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23200/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23200/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23200/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/23200",
          "number": 23200,
          "state": "closed",
          "state_reason": null,
          "title": "Fix intermittent failure in wallet_send.py and rpc_fundrawtransaction.py",
          "body": "After #17211 was merged, there have been a few intermittent test failures in `wallet_send.py`, `rpc_fundrawtransaction.py`, and `rpc_psbt.py`\r\n\r\nI believe all these failures are due to these missing `sync_all()`s",
          "user": {
            "login": "meshcollider",
            "id": 3211283,
            "node_id": "MDQ6VXNlcjMyMTEyODM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/meshcollider",
            "html_url": "https://github.com/meshcollider",
            "followers_url": "https://api.github.com/users/meshcollider/followers",
            "following_url": "https://api.github.com/users/meshcollider/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/meshcollider/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/meshcollider/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
            "organizations_url": "https://api.github.com/users/meshcollider/orgs",
            "repos_url": "https://api.github.com/users/meshcollider/repos",
            "events_url": "https://api.github.com/users/meshcollider/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/meshcollider/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "comments": 9,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23200",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/23200",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/23200.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/23200.patch"
          },
          "closed_at": "2021-10-06T11:06:11Z",
          "created_at": "2021-10-05T22:48:12Z",
          "updated_at": "2022-10-30T19:07:42Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "labeled",
      "id": 5419311186,
      "node_id": "LE_lADOABII5848nqV-zwAAAAFDBCBS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5419311186",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-06T11:59:12Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-06T12:17:40Z",
      "updated_at": "2021-10-06T12:17:40Z",
      "source": {
        "issue": {
          "id": 1015146099,
          "node_id": "PR_kwDOABII584so3BC",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23172",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23172/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23172/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23172/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/23172",
          "number": 23172,
          "state": "closed",
          "state_reason": null,
          "title": "doc: Extract FundTxDoc in rpcwallet",
          "body": "No need to duplicate the documentation for the same field(s) three times.\r\n\r\nFix that by de-duplicating it for the fields: conf_target, estimate_mode, replaceable, and solving_data.\r\n\r\nCan be reviewed with `--color-moved=dimmed-zebra --color-moved-ws=ignore-all-space`.",
          "user": {
            "login": "MarcoFalke",
            "id": 6399679,
            "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MarcoFalke",
            "html_url": "https://github.com/MarcoFalke",
            "followers_url": "https://api.github.com/users/MarcoFalke/followers",
            "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
            "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
            "repos_url": "https://api.github.com/users/MarcoFalke/repos",
            "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 148216,
              "node_id": "MDU6TGFiZWwxNDgyMTY=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Docs",
              "name": "Docs",
              "color": "02d7e1",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 2,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23172",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/23172",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/23172.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/23172.patch"
          },
          "closed_at": "2021-10-07T05:28:44Z",
          "created_at": "2021-10-04T12:57:39Z",
          "updated_at": "2022-10-30T19:07:50Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5421285724,
      "node_id": "HRFPE_lADOABII5848nqV-zwAAAAFDIkFc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5421285724",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-06T15:31:42Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5421291491,
      "node_id": "HRFPE_lADOABII5848nqV-zwAAAAFDIlfj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5421291491",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-06T15:32:17Z"
    },
    {
      "event": "unlabeled",
      "id": 5421664160,
      "node_id": "UNLE_lADOABII5848nqV-zwAAAAFDKAeg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5421664160",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-06T16:10:12Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5422070138,
      "node_id": "HRFPE_lADOABII5848nqV-zwAAAAFDLjl6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5422070138",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-06T16:54:46Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5422374582,
      "node_id": "HRFPE_lADOABII5848nqV-zwAAAAFDMt62",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5422374582",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-06T17:25:39Z"
    },
    {
      "event": "reviewed",
      "id": 773302897,
      "node_id": "PRR_kwDOABII584uF6px",
      "url": null,
      "actor": null,
      "commit_id": "c3fbbe7de9087205ed5e3c01e348005d88e7bb53",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#pullrequestreview-773302897",
      "submitted_at": "2021-10-06T23:08:35Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5425084440,
      "node_id": "HRFPE_lADOABII5848nqV-zwAAAAFDXDgY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5425084440",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-06T23:33:45Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-07T00:25:36Z",
      "updated_at": "2021-10-07T00:25:36Z",
      "source": {
        "issue": {
          "id": 898656394,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NjUwNTEyNzQ2",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22019",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22019/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22019/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22019/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/22019",
          "number": 22019,
          "state": "closed",
          "state_reason": null,
          "title": "wallet: Introduce SelectionResult for encapsulating a coin selection solution",
          "body": "Instead of returning a set of selected coins and their total value as separate items, encapsulate both of these, and other variables, into a new `SelectionResult` struct. This allows us to have all of the things relevant to a coin selection solution be in a single object. `SelectionResult` enables us to implement the waste calculation in a cleaner way.\r\n\r\nAll of the coin selection functions (`SelectCoinsBnB`, `KnapsackSolver`, `AttemptSelection`, and `SelectCoins`) are changed to use a `SelectionResult` as the output parameter.\r\n\r\nBased on #22009",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 8,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22019",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/22019",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/22019.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/22019.patch"
          },
          "closed_at": "2021-12-09T16:22:18Z",
          "created_at": "2021-05-21T23:09:24Z",
          "updated_at": "2022-12-13T10:02:47Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "labeled",
      "id": 5430680849,
      "node_id": "LE_lADOABII5848nqV-zwAAAAFDsZ0R",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5430680849",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-07T19:40:02Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5430930867,
      "node_id": "HRFPE_lADOABII5848nqV-zwAAAAFDtW2z",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5430930867",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-07T20:34:54Z"
    },
    {
      "event": "unlabeled",
      "id": 5431224630,
      "node_id": "UNLE_lADOABII5848nqV-zwAAAAFDuek2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5431224630",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-07T21:45:15Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 775131271,
      "node_id": "PRR_kwDOABII584uM5CH",
      "url": null,
      "actor": null,
      "commit_id": "d0592296b13c6316cd681fc0df1effcf9c7e31e4",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "body": "utACK d059229. Here's some nits.",
      "user": {
        "login": "yanmaani",
        "id": 68476452,
        "node_id": "MDQ6VXNlcjY4NDc2NDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/68476452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yanmaani",
        "html_url": "https://github.com/yanmaani",
        "followers_url": "https://api.github.com/users/yanmaani/followers",
        "following_url": "https://api.github.com/users/yanmaani/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/yanmaani/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/yanmaani/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/yanmaani/subscriptions",
        "organizations_url": "https://api.github.com/users/yanmaani/orgs",
        "repos_url": "https://api.github.com/users/yanmaani/repos",
        "events_url": "https://api.github.com/users/yanmaani/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/yanmaani/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#pullrequestreview-775131271",
      "submitted_at": "2021-10-08T15:25:23Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
    },
    {
      "event": "reviewed",
      "id": 775181460,
      "node_id": "PRR_kwDOABII584uNFSU",
      "url": null,
      "actor": null,
      "commit_id": "d0592296b13c6316cd681fc0df1effcf9c7e31e4",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#pullrequestreview-775181460",
      "submitted_at": "2021-10-08T15:58:42Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5435674247,
      "node_id": "HRFPE_lADOABII5848nqV-zwAAAAFD_c6H",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5435674247",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-08T16:09:18Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5435739323,
      "node_id": "HRFPE_lADOABII5848nqV-zwAAAAFD_sy7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5435739323",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-08T16:22:25Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5436069174,
      "node_id": "HRFPE_lADOABII5848nqV-zwAAAAFEA9U2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5436069174",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-08T17:36:53Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "yanmaani",
        "id": 68476452,
        "node_id": "MDQ6VXNlcjY4NDc2NDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/68476452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yanmaani",
        "html_url": "https://github.com/yanmaani",
        "followers_url": "https://api.github.com/users/yanmaani/followers",
        "following_url": "https://api.github.com/users/yanmaani/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/yanmaani/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/yanmaani/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/yanmaani/subscriptions",
        "organizations_url": "https://api.github.com/users/yanmaani/orgs",
        "repos_url": "https://api.github.com/users/yanmaani/repos",
        "events_url": "https://api.github.com/users/yanmaani/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/yanmaani/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-11T10:43:15Z",
      "updated_at": "2021-10-11T10:43:15Z",
      "source": {
        "issue": {
          "id": 1022449314,
          "node_id": "PR_kwDOAdOeKM4tAWzx",
          "url": "https://api.github.com/repos/namecoin/namecoin-core/issues/473",
          "repository_url": "https://api.github.com/repos/namecoin/namecoin-core",
          "labels_url": "https://api.github.com/repos/namecoin/namecoin-core/issues/473/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/namecoin/namecoin-core/issues/473/comments",
          "events_url": "https://api.github.com/repos/namecoin/namecoin-core/issues/473/events",
          "html_url": "https://github.com/namecoin/namecoin-core/pull/473",
          "number": 473,
          "state": "closed",
          "state_reason": null,
          "title": "Use fundrawtransaction more in the suggested ANT workflow",
          "body": "Upstream https://github.com/bitcoin/bitcoin/pull/17211 solved a long-standing issue for doing atomic trades with names (namely that the buyer's wallet was not able to directly fund a transaction with the non-wallet name input in it).\r\n\r\nBased on this, we can now streamline `name_ant_workflow.py` to make use of this new feature.  This allows us to properly use `fundrawtransaction` to fund the final transaction including already the name input and output, and thus with correct fee estimation done.  (Previously we just funded a dummy transaction with a guessed higher fee, and then added in the name input and output manually, hoping the fee would still be fine.)",
          "user": {
            "login": "domob1812",
            "id": 4943644,
            "node_id": "MDQ6VXNlcjQ5NDM2NDQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4943644?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/domob1812",
            "html_url": "https://github.com/domob1812",
            "followers_url": "https://api.github.com/users/domob1812/followers",
            "following_url": "https://api.github.com/users/domob1812/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/domob1812/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/domob1812/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/domob1812/subscriptions",
            "organizations_url": "https://api.github.com/users/domob1812/orgs",
            "repos_url": "https://api.github.com/users/domob1812/repos",
            "events_url": "https://api.github.com/users/domob1812/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/domob1812/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 958924682,
              "node_id": "MDU6TGFiZWw5NTg5MjQ2ODI=",
              "url": "https://api.github.com/repos/namecoin/namecoin-core/labels/cleanup",
              "name": "cleanup",
              "description": "",
              "color": "f9d0c4",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "NONE",
          "milestone": {
            "url": "https://api.github.com/repos/namecoin/namecoin-core/milestones/9",
            "html_url": "https://github.com/namecoin/namecoin-core/milestone/9",
            "labels_url": "https://api.github.com/repos/namecoin/namecoin-core/milestones/9/labels",
            "id": 7158420,
            "node_id": "MI_kwDOAdOeKM4AbTqU",
            "number": 9,
            "state": "open",
            "title": "nc0.23",
            "creator": {
              "login": "domob1812",
              "id": 4943644,
              "node_id": "MDQ6VXNlcjQ5NDM2NDQ=",
              "avatar_url": "https://avatars.githubusercontent.com/u/4943644?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/domob1812",
              "html_url": "https://github.com/domob1812",
              "followers_url": "https://api.github.com/users/domob1812/followers",
              "following_url": "https://api.github.com/users/domob1812/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/domob1812/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/domob1812/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/domob1812/subscriptions",
              "organizations_url": "https://api.github.com/users/domob1812/orgs",
              "repos_url": "https://api.github.com/users/domob1812/repos",
              "events_url": "https://api.github.com/users/domob1812/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/domob1812/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 8,
            "created_at": "2021-09-16T11:02:40Z",
            "updated_at": "2021-10-18T04:05:28Z"
          },
          "locked": false,
          "comments": 3,
          "pull_request": {
            "url": "https://api.github.com/repos/namecoin/namecoin-core/pulls/473",
            "html_url": "https://github.com/namecoin/namecoin-core/pull/473",
            "diff_url": "https://github.com/namecoin/namecoin-core/pull/473.diff",
            "patch_url": "https://github.com/namecoin/namecoin-core/pull/473.patch"
          },
          "closed_at": "2021-10-18T04:05:27Z",
          "created_at": "2021-10-11T09:05:48Z",
          "updated_at": "2021-10-18T04:05:46Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 939911058,
      "node_id": "IC_kwDOABII5844BeeS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/939911058",
      "actor": {
        "login": "yanmaani",
        "id": 68476452,
        "node_id": "MDQ6VXNlcjY4NDc2NDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/68476452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yanmaani",
        "html_url": "https://github.com/yanmaani",
        "followers_url": "https://api.github.com/users/yanmaani/followers",
        "following_url": "https://api.github.com/users/yanmaani/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/yanmaani/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/yanmaani/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/yanmaani/subscriptions",
        "organizations_url": "https://api.github.com/users/yanmaani/orgs",
        "repos_url": "https://api.github.com/users/yanmaani/repos",
        "events_url": "https://api.github.com/users/yanmaani/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/yanmaani/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-11T10:46:25Z",
      "updated_at": "2021-10-11T10:46:25Z",
      "author_association": "NONE",
      "body": "LGTM",
      "user": {
        "login": "yanmaani",
        "id": 68476452,
        "node_id": "MDQ6VXNlcjY4NDc2NDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/68476452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yanmaani",
        "html_url": "https://github.com/yanmaani",
        "followers_url": "https://api.github.com/users/yanmaani/followers",
        "following_url": "https://api.github.com/users/yanmaani/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/yanmaani/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/yanmaani/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/yanmaani/subscriptions",
        "organizations_url": "https://api.github.com/users/yanmaani/orgs",
        "repos_url": "https://api.github.com/users/yanmaani/repos",
        "events_url": "https://api.github.com/users/yanmaani/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/yanmaani/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#issuecomment-939911058",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23201"
    },
    {
      "event": "reviewed",
      "id": 780317967,
      "node_id": "PRR_kwDOABII584ugrUP",
      "url": null,
      "actor": null,
      "commit_id": "0224b9db65824064ca3a28f9802f5327735b95bb",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "body": "",
      "user": {
        "login": "gaarf",
        "id": 205004,
        "node_id": "MDQ6VXNlcjIwNTAwNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/205004?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gaarf",
        "html_url": "https://github.com/gaarf",
        "followers_url": "https://api.github.com/users/gaarf/followers",
        "following_url": "https://api.github.com/users/gaarf/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gaarf/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gaarf/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gaarf/subscriptions",
        "organizations_url": "https://api.github.com/users/gaarf/orgs",
        "repos_url": "https://api.github.com/users/gaarf/repos",
        "events_url": "https://api.github.com/users/gaarf/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gaarf/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#pullrequestreview-780317967",
      "submitted_at": "2021-10-14T22:49:54Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
    },
    {
      "event": "reviewed",
      "id": 782637722,
      "node_id": "PRR_kwDOABII584uphqa",
      "url": null,
      "actor": null,
      "commit_id": "0224b9db65824064ca3a28f9802f5327735b95bb",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK.",
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#pullrequestreview-782637722",
      "submitted_at": "2021-10-18T22:53:42Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5481841900,
      "node_id": "HRFPE_lADOABII5848nqV-zwAAAAFGvkTs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5481841900",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-18T23:57:01Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-27T14:39:10Z",
      "updated_at": "2021-10-27T14:39:10Z",
      "source": {
        "issue": {
          "id": 1037088514,
          "node_id": "PR_kwDOABII584tuZfH",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23367",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23367/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23367/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23367/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/23367",
          "number": 23367,
          "state": "closed",
          "state_reason": null,
          "title": "Optimize coin selection by dropping BnB upper limit",
          "body": "Requires #22019 and #22949\r\n\r\nRemoving upper bound allows to find more changeless solutions. Most of them would be terrible due to huge excess and hence waste, so another solution would be chosen. But in some cases excess higher than upper bound would be\r\neconomically optimal based on waste metric.\r\n\r\nThis change also makes transaction building and waste calculation consistent. Specifically it eliminates two sources of discrepancy: \r\n\r\n1. for knapsack we used to always calculate waste as if they produce change (that's not always true)\r\n2. change could be dropped to fees during tx building after waste is calculated \r\n\r\nAs a result we should see more changeless solutions which is good for: privacy, utxo set, total fees paid. ",
          "user": {
            "login": "S3RK",
            "id": 1466284,
            "node_id": "MDQ6VXNlcjE0NjYyODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/S3RK",
            "html_url": "https://github.com/S3RK",
            "followers_url": "https://api.github.com/users/S3RK/followers",
            "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
            "organizations_url": "https://api.github.com/users/S3RK/orgs",
            "repos_url": "https://api.github.com/users/S3RK/repos",
            "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/S3RK/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "comments": 7,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23367",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/23367",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/23367.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/23367.patch"
          },
          "closed_at": "2022-03-30T07:36:38Z",
          "created_at": "2021-10-27T07:49:51Z",
          "updated_at": "2023-06-12T10:06:01Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 965198257,
      "node_id": "IC_kwDOABII5845h8Gx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/965198257",
      "actor": {
        "login": "t-bast",
        "id": 31281497,
        "node_id": "MDQ6VXNlcjMxMjgxNDk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/31281497?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/t-bast",
        "html_url": "https://github.com/t-bast",
        "followers_url": "https://api.github.com/users/t-bast/followers",
        "following_url": "https://api.github.com/users/t-bast/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/t-bast/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/t-bast/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/t-bast/subscriptions",
        "organizations_url": "https://api.github.com/users/t-bast/orgs",
        "repos_url": "https://api.github.com/users/t-bast/repos",
        "events_url": "https://api.github.com/users/t-bast/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/t-bast/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-10T13:54:59Z",
      "updated_at": "2021-11-10T13:54:59Z",
      "author_association": "CONTRIBUTOR",
      "body": "Looks like this PR has multiple concept ACKs (and an E2E test with lightning!), is it possible to move forward with it?",
      "user": {
        "login": "t-bast",
        "id": 31281497,
        "node_id": "MDQ6VXNlcjMxMjgxNDk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/31281497?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/t-bast",
        "html_url": "https://github.com/t-bast",
        "followers_url": "https://api.github.com/users/t-bast/followers",
        "following_url": "https://api.github.com/users/t-bast/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/t-bast/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/t-bast/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/t-bast/subscriptions",
        "organizations_url": "https://api.github.com/users/t-bast/orgs",
        "repos_url": "https://api.github.com/users/t-bast/repos",
        "events_url": "https://api.github.com/users/t-bast/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/t-bast/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#issuecomment-965198257",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23201"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-18T19:30:39Z",
      "updated_at": "2021-11-18T19:30:39Z",
      "source": {
        "issue": {
          "id": 1057718077,
          "node_id": "PR_kwDOABII584uu50a",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23545",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23545/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23545/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23545/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/23545",
          "number": 23545,
          "state": "closed",
          "state_reason": null,
          "title": "scripted-diff: Use clang-tidy syntax for C++ named arguments",
          "body": "Incorrect named args are source of bugs, like #22979.\r\n\r\nTo allow them being checked by `clang-tidy`, use a format it can understand.",
          "user": {
            "login": "MarcoFalke",
            "id": 6399679,
            "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MarcoFalke",
            "html_url": "https://github.com/MarcoFalke",
            "followers_url": "https://api.github.com/users/MarcoFalke/followers",
            "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
            "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
            "repos_url": "https://api.github.com/users/MarcoFalke/repos",
            "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 7,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23545",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/23545",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/23545.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/23545.patch"
          },
          "closed_at": "2022-02-04T11:00:20Z",
          "created_at": "2021-11-18T19:24:49Z",
          "updated_at": "2023-03-24T10:20:44Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-27T05:28:55Z",
      "updated_at": "2021-11-27T05:28:55Z",
      "source": {
        "issue": {
          "id": 1064406876,
          "node_id": "PR_kwDOABII584vDwe7",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23602",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23602/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23602/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23602/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/23602",
          "number": 23602,
          "state": "closed",
          "state_reason": null,
          "title": "wallet: Split stuff from rpcwallet",
          "body": "rpcwallet is the file that takes longest to compile, especially with sanitizers enabled it can take several 10s of seconds.\r\n\r\nAllow faster incremental and parallel builds by starting to split it up. First, split off `signmessage`, which is unrelated to other stuff such as wallet file handling, wallet encryption, tx creation, or wallet status/info.",
          "user": {
            "login": "MarcoFalke",
            "id": 6399679,
            "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MarcoFalke",
            "html_url": "https://github.com/MarcoFalke",
            "followers_url": "https://api.github.com/users/MarcoFalke/followers",
            "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
            "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
            "repos_url": "https://api.github.com/users/MarcoFalke/repos",
            "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            },
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 9,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23602",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/23602",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/23602.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/23602.patch"
          },
          "closed_at": "2021-11-30T12:12:31Z",
          "created_at": "2021-11-26T12:08:51Z",
          "updated_at": "2022-12-08T10:01:53Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 981760029,
      "node_id": "IC_kwDOABII5846hHgd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/981760029",
      "actor": {
        "login": "t-bast",
        "id": 31281497,
        "node_id": "MDQ6VXNlcjMxMjgxNDk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/31281497?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/t-bast",
        "html_url": "https://github.com/t-bast",
        "followers_url": "https://api.github.com/users/t-bast/followers",
        "following_url": "https://api.github.com/users/t-bast/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/t-bast/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/t-bast/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/t-bast/subscriptions",
        "organizations_url": "https://api.github.com/users/t-bast/orgs",
        "repos_url": "https://api.github.com/users/t-bast/repos",
        "events_url": "https://api.github.com/users/t-bast/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/t-bast/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-11-29T15:46:20Z",
      "updated_at": "2021-11-29T15:46:20Z",
      "author_association": "CONTRIBUTOR",
      "body": "It would be really great to have this PR integrated for pre-signed transaction protocols (and ideally a follow-up to add these arguments to the bump fee RPCs), it would really make using the `bitcoind` RPC much smoother!",
      "user": {
        "login": "t-bast",
        "id": 31281497,
        "node_id": "MDQ6VXNlcjMxMjgxNDk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/31281497?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/t-bast",
        "html_url": "https://github.com/t-bast",
        "followers_url": "https://api.github.com/users/t-bast/followers",
        "following_url": "https://api.github.com/users/t-bast/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/t-bast/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/t-bast/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/t-bast/subscriptions",
        "organizations_url": "https://api.github.com/users/t-bast/orgs",
        "repos_url": "https://api.github.com/users/t-bast/repos",
        "events_url": "https://api.github.com/users/t-bast/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/t-bast/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#issuecomment-981760029",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23201"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-02T12:01:40Z",
      "updated_at": "2021-12-02T12:01:40Z",
      "source": {
        "issue": {
          "id": 1069248023,
          "node_id": "PR_kwDOABII584vSt4L",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23647",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23647/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23647/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23647/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/23647",
          "number": 23647,
          "state": "closed",
          "state_reason": null,
          "title": "MOVEONLY: Move wallet backup and encryption RPCs out of rpcwallet",
          "body": "As part of an effort to split rpcwallet as per #23622, this moves `rpcdump.cpp` into the new wallet/rpc directory as well as moving backup and encryption RPCs out of rpcwallet.",
          "user": {
            "login": "meshcollider",
            "id": 3211283,
            "node_id": "MDQ6VXNlcjMyMTEyODM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/meshcollider",
            "html_url": "https://github.com/meshcollider",
            "followers_url": "https://api.github.com/users/meshcollider/followers",
            "following_url": "https://api.github.com/users/meshcollider/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/meshcollider/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/meshcollider/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
            "organizations_url": "https://api.github.com/users/meshcollider/orgs",
            "repos_url": "https://api.github.com/users/meshcollider/repos",
            "events_url": "https://api.github.com/users/meshcollider/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/meshcollider/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            },
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "comments": 6,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23647",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/23647",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/23647.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/23647.patch"
          },
          "closed_at": "2021-12-03T09:17:51Z",
          "created_at": "2021-12-02T08:10:31Z",
          "updated_at": "2022-12-03T10:00:53Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-06T07:45:28Z",
      "updated_at": "2021-12-06T07:45:28Z",
      "source": {
        "issue": {
          "id": 1071040242,
          "node_id": "PR_kwDOABII584vYkga",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23667",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23667/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23667/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23667/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/23667",
          "number": 23667,
          "state": "closed",
          "state_reason": null,
          "title": "Split up rpcwallet",
          "body": "This is the rest of #23622, to split up rpcwallet into smaller, more logical parts.\r\n\r\nThis will have a lot of conflicts but let's just get it over and done with.",
          "user": {
            "login": "meshcollider",
            "id": 3211283,
            "node_id": "MDQ6VXNlcjMyMTEyODM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/meshcollider",
            "html_url": "https://github.com/meshcollider",
            "followers_url": "https://api.github.com/users/meshcollider/followers",
            "following_url": "https://api.github.com/users/meshcollider/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/meshcollider/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/meshcollider/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
            "organizations_url": "https://api.github.com/users/meshcollider/orgs",
            "repos_url": "https://api.github.com/users/meshcollider/repos",
            "events_url": "https://api.github.com/users/meshcollider/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/meshcollider/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            },
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "comments": 6,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23667",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/23667",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/23667.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/23667.patch"
          },
          "closed_at": "2021-12-08T03:34:55Z",
          "created_at": "2021-12-03T23:12:15Z",
          "updated_at": "2022-12-08T10:01:51Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "labeled",
      "id": 5731550184,
      "node_id": "LE_lADOABII5848nqV-zwAAAAFVoIPo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5731550184",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-08T05:22:33Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5734546351,
      "node_id": "HRFPE_lADOABII5848nqV-zwAAAAFVzjuv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5734546351",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-08T15:18:31Z"
    },
    {
      "event": "unlabeled",
      "id": 5734813416,
      "node_id": "UNLE_lADOABII5848nqV-zwAAAAFV0k7o",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5734813416",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-08T15:59:19Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 5742328484,
      "node_id": "LE_lADOABII5848nqV-zwAAAAFWRPqk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5742328484",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-09T17:10:10Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5742435497,
      "node_id": "HRFPE_lADOABII5848nqV-zwAAAAFWRpyp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5742435497",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-09T17:28:18Z"
    },
    {
      "event": "unlabeled",
      "id": 5742991486,
      "node_id": "UNLE_lADOABII5848nqV-zwAAAAFWTxh-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5742991486",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-09T19:15:22Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "comment_deleted",
      "id": 5743929259,
      "node_id": "CDE_lADOABII5848nqV-zwAAAAFWXWer",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5743929259",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-09T22:02:54Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5761110323,
      "node_id": "HRFPE_lADOABII5848nqV-zwAAAAFXY5Ez",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5761110323",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-14T02:52:07Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "t-bast",
        "id": 31281497,
        "node_id": "MDQ6VXNlcjMxMjgxNDk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/31281497?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/t-bast",
        "html_url": "https://github.com/t-bast",
        "followers_url": "https://api.github.com/users/t-bast/followers",
        "following_url": "https://api.github.com/users/t-bast/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/t-bast/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/t-bast/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/t-bast/subscriptions",
        "organizations_url": "https://api.github.com/users/t-bast/orgs",
        "repos_url": "https://api.github.com/users/t-bast/repos",
        "events_url": "https://api.github.com/users/t-bast/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/t-bast/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-23T10:33:31Z",
      "updated_at": "2021-12-23T10:33:31Z",
      "source": {
        "issue": {
          "id": 1085842488,
          "node_id": "PR_kwDOAnIUks4wIiob",
          "url": "https://api.github.com/repos/ACINQ/eclair/issues/2113",
          "repository_url": "https://api.github.com/repos/ACINQ/eclair",
          "labels_url": "https://api.github.com/repos/ACINQ/eclair/issues/2113/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/ACINQ/eclair/issues/2113/comments",
          "events_url": "https://api.github.com/repos/ACINQ/eclair/issues/2113/events",
          "html_url": "https://github.com/ACINQ/eclair/pull/2113",
          "number": 2113,
          "state": "closed",
          "state_reason": null,
          "title": "Replaceable txs fee bumping",
          "body": "Alright, a word of advice before we start: this PR is not for the faint of heart.\r\nIf you're thinking \"I have 30 minutes to spare, let's give this a quick review\", you're going to be disappointed.\r\nThis is the kind of PR that will keep you awake at night, wondering why you even got into bitcoin in the first place (maybe it wasn't that bad doing boring API plumbing work in a SaaS company after all!).\r\n\r\nBut if you're one of the brave few who like a challenge, clear up your agenda for the next few days, grab a lot of coffee, get into your cozy don't-disturb-me-until-I'm-done clothes, and read on. :sunglasses: :zap: \r\n\r\n![huge pr](https://user-images.githubusercontent.com/31281497/148732368-6e327c1c-f52d-4b64-952f-e275b6793e55.jpg)\r\n\r\nIn this PR, we introduce a deadline to replaceable transactions, and do the best we can to get these transactions confirmed before we reach that deadline.\r\n\r\nFor htlc transactions, that deadline is the htlc expiry:\r\n\r\n- if you have the preimage, you must absolutely get your transaction confirmed before your peer can use the timeout path, otherwise you may lose funds\r\n- if you're using the timeout path, you must get your transaction confirmed as soon as possible, to get your money back even if your peer reveals the preimage late\r\n\r\nFor commitment transactions, there are two cases:\r\n\r\n- there are no htlc outputs you can claim: in that case there's no reason to rush, no funds are at risk, you can wait for a few blocks to see your commit tx confirmed\r\n- there are htlc outputs you can claim: in that case the commit tx must absolutely be confirmed before the closest htlc expiry, to ensure that you can then claim those htlcs\r\n\r\nYou may be a bit lost in all the actors in the `publish` package, so here is a rough explanation of why the existing layers are important. We need to evaluate the feerate based on the deadline and the current block height only _once we're ready to broadcast the transaction_: this means it has to be inside the `ReplaceableTxPublisher` actor, once all the timelocks and preconditions have been fulfilled. But then why do we also need a retry mechanism in the `TxPublisher` actor? There are a few reasons for that. The first reason is to handle _broadcast failures_: if our transaction is evicted from the mempool (e.g. replaced by an external transaction), this bubbles up to the `TxPublisher`, who will then choose whether we should retry or not (depending on whether the external conflicting transaction gets confirmed or not). The second reason is to handle _node restarts_: we then lose the intermediate publishing state, but we may have put some transactions in the mempool. The `TxPublisher` will ensure we try different feerates as we get closer to the deadline, and eventually replace the mempool transaction if its feerate was too low. A third reason is that _deadlines can change_: we may initially have no htlcs to claim from a commit tx, but then we later receive a preimage, and realize that we now need to make the commit tx confirm more quickly than we thought. This request will go through the `TxPublisher` (which is the entry point for channel requests), which can create a new `ReplaceableTxPublisher` to replace the pending one.\r\n\r\nEach commit is self-contained a has a detailed commit message. I recommend reviewing commit-by-commit to see each step taken towards the end goal. However, after that it may make sense to review everything at once, to zoom out and ensure that this doesn't have any fundamental design flaw.\r\n\r\nI thought about splitting this PR into multiple PRs, but the issue is that using only parts of it is less safe than the current `master` branch: you really need to have the fee-bumping mechanism (that comes in the last commit) to make what the previous commits do safe. Since we know of a few node operators running `master` on mainnet, I think it's better to merge everything at once.\r\n\r\nThe things we do in the `ReplaceableTxFunder` actor to reach the right feerate _are very ugly_, but `bitcoind` doesn't give us the tools yet to make it better (because we have inputs that are external to the `bitcoind` wallet). Please help me lobby for https://github.com/bitcoin/bitcoin/pull/23201 (and a follow-up PR to add the same arguments to the `bumpfee` RPCs) to allow us to remove those horrible hacks!\r\n",
          "user": {
            "login": "t-bast",
            "id": 31281497,
            "node_id": "MDQ6VXNlcjMxMjgxNDk3",
            "avatar_url": "https://avatars.githubusercontent.com/u/31281497?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/t-bast",
            "html_url": "https://github.com/t-bast",
            "followers_url": "https://api.github.com/users/t-bast/followers",
            "following_url": "https://api.github.com/users/t-bast/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/t-bast/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/t-bast/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/t-bast/subscriptions",
            "organizations_url": "https://api.github.com/users/t-bast/orgs",
            "repos_url": "https://api.github.com/users/t-bast/repos",
            "events_url": "https://api.github.com/users/t-bast/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/t-bast/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 2175897095,
              "node_id": "MDU6TGFiZWwyMTc1ODk3MDk1",
              "url": "https://api.github.com/repos/ACINQ/eclair/labels/Optech%20Make%20Me%20Famous!",
              "name": "Optech Make Me Famous!",
              "description": "",
              "color": "95cde2",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 5,
          "pull_request": {
            "url": "https://api.github.com/repos/ACINQ/eclair/pulls/2113",
            "html_url": "https://github.com/ACINQ/eclair/pull/2113",
            "diff_url": "https://github.com/ACINQ/eclair/pull/2113.diff",
            "patch_url": "https://github.com/ACINQ/eclair/pull/2113.patch"
          },
          "closed_at": "2022-01-18T17:50:23Z",
          "created_at": "2021-12-21T13:36:32Z",
          "updated_at": "2022-01-18T17:54:59Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 843722749,
      "node_id": "PRR_kwDOABII584ySi_9",
      "url": null,
      "actor": null,
      "commit_id": "e150c15f66818a4ded2e0038ee273a139cd9e2bb",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "",
      "user": {
        "login": "benthecarman",
        "id": 15256660,
        "node_id": "MDQ6VXNlcjE1MjU2NjYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/15256660?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/benthecarman",
        "html_url": "https://github.com/benthecarman",
        "followers_url": "https://api.github.com/users/benthecarman/followers",
        "following_url": "https://api.github.com/users/benthecarman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/benthecarman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/benthecarman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/benthecarman/subscriptions",
        "organizations_url": "https://api.github.com/users/benthecarman/orgs",
        "repos_url": "https://api.github.com/users/benthecarman/repos",
        "events_url": "https://api.github.com/users/benthecarman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/benthecarman/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#pullrequestreview-843722749",
      "submitted_at": "2022-01-04T15:58:44Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-01-06T03:18:14Z",
      "updated_at": "2022-01-06T03:18:14Z",
      "source": {
        "issue": {
          "id": 1048473150,
          "node_id": "PR_kwDOABII584uR1eW",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23475",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23475/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23475/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23475/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/23475",
          "number": 23475,
          "state": "closed",
          "state_reason": null,
          "title": "wallet: add config to prioritize a solution that doesn't create change in coin selection ",
          "body": "Based on #22009, Bitcoin Core execute all the coin selection algorithms and decide what solution will be used based on the waste metric. However, some users may prefer a solution that doesn't create change (privacy reason). This PR adds a config option to prioritize the BnB solution in `send` and `fundrawtransaction`.  ",
          "user": {
            "login": "brunoerg",
            "id": 19480819,
            "node_id": "MDQ6VXNlcjE5NDgwODE5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/brunoerg",
            "html_url": "https://github.com/brunoerg",
            "followers_url": "https://api.github.com/users/brunoerg/followers",
            "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
            "organizations_url": "https://api.github.com/users/brunoerg/orgs",
            "repos_url": "https://api.github.com/users/brunoerg/repos",
            "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/brunoerg/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 20,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23475",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/23475",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/23475.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/23475.patch"
          },
          "closed_at": "2023-03-23T20:27:31Z",
          "created_at": "2021-11-09T11:06:02Z",
          "updated_at": "2023-03-23T20:27:32Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 851677138,
      "node_id": "PRR_kwDOABII584yw4_S",
      "url": null,
      "actor": null,
      "commit_id": "386768e4605bcbd0f0daa597440d1dc8acf2ad32",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK, light review so far",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#pullrequestreview-851677138",
      "submitted_at": "2022-01-13T13:37:46Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5896991727,
      "node_id": "HRFPE_lADOABII5848nqV-zwAAAAFffPPv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5896991727",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-01-14T19:49:25Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5897078389,
      "node_id": "HRFPE_lADOABII5848nqV-zwAAAAFffkZ1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5897078389",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-01-14T20:09:59Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-01-15T10:52:32Z",
      "updated_at": "2022-01-15T10:52:32Z",
      "source": {
        "issue": {
          "id": 666560839,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDU3MzgyMzM0",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19602",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19602/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19602/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19602/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/19602",
          "number": 19602,
          "state": "closed",
          "state_reason": null,
          "title": "wallet: Migrate legacy wallets to descriptor wallets",
          "body": "This PR adds a new `migratewallet` RPC which migrates a legacy wallet to a descriptor wallet. Migrated wallets will need a new backup. If a wallet has watchonly stuff in it, a new watchonly descriptor wallet will be created containing those watchonly things. The related transactions, labels, and descriptors for those watchonly things will be removed from the original wallet. Migrated wallets will not have any of the legacy things be available for fetching from `getnewaddress` or `getrawchangeaddress`. Wallets that have private keys enabled will have newly generated descriptors. Wallets with private keys disabled will not have any active `ScriptPubKeyMan`s.\r\n\r\nFor the basic HD wallet case of just generated keys, in addition to the standard descriptor wallet descriptors using the master key derived from the pre-existing hd seed, the migration will also create 3 descriptors for each HD chain in: a ranged combo external, a ranged combo internal, and a single key combo for the seed (the seed is a valid key that we can receive coins at!). The migrated wallet will then have newly generated descriptors as the active `ScriptPubKeyMan`s. This is equivalent to creating a new descriptor wallet and importing the 3 descriptors for each HD chain. For wallets containing non-HD keys, each key will have its own combo descriptor.\r\n\r\nThere are also tests.",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/54",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/54",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/54/labels",
            "id": 7150037,
            "node_id": "MI_kwDOABII584AbRnV",
            "number": 54,
            "state": "closed",
            "title": "24.0",
            "description": "",
            "creator": {
              "login": "laanwj",
              "id": 126646,
              "node_id": "MDQ6VXNlcjEyNjY0Ng==",
              "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/laanwj",
              "html_url": "https://github.com/laanwj",
              "followers_url": "https://api.github.com/users/laanwj/followers",
              "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
              "organizations_url": "https://api.github.com/users/laanwj/orgs",
              "repos_url": "https://api.github.com/users/laanwj/repos",
              "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/laanwj/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 159,
            "created_at": "2021-09-14T08:27:02Z",
            "updated_at": "2022-11-29T15:44:44Z",
            "closed_at": "2022-11-29T15:44:44Z"
          },
          "locked": false,
          "comments": 50,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19602",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/19602",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/19602.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/19602.patch"
          },
          "closed_at": "2022-09-01T19:44:11Z",
          "created_at": "2020-07-27T20:22:25Z",
          "updated_at": "2023-03-13T22:00:30Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 775572778,
      "node_id": "PRR_kwDOABII584uOk0q",
      "url": null,
      "actor": null,
      "commit_id": "52d8d44adba48c23b6047418eec431fbb39fd8db",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Initial Concept ACK, will do a more detail pass later. \r\n\r\nBelow are some minor nits (ignorable) and questions I had.",
      "user": {
        "login": "rajarshimaitra",
        "id": 36541669,
        "node_id": "MDQ6VXNlcjM2NTQxNjY5",
        "avatar_url": "https://avatars.githubusercontent.com/u/36541669?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rajarshimaitra",
        "html_url": "https://github.com/rajarshimaitra",
        "followers_url": "https://api.github.com/users/rajarshimaitra/followers",
        "following_url": "https://api.github.com/users/rajarshimaitra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rajarshimaitra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rajarshimaitra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rajarshimaitra/subscriptions",
        "organizations_url": "https://api.github.com/users/rajarshimaitra/orgs",
        "repos_url": "https://api.github.com/users/rajarshimaitra/repos",
        "events_url": "https://api.github.com/users/rajarshimaitra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rajarshimaitra/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#pullrequestreview-775572778",
      "submitted_at": "2022-01-15T11:53:07Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
    },
    {
      "event": "reviewed",
      "id": 853976269,
      "node_id": "PRR_kwDOABII584y5qTN",
      "url": null,
      "actor": null,
      "commit_id": "52d8d44adba48c23b6047418eec431fbb39fd8db",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "tACK https://github.com/bitcoin/bitcoin/pull/23201/commits/52d8d44adba48c23b6047418eec431fbb39fd8db\r\n\r\nVerified all tests are covering expected behavior.\r\n\r\nBelow are few non blocking nits and comments. ",
      "user": {
        "login": "rajarshimaitra",
        "id": 36541669,
        "node_id": "MDQ6VXNlcjM2NTQxNjY5",
        "avatar_url": "https://avatars.githubusercontent.com/u/36541669?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rajarshimaitra",
        "html_url": "https://github.com/rajarshimaitra",
        "followers_url": "https://api.github.com/users/rajarshimaitra/followers",
        "following_url": "https://api.github.com/users/rajarshimaitra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rajarshimaitra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rajarshimaitra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rajarshimaitra/subscriptions",
        "organizations_url": "https://api.github.com/users/rajarshimaitra/orgs",
        "repos_url": "https://api.github.com/users/rajarshimaitra/repos",
        "events_url": "https://api.github.com/users/rajarshimaitra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rajarshimaitra/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#pullrequestreview-853976269",
      "submitted_at": "2022-01-17T11:03:43Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
    },
    {
      "event": "commented",
      "id": 1014423734,
      "node_id": "IC_kwDOABII5848duC2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1014423734",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-01-17T11:34:41Z",
      "updated_at": "2022-01-17T11:34:41Z",
      "author_association": "MEMBER",
      "body": "Is this for 0.23?",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#issuecomment-1014423734",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23201"
    },
    {
      "event": "reviewed",
      "id": 854359346,
      "node_id": "PRR_kwDOABII584y7H0y",
      "url": null,
      "actor": null,
      "commit_id": "52d8d44adba48c23b6047418eec431fbb39fd8db",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#pullrequestreview-854359346",
      "submitted_at": "2022-01-17T14:16:27Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
    },
    {
      "event": "reviewed",
      "id": 854529030,
      "node_id": "PRR_kwDOABII584y7xQG",
      "url": null,
      "actor": null,
      "commit_id": "52d8d44adba48c23b6047418eec431fbb39fd8db",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "> Is this for 0.23?\r\n\r\nI hope so!\r\n\r\nI've reviewed up until 8a1ea6a050. I have some concerns about the argument sanitization, but otherwise looks good to me. This also needs release notes, yes?",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#pullrequestreview-854529030",
      "submitted_at": "2022-01-17T16:17:26Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
    },
    {
      "event": "reviewed",
      "id": 854607992,
      "node_id": "PRR_kwDOABII584y8Eh4",
      "url": null,
      "actor": null,
      "commit_id": "52d8d44adba48c23b6047418eec431fbb39fd8db",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "reviewed the tests",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#pullrequestreview-854607992",
      "submitted_at": "2022-01-17T17:29:56Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5906092432,
      "node_id": "HRFPE_lADOABII5848nqV-zwAAAAFgB9GQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5906092432",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-01-17T17:58:20Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5906098715,
      "node_id": "HRFPE_lADOABII5848nqV-zwAAAAFgB-ob",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5906098715",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-01-17T18:00:01Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5906140090,
      "node_id": "HRFPE_lADOABII5848nqV-zwAAAAFgCIu6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5906140090",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-01-17T18:09:05Z"
    },
    {
      "event": "reviewed",
      "id": 855262573,
      "node_id": "PRR_kwDOABII584y-kVt",
      "url": null,
      "actor": null,
      "commit_id": "db4efdeb6d5ffd982777197d72c8c2a0f1ea82f9",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK db4efdeb6d\r\n\r\nI'm happy with `FillInputToWeight()` now, thanks for addressing comments. The unit tests seem comprehensive. I tried every input from -1 to 65536 and no crashes.\r\nMinimum input of 165 = 4 * (32 + 4 + 4 + 1) + 1 makes more sense to me than 160.\r\nTest coverage for `walletcreatefundedpsbt`, `fundrawtransaction`, and `send` look good to me, error messages and resulting feerates are tested and the weights used are correct now.",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#pullrequestreview-855262573",
      "submitted_at": "2022-01-18T11:05:38Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
    },
    {
      "event": "reviewed",
      "id": 857578495,
      "node_id": "PRR_kwDOABII584zHZv_",
      "url": null,
      "actor": null,
      "commit_id": "db4efdeb6d5ffd982777197d72c8c2a0f1ea82f9",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK db4efdeb6d5ffd982777197d72c8c2a0f1ea82f9",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#pullrequestreview-857578495",
      "submitted_at": "2022-01-20T02:53:12Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQwNjBjNTBkN2VlMzFkYzhhMzkyMjllMzU1M2QzZDkyZjhmMzUxNmQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4060c50d7ee31dc8a39229e3553d3d92f8f3516d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/4060c50d7ee31dc8a39229e3553d3d92f8f3516d",
      "tree": {
        "sha": "e130ab3737cc8c66cb481682f25012876ac7739b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e130ab3737cc8c66cb481682f25012876ac7739b"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e3de7cb9039770e0fd5b8bb8a5cba35c87ae8f00",
          "sha": "e3de7cb9039770e0fd5b8bb8a5cba35c87ae8f00",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/e3de7cb9039770e0fd5b8bb8a5cba35c87ae8f00"
        }
      ],
      "message": "wallet: add input weights to CCoinControl\n\nIn order to allow coin selection to take weights from the user,\nCCoinControl needs to be able to set and get them.",
      "committer": {
        "name": "Andrew Chow",
        "email": "achow101-github@achow101.com",
        "date": "2022-01-24T16:23:31Z"
      },
      "author": {
        "name": "Andrew Chow",
        "email": "achow101-github@achow101.com",
        "date": "2021-10-05T19:49:06Z"
      },
      "sha": "4060c50d7ee31dc8a39229e3553d3d92f8f3516d"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDgwODA2OGU5MGU3NThiOWM3NDg3OGE1MjM1YjJjNTk3MzFmZWMzZTU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/808068e90e758b9c74878a5235b2c59731fec3e5",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/808068e90e758b9c74878a5235b2c59731fec3e5",
      "tree": {
        "sha": "f8b619fd07422b3adb82da4421aa74067bbc778d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f8b619fd07422b3adb82da4421aa74067bbc778d"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4060c50d7ee31dc8a39229e3553d3d92f8f3516d",
          "sha": "4060c50d7ee31dc8a39229e3553d3d92f8f3516d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/4060c50d7ee31dc8a39229e3553d3d92f8f3516d"
        }
      ],
      "message": "wallet: Allow user specified input size to override\n\nIf the user specifies an input size, allow it to override any input size\ncalculations during coin selection.",
      "committer": {
        "name": "Andrew Chow",
        "email": "achow101-github@achow101.com",
        "date": "2022-01-24T16:23:31Z"
      },
      "author": {
        "name": "Andrew Chow",
        "email": "achow101-github@achow101.com",
        "date": "2021-10-05T19:54:11Z"
      },
      "sha": "808068e90e758b9c74878a5235b2c59731fec3e5"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDZmYTc2MmEzNzI5OGM0Y2QzYWMwNjNiNDZiN2QxYjM1M2Q3YTY1OGI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6fa762a37298c4cd3ac063b46b7d1b353d7a658b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6fa762a37298c4cd3ac063b46b7d1b353d7a658b",
      "tree": {
        "sha": "197675527768f658e482bf5cf76bac87d85bbcf5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/197675527768f658e482bf5cf76bac87d85bbcf5"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/808068e90e758b9c74878a5235b2c59731fec3e5",
          "sha": "808068e90e758b9c74878a5235b2c59731fec3e5",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/808068e90e758b9c74878a5235b2c59731fec3e5"
        }
      ],
      "message": "rpc, wallet: Allow users to specify input weights\n\nCoin selection requires knowing the weight of a transaction so that fees\ncan be estimated. However for external inputs, the weight may not be\navialble, and solving data may not be enough as the input could be one\nthat we do not support. By allowing users to specify input weights,\nthose external inputs can be included in the transaction.\n\nAdditionally, if the weight for an input is specified, that value will\nalways be used, regardless of whether the input is in the wallet or\nsolving data is available. This allows us to account for scenarios where\nthe wallet may be more conservative and estimate a larger input than may\nactually be created.\n\nFor example, we assume the maximum DER signature size, but an external\ninput may be signed by a wallet which does nonce grinding in order to get\na smaller signature. In that case, the user can specify the smaller\ninput weight to avoid overpaying transaction fees.",
      "committer": {
        "name": "Andrew Chow",
        "email": "achow101-github@achow101.com",
        "date": "2022-01-24T16:29:38Z"
      },
      "author": {
        "name": "Andrew Chow",
        "email": "achow101-github@achow101.com",
        "date": "2021-10-05T20:03:16Z"
      },
      "sha": "6fa762a37298c4cd3ac063b46b7d1b353d7a658b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDM4NjYyNzJjNDUwY2M2NTkyMDdmYmMyY2ZmM2M2OTBhZTg1OTMzNDE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3866272c450cc659207fbc2cff3c690ae8593341",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/3866272c450cc659207fbc2cff3c690ae8593341",
      "tree": {
        "sha": "c30212bfb626323d742d44ffa9ebfd66e9e15ce3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c30212bfb626323d742d44ffa9ebfd66e9e15ce3"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6fa762a37298c4cd3ac063b46b7d1b353d7a658b",
          "sha": "6fa762a37298c4cd3ac063b46b7d1b353d7a658b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/6fa762a37298c4cd3ac063b46b7d1b353d7a658b"
        }
      ],
      "message": "tests: Test specifying input weights\n\nAdded tests to rpc_fundrawtransaction, wallet_send, and rpc_psbt that\ntest that external inputs can be spent when input weight is provided.\nAlso tested that the input weight overrides any calculated weight.\n\nAdditionally, rpc_psbt's external inputs test is cleaned up a bit to be\nmore similar to rpc_fundrawtransaction's and avoid potential pitfalls\ndue to non-deterministic coin selection behavior.",
      "committer": {
        "name": "Andrew Chow",
        "email": "achow101-github@achow101.com",
        "date": "2022-01-24T16:29:38Z"
      },
      "author": {
        "name": "Andrew Chow",
        "email": "achow101-github@achow101.com",
        "date": "2021-10-05T20:45:10Z"
      },
      "sha": "3866272c450cc659207fbc2cff3c690ae8593341"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5943861159,
      "node_id": "HRFPE_lADOABII5848nqV-zwAAAAFiSB-n",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5943861159",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-01-24T16:29:53Z"
    },
    {
      "event": "commented",
      "id": 1020661236,
      "node_id": "IC_kwDOABII58481g30",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1020661236",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-01-24T23:40:04Z",
      "updated_at": "2022-01-24T23:40:04Z",
      "author_association": "MEMBER",
      "body": "reACK https://github.com/bitcoin/bitcoin/pull/23201/commits/3866272c450cc659207fbc2cff3c690ae8593341",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#issuecomment-1020661236",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23201"
    },
    {
      "event": "review_requested",
      "id": 5946786096,
      "node_id": "RRE_lADOABII5848nqV-zwAAAAFidMEw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5946786096",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-01-25T02:49:06Z",
      "requested_reviewer": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "commented",
      "id": 1020756768,
      "node_id": "IC_kwDOABII584814Mg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1020756768",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-01-25T02:50:13Z",
      "updated_at": "2022-01-25T02:50:13Z",
      "author_association": "MEMBER",
      "body": "@t-bast want to take another look here?",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#issuecomment-1020756768",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23201"
    },
    {
      "event": "mentioned",
      "id": 5946789198,
      "node_id": "MEE_lADOABII5848nqV-zwAAAAFidM1O",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5946789198",
      "actor": {
        "login": "t-bast",
        "id": 31281497,
        "node_id": "MDQ6VXNlcjMxMjgxNDk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/31281497?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/t-bast",
        "html_url": "https://github.com/t-bast",
        "followers_url": "https://api.github.com/users/t-bast/followers",
        "following_url": "https://api.github.com/users/t-bast/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/t-bast/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/t-bast/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/t-bast/subscriptions",
        "organizations_url": "https://api.github.com/users/t-bast/orgs",
        "repos_url": "https://api.github.com/users/t-bast/repos",
        "events_url": "https://api.github.com/users/t-bast/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/t-bast/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-01-25T02:50:14Z"
    },
    {
      "event": "subscribed",
      "id": 5946789199,
      "node_id": "SE_lADOABII5848nqV-zwAAAAFidM1P",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5946789199",
      "actor": {
        "login": "t-bast",
        "id": 31281497,
        "node_id": "MDQ6VXNlcjMxMjgxNDk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/31281497?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/t-bast",
        "html_url": "https://github.com/t-bast",
        "followers_url": "https://api.github.com/users/t-bast/followers",
        "following_url": "https://api.github.com/users/t-bast/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/t-bast/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/t-bast/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/t-bast/subscriptions",
        "organizations_url": "https://api.github.com/users/t-bast/orgs",
        "repos_url": "https://api.github.com/users/t-bast/repos",
        "events_url": "https://api.github.com/users/t-bast/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/t-bast/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-01-25T02:50:14Z"
    },
    {
      "event": "reviewed",
      "id": 861981073,
      "node_id": "PRR_kwDOABII584zYMmR",
      "url": null,
      "actor": null,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK https://github.com/bitcoin/bitcoin/pull/23201/commits/3866272c450cc659207fbc2cff3c690ae8593341\r\n\r\nI re-run tests from a lightning node: I'm correctly able to use this new parameter to make `bitcoind` fund then sign transactions that contain inputs that aren't managed by the `bitcoind` wallet (in my case, HTLC outputs from a lightning commitment transaction).\r\n\r\nA big thanks to everyone who contributed to this PR!",
      "user": {
        "login": "t-bast",
        "id": 31281497,
        "node_id": "MDQ6VXNlcjMxMjgxNDk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/31281497?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/t-bast",
        "html_url": "https://github.com/t-bast",
        "followers_url": "https://api.github.com/users/t-bast/followers",
        "following_url": "https://api.github.com/users/t-bast/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/t-bast/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/t-bast/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/t-bast/subscriptions",
        "organizations_url": "https://api.github.com/users/t-bast/orgs",
        "repos_url": "https://api.github.com/users/t-bast/repos",
        "events_url": "https://api.github.com/users/t-bast/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/t-bast/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#pullrequestreview-861981073",
      "submitted_at": "2022-01-25T09:08:47Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
    },
    {
      "event": "commented",
      "id": 1021020126,
      "node_id": "IC_kwDOABII584824fe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1021020126",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-01-25T10:11:00Z",
      "updated_at": "2022-01-25T10:11:00Z",
      "author_association": "MEMBER",
      "body": "reACK 3866272 via range-diff\r\n\r\nChanges since last review:\r\n- Changed `FillInputToWeight()` to return a bool for information about whether filling happened or if the input was invalid, changed DummySigns and tests to reflect that.\r\n- assertions in `FillInputToWeight()` that scriptSig and witness start out empty\r\n- changed the 165 input minimum to be calculated using size of empty input instead of arithmetic, added a CHECK_NONFATAL that it matches 165",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#issuecomment-1021020126",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23201"
    },
    {
      "event": "reviewed",
      "id": 862060616,
      "node_id": "PRR_kwDOABII584zYgBI",
      "url": null,
      "actor": null,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#pullrequestreview-862060616",
      "submitted_at": "2022-01-25T10:12:03Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
    },
    {
      "event": "merged",
      "id": 5951349695,
      "node_id": "ME_lADOABII5848nqV-zwAAAAFiumO_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5951349695",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "b94d0c7af11bd91dad4f180ce2a2ffa09e4b5668",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b94d0c7af11bd91dad4f180ce2a2ffa09e4b5668",
      "created_at": "2022-01-25T16:51:43Z"
    },
    {
      "event": "closed",
      "id": 5951349729,
      "node_id": "CE_lADOABII5848nqV-zwAAAAFiumPh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5951349729",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-01-25T16:51:44Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "t-bast",
        "id": 31281497,
        "node_id": "MDQ6VXNlcjMxMjgxNDk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/31281497?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/t-bast",
        "html_url": "https://github.com/t-bast",
        "followers_url": "https://api.github.com/users/t-bast/followers",
        "following_url": "https://api.github.com/users/t-bast/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/t-bast/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/t-bast/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/t-bast/subscriptions",
        "organizations_url": "https://api.github.com/users/t-bast/orgs",
        "repos_url": "https://api.github.com/users/t-bast/repos",
        "events_url": "https://api.github.com/users/t-bast/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/t-bast/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-01-27T10:15:57Z",
      "updated_at": "2022-01-27T10:15:57Z",
      "source": {
        "issue": {
          "id": 1116023222,
          "node_id": "PR_kwDOAnIUks4xqniD",
          "url": "https://api.github.com/repos/ACINQ/eclair/issues/2151",
          "repository_url": "https://api.github.com/repos/ACINQ/eclair",
          "labels_url": "https://api.github.com/repos/ACINQ/eclair/issues/2151/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/ACINQ/eclair/issues/2151/comments",
          "events_url": "https://api.github.com/repos/ACINQ/eclair/issues/2151/events",
          "html_url": "https://github.com/ACINQ/eclair/pull/2151",
          "number": 2151,
          "state": "closed",
          "state_reason": null,
          "title": "Add support for funding txs with non-wallet inputs",
          "body": "This feature was added in bitcoin core 23.0 (see https://github.com/bitcoin/bitcoin/pull/23201).\r\nWe can use it to greatly simplify our tx publishing logic, once we deprecate support for bitcoin core < 23.0.\r\n\r\nThis PR builds on top of #2150 and must wait for bitcoind 23.0.",
          "user": {
            "login": "t-bast",
            "id": 31281497,
            "node_id": "MDQ6VXNlcjMxMjgxNDk3",
            "avatar_url": "https://avatars.githubusercontent.com/u/31281497?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/t-bast",
            "html_url": "https://github.com/t-bast",
            "followers_url": "https://api.github.com/users/t-bast/followers",
            "following_url": "https://api.github.com/users/t-bast/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/t-bast/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/t-bast/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/t-bast/subscriptions",
            "organizations_url": "https://api.github.com/users/t-bast/orgs",
            "repos_url": "https://api.github.com/users/t-bast/repos",
            "events_url": "https://api.github.com/users/t-bast/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/t-bast/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 1,
          "pull_request": {
            "url": "https://api.github.com/repos/ACINQ/eclair/pulls/2151",
            "html_url": "https://github.com/ACINQ/eclair/pull/2151",
            "diff_url": "https://github.com/ACINQ/eclair/pull/2151.diff",
            "patch_url": "https://github.com/ACINQ/eclair/pull/2151.patch"
          },
          "closed_at": "2022-05-17T07:40:22Z",
          "created_at": "2022-01-27T10:15:56Z",
          "updated_at": "2022-05-17T07:40:25Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 5971958365,
      "node_id": "REFE_lADOABII5848nqV-zwAAAAFj9Npd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5971958365",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "4d48ec3d852b2a55773a588e38998814a5a675fd",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/4d48ec3d852b2a55773a588e38998814a5a675fd",
      "created_at": "2022-01-28T16:34:39Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "t-bast",
        "id": 31281497,
        "node_id": "MDQ6VXNlcjMxMjgxNDk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/31281497?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/t-bast",
        "html_url": "https://github.com/t-bast",
        "followers_url": "https://api.github.com/users/t-bast/followers",
        "following_url": "https://api.github.com/users/t-bast/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/t-bast/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/t-bast/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/t-bast/subscriptions",
        "organizations_url": "https://api.github.com/users/t-bast/orgs",
        "repos_url": "https://api.github.com/users/t-bast/repos",
        "events_url": "https://api.github.com/users/t-bast/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/t-bast/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-02-28T14:19:41Z",
      "updated_at": "2022-02-28T14:19:41Z",
      "source": {
        "issue": {
          "id": 654689064,
          "node_id": "MDU6SXNzdWU2NTQ2ODkwNjQ=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19481",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19481/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19481/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19481/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/19481",
          "number": 19481,
          "state": "closed",
          "state_reason": "completed",
          "title": "Question: PSBT and RBF",
          "body": "Hi all!\r\n\r\nAs part of the [anchor outputs](https://github.com/lightningnetwork/lightning-rfc/pull/688) work for Lightning (in the context of [eclair](https://github.com/acinq/eclair)), I'm wondering if it's possible to use psbts and the `bumpfee` RPC or if I'll have to implement a lot of fee bumping code myself outside of `bitcoind`.\r\n\r\nA quick summary of the situation (a lot more details [here](https://github.com/t-bast/lightning-docs/blob/master/lightning-txs.md) if you're interested):\r\n\r\n* we have a \"commit tx\" that represents the state of the channel\r\n* this \"commit tx\" has an output for CPFP carve-out (called \"anchor\") that we use to bump the fee (through a \"claim anchor tx\")\r\n\r\n```ascii\r\n  commit tx\r\n+--------------+\r\n|   vout       |\r\n| +----------+ |\r\n| | output 1 | |\r\n| +----------+ |\r\n|     ...      |\r\n| +----------+ |\r\n| | anchor   | |-------+\r\n| +----------+ |       |         claim anchor tx\r\n|     ...      |       |       +-----------------------------------+\r\n| +----------+ |       |       |   vin               vout          |\r\n| | output n | |       |       | +-------------+   +-------------+ |\r\n| +----------+ |       +------>| | anchor utxo |   | wallet utxo | |\r\n+--------------+               | +-------------+   +-------------+ |\r\n                               | +-------------+                   |\r\n  unrelated tx         +------>| | wallet utxo |                   |\r\n+--------------+       |       | +-------------+                   |\r\n|   vout       |       |       +-----------------------------------+\r\n| +----------+ |       |\r\n| | output 1 | |-------+\r\n| +----------+ |\r\n|     ...      |\r\n| +----------+ |\r\n| | output m | |\r\n| +----------+ |\r\n+--------------+\r\n```\r\n\r\nThe `bitcoind` wallet doesn't have the keys necessary to spend the \"anchor\"; these are handled by the lightning node.\r\nBut I'd like to let `bitcoind` chose what inputs and outputs to add to that transaction to achieve a given feerate.\r\n\r\nThis looks like a perfect use-case for PSBT:\r\n\r\n* use `bitcoind`'s `walletcreatefundedpsbt` to obtain a wallet psbt\r\n* create a lightning psbt with only the anchor utxo as input\r\n* use `joinpsbts` to gather all inputs/outputs\r\n* use `walletprocesspsbt` to get signatures for the wallet inputs\r\n* add the signature for the anchor input and finalize the psbt\r\n\r\nOnce that's done, I can publish my \"claim anchor tx\".\r\nHowever if it still doesn't confirm in time, I'd like to RBF that transaction.\r\nBut obviously `bumpfee` will not work out of the box because there's one input that it can't automatically re-sign.\r\nWhat would be really great would be if `bumpfee` could replace all wallet inputs/outputs to bump the fee (abiding by all the BIP 125 rules) and then return a psbt with all the wallet inputs signed; I would then only need to re-sign the anchor input, finalize the psbt and broadcast it.\r\n\r\nIIUC 0.20.0 has taken a first step in that direction (returning a psbt in `bumpfee`), but it looks like it will only do that with a watch-only wallet, whereas I'd like that behavior with normal wallet too. Does this request make sense, and if so is this being currently worked on?",
          "user": {
            "login": "t-bast",
            "id": 31281497,
            "node_id": "MDQ6VXNlcjMxMjgxNDk3",
            "avatar_url": "https://avatars.githubusercontent.com/u/31281497?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/t-bast",
            "html_url": "https://github.com/t-bast",
            "followers_url": "https://api.github.com/users/t-bast/followers",
            "following_url": "https://api.github.com/users/t-bast/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/t-bast/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/t-bast/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/t-bast/subscriptions",
            "organizations_url": "https://api.github.com/users/t-bast/orgs",
            "repos_url": "https://api.github.com/users/t-bast/repos",
            "events_url": "https://api.github.com/users/t-bast/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/t-bast/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 64583,
              "node_id": "MDU6TGFiZWw2NDU4Mw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Feature",
              "name": "Feature",
              "color": "7cf575",
              "default": false
            },
            {
              "id": 477890092,
              "node_id": "MDU6TGFiZWw0Nzc4OTAwOTI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Questions%20and%20Help",
              "name": "Questions and Help",
              "color": "006688",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "comments": 17,
          "closed_at": "2022-02-28T14:19:41Z",
          "created_at": "2020-07-10T10:40:03Z",
          "updated_at": "2023-02-28T10:15:03Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 7230922383,
      "node_id": "REFE_lADOABII5848nqV-zwAAAAGu_x6P",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7230922383",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "607d5a46aa0f5053d8643a3e2c31a69bfdeb6e9f",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/607d5a46aa0f5053d8643a3e2c31a69bfdeb6e9f",
      "created_at": "2022-08-22T09:12:34Z"
    },
    {
      "event": "locked",
      "id": 8353130534,
      "node_id": "LOE_lADOABII5848nqV-zwAAAAHx4qgm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8353130534",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-25T10:09:33Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723015304",
      "pull_request_review_id": 772362588,
      "id": 723015304,
      "node_id": "PRRC_kwDOABII584rGFaI",
      "diff_hunk": "@@ -4707,10 +4767,15 @@ static RPCHelpMan walletcreatefundedpsbt()\n         }, true\n     );\n \n+    UniValue options = request.params[3];\n+    if (options.exists(\"input_weights\")) {\n+        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Specify weight in inputs instead\");",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 122,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "5c2ff2578512fca8134d68a8a86ae144c9335cca",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Isn't this already done in `SetOptionsInputWeights`?",
      "created_at": "2021-10-06T08:41:12Z",
      "updated_at": "2021-10-06T08:41:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r723015304",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723015304"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4772,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723399460",
      "pull_request_review_id": 772873773,
      "id": 723399460,
      "node_id": "PRRC_kwDOABII584rHjMk",
      "diff_hunk": "@@ -4707,10 +4767,15 @@ static RPCHelpMan walletcreatefundedpsbt()\n         }, true\n     );\n \n+    UniValue options = request.params[3];\n+    if (options.exists(\"input_weights\")) {\n+        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Specify weight in inputs instead\");",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 122,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "5c2ff2578512fca8134d68a8a86ae144c9335cca",
      "in_reply_to_id": 723015304,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Indeed, removed.",
      "created_at": "2021-10-06T15:31:28Z",
      "updated_at": "2021-10-06T15:31:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r723399460",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723399460"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4772,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723737247",
      "pull_request_review_id": 773302897,
      "id": 723737247,
      "node_id": "PRRC_kwDOABII584rI1qf",
      "diff_hunk": "@@ -3339,6 +3340,35 @@ void FundTransaction(CWallet& wallet, CMutableTransaction& tx, CAmount& fee_out,\n         }\n     }\n \n+    if (options.exists(\"input_weights\")) {\n+        const UniValue& inputs = options[\"input_weights\"].get_array();\n+        for (unsigned int i = 0; i < inputs.size(); ++i) {\n+            const UniValue& input = inputs[i].get_obj();\n+\n+            uint256 txid = ParseHashO(input, \"txid\");\n+\n+            const UniValue& vout_v = find_value(input, \"vout\");\n+            if (!vout_v.isNum()) {\n+                throw JSONRPCError(RPC_INVALID_PARAMETER, \"Invalid parameter, missing vout key\");\n+            }\n+            int vout = vout_v.get_int();\n+            if (vout < 0) {\n+                throw JSONRPCError(RPC_INVALID_PARAMETER, \"Invalid parameter, vout cannot be negative\");\n+            }\n+\n+            const UniValue& weight_v = find_value(input, \"weight\");\n+            if (!weight_v.isNum()) {\n+                throw JSONRPCError(RPC_INVALID_PARAMETER, \"Invalid parameter, missing weight key\");\n+            }\n+            int64_t weight = weight_v.get_int64();\n+            if (weight < 40 * 4) {",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 33,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "c3fbbe7de9087205ed5e3c01e348005d88e7bb53",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: use WITNESS_SCALE_FACTOR",
      "created_at": "2021-10-06T23:00:17Z",
      "updated_at": "2021-10-06T23:08:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r723737247",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723737247"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3364,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723739242",
      "pull_request_review_id": 773302897,
      "id": 723739242,
      "node_id": "PRRC_kwDOABII584rI2Jq",
      "diff_hunk": "@@ -1032,10 +1037,38 @@ def test_external_inputs(self):\n         assert signed_tx['complete']\n \n         funded_tx = wallet.fundrawtransaction(raw_tx, {\"solving_data\": {\"descriptors\": [desc]}})\n-        signed_tx = wallet.signrawtransactionwithwallet(funded_tx['hex'])\n-        assert not signed_tx['complete']\n-        signed_tx = self.nodes[0].signrawtransactionwithwallet(signed_tx['hex'])\n-        assert signed_tx['complete']\n+        signed_tx1 = wallet.signrawtransactionwithwallet(funded_tx['hex'])\n+        assert not signed_tx1['complete']\n+        signed_tx2 = self.nodes[0].signrawtransactionwithwallet(signed_tx1['hex'])\n+        assert signed_tx2['complete']\n+\n+        unsigned_weight = self.nodes[0].decoderawtransaction(signed_tx1[\"hex\"])[\"weight\"]\n+        signed_weight = self.nodes[0].decoderawtransaction(signed_tx2[\"hex\"])[\"weight\"]\n+        # Input's weight is difference between weight of signed and unsigned,\n+        # and the weight of stuff that didn't change (prevout, sequence, 1 byte of scriptSig)\n+        input_weight = signed_weight - unsigned_weight + (45 * 4)\n+        low_input_weight = input_weight // 2\n+        high_input_weight = input_weight * 2\n+\n+        # Funding should also work if the input weight is provided\n+        funded_tx = wallet.fundrawtransaction(raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": input_weight}]})\n+        signed_tx = wallet.signrawtransactionwithwallet(funded_tx[\"hex\"])\n+        signed_tx = self.nodes[0].signrawtransactionwithwallet(signed_tx[\"hex\"])\n+        assert self.nodes[0].testmempoolaccept([signed_tx[\"hex\"]])[0][\"allowed\"]\n+        # Reducing the weight should have a lower fee\n+        funded_tx2 = wallet.fundrawtransaction(raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": low_input_weight}]})\n+        assert_greater_than(funded_tx[\"fee\"], funded_tx2[\"fee\"])\n+        # Increasing the weight should have a higher lower fee",
      "path": "test/functional/rpc_fundrawtransaction.py",
      "position": null,
      "original_position": 41,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "7121427e245b640bd3b9598494ba5af97f1f544b",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "higher lower fee?",
      "created_at": "2021-10-06T23:05:34Z",
      "updated_at": "2021-10-06T23:08:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r723739242",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723739242"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1061,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723749363",
      "pull_request_review_id": 773317911,
      "id": 723749363,
      "node_id": "PRRC_kwDOABII584rI4nz",
      "diff_hunk": "@@ -3339,6 +3340,35 @@ void FundTransaction(CWallet& wallet, CMutableTransaction& tx, CAmount& fee_out,\n         }\n     }\n \n+    if (options.exists(\"input_weights\")) {\n+        const UniValue& inputs = options[\"input_weights\"].get_array();\n+        for (unsigned int i = 0; i < inputs.size(); ++i) {\n+            const UniValue& input = inputs[i].get_obj();\n+\n+            uint256 txid = ParseHashO(input, \"txid\");\n+\n+            const UniValue& vout_v = find_value(input, \"vout\");\n+            if (!vout_v.isNum()) {\n+                throw JSONRPCError(RPC_INVALID_PARAMETER, \"Invalid parameter, missing vout key\");\n+            }\n+            int vout = vout_v.get_int();\n+            if (vout < 0) {\n+                throw JSONRPCError(RPC_INVALID_PARAMETER, \"Invalid parameter, vout cannot be negative\");\n+            }\n+\n+            const UniValue& weight_v = find_value(input, \"weight\");\n+            if (!weight_v.isNum()) {\n+                throw JSONRPCError(RPC_INVALID_PARAMETER, \"Invalid parameter, missing weight key\");\n+            }\n+            int64_t weight = weight_v.get_int64();\n+            if (weight < 40 * 4) {",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 33,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "c3fbbe7de9087205ed5e3c01e348005d88e7bb53",
      "in_reply_to_id": 723737247,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2021-10-06T23:33:34Z",
      "updated_at": "2021-10-06T23:33:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r723749363",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723749363"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3364,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723749384",
      "pull_request_review_id": 773317941,
      "id": 723749384,
      "node_id": "PRRC_kwDOABII584rI4oI",
      "diff_hunk": "@@ -1032,10 +1037,38 @@ def test_external_inputs(self):\n         assert signed_tx['complete']\n \n         funded_tx = wallet.fundrawtransaction(raw_tx, {\"solving_data\": {\"descriptors\": [desc]}})\n-        signed_tx = wallet.signrawtransactionwithwallet(funded_tx['hex'])\n-        assert not signed_tx['complete']\n-        signed_tx = self.nodes[0].signrawtransactionwithwallet(signed_tx['hex'])\n-        assert signed_tx['complete']\n+        signed_tx1 = wallet.signrawtransactionwithwallet(funded_tx['hex'])\n+        assert not signed_tx1['complete']\n+        signed_tx2 = self.nodes[0].signrawtransactionwithwallet(signed_tx1['hex'])\n+        assert signed_tx2['complete']\n+\n+        unsigned_weight = self.nodes[0].decoderawtransaction(signed_tx1[\"hex\"])[\"weight\"]\n+        signed_weight = self.nodes[0].decoderawtransaction(signed_tx2[\"hex\"])[\"weight\"]\n+        # Input's weight is difference between weight of signed and unsigned,\n+        # and the weight of stuff that didn't change (prevout, sequence, 1 byte of scriptSig)\n+        input_weight = signed_weight - unsigned_weight + (45 * 4)\n+        low_input_weight = input_weight // 2\n+        high_input_weight = input_weight * 2\n+\n+        # Funding should also work if the input weight is provided\n+        funded_tx = wallet.fundrawtransaction(raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": input_weight}]})\n+        signed_tx = wallet.signrawtransactionwithwallet(funded_tx[\"hex\"])\n+        signed_tx = self.nodes[0].signrawtransactionwithwallet(signed_tx[\"hex\"])\n+        assert self.nodes[0].testmempoolaccept([signed_tx[\"hex\"]])[0][\"allowed\"]\n+        # Reducing the weight should have a lower fee\n+        funded_tx2 = wallet.fundrawtransaction(raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": low_input_weight}]})\n+        assert_greater_than(funded_tx[\"fee\"], funded_tx2[\"fee\"])\n+        # Increasing the weight should have a higher lower fee",
      "path": "test/functional/rpc_fundrawtransaction.py",
      "position": null,
      "original_position": 41,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "7121427e245b640bd3b9598494ba5af97f1f544b",
      "in_reply_to_id": 723739242,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2021-10-06T23:33:38Z",
      "updated_at": "2021-10-06T23:33:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r723749384",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723749384"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1061,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725094128",
      "pull_request_review_id": 775131271,
      "id": 725094128,
      "node_id": "PRRC_kwDOABII584rOA7w",
      "diff_hunk": "@@ -114,9 +114,29 @@ class CCoinControl\n         vOutpoints.assign(setSelected.begin(), setSelected.end());\n     }\n \n+    void SetInputWeight(const COutPoint& outpoint, int64_t weight)\n+    {\n+        m_input_weights[outpoint] = weight;\n+    }\n+\n+    bool HasInputWeight(const COutPoint& outpoint) const\n+    {\n+        return m_input_weights.count(outpoint) > 0;",
      "path": "src/wallet/coincontrol.h",
      "position": 11,
      "original_position": 11,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "d0592296b13c6316cd681fc0df1effcf9c7e31e4",
      "in_reply_to_id": null,
      "user": {
        "login": "yanmaani",
        "id": 68476452,
        "node_id": "MDQ6VXNlcjY4NDc2NDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/68476452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yanmaani",
        "html_url": "https://github.com/yanmaani",
        "followers_url": "https://api.github.com/users/yanmaani/followers",
        "following_url": "https://api.github.com/users/yanmaani/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/yanmaani/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/yanmaani/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/yanmaani/subscriptions",
        "organizations_url": "https://api.github.com/users/yanmaani/orgs",
        "repos_url": "https://api.github.com/users/yanmaani/repos",
        "events_url": "https://api.github.com/users/yanmaani/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/yanmaani/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Isn't \"no weight\" -1? If so, shouldn't this be ` >= 0`?",
      "created_at": "2021-10-08T15:08:33Z",
      "updated_at": "2021-10-08T15:25:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725094128",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725094128"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 125,
      "original_line": 125,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725095840",
      "pull_request_review_id": 775131271,
      "id": 725095840,
      "node_id": "PRRC_kwDOABII584rOBWg",
      "diff_hunk": "@@ -3177,9 +3177,27 @@ static RPCHelpMan listunspent()\n     };\n }\n \n+static RPCArg InputWeightsDoc(bool include=false)\n+{\n+    if (include) {\n+        return {\n+            \"input_weights\", RPCArg::Type::ARR, RPCArg::Optional::OMITTED_NAMED_ARG, \"Inputs and their corresponding weights\",\n+             {\n+                 {\"txid\", RPCArg::Type::STR_HEX, RPCArg::Optional::NO, \"The transaction id\"},\n+                 {\"vout\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The output number\"},\n+                 {\"weight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The maximum weight for this input, including the weight of the outpoint and sequence number. Note that signature sizes are not guaranteed to be consistent, so the maximum DER signatures size of 73 bytes should be used when considering ECDSA signatures\"},",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 12,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "d0592296b13c6316cd681fc0df1effcf9c7e31e4",
      "in_reply_to_id": null,
      "user": {
        "login": "yanmaani",
        "id": 68476452,
        "node_id": "MDQ6VXNlcjY4NDc2NDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/68476452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yanmaani",
        "html_url": "https://github.com/yanmaani",
        "followers_url": "https://api.github.com/users/yanmaani/followers",
        "following_url": "https://api.github.com/users/yanmaani/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/yanmaani/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/yanmaani/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/yanmaani/subscriptions",
        "organizations_url": "https://api.github.com/users/yanmaani/orgs",
        "repos_url": "https://api.github.com/users/yanmaani/repos",
        "events_url": "https://api.github.com/users/yanmaani/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/yanmaani/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Would be cleaner to concatenate this across multiple lines so you don't have to scroll out, no?",
      "created_at": "2021-10-08T15:10:47Z",
      "updated_at": "2021-10-08T15:25:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725095840",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725095840"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3188,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725097038",
      "pull_request_review_id": 775131271,
      "id": 725097038,
      "node_id": "PRRC_kwDOABII584rOBpO",
      "diff_hunk": "@@ -3367,6 +3387,35 @@ void FundTransaction(CWallet& wallet, CMutableTransaction& tx, CAmount& fee_out,\n         }\n     }\n \n+    if (options.exists(\"input_weights\")) {\n+        const UniValue& inputs = options[\"input_weights\"].get_array();\n+        for (unsigned int i = 0; i < inputs.size(); ++i) {",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 51,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "d0592296b13c6316cd681fc0df1effcf9c7e31e4",
      "in_reply_to_id": null,
      "user": {
        "login": "yanmaani",
        "id": 68476452,
        "node_id": "MDQ6VXNlcjY4NDc2NDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/68476452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yanmaani",
        "html_url": "https://github.com/yanmaani",
        "followers_url": "https://api.github.com/users/yanmaani/followers",
        "following_url": "https://api.github.com/users/yanmaani/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/yanmaani/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/yanmaani/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/yanmaani/subscriptions",
        "organizations_url": "https://api.github.com/users/yanmaani/orgs",
        "repos_url": "https://api.github.com/users/yanmaani/repos",
        "events_url": "https://api.github.com/users/yanmaani/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/yanmaani/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Any reason here not to use a C++-style loop? Granted, it's not a big difference.",
      "created_at": "2021-10-08T15:12:22Z",
      "updated_at": "2021-10-08T15:25:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725097038",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725097038"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3392,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725098362",
      "pull_request_review_id": 775131271,
      "id": 725098362,
      "node_id": "PRRC_kwDOABII584rOB96",
      "diff_hunk": "@@ -3446,7 +3512,7 @@ static RPCHelpMan fundrawtransaction()\n                                 },\n                             },\n                         },\n-                        FundTxDoc()),\n+                        FundTxDoc(true)),",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 110,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "d0592296b13c6316cd681fc0df1effcf9c7e31e4",
      "in_reply_to_id": null,
      "user": {
        "login": "yanmaani",
        "id": 68476452,
        "node_id": "MDQ6VXNlcjY4NDc2NDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/68476452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yanmaani",
        "html_url": "https://github.com/yanmaani",
        "followers_url": "https://api.github.com/users/yanmaani/followers",
        "following_url": "https://api.github.com/users/yanmaani/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/yanmaani/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/yanmaani/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/yanmaani/subscriptions",
        "organizations_url": "https://api.github.com/users/yanmaani/orgs",
        "repos_url": "https://api.github.com/users/yanmaani/repos",
        "events_url": "https://api.github.com/users/yanmaani/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/yanmaani/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Comment here explaining the name of the parameter?",
      "created_at": "2021-10-08T15:14:21Z",
      "updated_at": "2021-10-08T15:25:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725098362",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725098362"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3515,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725099707",
      "pull_request_review_id": 775131271,
      "id": 725099707,
      "node_id": "PRRC_kwDOABII584rOCS7",
      "diff_hunk": "@@ -3404,6 +3453,23 @@ void FundTransaction(CWallet& wallet, CMutableTransaction& tx, CAmount& fee_out,\n     }\n }\n \n+static void SetOptionsInputWeights(const UniValue& inputs, UniValue& options)\n+{\n+    if (options.exists(\"input_weights\")) {",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 87,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "d0592296b13c6316cd681fc0df1effcf9c7e31e4",
      "in_reply_to_id": null,
      "user": {
        "login": "yanmaani",
        "id": 68476452,
        "node_id": "MDQ6VXNlcjY4NDc2NDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/68476452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yanmaani",
        "html_url": "https://github.com/yanmaani",
        "followers_url": "https://api.github.com/users/yanmaani/followers",
        "following_url": "https://api.github.com/users/yanmaani/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/yanmaani/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/yanmaani/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/yanmaani/subscriptions",
        "organizations_url": "https://api.github.com/users/yanmaani/orgs",
        "repos_url": "https://api.github.com/users/yanmaani/repos",
        "events_url": "https://api.github.com/users/yanmaani/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/yanmaani/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "What's going on here? Are there two mutually exclusive ways to give the input weights?",
      "created_at": "2021-10-08T15:16:02Z",
      "updated_at": "2021-10-08T15:25:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725099707",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725099707"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3436,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725101698",
      "pull_request_review_id": 775131271,
      "id": 725101698,
      "node_id": "PRRC_kwDOABII584rOCyC",
      "diff_hunk": "@@ -463,15 +463,17 @@ bool SelectCoins(const CWallet& wallet, const std::vector<COutput>& vAvailableCo\n             }\n             input_bytes = GetTxSpendSize(wallet, wtx, outpoint.n, false);\n             txout = wtx.tx->vout.at(outpoint.n);\n-        }\n-        if (input_bytes == -1) {\n-            // The input is external. We either did not find the tx in mapWallet, or we did but couldn't compute the input size with wallet data\n+        } else {\n+            // The input is external. We did not find the tx in mapWallet.",
      "path": "src/wallet/spend.cpp",
      "position": 8,
      "original_position": 8,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "d0592296b13c6316cd681fc0df1effcf9c7e31e4",
      "in_reply_to_id": null,
      "user": {
        "login": "yanmaani",
        "id": 68476452,
        "node_id": "MDQ6VXNlcjY4NDc2NDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/68476452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yanmaani",
        "html_url": "https://github.com/yanmaani",
        "followers_url": "https://api.github.com/users/yanmaani/followers",
        "following_url": "https://api.github.com/users/yanmaani/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/yanmaani/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/yanmaani/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/yanmaani/subscriptions",
        "organizations_url": "https://api.github.com/users/yanmaani/orgs",
        "repos_url": "https://api.github.com/users/yanmaani/repos",
        "events_url": "https://api.github.com/users/yanmaani/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/yanmaani/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Pardon my ignorance here, but why do we need it in `mapWallet` if we have its size?",
      "created_at": "2021-10-08T15:18:43Z",
      "updated_at": "2021-10-08T15:25:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725101698",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725101698"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 459,
      "original_line": 459,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725104913",
      "pull_request_review_id": 775131271,
      "id": 725104913,
      "node_id": "PRRC_kwDOABII584rODkR",
      "diff_hunk": "@@ -1023,6 +1023,11 @@ def test_external_inputs(self):\n         assert_raises_rpc_error(-5, \"'01234567890a0b0c0d0e0f' is not a valid public key\", wallet.fundrawtransaction, raw_tx, {\"solving_data\": {\"pubkeys\":[\"01234567890a0b0c0d0e0f\"]}})\n         assert_raises_rpc_error(-5, \"'not a script' is not hex\", wallet.fundrawtransaction, raw_tx, {\"solving_data\": {\"scripts\":[\"not a script\"]}})\n         assert_raises_rpc_error(-8, \"Unable to parse descriptor 'not a descriptor'\", wallet.fundrawtransaction, raw_tx, {\"solving_data\": {\"descriptors\":[\"not a descriptor\"]}})\n+        assert_raises_rpc_error(-8, \"Invalid parameter, missing vout key\", wallet.fundrawtransaction, raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"]}]})\n+        assert_raises_rpc_error(-8, \"Invalid parameter, vout cannot be negative\", wallet.fundrawtransaction, raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": -1}]})\n+        assert_raises_rpc_error(-8, \"Invalid parameter, missing weight key\", wallet.fundrawtransaction, raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"]}]})\n+        assert_raises_rpc_error(-8, \"Invalid parameter, weight cannot be less than 160\", wallet.fundrawtransaction, raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": 159}]})\n+        assert_raises_rpc_error(-8, \"Invalid parameter, weight cannot be less than 160\", wallet.fundrawtransaction, raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": -1}]})\n ",
      "path": "test/functional/rpc_fundrawtransaction.py",
      "position": 30,
      "original_position": 9,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "d0592296b13c6316cd681fc0df1effcf9c7e31e4",
      "in_reply_to_id": null,
      "user": {
        "login": "yanmaani",
        "id": 68476452,
        "node_id": "MDQ6VXNlcjY4NDc2NDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/68476452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yanmaani",
        "html_url": "https://github.com/yanmaani",
        "followers_url": "https://api.github.com/users/yanmaani/followers",
        "following_url": "https://api.github.com/users/yanmaani/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/yanmaani/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/yanmaani/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/yanmaani/subscriptions",
        "organizations_url": "https://api.github.com/users/yanmaani/orgs",
        "repos_url": "https://api.github.com/users/yanmaani/repos",
        "events_url": "https://api.github.com/users/yanmaani/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/yanmaani/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Are you missing the `Specify weight in inputs instead` error case?",
      "created_at": "2021-10-08T15:22:59Z",
      "updated_at": "2021-10-08T15:25:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725104913",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725104913"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1022,
      "original_line": 1022,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725125227",
      "pull_request_review_id": 775173618,
      "id": 725125227,
      "node_id": "PRRC_kwDOABII584rOIhr",
      "diff_hunk": "@@ -114,9 +114,29 @@ class CCoinControl\n         vOutpoints.assign(setSelected.begin(), setSelected.end());\n     }\n \n+    void SetInputWeight(const COutPoint& outpoint, int64_t weight)\n+    {\n+        m_input_weights[outpoint] = weight;\n+    }\n+\n+    bool HasInputWeight(const COutPoint& outpoint) const\n+    {\n+        return m_input_weights.count(outpoint) > 0;",
      "path": "src/wallet/coincontrol.h",
      "position": 11,
      "original_position": 11,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "d0592296b13c6316cd681fc0df1effcf9c7e31e4",
      "in_reply_to_id": 725094128,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This is checking whether the outpoint exists in the map. The result of `count` is always 0 or 1, it does not actually fetch the value stored.",
      "created_at": "2021-10-08T15:50:42Z",
      "updated_at": "2021-10-08T15:50:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725125227",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725125227"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 125,
      "original_line": 125,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725130904",
      "pull_request_review_id": 775181098,
      "id": 725130904,
      "node_id": "PRRC_kwDOABII584rOJ6Y",
      "diff_hunk": "@@ -3404,6 +3453,23 @@ void FundTransaction(CWallet& wallet, CMutableTransaction& tx, CAmount& fee_out,\n     }\n }\n \n+static void SetOptionsInputWeights(const UniValue& inputs, UniValue& options)\n+{\n+    if (options.exists(\"input_weights\")) {",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 87,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "d0592296b13c6316cd681fc0df1effcf9c7e31e4",
      "in_reply_to_id": 725099707,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes.\r\n\r\nFor `send` and `walletcreatefundedpsbt`, the weights can and should be specified in the inputs array. To avoid conflicts, these are mutually exclusive. `input_weights` exists for `fundrawtransaction` because it does not have an `inputs` array. However it is also useful to be able to pass it as part of the `options` object, which is what this function does.",
      "created_at": "2021-10-08T15:58:20Z",
      "updated_at": "2021-10-08T15:58:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725130904",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725130904"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3436,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725131187",
      "pull_request_review_id": 775181460,
      "id": 725131187,
      "node_id": "PRRC_kwDOABII584rOJ-z",
      "diff_hunk": "@@ -3446,7 +3512,7 @@ static RPCHelpMan fundrawtransaction()\n                                 },\n                             },",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 107,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "d0592296b13c6316cd681fc0df1effcf9c7e31e4",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Sorry for causing the conflict, but it might be cleaner to just inline the doc here if only one RPC method is using it and none of the others.\r\n\r\n```suggestion\r\n                            },\r\n                            {\"input_weights\", RPCArg::.......\r\n```",
      "created_at": "2021-10-08T15:58:42Z",
      "updated_at": "2021-10-08T15:58:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725131187",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725131187"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3491,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725131633",
      "pull_request_review_id": 775182121,
      "id": 725131633,
      "node_id": "PRRC_kwDOABII584rOKFx",
      "diff_hunk": "@@ -463,15 +463,17 @@ bool SelectCoins(const CWallet& wallet, const std::vector<COutput>& vAvailableCo\n             }\n             input_bytes = GetTxSpendSize(wallet, wtx, outpoint.n, false);\n             txout = wtx.tx->vout.at(outpoint.n);\n-        }\n-        if (input_bytes == -1) {\n-            // The input is external. We either did not find the tx in mapWallet, or we did but couldn't compute the input size with wallet data\n+        } else {\n+            // The input is external. We did not find the tx in mapWallet.",
      "path": "src/wallet/spend.cpp",
      "position": 8,
      "original_position": 8,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "d0592296b13c6316cd681fc0df1effcf9c7e31e4",
      "in_reply_to_id": 725101698,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "We are not guaranteed to have the size.",
      "created_at": "2021-10-08T15:59:24Z",
      "updated_at": "2021-10-08T15:59:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725131633",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725131633"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 459,
      "original_line": 459,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725138412",
      "pull_request_review_id": 775191352,
      "id": 725138412,
      "node_id": "PRRC_kwDOABII584rOLvs",
      "diff_hunk": "@@ -3177,9 +3177,27 @@ static RPCHelpMan listunspent()\n     };\n }\n \n+static RPCArg InputWeightsDoc(bool include=false)\n+{\n+    if (include) {\n+        return {\n+            \"input_weights\", RPCArg::Type::ARR, RPCArg::Optional::OMITTED_NAMED_ARG, \"Inputs and their corresponding weights\",\n+             {\n+                 {\"txid\", RPCArg::Type::STR_HEX, RPCArg::Optional::NO, \"The transaction id\"},\n+                 {\"vout\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The output number\"},\n+                 {\"weight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The maximum weight for this input, including the weight of the outpoint and sequence number. Note that signature sizes are not guaranteed to be consistent, so the maximum DER signatures size of 73 bytes should be used when considering ECDSA signatures\"},",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 12,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "d0592296b13c6316cd681fc0df1effcf9c7e31e4",
      "in_reply_to_id": 725095840,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2021-10-08T16:09:18Z",
      "updated_at": "2021-10-08T16:09:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725138412",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725138412"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3188,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725138464",
      "pull_request_review_id": 775191443,
      "id": 725138464,
      "node_id": "PRRC_kwDOABII584rOLwg",
      "diff_hunk": "@@ -3367,6 +3387,35 @@ void FundTransaction(CWallet& wallet, CMutableTransaction& tx, CAmount& fee_out,\n         }\n     }\n \n+    if (options.exists(\"input_weights\")) {\n+        const UniValue& inputs = options[\"input_weights\"].get_array();\n+        for (unsigned int i = 0; i < inputs.size(); ++i) {",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 51,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "d0592296b13c6316cd681fc0df1effcf9c7e31e4",
      "in_reply_to_id": 725097038,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2021-10-08T16:09:23Z",
      "updated_at": "2021-10-08T16:09:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725138464",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725138464"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3392,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725138729",
      "pull_request_review_id": 775191738,
      "id": 725138729,
      "node_id": "PRRC_kwDOABII584rOL0p",
      "diff_hunk": "@@ -3446,7 +3512,7 @@ static RPCHelpMan fundrawtransaction()\n                                 },\n                             },\n                         },\n-                        FundTxDoc()),\n+                        FundTxDoc(true)),",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 110,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "d0592296b13c6316cd681fc0df1effcf9c7e31e4",
      "in_reply_to_id": 725098362,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Removed the comment, the help can actually be inline.",
      "created_at": "2021-10-08T16:09:43Z",
      "updated_at": "2021-10-08T16:09:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725138729",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725138729"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3515,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725139015",
      "pull_request_review_id": 775192075,
      "id": 725139015,
      "node_id": "PRRC_kwDOABII584rOL5H",
      "diff_hunk": "@@ -3446,7 +3512,7 @@ static RPCHelpMan fundrawtransaction()\n                                 },\n                             },",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 107,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "d0592296b13c6316cd681fc0df1effcf9c7e31e4",
      "in_reply_to_id": 725131187,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done. For some reason I thought it needed to be in that function, but actually it doesn't.",
      "created_at": "2021-10-08T16:10:07Z",
      "updated_at": "2021-10-08T16:10:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725139015",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725139015"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3491,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725147359",
      "pull_request_review_id": 775203058,
      "id": 725147359,
      "node_id": "PRRC_kwDOABII584rON7f",
      "diff_hunk": "@@ -1023,6 +1023,11 @@ def test_external_inputs(self):\n         assert_raises_rpc_error(-5, \"'01234567890a0b0c0d0e0f' is not a valid public key\", wallet.fundrawtransaction, raw_tx, {\"solving_data\": {\"pubkeys\":[\"01234567890a0b0c0d0e0f\"]}})\n         assert_raises_rpc_error(-5, \"'not a script' is not hex\", wallet.fundrawtransaction, raw_tx, {\"solving_data\": {\"scripts\":[\"not a script\"]}})\n         assert_raises_rpc_error(-8, \"Unable to parse descriptor 'not a descriptor'\", wallet.fundrawtransaction, raw_tx, {\"solving_data\": {\"descriptors\":[\"not a descriptor\"]}})\n+        assert_raises_rpc_error(-8, \"Invalid parameter, missing vout key\", wallet.fundrawtransaction, raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"]}]})\n+        assert_raises_rpc_error(-8, \"Invalid parameter, vout cannot be negative\", wallet.fundrawtransaction, raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": -1}]})\n+        assert_raises_rpc_error(-8, \"Invalid parameter, missing weight key\", wallet.fundrawtransaction, raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"]}]})\n+        assert_raises_rpc_error(-8, \"Invalid parameter, weight cannot be less than 160\", wallet.fundrawtransaction, raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": 159}]})\n+        assert_raises_rpc_error(-8, \"Invalid parameter, weight cannot be less than 160\", wallet.fundrawtransaction, raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": -1}]})\n ",
      "path": "test/functional/rpc_fundrawtransaction.py",
      "position": 30,
      "original_position": 9,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "d0592296b13c6316cd681fc0df1effcf9c7e31e4",
      "in_reply_to_id": 725104913,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Added to `rpc_psbt` and `wallet_send` where it actually can be an error.",
      "created_at": "2021-10-08T16:22:25Z",
      "updated_at": "2021-10-08T16:22:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725147359",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725147359"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1022,
      "original_line": 1022,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725480194",
      "pull_request_review_id": 775572778,
      "id": 725480194,
      "node_id": "PRRC_kwDOABII584rPfMC",
      "diff_hunk": "@@ -1462,6 +1462,34 @@ bool DummySignInput(const SigningProvider& provider, CTxIn &tx_in, const CTxOut\n     return true;\n }\n \n+static void FillInputToWeight(CTxIn& txin, int64_t target_weight)\n+{\n+    int64_t txin_weight = GetTransactionInputWeight(txin);\n+    // Subtract current txin weight, which should include empty witness stack\n+    int64_t add_weight = target_weight - txin_weight;\n+\n+    // We will want to subtract the size of the Compact Size UInt that will also be serialized.\n+    // However doing so when the size is near a boundary can result in a problem where it is not\n+    // possible to have a stack element size and combination to exactly equal a target.\n+    // To avoid this possibility, if the weight to add is less than 10 bytes greater than\n+    // a boundary, the size will be split so that 2/3rds will be in one stack element, and\n+    // the remaining 1/3rd in another. Using 3rds allows us to avoid additional boundaries.\n+    // 10 bytes is used because that accounts for the maximum size. This does not need to be super precise.\n+    if ((add_weight >= 253 && add_weight < 263)",
      "path": "src/wallet/wallet.cpp",
      "position": 30,
      "original_position": 17,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "0224b9db65824064ca3a28f9802f5327735b95bb",
      "in_reply_to_id": null,
      "user": {
        "login": "rajarshimaitra",
        "id": 36541669,
        "node_id": "MDQ6VXNlcjM2NTQxNjY5",
        "avatar_url": "https://avatars.githubusercontent.com/u/36541669?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rajarshimaitra",
        "html_url": "https://github.com/rajarshimaitra",
        "followers_url": "https://api.github.com/users/rajarshimaitra/followers",
        "following_url": "https://api.github.com/users/rajarshimaitra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rajarshimaitra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rajarshimaitra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rajarshimaitra/subscriptions",
        "organizations_url": "https://api.github.com/users/rajarshimaitra/orgs",
        "repos_url": "https://api.github.com/users/rajarshimaitra/repos",
        "events_url": "https://api.github.com/users/rajarshimaitra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rajarshimaitra/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Assuming this numbers are denoting 8 bit boundaries, why its not 255 and 265?   ",
      "created_at": "2021-10-09T12:14:12Z",
      "updated_at": "2022-01-16T08:54:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725480194",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725480194"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1536,
      "original_line": 1536,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725497018",
      "pull_request_review_id": 775572778,
      "id": 725497018,
      "node_id": "PRRC_kwDOABII584rPjS6",
      "diff_hunk": "@@ -1032,10 +1037,38 @@ def test_external_inputs(self):\n         assert signed_tx['complete']\n \n         funded_tx = wallet.fundrawtransaction(raw_tx, {\"solving_data\": {\"descriptors\": [desc]}})\n-        signed_tx = wallet.signrawtransactionwithwallet(funded_tx['hex'])\n-        assert not signed_tx['complete']\n-        signed_tx = self.nodes[0].signrawtransactionwithwallet(signed_tx['hex'])\n-        assert signed_tx['complete']\n+        signed_tx1 = wallet.signrawtransactionwithwallet(funded_tx['hex'])\n+        assert not signed_tx1['complete']\n+        signed_tx2 = self.nodes[0].signrawtransactionwithwallet(signed_tx1['hex'])\n+        assert signed_tx2['complete']\n+\n+        unsigned_weight = self.nodes[0].decoderawtransaction(signed_tx1[\"hex\"])[\"weight\"]\n+        signed_weight = self.nodes[0].decoderawtransaction(signed_tx2[\"hex\"])[\"weight\"]\n+        # Input's weight is difference between weight of signed and unsigned,\n+        # and the weight of stuff that didn't change (prevout, sequence, 1 byte of scriptSig)\n+        input_weight = signed_weight - unsigned_weight + (45 * 4)\n+        low_input_weight = input_weight // 2\n+        high_input_weight = input_weight * 2\n+\n+        # Funding should also work if the input weight is provided\n+        funded_tx = wallet.fundrawtransaction(raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": input_weight}]})\n+        signed_tx = wallet.signrawtransactionwithwallet(funded_tx[\"hex\"])\n+        signed_tx = self.nodes[0].signrawtransactionwithwallet(signed_tx[\"hex\"])\n+        assert self.nodes[0].testmempoolaccept([signed_tx[\"hex\"]])[0][\"allowed\"]",
      "path": "test/functional/rpc_fundrawtransaction.py",
      "position": null,
      "original_position": 37,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "0224b9db65824064ca3a28f9802f5327735b95bb",
      "in_reply_to_id": null,
      "user": {
        "login": "rajarshimaitra",
        "id": 36541669,
        "node_id": "MDQ6VXNlcjM2NTQxNjY5",
        "avatar_url": "https://avatars.githubusercontent.com/u/36541669?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rajarshimaitra",
        "html_url": "https://github.com/rajarshimaitra",
        "followers_url": "https://api.github.com/users/rajarshimaitra/followers",
        "following_url": "https://api.github.com/users/rajarshimaitra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rajarshimaitra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rajarshimaitra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rajarshimaitra/subscriptions",
        "organizations_url": "https://api.github.com/users/rajarshimaitra/orgs",
        "repos_url": "https://api.github.com/users/rajarshimaitra/repos",
        "events_url": "https://api.github.com/users/rajarshimaitra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rajarshimaitra/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This can have the `complete == true/false` assertions too.",
      "created_at": "2021-10-09T14:53:22Z",
      "updated_at": "2022-01-15T11:53:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725497018",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725497018"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": 1055,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 1047,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/731363383",
      "pull_request_review_id": 782637722,
      "id": 731363383,
      "node_id": "PRRC_kwDOABII584rl7g3",
      "diff_hunk": "@@ -114,9 +114,29 @@ class CCoinControl\n         vOutpoints.assign(setSelected.begin(), setSelected.end());\n     }\n \n+    void SetInputWeight(const COutPoint& outpoint, int64_t weight)\n+    {\n+        m_input_weights[outpoint] = weight;\n+    }\n+\n+    bool HasInputWeight(const COutPoint& outpoint) const\n+    {\n+        return m_input_weights.count(outpoint) > 0;\n+    }\n+\n+    int64_t GetInputWeight(const COutPoint& outpoint) const\n+    {\n+        if (HasInputWeight(outpoint)) {",
      "path": "src/wallet/coincontrol.h",
      "position": null,
      "original_position": 16,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "0224b9db65824064ca3a28f9802f5327735b95bb",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It seems that all callers already check for this. Instead of returning -1, how about\r\n```cpp\r\nint64_t GetInputWeight(const COutPoint& outpoint) const\r\n{\r\n    auto it = m_input_weights.find(output);\r\n    assert(it != m_input_weights.end();\r\n    return it->second;\r\n}\r\n```",
      "created_at": "2021-10-18T22:35:43Z",
      "updated_at": "2021-10-18T22:53:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r731363383",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/731363383"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 129,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/731367942",
      "pull_request_review_id": 782637722,
      "id": 731367942,
      "node_id": "PRRC_kwDOABII584rl8oG",
      "diff_hunk": "@@ -3404,6 +3431,23 @@ void FundTransaction(CWallet& wallet, CMutableTransaction& tx, CAmount& fee_out,\n     }\n }\n \n+static void SetOptionsInputWeights(const UniValue& inputs, UniValue& options)\n+{\n+    if (options.exists(\"input_weights\")) {\n+        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Specify weight in inputs instead\");\n+    }\n+    if (inputs.size() == 0) {",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 50,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "0224b9db65824064ca3a28f9802f5327735b95bb",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Instead of this check, check below:\r\n```cpp\r\nif (!weights.empty()) {\r\n    options.pushKV(\"input_weights\", weights);\r\n}\r\n```",
      "created_at": "2021-10-18T22:46:22Z",
      "updated_at": "2021-10-18T22:53:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r731367942",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/731367942"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3439,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/731394750",
      "pull_request_review_id": 782674268,
      "id": 731394750,
      "node_id": "PRRC_kwDOABII584rmDK-",
      "diff_hunk": "@@ -114,9 +114,29 @@ class CCoinControl\n         vOutpoints.assign(setSelected.begin(), setSelected.end());\n     }\n \n+    void SetInputWeight(const COutPoint& outpoint, int64_t weight)\n+    {\n+        m_input_weights[outpoint] = weight;\n+    }\n+\n+    bool HasInputWeight(const COutPoint& outpoint) const\n+    {\n+        return m_input_weights.count(outpoint) > 0;\n+    }\n+\n+    int64_t GetInputWeight(const COutPoint& outpoint) const\n+    {\n+        if (HasInputWeight(outpoint)) {",
      "path": "src/wallet/coincontrol.h",
      "position": null,
      "original_position": 16,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "0224b9db65824064ca3a28f9802f5327735b95bb",
      "in_reply_to_id": 731363383,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2021-10-18T23:57:05Z",
      "updated_at": "2021-10-18T23:57:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r731394750",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/731394750"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 129,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/731394871",
      "pull_request_review_id": 782674406,
      "id": 731394871,
      "node_id": "PRRC_kwDOABII584rmDM3",
      "diff_hunk": "@@ -3404,6 +3431,23 @@ void FundTransaction(CWallet& wallet, CMutableTransaction& tx, CAmount& fee_out,\n     }\n }\n \n+static void SetOptionsInputWeights(const UniValue& inputs, UniValue& options)\n+{\n+    if (options.exists(\"input_weights\")) {\n+        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Specify weight in inputs instead\");\n+    }\n+    if (inputs.size() == 0) {",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 50,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "0224b9db65824064ca3a28f9802f5327735b95bb",
      "in_reply_to_id": 731367942,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This doesn't work because `inputs.getValues()` expects `inputs` to be non-null.",
      "created_at": "2021-10-18T23:57:25Z",
      "updated_at": "2021-10-18T23:57:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r731394871",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/731394871"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3439,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/731579384",
      "pull_request_review_id": 782898092,
      "id": 731579384,
      "node_id": "PRRC_kwDOABII584rmwP4",
      "diff_hunk": "@@ -3404,6 +3431,23 @@ void FundTransaction(CWallet& wallet, CMutableTransaction& tx, CAmount& fee_out,\n     }\n }\n \n+static void SetOptionsInputWeights(const UniValue& inputs, UniValue& options)\n+{\n+    if (options.exists(\"input_weights\")) {\n+        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Specify weight in inputs instead\");\n+    }\n+    if (inputs.size() == 0) {",
      "path": "src/wallet/rpcwallet.cpp",
      "position": null,
      "original_position": 50,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "0224b9db65824064ca3a28f9802f5327735b95bb",
      "in_reply_to_id": 731367942,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit, right   you can keep the check below to avoid `\"input_weights\": []`.",
      "created_at": "2021-10-19T07:40:10Z",
      "updated_at": "2021-10-19T07:40:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r731579384",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/731579384"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3439,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/778190801",
      "pull_request_review_id": 843722749,
      "id": 778190801,
      "node_id": "PRRC_kwDOABII584uYj_R",
      "diff_hunk": "@@ -454,15 +454,17 @@ std::optional<SelectionResult> SelectCoins(const CWallet& wallet, const std::vec\n             }\n             input_bytes = GetTxSpendSize(wallet, wtx, outpoint.n, false);\n             txout = wtx.tx->vout.at(outpoint.n);\n-        }\n-        if (input_bytes == -1) {\n-            // The input is external. We either did not find the tx in mapWallet, or we did but couldn't compute the input size with wallet data\n+        } else {\n+            // The input is external. We did not find the tx in mapWallet.\n             if (!coin_control.GetExternalOutput(outpoint, txout)) {\n-                // Not ours, and we don't have solving data.\n                 return std::nullopt;\n             }\n             input_bytes = CalculateMaximumSignedInputSize(txout, &coin_control.m_external_provider, /* use_max_sig */ true);\n         }\n+        // If available, override calculated size with coin control specified size\n+        if (coin_control.HasInputWeight(outpoint)) {\n+            input_bytes = GetVirtualTransactionSize(coin_control.GetInputWeight(outpoint), 0, 0);\n+        }",
      "path": "src/wallet/spend.cpp",
      "position": 18,
      "original_position": 18,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "e150c15f66818a4ded2e0038ee273a139cd9e2bb",
      "in_reply_to_id": null,
      "user": {
        "login": "benthecarman",
        "id": 15256660,
        "node_id": "MDQ6VXNlcjE1MjU2NjYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/15256660?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/benthecarman",
        "html_url": "https://github.com/benthecarman",
        "followers_url": "https://api.github.com/users/benthecarman/followers",
        "following_url": "https://api.github.com/users/benthecarman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/benthecarman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/benthecarman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/benthecarman/subscriptions",
        "organizations_url": "https://api.github.com/users/benthecarman/orgs",
        "repos_url": "https://api.github.com/users/benthecarman/repos",
        "events_url": "https://api.github.com/users/benthecarman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/benthecarman/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "this will be skipped if `!coin_control.GetExternalOutput(outpoint, txout)`, which should happen for some external inputs, no?",
      "created_at": "2022-01-04T15:53:54Z",
      "updated_at": "2022-01-04T15:58:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r778190801",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/778190801"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 468,
      "original_line": 468,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/781484817",
      "pull_request_review_id": 848247234,
      "id": 781484817,
      "node_id": "PRRC_kwDOABII584ulIMR",
      "diff_hunk": "@@ -454,15 +454,17 @@ std::optional<SelectionResult> SelectCoins(const CWallet& wallet, const std::vec\n             }\n             input_bytes = GetTxSpendSize(wallet, wtx, outpoint.n, false);\n             txout = wtx.tx->vout.at(outpoint.n);\n-        }\n-        if (input_bytes == -1) {\n-            // The input is external. We either did not find the tx in mapWallet, or we did but couldn't compute the input size with wallet data\n+        } else {\n+            // The input is external. We did not find the tx in mapWallet.\n             if (!coin_control.GetExternalOutput(outpoint, txout)) {\n-                // Not ours, and we don't have solving data.\n                 return std::nullopt;\n             }\n             input_bytes = CalculateMaximumSignedInputSize(txout, &coin_control.m_external_provider, /* use_max_sig */ true);\n         }\n+        // If available, override calculated size with coin control specified size\n+        if (coin_control.HasInputWeight(outpoint)) {\n+            input_bytes = GetVirtualTransactionSize(coin_control.GetInputWeight(outpoint), 0, 0);\n+        }",
      "path": "src/wallet/spend.cpp",
      "position": 18,
      "original_position": 18,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "e150c15f66818a4ded2e0038ee273a139cd9e2bb",
      "in_reply_to_id": 778190801,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I don't think that's right. If `!coin_control.GetExternalOutput`, then we can't do coin selection at all and would have returned at an earlier point.",
      "created_at": "2022-01-10T19:24:34Z",
      "updated_at": "2022-01-10T19:24:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r781484817",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/781484817"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 468,
      "original_line": 468,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/783933728",
      "pull_request_review_id": 851677138,
      "id": 783933728,
      "node_id": "PRRC_kwDOABII584uueEg",
      "diff_hunk": "@@ -625,6 +669,16 @@ RPCHelpMan fundrawtransaction()\n                                     {\"vout_index\", RPCArg::Type::NUM, RPCArg::Optional::OMITTED, \"The zero-based output index, before a change output is added.\"},\n                                 },\n                             },\n+                            {\"input_weights\", RPCArg::Type::ARR, RPCArg::Optional::OMITTED_NAMED_ARG, \"Inputs and their corresponding weights\",\n+                                {\n+                                    {\"txid\", RPCArg::Type::STR_HEX, RPCArg::Optional::NO, \"The transaction id\"},\n+                                    {\"vout\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The output number\"},\n+                                    {\"weight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The maximum weight for this input, \"\n+                                        \"including the weight of the outpoint and sequence number. \"\n+                                        \"Note that signature sizes are not guaranteed to be consistent, \"\n+                                        \"so the maximum DER signatures size of 73 bytes should be used when considering ECDSA signatures\"},",
      "path": "src/wallet/rpc/spend.cpp",
      "position": null,
      "original_position": 76,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "386768e4605bcbd0f0daa597440d1dc8acf2ad32",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "in e519573f81:\r\n\r\nIt may be confusing if you expect the input to be in weight units, but mention using 73 bytes in the helpstring",
      "created_at": "2022-01-13T12:58:45Z",
      "updated_at": "2022-01-13T13:37:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r783933728",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/783933728"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 680,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/783940124",
      "pull_request_review_id": 851677138,
      "id": 783940124,
      "node_id": "PRRC_kwDOABII584uufoc",
      "diff_hunk": "@@ -1474,6 +1474,34 @@ bool DummySignInput(const SigningProvider& provider, CTxIn &tx_in, const CTxOut\n     return true;\n }\n \n+static void FillInputToWeight(CTxIn& txin, int64_t target_weight)",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "386768e4605bcbd0f0daa597440d1dc8acf2ad32",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Please add some unit tests for this function? Given that there's so much consideration for boundaries, etc.",
      "created_at": "2022-01-13T13:07:35Z",
      "updated_at": "2022-01-13T13:37:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r783940124",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/783940124"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1477,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/783948566",
      "pull_request_review_id": 851677138,
      "id": 783948566,
      "node_id": "PRRC_kwDOABII584uuhsW",
      "diff_hunk": "@@ -1027,10 +1032,38 @@ def test_external_inputs(self):\n         assert signed_tx['complete']\n \n         funded_tx = wallet.fundrawtransaction(raw_tx, {\"solving_data\": {\"descriptors\": [desc]}})\n-        signed_tx = wallet.signrawtransactionwithwallet(funded_tx['hex'])\n-        assert not signed_tx['complete']\n-        signed_tx = self.nodes[0].signrawtransactionwithwallet(signed_tx['hex'])\n-        assert signed_tx['complete']\n+        signed_tx1 = wallet.signrawtransactionwithwallet(funded_tx['hex'])\n+        assert not signed_tx1['complete']\n+        signed_tx2 = self.nodes[0].signrawtransactionwithwallet(signed_tx1['hex'])\n+        assert signed_tx2['complete']\n+\n+        unsigned_weight = self.nodes[0].decoderawtransaction(signed_tx1[\"hex\"])[\"weight\"]\n+        signed_weight = self.nodes[0].decoderawtransaction(signed_tx2[\"hex\"])[\"weight\"]\n+        # Input's weight is difference between weight of signed and unsigned,\n+        # and the weight of stuff that didn't change (prevout, sequence, 1 byte of scriptSig)\n+        input_weight = signed_weight - unsigned_weight + (45 * 4)\n+        low_input_weight = input_weight // 2\n+        high_input_weight = input_weight * 2\n+\n+        # Funding should also work if the input weight is provided\n+        funded_tx = wallet.fundrawtransaction(raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": input_weight}]})\n+        signed_tx = wallet.signrawtransactionwithwallet(funded_tx[\"hex\"])\n+        signed_tx = self.nodes[0].signrawtransactionwithwallet(signed_tx[\"hex\"])\n+        assert self.nodes[0].testmempoolaccept([signed_tx[\"hex\"]])[0][\"allowed\"]\n+        # Reducing the weight should have a lower fee\n+        funded_tx2 = wallet.fundrawtransaction(raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": low_input_weight}]})\n+        assert_greater_than(funded_tx[\"fee\"], funded_tx2[\"fee\"])\n+        # Increasing the weight should have a higher fee",
      "path": "test/functional/rpc_fundrawtransaction.py",
      "position": null,
      "original_position": 41,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "386768e4605bcbd0f0daa597440d1dc8acf2ad32",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Perhaps also test providing a feerate and ensure that the fee / total size is enough?",
      "created_at": "2022-01-13T13:18:42Z",
      "updated_at": "2022-01-13T13:37:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r783948566",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/783948566"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": 1049,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 1053,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/784272109",
      "pull_request_review_id": 852166435,
      "id": 784272109,
      "node_id": "PRRC_kwDOABII584uvwrt",
      "diff_hunk": "@@ -625,6 +669,16 @@ RPCHelpMan fundrawtransaction()\n                                     {\"vout_index\", RPCArg::Type::NUM, RPCArg::Optional::OMITTED, \"The zero-based output index, before a change output is added.\"},\n                                 },\n                             },\n+                            {\"input_weights\", RPCArg::Type::ARR, RPCArg::Optional::OMITTED_NAMED_ARG, \"Inputs and their corresponding weights\",\n+                                {\n+                                    {\"txid\", RPCArg::Type::STR_HEX, RPCArg::Optional::NO, \"The transaction id\"},\n+                                    {\"vout\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The output number\"},\n+                                    {\"weight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The maximum weight for this input, \"\n+                                        \"including the weight of the outpoint and sequence number. \"\n+                                        \"Note that signature sizes are not guaranteed to be consistent, \"\n+                                        \"so the maximum DER signatures size of 73 bytes should be used when considering ECDSA signatures\"},",
      "path": "src/wallet/rpc/spend.cpp",
      "position": null,
      "original_position": 76,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "386768e4605bcbd0f0daa597440d1dc8acf2ad32",
      "in_reply_to_id": 783933728,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'm not sure how to better word this. Signatures have different weights depending on whether they are witness, but they all have the same max physical bytes size.",
      "created_at": "2022-01-13T19:42:37Z",
      "updated_at": "2022-01-13T19:42:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r784272109",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/784272109"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 680,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/784743548",
      "pull_request_review_id": 852776598,
      "id": 784743548,
      "node_id": "PRRC_kwDOABII584uxjx8",
      "diff_hunk": "@@ -625,6 +669,16 @@ RPCHelpMan fundrawtransaction()\n                                     {\"vout_index\", RPCArg::Type::NUM, RPCArg::Optional::OMITTED, \"The zero-based output index, before a change output is added.\"},\n                                 },\n                             },\n+                            {\"input_weights\", RPCArg::Type::ARR, RPCArg::Optional::OMITTED_NAMED_ARG, \"Inputs and their corresponding weights\",\n+                                {\n+                                    {\"txid\", RPCArg::Type::STR_HEX, RPCArg::Optional::NO, \"The transaction id\"},\n+                                    {\"vout\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The output number\"},\n+                                    {\"weight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The maximum weight for this input, \"\n+                                        \"including the weight of the outpoint and sequence number. \"\n+                                        \"Note that signature sizes are not guaranteed to be consistent, \"\n+                                        \"so the maximum DER signatures size of 73 bytes should be used when considering ECDSA signatures\"},",
      "path": "src/wallet/rpc/spend.cpp",
      "position": null,
      "original_position": 76,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "386768e4605bcbd0f0daa597440d1dc8acf2ad32",
      "in_reply_to_id": 783933728,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "True, that makes sense.\r\n\r\nI guess my actual concern was that people might mix up weight units and virtual bytes, and end up with bugs where they underestimate the size and don't add enough fees. But given that they'd be off by a factor of 4 and you have a sanity check minimum 160, probably they'll discover this mistake really quickly.",
      "created_at": "2022-01-14T10:47:18Z",
      "updated_at": "2022-01-14T10:47:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r784743548",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/784743548"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 680,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785131131",
      "pull_request_review_id": 853326035,
      "id": 785131131,
      "node_id": "PRRC_kwDOABII584uzCZ7",
      "diff_hunk": "@@ -1474,6 +1474,34 @@ bool DummySignInput(const SigningProvider& provider, CTxIn &tx_in, const CTxOut\n     return true;\n }\n \n+static void FillInputToWeight(CTxIn& txin, int64_t target_weight)",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "386768e4605bcbd0f0daa597440d1dc8acf2ad32",
      "in_reply_to_id": 783940124,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2022-01-14T19:49:26Z",
      "updated_at": "2022-01-14T19:49:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r785131131",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785131131"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1477,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785131158",
      "pull_request_review_id": 853326079,
      "id": 785131158,
      "node_id": "PRRC_kwDOABII584uzCaW",
      "diff_hunk": "@@ -1027,10 +1032,38 @@ def test_external_inputs(self):\n         assert signed_tx['complete']\n \n         funded_tx = wallet.fundrawtransaction(raw_tx, {\"solving_data\": {\"descriptors\": [desc]}})\n-        signed_tx = wallet.signrawtransactionwithwallet(funded_tx['hex'])\n-        assert not signed_tx['complete']\n-        signed_tx = self.nodes[0].signrawtransactionwithwallet(signed_tx['hex'])\n-        assert signed_tx['complete']\n+        signed_tx1 = wallet.signrawtransactionwithwallet(funded_tx['hex'])\n+        assert not signed_tx1['complete']\n+        signed_tx2 = self.nodes[0].signrawtransactionwithwallet(signed_tx1['hex'])\n+        assert signed_tx2['complete']\n+\n+        unsigned_weight = self.nodes[0].decoderawtransaction(signed_tx1[\"hex\"])[\"weight\"]\n+        signed_weight = self.nodes[0].decoderawtransaction(signed_tx2[\"hex\"])[\"weight\"]\n+        # Input's weight is difference between weight of signed and unsigned,\n+        # and the weight of stuff that didn't change (prevout, sequence, 1 byte of scriptSig)\n+        input_weight = signed_weight - unsigned_weight + (45 * 4)\n+        low_input_weight = input_weight // 2\n+        high_input_weight = input_weight * 2\n+\n+        # Funding should also work if the input weight is provided\n+        funded_tx = wallet.fundrawtransaction(raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": input_weight}]})\n+        signed_tx = wallet.signrawtransactionwithwallet(funded_tx[\"hex\"])\n+        signed_tx = self.nodes[0].signrawtransactionwithwallet(signed_tx[\"hex\"])\n+        assert self.nodes[0].testmempoolaccept([signed_tx[\"hex\"]])[0][\"allowed\"]\n+        # Reducing the weight should have a lower fee\n+        funded_tx2 = wallet.fundrawtransaction(raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": low_input_weight}]})\n+        assert_greater_than(funded_tx[\"fee\"], funded_tx2[\"fee\"])\n+        # Increasing the weight should have a higher fee",
      "path": "test/functional/rpc_fundrawtransaction.py",
      "position": null,
      "original_position": 41,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "386768e4605bcbd0f0daa597440d1dc8acf2ad32",
      "in_reply_to_id": 783948566,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2022-01-14T19:49:30Z",
      "updated_at": "2022-01-14T19:49:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r785131158",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785131158"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": 1049,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 1053,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785296288",
      "pull_request_review_id": 775572778,
      "id": 785296288,
      "node_id": "PRRC_kwDOABII584uzqug",
      "diff_hunk": "@@ -115,9 +115,28 @@ class CCoinControl\n         vOutpoints.assign(setSelected.begin(), setSelected.end());\n     }\n \n+    void SetInputWeight(const COutPoint& outpoint, int64_t weight)\n+    {\n+        m_input_weights[outpoint] = weight;\n+    }\n+\n+    bool HasInputWeight(const COutPoint& outpoint) const\n+    {\n+        return m_input_weights.count(outpoint) > 0;\n+    }\n+\n+    int64_t GetInputWeight(const COutPoint& outpoint) const\n+    {\n+        auto it = m_input_weights.find(outpoint);\n+        assert(it != m_input_weights.end());\n+        return it->second;\n+    }\n+\n private:\n     std::set<COutPoint> setSelected;\n     std::map<COutPoint, CTxOut> m_external_txouts;\n+    //! Map of COutPoints to the maximum weight for that input",
      "path": "src/wallet/coincontrol.h",
      "position": 24,
      "original_position": 24,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "52d8d44adba48c23b6047418eec431fbb39fd8db",
      "in_reply_to_id": null,
      "user": {
        "login": "rajarshimaitra",
        "id": 36541669,
        "node_id": "MDQ6VXNlcjM2NTQxNjY5",
        "avatar_url": "https://avatars.githubusercontent.com/u/36541669?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rajarshimaitra",
        "html_url": "https://github.com/rajarshimaitra",
        "followers_url": "https://api.github.com/users/rajarshimaitra/followers",
        "following_url": "https://api.github.com/users/rajarshimaitra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rajarshimaitra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rajarshimaitra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rajarshimaitra/subscriptions",
        "organizations_url": "https://api.github.com/users/rajarshimaitra/orgs",
        "repos_url": "https://api.github.com/users/rajarshimaitra/repos",
        "events_url": "https://api.github.com/users/rajarshimaitra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rajarshimaitra/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Should this be \"maximum weight\" or provided \"user input weight\"? ",
      "created_at": "2022-01-15T10:52:13Z",
      "updated_at": "2022-01-15T11:53:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r785296288",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785296288"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 138,
      "original_line": 138,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785655153",
      "pull_request_review_id": 853906031,
      "id": 785655153,
      "node_id": "PRRC_kwDOABII584u1CVx",
      "diff_hunk": "@@ -625,6 +669,16 @@ RPCHelpMan fundrawtransaction()\n                                     {\"vout_index\", RPCArg::Type::NUM, RPCArg::Optional::OMITTED, \"The zero-based output index, before a change output is added.\"},\n                                 },\n                             },\n+                            {\"input_weights\", RPCArg::Type::ARR, RPCArg::Optional::OMITTED_NAMED_ARG, \"Inputs and their corresponding weights\",\n+                                {\n+                                    {\"txid\", RPCArg::Type::STR_HEX, RPCArg::Optional::NO, \"The transaction id\"},\n+                                    {\"vout\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The output number\"},\n+                                    {\"weight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The maximum weight for this input, \"\n+                                        \"including the weight of the outpoint and sequence number. \"\n+                                        \"Note that signature sizes are not guaranteed to be consistent, \"\n+                                        \"so the maximum DER signatures size of 73 bytes should be used when considering ECDSA signatures\"},",
      "path": "src/wallet/rpc/spend.cpp",
      "position": null,
      "original_position": 76,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "386768e4605bcbd0f0daa597440d1dc8acf2ad32",
      "in_reply_to_id": 783933728,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "maybe just put \"serialized size\" to make it clear this comment is not suggesting how much weight it takes on any particular context.",
      "created_at": "2022-01-17T05:59:21Z",
      "updated_at": "2022-01-17T05:59:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r785655153",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785655153"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 680,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785706830",
      "pull_request_review_id": 853976269,
      "id": 785706830,
      "node_id": "PRRC_kwDOABII584u1O9O",
      "diff_hunk": "@@ -585,6 +612,23 @@ void FundTransaction(CWallet& wallet, CMutableTransaction& tx, CAmount& fee_out,\n     }\n }\n \n+static void SetOptionsInputWeights(const UniValue& inputs, UniValue& options)\n+{\n+    if (options.exists(\"input_weights\")) {\n+        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Specify weight in inputs instead\");",
      "path": "src/wallet/rpc/spend.cpp",
      "position": null,
      "original_position": 48,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "52d8d44adba48c23b6047418eec431fbb39fd8db",
      "in_reply_to_id": null,
      "user": {
        "login": "rajarshimaitra",
        "id": 36541669,
        "node_id": "MDQ6VXNlcjM2NTQxNjY5",
        "avatar_url": "https://avatars.githubusercontent.com/u/36541669?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rajarshimaitra",
        "html_url": "https://github.com/rajarshimaitra",
        "followers_url": "https://api.github.com/users/rajarshimaitra/followers",
        "following_url": "https://api.github.com/users/rajarshimaitra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rajarshimaitra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rajarshimaitra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rajarshimaitra/subscriptions",
        "organizations_url": "https://api.github.com/users/rajarshimaitra/orgs",
        "repos_url": "https://api.github.com/users/rajarshimaitra/repos",
        "events_url": "https://api.github.com/users/rajarshimaitra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rajarshimaitra/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Can this error message be written like \"input weights already exists in option, remove them and try again\"? It might be a little more clear on the intent of this check? This clearly tells whats wrong in the option values and how to fix it.    ",
      "created_at": "2022-01-17T07:47:09Z",
      "updated_at": "2022-01-17T11:03:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r785706830",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785706830"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": 617,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 618,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785709242",
      "pull_request_review_id": 853976269,
      "id": 785709242,
      "node_id": "PRRC_kwDOABII584u1Pi6",
      "diff_hunk": "@@ -625,6 +669,16 @@ RPCHelpMan fundrawtransaction()\n                                     {\"vout_index\", RPCArg::Type::NUM, RPCArg::Optional::OMITTED, \"The zero-based output index, before a change output is added.\"},\n                                 },\n                             },\n+                            {\"input_weights\", RPCArg::Type::ARR, RPCArg::Optional::OMITTED_NAMED_ARG, \"Inputs and their corresponding weights\",\n+                                {\n+                                    {\"txid\", RPCArg::Type::STR_HEX, RPCArg::Optional::NO, \"The transaction id\"},\n+                                    {\"vout\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The output number\"},\n+                                    {\"weight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The maximum weight for this input, \"\n+                                        \"including the weight of the outpoint and sequence number. \"\n+                                        \"Note that signature sizes are not guaranteed to be consistent, \"\n+                                        \"so the maximum DER signatures size of 73 bytes should be used when considering ECDSA signatures\"},",
      "path": "src/wallet/rpc/spend.cpp",
      "position": null,
      "original_position": 76,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "386768e4605bcbd0f0daa597440d1dc8acf2ad32",
      "in_reply_to_id": 783933728,
      "user": {
        "login": "rajarshimaitra",
        "id": 36541669,
        "node_id": "MDQ6VXNlcjM2NTQxNjY5",
        "avatar_url": "https://avatars.githubusercontent.com/u/36541669?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rajarshimaitra",
        "html_url": "https://github.com/rajarshimaitra",
        "followers_url": "https://api.github.com/users/rajarshimaitra/followers",
        "following_url": "https://api.github.com/users/rajarshimaitra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rajarshimaitra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rajarshimaitra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rajarshimaitra/subscriptions",
        "organizations_url": "https://api.github.com/users/rajarshimaitra/orgs",
        "repos_url": "https://api.github.com/users/rajarshimaitra/repos",
        "events_url": "https://api.github.com/users/rajarshimaitra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rajarshimaitra/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Or may be just add one more line saying \"weight = total byte size * 4\"? In that way it conveys both that these are two different units and how to go from one to another. ",
      "created_at": "2022-01-17T07:51:37Z",
      "updated_at": "2022-01-17T11:03:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r785709242",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785709242"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 680,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785710287",
      "pull_request_review_id": 853976269,
      "id": 785710287,
      "node_id": "PRRC_kwDOABII584u1PzP",
      "diff_hunk": "@@ -626,6 +670,16 @@ RPCHelpMan fundrawtransaction()\n                                     {\"vout_index\", RPCArg::Type::NUM, RPCArg::Optional::OMITTED, \"The zero-based output index, before a change output is added.\"},\n                                 },\n                             },\n+                            {\"input_weights\", RPCArg::Type::ARR, RPCArg::Optional::OMITTED_NAMED_ARG, \"Inputs and their corresponding weights\",\n+                                {\n+                                    {\"txid\", RPCArg::Type::STR_HEX, RPCArg::Optional::NO, \"The transaction id\"},\n+                                    {\"vout\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The output number\"},",
      "path": "src/wallet/rpc/spend.cpp",
      "position": null,
      "original_position": 72,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "52d8d44adba48c23b6047418eec431fbb39fd8db",
      "in_reply_to_id": null,
      "user": {
        "login": "rajarshimaitra",
        "id": 36541669,
        "node_id": "MDQ6VXNlcjM2NTQxNjY5",
        "avatar_url": "https://avatars.githubusercontent.com/u/36541669?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rajarshimaitra",
        "html_url": "https://github.com/rajarshimaitra",
        "followers_url": "https://api.github.com/users/rajarshimaitra/followers",
        "following_url": "https://api.github.com/users/rajarshimaitra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rajarshimaitra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rajarshimaitra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rajarshimaitra/subscriptions",
        "organizations_url": "https://api.github.com/users/rajarshimaitra/orgs",
        "repos_url": "https://api.github.com/users/rajarshimaitra/repos",
        "events_url": "https://api.github.com/users/rajarshimaitra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rajarshimaitra/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think its more standard to call it an index? \r\n```suggestion\r\n                                    {\"vout\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The output index\"},\r\n```",
      "created_at": "2022-01-17T07:53:35Z",
      "updated_at": "2022-01-17T11:03:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r785710287",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785710287"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 676,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785776462",
      "pull_request_review_id": 853976269,
      "id": 785776462,
      "node_id": "PRRC_kwDOABII584u1f9O",
      "diff_hunk": "@@ -939,6 +939,9 @@ bool AddWalletSetting(interfaces::Chain& chain, const std::string& wallet_name);\n bool RemoveWalletSetting(interfaces::Chain& chain, const std::string& wallet_name);\n \n bool DummySignInput(const SigningProvider& provider, CTxIn &tx_in, const CTxOut &txout, bool use_max_sig);\n+\n+void FillInputToWeight(CTxIn& txin, int64_t target_weight);\n } // namespace wallet\n \n+",
      "path": "src/wallet/wallet.h",
      "position": null,
      "original_position": 8,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "52d8d44adba48c23b6047418eec431fbb39fd8db",
      "in_reply_to_id": null,
      "user": {
        "login": "rajarshimaitra",
        "id": 36541669,
        "node_id": "MDQ6VXNlcjM2NTQxNjY5",
        "avatar_url": "https://avatars.githubusercontent.com/u/36541669?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rajarshimaitra",
        "html_url": "https://github.com/rajarshimaitra",
        "followers_url": "https://api.github.com/users/rajarshimaitra/followers",
        "following_url": "https://api.github.com/users/rajarshimaitra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rajarshimaitra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rajarshimaitra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rajarshimaitra/subscriptions",
        "organizations_url": "https://api.github.com/users/rajarshimaitra/orgs",
        "repos_url": "https://api.github.com/users/rajarshimaitra/repos",
        "events_url": "https://api.github.com/users/rajarshimaitra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rajarshimaitra/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think this is an extra space? ",
      "created_at": "2022-01-17T09:26:32Z",
      "updated_at": "2022-01-17T11:03:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r785776462",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785776462"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 946,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785839927",
      "pull_request_review_id": 853976269,
      "id": 785839927,
      "node_id": "PRRC_kwDOABII584u1vc3",
      "diff_hunk": "@@ -1003,14 +1005,19 @@ def test_external_inputs(self):\n         ext_utxo = self.nodes[0].listunspent(addresses=[addr])[0]\n \n         # An external input without solving data should result in an error\n-        raw_tx = wallet.createrawtransaction([ext_utxo], {self.nodes[0].getnewaddress(): 15})\n+        raw_tx = wallet.createrawtransaction([ext_utxo], {self.nodes[0].getnewaddress(): ext_utxo[\"amount\"] / 2})\n         assert_raises_rpc_error(-4, \"Insufficient funds\", wallet.fundrawtransaction, raw_tx)",
      "path": "test/functional/rpc_fundrawtransaction.py",
      "position": 17,
      "original_position": 15,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "52d8d44adba48c23b6047418eec431fbb39fd8db",
      "in_reply_to_id": null,
      "user": {
        "login": "rajarshimaitra",
        "id": 36541669,
        "node_id": "MDQ6VXNlcjM2NTQxNjY5",
        "avatar_url": "https://avatars.githubusercontent.com/u/36541669?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rajarshimaitra",
        "html_url": "https://github.com/rajarshimaitra",
        "followers_url": "https://api.github.com/users/rajarshimaitra/followers",
        "following_url": "https://api.github.com/users/rajarshimaitra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rajarshimaitra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rajarshimaitra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rajarshimaitra/subscriptions",
        "organizations_url": "https://api.github.com/users/rajarshimaitra/orgs",
        "repos_url": "https://api.github.com/users/rajarshimaitra/repos",
        "events_url": "https://api.github.com/users/rajarshimaitra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rajarshimaitra/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I would expect the solving data error should notify here \"solving data not provided\" or something like that. Not \"Insufficient funds\". Can this be ensured by putting required funds in input and then omitting solving data? ",
      "created_at": "2022-01-17T10:43:47Z",
      "updated_at": "2022-01-17T11:03:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r785839927",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785839927"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": 1008,
      "original_start_line": 1008,
      "start_side": "RIGHT",
      "line": 1009,
      "original_line": 1009,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785840712",
      "pull_request_review_id": 853976269,
      "id": 785840712,
      "node_id": "PRRC_kwDOABII584u1vpI",
      "diff_hunk": "@@ -622,26 +626,97 @@ def test_psbt_input_keys(psbt_input, keys):\n         addr_info = self.nodes[0].getaddressinfo(addr)\n \n         self.nodes[0].sendtoaddress(addr, 10)\n+        self.nodes[0].sendtoaddress(wallet.getnewaddress(), 10)\n         self.generate(self.nodes[0], 6)\n         ext_utxo = self.nodes[0].listunspent(addresses=[addr])[0]\n \n         # An external input without solving data should result in an error\n-        assert_raises_rpc_error(-4, \"Insufficient funds\", self.nodes[1].walletcreatefundedpsbt, [ext_utxo], {self.nodes[0].getnewaddress(): 10 + ext_utxo['amount']}, 0, {'add_inputs': True})\n+        assert_raises_rpc_error(-4, \"Insufficient funds\", wallet.walletcreatefundedpsbt, [ext_utxo], {self.nodes[0].getnewaddress(): 15})",
      "path": "test/functional/rpc_psbt.py",
      "position": 27,
      "original_position": 27,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "52d8d44adba48c23b6047418eec431fbb39fd8db",
      "in_reply_to_id": null,
      "user": {
        "login": "rajarshimaitra",
        "id": 36541669,
        "node_id": "MDQ6VXNlcjM2NTQxNjY5",
        "avatar_url": "https://avatars.githubusercontent.com/u/36541669?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rajarshimaitra",
        "html_url": "https://github.com/rajarshimaitra",
        "followers_url": "https://api.github.com/users/rajarshimaitra/followers",
        "following_url": "https://api.github.com/users/rajarshimaitra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rajarshimaitra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rajarshimaitra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rajarshimaitra/subscriptions",
        "organizations_url": "https://api.github.com/users/rajarshimaitra/orgs",
        "repos_url": "https://api.github.com/users/rajarshimaitra/repos",
        "events_url": "https://api.github.com/users/rajarshimaitra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rajarshimaitra/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Same regarding \"Insufficient funds\" error here.",
      "created_at": "2022-01-17T10:44:49Z",
      "updated_at": "2022-01-17T11:03:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r785840712",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785840712"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 634,
      "original_line": 634,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785856067",
      "pull_request_review_id": 853976269,
      "id": 785856067,
      "node_id": "PRRC_kwDOABII584u1zZD",
      "diff_hunk": "@@ -518,5 +518,42 @@ def run_test(self):\n         assert signed[\"complete\"]\n         self.nodes[0].finalizepsbt(signed[\"psbt\"])\n \n+        dec = self.nodes[0].decodepsbt(signed[\"psbt\"])\n+        for i, txin in enumerate(dec[\"tx\"][\"vin\"]):\n+            if txin[\"txid\"] == ext_utxo[\"txid\"] and txin[\"vout\"] == ext_utxo[\"vout\"]:\n+                input_idx = i\n+                break\n+        psbt_in = dec[\"inputs\"][input_idx]\n+        # Calculate the input weight\n+        # (prevout + sequence + length of scriptSig + 2 bytes buffer) * 4 + len of scriptwitness\n+        len_scriptsig = len(psbt_in[\"final_scriptSig\"][\"hex\"]) // 2 if \"final_scriptSig\" in psbt_in else 0\n+        len_scriptwitness = len(psbt_in[\"final_scriptwitness\"][\"hex\"]) // 2 if \"final_scriptwitness\" in psbt_in else 0\n+        input_weight = ((44 + len_scriptsig + 2) * 4) + len_scriptwitness\n+\n+        # Input weight error conditions\n+        assert_raises_rpc_error(\n+            -8,\n+            \"Specify weight in inputs instead\",\n+            ext_wallet.send,\n+            outputs={self.nodes[0].getnewaddress(): 15},\n+            options={\"inputs\": [ext_utxo], \"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": 1000}]}\n+        )\n+\n+        # Funding should also work when input weights are provided\n+        res = self.test_send(\n+            from_wallet=ext_wallet,\n+            to_wallet=self.nodes[0],\n+            amount=15,\n+            inputs=[{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": input_weight}],\n+            add_inputs=True,\n+            psbt=True,\n+            include_watching=True\n+        )\n+        signed = ext_wallet.walletprocesspsbt(res[\"psbt\"])",
      "path": "test/functional/wallet_send.py",
      "position": null,
      "original_position": 35,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "52d8d44adba48c23b6047418eec431fbb39fd8db",
      "in_reply_to_id": null,
      "user": {
        "login": "rajarshimaitra",
        "id": 36541669,
        "node_id": "MDQ6VXNlcjM2NTQxNjY5",
        "avatar_url": "https://avatars.githubusercontent.com/u/36541669?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rajarshimaitra",
        "html_url": "https://github.com/rajarshimaitra",
        "followers_url": "https://api.github.com/users/rajarshimaitra/followers",
        "following_url": "https://api.github.com/users/rajarshimaitra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rajarshimaitra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rajarshimaitra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rajarshimaitra/subscriptions",
        "organizations_url": "https://api.github.com/users/rajarshimaitra/orgs",
        "repos_url": "https://api.github.com/users/rajarshimaitra/repos",
        "events_url": "https://api.github.com/users/rajarshimaitra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rajarshimaitra/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "We can also send by providing solving data and descriptor. I think those checks could get covered here too like other tests. ",
      "created_at": "2022-01-17T11:00:10Z",
      "updated_at": "2022-01-17T11:03:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r785856067",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785856067"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": 543,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 553,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785979972",
      "pull_request_review_id": 854359346,
      "id": 785979972,
      "node_id": "PRRC_kwDOABII584u2RpE",
      "diff_hunk": "@@ -1020,10 +1027,45 @@ def test_external_inputs(self):\n         assert signed_tx['complete']\n \n         funded_tx = wallet.fundrawtransaction(raw_tx, {\"solving_data\": {\"descriptors\": [desc]}})\n-        signed_tx = wallet.signrawtransactionwithwallet(funded_tx['hex'])\n-        assert not signed_tx['complete']\n-        signed_tx = self.nodes[0].signrawtransactionwithwallet(signed_tx['hex'])\n-        assert signed_tx['complete']\n+        signed_tx1 = wallet.signrawtransactionwithwallet(funded_tx['hex'])\n+        assert not signed_tx1['complete']\n+        signed_tx2 = self.nodes[0].signrawtransactionwithwallet(signed_tx1['hex'])\n+        assert signed_tx2['complete']\n+\n+        unsigned_weight = self.nodes[0].decoderawtransaction(signed_tx1[\"hex\"])[\"weight\"]\n+        signed_weight = self.nodes[0].decoderawtransaction(signed_tx2[\"hex\"])[\"weight\"]\n+        # Input's weight is difference between weight of signed and unsigned,\n+        # and the weight of stuff that didn't change (prevout, sequence, 1 byte of scriptSig)\n+        input_weight = signed_weight - unsigned_weight + (41 * 4)\n+        low_input_weight = input_weight // 2\n+        high_input_weight = input_weight * 2\n+\n+        # Funding should also work if the input weight is provided\n+        funded_tx = wallet.fundrawtransaction(raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": input_weight}]})\n+        signed_tx = wallet.signrawtransactionwithwallet(funded_tx[\"hex\"])\n+        signed_tx = self.nodes[0].signrawtransactionwithwallet(signed_tx[\"hex\"])\n+        assert self.nodes[0].testmempoolaccept([signed_tx[\"hex\"]])[0][\"allowed\"]\n+        # Reducing the weight should have a lower fee\n+        funded_tx2 = wallet.fundrawtransaction(raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": low_input_weight}]})\n+        assert_greater_than(funded_tx[\"fee\"], funded_tx2[\"fee\"])\n+        # Increasing the weight should have a higher fee\n+        funded_tx2 = wallet.fundrawtransaction(raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": high_input_weight}]})\n+        assert_greater_than(funded_tx2[\"fee\"], funded_tx[\"fee\"])\n+        # The provided weight should override the calculated weight when solving data is provided\n+        funded_tx3 = wallet.fundrawtransaction(raw_tx, {\"solving_data\": {\"descriptors\": [desc]}, \"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": high_input_weight}]})\n+        assert_equal(funded_tx2[\"fee\"], funded_tx3[\"fee\"])\n+        # The feerate should be met\n+        funded_tx4 = wallet.fundrawtransaction(raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": high_input_weight}], \"fee_rate\": 10})\n+        signed_tx4 = wallet.signrawtransactionwithwallet(funded_tx4[\"hex\"])",
      "path": "test/functional/rpc_fundrawtransaction.py",
      "position": null,
      "original_position": 67,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "52d8d44adba48c23b6047418eec431fbb39fd8db",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "linter:\r\n\r\ntest/functional/rpc_fundrawtransaction.py:1059:9: F841 local variable 'signed_tx4' is assigned to but never used",
      "created_at": "2022-01-17T12:52:39Z",
      "updated_at": "2022-01-17T14:16:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r785979972",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785979972"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1059,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785982082",
      "pull_request_review_id": 854359346,
      "id": 785982082,
      "node_id": "PRRC_kwDOABII584u2SKC",
      "diff_hunk": "@@ -625,6 +669,16 @@ RPCHelpMan fundrawtransaction()\n                                     {\"vout_index\", RPCArg::Type::NUM, RPCArg::Optional::OMITTED, \"The zero-based output index, before a change output is added.\"},\n                                 },\n                             },\n+                            {\"input_weights\", RPCArg::Type::ARR, RPCArg::Optional::OMITTED_NAMED_ARG, \"Inputs and their corresponding weights\",\n+                                {\n+                                    {\"txid\", RPCArg::Type::STR_HEX, RPCArg::Optional::NO, \"The transaction id\"},\n+                                    {\"vout\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The output number\"},\n+                                    {\"weight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The maximum weight for this input, \"\n+                                        \"including the weight of the outpoint and sequence number. \"\n+                                        \"Note that signature sizes are not guaranteed to be consistent, \"\n+                                        \"so the maximum DER signatures size of 73 bytes should be used when considering ECDSA signatures\"},",
      "path": "src/wallet/rpc/spend.cpp",
      "position": null,
      "original_position": 76,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "386768e4605bcbd0f0daa597440d1dc8acf2ad32",
      "in_reply_to_id": 783933728,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "\"weight = total byte size * 4\" is not true.\r\n\r\nI would add \"Remember to use weight units, not serialized size or virtual bytes, when calculating signature size\" to the end of the helpstring. Sorry to be nitpicking this, it's not blocking for me.",
      "created_at": "2022-01-17T12:55:34Z",
      "updated_at": "2022-01-17T14:16:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r785982082",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785982082"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 680,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785983616",
      "pull_request_review_id": 854359346,
      "id": 785983616,
      "node_id": "PRRC_kwDOABII584u2SiA",
      "diff_hunk": "@@ -115,9 +115,28 @@ class CCoinControl\n         vOutpoints.assign(setSelected.begin(), setSelected.end());\n     }\n \n+    void SetInputWeight(const COutPoint& outpoint, int64_t weight)\n+    {\n+        m_input_weights[outpoint] = weight;\n+    }\n+\n+    bool HasInputWeight(const COutPoint& outpoint) const\n+    {\n+        return m_input_weights.count(outpoint) > 0;\n+    }\n+\n+    int64_t GetInputWeight(const COutPoint& outpoint) const\n+    {\n+        auto it = m_input_weights.find(outpoint);\n+        assert(it != m_input_weights.end());\n+        return it->second;\n+    }\n+\n private:\n     std::set<COutPoint> setSelected;\n     std::map<COutPoint, CTxOut> m_external_txouts;\n+    //! Map of COutPoints to the maximum weight for that input",
      "path": "src/wallet/coincontrol.h",
      "position": 24,
      "original_position": 24,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "52d8d44adba48c23b6047418eec431fbb39fd8db",
      "in_reply_to_id": 785296288,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "imo maximum weight. This is `CCoinControl` so everything is implicitly user input.",
      "created_at": "2022-01-17T12:57:52Z",
      "updated_at": "2022-01-17T14:16:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r785983616",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785983616"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 138,
      "original_line": 138,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786094708",
      "pull_request_review_id": 854529030,
      "id": 786094708,
      "node_id": "PRRC_kwDOABII584u2tp0",
      "diff_hunk": "@@ -454,15 +454,17 @@ std::optional<SelectionResult> SelectCoins(const CWallet& wallet, const std::vec\n             }\n             input_bytes = GetTxSpendSize(wallet, wtx, outpoint.n, false);\n             txout = wtx.tx->vout.at(outpoint.n);\n-        }\n-        if (input_bytes == -1) {\n-            // The input is external. We either did not find the tx in mapWallet, or we did but couldn't compute the input size with wallet data\n+        } else {\n+            // The input is external. We did not find the tx in mapWallet.\n             if (!coin_control.GetExternalOutput(outpoint, txout)) {\n-                // Not ours, and we don't have solving data.\n                 return std::nullopt;\n             }\n             input_bytes = CalculateMaximumSignedInputSize(txout, &coin_control.m_external_provider, /* use_max_sig */ true);\n         }\n+        // If available, override calculated size with coin control specified size\n+        if (coin_control.HasInputWeight(outpoint)) {\n+            input_bytes = GetVirtualTransactionSize(coin_control.GetInputWeight(outpoint), 0, 0);\n+        }",
      "path": "src/wallet/spend.cpp",
      "position": 18,
      "original_position": 18,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "e150c15f66818a4ded2e0038ee273a139cd9e2bb",
      "in_reply_to_id": 778190801,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> I don't think that's right. If !coin_control.GetExternalOutput, then we can't do coin selection at all and would have returned at an earlier point.\r\n\r\nReviewed code and I agree with this. If it's an external input, we must have not found it in `mapWallet`. If we also didn't find it in `GetExternalOutput()`, then we already returned `nullopt` on line 461.",
      "created_at": "2022-01-17T15:10:10Z",
      "updated_at": "2022-01-17T16:17:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r786094708",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786094708"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 468,
      "original_line": 468,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786127043",
      "pull_request_review_id": 854529030,
      "id": 786127043,
      "node_id": "PRRC_kwDOABII584u21jD",
      "diff_hunk": "@@ -1507,6 +1507,34 @@ bool DummySignInput(const SigningProvider& provider, CTxIn &tx_in, const CTxOut\n     return true;\n }\n \n+void FillInputToWeight(CTxIn& txin, int64_t target_weight)",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "52d8d44adba48c23b6047418eec431fbb39fd8db",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Manually tested this function a little bit. Passing in any `target_weight` less than 166 causes this to crash.\r\nError is `cannot create std::vector larger than max_size()` because `add_weight` is 0 and the compact size of that is 1, so you're calling `scriptWitness.stack.emplace()` with an argument of -1 bytes.\r\n\r\nAlso when I print `GetTransactionInputWeight(CTxIn())`, I get 165.\r\n\r\nI don't know if 166 would be a better minimum than 160. But my point is, this function has some preconditions, i.e. `assert(txin_weight < target_weight)` and `assert(add_weight >= GetSizeOfCompactSize(add_weight)`, that aren't enforced by the RPC input sanitization. It's probably not good to crash if the user passes in a legal input? Perhaps they're confused and thought they were putting 162 virtual bytes, for example.",
      "created_at": "2022-01-17T15:50:39Z",
      "updated_at": "2022-01-17T16:36:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r786127043",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786127043"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1510,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786135708",
      "pull_request_review_id": 854529030,
      "id": 786135708,
      "node_id": "PRRC_kwDOABII584u23qc",
      "diff_hunk": "@@ -1462,6 +1462,34 @@ bool DummySignInput(const SigningProvider& provider, CTxIn &tx_in, const CTxOut\n     return true;\n }\n \n+static void FillInputToWeight(CTxIn& txin, int64_t target_weight)\n+{\n+    int64_t txin_weight = GetTransactionInputWeight(txin);\n+    // Subtract current txin weight, which should include empty witness stack\n+    int64_t add_weight = target_weight - txin_weight;\n+\n+    // We will want to subtract the size of the Compact Size UInt that will also be serialized.\n+    // However doing so when the size is near a boundary can result in a problem where it is not\n+    // possible to have a stack element size and combination to exactly equal a target.\n+    // To avoid this possibility, if the weight to add is less than 10 bytes greater than\n+    // a boundary, the size will be split so that 2/3rds will be in one stack element, and\n+    // the remaining 1/3rd in another. Using 3rds allows us to avoid additional boundaries.\n+    // 10 bytes is used because that accounts for the maximum size. This does not need to be super precise.\n+    if ((add_weight >= 253 && add_weight < 263)",
      "path": "src/wallet/wallet.cpp",
      "position": 30,
      "original_position": 17,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "0224b9db65824064ca3a28f9802f5327735b95bb",
      "in_reply_to_id": 725480194,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I was confused about this as well since I had never come across compact size uints before. It helped me to read serialize.h and about tx serialization ([bip141](https://github.com/bitcoin/bips/blob/master/bip-0144.mediawiki#serialization) and [this doc](https://developer.bitcoin.org/reference/transactions.html#raw-transaction-format)).\r\n\r\nThis is just saying that when the stack size goes from 252 to 253, you need more bytes to encode the size in the serialized transaction. It's not the same as a byte boundary since (I assume) you need to reserve a few values for codifying how many bytes it is.",
      "created_at": "2022-01-17T16:01:37Z",
      "updated_at": "2022-01-17T16:17:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r786135708",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786135708"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1536,
      "original_line": 1536,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786137903",
      "pull_request_review_id": 854529030,
      "id": 786137903,
      "node_id": "PRRC_kwDOABII584u24Mv",
      "diff_hunk": "@@ -548,6 +549,32 @@ void FundTransaction(CWallet& wallet, CMutableTransaction& tx, CAmount& fee_out,\n         }\n     }\n \n+    if (options.exists(\"input_weights\")) {\n+        for (const UniValue& input : options[\"input_weights\"].get_array().getValues()) {\n+            uint256 txid = ParseHashO(input, \"txid\");\n+\n+            const UniValue& vout_v = find_value(input, \"vout\");\n+            if (!vout_v.isNum()) {\n+                throw JSONRPCError(RPC_INVALID_PARAMETER, \"Invalid parameter, missing vout key\");\n+            }\n+            int vout = vout_v.get_int();\n+            if (vout < 0) {\n+                throw JSONRPCError(RPC_INVALID_PARAMETER, \"Invalid parameter, vout cannot be negative\");\n+            }\n+\n+            const UniValue& weight_v = find_value(input, \"weight\");\n+            if (!weight_v.isNum()) {\n+                throw JSONRPCError(RPC_INVALID_PARAMETER, \"Invalid parameter, missing weight key\");\n+            }\n+            int64_t weight = weight_v.get_int64();\n+            if (weight < 40 * WITNESS_SCALE_FACTOR) {\n+                throw JSONRPCError(RPC_INVALID_PARAMETER, \"Invalid parameter, weight cannot be less than 160 (40 bytes (size of outpoint + sequence) * 4 (witness scaling factor))\");\n+            }",
      "path": "src/wallet/rpc/spend.cpp",
      "position": 45,
      "original_position": 32,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "52d8d44adba48c23b6047418eec431fbb39fd8db",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Did you consider having an upper bound for weights as well? e.g. based on `MAX_STANDARD_SCRIPTSIG_SIZE * WITNESS_SCALE_FACTOR` or even `MAX_STANDARD_TX_WEIGHT`?",
      "created_at": "2022-01-17T16:04:29Z",
      "updated_at": "2022-01-17T16:17:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r786137903",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786137903"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 578,
      "original_line": 578,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786141492",
      "pull_request_review_id": 854529030,
      "id": 786141492,
      "node_id": "PRRC_kwDOABII584u25E0",
      "diff_hunk": "@@ -1507,7 +1507,7 @@ bool DummySignInput(const SigningProvider& provider, CTxIn &tx_in, const CTxOut\n     return true;\n }\n \n-static void FillInputToWeight(CTxIn& txin, int64_t target_weight)",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "8a1ea6a050dbcae3c06e483f6413f0e060632987",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: Seems like changing `FillInputToWeight` to not be static and adding its unit tests were squashed into 8a1ea6a050 but should have been squashed into 9191748088 instead?",
      "created_at": "2022-01-17T16:09:31Z",
      "updated_at": "2022-01-17T16:17:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r786141492",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786141492"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1510,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786151588",
      "pull_request_review_id": 854607992,
      "id": 786151588,
      "node_id": "PRRC_kwDOABII584u27ik",
      "diff_hunk": "@@ -4,6 +4,8 @@\n # file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \"\"\"Test the fundrawtransaction RPC.\"\"\"\n \n+import math\n+\n from decimal import Decimal\n from itertools import product",
      "path": "test/functional/rpc_fundrawtransaction.py",
      "position": null,
      "original_position": 7,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "52d8d44adba48c23b6047418eec431fbb39fd8db",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit in 52d8d44adb\r\n```suggestion\r\nfrom decimal import Decimal\r\nfrom itertools import product\r\nfrom math import ceil\r\n```",
      "created_at": "2022-01-17T16:23:29Z",
      "updated_at": "2022-01-17T17:29:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r786151588",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786151588"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": 7,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 9,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786180828",
      "pull_request_review_id": 854607992,
      "id": 786180828,
      "node_id": "PRRC_kwDOABII584u3Crc",
      "diff_hunk": "@@ -518,5 +518,42 @@ def run_test(self):\n         assert signed[\"complete\"]\n         self.nodes[0].finalizepsbt(signed[\"psbt\"])\n \n+        dec = self.nodes[0].decodepsbt(signed[\"psbt\"])\n+        for i, txin in enumerate(dec[\"tx\"][\"vin\"]):\n+            if txin[\"txid\"] == ext_utxo[\"txid\"] and txin[\"vout\"] == ext_utxo[\"vout\"]:\n+                input_idx = i\n+                break\n+        psbt_in = dec[\"inputs\"][input_idx]\n+        # Calculate the input weight\n+        # (prevout + sequence + length of scriptSig + 2 bytes buffer) * 4 + len of scriptwitness\n+        len_scriptsig = len(psbt_in[\"final_scriptSig\"][\"hex\"]) // 2 if \"final_scriptSig\" in psbt_in else 0\n+        len_scriptwitness = len(psbt_in[\"final_scriptwitness\"][\"hex\"]) // 2 if \"final_scriptwitness\" in psbt_in else 0\n+        input_weight = ((44 + len_scriptsig + 2) * 4) + len_scriptwitness",
      "path": "test/functional/wallet_send.py",
      "position": null,
      "original_position": 14,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "52d8d44adba48c23b6047418eec431fbb39fd8db",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "typo?\r\n```suggestion\r\n        input_weight = ((41 + len_scriptsig + 2) * 4) + len_scriptwitness\r\n```",
      "created_at": "2022-01-17T17:08:07Z",
      "updated_at": "2022-01-17T17:29:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r786180828",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786180828"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 531,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786182033",
      "pull_request_review_id": 854607992,
      "id": 786182033,
      "node_id": "PRRC_kwDOABII584u3C-R",
      "diff_hunk": "@@ -518,5 +518,42 @@ def run_test(self):\n         assert signed[\"complete\"]\n         self.nodes[0].finalizepsbt(signed[\"psbt\"])\n \n+        dec = self.nodes[0].decodepsbt(signed[\"psbt\"])\n+        for i, txin in enumerate(dec[\"tx\"][\"vin\"]):\n+            if txin[\"txid\"] == ext_utxo[\"txid\"] and txin[\"vout\"] == ext_utxo[\"vout\"]:\n+                input_idx = i\n+                break\n+        psbt_in = dec[\"inputs\"][input_idx]\n+        # Calculate the input weight\n+        # (prevout + sequence + length of scriptSig + 2 bytes buffer) * 4 + len of scriptwitness\n+        len_scriptsig = len(psbt_in[\"final_scriptSig\"][\"hex\"]) // 2 if \"final_scriptSig\" in psbt_in else 0\n+        len_scriptwitness = len(psbt_in[\"final_scriptwitness\"][\"hex\"]) // 2 if \"final_scriptwitness\" in psbt_in else 0\n+        input_weight = ((44 + len_scriptsig + 2) * 4) + len_scriptwitness\n+\n+        # Input weight error conditions\n+        assert_raises_rpc_error(\n+            -8,\n+            \"Specify weight in inputs instead\",\n+            ext_wallet.send,\n+            outputs={self.nodes[0].getnewaddress(): 15},\n+            options={\"inputs\": [ext_utxo], \"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": 1000}]}\n+        )\n+\n+        # Funding should also work when input weights are provided\n+        res = self.test_send(\n+            from_wallet=ext_wallet,\n+            to_wallet=self.nodes[0],\n+            amount=15,\n+            inputs=[{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": input_weight}],\n+            add_inputs=True,\n+            psbt=True,\n+            include_watching=True\n+        )\n+        signed = ext_wallet.walletprocesspsbt(res[\"psbt\"])\n+        signed = ext_fund.walletprocesspsbt(res[\"psbt\"])\n+        assert signed[\"complete\"]\n+        tx = self.nodes[0].finalizepsbt(signed[\"psbt\"])\n+        assert self.nodes[0].testmempoolaccept([tx[\"hex\"]])[0][\"allowed\"]",
      "path": "test/functional/wallet_send.py",
      "position": null,
      "original_position": 39,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "52d8d44adba48c23b6047418eec431fbb39fd8db",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Recommend adding the feerate check here too, it caught the `input_weight` being off up there^\r\n(also added `fee_rate=10` to the `self.test_send()` call above)\r\n\r\n```suggestion\r\n        testres = self.nodes[0].testmempoolaccept([tx[\"hex\"]])[0]\r\n        assert testres[\"allowed\"]\r\n        assert_fee_amount(testres[\"fees\"][\"base\"], testres[\"vsize\"], Decimal(0.0001))\r\n```",
      "created_at": "2022-01-17T17:10:07Z",
      "updated_at": "2022-01-17T17:29:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r786182033",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786182033"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 556,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786212409",
      "pull_request_review_id": 854678262,
      "id": 786212409,
      "node_id": "PRRC_kwDOABII584u3KY5",
      "diff_hunk": "@@ -1003,14 +1005,19 @@ def test_external_inputs(self):\n         ext_utxo = self.nodes[0].listunspent(addresses=[addr])[0]\n \n         # An external input without solving data should result in an error\n-        raw_tx = wallet.createrawtransaction([ext_utxo], {self.nodes[0].getnewaddress(): 15})\n+        raw_tx = wallet.createrawtransaction([ext_utxo], {self.nodes[0].getnewaddress(): ext_utxo[\"amount\"] / 2})\n         assert_raises_rpc_error(-4, \"Insufficient funds\", wallet.fundrawtransaction, raw_tx)",
      "path": "test/functional/rpc_fundrawtransaction.py",
      "position": 17,
      "original_position": 15,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "52d8d44adba48c23b6047418eec431fbb39fd8db",
      "in_reply_to_id": 785839927,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Currently the only error message `SelectCoins` can return (which is where we find this failure) is \"Insufficient funds\". I think it is an orthogonal change to change that to return better errors, and can be done in a future PR.",
      "created_at": "2022-01-17T17:49:41Z",
      "updated_at": "2022-01-17T17:49:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r786212409",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786212409"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": 1008,
      "original_start_line": 1008,
      "start_side": "RIGHT",
      "line": 1009,
      "original_line": 1009,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786214468",
      "pull_request_review_id": 854680972,
      "id": 786214468,
      "node_id": "PRRC_kwDOABII584u3K5E",
      "diff_hunk": "@@ -518,5 +518,42 @@ def run_test(self):\n         assert signed[\"complete\"]\n         self.nodes[0].finalizepsbt(signed[\"psbt\"])\n \n+        dec = self.nodes[0].decodepsbt(signed[\"psbt\"])\n+        for i, txin in enumerate(dec[\"tx\"][\"vin\"]):\n+            if txin[\"txid\"] == ext_utxo[\"txid\"] and txin[\"vout\"] == ext_utxo[\"vout\"]:\n+                input_idx = i\n+                break\n+        psbt_in = dec[\"inputs\"][input_idx]\n+        # Calculate the input weight\n+        # (prevout + sequence + length of scriptSig + 2 bytes buffer) * 4 + len of scriptwitness\n+        len_scriptsig = len(psbt_in[\"final_scriptSig\"][\"hex\"]) // 2 if \"final_scriptSig\" in psbt_in else 0\n+        len_scriptwitness = len(psbt_in[\"final_scriptwitness\"][\"hex\"]) // 2 if \"final_scriptwitness\" in psbt_in else 0\n+        input_weight = ((44 + len_scriptsig + 2) * 4) + len_scriptwitness\n+\n+        # Input weight error conditions\n+        assert_raises_rpc_error(\n+            -8,\n+            \"Specify weight in inputs instead\",\n+            ext_wallet.send,\n+            outputs={self.nodes[0].getnewaddress(): 15},\n+            options={\"inputs\": [ext_utxo], \"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": 1000}]}\n+        )\n+\n+        # Funding should also work when input weights are provided\n+        res = self.test_send(\n+            from_wallet=ext_wallet,\n+            to_wallet=self.nodes[0],\n+            amount=15,\n+            inputs=[{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": input_weight}],\n+            add_inputs=True,\n+            psbt=True,\n+            include_watching=True\n+        )\n+        signed = ext_wallet.walletprocesspsbt(res[\"psbt\"])",
      "path": "test/functional/wallet_send.py",
      "position": null,
      "original_position": 35,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "52d8d44adba48c23b6047418eec431fbb39fd8db",
      "in_reply_to_id": 785856067,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "That is already being tested above.",
      "created_at": "2022-01-17T17:53:59Z",
      "updated_at": "2022-01-17T17:54:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r786214468",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786214468"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": 543,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 553,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786217136",
      "pull_request_review_id": 854684653,
      "id": 786217136,
      "node_id": "PRRC_kwDOABII584u3Liw",
      "diff_hunk": "@@ -625,6 +669,16 @@ RPCHelpMan fundrawtransaction()\n                                     {\"vout_index\", RPCArg::Type::NUM, RPCArg::Optional::OMITTED, \"The zero-based output index, before a change output is added.\"},\n                                 },\n                             },\n+                            {\"input_weights\", RPCArg::Type::ARR, RPCArg::Optional::OMITTED_NAMED_ARG, \"Inputs and their corresponding weights\",\n+                                {\n+                                    {\"txid\", RPCArg::Type::STR_HEX, RPCArg::Optional::NO, \"The transaction id\"},\n+                                    {\"vout\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The output number\"},\n+                                    {\"weight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The maximum weight for this input, \"\n+                                        \"including the weight of the outpoint and sequence number. \"\n+                                        \"Note that signature sizes are not guaranteed to be consistent, \"\n+                                        \"so the maximum DER signatures size of 73 bytes should be used when considering ECDSA signatures\"},",
      "path": "src/wallet/rpc/spend.cpp",
      "position": null,
      "original_position": 76,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "386768e4605bcbd0f0daa597440d1dc8acf2ad32",
      "in_reply_to_id": 783933728,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I've added \"Remember to convert serialized sizes to weight units when necessary.\"",
      "created_at": "2022-01-17T17:59:42Z",
      "updated_at": "2022-01-17T17:59:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r786217136",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786217136"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 680,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786217291",
      "pull_request_review_id": 854684899,
      "id": 786217291,
      "node_id": "PRRC_kwDOABII584u3LlL",
      "diff_hunk": "@@ -1032,10 +1037,38 @@ def test_external_inputs(self):\n         assert signed_tx['complete']\n \n         funded_tx = wallet.fundrawtransaction(raw_tx, {\"solving_data\": {\"descriptors\": [desc]}})\n-        signed_tx = wallet.signrawtransactionwithwallet(funded_tx['hex'])\n-        assert not signed_tx['complete']\n-        signed_tx = self.nodes[0].signrawtransactionwithwallet(signed_tx['hex'])\n-        assert signed_tx['complete']\n+        signed_tx1 = wallet.signrawtransactionwithwallet(funded_tx['hex'])\n+        assert not signed_tx1['complete']\n+        signed_tx2 = self.nodes[0].signrawtransactionwithwallet(signed_tx1['hex'])\n+        assert signed_tx2['complete']\n+\n+        unsigned_weight = self.nodes[0].decoderawtransaction(signed_tx1[\"hex\"])[\"weight\"]\n+        signed_weight = self.nodes[0].decoderawtransaction(signed_tx2[\"hex\"])[\"weight\"]\n+        # Input's weight is difference between weight of signed and unsigned,\n+        # and the weight of stuff that didn't change (prevout, sequence, 1 byte of scriptSig)\n+        input_weight = signed_weight - unsigned_weight + (45 * 4)\n+        low_input_weight = input_weight // 2\n+        high_input_weight = input_weight * 2\n+\n+        # Funding should also work if the input weight is provided\n+        funded_tx = wallet.fundrawtransaction(raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": input_weight}]})\n+        signed_tx = wallet.signrawtransactionwithwallet(funded_tx[\"hex\"])\n+        signed_tx = self.nodes[0].signrawtransactionwithwallet(signed_tx[\"hex\"])\n+        assert self.nodes[0].testmempoolaccept([signed_tx[\"hex\"]])[0][\"allowed\"]",
      "path": "test/functional/rpc_fundrawtransaction.py",
      "position": null,
      "original_position": 37,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "0224b9db65824064ca3a28f9802f5327735b95bb",
      "in_reply_to_id": 725497018,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2022-01-17T18:00:05Z",
      "updated_at": "2022-01-17T18:00:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r786217291",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786217291"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": 1055,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 1047,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786217556",
      "pull_request_review_id": 854685268,
      "id": 786217556,
      "node_id": "PRRC_kwDOABII584u3LpU",
      "diff_hunk": "@@ -585,6 +612,23 @@ void FundTransaction(CWallet& wallet, CMutableTransaction& tx, CAmount& fee_out,\n     }\n }\n \n+static void SetOptionsInputWeights(const UniValue& inputs, UniValue& options)\n+{\n+    if (options.exists(\"input_weights\")) {\n+        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Specify weight in inputs instead\");",
      "path": "src/wallet/rpc/spend.cpp",
      "position": null,
      "original_position": 48,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "52d8d44adba48c23b6047418eec431fbb39fd8db",
      "in_reply_to_id": 785706830,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Changed to \"Input weights should be specified in inputs rather than in options.\"",
      "created_at": "2022-01-17T18:00:38Z",
      "updated_at": "2022-01-17T18:00:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r786217556",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786217556"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": 617,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 618,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786217604",
      "pull_request_review_id": 854685355,
      "id": 786217604,
      "node_id": "PRRC_kwDOABII584u3LqE",
      "diff_hunk": "@@ -626,6 +670,16 @@ RPCHelpMan fundrawtransaction()\n                                     {\"vout_index\", RPCArg::Type::NUM, RPCArg::Optional::OMITTED, \"The zero-based output index, before a change output is added.\"},\n                                 },\n                             },\n+                            {\"input_weights\", RPCArg::Type::ARR, RPCArg::Optional::OMITTED_NAMED_ARG, \"Inputs and their corresponding weights\",\n+                                {\n+                                    {\"txid\", RPCArg::Type::STR_HEX, RPCArg::Optional::NO, \"The transaction id\"},\n+                                    {\"vout\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The output number\"},",
      "path": "src/wallet/rpc/spend.cpp",
      "position": null,
      "original_position": 72,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "52d8d44adba48c23b6047418eec431fbb39fd8db",
      "in_reply_to_id": 785710287,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2022-01-17T18:00:46Z",
      "updated_at": "2022-01-17T18:00:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r786217604",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786217604"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 676,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786217632",
      "pull_request_review_id": 854685397,
      "id": 786217632,
      "node_id": "PRRC_kwDOABII584u3Lqg",
      "diff_hunk": "@@ -939,6 +939,9 @@ bool AddWalletSetting(interfaces::Chain& chain, const std::string& wallet_name);\n bool RemoveWalletSetting(interfaces::Chain& chain, const std::string& wallet_name);\n \n bool DummySignInput(const SigningProvider& provider, CTxIn &tx_in, const CTxOut &txout, bool use_max_sig);\n+\n+void FillInputToWeight(CTxIn& txin, int64_t target_weight);\n } // namespace wallet\n \n+",
      "path": "src/wallet/wallet.h",
      "position": null,
      "original_position": 8,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "52d8d44adba48c23b6047418eec431fbb39fd8db",
      "in_reply_to_id": 785776462,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Removed",
      "created_at": "2022-01-17T18:00:50Z",
      "updated_at": "2022-01-17T18:00:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r786217632",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786217632"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 946,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786217758",
      "pull_request_review_id": 854685586,
      "id": 786217758,
      "node_id": "PRRC_kwDOABII584u3Lse",
      "diff_hunk": "@@ -1020,10 +1027,45 @@ def test_external_inputs(self):\n         assert signed_tx['complete']\n \n         funded_tx = wallet.fundrawtransaction(raw_tx, {\"solving_data\": {\"descriptors\": [desc]}})\n-        signed_tx = wallet.signrawtransactionwithwallet(funded_tx['hex'])\n-        assert not signed_tx['complete']\n-        signed_tx = self.nodes[0].signrawtransactionwithwallet(signed_tx['hex'])\n-        assert signed_tx['complete']\n+        signed_tx1 = wallet.signrawtransactionwithwallet(funded_tx['hex'])\n+        assert not signed_tx1['complete']\n+        signed_tx2 = self.nodes[0].signrawtransactionwithwallet(signed_tx1['hex'])\n+        assert signed_tx2['complete']\n+\n+        unsigned_weight = self.nodes[0].decoderawtransaction(signed_tx1[\"hex\"])[\"weight\"]\n+        signed_weight = self.nodes[0].decoderawtransaction(signed_tx2[\"hex\"])[\"weight\"]\n+        # Input's weight is difference between weight of signed and unsigned,\n+        # and the weight of stuff that didn't change (prevout, sequence, 1 byte of scriptSig)\n+        input_weight = signed_weight - unsigned_weight + (41 * 4)\n+        low_input_weight = input_weight // 2\n+        high_input_weight = input_weight * 2\n+\n+        # Funding should also work if the input weight is provided\n+        funded_tx = wallet.fundrawtransaction(raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": input_weight}]})\n+        signed_tx = wallet.signrawtransactionwithwallet(funded_tx[\"hex\"])\n+        signed_tx = self.nodes[0].signrawtransactionwithwallet(signed_tx[\"hex\"])\n+        assert self.nodes[0].testmempoolaccept([signed_tx[\"hex\"]])[0][\"allowed\"]\n+        # Reducing the weight should have a lower fee\n+        funded_tx2 = wallet.fundrawtransaction(raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": low_input_weight}]})\n+        assert_greater_than(funded_tx[\"fee\"], funded_tx2[\"fee\"])\n+        # Increasing the weight should have a higher fee\n+        funded_tx2 = wallet.fundrawtransaction(raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": high_input_weight}]})\n+        assert_greater_than(funded_tx2[\"fee\"], funded_tx[\"fee\"])\n+        # The provided weight should override the calculated weight when solving data is provided\n+        funded_tx3 = wallet.fundrawtransaction(raw_tx, {\"solving_data\": {\"descriptors\": [desc]}, \"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": high_input_weight}]})\n+        assert_equal(funded_tx2[\"fee\"], funded_tx3[\"fee\"])\n+        # The feerate should be met\n+        funded_tx4 = wallet.fundrawtransaction(raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": high_input_weight}], \"fee_rate\": 10})\n+        signed_tx4 = wallet.signrawtransactionwithwallet(funded_tx4[\"hex\"])",
      "path": "test/functional/rpc_fundrawtransaction.py",
      "position": null,
      "original_position": 67,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "52d8d44adba48c23b6047418eec431fbb39fd8db",
      "in_reply_to_id": 785979972,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Oops, removed",
      "created_at": "2022-01-17T18:01:07Z",
      "updated_at": "2022-01-17T18:01:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r786217758",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786217758"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1059,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786218642",
      "pull_request_review_id": 854686868,
      "id": 786218642,
      "node_id": "PRRC_kwDOABII584u3L6S",
      "diff_hunk": "@@ -1507,6 +1507,34 @@ bool DummySignInput(const SigningProvider& provider, CTxIn &tx_in, const CTxOut\n     return true;\n }\n \n+void FillInputToWeight(CTxIn& txin, int64_t target_weight)",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "52d8d44adba48c23b6047418eec431fbb39fd8db",
      "in_reply_to_id": 786127043,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Apparently `GetTransactionInputWeight` includes the empty witness, and I forgot to include the empty scriptSig in my calculation.\r\n\r\nI've changed restriction to be at least 165 bytes. `FillInputToWeight` will also check the size meets the minimum. If it does not, it will just do nothing rather than crashing. There are also unit tests for this lower bound. `add_weight` should always be at least 1 now, and that is fine.",
      "created_at": "2022-01-17T18:03:01Z",
      "updated_at": "2022-01-17T18:03:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r786218642",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786218642"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1510,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786219034",
      "pull_request_review_id": 854687526,
      "id": 786219034,
      "node_id": "PRRC_kwDOABII584u3MAa",
      "diff_hunk": "@@ -1507,7 +1507,7 @@ bool DummySignInput(const SigningProvider& provider, CTxIn &tx_in, const CTxOut\n     return true;\n }\n \n-static void FillInputToWeight(CTxIn& txin, int64_t target_weight)",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "8a1ea6a050dbcae3c06e483f6413f0e060632987",
      "in_reply_to_id": 786141492,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Oops, fixed.",
      "created_at": "2022-01-17T18:04:01Z",
      "updated_at": "2022-01-17T18:04:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r786219034",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786219034"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1510,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786219060",
      "pull_request_review_id": 854687567,
      "id": 786219060,
      "node_id": "PRRC_kwDOABII584u3MA0",
      "diff_hunk": "@@ -4,6 +4,8 @@\n # file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \"\"\"Test the fundrawtransaction RPC.\"\"\"\n \n+import math\n+\n from decimal import Decimal\n from itertools import product",
      "path": "test/functional/rpc_fundrawtransaction.py",
      "position": null,
      "original_position": 7,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "52d8d44adba48c23b6047418eec431fbb39fd8db",
      "in_reply_to_id": 786151588,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2022-01-17T18:04:06Z",
      "updated_at": "2022-01-17T18:04:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r786219060",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786219060"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": 7,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 9,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786219092",
      "pull_request_review_id": 854687614,
      "id": 786219092,
      "node_id": "PRRC_kwDOABII584u3MBU",
      "diff_hunk": "@@ -518,5 +518,42 @@ def run_test(self):\n         assert signed[\"complete\"]\n         self.nodes[0].finalizepsbt(signed[\"psbt\"])\n \n+        dec = self.nodes[0].decodepsbt(signed[\"psbt\"])\n+        for i, txin in enumerate(dec[\"tx\"][\"vin\"]):\n+            if txin[\"txid\"] == ext_utxo[\"txid\"] and txin[\"vout\"] == ext_utxo[\"vout\"]:\n+                input_idx = i\n+                break\n+        psbt_in = dec[\"inputs\"][input_idx]\n+        # Calculate the input weight\n+        # (prevout + sequence + length of scriptSig + 2 bytes buffer) * 4 + len of scriptwitness\n+        len_scriptsig = len(psbt_in[\"final_scriptSig\"][\"hex\"]) // 2 if \"final_scriptSig\" in psbt_in else 0\n+        len_scriptwitness = len(psbt_in[\"final_scriptwitness\"][\"hex\"]) // 2 if \"final_scriptwitness\" in psbt_in else 0\n+        input_weight = ((44 + len_scriptsig + 2) * 4) + len_scriptwitness",
      "path": "test/functional/wallet_send.py",
      "position": null,
      "original_position": 14,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "52d8d44adba48c23b6047418eec431fbb39fd8db",
      "in_reply_to_id": 786180828,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2022-01-17T18:04:11Z",
      "updated_at": "2022-01-17T18:04:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r786219092",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786219092"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 531,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786219125",
      "pull_request_review_id": 854687668,
      "id": 786219125,
      "node_id": "PRRC_kwDOABII584u3MB1",
      "diff_hunk": "@@ -518,5 +518,42 @@ def run_test(self):\n         assert signed[\"complete\"]\n         self.nodes[0].finalizepsbt(signed[\"psbt\"])\n \n+        dec = self.nodes[0].decodepsbt(signed[\"psbt\"])\n+        for i, txin in enumerate(dec[\"tx\"][\"vin\"]):\n+            if txin[\"txid\"] == ext_utxo[\"txid\"] and txin[\"vout\"] == ext_utxo[\"vout\"]:\n+                input_idx = i\n+                break\n+        psbt_in = dec[\"inputs\"][input_idx]\n+        # Calculate the input weight\n+        # (prevout + sequence + length of scriptSig + 2 bytes buffer) * 4 + len of scriptwitness\n+        len_scriptsig = len(psbt_in[\"final_scriptSig\"][\"hex\"]) // 2 if \"final_scriptSig\" in psbt_in else 0\n+        len_scriptwitness = len(psbt_in[\"final_scriptwitness\"][\"hex\"]) // 2 if \"final_scriptwitness\" in psbt_in else 0\n+        input_weight = ((44 + len_scriptsig + 2) * 4) + len_scriptwitness\n+\n+        # Input weight error conditions\n+        assert_raises_rpc_error(\n+            -8,\n+            \"Specify weight in inputs instead\",\n+            ext_wallet.send,\n+            outputs={self.nodes[0].getnewaddress(): 15},\n+            options={\"inputs\": [ext_utxo], \"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": 1000}]}\n+        )\n+\n+        # Funding should also work when input weights are provided\n+        res = self.test_send(\n+            from_wallet=ext_wallet,\n+            to_wallet=self.nodes[0],\n+            amount=15,\n+            inputs=[{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": input_weight}],\n+            add_inputs=True,\n+            psbt=True,\n+            include_watching=True\n+        )\n+        signed = ext_wallet.walletprocesspsbt(res[\"psbt\"])\n+        signed = ext_fund.walletprocesspsbt(res[\"psbt\"])\n+        assert signed[\"complete\"]\n+        tx = self.nodes[0].finalizepsbt(signed[\"psbt\"])\n+        assert self.nodes[0].testmempoolaccept([tx[\"hex\"]])[0][\"allowed\"]",
      "path": "test/functional/wallet_send.py",
      "position": null,
      "original_position": 39,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "52d8d44adba48c23b6047418eec431fbb39fd8db",
      "in_reply_to_id": 786182033,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2022-01-17T18:04:16Z",
      "updated_at": "2022-01-17T18:04:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r786219125",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786219125"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 556,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786581710",
      "pull_request_review_id": 855177837,
      "id": 786581710,
      "node_id": "PRRC_kwDOABII584u4kjO",
      "diff_hunk": "@@ -1003,14 +1005,19 @@ def test_external_inputs(self):\n         ext_utxo = self.nodes[0].listunspent(addresses=[addr])[0]\n \n         # An external input without solving data should result in an error\n-        raw_tx = wallet.createrawtransaction([ext_utxo], {self.nodes[0].getnewaddress(): 15})\n+        raw_tx = wallet.createrawtransaction([ext_utxo], {self.nodes[0].getnewaddress(): ext_utxo[\"amount\"] / 2})\n         assert_raises_rpc_error(-4, \"Insufficient funds\", wallet.fundrawtransaction, raw_tx)",
      "path": "test/functional/rpc_fundrawtransaction.py",
      "position": 17,
      "original_position": 15,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "52d8d44adba48c23b6047418eec431fbb39fd8db",
      "in_reply_to_id": 785839927,
      "user": {
        "login": "rajarshimaitra",
        "id": 36541669,
        "node_id": "MDQ6VXNlcjM2NTQxNjY5",
        "avatar_url": "https://avatars.githubusercontent.com/u/36541669?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rajarshimaitra",
        "html_url": "https://github.com/rajarshimaitra",
        "followers_url": "https://api.github.com/users/rajarshimaitra/followers",
        "following_url": "https://api.github.com/users/rajarshimaitra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rajarshimaitra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rajarshimaitra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rajarshimaitra/subscriptions",
        "organizations_url": "https://api.github.com/users/rajarshimaitra/orgs",
        "repos_url": "https://api.github.com/users/rajarshimaitra/repos",
        "events_url": "https://api.github.com/users/rajarshimaitra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rajarshimaitra/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ah ok.. Ya probably a good idea for a future PR.",
      "created_at": "2022-01-18T09:52:33Z",
      "updated_at": "2022-01-18T09:52:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r786581710",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/786581710"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": 1008,
      "original_start_line": 1008,
      "start_side": "RIGHT",
      "line": 1009,
      "original_line": 1009,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/788303644",
      "pull_request_review_id": 857578495,
      "id": 788303644,
      "node_id": "PRRC_kwDOABII584u_I8c",
      "diff_hunk": "@@ -1507,6 +1507,41 @@ bool DummySignInput(const SigningProvider& provider, CTxIn &tx_in, const CTxOut\n     return true;\n }\n \n+void FillInputToWeight(CTxIn& txin, int64_t target_weight)\n+{\n+    int64_t txin_weight = GetTransactionInputWeight(txin);\n+\n+    // Do nothing if the weight that should be added is less than the weight that already exists\n+    if (target_weight <= txin_weight) {",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 9,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "e7a318a8a88489477264060ccb332a719260fa67",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: let's assert that no witness data exists yet?",
      "created_at": "2022-01-20T02:39:01Z",
      "updated_at": "2022-01-20T02:53:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r788303644",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/788303644"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1515,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/788304947",
      "pull_request_review_id": 857578495,
      "id": 788304947,
      "node_id": "PRRC_kwDOABII584u_JQz",
      "diff_hunk": "@@ -1515,6 +1550,12 @@ bool CWallet::DummySignTx(CMutableTransaction &txNew, const std::vector<CTxOut>\n     for (const auto& txout : txouts)\n     {\n         CTxIn& txin = txNew.vin[nIn];\n+        // If weight was provided, fill the input to that weight\n+        if (coin_control && coin_control->HasInputWeight(txin.prevout)) {",
      "path": "src/wallet/wallet.cpp",
      "position": 55,
      "original_position": 47,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "e7a318a8a88489477264060ccb332a719260fa67",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "If the given value is \"too low\" as per https://github.com/bitcoin/bitcoin/pull/23201/commits/e7a318a8a88489477264060ccb332a719260fa67#diff-1f2db0e4d5c12d109c7f0962333c245b49b696cb39ff432da048e9d6c08944d8R1515, it looks like logic uses just thinks it signed and returns `true`.\r\n\r\nThere's test coverage from the RPC perspective but ideally we'd catch this issue by returning false?",
      "created_at": "2022-01-20T02:42:54Z",
      "updated_at": "2022-01-20T02:53:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r788304947",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/788304947"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1562,
      "original_line": 1562,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/788308300",
      "pull_request_review_id": 857578495,
      "id": 788308300,
      "node_id": "PRRC_kwDOABII584u_KFM",
      "diff_hunk": "@@ -548,6 +549,35 @@ void FundTransaction(CWallet& wallet, CMutableTransaction& tx, CAmount& fee_out,\n         }\n     }\n \n+    if (options.exists(\"input_weights\")) {\n+        for (const UniValue& input : options[\"input_weights\"].get_array().getValues()) {\n+            uint256 txid = ParseHashO(input, \"txid\");\n+\n+            const UniValue& vout_v = find_value(input, \"vout\");\n+            if (!vout_v.isNum()) {\n+                throw JSONRPCError(RPC_INVALID_PARAMETER, \"Invalid parameter, missing vout key\");\n+            }\n+            int vout = vout_v.get_int();\n+            if (vout < 0) {\n+                throw JSONRPCError(RPC_INVALID_PARAMETER, \"Invalid parameter, vout cannot be negative\");\n+            }\n+\n+            const UniValue& weight_v = find_value(input, \"weight\");\n+            if (!weight_v.isNum()) {\n+                throw JSONRPCError(RPC_INVALID_PARAMETER, \"Invalid parameter, missing weight key\");\n+            }\n+            int64_t weight = weight_v.get_int64();\n+            if (weight < 41 * WITNESS_SCALE_FACTOR + 1) {",
      "path": "src/wallet/rpc/spend.cpp",
      "position": null,
      "original_position": 30,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "db4efdeb6d5ffd982777197d72c8c2a0f1ea82f9",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "follow-up only: would be nice if this kind of thing wasn't checked in two places in different ways. I prefer the other approach of directly measuring what a blank input size is.",
      "created_at": "2022-01-20T02:51:46Z",
      "updated_at": "2022-01-20T02:53:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r788308300",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/788308300"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 570,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/790925653",
      "pull_request_review_id": 861219914,
      "id": 790925653,
      "node_id": "PRRC_kwDOABII584vJJFV",
      "diff_hunk": "@@ -1507,6 +1507,41 @@ bool DummySignInput(const SigningProvider& provider, CTxIn &tx_in, const CTxOut\n     return true;\n }\n \n+void FillInputToWeight(CTxIn& txin, int64_t target_weight)\n+{\n+    int64_t txin_weight = GetTransactionInputWeight(txin);\n+\n+    // Do nothing if the weight that should be added is less than the weight that already exists\n+    if (target_weight <= txin_weight) {",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 9,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "e7a318a8a88489477264060ccb332a719260fa67",
      "in_reply_to_id": 788303644,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2022-01-24T16:29:48Z",
      "updated_at": "2022-01-24T16:29:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r790925653",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/790925653"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1515,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/790926139",
      "pull_request_review_id": 861220307,
      "id": 790926139,
      "node_id": "PRRC_kwDOABII584vJJM7",
      "diff_hunk": "@@ -1515,6 +1550,12 @@ bool CWallet::DummySignTx(CMutableTransaction &txNew, const std::vector<CTxOut>\n     for (const auto& txout : txouts)\n     {\n         CTxIn& txin = txNew.vin[nIn];\n+        // If weight was provided, fill the input to that weight\n+        if (coin_control && coin_control->HasInputWeight(txin.prevout)) {",
      "path": "src/wallet/wallet.cpp",
      "position": 55,
      "original_position": 47,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "e7a318a8a88489477264060ccb332a719260fa67",
      "in_reply_to_id": 788304947,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Changed to return a bool.",
      "created_at": "2022-01-24T16:30:05Z",
      "updated_at": "2022-01-24T16:30:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r790926139",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/790926139"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1562,
      "original_line": 1562,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/790926441",
      "pull_request_review_id": 861220537,
      "id": 790926441,
      "node_id": "PRRC_kwDOABII584vJJRp",
      "diff_hunk": "@@ -548,6 +549,35 @@ void FundTransaction(CWallet& wallet, CMutableTransaction& tx, CAmount& fee_out,\n         }\n     }\n \n+    if (options.exists(\"input_weights\")) {\n+        for (const UniValue& input : options[\"input_weights\"].get_array().getValues()) {\n+            uint256 txid = ParseHashO(input, \"txid\");\n+\n+            const UniValue& vout_v = find_value(input, \"vout\");\n+            if (!vout_v.isNum()) {\n+                throw JSONRPCError(RPC_INVALID_PARAMETER, \"Invalid parameter, missing vout key\");\n+            }\n+            int vout = vout_v.get_int();\n+            if (vout < 0) {\n+                throw JSONRPCError(RPC_INVALID_PARAMETER, \"Invalid parameter, vout cannot be negative\");\n+            }\n+\n+            const UniValue& weight_v = find_value(input, \"weight\");\n+            if (!weight_v.isNum()) {\n+                throw JSONRPCError(RPC_INVALID_PARAMETER, \"Invalid parameter, missing weight key\");\n+            }\n+            int64_t weight = weight_v.get_int64();\n+            if (weight < 41 * WITNESS_SCALE_FACTOR + 1) {",
      "path": "src/wallet/rpc/spend.cpp",
      "position": null,
      "original_position": 30,
      "commit_id": "3866272c450cc659207fbc2cff3c690ae8593341",
      "original_commit_id": "db4efdeb6d5ffd982777197d72c8c2a0f1ea82f9",
      "in_reply_to_id": 788308300,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2022-01-24T16:30:15Z",
      "updated_at": "2022-01-24T16:30:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r790926441",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/790926441"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 570,
      "side": "RIGHT"
    }
  ]
}