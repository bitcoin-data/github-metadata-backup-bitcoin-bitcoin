{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685",
    "id": 1006352473,
    "node_id": "PR_kwDOABII5847-7hZ",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/25685",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/25685.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/25685.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25685",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25685/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/3fcb545ab26be3e785b5e5654be0bdc77099d827",
    "number": 25685,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "wallet: Faster transaction creation by removing pre-set-inputs fetching responsibility from Coin Selection",
    "user": {
      "login": "furszy",
      "id": 5377650,
      "node_id": "MDQ6VXNlcjUzNzc2NTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/furszy",
      "html_url": "https://github.com/furszy",
      "followers_url": "https://api.github.com/users/furszy/followers",
      "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
      "organizations_url": "https://api.github.com/users/furszy/orgs",
      "repos_url": "https://api.github.com/users/furszy/repos",
      "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/furszy/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "#### # Context (Current Flow on Master)\r\n\r\nIn the transaction creation process, in order to select which coins the new transaction will spend,\r\nwe first obtain all the available coins known by the wallet, which means walking-through the\r\nwallet txes map, gathering the ones that fulfill certain spendability requirements in a vector.\r\n\r\nThis coins vector is then provided to the Coin Selection process, which first checks if the user\r\nhas manually selected any input (which could be internal, aka known by the wallet, or external),\r\nand if it does, it fetches them by searching each of them inside the wallet and/or inside the\r\nCoin Control external tx data.\r\n\r\nThen, after finding the pre-selected-inputs and gathering them in a vector, the Coin Selection\r\nprocess walks-through the entire available coins vector once more just to erase coins that are\r\nin both vectors. So the Coin Selection process doesnâ€™t pick them twice (duplicate inputs inside\r\nthe same transaction).\r\n\r\n#### # Process Workflow Changes\r\n\r\nNow, a new method, `FetchCoins` will be responsible for:\r\n1) Lookup the user pre-selected-inputs (which can be internal or external).\r\n2) And, fetch the available coins in the wallet (excluding the already fetched ones).\r\n\r\nWhich will occur prior to the Coin Selection process. Which allows us to never include the\r\npre-selected-inputs inside the available coins vector in the first place, as well as doing other\r\nnice improvements (written below).\r\n\r\nSo, Coin Selection can perform its main responsibility without mixing it with having to fetch\r\ninternal/external coins nor any slow and unneeded duplicate coins verification.\r\n\r\n#### # Summarizing the Improvements:\r\n\r\n1) If any pre-selected-input lookup fail, the process will return the error right away.\r\n    (before, the wallet was fetching all the wallet available coins, walking through the\r\n    entire txes map, and then failing for an invalid pre-selected-input inside SelectCoins)\r\n\r\n2) The pre-selected-inputs lookup failure causes are properly described on the return error.\r\n    (before, we were returning an \"Insufficient Funds\" error for everything, even if the failure\r\n    was due a not solvable external input)\r\n\r\n3) **Faster Coin Selection**: no longer need to \"remove the pre-set inputs from the available coins\r\n    vector so that Coin Selection doesn't pick them\" (which meant to loop-over the entire\r\n    available coins vector at Coin Selection time, erasing duplicate coins that were pre-selected).\r\n   \r\n    Now, the available coins vector, which is built after the pre-selected-inputs fetching,\r\n    doesnâ€™t include the already selected inputs in the first place.\r\n\r\n4) **Faster transaction creation** for transactions that only use manually selected inputs.\r\n\r\n    We now will return early, as soon as we finish fetching the pre-selected-inputs and\r\n    not perform the resources expensive calculation of walking-through the entire wallet\r\n    txes map to obtain the available coins (coins that we will not use).\r\n\r\n---------------------------\r\n\r\nAdded a new bench (f6d0bb2) measuring the transaction creation process, for a wallet with ~250k UTXO, only using the pre-selected-inputs inside coin control. Setting `m_allow_other_inputs=false` to disallow the wallet to include coins automatically.\r\n\r\n#### Result on this PR (tip f6d0bb2d):\r\n\r\n|               ns/op |                op/s |    err% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------:|:----------\r\n|        1,048,675.00 |              953.58 |    0.3% |      0.06 | `WalletCreateTransaction`\r\n\r\nvs\r\n\r\n#### Result on master (tip 4a4289e2):\r\n\r\n|               ns/op |                op/s |    err% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------:|:----------\r\n|       96,373,458.20 |               10.38 |    0.2% |      5.30 | `WalletCreateTransaction`\r\n\r\nThe benchmark took to run in master: **96.37 milliseconds**, while in this PR: **1 millisecond**  ðŸš€ .",
    "labels": [
      {
        "id": 149424,
        "node_id": "MDU6TGFiZWwxNDk0MjQ=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
        "name": "Wallet",
        "color": "08a781",
        "default": false
      }
    ],
    "created_at": "2022-07-23T13:19:19Z",
    "updated_at": "2024-05-26T12:53:05Z",
    "closed_at": "2022-10-27T21:49:29Z",
    "mergeable_state": "unknown",
    "merged_at": "2022-10-27T21:49:29Z",
    "merge_commit_sha": "f37bd15d472fdc7dd3d40cafaba9e8dfddd6b530",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "furszy:2022_wallet_faster_coin_selection",
      "ref": "2022_wallet_faster_coin_selection",
      "sha": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 143624913,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNDM2MjQ5MTM=",
        "name": "bitcoin-core",
        "full_name": "furszy/bitcoin-core",
        "owner": {
          "login": "furszy",
          "id": 5377650,
          "node_id": "MDQ6VXNlcjUzNzc2NTA=",
          "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/furszy",
          "html_url": "https://github.com/furszy",
          "followers_url": "https://api.github.com/users/furszy/followers",
          "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
          "organizations_url": "https://api.github.com/users/furszy/orgs",
          "repos_url": "https://api.github.com/users/furszy/repos",
          "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/furszy/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/furszy/bitcoin-core",
        "description": "Bitcoin-Core",
        "fork": true,
        "url": "https://api.github.com/repos/furszy/bitcoin-core",
        "archive_url": "https://api.github.com/repos/furszy/bitcoin-core/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/furszy/bitcoin-core/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/furszy/bitcoin-core/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/furszy/bitcoin-core/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/furszy/bitcoin-core/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/furszy/bitcoin-core/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/furszy/bitcoin-core/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/furszy/bitcoin-core/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/furszy/bitcoin-core/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/furszy/bitcoin-core/contributors",
        "deployments_url": "https://api.github.com/repos/furszy/bitcoin-core/deployments",
        "downloads_url": "https://api.github.com/repos/furszy/bitcoin-core/downloads",
        "events_url": "https://api.github.com/repos/furszy/bitcoin-core/events",
        "forks_url": "https://api.github.com/repos/furszy/bitcoin-core/forks",
        "git_commits_url": "https://api.github.com/repos/furszy/bitcoin-core/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/furszy/bitcoin-core/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/furszy/bitcoin-core/git/tags%7B/sha%7D",
        "git_url": "git://github.com/furszy/bitcoin-core.git",
        "issue_comment_url": "https://api.github.com/repos/furszy/bitcoin-core/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/furszy/bitcoin-core/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/furszy/bitcoin-core/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/furszy/bitcoin-core/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/furszy/bitcoin-core/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/furszy/bitcoin-core/languages",
        "merges_url": "https://api.github.com/repos/furszy/bitcoin-core/merges",
        "milestones_url": "https://api.github.com/repos/furszy/bitcoin-core/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/furszy/bitcoin-core/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/furszy/bitcoin-core/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/furszy/bitcoin-core/releases%7B/id%7D",
        "ssh_url": "git@github.com:furszy/bitcoin-core.git",
        "stargazers_url": "https://api.github.com/repos/furszy/bitcoin-core/stargazers",
        "statuses_url": "https://api.github.com/repos/furszy/bitcoin-core/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/furszy/bitcoin-core/subscribers",
        "subscription_url": "https://api.github.com/repos/furszy/bitcoin-core/subscription",
        "tags_url": "https://api.github.com/repos/furszy/bitcoin-core/tags",
        "teams_url": "https://api.github.com/repos/furszy/bitcoin-core/teams",
        "trees_url": "https://api.github.com/repos/furszy/bitcoin-core/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/furszy/bitcoin-core.git",
        "hooks_url": "https://api.github.com/repos/furszy/bitcoin-core/hooks",
        "svn_url": "https://github.com/furszy/bitcoin-core",
        "homepage": "",
        "language": "C++",
        "forks_count": 4,
        "stargazers_count": 2,
        "watchers_count": 2,
        "size": 402802,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-05-23T20:04:58Z",
        "created_at": "2018-08-05T15:28:43Z",
        "updated_at": "2024-05-23T20:05:07Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "ec92d23fb8922c37f678589d743ca214f966cd75",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35448,
        "stargazers_count": 76550,
        "watchers_count": 76550,
        "size": 259279,
        "default_branch": "master",
        "open_issues_count": 690,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-05-26T00:00:14Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-05-26T11:17:55Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 330,
    "deletions": 109,
    "changed_files": 14,
    "commits": 7,
    "review_comments": 46,
    "comments": 30
  },
  "events": [
    {
      "event": "labeled",
      "id": 7050393809,
      "node_id": "LE_lADOABII585Oa1bCzwAAAAGkPHjR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7050393809",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-23T15:16:24Z",
      "label": {
        "name": "Wallet",
        "color": "08a781"
      }
    },
    {
      "event": "commented",
      "id": 1193141240,
      "node_id": "IC_kwDOABII585HHeP4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1193141240",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-23T15:16:33Z",
      "updated_at": "2022-10-20T12:30:58Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#26154](https://github.com/bitcoin/bitcoin/pull/26154) (refactor: Move coin_control variable to test setup section by yancyribbens)\n* [#26152](https://github.com/bitcoin/bitcoin/pull/26152) (Bump unconfirmed ancestor transactions to target feerate by Xekyo)\n* [#26066](https://github.com/bitcoin/bitcoin/pull/26066) (wallet: Refactor and document CoinControl by aureleoules)\n* [#26008](https://github.com/bitcoin/bitcoin/pull/26008) (wallet: cache IsMine scriptPubKeys to improve performance of wallets with a lot of non-ranged descriptors by achow101)\n* [#25730](https://github.com/bitcoin/bitcoin/pull/25730) (RPC: listunspent, add \"include immature coinbase\" flag by furszy)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#issuecomment-1193141240",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25685"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-23T15:22:21Z",
      "updated_at": "2022-07-23T15:22:21Z",
      "source": {
        "issue": {
          "id": 1315438172,
          "node_id": "PR_kwDOABII5847-QJ-",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25679",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25679/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25679/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25679/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25679",
          "number": 25679,
          "state": "closed",
          "state_reason": null,
          "title": "wallet: Correctly identify external inputs that are also in the wallet",
          "body": "if a transaction is being funded that has an external input, and that input's parent is also in the wallet, we will fail to detect that and fail to fund the transaction. In order to correctly detect such inputs, we need to be doing `IsMine` on all specified inputs in order to use `Select` and `SelectExternal` correctly. Additionally `SelectCoins` needs to call `CalculateMaximumSignedInputSize` with the correct parameters which depends on whether the wallet is able to solve for the input. Because there are some situations where the wallet could find an external input to belong to it (e.g. watching an address - unable to solve, but will be ISMINE_WATCHONLY), instead of switching which `CalculateMaximumSignedInputSize` to use, we should call the one that uses the wallet, and if that fails, try again with the one that uses external solving data.\r\n\r\nAlso adds a test for this case.",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 6,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25679",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25679",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25679.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25679.patch"
          },
          "closed_at": "2022-08-19T07:54:29Z",
          "created_at": "2022-07-22T21:43:03Z",
          "updated_at": "2023-08-23T12:09:00Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-23T15:41:22Z",
      "updated_at": "2022-07-23T15:41:22Z",
      "source": {
        "issue": {
          "id": 1312335928,
          "node_id": "PR_kwDOABII5847zel_",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25659",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25659/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25659/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25659/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25659",
          "number": 25659,
          "state": "closed",
          "state_reason": null,
          "title": "wallet: simplify ListCoins implementation",
          "body": "Focused on the following changes:\r\n\r\n1) Removed the entire locked coins lookup that was inside `ListCoins` by including them directly on the `AvailableCoins` result (where we were skipping them before).\r\n2) Unified both `FindNonChangeParentOutput` functions (only called from `ListCoins`)\r\n",
          "user": {
            "login": "furszy",
            "id": 5377650,
            "node_id": "MDQ6VXNlcjUzNzc2NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/furszy",
            "html_url": "https://github.com/furszy",
            "followers_url": "https://api.github.com/users/furszy/followers",
            "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
            "organizations_url": "https://api.github.com/users/furszy/orgs",
            "repos_url": "https://api.github.com/users/furszy/repos",
            "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/furszy/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 12,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25659",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25659",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25659.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25659.patch"
          },
          "closed_at": "2023-01-18T19:27:09Z",
          "created_at": "2022-07-21T02:06:56Z",
          "updated_at": "2024-05-26T12:53:06Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-23T18:00:47Z",
      "updated_at": "2022-07-23T18:00:47Z",
      "source": {
        "issue": {
          "id": 1243856335,
          "node_id": "PR_kwDOABII5844Oka6",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25183",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25183/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25183/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25183/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25183",
          "number": 25183,
          "state": "closed",
          "state_reason": null,
          "title": "rpc: Filter inputs by type during CoinSelection ",
          "body": "This PR adds a filter to the CoinControl to select only specific utxos by type. It allows the `fundrawtransaction` and `walletcreatefundedpsbt` rpc calls to filter inputs by type.\r\n\r\nCloses #25181.\r\n\r\n",
          "user": {
            "login": "aureleoules",
            "id": 22493292,
            "node_id": "MDQ6VXNlcjIyNDkzMjky",
            "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/aureleoules",
            "html_url": "https://github.com/aureleoules",
            "followers_url": "https://api.github.com/users/aureleoules/followers",
            "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
            "organizations_url": "https://api.github.com/users/aureleoules/orgs",
            "repos_url": "https://api.github.com/users/aureleoules/repos",
            "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/aureleoules/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 16,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25183",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25183",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25183.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25183.patch"
          },
          "closed_at": "2022-12-08T12:22:12Z",
          "created_at": "2022-05-21T03:44:14Z",
          "updated_at": "2023-12-08T12:21:35Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-23T18:56:29Z",
      "updated_at": "2022-07-23T18:56:29Z",
      "source": {
        "issue": {
          "id": 1198613313,
          "node_id": "PR_kwDOABII58417_Jx",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24814",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24814/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24814/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24814/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/24814",
          "number": 24814,
          "state": "closed",
          "state_reason": null,
          "title": "refactor: improve complexity of removing preselected coins",
          "body": "Improve the complexity of removing pre-selected coins from the pool to linear from quadratic.\r\n\r\n",
          "user": {
            "login": "rag-hav",
            "id": 60528983,
            "node_id": "MDQ6VXNlcjYwNTI4OTgz",
            "avatar_url": "https://avatars.githubusercontent.com/u/60528983?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rag-hav",
            "html_url": "https://github.com/rag-hav",
            "followers_url": "https://api.github.com/users/rag-hav/followers",
            "following_url": "https://api.github.com/users/rag-hav/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/rag-hav/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/rag-hav/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/rag-hav/subscriptions",
            "organizations_url": "https://api.github.com/users/rag-hav/orgs",
            "repos_url": "https://api.github.com/users/rag-hav/repos",
            "events_url": "https://api.github.com/users/rag-hav/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/rag-hav/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            },
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "NONE",
          "locked": true,
          "comments": 15,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24814",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/24814",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/24814.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/24814.patch"
          },
          "closed_at": "2022-07-29T14:05:19Z",
          "created_at": "2022-04-09T13:48:54Z",
          "updated_at": "2023-07-29T10:17:19Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-23T19:30:17Z",
      "updated_at": "2022-07-23T19:30:17Z",
      "source": {
        "issue": {
          "id": 1171006691,
          "node_id": "PR_kwDOABII5840iDo1",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24584",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24584/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24584/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24584/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/24584",
          "number": 24584,
          "state": "closed",
          "state_reason": null,
          "title": "wallet: avoid mixing different `OutputTypes` during coin selection",
          "body": "# Concept\r\n\r\nFollowing https://github.com/bitcoin/bitcoin/pull/23789, Bitcoin Core wallet will now generate a change address that matches the payment address type. This improves privacy by not revealing which of the outputs is the change at the time of the transaction in scenarios where the input address types differ from the payment address type. However, information about the change can be leaked in a later transaction. This proposal attempts to address that concern.\r\n\r\n## Leaking information in a later transaction\r\n\r\nConsider the following scenario:\r\n\r\n![mix input types(1)](https://user-images.githubusercontent.com/7444140/158597086-788339b0-c698-4b60-bd45-9ede4cd3a483.png)\r\n\r\n1. Alice has a wallet with bech32 type UTXOs and pays Bob, who gives her a P2SH address\r\n2. Alice's wallet generates a P2SH change output, preserving her privacy in `txid: a`\r\n3. Alice then pays Carol, who gives her a bech32 address\r\n4. Alice's wallet combines the P2SH UTXO with a bech32 UTXO and `txid: b` has two bech32 outputs\r\n\r\nFrom a chain analysis perspective, it is reasonable to infer that the P2SH input in `txid: b` was the change from `txid: a`. To avoid leaking information in this scenario, Alice's wallet should avoid picking the P2SH output and instead fund the transaction with only bech32 Outputs. If the payment to Carol can be funded with just the P2SH output, it should be preferred over the bech32 outputs as this will convert the P2SH UTXO to bech32 UTXOs via the payment and change outputs of the new transaction.\r\n\r\n**TLDR;** Avoid mixing output types, spend non-default `OutputTypes` when it is economical to do so.\r\n\r\n# Approach\r\n\r\n`AvailableCoins` now populates a struct, which makes it easier to access coins by `OutputType`. Coin selection tries to find a funding solution by each output type and chooses the most economical by waste metric. If a solution can't be found without mixing, coin selection runs over the entire wallet, allowing mixing, which is the same as the current behavior.\r\n\r\nI've also added a functional test (`test/functional/wallet_avoid_mixing_output_types.py`) and unit test (`src/wallet/test/availablecoins_tests.cpp`.",
          "user": {
            "login": "josibake",
            "id": 7444140,
            "node_id": "MDQ6VXNlcjc0NDQxNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/josibake",
            "html_url": "https://github.com/josibake",
            "followers_url": "https://api.github.com/users/josibake/followers",
            "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
            "organizations_url": "https://api.github.com/users/josibake/orgs",
            "repos_url": "https://api.github.com/users/josibake/repos",
            "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/josibake/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 42,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24584",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/24584",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/24584.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/24584.patch"
          },
          "closed_at": "2022-07-28T22:17:13Z",
          "created_at": "2022-03-16T13:13:49Z",
          "updated_at": "2024-01-26T10:51:15Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-28T13:21:41Z",
      "updated_at": "2022-07-28T13:21:41Z",
      "source": {
        "issue": {
          "id": 1203525439,
          "node_id": "PR_kwDOABII5842MDDS",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24845",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24845/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24845/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24845/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/24845",
          "number": 24845,
          "state": "closed",
          "state_reason": null,
          "title": "wallet: return error msg for  \"too-long-mempool-chain\"",
          "body": "Fixes #23144.\r\n\r\nWe currently return a general \"Insufficient funds\" from Coin\r\nSelection when we actually skipped unconfirmed UTXOs that\r\nsurpassed the mempool ancestors limit.\r\n\r\nThis PR make the error clearer by returning:\r\n\"Unconfirmed UTXOs are available, but spending them creates\r\na chain of transactions that will be rejected by the mempool\"\r\n\r\nAlso, added an early return from Coin Selection if the sum of\r\nthe discarded coins decreases the available balance below the\r\ntarget amount.",
          "user": {
            "login": "furszy",
            "id": 5377650,
            "node_id": "MDQ6VXNlcjUzNzc2NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/furszy",
            "html_url": "https://github.com/furszy",
            "followers_url": "https://api.github.com/users/furszy/followers",
            "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
            "organizations_url": "https://api.github.com/users/furszy/orgs",
            "repos_url": "https://api.github.com/users/furszy/repos",
            "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/furszy/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignee": {
            "login": "glozow",
            "id": 25183001,
            "node_id": "MDQ6VXNlcjI1MTgzMDAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/glozow",
            "html_url": "https://github.com/glozow",
            "followers_url": "https://api.github.com/users/glozow/followers",
            "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
            "organizations_url": "https://api.github.com/users/glozow/orgs",
            "repos_url": "https://api.github.com/users/glozow/repos",
            "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/glozow/received_events",
            "type": "User",
            "site_admin": false
          },
          "assignees": [
            {
              "login": "glozow",
              "id": 25183001,
              "node_id": "MDQ6VXNlcjI1MTgzMDAx",
              "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/glozow",
              "html_url": "https://github.com/glozow",
              "followers_url": "https://api.github.com/users/glozow/followers",
              "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
              "organizations_url": "https://api.github.com/users/glozow/orgs",
              "repos_url": "https://api.github.com/users/glozow/repos",
              "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/glozow/received_events",
              "type": "User",
              "site_admin": false
            }
          ],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 14,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24845",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/24845",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/24845.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/24845.patch"
          },
          "closed_at": "2023-03-23T15:54:35Z",
          "created_at": "2022-04-13T16:25:15Z",
          "updated_at": "2024-05-26T12:53:11Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-28T15:56:25Z",
      "updated_at": "2022-07-28T15:56:25Z",
      "source": {
        "issue": {
          "id": 1320863837,
          "node_id": "PR_kwDOABII5848PxGI",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25729",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25729/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25729/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25729/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25729",
          "number": 25729,
          "state": "closed",
          "state_reason": null,
          "title": "wallet: Check max transaction weight in CoinSelection",
          "body": "This PR is an attempt to fix #5782.\r\n\r\nI have added 4 test scenarios, 3 of them provided here https://github.com/bitcoin/bitcoin/issues/5782#issuecomment-73819058 (slightly modified to use a segwit wallet).\r\n\r\nHere are my benchmarks : \r\n## PR\r\n|               ns/op |                op/s |    err% |          ins/op |          cyc/op |    IPC |         bra/op |   miss% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------------:|----------------:|-------:|---------------:|--------:|----------:|:----------\r\n|        1,466,341.00 |              681.97 |    0.6% |   11,176,762.00 |    3,358,752.00 |  3.328 |   1,897,839.00 |    0.3% |      0.02 | `CoinSelection`\r\n\r\n## Master\r\n\r\n|               ns/op |                op/s |    err% |          ins/op |          cyc/op |    IPC |         bra/op |   miss% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------------:|----------------:|-------:|---------------:|--------:|----------:|:----------\r\n|        1,526,029.00 |              655.30 |    0.5% |   11,142,188.00 |    3,499,200.00 |  3.184 |   1,994,156.00 |    0.2% |      0.02 | `CoinSelection`",
          "user": {
            "login": "aureleoules",
            "id": 22493292,
            "node_id": "MDQ6VXNlcjIyNDkzMjky",
            "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/aureleoules",
            "html_url": "https://github.com/aureleoules",
            "followers_url": "https://api.github.com/users/aureleoules/followers",
            "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
            "organizations_url": "https://api.github.com/users/aureleoules/orgs",
            "repos_url": "https://api.github.com/users/aureleoules/repos",
            "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/aureleoules/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 28,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25729",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25729",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25729.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25729.patch"
          },
          "closed_at": "2022-12-06T17:09:51Z",
          "created_at": "2022-07-28T12:33:06Z",
          "updated_at": "2024-01-12T12:24:53Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "labeled",
      "id": 7085525383,
      "node_id": "LE_lADOABII585Oa1bCzwAAAAGmVImH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7085525383",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-28T23:00:27Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7089373374,
      "node_id": "HRFPE_lADOABII585Oa1bCzwAAAAGmj0C-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7089373374",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-29T13:11:36Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7089410256,
      "node_id": "HRFPE_lADOABII585Oa1bCzwAAAAGmj9DQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7089410256",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-29T13:17:15Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7089442303,
      "node_id": "HRFPE_lADOABII585Oa1bCzwAAAAGmkE3_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7089442303",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-29T13:22:08Z"
    },
    {
      "event": "unlabeled",
      "id": 7089562294,
      "node_id": "UNLE_lADOABII585Oa1bCzwAAAAGmkiK2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7089562294",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-29T13:39:17Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7089627495,
      "node_id": "HRFPE_lADOABII585Oa1bCzwAAAAGmkyFn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7089627495",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-29T13:48:31Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7089829174,
      "node_id": "HRFPE_lADOABII585Oa1bCzwAAAAGmljU2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7089829174",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-29T14:16:25Z"
    },
    {
      "event": "commented",
      "id": 1199775546,
      "node_id": "IC_kwDOABII585Hgx86",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1199775546",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-29T17:19:56Z",
      "updated_at": "2022-07-29T17:19:56Z",
      "author_association": "MEMBER",
      "body": "rebased, conflicts solved.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#issuecomment-1199775546",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25685"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-29T21:59:09Z",
      "updated_at": "2022-07-29T21:59:09Z",
      "source": {
        "issue": {
          "id": 1322119635,
          "node_id": "PR_kwDOABII5848T94k",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25734",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25734/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25734/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25734/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25734",
          "number": 25734,
          "state": "closed",
          "state_reason": null,
          "title": "wallet, refactor: #24584 follow-ups",
          "body": "This PR is to address follow-ups for #24584, specifically:\r\n\r\n* Remove redundant, hard-to-read code by adding a new `OutputType` and adding shuffle, erase, and push_back methods for `CoinsResult`\r\n* Add missing `BOOST_ASSERT` to unit test\r\n* Ensure functional test only runs if using descriptor wallets\r\n* Improve readability of `AttemptSelection` by removing triple-nested if statement\r\n\r\nNote for reviewers: commit `refactor: add new helper methods` should throw an \"unused function warning\"; the function is used in the next commit. Also, commit `wallet: switch to new shuffle, erase, push_back` will fail to compile, but this is fixed in the next commit with a scripted-diff. the commits are separate like this (code change then scripted-diff) to improve legibility.\r\n",
          "user": {
            "login": "josibake",
            "id": 7444140,
            "node_id": "MDQ6VXNlcjc0NDQxNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/josibake",
            "html_url": "https://github.com/josibake",
            "followers_url": "https://api.github.com/users/josibake/followers",
            "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
            "organizations_url": "https://api.github.com/users/josibake/orgs",
            "repos_url": "https://api.github.com/users/josibake/repos",
            "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/josibake/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 11,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25734",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25734",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25734.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25734.patch"
          },
          "closed_at": "2022-08-17T00:00:45Z",
          "created_at": "2022-07-29T11:16:21Z",
          "updated_at": "2024-01-26T10:50:34Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1201751800,
      "node_id": "IC_kwDOABII585HoUb4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1201751800",
      "actor": {
        "login": "ishaanam",
        "id": 75942586,
        "node_id": "MDQ6VXNlcjc1OTQyNTg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/75942586?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ishaanam",
        "html_url": "https://github.com/ishaanam",
        "followers_url": "https://api.github.com/users/ishaanam/followers",
        "following_url": "https://api.github.com/users/ishaanam/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ishaanam/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ishaanam/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ishaanam/subscriptions",
        "organizations_url": "https://api.github.com/users/ishaanam/orgs",
        "repos_url": "https://api.github.com/users/ishaanam/repos",
        "events_url": "https://api.github.com/users/ishaanam/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ishaanam/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-01T21:41:03Z",
      "updated_at": "2022-08-01T21:41:03Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK, this seems like a good improvement.",
      "user": {
        "login": "ishaanam",
        "id": 75942586,
        "node_id": "MDQ6VXNlcjc1OTQyNTg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/75942586?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ishaanam",
        "html_url": "https://github.com/ishaanam",
        "followers_url": "https://api.github.com/users/ishaanam/followers",
        "following_url": "https://api.github.com/users/ishaanam/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ishaanam/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ishaanam/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ishaanam/subscriptions",
        "organizations_url": "https://api.github.com/users/ishaanam/orgs",
        "repos_url": "https://api.github.com/users/ishaanam/repos",
        "events_url": "https://api.github.com/users/ishaanam/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ishaanam/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#issuecomment-1201751800",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25685"
    },
    {
      "event": "commented",
      "id": 1203150120,
      "node_id": "IC_kwDOABII585Htp0o",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1203150120",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-02T19:51:08Z",
      "updated_at": "2022-08-02T19:51:08Z",
      "author_association": "MEMBER",
      "body": "It's not clear to me that this provides any significant benefit over a much simpler change of just excluding pre-selected inputs from AvailableCoins. The only other improvement this provides is better error reporting, but I think it would be better to just go through SelectCoins and improve its error reporting instead of pulling things out so that errors are reported elsewhere.",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#issuecomment-1203150120",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25685"
    },
    {
      "event": "commented",
      "id": 1203267086,
      "node_id": "IC_kwDOABII585HuGYO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1203267086",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-02T22:16:06Z",
      "updated_at": "2022-08-02T23:27:53Z",
      "author_association": "MEMBER",
      "body": "> It's not clear to me that this provides any significant benefit over a much simpler change of just excluding pre-selected inputs from AvailableCoins. The only other improvement this provides is better error reporting, but I think it would be better to just go through SelectCoins and improve its error reporting instead of pulling things out so that errors are reported elsewhere.\r\n\r\nThere are several benefits, (aside from what I wrote in the PR description):\r\n\r\n#### Sources Architecture:\r\n\r\n - Do make sense for you to be fetching, and verifying, coins in a function whose main responsibility is perform the Coin Selection process?\r\n \r\n    The Coin Selection should receive coins, and certain user/wallet parameters, so it can produce all the possible solutions for a certain target amount, picking and returning the best of them.\r\n\r\n\tJust imagine how this would looks like if Coin Selection would be a separated library (which, for its increasing specialization, could easily be one in the future). You would never include the pre-selected-inputs fetching and verification process into the Coin Selection responsibilities at all because cannot/shouldn't do it there.\r\n\r\n#### Tangible Improvements:\r\n\r\n1.  As we will do the pre-selected-inputs fetching and verification prior to calling `AvailableCoins`, if there is an error when the wallet fetches any of the preset-inputs, the transaction creation process can fail right away without calling `AvailableCoins` (Function that, as we know, walks-through the entire wallet's transactions map and performs all the internal available coins checks).\r\n \r\n     This prevents us from wasting resources that we are currently wasting for, literally, no reason.\r\n\r\n\tIn master, we are first looping-through the entire wallet's map inside  `AvailableCoins`, which is a resource intensive task if you have a big wallet, just to fail right after it finishes, discarding the coins result, because one of the pre-set inputs has an error.\r\n\r\n3.  If the user disallowed the \"other inputs selection\" by setting `m_allow_other_inputs=false` (which means: â€œno coins from the AvailableCoins result function will be used during Coin Selectionâ€):â€¨\r\n\r\n\tIn master: we loop-through the entire wallet's map inside `AvailableCoins` first, then we discard the computed result (because we will not use it..), then we fetch and use the pre-selected-inputs only.\r\n\tWhich is time and processing power wasted for no reason.\r\n\r\n\tIn this PR: we simply select the preset inputs, skip `AvailableCoins` if `m_allow_other_inputs=false` and provides them to `SelectCoins`.\r\n\r\n-------------------\r\n\r\n> but I think it would be better to just go through SelectCoins and improve its error reporting instead of pulling things out so that errors are reported elsewhere.\r\n\r\nWe are currently failing inside the Coin Selection process due:\r\n* â€œInvalid pre-selected inputâ€\r\n* â€œNot found pre-selected inputâ€\r\n* â€œNot solvable pre-selected inputâ€\r\n\r\nThese errors have nothing to do with the Coin Selection process. Why keep them there?\r\n\r\nIt's not that I located these errors on a random place. I placed them inside a \"Fetch Coins\" procedure whose main responsibility is fetch the coins that the user pre-selected and fetch the available coins in the wallet. Which seems totally reasonable for me.\r\n\r\nI mean, this errors have been obscured inside Coin Selection all this time, not being properly notified, because they should had never been placed there in the first place. It's all about a proper responsibility division to make the process clearer and cleaner so it's less error-prone (and in this case, in some occasions, actually faster and less resource consuming).",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#issuecomment-1203267086",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25685"
    },
    {
      "event": "commented",
      "id": 1204322868,
      "node_id": "IC_kwDOABII585HyII0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1204322868",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-03T18:23:29Z",
      "updated_at": "2022-08-04T17:39:40Z",
      "author_association": "MEMBER",
      "body": "To make the speed improvements more visible, pushed a new benchmark f6d0bb2d.\r\n\r\nBasically, the new bench measures the transaction creation process, for a wallet with ~250k UTXO, only using the pre-selected-inputs inside coin control. Setting `m_allow_other_inputs=false` to disallow the wallet to include coins automatically.\r\n\r\n#### This is the result on this PR (tip f6d0bb2d):\r\n\r\n|               ns/op |                op/s |    err% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------:|:----------\r\n|        1,048,675.00 |              953.58 |    0.3% |      0.06 | `WalletCreateTransaction`\r\n\r\nvs\r\n\r\n#### This is the result on current master (tip 4a4289e2):\r\n\r\n|               ns/op |                op/s |    err% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------:|:----------\r\n|       96,373,458.20 |               10.38 |    0.2% |      5.30 | `WalletCreateTransaction`\r\n\r\n#### Summary\r\n\r\nThe benchmark took to run in master: **96.37 milliseconds**, while in this PR: **1 millisecond**  ðŸš€ .\r\n\r\n-------------\r\n\r\nUpdated PR description with the benchmark results.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#issuecomment-1204322868",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25685"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7121392844,
      "node_id": "HRFPE_lADOABII585Oa1bCzwAAAAGod9TM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7121392844",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-03T18:28:48Z"
    },
    {
      "event": "reviewed",
      "id": 1061090900,
      "node_id": "PRR_kwDOABII584_PvZU",
      "url": null,
      "actor": null,
      "commit_id": "f6d0bb2dbf3945bdb2896492824fccdb12136e3b",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#pullrequestreview-1061090900",
      "submitted_at": "2022-08-03T22:59:31Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-04T09:43:36Z",
      "updated_at": "2022-08-04T09:43:36Z",
      "source": {
        "issue": {
          "id": 1320033247,
          "node_id": "PR_kwDOABII5848NBqe",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25721",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25721/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25721/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25721/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25721",
          "number": 25721,
          "state": "closed",
          "state_reason": null,
          "title": "refactor: Replace BResult with util::Result",
          "body": "Rename `BResult` class to `util::Result` and update the class interface to be more compatible with `std::optional` and with a full-featured result class implemented in https://github.com/bitcoin/bitcoin/pull/25665. Motivation for this change is to update existing `BResult` usages now so they don't have to change later when more features are added in https://github.com/bitcoin/bitcoin/pull/25665.\r\n\r\nThis change makes the following improvements originally implemented in https://github.com/bitcoin/bitcoin/pull/25665:\r\n\r\n- More explicit API. Drops potentially misleading `BResult` constructor that treats any bilingual string argument as an error. Adds `util::Error` constructor so it is never ambiguous when a result is being assigned an error or non-error value.\r\n\r\n- Better type compatibility. Supports `util::Result<bilingual_str>` return values to hold translated messages which are not errors.\r\n\r\n- More standard and consistent API. `util::Result` supports most of the same operators and methods as `std::optional`. `BResult` had a less familiar interface with `HasRes`/`GetObj`/`ReleaseObj` methods. The Result/Res/Obj naming was also not internally consistent.\r\n\r\n- Better code organization. Puts `src/util/` code in the `util::` namespace so naming reflects code organization and it is obvious where the class is coming from. Drops \"B\" from name because it is undocumented what it stands for (bilingual?)\r\n\r\n- Has unit tests.\r\n",
          "user": {
            "login": "ryanofsky",
            "id": 7133040,
            "node_id": "MDQ6VXNlcjcxMzMwNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanofsky",
            "html_url": "https://github.com/ryanofsky",
            "followers_url": "https://api.github.com/users/ryanofsky/followers",
            "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
            "repos_url": "https://api.github.com/users/ryanofsky/repos",
            "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/54",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/54",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/54/labels",
            "id": 7150037,
            "node_id": "MI_kwDOABII584AbRnV",
            "number": 54,
            "state": "closed",
            "title": "24.0",
            "description": "",
            "creator": {
              "login": "laanwj",
              "id": 126646,
              "node_id": "MDQ6VXNlcjEyNjY0Ng==",
              "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/laanwj",
              "html_url": "https://github.com/laanwj",
              "followers_url": "https://api.github.com/users/laanwj/followers",
              "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
              "organizations_url": "https://api.github.com/users/laanwj/orgs",
              "repos_url": "https://api.github.com/users/laanwj/repos",
              "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/laanwj/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 159,
            "created_at": "2021-09-14T08:27:02Z",
            "updated_at": "2022-11-29T15:44:44Z",
            "closed_at": "2022-11-29T15:44:44Z"
          },
          "locked": true,
          "comments": 7,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25721",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25721",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25721.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25721.patch"
          },
          "closed_at": "2022-08-05T13:36:19Z",
          "created_at": "2022-07-27T19:26:41Z",
          "updated_at": "2023-08-09T10:19:06Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "labeled",
      "id": 7136131067,
      "node_id": "LE_lADOABII585Oa1bCzwAAAAGpWLf7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7136131067",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-05T13:55:23Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7140881289,
      "node_id": "HRFPE_lADOABII585Oa1bCzwAAAAGpoTOJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7140881289",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-06T12:01:20Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7140914572,
      "node_id": "HRFPE_lADOABII585Oa1bCzwAAAAGpobWM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7140914572",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-06T12:35:19Z"
    },
    {
      "event": "unlabeled",
      "id": 7140939469,
      "node_id": "UNLE_lADOABII585Oa1bCzwAAAAGpohbN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7140939469",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-06T13:00:47Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1207215318,
      "node_id": "IC_kwDOABII585H9KTW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1207215318",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-06T13:29:25Z",
      "updated_at": "2022-08-09T20:04:13Z",
      "author_association": "MEMBER",
      "body": "Took me a bit but, while was tackling the feedback, ended up re-organizing the commits changes better. The rationale for each modification should be clearer now.\r\n\r\nWhat did was:\r\n\r\n1) Eliminate the pre-set inputs second iteration inside `SelectCoins` by adding an `AddInputs(std::vector<COutput>&)` method to `SelectionResult` (so we don't need to iterate over the inputs just to insert them inside an ephemeral `OutputGroup` whom is simply not used --> `SelectionResult::AddInput(OutputGroup&)` takes directly the `m_outputs` internal field..).\r\n\r\n2) Remove the `FetchCoins` wrapper function and the `CoinsFund` struct:\r\n    Moved the internals to `CreateTransactionInternal`, who will first call `FetchSelectedInputs` then call `AvailableCoins`.\r\n\r\n3)  Decouple the SelectCoins into two functions:\r\n\r\n    * `AutomaticCoinSelection`:\r\nWhich is basically the previously called SelectCoins without the manually selected inputs stuff.\r\nSo, it will purely receive a set of coins and be in charge of selecting the best subset of them to\r\ncover the target amount.\r\n\r\n    * `SelectCoins`:\r\nIn charge of selecting all the user manually selected coins first (\"pre-set inputs\"), and\r\nif coin_control 'm_allow_other_inputs=true', call 'AutomaticCoinSelection' to select a\r\nset of coins such that the target - pre_set_inputs.total_amount is met. Then merge\r\nboth results.\r\n\r\n4) Have set `CoinControl::m_allow_other_inputs` default value to `true` to correct\r\na misleading behavior (convo started [here](https://github.com/bitcoin/bitcoin/pull/25685#discussion_r938977841)):\r\n    - As several flows in the wallet such as `sendtoaddress`, `sendmany`\r\nand even the GUI don't change the `m_allow_other_inputs` param,\r\nand the default value for it has been `false`. The process was having \r\na workaround patch to automatically fall back to select coins from the\r\nwallet if `m_allow_other_inputs=false` and no manual inputs were selected.\r\n",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#issuecomment-1207215318",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25685"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7140976853,
      "node_id": "HRFPE_lADOABII585Oa1bCzwAAAAGpoqjV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7140976853",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-06T13:39:31Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-08T21:19:07Z",
      "updated_at": "2022-08-08T21:19:07Z",
      "source": {
        "issue": {
          "id": 1332409874,
          "node_id": "PR_kwDOABII584817t0",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25806",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25806/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25806/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25806/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25806",
          "number": 25806,
          "state": "closed",
          "state_reason": null,
          "title": "wallet: group outputs only once, decouple it from Coin Selection",
          "body": "The idea originates from https://github.com/bitcoin/bitcoin/pull/24845#issuecomment-1130310321.\r\n\r\nNote:\r\nFor clarity, it's recommended to start reviewing from the end result to understand the structure of the flow.\r\n\r\n#### GroupOutputs function rationale:\r\nIf \"Avoid Partial Spends\" is enabled, the function gathers outputs with the same script together inside a container. So Coin Selection can treats them as if them were just one possible input and either select them all or not select them. \r\n\r\n#### How the Inputs Fetch + Selection process roughly works:\r\n\r\n```\r\n1. Fetch userâ€™s manually selected inputs.\r\n2. Fetch wallet available coins (walks through the entire wallet txes map) and insert them into a set of vectors (each vector store outputs from a single type).\r\n3. Coin Selection Process:\r\n   Call `AttemptSelection` 8 times. Each of them expands the coin eligibility filter (accepting a larger subset of coins in the calculation) until it founds a solutions or completely fails if no solutions gets founds after the 8 rounds.\r\n\r\n   Each `AttemptSelection` call performs the following actions:\r\n     - For each output type supported by the wallet (P2SH, P2PK, P2WPKH, P2WSH and a combination of all of them):\r\n       Call â€˜ChooseSelectionResultâ€™ providing the respective, filtered by type, coins vector. Which:\r\n           I. Groups the outputs vector twice (one for positive only and a second one who includes the negative ones as well).\r\n              - GroupOutputs walks-through the entire inputted coins vector one time at least, + more if we are avoiding partial spends, to generate a vector of OutputGroups.\r\n           II. Then performs every coin selection algorithm using the recently created vector of OutputGroup: (1) BnB, (2) knapsack and (3) SRD.\r\n           III. Then returns the best solution out of them.\r\n```\r\n\r\nWe perform the general operation of gathering outputs, with the same script, into a single container inside:\r\nEach coins selection attempt (8 times â€”> each coin eligibility filter), for each of the outputs vector who were filtered by type (plus another one joining all the outputs as well if needed), twice (one for the positive only outputs effective value and a second one for all of them).\r\n\r\nSo, in the worst case scenario where no solution is found after the 8 Coin Selection attempts, the `GroupOutputs` function is called 80 times (8 * 5 * 2).\r\n\r\n#### Improvements:\r\n\r\nThis proposal streamlines the process so that the output groups, filtered by coin eligibility and type, are created in a single loop outside of the Coin Selection Process. \r\n\r\nThe new process is as follows:\r\n\r\n```\r\n1. Fetch userâ€™s manually selected inputs.\r\n2. Fetch wallet available coins.\r\n3. Group outputs by each coin eligibility filter and each different output type found.\r\n4. Coin Selection Process: \r\n   Call AttemptSelection 8 times. Each of them expands the coin eligibility filter (accepting different output groups) until it founds a solutions or completely fails if no solutions gets founds after the 8 rounds.\r\n   \r\n   Each â€˜AttemptSelectionâ€™ call performs the following actions:\r\n      - For each output type supported by the wallet (P2SH, P2PK, P2WPKH, P2WSH and all of them):\r\n          A. Call â€˜ChooseSelectionResultâ€™ providing the respective, filtered by type, output group. Which:\r\n             I. Performs every coin selection algorithm using the provided vector of OutputGroup: (1) BnB, (2) knapsack and (3) SRD.\r\n             II. Then returns the best solution out of them.\r\n```\r\n\r\nExtra Note:\r\nThe next steps after this PR will be to:\r\n1) Merge `AvailableCoins` and `GroupOutputs` processes.\r\n2) Skip entire coin selection rounds if no new coins are added into the subsequent round.\r\n3) Remove global feerates from the OutputGroup class.\r\n4) Remove secondary \"grouped\" tx creation from `CreateTransactionInternal` by running Coin Selection results over the aps grouped outputs vs non-aps ones.",
          "user": {
            "login": "furszy",
            "id": 5377650,
            "node_id": "MDQ6VXNlcjUzNzc2NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/furszy",
            "html_url": "https://github.com/furszy",
            "followers_url": "https://api.github.com/users/furszy/followers",
            "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
            "organizations_url": "https://api.github.com/users/furszy/orgs",
            "repos_url": "https://api.github.com/users/furszy/repos",
            "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/furszy/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 13,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25806",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25806",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25806.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25806.patch"
          },
          "closed_at": "2023-03-06T23:52:42Z",
          "created_at": "2022-08-08T21:19:07Z",
          "updated_at": "2024-05-26T12:53:03Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-09T13:49:44Z",
      "updated_at": "2022-08-09T13:49:44Z",
      "source": {
        "issue": {
          "id": 1310606684,
          "node_id": "PR_kwDOABII5847tYCg",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25647",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25647/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25647/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25647/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25647",
          "number": 25647,
          "state": "closed",
          "state_reason": null,
          "title": "wallet: return change from SelectionResult",
          "body": "Benefits:\r\n1. more accurate waste calculation for knapsack. Waste calculation is now consistent with tx building code. Before we always assumed change for knapsack even when the solution is changeless4. \r\n2. simpler tx building code. Only create change output when it's needed\r\n3. makes it easier to correctly account for fees for CPFP inputs (should be done in a follow up) \r\n\r\nIn the first three commits we fix the code to accurately track selection target in `SelectionResult::m_target`\r\nThen we introduce new variable `min_change` that represents the minimum viable change amount\r\nThen we introduce `SelectionResult::GetChange()` which incapsulates dropping change for fee logic and uses correct values of `SelectionResult::m_target`\r\nThen we use `SelectionResult::GetChange()` in both tx building and waste calculation code\r\n\r\nThis PR is a refactoring and shouldn't change the behaviour.\r\nThere is only one known small change (arguably a bug fix). Before we dropped change output if it's smaller than `cost_of_change` after paying change fees. This is incorrect as `cost_of_change` already includes `change_fee`. ",
          "user": {
            "login": "S3RK",
            "id": 1466284,
            "node_id": "MDQ6VXNlcjE0NjYyODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/S3RK",
            "html_url": "https://github.com/S3RK",
            "followers_url": "https://api.github.com/users/S3RK/followers",
            "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
            "organizations_url": "https://api.github.com/users/S3RK/orgs",
            "repos_url": "https://api.github.com/users/S3RK/repos",
            "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/S3RK/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "comments": 7,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25647",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25647",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25647.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25647.patch"
          },
          "closed_at": "2022-08-22T16:43:27Z",
          "created_at": "2022-07-20T07:54:57Z",
          "updated_at": "2023-08-22T10:21:17Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1067271776,
      "node_id": "PRR_kwDOABII584_nUZg",
      "url": null,
      "actor": null,
      "commit_id": "eec31a164bbe7b05c160edd912cff8bf2e0adbb2",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#pullrequestreview-1067271776",
      "submitted_at": "2022-08-09T19:58:46Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7159348123,
      "node_id": "HRFPE_lADOABII585Oa1bCzwAAAAGquvub",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7159348123",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-09T23:01:43Z"
    },
    {
      "event": "commented",
      "id": 1209975969,
      "node_id": "IC_kwDOABII585IHsSh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1209975969",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-09T23:02:04Z",
      "updated_at": "2022-08-09T23:02:04Z",
      "author_association": "MEMBER",
      "body": "thanks achow101, feedback tackled.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#issuecomment-1209975969",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25685"
    },
    {
      "event": "reviewed",
      "id": 1069636850,
      "node_id": "PRR_kwDOABII584_wVzy",
      "url": null,
      "actor": null,
      "commit_id": "c8f3be406deeda72212f764d0156b47b26dbd1b3",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK\r\n\r\nI really like that this simplifies `SelectCoins` to \"give me coins I am allowed to spend and I will select a subset to fund this transaction.\" Also, +1 for the fail-fast if we are trying to use pre-selected coins and encounter an error. Thanks for taking the time to benchmark this, too. Makes a compelling case for the performance benefits.\r\n\r\nWill do a more thorough code review tomorrow but left some initial feedback ",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#pullrequestreview-1069636850",
      "submitted_at": "2022-08-11T12:39:25Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
    },
    {
      "event": "commented",
      "id": 1211939325,
      "node_id": "IC_kwDOABII585IPLn9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1211939325",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-11T12:44:21Z",
      "updated_at": "2022-08-11T12:44:21Z",
      "author_association": "MEMBER",
      "body": "Regarding the bench, it would be nice to have a benchmark for when a user has a few pre-selected inputs and _also_ uses automatic coin selection. My hunch is that that is the more representative scenario ",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#issuecomment-1211939325",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25685"
    },
    {
      "event": "reviewed",
      "id": 1069629761,
      "node_id": "PRR_kwDOABII584_wUFB",
      "url": null,
      "actor": null,
      "commit_id": "c8f3be406deeda72212f764d0156b47b26dbd1b3",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Thanks for the all documentation you've provided about this PR @furszy, it made the review easier to understand.\r\n\r\n4cb629f3df8d3d6ea6ba0d1560b5cc3caf4ee01a:\r\nI verified that `AvailableCoins` returned an empty `CoinsResult` if `m_allow_other_inputs` is false, so no need to loop through coins.\r\n\r\n65d8ba52e828a3c44b962db2f1f8e230b09aab88:\r\nIn my understanding, this commit allows `AvailableCoins` to retrieve only coins that are not already pre-selected by the user, which makes the two sets of coins disjoints. Thus there is no need to remove pre-selected coins from `available_coins` anymore.\r\n\r\nAs a side note, I think it would be great to add comments to the functions below to explain that these are user pre-selected coins.\r\nhttps://github.com/bitcoin/bitcoin/blob/243d7bde7859777ebe9442477da1b77419bd3f32/src/wallet/coincontrol.h#L66-L74\r\nSame here \r\nhttps://github.com/bitcoin/bitcoin/blob/243d7bde7859777ebe9442477da1b77419bd3f32/src/wallet/coincontrol.h#L135\r\n\r\na53748e3323a33829134cb575830933ac1893323:\r\nI verified `FetchSelectedInputs` is only a wrapping of the pre-selected-inputs lookup from `AvailableCoins` with a better error handler.\r\n\r\ne94e9ce68dc2fdb06a2da17020e067baede72d1e:\r\nI believe this commit makes the Coin Selection flow much easier to read and also avoids iterating over the wallet's tx map, which increases performance.\r\n\r\nnits in commit description:\r\n\"we can fail right away without ~~compute~~ computing the wallet...\"\r\n\"In charge of ~~select~~ selecting all the user manually selected coins...\"\r\n\r\n3e5bfcc75db1f2abf875fbcd1ed68f8166683ea4:\r\nVerified that if there are sufficient funds with the manually selected coins, there is no need to call the automatic coin selection.\r\n\r\nI ran the benchmark both on master and this PR and got similar results as the PR description!\r\nI would agree with @josibake regarding having a benchmark for \"when a user has a few pre-selected inputs and also uses automatic coin selection\" though.",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#pullrequestreview-1069629761",
      "submitted_at": "2022-08-11T16:17:14Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7175562660,
      "node_id": "HRFPE_lADOABII585Oa1bCzwAAAAGrsmWk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7175562660",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-11T23:34:47Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7175572820,
      "node_id": "HRFPE_lADOABII585Oa1bCzwAAAAGrso1U",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7175572820",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-11T23:38:15Z"
    },
    {
      "event": "commented",
      "id": 1212607967,
      "node_id": "IC_kwDOABII585IRu3f",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1212607967",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-12T00:10:17Z",
      "updated_at": "2022-08-12T00:10:17Z",
      "author_association": "MEMBER",
      "body": "Thanks for the review guys :smile:.\r\n\r\n> Regarding the bench, it would be nice to have a benchmark for when a user has a few pre-selected inputs and also uses automatic coin selection. My hunch is that that is the more representative scenario\r\n\r\nYou know @josibake, I didn't add it here mainly because this PR improves a particular scenario; when the user pre-selected inputs and disallowed the wallet automatic coin selection.\r\nThis PR doesn't improve, at least not directly, the preset inputs + automatic coin selection scenario.\r\n\r\nBut sure, will add another bench case for it :). Was planning to push it on a follow-up work to measure other changes but can sneak it here as well.\r\n\r\n> As a side note, I think it would be great to add comments to the functions below to explain that these are user pre-selected coins.\r\n\r\nAgree @aureleoules, shouldn't be called `setSelected` and have some comments there. But would say to tackle it in a separate PR so the entire `CCoinControl` class receives some love.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#issuecomment-1212607967",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25685"
    },
    {
      "event": "mentioned",
      "id": 7175662995,
      "node_id": "MEE_lADOABII585Oa1bCzwAAAAGrs-2T",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7175662995",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-12T00:10:17Z"
    },
    {
      "event": "subscribed",
      "id": 7175663003,
      "node_id": "SE_lADOABII585Oa1bCzwAAAAGrs-2b",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7175663003",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-12T00:10:17Z"
    },
    {
      "event": "mentioned",
      "id": 7175663010,
      "node_id": "MEE_lADOABII585Oa1bCzwAAAAGrs-2i",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7175663010",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-12T00:10:17Z"
    },
    {
      "event": "subscribed",
      "id": 7175663013,
      "node_id": "SE_lADOABII585Oa1bCzwAAAAGrs-2l",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7175663013",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-12T00:10:17Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7181077826,
      "node_id": "HRFPE_lADOABII585Oa1bCzwAAAAGsBo1C",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7181077826",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-12T18:23:50Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7181141687,
      "node_id": "HRFPE_lADOABII585Oa1bCzwAAAAGsB4a3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7181141687",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-12T18:33:22Z"
    },
    {
      "event": "commented",
      "id": 1213410209,
      "node_id": "IC_kwDOABII585IUyuh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1213410209",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-12T18:40:44Z",
      "updated_at": "2022-08-12T18:40:44Z",
      "author_association": "MEMBER",
      "body": "As requested, added a basic benchmark for the preset inputs + automatic coin selection scenario in 631f766.\r\nIn future PRs, we could continue expanding the bechmarks, adding cases for different parts of the transaction creation process.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#issuecomment-1213410209",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25685"
    },
    {
      "event": "labeled",
      "id": 7201391007,
      "node_id": "LE_lADOABII585Oa1bCzwAAAAGtPIGf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7201391007",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-17T00:44:02Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7206462327,
      "node_id": "HRFPE_lADOABII585Oa1bCzwAAAAGtieN3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7206462327",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-17T14:16:39Z"
    },
    {
      "event": "unlabeled",
      "id": 7207065414,
      "node_id": "UNLE_lADOABII585Oa1bCzwAAAAGtkxdG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7207065414",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-17T15:26:04Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7207436790,
      "node_id": "HRFPE_lADOABII585Oa1bCzwAAAAGtmMH2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7207436790",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-17T16:09:53Z"
    },
    {
      "event": "commented",
      "id": 1218335611,
      "node_id": "IC_kwDOABII585InlN7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1218335611",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-17T18:03:33Z",
      "updated_at": "2022-08-17T18:03:33Z",
      "author_association": "MEMBER",
      "body": "rebased on master, conflict solves. Ready to go",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#issuecomment-1218335611",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25685"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7208744177,
      "node_id": "HRFPE_lADOABII585Oa1bCzwAAAAGtrLTx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7208744177",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-17T19:37:31Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7214848362,
      "node_id": "HRFPE_lADOABII585Oa1bCzwAAAAGuCdlq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7214848362",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-18T14:20:03Z"
    },
    {
      "event": "labeled",
      "id": 7220720853,
      "node_id": "LE_lADOABII585Oa1bCzwAAAAGuY3TV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7220720853",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-19T09:22:50Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7221936282,
      "node_id": "HRFPE_lADOABII585Oa1bCzwAAAAGudgCa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7221936282",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-19T12:42:52Z"
    },
    {
      "event": "commented",
      "id": 1220654165,
      "node_id": "IC_kwDOABII585IwbRV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1220654165",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-19T13:03:54Z",
      "updated_at": "2022-08-19T13:03:54Z",
      "author_association": "MEMBER",
      "body": "rebased, conflicts solved.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#issuecomment-1220654165",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25685"
    },
    {
      "event": "unlabeled",
      "id": 7222299065,
      "node_id": "UNLE_lADOABII585Oa1bCzwAAAAGue4m5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7222299065",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-19T13:34:49Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 7234636458,
      "node_id": "LE_lADOABII585Oa1bCzwAAAAGvN8qq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7234636458",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-22T16:56:19Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7253323289,
      "node_id": "HRFPE_lADOABII585Oa1bCzwAAAAGwVO4Z",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7253323289",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-24T18:25:56Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7253369383,
      "node_id": "HRFPE_lADOABII585Oa1bCzwAAAAGwVaIn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7253369383",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-24T18:32:42Z"
    },
    {
      "event": "commented",
      "id": 1226089360,
      "node_id": "IC_kwDOABII585JFKOQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1226089360",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-24T18:33:51Z",
      "updated_at": "2022-08-24T18:33:51Z",
      "author_association": "MEMBER",
      "body": "rebased, conflicts solved. Wasn't so simple this time.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#issuecomment-1226089360",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25685"
    },
    {
      "event": "unlabeled",
      "id": 7253724341,
      "node_id": "UNLE_lADOABII585Oa1bCzwAAAAGwWwy1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7253724341",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-24T19:29:51Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-26T05:46:20Z",
      "updated_at": "2022-08-26T05:46:20Z",
      "source": {
        "issue": {
          "id": 1348033414,
          "node_id": "PR_kwDOABII5849pYkL",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25909",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25909/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25909/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25909/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25909",
          "number": 25909,
          "state": "closed",
          "state_reason": null,
          "title": "wallet: coverage for receiving txes with same id but different witness data",
          "body": "Based on #11240 context, adding test coverage for the behavior introduced in #11225 and to the current wallet limitations.\r\n\r\nThis is the first step towards adding the ability to store multiple transactions with same tx id but different witness data in the wallet. Verifying and testing the current behavior before introducing the new features.\r\n\r\nThe following cases are covered:\r\n\r\n1) Two p2wpkh spending transactions with the same hash are received:\r\nThe first one with segwit data stripped, and the second one with segwit data.\r\nÂ Â  \r\n   Result ->  the wallet will update the stored tx, saving the witness data.\r\n\r\n2) Two p2wsh multisig spending txes with the same hash but a different witness are received:\r\nThe first is added to the wallet via the mempool acceptance flow.\r\nwhile the second one, is added to the wallet via the block connection flow.\r\n\r\n   Result -> the wallet will NOT update the stored transaction. The first received transaction\r\nwill take precedence over any following-up transaction. Detached to the fact that the\r\noriginal transaction didn't get into a block and the second one did.\r\n\r\nExtra Note:\r\nDid it on an unit test merely because wanted to review other parts of the sources while was doing it. Could migrate it into a functional test if reviewers wants it as well.",
          "user": {
            "login": "furszy",
            "id": 5377650,
            "node_id": "MDQ6VXNlcjUzNzc2NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/furszy",
            "html_url": "https://github.com/furszy",
            "followers_url": "https://api.github.com/users/furszy/followers",
            "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
            "organizations_url": "https://api.github.com/users/furszy/orgs",
            "repos_url": "https://api.github.com/users/furszy/repos",
            "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/furszy/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 7,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25909",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25909",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25909.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25909.patch"
          },
          "closed_at": "2023-09-21T10:42:43Z",
          "created_at": "2022-08-23T14:16:13Z",
          "updated_at": "2023-09-21T10:42:44Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7268435758,
      "node_id": "HRFPE_lADOABII585Oa1bCzwAAAAGxO4cu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7268435758",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-26T15:10:10Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7272077387,
      "node_id": "HRFPE_lADOABII585Oa1bCzwAAAAGxcxhL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7272077387",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-27T13:08:47Z"
    },
    {
      "event": "reviewed",
      "id": 1090786477,
      "node_id": "PRR_kwDOABII585BBBSt",
      "url": null,
      "actor": null,
      "commit_id": "08012f03bf2cc9ec4f8b21d5643f3423acb1b5d8",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK https://github.com/bitcoin/bitcoin/pull/25685/commits/08012f03bf2cc9ec4f8b21d5643f3423acb1b5d8",
      "user": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#pullrequestreview-1090786477",
      "submitted_at": "2022-08-30T18:28:04Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-31T14:01:01Z",
      "updated_at": "2022-08-31T14:01:01Z",
      "source": {
        "issue": {
          "id": 1251643987,
          "node_id": "PR_kwDOABII5844oPhY",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25234",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25234/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25234/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25234/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25234",
          "number": 25234,
          "state": "closed",
          "state_reason": null,
          "title": "bench: add benchmark for wallet 'AvailableCoins' function.",
          "body": "#### Rationale\r\n\r\n`AvailableCoins` is part of several important flows for the wallet; from RPC commands that create transactions like `fundrawtransaction`, `send`, `walletcreatefundedpsbt`, get the available balance, list the available coins with `listunspent` etc. to GUI connected processes that perform the same or similar actions: tx creation, available balance calculation, present the spendable coins in the coin control dialog.\r\n\r\nAs we are improving this process in #24699, #25005 and there are more structural changes coming on the way. This benchmark aims to ensure us that, at least, there are no regressions (obviously performance improvements are great but, at least for me, this heads into the direction of having a base metric to compare future structural changes).\r\n\r\n#### Implementation Notes\r\n\r\nThere are 5 new benchmarks, one per wallet supported output type (LEGACY, P2SH_SEGWIT, BECH32, BECH32M), plus a multi-output-type wallet benchmark which contains outputs from all the descriptor types.\r\n\r\nThe test, by default, fills-up the wallet with 1k transactions, 2k outputs. Mainly to not consume much time if the user just want to verify that no substantial regressions were introduced. But, my expectation for those who are focused on this process is to use a much higher number locally to really note the differences across commits.",
          "user": {
            "login": "furszy",
            "id": 5377650,
            "node_id": "MDQ6VXNlcjUzNzc2NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/furszy",
            "html_url": "https://github.com/furszy",
            "followers_url": "https://api.github.com/users/furszy/followers",
            "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
            "organizations_url": "https://api.github.com/users/furszy/orgs",
            "repos_url": "https://api.github.com/users/furszy/repos",
            "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/furszy/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 10,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25234",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25234",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25234.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25234.patch"
          },
          "closed_at": "2023-01-04T17:12:19Z",
          "created_at": "2022-05-28T14:19:40Z",
          "updated_at": "2024-05-26T12:53:10Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-02T16:09:34Z",
      "updated_at": "2022-09-02T16:09:34Z",
      "source": {
        "issue": {
          "id": 1359383041,
          "node_id": "PR_kwDOABII584-PV2_",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25979",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25979/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25979/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25979/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25979",
          "number": 25979,
          "state": "open",
          "state_reason": null,
          "title": "[WIP] wallet: standardize change output detection process",
          "body": "Depends on https://github.com/bitcoin/bitcoin/pull/27601, please go there first.\r\n\r\nThis work aims to define, and implement a base standard mechanism to\r\ndetect individual change outputs.\r\n\r\n### Context\r\n\r\nCurrently, the wallet detects whether an output is change or not based\r\non data stored in the address book.\r\n\r\nThere is no notion of â€œchange outputsâ€, the wallet detects change scripts.\r\n\r\nConnoting that any address book record modification has implications\r\non all the historical outputs related to that particular destination. Meaning\r\nthat all those outputs can either be change or not. There is no middle-ground\r\ngranular distinction.\r\n\r\n#### How Change Detection Currently Works?\r\n\r\nThe wallet walks-through the transaction outputs, extracts the script\r\ndestination and verify the following two points:\r\n\r\n1) If the destination doesn't exist in the address book, then the script\r\n    is a \"change address\".\r\n   \r\n2) If the destination exists in the address book, but it doesn't have a\r\n     label, then the script is a \"change address\".\r\n\r\n### Motivation\r\n\r\nThere are a good number of problems in the current approach:\r\n\r\n- We make the wallet dependent on an external structure, with separate storage.\r\n   Which has to be updated and maintained along with the wallet state.\r\n\r\n- It cannot be maintained nor recovered across different wallet instances.\r\n   Cannot re-create the, possibly custom, address book data only by importing\r\n   the wallet descriptor string.\r\n\r\n- As the address book is an structure that the user can freely modify, the change\r\n   detection process might differ through different wallets.\r\n \r\n- The current rudimentary assumptions of \"no address book entry\" or \"no label set for the address book entry\"\r\n  to denote that certain script destination is change or not can easily be broken:\r\n  E.g. derive an address from one of the walletâ€™s external paths manually. Then send coins to it.\r\n  As the receive destination wasn't created inside the wallet, the wallet has no associated address book entry.\r\n  So, the reception is invalidly detected as change (added a test case for it).\r\n\r\n- The wallet can't detect change outputs on more complex scripts such as multi-sig change outputs.\r\n\r\n- The wallet is not able to detect change outputs going to an internal address if the internal address has a label.\r\n  (E.g. the user can manually set a label for the internal address and, doing that, make that all the change\r\n  outputs, in the wallet history, that were sent to the destination are no longer detected as change).\r\n\r\n- There isnâ€™t a way to distinguish the external reception of coins into an internal address. Coins reception on any\r\n   internal address are always detected as change.\r\n\r\n### New Change Detection Mechanism Goals\r\n\r\nAiming to:\r\n\r\n* Define a base mechanism to align different wallet implementations. Preventing each piece of software\r\n  from diverging on the basic change outputs distinction.\r\n\r\n* Detect change outputs on-demand without requiring to maintain an external data structure synced with the\r\n   latest wallet state.\r\n\r\n* Independently, and accurately, detect change outputs regardless data stored in structures that the user\r\n   can freely modify.\r\n\r\n* Granular distinction between change vs non-change outputs that were sent to the same internal address.\r\n  E.g. the reception of coins, from an external source, on internal addresses will not longer be detected\r\n  as change anymore.\r\n\r\n* Expand the change detection to more complex scripts such as a multi-sig protected addresses. (While they\r\n  are added into the wallet on an internal spkm)\r\n\r\n#### Change Output Detection Rules\r\n\r\nA transaction output is change if it fulfills the following points:\r\n\r\n1) At least one of the parent transaction inputs is from the wallet. (If none of them are, then the wallet is receiving coins\r\n    on an internal address).\r\n\r\n2) The script extracted destination is from the wallet and is located in one of the internal script pub key manager.\r\n    (e.g. derived from an internal derivation path)\r\n\r\n#### What about legacy wallets?\r\n\r\nIf the legacy wallet is HD post-split, we have an internal derivation path, so we can follow the same process as\r\ndescriptors wallet. Unless the destination is on the pre-split key pool, in which case, we fallback to the follow-up\r\ncase.\r\n\r\nIf the legacy wallet is pre-split, we continue using the address book as we either have an HD wallet with keys\r\nderived only on the external path, or we are using raw keypool.\r\n\r\nâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\r\n\r\n#### Extra Note\r\nThis PR, in about 85% at least, is about expanding the current test coverage for the change output detection area.\r\n\r\n#### TO DO (still WIP):\r\n\r\n* [x] Save â€œinternalâ€ flag on non-active descriptors so the wallet can use them on the change detection process.\r\n   (which will fix the currently failing test cases).\r\n* [ ] Re-organize commits so tests always pass.\r\n* [ ] Verify backwards compatibility.",
          "user": {
            "login": "furszy",
            "id": 5377650,
            "node_id": "MDQ6VXNlcjUzNzc2NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/furszy",
            "html_url": "https://github.com/furszy",
            "followers_url": "https://api.github.com/users/furszy/followers",
            "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
            "organizations_url": "https://api.github.com/users/furszy/orgs",
            "repos_url": "https://api.github.com/users/furszy/repos",
            "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/furszy/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 10,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25979",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25979",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25979.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25979.patch"
          },
          "created_at": "2022-09-01T20:40:07Z",
          "updated_at": "2024-05-23T19:04:31Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-05T06:27:31Z",
      "updated_at": "2022-09-05T06:27:31Z",
      "source": {
        "issue": {
          "id": 1361274567,
          "node_id": "PR_kwDOABII584-VbNV",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26008",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26008/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26008/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26008/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26008",
          "number": 26008,
          "state": "closed",
          "state_reason": null,
          "title": "wallet: cache IsMine scriptPubKeys to improve performance of descriptor wallets",
          "body": "Wallets that have a ton of non-ranged descriptors (such as a migrated non-HD wallet) perform fairly poorly due to looping through all of the wallet's `ScriptPubKeyMan`s. This is done in various places, such as `IsMine`, and helper functions for fetching a `ScriptPubKeyMan` and a `SolvingProvider`. This also has a bit of a performance impact on standard descriptor wallets, although less noticeable due to the small number of SPKMs.\r\n\r\nAs these functions are based on doing `IsMine` for each `ScriptPubKeyMan`, we can improve this performance by caching `IsMine` scriptPubKeys for all descriptors and use that to determine which `ScriptPubKeyMan` to actually use for those things. This cache is used exclusively and we no longer iterate the SPKMs.\r\n\r\nAlso added a benchmark for `IsMine`.",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/61",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/61",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/61/labels",
            "id": 9334188,
            "node_id": "MI_kwDOABII584Ajm2s",
            "number": 61,
            "state": "closed",
            "title": "27.0",
            "description": "",
            "creator": {
              "login": "sipa",
              "id": 548488,
              "node_id": "MDQ6VXNlcjU0ODQ4OA==",
              "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/sipa",
              "html_url": "https://github.com/sipa",
              "followers_url": "https://api.github.com/users/sipa/followers",
              "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
              "organizations_url": "https://api.github.com/users/sipa/orgs",
              "repos_url": "https://api.github.com/users/sipa/repos",
              "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/sipa/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 69,
            "created_at": "2023-04-27T08:01:57Z",
            "updated_at": "2024-04-16T08:33:17Z",
            "closed_at": "2024-04-16T08:33:17Z"
          },
          "locked": false,
          "comments": 24,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26008",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26008",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26008.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26008.patch"
          },
          "closed_at": "2024-02-20T10:17:58Z",
          "created_at": "2022-09-04T23:03:15Z",
          "updated_at": "2024-02-20T10:17:59Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1238191124,
      "node_id": "IC_kwDOABII585JzUwU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1238191124",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-06T13:58:44Z",
      "updated_at": "2022-09-06T13:58:44Z",
      "author_association": "MEMBER",
      "body": "Friendly ping to previous reviewers @aureleoules @josibake @achow101.\r\nWould be nice to move forward with this one, it will unlock #25806 which will unlock #24845.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#issuecomment-1238191124",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25685"
    },
    {
      "event": "mentioned",
      "id": 7330750074,
      "node_id": "MEE_lADOABII585Oa1bCzwAAAAG08l56",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7330750074",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-06T13:58:44Z"
    },
    {
      "event": "subscribed",
      "id": 7330750086,
      "node_id": "SE_lADOABII585Oa1bCzwAAAAG08l6G",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7330750086",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-06T13:58:45Z"
    },
    {
      "event": "mentioned",
      "id": 7330750098,
      "node_id": "MEE_lADOABII585Oa1bCzwAAAAG08l6S",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7330750098",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-06T13:58:45Z"
    },
    {
      "event": "subscribed",
      "id": 7330750106,
      "node_id": "SE_lADOABII585Oa1bCzwAAAAG08l6a",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7330750106",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-06T13:58:45Z"
    },
    {
      "event": "mentioned",
      "id": 7330750123,
      "node_id": "MEE_lADOABII585Oa1bCzwAAAAG08l6r",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7330750123",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-06T13:58:45Z"
    },
    {
      "event": "subscribed",
      "id": 7330750130,
      "node_id": "SE_lADOABII585Oa1bCzwAAAAG08l6y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7330750130",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-06T13:58:45Z"
    },
    {
      "event": "reviewed",
      "id": 1097871282,
      "node_id": "PRR_kwDOABII585BcC-y",
      "url": null,
      "actor": null,
      "commit_id": "08012f03bf2cc9ec4f8b21d5643f3423acb1b5d8",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#pullrequestreview-1097871282",
      "submitted_at": "2022-09-06T16:07:07Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-09T15:53:40Z",
      "updated_at": "2022-09-09T15:53:40Z",
      "source": {
        "issue": {
          "id": 1368020905,
          "node_id": "PR_kwDOABII584-sGZh",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26053",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26053/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26053/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26053/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26053",
          "number": 26053,
          "state": "closed",
          "state_reason": null,
          "title": "rpc: bugfix, 'add_inputs' default value is true unless 'inputs' are provided",
          "body": "This bugfix was meant to be in #25685, but decoupled it to try to make it part of 24.0 release.\r\nIt's a truly misleading functionality.\r\n\r\nThis PR doesn't change behavior in any way. Just fixes two invalid RPC help messages and adds test\r\ncoverage for the current behavior.\r\n\r\n#### Description\r\nIn both RPC commands `send()` and `walletcreatefundedpsbt` the help message says\r\nthat `add_inputs` default value is false when it's actually dynamically set by the following statement:\r\n\r\n```c++\r\ncoin_control.m_allow_other_inputs = rawTx.vin.size() == 0;\r\n```\r\n\r\nWhich means that, by default, `add_inputs` is true unless there is any pre-set input, in which\r\ncase, the default is false.",
          "user": {
            "login": "furszy",
            "id": 5377650,
            "node_id": "MDQ6VXNlcjUzNzc2NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/furszy",
            "html_url": "https://github.com/furszy",
            "followers_url": "https://api.github.com/users/furszy/followers",
            "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
            "organizations_url": "https://api.github.com/users/furszy/orgs",
            "repos_url": "https://api.github.com/users/furszy/repos",
            "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/furszy/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 148216,
              "node_id": "MDU6TGFiZWwxNDgyMTY=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Docs",
              "name": "Docs",
              "color": "02d7e1",
              "default": false
            },
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/54",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/54",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/54/labels",
            "id": 7150037,
            "node_id": "MI_kwDOABII584AbRnV",
            "number": 54,
            "state": "closed",
            "title": "24.0",
            "description": "",
            "creator": {
              "login": "laanwj",
              "id": 126646,
              "node_id": "MDQ6VXNlcjEyNjY0Ng==",
              "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/laanwj",
              "html_url": "https://github.com/laanwj",
              "followers_url": "https://api.github.com/users/laanwj/followers",
              "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
              "organizations_url": "https://api.github.com/users/laanwj/orgs",
              "repos_url": "https://api.github.com/users/laanwj/repos",
              "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/laanwj/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 159,
            "created_at": "2021-09-14T08:27:02Z",
            "updated_at": "2022-11-29T15:44:44Z",
            "closed_at": "2022-11-29T15:44:44Z"
          },
          "locked": true,
          "comments": 8,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26053",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26053",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26053.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26053.patch"
          },
          "closed_at": "2022-09-14T20:16:58Z",
          "created_at": "2022-09-09T15:53:40Z",
          "updated_at": "2024-05-26T12:53:01Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-12T16:44:39Z",
      "updated_at": "2022-09-12T16:44:39Z",
      "source": {
        "issue": {
          "id": 1369658973,
          "node_id": "PR_kwDOABII584-xVBf",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26066",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26066/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26066/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26066/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26066",
          "number": 26066,
          "state": "closed",
          "state_reason": null,
          "title": "wallet: Refactor and document CoinControl",
          "body": "- Moves CoinControl function definitions from `coincontrol.h` to `coincontrol.cpp`\r\n- Adds more documentation\r\n- Renames class member for an improved comprehension\r\n- Use `std::optional` for `GetExternalOutput`",
          "user": {
            "login": "aureleoules",
            "id": 22493292,
            "node_id": "MDQ6VXNlcjIyNDkzMjky",
            "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/aureleoules",
            "html_url": "https://github.com/aureleoules",
            "followers_url": "https://api.github.com/users/aureleoules/followers",
            "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
            "organizations_url": "https://api.github.com/users/aureleoules/orgs",
            "repos_url": "https://api.github.com/users/aureleoules/repos",
            "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/aureleoules/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 19,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26066",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26066",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26066.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26066.patch"
          },
          "closed_at": "2023-05-03T15:17:52Z",
          "created_at": "2022-09-12T10:38:30Z",
          "updated_at": "2024-05-02T12:46:01Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 7389249111,
      "node_id": "REFE_lADOABII585Oa1bCzwAAAAG4bv5X",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7389249111",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "2e3cd26a1a5e071407b79cf02c35f6cf42aa6191",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2e3cd26a1a5e071407b79cf02c35f6cf42aa6191",
      "created_at": "2022-09-14T20:16:57Z"
    },
    {
      "event": "labeled",
      "id": 7389906588,
      "node_id": "LE_lADOABII585Oa1bCzwAAAAG4eQac",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7389906588",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-14T22:17:07Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7396208541,
      "node_id": "HRFPE_lADOABII585Oa1bCzwAAAAG42S-d",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7396208541",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-15T15:38:07Z"
    },
    {
      "event": "commented",
      "id": 1248370123,
      "node_id": "IC_kwDOABII585KaJ3L",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1248370123",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-15T16:59:21Z",
      "updated_at": "2022-09-15T16:59:21Z",
      "author_association": "MEMBER",
      "body": "Rebased on master, achow101 feedback tackled. Thanks.\r\n\r\nChanges:\r\n* Removed `m_` prefix from `AddInputs` function signature.\r\n* Squashed benchmark 08012f03 inside 2d9ea15.\r\n* Added test case for when the user explicitly disallows the automatic coin selection and does not provide inputs (on master, this test fails because the wallet invalidly fall back to select coins automatically even when the user provided `add_inputs=false`).",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#issuecomment-1248370123",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25685"
    },
    {
      "event": "unlabeled",
      "id": 7396962533,
      "node_id": "UNLE_lADOABII585Oa1bCzwAAAAG45LDl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7396962533",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-15T17:19:16Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1110773511,
      "node_id": "PRR_kwDOABII585CNQ8H",
      "url": null,
      "actor": null,
      "commit_id": "2d9ea15fe9773c3efe349579413b4a4e56c30454",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK 2d9ea15fe9773c3efe349579413b4a4e56c30454.\r\nReviewed with range-diff since my last review. Also verified all commits compile.\r\n",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#pullrequestreview-1110773511",
      "submitted_at": "2022-09-16T14:24:28Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
    },
    {
      "event": "commented",
      "id": 1249481997,
      "node_id": "IC_kwDOABII585KeZUN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1249481997",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-16T15:06:13Z",
      "updated_at": "2022-09-16T15:06:13Z",
      "author_association": "MEMBER",
      "body": "Here are my bench results (with `sudo pyperf system tune`).\r\n\r\n## PR\r\n|               ns/op |                op/s |    err% |          ins/op |          cyc/op |    IPC |         bra/op |   miss% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------------:|----------------:|-------:|---------------:|--------:|----------:|:----------\r\n|        3,165,243.33 |              315.93 |    1.6% |   18,936,699.67 |    7,255,808.00 |  2.610 |     507,961.67 |    2.3% |      0.10 | `WalletCreateTxUseOnlyPresetInputs`\r\n|    2,503,088,950.33 |                0.40 |    2.9% |12,628,647,472.00 |5,467,638,592.00 |  2.310 |2,036,987,578.67 |    0.3% |     84.82 | `WalletCreateTxUsePresetInputsAndCoinSelection`\r\n\r\n\r\n## Master\r\n|               ns/op |                op/s |    err% |          ins/op |          cyc/op |    IPC |         bra/op |   miss% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------------:|----------------:|-------:|---------------:|--------:|----------:|:----------\r\n|       66,423,839.67 |               15.05 |    0.4% |  102,368,093.00 |  152,193,632.00 |  0.673 |  22,866,396.33 |    0.6% |      2.20 | `WalletCreateTxUseOnlyPresetInputs`\r\n|    2,546,070,421.67 |                0.39 |    5.5% |12,710,666,931.00 |5,631,797,760.00 |  2.257 |2,052,977,444.33 |    0.3% |     86.15 | :wavy_dash: `WalletCreateTxUsePresetInputsAndCoinSelection` (Unstable with ~3.0 iters. Increase `minEpochIterations` to e.g. 30)\r\n\r\n> You know josibake, I didn't add it here mainly because this PR improves a particular scenario; when the user pre-selected inputs and disallowed the wallet automatic coin selection.\r\nThis PR doesn't improve, at least not directly, the preset inputs + automatic coin selection scenario.\r\n\r\nIndeed :+1:\r\n`WalletCreateTxUseOnlyPresetInputs` is significantly faster now and `WalletCreateTxUsePresetInputsAndCoinSelection` has not changed.\r\n\r\n> Unstable with ~3.0 iters. Increase `minEpochIterations` to e.g. 30\r\n\r\nnit: maybe increase iterations? not sure how important this is. ",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#issuecomment-1249481997",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25685"
    },
    {
      "event": "reviewed",
      "id": 1111036386,
      "node_id": "PRR_kwDOABII585CORHi",
      "url": null,
      "actor": null,
      "commit_id": "2d9ea15fe9773c3efe349579413b4a4e56c30454",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#pullrequestreview-1111036386",
      "submitted_at": "2022-09-16T17:49:59Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7405432726,
      "node_id": "HRFPE_lADOABII585Oa1bCzwAAAAG5Ze-W",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7405432726",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-16T18:51:05Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7405448036,
      "node_id": "HRFPE_lADOABII585Oa1bCzwAAAAG5Zitk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7405448036",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-16T18:53:39Z"
    },
    {
      "event": "commented",
      "id": 1249784908,
      "node_id": "IC_kwDOABII585KfjRM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1249784908",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-16T20:30:52Z",
      "updated_at": "2022-09-16T20:30:52Z",
      "author_association": "MEMBER",
      "body": "Updated per feedback, thanks aureleoules and achow101.\r\n\r\n1) Per aureleoules review: \r\n   Increased the bench iterations from 3 to 5.\r\n\r\n2) Per achow101 review: \r\n   Decreased the number of blocks used in the benchmarks from 150k to 20k so `make check` doesn't take too much time on low-end devices and we still continue benchmarking the tx creation process on a wallet with a reasonable amount of txes/utxo.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#issuecomment-1249784908",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25685"
    },
    {
      "event": "reviewed",
      "id": 1111316556,
      "node_id": "PRR_kwDOABII585CPVhM",
      "url": null,
      "actor": null,
      "commit_id": "1c7417711d2b9353350a8b5b2e580850cd1b5d3b",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "re-ACK 1c7417711d2b9353350a8b5b2e580850cd1b5d3b",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#pullrequestreview-1111316556",
      "submitted_at": "2022-09-16T22:10:39Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-17T04:35:25Z",
      "updated_at": "2022-09-17T04:35:25Z",
      "source": {
        "issue": {
          "id": 1374199415,
          "node_id": "PR_kwDOABII584_AiNs",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26099",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26099/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26099/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26099/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26099",
          "number": 26099,
          "state": "closed",
          "state_reason": null,
          "title": "build: remove duplicate / unneeded libs from bench_bitcoin",
          "body": "EVENT_*_LIBS are already in LDADD.\r\nMove wallet libs into the wallet conditional, similar to zmq.",
          "user": {
            "login": "fanquake",
            "id": 863730,
            "node_id": "MDQ6VXNlcjg2MzczMA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fanquake",
            "html_url": "https://github.com/fanquake",
            "followers_url": "https://api.github.com/users/fanquake/followers",
            "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
            "organizations_url": "https://api.github.com/users/fanquake/orgs",
            "repos_url": "https://api.github.com/users/fanquake/repos",
            "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/fanquake/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 61889416,
              "node_id": "MDU6TGFiZWw2MTg4OTQxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system",
              "name": "Build system",
              "color": "5319e7",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 4,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26099",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26099",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26099.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26099.patch"
          },
          "closed_at": "2022-09-21T10:26:05Z",
          "created_at": "2022-09-15T09:13:30Z",
          "updated_at": "2023-09-21T12:11:45Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7422807785,
      "node_id": "HRFPE_lADOABII585Oa1bCzwAAAAG6bw7p",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7422807785",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-20T14:21:03Z"
    },
    {
      "event": "commented",
      "id": 1252461415,
      "node_id": "IC_kwDOABII585Kpwtn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1252461415",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-20T14:43:33Z",
      "updated_at": "2022-09-20T14:43:33Z",
      "author_association": "MEMBER",
      "body": "ACK 40452b8be29c85fbd2e96f93fa1b9ad37e6d44d8\r\n\r\n## PR\r\n|               ns/op |                op/s |    err% |          ins/op |          cyc/op |    IPC |         bra/op |   miss% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------------:|----------------:|-------:|---------------:|--------:|----------:|:----------\r\n|        3,252,252.20 |              307.48 |    0.7% |   19,062,206.80 |    7,444,723.20 |  2.560 |     504,438.20 |    2.5% |      0.18 | `WalletCreateTxUseOnlyPresetInputs`\r\n\r\n## Master\r\n|               ns/op |                op/s |    err% |          ins/op |          cyc/op |    IPC |         bra/op |   miss% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------------:|----------------:|-------:|---------------:|--------:|----------:|:----------\r\n|        7,162,568.40 |              139.61 |    1.1% |   24,654,767.60 |   16,410,489.60 |  1.502 |   1,935,246.40 |    1.3% |      0.39 | `WalletCreateTxUseOnlyPresetInputs`",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#issuecomment-1252461415",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25685"
    },
    {
      "event": "labeled",
      "id": 7429908021,
      "node_id": "LE_lADOABII585Oa1bCzwAAAAG622Y1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7429908021",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-21T11:14:27Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7430725502,
      "node_id": "HRFPE_lADOABII585Oa1bCzwAAAAG6599-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7430725502",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-21T13:02:48Z"
    },
    {
      "event": "commented",
      "id": 1253694259,
      "node_id": "IC_kwDOABII585Kudsz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1253694259",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-21T13:14:37Z",
      "updated_at": "2022-09-21T13:14:37Z",
      "author_association": "MEMBER",
      "body": "rebased, conflicts solved.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#issuecomment-1253694259",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25685"
    },
    {
      "event": "unlabeled",
      "id": 7430890347,
      "node_id": "UNLE_lADOABII585Oa1bCzwAAAAG66mNr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7430890347",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-21T13:21:53Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-21T23:24:48Z",
      "updated_at": "2022-09-21T23:24:48Z",
      "source": {
        "issue": {
          "id": 1381479251,
          "node_id": "PR_kwDOABII584_YTiB",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26152",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26152/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26152/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26152/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26152",
          "number": 26152,
          "state": "closed",
          "state_reason": null,
          "title": "Bump unconfirmed ancestor transactions to target feerate",
          "body": "Includes some commits to address follow-ups from #27021: https://github.com/bitcoin/bitcoin/pull/27021#issuecomment-1554675156\r\n\r\nReduces the effective value of unconfirmed UTXOs by the fees necessary to bump their ancestor transactions to the same feerate.\r\n\r\nWhile the individual UTXOs always account for their full ancestry before coin-selection, we can correct potential overestimates with a second pass where we establish the ancestry and bump fee for the whole input set collectively.\r\n\r\nFixes #9645 \r\nFixes #9864 \r\nFixes #15553",
          "user": {
            "login": "murchandamus",
            "id": 4060799,
            "node_id": "MDQ6VXNlcjQwNjA3OTk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/murchandamus",
            "html_url": "https://github.com/murchandamus",
            "followers_url": "https://api.github.com/users/murchandamus/followers",
            "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
            "organizations_url": "https://api.github.com/users/murchandamus/orgs",
            "repos_url": "https://api.github.com/users/murchandamus/repos",
            "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/murchandamus/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 1648013533,
              "node_id": "MDU6TGFiZWwxNjQ4MDEzNTMz",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Review%20club",
              "name": "Review club",
              "description": "",
              "color": "0052cc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/60",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/60",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/60/labels",
            "id": 9286970,
            "node_id": "MI_kwDOABII584AjbU6",
            "number": 60,
            "state": "closed",
            "title": "26.0",
            "description": "",
            "creator": {
              "login": "fanquake",
              "id": 863730,
              "node_id": "MDQ6VXNlcjg2MzczMA==",
              "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/fanquake",
              "html_url": "https://github.com/fanquake",
              "followers_url": "https://api.github.com/users/fanquake/followers",
              "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
              "organizations_url": "https://api.github.com/users/fanquake/orgs",
              "repos_url": "https://api.github.com/users/fanquake/repos",
              "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/fanquake/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 116,
            "created_at": "2023-04-15T11:36:05Z",
            "updated_at": "2023-12-08T10:41:40Z",
            "closed_at": "2023-12-04T13:27:46Z"
          },
          "locked": false,
          "comments": 40,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26152",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26152",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26152.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26152.patch"
          },
          "closed_at": "2023-09-14T20:08:51Z",
          "created_at": "2022-09-21T20:52:28Z",
          "updated_at": "2023-09-14T20:08:51Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7434955097,
      "node_id": "HRFPE_lADOABII585Oa1bCzwAAAAG7KGlZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7434955097",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-21T23:34:35Z"
    },
    {
      "event": "commented",
      "id": 1254339371,
      "node_id": "IC_kwDOABII585Kw7Mr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1254339371",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-21T23:40:21Z",
      "updated_at": "2022-09-21T23:40:21Z",
      "author_association": "MEMBER",
      "body": "Updated per feedback.\r\nOnly changed the benchmark chain size, from 10k to 5k. Tiny [diff](https://github.com/bitcoin/bitcoin/compare/f22a671f095780a1e0e296aab2c4d5464d0f683f..044953de5905d722fe07d0fb529125574bdb4902).",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#issuecomment-1254339371",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25685"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-23T03:08:08Z",
      "updated_at": "2022-09-23T03:08:08Z",
      "source": {
        "issue": {
          "id": 1382039769,
          "node_id": "PR_kwDOABII584_aJWz",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26154",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26154/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26154/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26154/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26154",
          "number": 26154,
          "state": "closed",
          "state_reason": null,
          "title": "refactor: Move coin_control variable to test setup section",
          "body": "`coin_control` is used by the subsequent tests, [here](https://github.com/bitcoin/bitcoin/blob/master/src/wallet/test/coinselector_tests.cpp#L381) and [here](https://github.com/bitcoin/bitcoin/blob/master/src/wallet/test/coinselector_tests.cpp#L398) and should be moved to the test setup section.  Removing the [test](https://github.com/bitcoin/bitcoin/blob/master/src/wallet/test/coinselector_tests.cpp#L355:L368) that defines `coin_control` causes the remainder to fail.",
          "user": {
            "login": "yancyribbens",
            "id": 817736,
            "node_id": "MDQ6VXNlcjgxNzczNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/817736?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yancyribbens",
            "html_url": "https://github.com/yancyribbens",
            "followers_url": "https://api.github.com/users/yancyribbens/followers",
            "following_url": "https://api.github.com/users/yancyribbens/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/yancyribbens/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/yancyribbens/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/yancyribbens/subscriptions",
            "organizations_url": "https://api.github.com/users/yancyribbens/orgs",
            "repos_url": "https://api.github.com/users/yancyribbens/repos",
            "events_url": "https://api.github.com/users/yancyribbens/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/yancyribbens/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignee": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "assignees": [
            {
              "login": "achow101",
              "id": 3782274,
              "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
              "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/achow101",
              "html_url": "https://github.com/achow101",
              "followers_url": "https://api.github.com/users/achow101/followers",
              "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
              "organizations_url": "https://api.github.com/users/achow101/orgs",
              "repos_url": "https://api.github.com/users/achow101/repos",
              "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/achow101/received_events",
              "type": "User",
              "site_admin": false
            }
          ],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "comments": 10,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26154",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26154",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26154.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26154.patch"
          },
          "closed_at": "2023-02-14T08:36:43Z",
          "created_at": "2022-09-22T08:24:48Z",
          "updated_at": "2024-02-17T12:33:05Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-30T00:47:42Z",
      "updated_at": "2022-09-30T00:47:42Z",
      "source": {
        "issue": {
          "id": 1390848450,
          "node_id": "PR_kwDOABII584_2wm0",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26203",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26203/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26203/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26203/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26203",
          "number": 26203,
          "state": "closed",
          "state_reason": null,
          "title": "wallet: Use correct effective value when checking target",
          "body": "Fixes #26185. The following assert failed because it was not checked in the parent function.\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/2bd9aa5a44b88c866c4d98f8a7bf7154049cba31/src/wallet/coinselection.cpp#L391",
          "user": {
            "login": "aureleoules",
            "id": 22493292,
            "node_id": "MDQ6VXNlcjIyNDkzMjky",
            "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/aureleoules",
            "html_url": "https://github.com/aureleoules",
            "followers_url": "https://api.github.com/users/aureleoules/followers",
            "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
            "organizations_url": "https://api.github.com/users/aureleoules/orgs",
            "repos_url": "https://api.github.com/users/aureleoules/repos",
            "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/aureleoules/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/54",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/54",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/54/labels",
            "id": 7150037,
            "node_id": "MI_kwDOABII584AbRnV",
            "number": 54,
            "state": "closed",
            "title": "24.0",
            "description": "",
            "creator": {
              "login": "laanwj",
              "id": 126646,
              "node_id": "MDQ6VXNlcjEyNjY0Ng==",
              "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/laanwj",
              "html_url": "https://github.com/laanwj",
              "followers_url": "https://api.github.com/users/laanwj/followers",
              "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
              "organizations_url": "https://api.github.com/users/laanwj/orgs",
              "repos_url": "https://api.github.com/users/laanwj/repos",
              "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/laanwj/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 159,
            "created_at": "2021-09-14T08:27:02Z",
            "updated_at": "2022-11-29T15:44:44Z",
            "closed_at": "2022-11-29T15:44:44Z"
          },
          "locked": true,
          "comments": 17,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26203",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26203",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26203.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26203.patch"
          },
          "closed_at": "2022-10-04T08:57:50Z",
          "created_at": "2022-09-29T13:10:22Z",
          "updated_at": "2023-11-02T12:17:01Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1128695081,
      "node_id": "PRR_kwDOABII585DRoUp",
      "url": null,
      "actor": null,
      "commit_id": "044953de5905d722fe07d0fb529125574bdb4902",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "re-ACK 044953de5905d722fe07d0fb529125574bdb4902 - only reduced benchmark chain size since last my ACK",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#pullrequestreview-1128695081",
      "submitted_at": "2022-10-03T16:32:31Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
    },
    {
      "event": "labeled",
      "id": 7514670133,
      "node_id": "LE_lADOABII585Oa1bCzwAAAAG_6MQ1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7514670133",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-04T09:47:26Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7516971214,
      "node_id": "HRFPE_lADOABII585Oa1bCzwAAAAHAC-DO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7516971214",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-04T14:13:59Z"
    },
    {
      "event": "unlabeled",
      "id": 7518085865,
      "node_id": "UNLE_lADOABII585Oa1bCzwAAAAHAHOLp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7518085865",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-04T16:10:22Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1267743723,
      "node_id": "IC_kwDOABII585LkDvr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1267743723",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-05T00:00:22Z",
      "updated_at": "2022-10-05T00:00:22Z",
      "author_association": "MEMBER",
      "body": "Rebased after #26203 merge.\r\n\r\nPlus, to be clear over https://github.com/bitcoin/bitcoin/pull/26203#pullrequestreview-1128801074, have decoupled what previously was in aa5fdbad in two commits: 71f5817 and 8326d17.\r\n\r\nReady to go.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#issuecomment-1267743723",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25685"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7527615001,
      "node_id": "HRFPE_lADOABII585Oa1bCzwAAAAHArkoZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7527615001",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-05T18:41:32Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7528919004,
      "node_id": "HRFPE_lADOABII585Oa1bCzwAAAAHAwi_c",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7528919004",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-05T22:27:22Z"
    },
    {
      "event": "commented",
      "id": 1269122641,
      "node_id": "IC_kwDOABII585LpUZR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1269122641",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-05T23:58:02Z",
      "updated_at": "2022-10-05T23:58:02Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#issuecomment-1269122641",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25685"
    },
    {
      "event": "reviewed",
      "id": 1133274033,
      "node_id": "PRR_kwDOABII585DjGOx",
      "url": null,
      "actor": null,
      "commit_id": "176969420e94e720cd9c4ee94520db923bc3204e",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Left a comment, otherwise LGTM.",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#pullrequestreview-1133274033",
      "submitted_at": "2022-10-06T16:06:41Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7538626881,
      "node_id": "HRFPE_lADOABII585Oa1bCzwAAAAHBVlFB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7538626881",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-06T20:55:54Z"
    },
    {
      "event": "commented",
      "id": 1270689822,
      "node_id": "IC_kwDOABII585LvTAe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1270689822",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-06T20:57:26Z",
      "updated_at": "2022-10-06T20:57:26Z",
      "author_association": "MEMBER",
      "body": "Thanks @aureleoules, feedback applied.\r\n\r\nSimplified the `SelectCoins` early return logic. Small [diff](https://github.com/bitcoin/bitcoin/compare/176969420e94e720cd9c4ee94520db923bc3204e..1c137b577130b9669db9a7b167f44f6304f7df42).",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#issuecomment-1270689822",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25685"
    },
    {
      "event": "mentioned",
      "id": 7538636561,
      "node_id": "MEE_lADOABII585Oa1bCzwAAAAHBVncR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7538636561",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-06T20:57:27Z"
    },
    {
      "event": "subscribed",
      "id": 7538636569,
      "node_id": "SE_lADOABII585Oa1bCzwAAAAHBVncZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7538636569",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-06T20:57:27Z"
    },
    {
      "event": "reviewed",
      "id": 1134052504,
      "node_id": "PRR_kwDOABII585DmESY",
      "url": null,
      "actor": null,
      "commit_id": "1c137b577130b9669db9a7b167f44f6304f7df42",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "re-ACK 1c137b577130b9669db9a7b167f44f6304f7df42",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#pullrequestreview-1134052504",
      "submitted_at": "2022-10-07T07:45:38Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-14T15:12:57Z",
      "updated_at": "2022-10-14T15:12:57Z",
      "source": {
        "issue": {
          "id": 1320943525,
          "node_id": "PR_kwDOABII5848QCSs",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25730",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25730/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25730/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25730/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25730",
          "number": 25730,
          "state": "closed",
          "state_reason": null,
          "title": "RPC: listunspent, add \"include immature coinbase\" flag",
          "body": "Simple PR; adds a \"include_immature_coinbase\" flag to `listunspent` to include the immature coinbase UTXOs on the response.  Requested by #25728.",
          "user": {
            "login": "furszy",
            "id": 5377650,
            "node_id": "MDQ6VXNlcjUzNzc2NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/furszy",
            "html_url": "https://github.com/furszy",
            "followers_url": "https://api.github.com/users/furszy/followers",
            "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
            "organizations_url": "https://api.github.com/users/furszy/orgs",
            "repos_url": "https://api.github.com/users/furszy/repos",
            "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/furszy/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            }
          ],
          "assignee": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "assignees": [
            {
              "login": "achow101",
              "id": 3782274,
              "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
              "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/achow101",
              "html_url": "https://github.com/achow101",
              "followers_url": "https://api.github.com/users/achow101/followers",
              "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
              "organizations_url": "https://api.github.com/users/achow101/orgs",
              "repos_url": "https://api.github.com/users/achow101/repos",
              "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/achow101/received_events",
              "type": "User",
              "site_admin": false
            }
          ],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 11,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25730",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25730",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25730.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25730.patch"
          },
          "closed_at": "2022-11-16T00:53:29Z",
          "created_at": "2022-07-28T13:34:21Z",
          "updated_at": "2024-05-26T12:53:05Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-19T13:59:54Z",
      "updated_at": "2022-10-19T13:59:54Z",
      "source": {
        "issue": {
          "id": 1383103193,
          "node_id": "PR_kwDOABII584_dnse",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26158",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26158/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26158/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26158/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26158",
          "number": 26158,
          "state": "closed",
          "state_reason": null,
          "title": "bench: add \"priority level\" to the benchmark framework",
          "body": "This is from today's meeting, a simple \"priority level\" for the benchmark framework.\r\n\r\nWill allow us to run certain benchmarks while skip non-prioritized ones in `make check`.\r\n\r\nBy default, `bench_bitcoin` will run all the benchmarks. `make check`will only run the high priority ones,\r\nand have marked all the existent benchmarks as \"high priority\" to retain the current behavior.\r\n\r\nCould test it by modifying any benchmark priority to something different from \"high\", and\r\nrun `bench_bitcoin -priority-level=high` and/or `bench_bitcoin -priority-level=medium,low`\r\n(the first command will skip the modified bench while the second one will include it).\r\n\r\nNote: the second commit could be avoided by having a default arg value for the priority\r\nlevel but.. an explicit set in every `BENCHMARK` macro call makes it less error-prone.",
          "user": {
            "login": "furszy",
            "id": 5377650,
            "node_id": "MDQ6VXNlcjUzNzc2NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/furszy",
            "html_url": "https://github.com/furszy",
            "followers_url": "https://api.github.com/users/furszy/followers",
            "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
            "organizations_url": "https://api.github.com/users/furszy/orgs",
            "repos_url": "https://api.github.com/users/furszy/repos",
            "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/furszy/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 24,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26158",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26158",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26158.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26158.patch"
          },
          "closed_at": "2022-10-20T15:06:12Z",
          "created_at": "2022-09-22T22:54:16Z",
          "updated_at": "2024-05-26T12:53:00Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7634366307,
      "node_id": "HRFPE_lADOABII585Oa1bCzwAAAAHHCy9j",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7634366307",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-20T19:39:10Z"
    },
    {
      "event": "commented",
      "id": 1286089436,
      "node_id": "IC_kwDOABII585MqCrc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1286089436",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-20T20:14:41Z",
      "updated_at": "2022-10-20T20:14:41Z",
      "author_association": "MEMBER",
      "body": "Rebased after #26158 merge.\r\n\r\nOnly diff is inside the benchmarks, where both of them were marked as `low` priority to not run them in `make check`.\r\n\r\nReady for another review round.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#issuecomment-1286089436",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25685"
    },
    {
      "event": "commented",
      "id": 1291229049,
      "node_id": "IC_kwDOABII585M9pd5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1291229049",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-25T23:03:06Z",
      "updated_at": "2022-10-25T23:03:06Z",
      "author_association": "MEMBER",
      "body": "ACK 5bea640cfb29a7d4e2edaa2a24c0457dbda41b0a",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#issuecomment-1291229049",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25685"
    },
    {
      "event": "reviewed",
      "id": 1155680894,
      "node_id": "PRR_kwDOABII585E4kp-",
      "url": null,
      "actor": null,
      "commit_id": "5bea640cfb29a7d4e2edaa2a24c0457dbda41b0a",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "reACK 5bea640cfb29a7d4e2edaa2a24c0457dbda41b0a",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#pullrequestreview-1155680894",
      "submitted_at": "2022-10-25T23:43:02Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
    },
    {
      "event": "reviewed",
      "id": 1155953166,
      "node_id": "PRR_kwDOABII585E5nIO",
      "url": null,
      "actor": null,
      "commit_id": "5bea640cfb29a7d4e2edaa2a24c0457dbda41b0a",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "I'm a bit late to the party. Almost code review ACK. Need a bit more time to review. Left a couple nits. The biggest one being about whether we need a new struct about preselected inputs.",
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#pullrequestreview-1155953166",
      "submitted_at": "2022-10-26T07:35:11Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
    },
    {
      "event": "commented",
      "id": 1292348271,
      "node_id": "IC_kwDOABII585NB6tv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1292348271",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-26T17:07:14Z",
      "updated_at": "2022-10-26T17:07:14Z",
      "author_association": "MEMBER",
      "body": "> I'm a bit late to the party.\r\n\r\nIt's never late if you come with beers and/or food.\r\n\r\n",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#issuecomment-1292348271",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25685"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDk0YzA3NjZiMGNkMTk5MGMxMzk5YTc0NWM4OGMyYmE0YzY4NWQ4ZDE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/94c0766b0cd1990c1399a745c88c2ba4c685d8d1",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/94c0766b0cd1990c1399a745c88c2ba4c685d8d1",
      "tree": {
        "sha": "cc82777f6bbac49bb8d0ef3252d0995563296e96",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/cc82777f6bbac49bb8d0ef3252d0995563296e96"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree cc82777f6bbac49bb8d0ef3252d0995563296e96\nparent fabc0310480b49e159a15d494525c5aa15072cba\nauthor furszy <matiasfurszyfer@protonmail.com> 1659711488 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1666810071 -0300\n\nwallet: skip available coins fetch if \"other inputs\" are disallowed\n\nno need to waste resources calculating the wallet available coins if\nthey are not going to be used.\n\nThe 'm_allow_other_inputs=true` default value change is to correct\nan ugly misleading behavior:\n\nThe tx creation process was having a workaround patch to automatically\nfall back to select coins from the wallet if `m_allow_other_inputs=false`\n(previous default value) and no manual inputs were selected.\n\nThis could be seen in master in flows like `sendtoaddress`, `sendmany`\nand even the GUI, where the `m_allow_other_inputs` value isn't customized\nand the wallet still selects and adds coins to the tx internally.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmNZgNcACgkQXdI8zGhq\npiMz5hAA0B5oXHmM+Gan8gWQw78+1Yvt0C2lXKL8PX3KIrBycAlUrlspGXKCB8p7\n9jCLjXQCs8JnCmxP2zlx7CEzqoWoKkLI3NIiU08o3VvnZFhqoqWKG0/Lia/L9Baj\nqb8iAll04ELtrZcqU2p+x5VzLoRnZI9Z7sMpNaLZdN6sXK0gdWpZn9paoGWHwp2b\n+Cn/k6tGoNv+RN9AVqaA8Q0qyW/fdbp4GGSDzhIJy9IsrUTkfkvvAFSMLxwOUDx4\n93ZczEctgW3Oyc4UVmgqAYTKmBqIEeToDB/bWWX++Y4eWY2/qSOgbJ4eecAafP2h\nhMKq9AxDnGmtumTEaBphkYRR0JvQCCsQCqXeI7DTuCV01T/XHlKOROCN+TGbok4R\naK7JMTA8EHSXeNKPVJBgzHbuCz9mR2f6DE+c7IaIuS5v5pXPWZFEmtgO/oK3PFTL\nSVCPhlkeqTIEYPrqACM7pOjaL+64LmQKpt/iAGGZRI3+00nY3Mp7JioBam8ZIrC0\nLeHw629S5iBUYyUGLPauf7yfw6HUKa+2GZVJoFrgWdZwf+Pz8ek+v8yNFBHtBmef\n+r3HZKXNzSkxqDNPPg3Or7edVdKNKyjv3ownnDm9jIt9kwvDNzwGUUX8Vgda7vjr\nN0ek0epm2KzzgYaPgPS/m8sTsOtIy9AX8jOBgGCE0wkJHbDvibc=\n=urtI\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fabc0310480b49e159a15d494525c5aa15072cba",
          "sha": "fabc0310480b49e159a15d494525c5aa15072cba",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fabc0310480b49e159a15d494525c5aa15072cba"
        }
      ],
      "message": "wallet: skip available coins fetch if \"other inputs\" are disallowed\n\nno need to waste resources calculating the wallet available coins if\nthey are not going to be used.\n\nThe 'm_allow_other_inputs=true` default value change is to correct\nan ugly misleading behavior:\n\nThe tx creation process was having a workaround patch to automatically\nfall back to select coins from the wallet if `m_allow_other_inputs=false`\n(previous default value) and no manual inputs were selected.\n\nThis could be seen in master in flows like `sendtoaddress`, `sendmany`\nand even the GUI, where the `m_allow_other_inputs` value isn't customized\nand the wallet still selects and adds coins to the tx internally.",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-10-26T18:47:51Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-08-05T14:58:08Z"
      },
      "sha": "94c0766b0cd1990c1399a745c88c2ba4c685d8d1"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDM3ZTc4ODdjYjRiZmQ3ZGI2ZWI0NjJlZDA3NDFjNDVhZWEyMmE5OTA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/37e7887cb4bfd7db6eb462ed0741c45aea22a990",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/37e7887cb4bfd7db6eb462ed0741c45aea22a990",
      "tree": {
        "sha": "34b74163cde2f0d2c40563c3230a56efb2506726",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/34b74163cde2f0d2c40563c3230a56efb2506726"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 34b74163cde2f0d2c40563c3230a56efb2506726\nparent 94c0766b0cd1990c1399a745c88c2ba4c685d8d1\nauthor furszy <matiasfurszyfer@protonmail.com> 1659712098 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1666810355 -0300\n\nwallet: skip manually selected coins from 'AvailableCoins' result\n\nNo need to walk through the entire wallet's txes map just to get\ncoins that we could have gotten by just doing a simple map.find(out.hash).\n(Which is what we are doing inside `SelectCoins` anyway)\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmNZgfMACgkQXdI8zGhq\npiPf+hAAtRcjsly0v1E5Pz3tpfwvW8YkO2Qn2hyXsopIIDNMt3IqpB1O+bWVKTUr\n9tUdmpTa7fhSSZL4cEVXZfimFgmMl0lt4mjrwZB/EKiXK1fkleXH49AF7RjUzmSq\nxrx/SAUK2X010V5xUGOIKyYOFnLnnZPr0zJF1xNIhLxyzco10J1PPlrar6jA+deO\nF7ZvEsqoVxgwuqbXyZwwJT0J8jt9XshvjIjo4FdhPY8kA7IRif+3Wc8LKSwEcqEQ\npj4LjgDzmi7wTflWFwS5fGA4Uo8Ko3P5nNsjx2XXWdnm+AwZohMSMuHsIEqW04pv\nRpDO+LkxKZvDdsfzINwbD+07OGjpGhunlIFtVmRSvzJofevVyd6y/2niuuN2TEGW\nUvzRXZFFxDmj6bpb1Cb7/fYsNruMDivLbwDiA+M+nCs1RVNST5jUuAPWr+Jz0tUC\nYRjyTnlOPFCkxStLXkXZnb5sJBLNXt2QGo0m3LCLQQRw1K8+Yu7P/0i6MzqxIcQb\n7jX/1W8nTXNHLq4UPIMJMsrQhTTLDXZC7JPwCdt9vE9CJJEs58PZ/tNi3tTItned\nrOW9yVfh4Dlr4caATYxxZjj3rRsUpP3IE5hSfBseSAPSEYF4avtokyL7UjuXiYzs\nMitvM1T6KKjnlarJ9DP915yM/bi6zvYFucVL0gEg7k/cg2phzis=\n=24f1\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/94c0766b0cd1990c1399a745c88c2ba4c685d8d1",
          "sha": "94c0766b0cd1990c1399a745c88c2ba4c685d8d1",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/94c0766b0cd1990c1399a745c88c2ba4c685d8d1"
        }
      ],
      "message": "wallet: skip manually selected coins from 'AvailableCoins' result\n\nNo need to walk through the entire wallet's txes map just to get\ncoins that we could have gotten by just doing a simple map.find(out.hash).\n(Which is what we are doing inside `SelectCoins` anyway)",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-10-26T18:52:35Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-08-05T15:08:18Z"
      },
      "sha": "37e7887cb4bfd7db6eb462ed0741c45aea22a990"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDI5NTg1MmY2MTk5OGEwMjViMGIyOGEwNjcxZTZlMWNmMGRjMDhkMGQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/295852f61998a025b0b28a0671e6e1cf0dc08d0d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/295852f61998a025b0b28a0671e6e1cf0dc08d0d",
      "tree": {
        "sha": "059002052b8d54834f629bd80f8f5fb558708f41",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/059002052b8d54834f629bd80f8f5fb558708f41"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 059002052b8d54834f629bd80f8f5fb558708f41\nparent 37e7887cb4bfd7db6eb462ed0741c45aea22a990\nauthor furszy <matiasfurszyfer@protonmail.com> 1658517404 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1666810355 -0300\n\nwallet: encapsulate pre-selected-inputs lookup into its own function\n\nFirst step towards decoupling the pre-selected-inputs fetching functionality\nfrom `SelectCoins`. Which, will let us not waste resources calculating the\navailable coins if one of the pre-set inputs has an error.\n\n(right now, if one of the pre-set inputs is invalid, we first walk through\nthe entire wallet txes map just to end up failing right after it finish)\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmNZgfMACgkQXdI8zGhq\npiNIlRAAwR66as9ulv+ueAgP/o/lNZowLlNcVbPjeQ/r/AI97Pps40s/X18HOGmX\nWItrs8honA7aHtiIomdI81e4ciyFQ25rZZ7CROMllSq7RGA8tvZBerUYYIl/rmfp\ntG46y+eWYJE4WVPO2SqwFjSfhT+Ss4K2EPnUPZaWTlorzAp16+Kw/BtgJhgeYSB/\n1EB+0xJV7zg9BS1H1Axp4G4CwGihfcfOkpYKXrff4YKvst69XHaYYNWRjWc8aEA3\n0GevtQIQ7yTXxWmCAM2Fm8VJMzMRvn3RVgr0669GHCKSmMqjd0JC2Xi8KuUrslsr\nT8QqCp0vOnGaSqcJ78vcBGujTVrP26z4WWbVYXxJ4T8zky/hpO85XXLv9Vq3DOp1\nmBwLw76Sm6kmF49p5FR4MqlwhQZxMsdbO02hoXwO47dxB1ja1KWpEa6sUQaUegbd\nH/bSzyHtrVDFDQ83f0dwChYKA/6QZtPYO3I6UR0kKZq6TaELGy1puPk2zxkeiVUW\nJF9mQYkyyO8FjMVH4WaihFIBgvY/CAzC6qQ79TvoSfk3D/s/p68wMygf7ItPSZYr\ntLCb1mTrOnLm6q4h3mciowxp7JyWj5uQ4CgRfCmC5SMzz+3nxBEjZQhekItyMQvC\n6IsuR+MHrjfsqpi8bxcp+gguVizHyQtu0zR+CzKuvr5WkaYIAhA=\n=x4ni\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/37e7887cb4bfd7db6eb462ed0741c45aea22a990",
          "sha": "37e7887cb4bfd7db6eb462ed0741c45aea22a990",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/37e7887cb4bfd7db6eb462ed0741c45aea22a990"
        }
      ],
      "message": "wallet: encapsulate pre-selected-inputs lookup into its own function\n\nFirst step towards decoupling the pre-selected-inputs fetching functionality\nfrom `SelectCoins`. Which, will let us not waste resources calculating the\navailable coins if one of the pre-set inputs has an error.\n\n(right now, if one of the pre-set inputs is invalid, we first walk through\nthe entire wallet txes map just to end up failing right after it finish)",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-10-26T18:52:35Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-07-22T19:16:44Z"
      },
      "sha": "295852f61998a025b0b28a0671e6e1cf0dc08d0d"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDViYWVkYzMzNTE5NjYxYWY5ZDE5ZWZjZWZkMjNkY2E4OTk4ZDI1NDc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5baedc33519661af9d19efcefd23dca8998d2547",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/5baedc33519661af9d19efcefd23dca8998d2547",
      "tree": {
        "sha": "3a52f7a25e97f9bd937a6a8a87c5b027f9f02d6a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3a52f7a25e97f9bd937a6a8a87c5b027f9f02d6a"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 3a52f7a25e97f9bd937a6a8a87c5b027f9f02d6a\nparent 295852f61998a025b0b28a0671e6e1cf0dc08d0d\nauthor furszy <matiasfurszyfer@protonmail.com> 1659714704 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1666810471 -0300\n\nwallet: remove fetch pre-selected-inputs responsibility from SelectCoins\n\nso if there is an error in any of the pre-set coins, we can fail right away\nwithout computing the wallet available coins set (calling `AvailableCoins`)\nwhich is a slow operation as it goes through the entire wallet's txes map.\n\n----------------------\n\nAnd to make the Coin Selection flow cleared, have decoupled SelectCoins in two functions:\n\n1) AutomaticCoinSelection.\n2) SelectCoins.\n\n1) AutomaticCoinSelection:\n   Receives a set of coins and selects the best subset of them to\n   cover the target amount.\n\n2) SelectCoins\n   In charge of select all the user manually selected coins first (\"pre-set inputs\"), and\n   if coin_control 'm_allow_other_inputs=true', call 'AutomaticCoinSelection' to select a\n   subset of coins owned by the wallet to cover for the target - preset_inputs.total_amount\n   remaining value.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmNZgmcACgkQXdI8zGhq\npiPoCA/9ETmGHQCfNIj7GNOGtUlcmhfdzzeVivxnzzvm4BkWF/mkqf3jSj8ppuuu\nq/Iit2Pyze+YI6S4xQVmYXiy4WSXnyRAnoQv6vHZSpRifpRjvZ0e5rq6wtVGdBGS\nwFwEKAyzHQNlHhVp9IGfbyo3Pv1RS74D6mC++AjKzGreSljMGKu4L1DMFCVl9BoC\nc/b1eLTDj5A12qnfEsSpDBzNbs2dzpNfs/PSZzPPDkOmezpE9QlxOjBSSWUbbJUM\nRwDy34nh+JQjW5mkpgjp4GI/+2CdJM6WIjWvtIvpAFiXHJ9AeBi54y0PyBWwsQxE\nutj1CL0lI2ceWkGm/OUqlfmko4fggX3dc0yHWIxlV/jOHLUaxaE3P2QugVB/gp5t\n/ZoJV1rW+/f5Vm/cmsexg1bjmqhWsMn0iVLXurNZ2CLvvclj5swIGpPPF0t3G0T0\nFo1iLLLPSijNZBrg7jsPpmeoNnmo4OEMUg02b6LSOUuhWArfO4krQvkpbWkbFK3n\nKEc24YogG+QwI9voTLIWghN60Lh+RiGtTXM1rVP5B61jy1PO1ia3zgqclKnNenkx\njkvijQ9AsEdWeyKQm0WcEU81R/IbiKzYmCaq/JZBKh3sXgXxXAQpjmEws0CL4OA5\nCIWQZy30scA6qZu6WROt/8gfoUkD/PurIPaAJJUPG1kvj9SGDhc=\n=rK9D\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/295852f61998a025b0b28a0671e6e1cf0dc08d0d",
          "sha": "295852f61998a025b0b28a0671e6e1cf0dc08d0d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/295852f61998a025b0b28a0671e6e1cf0dc08d0d"
        }
      ],
      "message": "wallet: remove fetch pre-selected-inputs responsibility from SelectCoins\n\nso if there is an error in any of the pre-set coins, we can fail right away\nwithout computing the wallet available coins set (calling `AvailableCoins`)\nwhich is a slow operation as it goes through the entire wallet's txes map.\n\n----------------------\n\nAnd to make the Coin Selection flow cleared, have decoupled SelectCoins in two functions:\n\n1) AutomaticCoinSelection.\n2) SelectCoins.\n\n1) AutomaticCoinSelection:\n   Receives a set of coins and selects the best subset of them to\n   cover the target amount.\n\n2) SelectCoins\n   In charge of select all the user manually selected coins first (\"pre-set inputs\"), and\n   if coin_control 'm_allow_other_inputs=true', call 'AutomaticCoinSelection' to select a\n   subset of coins owned by the wallet to cover for the target - preset_inputs.total_amount\n   remaining value.",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-10-26T18:54:31Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-08-05T15:51:44Z"
      },
      "sha": "5baedc33519661af9d19efcefd23dca8998d2547"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGY0MTcxMmE3MzRkYzExOWY4YTVlMDUzYTljZmExZjA0MTFiNWU4ZjE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f41712a734dc119f8a5e053a9cfa1f0411b5e8f1",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f41712a734dc119f8a5e053a9cfa1f0411b5e8f1",
      "tree": {
        "sha": "04cb3de84d041c1a83c30b622302a644f399cd77",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/04cb3de84d041c1a83c30b622302a644f399cd77"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 04cb3de84d041c1a83c30b622302a644f399cd77\nparent 5baedc33519661af9d19efcefd23dca8998d2547\nauthor furszy <matiasfurszyfer@protonmail.com> 1664892288 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1666810471 -0300\n\nwallet: simplify preset inputs selection target check\n\nwe are already computing the preset inputs total amount inside `PreSelectedInputs::Insert`,\nwhich internally decides whether to use the effective value or the raw output value based on\nthe 'subtract_fee_outputs' flag.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmNZgmcACgkQXdI8zGhq\npiP07A/9F8iYZI210IPpsv92L0gCPrklctSKXHxA7CBgPTzyapvI12p5fP3t1xHr\n00ygkBuZGD+mOTKa+d6R8lNUEjlDvUBBuQDOycG7TRxA5AVTGKVr30zWGY98mnFG\nomJxZ6Iu6lQW/qYGoD8YN6BsuJ4KfNGRT+WFg2nmpgxUBRqSyEQx7j2OCi0tJ5k6\nNq5ulU+1NM+7Z8ArkswPupy/O/8gqTPX5NAGQURdTJj7DRRmZkkEffN1DHz4JpZd\nA+JxFcVIQ3MNkwO6VxNiN66YxsJ9gu3/bs+Z0gGeppSyGVxvcnOO81TW3TNVBPtx\nD0PU6ElsQrOkMiqJ/Ym0yGAdOWaSn3x50f/LT+LCTxHHQ0/dsjKvQ1Yx5jRTbv/F\n/I7aS7GOjs42PDCoUvM+rZHbHK9gYb13JwCz7jbhnD5UoTwxmqxsEp9DIfL36qfm\nR/AotCpQDQq7nzdNgNRCm4U+JexxTCcM17XbwK+h5J0WZK/MnqwxIO3eZONnTulf\nGqTIG0Hb995tTlvDP6CFLWAKYT5R+Eof1ufDlO1JD8Bx3b6U5buRSIWLbukH4FvA\nP/LUf694L/9PSsd7Umu+7gXVGMHqV9H3g8AWK0jLMn8LET7dQbQhyfe4E8WPWgXG\n4d2fA0jvR5/5aV7JH5FMRLSJVqA2RiLQobel2kzH3elcqvkE1n4=\n=Ijs9\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5baedc33519661af9d19efcefd23dca8998d2547",
          "sha": "5baedc33519661af9d19efcefd23dca8998d2547",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5baedc33519661af9d19efcefd23dca8998d2547"
        }
      ],
      "message": "wallet: simplify preset inputs selection target check\n\nwe are already computing the preset inputs total amount inside `PreSelectedInputs::Insert`,\nwhich internally decides whether to use the effective value or the raw output value based on\nthe 'subtract_fee_outputs' flag.",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-10-26T18:54:31Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-10-04T14:04:48Z"
      },
      "sha": "f41712a734dc119f8a5e053a9cfa1f0411b5e8f1"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGE4YTc1MzQ2ZDdlNzI0NzU5NmM4YTU4MGQ2NWNlYWFkNDljOTdiOTc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a8a75346d7e7247596c8a580d65ceaad49c97b97",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a8a75346d7e7247596c8a580d65ceaad49c97b97",
      "tree": {
        "sha": "2f5e0d43633ed0a7a90daa276a7881bd176dce6d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2f5e0d43633ed0a7a90daa276a7881bd176dce6d"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 2f5e0d43633ed0a7a90daa276a7881bd176dce6d\nparent f41712a734dc119f8a5e053a9cfa1f0411b5e8f1\nauthor furszy <matiasfurszyfer@protonmail.com> 1661364193 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1666810471 -0300\n\nwallet: SelectCoins, return early if target is covered by preset-inputs\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmNZgmcACgkQXdI8zGhq\npiMFCBAAtOcc/qcb80s19qwmsZ57YEPJPKdvTHcFzmaZNB8HPzftPRPhKVwplhxI\njl5eNUuJQSMMnEbbVpqH1X3h6tukJ5Bp+T6ud+0/FTZocBxmSjIhLfhbxWMFNDSN\nIv3+wNSydCxbWvNlRFYu09PTllLJr87w3oWqB61AmMLM+g3RPmOKcChgzbt3cD9P\nxMEIcO5igjfnPVuX+q3MjRpjUA3NrdpzC/8XnKDej+MdqoZsAD+Y4WR2eA3Y9bY2\njI7rkHWCLk76riXqoRpcZva9D/8YZqbc/Arh3qcsgNlrglt1LIPSSIBJa+b4WoGX\noYYHqECJnITIErvwx4jPi5SkQBGDp3ay+HXkAt1sNFup7S9ZccSb4w4rGsPrSCNG\n5RxXoOEK15ANofmQ5DmeZyWOcKi4s8l3zBdYnMw3ik4EKOyl21DqjQY630sbdovk\nzyIYn5LazZHkL8LjgnnJe/mL9mc77jca0VF3v+nsyMpwqP2SwKf3QeCxPVwrsw6H\nrS1+dOfACINVSvaRIeiOhmz+oMOYqhmNCj8lGrzq+habeGqopPN+ysXBRcr7wY8V\n1uR0wppqAKdqwSFjnntudnzCyG3pSiGSAaJElJLpJqQlncgD+4MnOYxL+jBk1zpo\n5Mmv3w1tbOPvfZN3/IrLSxud/ROhfjUoeSv4a/QGLijT6J55API=\n=GWXM\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f41712a734dc119f8a5e053a9cfa1f0411b5e8f1",
          "sha": "f41712a734dc119f8a5e053a9cfa1f0411b5e8f1",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f41712a734dc119f8a5e053a9cfa1f0411b5e8f1"
        }
      ],
      "message": "wallet: SelectCoins, return early if target is covered by preset-inputs",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-10-26T18:54:31Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-08-24T18:03:13Z"
      },
      "sha": "a8a75346d7e7247596c8a580d65ceaad49c97b97"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDNmY2I1NDVhYjI2YmUzZTc4NWI1ZTU2NTRiZTBiZGM3NzA5OWQ4Mjc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "tree": {
        "sha": "b6e5d4e817e08fbf941ecc4c20fb1b96526ddd9b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b6e5d4e817e08fbf941ecc4c20fb1b96526ddd9b"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree b6e5d4e817e08fbf941ecc4c20fb1b96526ddd9b\nparent a8a75346d7e7247596c8a580d65ceaad49c97b97\nauthor furszy <matiasfurszyfer@protonmail.com> 1659549595 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1666810471 -0300\n\nbench: benchmark transaction creation process\n\nGoal 1:\nBenchmark the transaction creation process for pre-selected-inputs only.\nSetting `m_allow_other_inputs=false` to disallow the wallet to include coins automatically.\n\nGoal 2:\nBenchmark the transaction creation process for pre-selected-inputs and coin selection.\n\n-----------------------\n\nBenchmark Setup:\n1) Generates a 5k blockchain, loading the wallet with 5k transactions with two outputs each.\n2) Fetch 4 random UTXO from the wallet's available coins and pre-select them as inputs inside CoinControl.\n\nBenchmark (Goal 1):\nCall `CreateTransaction` providing the coin control, who has set `m_allow_other_inputs=false` and\nthe manually selected coins.\n\nBenchmark (Goal 2):\nCall `CreateTransaction` providing the coin control, who has set `m_allow_other_inputs=true` and\nthe manually selected coins.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmNZgmcACgkQXdI8zGhq\npiOjyQ/7B9RUo9sLJaEp5Xe4mAhx8mJQ0ShYyXyem1unOt8DcrJcutsIPPAUKrXS\nKO5pDoWHIhdwPt0dW1Vpr1gkETPoUZeIKMcZ1qLEhNaVXGkJgmgST8cbGhzxOMFE\nOzEEPlN85n6JBEopUcpTeTju1Gb1DfYM4V5SAB3Rgcpwh1yX4PpBTiz3WZUzMIiM\n2bs/fIoiSV+X20ruXR3rn44T4HYC96WvbATLGI+r0e04Jjs4sbKkXO+Js1LiUqG4\nLNnYcrHGnr36dEPShqlZ+0uXqvNiV2EPCodtFVmc1GZx4D//jv7LgGyLi+0diGAd\n1xwtIJOQEc8lIPDSH1LFoYW1S2KoKZ2+rkOBGexK3omAIiMGVcCK2ql7dsPxBt7T\n8Qz7quVTYRaWVuuPjeboX/2z10VNMTnJ+VouEYArfwIlJHXnw2HfOFN66DqdXdns\n6TWgmzVqigg+kEX2lvRTuOm3Zzc+EFUlWsp/mDAsJYktDhJcqnqrnbCQLJSBblQt\nrcH9og4tuCBp3iIqg5pdfxR5CkbjQFu7Wgo5TYlRywPOak3t3xULYbR2voi74KXW\nPhnB4plcDwLRUpSOiR7km0qS16XI9eMivu+kb7bYvQ/nhoN9talbQcPK1OxN4bka\nNT5l0m0qVOndUWglPb6WGghYH75IXoLJmQgIu7AqQrqWi++cD4w=\n=511N\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a8a75346d7e7247596c8a580d65ceaad49c97b97",
          "sha": "a8a75346d7e7247596c8a580d65ceaad49c97b97",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a8a75346d7e7247596c8a580d65ceaad49c97b97"
        }
      ],
      "message": "bench: benchmark transaction creation process\n\nGoal 1:\nBenchmark the transaction creation process for pre-selected-inputs only.\nSetting `m_allow_other_inputs=false` to disallow the wallet to include coins automatically.\n\nGoal 2:\nBenchmark the transaction creation process for pre-selected-inputs and coin selection.\n\n-----------------------\n\nBenchmark Setup:\n1) Generates a 5k blockchain, loading the wallet with 5k transactions with two outputs each.\n2) Fetch 4 random UTXO from the wallet's available coins and pre-select them as inputs inside CoinControl.\n\nBenchmark (Goal 1):\nCall `CreateTransaction` providing the coin control, who has set `m_allow_other_inputs=false` and\nthe manually selected coins.\n\nBenchmark (Goal 2):\nCall `CreateTransaction` providing the coin control, who has set `m_allow_other_inputs=true` and\nthe manually selected coins.",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-10-26T18:54:31Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-08-03T17:59:55Z"
      },
      "sha": "3fcb545ab26be3e785b5e5654be0bdc77099d827"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7675550079,
      "node_id": "HRFPE_lADOABII585Oa1bCzwAAAAHJf5l_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7675550079",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-26T18:55:49Z"
    },
    {
      "event": "commented",
      "id": 1292475834,
      "node_id": "IC_kwDOABII585NCZ26",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1292475834",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-26T18:58:34Z",
      "updated_at": "2022-10-26T18:58:34Z",
      "author_association": "MEMBER",
      "body": "Updated per @S3RK feedback, thanks.\r\n\r\nOnly change is the `ComputeAndSetWaste` call after the merge of the two selection results (preset and automatic selection results). So the waste score is properly calculated for the USDT logging. Small [diff](https://github.com/bitcoin/bitcoin/compare/5bea640cfb29a7d4e2edaa2a24c0457dbda41b0a..3fcb545ab26be3e785b5e5654be0bdc77099d827)",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#issuecomment-1292475834",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25685"
    },
    {
      "event": "mentioned",
      "id": 7675571838,
      "node_id": "MEE_lADOABII585Oa1bCzwAAAAHJf-5-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7675571838",
      "actor": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-26T18:58:34Z"
    },
    {
      "event": "subscribed",
      "id": 7675571845,
      "node_id": "SE_lADOABII585Oa1bCzwAAAAHJf-6F",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7675571845",
      "actor": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-26T18:58:34Z"
    },
    {
      "event": "reviewed",
      "id": 1157172070,
      "node_id": "PRR_kwDOABII585E-Qtm",
      "url": null,
      "actor": null,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "reACK 3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#pullrequestreview-1157172070",
      "submitted_at": "2022-10-26T19:32:25Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
    },
    {
      "event": "commented",
      "id": 1293106341,
      "node_id": "IC_kwDOABII585NEzyl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1293106341",
      "actor": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-27T07:26:58Z",
      "updated_at": "2022-10-27T07:26:58Z",
      "author_association": "CONTRIBUTOR",
      "body": "Code Review ACK 3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#issuecomment-1293106341",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25685"
    },
    {
      "event": "commented",
      "id": 1294113841,
      "node_id": "IC_kwDOABII585NIpwx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1294113841",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-27T21:48:44Z",
      "updated_at": "2022-10-27T21:48:44Z",
      "author_association": "MEMBER",
      "body": "ACK 3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#issuecomment-1294113841",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25685"
    },
    {
      "event": "merged",
      "id": 7686079620,
      "node_id": "ME_lADOABII585Oa1bCzwAAAAHKIESE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7686079620",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "f37bd15d472fdc7dd3d40cafaba9e8dfddd6b530",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f37bd15d472fdc7dd3d40cafaba9e8dfddd6b530",
      "created_at": "2022-10-27T21:49:29Z"
    },
    {
      "event": "closed",
      "id": 7686079652,
      "node_id": "CE_lADOABII585Oa1bCzwAAAAHKIESk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7686079652",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-27T21:49:29Z"
    },
    {
      "event": "referenced",
      "id": 7692587836,
      "node_id": "REFE_lADOABII585Oa1bCzwAAAAHKg5M8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7692587836",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "1da4c50bd500b531919e602faf258c856ed6932d",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/1da4c50bd500b531919e602faf258c856ed6932d",
      "created_at": "2022-10-28T15:15:05Z"
    },
    {
      "event": "referenced",
      "id": 7751963460,
      "node_id": "REFE_lADOABII585Oa1bCzwAAAAHODZNE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7751963460",
      "actor": {
        "login": "domob1812",
        "id": 4943644,
        "node_id": "MDQ6VXNlcjQ5NDM2NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4943644?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/domob1812",
        "html_url": "https://github.com/domob1812",
        "followers_url": "https://api.github.com/users/domob1812/followers",
        "following_url": "https://api.github.com/users/domob1812/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/domob1812/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/domob1812/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/domob1812/subscriptions",
        "organizations_url": "https://api.github.com/users/domob1812/orgs",
        "repos_url": "https://api.github.com/users/domob1812/repos",
        "events_url": "https://api.github.com/users/domob1812/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/domob1812/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "aadf6733f6426e69c3151711e2a572fad4d8da37",
      "commit_url": "https://api.github.com/repos/domob1812/namecoin-core/commits/aadf6733f6426e69c3151711e2a572fad4d8da37",
      "created_at": "2022-11-07T12:05:29Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-23T15:03:20Z",
      "updated_at": "2022-11-23T15:03:20Z",
      "source": {
        "issue": {
          "id": 1461923091,
          "node_id": "PR_kwDOABII585DkjHc",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26559",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26559/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26559/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26559/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26559",
          "number": 26559,
          "state": "closed",
          "state_reason": null,
          "title": "[24.x] wallet: bugfix, double-counted preset inputs during Coin Selection",
          "body": "Here I make the wallet select the preset inputs\r\ntwice during the coin selection process (on v24.0).\r\n\r\nMaking it think that the selection process result covers\r\nthe entire tx target when it does not. It's actually creating\r\na tx that sends more coins than what inputs are covering for.\r\n\r\nWhich, combined with the SFFO option, makes the wallet\r\nincorrectly reduce the tx recipient's amount by the difference\r\nbetween the original target and the double-counted inputs.\r\nWhich means, a created and relayed tx sending less coins to\r\nthe destination than what the user inputted.\r\n\r\n### Technical Explanation\r\n\r\nThe reason why this happens is that the `CoinsResult::Erase`\r\nmethod is removing only one output from the available coins\r\nvector (there is a [loop break](https://github.com/bitcoin/bitcoin/blob/c1061be14a515b0ed4f4d646fcd0378c62e6ded3/src/wallet/spend.cpp#L112) that should have never been\r\nthere) and not all the preset inputs.\r\n\r\nWhich makes the Coin Selection process receive the preset\r\ninputs inside the selectable coins **and** inside the preset\r\ninputs vector. \r\nWhich is not good, because we merge the preset inputs inside\r\nthe automatic Coin Selection result manually at the end of the\r\nprocess, so this result can already contain the preset inputs.\r\n\r\nSo.. this ends up with the Coin Selection result having less\r\ninputs selected and not covering the entire target amount.\r\nWhich, alone, makes the wallet crash inside the \"insane fee\" assertion.\r\n\r\nBut.. to make it worst, adding the subtract fee from output functionality\r\nto this mix ends up with the wallet by-passing the \"insane\" fee assertion,\r\ndecreasing the output amount to fulfill the insane fee, and.. sadly,\r\nbroadcasting the tx, with a reduced recipient's amount, to the network.\r\n\r\n### Important Note\r\n\r\nThis is only a problem for v24.0 and not in master.\r\nSince #25685, we no longer use the `CoinsResult::Erase` method inside\r\nthe Coin Selection Process.",
          "user": {
            "login": "furszy",
            "id": 5377650,
            "node_id": "MDQ6VXNlcjUzNzc2NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/furszy",
            "html_url": "https://github.com/furszy",
            "followers_url": "https://api.github.com/users/furszy/followers",
            "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
            "organizations_url": "https://api.github.com/users/furszy/orgs",
            "repos_url": "https://api.github.com/users/furszy/repos",
            "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/furszy/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 390024790,
              "node_id": "MDU6TGFiZWwzOTAwMjQ3OTA=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Backport",
              "name": "Backport",
              "description": "",
              "color": "dd7200",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 5,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26559",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26559",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26559.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26559.patch"
          },
          "closed_at": "2022-12-05T18:17:01Z",
          "created_at": "2022-11-23T15:03:20Z",
          "updated_at": "2024-05-26T12:52:59Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-23T15:13:40Z",
      "updated_at": "2022-11-23T15:13:40Z",
      "source": {
        "issue": {
          "id": 1461939996,
          "node_id": "PR_kwDOABII585Dkmyw",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26560",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26560/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26560/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26560/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26560",
          "number": 26560,
          "state": "closed",
          "state_reason": null,
          "title": "wallet: bugfix, invalid CoinsResult cached total amount",
          "body": "This comes with #26559.\r\n\r\nSolving few bugs inside the wallet's transaction creation\r\nprocess and adding test coverage for them.\r\nPlus, making use of the `CoinsResult::total_amount` cached value\r\ninside the Coin Selection process to return early if we don't have\r\nenough funds to cover the target amount.\r\n\r\n### Bugs\r\n\r\n1) The `CoinsResult::Erase` method removes only one\r\noutput from the available coins vector (there is a [loop break](https://github.com/bitcoin/bitcoin/blob/c1061be14a515b0ed4f4d646fcd0378c62e6ded3/src/wallet/spend.cpp#L112)\r\nthat should have never been there) and not all the preset inputs.\r\n\r\n   Which on master is not a problem, because since [#25685](https://github.com/bitcoin/bitcoin/pull/25685)\r\n   we are no longer using the method. But, it's a bug on v24\r\n   (check [#26559](https://github.com/bitcoin/bitcoin/pull/26559)).\r\n\r\n   This method it's being fixed and not removed because I'm later using it to solve\r\n   another bug inside this PR.\r\n\r\n2) As we update the total cached amount of the `CoinsResult` object inside\r\n   `AvailableCoins` and we don't use such function inside the coin selection\r\n   tests (we manually load up the `CoinsResult` object), there is a discrepancy\r\n   between the outputs that we add/erase and the total amount cached value.\r\n\r\n### Improvements\r\n\r\n* This makes use of the `CoinsResult` total amount field to early return\r\n  with an \"Insufficient funds\" error inside Coin Selection if the tx target\r\n  amount is greater than the sum of all the wallet available coins plus the\r\n  preset inputs amounts (we don't need to perform the entire coin selection\r\n  process if we already know that there aren't enough funds inside our wallet).\r\n\r\n### Test Coverage\r\n\r\n1) Adds test coverage for the duplicated preset input selection bug that we have in v24.\r\n  Where the wallet invalidly selects the preset inputs twice during the Coin Selection\r\n  process. Which ends up with a \"good\" Coin Selection result that does not cover the\r\n  total tx target amount. Which, alone, crashes the wallet due an insane fee.\r\n  But.. to make it worst, adding the subtract fee from output functionality\r\n  to this mix ends up with the wallet by-passing the \"insane\" fee assertion,\r\n  decreasing the output amount to fulfill the insane fee, and.. sadly,\r\n  broadcasting the tx to the network.\r\n\r\n2) Adds test coverage for the `CoinsResult::Erase` method.",
          "user": {
            "login": "furszy",
            "id": 5377650,
            "node_id": "MDQ6VXNlcjUzNzc2NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/furszy",
            "html_url": "https://github.com/furszy",
            "followers_url": "https://api.github.com/users/furszy/followers",
            "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
            "organizations_url": "https://api.github.com/users/furszy/orgs",
            "repos_url": "https://api.github.com/users/furszy/repos",
            "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/furszy/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 16,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26560",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26560",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26560.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26560.patch"
          },
          "closed_at": "2022-12-05T17:01:36Z",
          "created_at": "2022-11-23T15:13:40Z",
          "updated_at": "2023-09-01T14:47:21Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 7957044156,
      "node_id": "REFE_lADOABII585Oa1bCzwAAAAHaRtu8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7957044156",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "f0c4807a6a9b7391dcbadc4c7abcd0b5b95caf86",
      "commit_url": "https://api.github.com/repos/bitcoin-core/gui/commits/f0c4807a6a9b7391dcbadc4c7abcd0b5b95caf86",
      "created_at": "2022-12-05T17:00:56Z"
    },
    {
      "event": "referenced",
      "id": 7957391754,
      "node_id": "REFE_lADOABII585Oa1bCzwAAAAHaTCmK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7957391754",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "8dde7021c52f0603912b89b581b99d7e9944019e",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/8dde7021c52f0603912b89b581b99d7e9944019e",
      "created_at": "2022-12-05T17:39:39Z"
    },
    {
      "event": "referenced",
      "id": 7967904809,
      "node_id": "REFE_lADOABII585Oa1bCzwAAAAHa7JQp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7967904809",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "0db926e0e39913f74907722e62e1c87a63ac762f",
      "commit_url": "https://api.github.com/repos/furszy/bitcoin-core/commits/0db926e0e39913f74907722e62e1c87a63ac762f",
      "created_at": "2022-12-06T15:39:50Z"
    },
    {
      "event": "referenced",
      "id": 8037483742,
      "node_id": "REFE_lADOABII585Oa1bCzwAAAAHfEkTe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8037483742",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "abe2b010954fe6d1cae5825ee596985eb2d4c865",
      "commit_url": "https://api.github.com/repos/furszy/bitcoin-core/commits/abe2b010954fe6d1cae5825ee596985eb2d4c865",
      "created_at": "2022-12-14T13:53:11Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-14T14:07:02Z",
      "updated_at": "2022-12-14T14:07:02Z",
      "source": {
        "issue": {
          "id": 1496702678,
          "node_id": "PR_kwDOABII585FdB03",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26699",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26699/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26699/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26699/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26699",
          "number": 26699,
          "state": "closed",
          "state_reason": null,
          "title": "wallet, gui: bugfix, getAvailableBalance skips selected coins",
          "body": "Fixes https://github.com/bitcoin-core/gui/issues/688 and https://github.com/bitcoin/bitcoin/issues/26687.\r\n\r\nFirst Issue Description (https://github.com/bitcoin-core/gui/issues/688):\r\n\r\nThe previous behavior for `getAvailableBalance`, when the coin control had selected coins, was to return the sum of them. Instead, we are currently returning the wallet's available total balance minus the selected coins total amount.\r\n\r\nReason:\r\nMissed to update the `GetAvailableBalance` function to include the coin control selected coins on #25685.\r\n\r\nContext:\r\nSince #25685 we skip the selected coins inside `AvailableCoins`, the reason is that there is no need to waste resources walking through the entire wallet's txes map just to get coins that could have gotten by just doing a simple `mapWallet.find`).\r\n\r\nPlaces Where This Generates Issues (only when the user manually select coins via coin control):\r\n1) The GUI balance check prior the transaction creation process.\r\n2) The GUI \"useAvailableBalance\" functionality.\r\n\r\nNote 1:\r\nAs the GUI uses a balance cache since https://github.com/bitcoin-core/gui/pull/598, this issue does not affect the regular spending process. Only arises when the user manually select coins.\r\n\r\nNote 2:\r\nAdded test coverage for the `useAvailableBalance` functionality.\r\n\r\n----------------------------------\r\n\r\nSecond Issue Description (https://github.com/bitcoin/bitcoin/issues/26687):\r\n\r\nAs we are using a cached balance on `WalletModel::getAvailableBalance`,\r\nthe function needs to include the watch-only available balance for wallets\r\nwith private keys disabled.\r\n",
          "user": {
            "login": "furszy",
            "id": 5377650,
            "node_id": "MDQ6VXNlcjUzNzc2NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/furszy",
            "html_url": "https://github.com/furszy",
            "followers_url": "https://api.github.com/users/furszy/followers",
            "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
            "organizations_url": "https://api.github.com/users/furszy/orgs",
            "repos_url": "https://api.github.com/users/furszy/repos",
            "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/furszy/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/56",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/56",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/56/labels",
            "id": 7733968,
            "node_id": "MI_kwDOABII584AdgLQ",
            "number": 56,
            "state": "closed",
            "title": "25.0",
            "description": "",
            "creator": {
              "login": "laanwj",
              "id": 126646,
              "node_id": "MDQ6VXNlcjEyNjY0Ng==",
              "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/laanwj",
              "html_url": "https://github.com/laanwj",
              "followers_url": "https://api.github.com/users/laanwj/followers",
              "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
              "organizations_url": "https://api.github.com/users/laanwj/orgs",
              "repos_url": "https://api.github.com/users/laanwj/repos",
              "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/laanwj/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 38,
            "created_at": "2022-03-03T18:51:29Z",
            "updated_at": "2023-05-25T13:24:42Z",
            "closed_at": "2023-05-25T13:24:42Z"
          },
          "locked": false,
          "comments": 13,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26699",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26699",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26699.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26699.patch"
          },
          "closed_at": "2023-04-11T18:06:25Z",
          "created_at": "2022-12-14T14:07:01Z",
          "updated_at": "2024-02-19T14:53:20Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 8257503126,
      "node_id": "REFE_lADOABII585Oa1bCzwAAAAHsL3-W",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8257503126",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "cc3bf0e18764d12664cb311befa9dedef62db7ed",
      "commit_url": "https://api.github.com/repos/furszy/bitcoin-core/commits/cc3bf0e18764d12664cb311befa9dedef62db7ed",
      "created_at": "2023-01-18T16:20:37Z"
    },
    {
      "event": "referenced",
      "id": 8306497298,
      "node_id": "REFE_lADOABII585Oa1bCzwAAAAHvGxcS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8306497298",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "54ac0f8c2f9f7a8c7f64e42ff60ebee3ab5e47dd",
      "commit_url": "https://api.github.com/repos/furszy/bitcoin-core/commits/54ac0f8c2f9f7a8c7f64e42ff60ebee3ab5e47dd",
      "created_at": "2023-01-18T22:25:58Z"
    },
    {
      "event": "referenced",
      "id": 8562066536,
      "node_id": "REFE_lADOABII585Oa1bCzwAAAAH-VsRo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8562066536",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "072b41155090f4a4db6ca1aae1d6a575ff321be0",
      "commit_url": "https://api.github.com/repos/furszy/bitcoin-core/commits/072b41155090f4a4db6ca1aae1d6a575ff321be0",
      "created_at": "2023-02-20T14:01:16Z"
    },
    {
      "event": "referenced",
      "id": 8846060082,
      "node_id": "REFE_lADOABII585Oa1bCzwAAAAIPRCoy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8846060082",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "0a92dce5e43eb1921aeaa0e426e0931417affad4",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/0a92dce5e43eb1921aeaa0e426e0931417affad4",
      "created_at": "2023-03-25T21:36:07Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-31T16:09:29Z",
      "updated_at": "2023-03-31T16:09:29Z",
      "source": {
        "issue": {
          "id": 1509310725,
          "node_id": "I_kwDOEEET9c5Z9kEF",
          "url": "https://api.github.com/repos/bitcoin-core/gui/issues/688",
          "repository_url": "https://api.github.com/repos/bitcoin-core/gui",
          "labels_url": "https://api.github.com/repos/bitcoin-core/gui/issues/688/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin-core/gui/issues/688/comments",
          "events_url": "https://api.github.com/repos/bitcoin-core/gui/issues/688/events",
          "html_url": "https://github.com/bitcoin-core/gui/issues/688",
          "number": 688,
          "state": "closed",
          "state_reason": "completed",
          "title": "Selecting two coins will abort with \"The amount exceeds your balance.\"",
          "body": "Steps to reproduce:\r\n\r\n* Select two coins in Coin Control\r\n* Copy-paste the amount (sum of the two coins) into the receive address value field and check \"Subtract fee from amount\"\r\n\r\nVersion: v24.99.0-6d40a1a7e7f0",
          "user": {
            "login": "maflcko",
            "id": 6399679,
            "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/maflcko",
            "html_url": "https://github.com/maflcko",
            "followers_url": "https://api.github.com/users/maflcko/followers",
            "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
            "organizations_url": "https://api.github.com/users/maflcko/orgs",
            "repos_url": "https://api.github.com/users/maflcko/repos",
            "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/maflcko/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 2140649117,
              "node_id": "MDU6TGFiZWwyMTQwNjQ5MTE3",
              "url": "https://api.github.com/repos/bitcoin-core/gui/labels/Bug",
              "name": "Bug",
              "description": "Something isn't working",
              "color": "d73a4a",
              "default": false
            },
            {
              "id": 2927906211,
              "node_id": "MDU6TGFiZWwyOTI3OTA2MjEx",
              "url": "https://api.github.com/repos/bitcoin-core/gui/labels/Wallet",
              "name": "Wallet",
              "description": "",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin-core/gui/milestones/9",
            "html_url": "https://github.com/bitcoin-core/gui/milestone/9",
            "labels_url": "https://api.github.com/repos/bitcoin-core/gui/milestones/9/labels",
            "id": 7846283,
            "node_id": "MI_kwDOEEET9c4Ad7mL",
            "number": 9,
            "state": "closed",
            "title": "25.0",
            "description": "",
            "creator": {
              "login": "laanwj",
              "id": 126646,
              "node_id": "MDQ6VXNlcjEyNjY0Ng==",
              "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/laanwj",
              "html_url": "https://github.com/laanwj",
              "followers_url": "https://api.github.com/users/laanwj/followers",
              "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
              "organizations_url": "https://api.github.com/users/laanwj/orgs",
              "repos_url": "https://api.github.com/users/laanwj/repos",
              "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/laanwj/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 3,
            "created_at": "2022-04-06T16:31:55Z",
            "updated_at": "2024-02-15T11:11:10Z",
            "closed_at": "2024-02-15T11:11:10Z"
          },
          "locked": true,
          "comments": 3,
          "closed_at": "2023-04-11T18:06:19Z",
          "created_at": "2022-12-23T12:44:22Z",
          "updated_at": "2024-04-10T12:42:07Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 8906632178,
      "node_id": "REFE_lADOABII585Oa1bCzwAAAAIS4Gvy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8906632178",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "8cd77302305a2387368aabe8744b1859caf9956a",
      "commit_url": "https://api.github.com/repos/furszy/bitcoin-core/commits/8cd77302305a2387368aabe8744b1859caf9956a",
      "created_at": "2023-04-02T15:32:27Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-03T03:03:47Z",
      "updated_at": "2023-04-03T03:03:47Z",
      "source": {
        "issue": {
          "id": 1651248848,
          "node_id": "PR_kwDOHHqDHM5Ncm9i",
          "url": "https://api.github.com/repos/NYDIG/bitcoin-task-bounty/issues/32",
          "repository_url": "https://api.github.com/repos/NYDIG/bitcoin-task-bounty",
          "labels_url": "https://api.github.com/repos/NYDIG/bitcoin-task-bounty/issues/32/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/NYDIG/bitcoin-task-bounty/issues/32/comments",
          "events_url": "https://api.github.com/repos/NYDIG/bitcoin-task-bounty/issues/32/events",
          "html_url": "https://github.com/NYDIG/bitcoin-task-bounty/pull/32",
          "number": 32,
          "state": "closed",
          "state_reason": null,
          "title": "Mark \"too-long-mempool-chain error msg\" completed",
          "body": "PR: https://github.com/bitcoin/bitcoin/pull/24845\r\nMerge commit on master: https://github.com/bitcoin/bitcoin/commit/381593c906fb54340dbc2377e2ebc6fb37582d08\r\n\r\nFun Note:\r\nThis apparently \"small\" work required https://github.com/bitcoin/bitcoin/pull/25118, https://github.com/bitcoin/bitcoin/pull/25218, https://github.com/bitcoin/bitcoin/pull/25685, https://github.com/bitcoin/bitcoin/pull/25806, https://github.com/bitcoin/bitcoin/pull/26661.",
          "user": {
            "login": "furszy",
            "id": 5377650,
            "node_id": "MDQ6VXNlcjUzNzc2NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/furszy",
            "html_url": "https://github.com/furszy",
            "followers_url": "https://api.github.com/users/furszy/followers",
            "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
            "organizations_url": "https://api.github.com/users/furszy/orgs",
            "repos_url": "https://api.github.com/users/furszy/repos",
            "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/furszy/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 1,
          "pull_request": {
            "url": "https://api.github.com/repos/NYDIG/bitcoin-task-bounty/pulls/32",
            "html_url": "https://github.com/NYDIG/bitcoin-task-bounty/pull/32",
            "diff_url": "https://github.com/NYDIG/bitcoin-task-bounty/pull/32.diff",
            "patch_url": "https://github.com/NYDIG/bitcoin-task-bounty/pull/32.patch"
          },
          "closed_at": "2023-04-03T12:20:12Z",
          "created_at": "2023-04-03T03:03:47Z",
          "updated_at": "2023-04-03T12:20:12Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 8917106358,
      "node_id": "REFE_lADOABII585Oa1bCzwAAAAITgD62",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8917106358",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "dc1cc1c35995dc09085b3d9270c445b7923fdb51",
      "commit_url": "https://api.github.com/repos/furszy/bitcoin-core/commits/dc1cc1c35995dc09085b3d9270c445b7923fdb51",
      "created_at": "2023-04-03T20:24:55Z"
    },
    {
      "event": "referenced",
      "id": 8974925759,
      "node_id": "REFE_lADOABII585Oa1bCzwAAAAIW8n-_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8974925759",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "70227d66d59eb6c88b11221e9eb36aca0e7421f2",
      "commit_url": "https://api.github.com/repos/furszy/bitcoin-core/commits/70227d66d59eb6c88b11221e9eb36aca0e7421f2",
      "created_at": "2023-04-11T14:52:01Z"
    },
    {
      "event": "referenced",
      "id": 8976833058,
      "node_id": "REFE_lADOABII585Oa1bCzwAAAAIXD5oi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8976833058",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "27dcc07c08a77eba53ccc91e5521ff674f1bd198",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/27dcc07c08a77eba53ccc91e5521ff674f1bd198",
      "created_at": "2023-04-11T18:06:21Z"
    },
    {
      "event": "head_ref_deleted",
      "id": 9355563810,
      "node_id": "HRDE_lADOABII585Oa1bCzwAAAAItopMi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9355563810",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-27T01:48:35Z"
    },
    {
      "event": "referenced",
      "id": 9356917933,
      "node_id": "REFE_lADOABII585Oa1bCzwAAAAIttzyt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9356917933",
      "actor": {
        "login": "RandyMcMillan",
        "id": 152159,
        "node_id": "MDQ6VXNlcjE1MjE1OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/152159?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/RandyMcMillan",
        "html_url": "https://github.com/RandyMcMillan",
        "followers_url": "https://api.github.com/users/RandyMcMillan/followers",
        "following_url": "https://api.github.com/users/RandyMcMillan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/RandyMcMillan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/RandyMcMillan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/RandyMcMillan/subscriptions",
        "organizations_url": "https://api.github.com/users/RandyMcMillan/orgs",
        "repos_url": "https://api.github.com/users/RandyMcMillan/repos",
        "events_url": "https://api.github.com/users/RandyMcMillan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/RandyMcMillan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "c3d17ccafe7f3a7a0f94f131a666d22290693d1e",
      "commit_url": "https://api.github.com/repos/RandyMcMillan/bitcoin/commits/c3d17ccafe7f3a7a0f94f131a666d22290693d1e",
      "created_at": "2023-05-27T11:21:59Z"
    },
    {
      "event": "locked",
      "id": 12936640970,
      "node_id": "LOE_lADOABII585Oa1bCzwAAAAMDFXnK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12936640970",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-26T12:53:05Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/937198427",
      "pull_request_review_id": 1061090900,
      "id": 937198427,
      "node_id": "PRRC_kwDOABII58433INb",
      "diff_hunk": "@@ -105,6 +105,54 @@ void CoinsResult::clear()\n     other.clear();\n }\n \n+// Fetch the coin control selected inputs and wrap them inside a COutput.\n+// Coins could be internal (from the wallet) or external.\n+BResult<CoinsResult> FetchSelectedInputs(const CWallet& wallet, const CCoinControl& coin_control,",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "23448cae6f4a5f00766df9220860b16311266417",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 23448cae6f4a5f00766df9220860b16311266417 \"wallet: encapsulate pre-selected-inputs lookup into its own function\"\r\n\r\nI think this should return a `SelectionResult` rather than `CoinsResult`. It would elimiate the second iteration inside of `SelectCoins`.\r\n\r\nIt could also return the selected value too so the caller could reduce the target before `SelectCoins` and eliminate an additional iteration of the preselcted inputs.",
      "created_at": "2022-08-03T22:49:58Z",
      "updated_at": "2022-08-03T22:59:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r937198427",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/937198427"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 110,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/937199343",
      "pull_request_review_id": 1061090900,
      "id": 937199343,
      "node_id": "PRRC_kwDOABII58433Ibv",
      "diff_hunk": "@@ -153,6 +153,31 @@ BResult<CoinsResult> FetchSelectedInputs(const CWallet& wallet, const CCoinContr\n     return result;\n }\n \n+BResult<CoinsFund> FetchCoins(const CWallet& wallet, const CCoinControl& coin_control,",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "84b4ffe85ba0267c49080e9a096e45d6af63e720",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 84b4ffe85ba0267c49080e9a096e45d6af63e720 \"wallet: remove fetch pre-selected-inputs responsibility from SelectCoins\"\r\n\r\nI don't think it's necessary to have another function here to wrap these two calls. They could just be in `CreateTransactionInternal`",
      "created_at": "2022-08-03T22:51:55Z",
      "updated_at": "2022-08-03T22:59:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r937199343",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/937199343"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 156,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/937199609",
      "pull_request_review_id": 1061090900,
      "id": 937199609,
      "node_id": "PRRC_kwDOABII58433If5",
      "diff_hunk": "@@ -153,6 +153,31 @@ BResult<CoinsResult> FetchSelectedInputs(const CWallet& wallet, const CCoinContr\n     return result;\n }\n \n+BResult<CoinsFund> FetchCoins(const CWallet& wallet, const CCoinControl& coin_control,\n+                              const CoinSelectionParams& coin_selection_params) EXCLUSIVE_LOCKS_REQUIRED(wallet.cs_wallet)\n+{\n+    CoinsFund result;\n+\n+    // Fetch manually select coins\n+    if (coin_control.HasSelected()) {\n+        result.pre_selected_inputs = FetchSelectedInputs(wallet, coin_control, coin_selection_params);\n+        if (!result.pre_selected_inputs) return result.pre_selected_inputs.GetError();\n+\n+        // If no other inputs are allowed, return early\n+        if (!coin_control.m_allow_other_inputs) return result;",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 15,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "84b4ffe85ba0267c49080e9a096e45d6af63e720",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "M\r\nIn 84b4ffe85ba0267c49080e9a096e45d6af63e720 \"wallet: remove fetch pre-selected-inputs responsibility from SelectCoins\"\r\n\r\nThis check could be moved to the top of `AvailableCoins` and it would achieve the same effect. Doing so would also not change `AvailableCoins`'s semantics.",
      "created_at": "2022-08-03T22:52:26Z",
      "updated_at": "2022-08-03T22:59:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r937199609",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/937199609"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 167,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/937201516",
      "pull_request_review_id": 1061090900,
      "id": 937201516,
      "node_id": "PRRC_kwDOABII58433I9s",
      "diff_hunk": "@@ -575,24 +602,17 @@ std::optional<SelectionResult> ChooseSelectionResult(const CWallet& wallet, cons\n     return best_result;\n }\n \n-std::optional<SelectionResult> SelectCoins(const CWallet& wallet, CoinsResult& available_coins, const CAmount& nTargetValue, const CCoinControl& coin_control, const CoinSelectionParams& coin_selection_params)\n+std::optional<SelectionResult> SelectCoins(const CWallet& wallet, CoinsFund& coins, const CAmount& nTargetValue, const CCoinControl& coin_control, const CoinSelectionParams& coin_selection_params)\n {\n     CAmount value_to_select = nTargetValue;\n \n+    // Add the manually selected coins first",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 52,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "84b4ffe85ba0267c49080e9a096e45d6af63e720",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 84b4ffe85ba0267c49080e9a096e45d6af63e720 \"wallet: remove fetch pre-selected-inputs responsibility from SelectCoins\"\r\n\r\nI'm wondering if we should just make this function only return a `SelectionResult` for the automatic coin selection and move the preset input stuff to the caller. If `FetchSelectedInputs` made a `SelectionResult` for the preset inputs, then the only preset input things left in `SelectCoins` would be the merging of the `SelectionResult`s, and that can be done in the caller too.",
      "created_at": "2022-08-03T22:56:50Z",
      "updated_at": "2022-08-03T22:59:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r937201516",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/937201516"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 609,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/938067217",
      "pull_request_review_id": 1062333921,
      "id": 938067217,
      "node_id": "PRRC_kwDOABII58436cUR",
      "diff_hunk": "@@ -105,6 +105,54 @@ void CoinsResult::clear()\n     other.clear();\n }\n \n+// Fetch the coin control selected inputs and wrap them inside a COutput.\n+// Coins could be internal (from the wallet) or external.\n+BResult<CoinsResult> FetchSelectedInputs(const CWallet& wallet, const CCoinControl& coin_control,",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "23448cae6f4a5f00766df9220860b16311266417",
      "in_reply_to_id": 937198427,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "good thought ðŸ‘ðŸ¼ \r\n\r\nMost likely, will need to do this change incrementally (right after 23448cae) because if `FetchSelectedInputs` returns a `SelectionResult`, need to add a method for merging two `SelectionResult` objects (the pre-set-inputs result and the wallet's selection result).\r\n\r\nWe are currently creating an `OutputGroup` at the beginning of `SelectCoins` with the pre-set-inputs just to merge it at the end of the function with the wallet's selection algorithm result. The reason is that `SelectResult` only has a function `AddInputs(OutputGroups)` and not an `AddInputs(set<COutputs>)` nor a merge method.\r\n\r\nSide note, based on a quick code review: the selection result built from the combination of pre-set-inputs and the wallet selected ones should be having an inaccurate waste calculation -- will do some tests in another PR --).",
      "created_at": "2022-08-04T17:27:03Z",
      "updated_at": "2022-08-04T17:27:36Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r938067217",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/938067217"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 110,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/938977841",
      "pull_request_review_id": 1063597940,
      "id": 938977841,
      "node_id": "PRRC_kwDOABII584396ox",
      "diff_hunk": "@@ -153,6 +153,31 @@ BResult<CoinsResult> FetchSelectedInputs(const CWallet& wallet, const CCoinContr\n     return result;\n }\n \n+BResult<CoinsFund> FetchCoins(const CWallet& wallet, const CCoinControl& coin_control,\n+                              const CoinSelectionParams& coin_selection_params) EXCLUSIVE_LOCKS_REQUIRED(wallet.cs_wallet)\n+{\n+    CoinsFund result;\n+\n+    // Fetch manually select coins\n+    if (coin_control.HasSelected()) {\n+        result.pre_selected_inputs = FetchSelectedInputs(wallet, coin_control, coin_selection_params);\n+        if (!result.pre_selected_inputs) return result.pre_selected_inputs.GetError();\n+\n+        // If no other inputs are allowed, return early\n+        if (!coin_control.m_allow_other_inputs) return result;",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 15,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "84b4ffe85ba0267c49080e9a096e45d6af63e720",
      "in_reply_to_id": 937199609,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I added it here (inside the `coin_control.HasSelected()` block) to not change the current behavior and minimize the amount of changes.\r\n\r\nIn master, even if `m_allow_other_inputs` is false, we are automatically falling back to select coins from the wallet if there are no pre-set inputs inside coin control.\r\n\r\nThis basically is because the default value for `m_allow_other_inputs` is false, and some RPC commands that don't allow inputs manual selection such as `sendtoaddress` and `sendmany` are not setting it to true. So.. they are always falling back to select coins from the wallet.\r\n\r\nSo.. if I move this check below, will need to set `m_allow_other_inputs=true` in every caller that does not add any input manually (or.. change the default value to be true inside coin control).\r\n\r\nbut.. let me see if those two RPC commands are the only affected ones. Maybe it's a straightforward change.\r\nI do agree that the current master behavior of automatically falling back to select coins from the wallet even when `m_allow_other_inputs=false` is messy and not an expected behavior.",
      "created_at": "2022-08-05T16:28:07Z",
      "updated_at": "2022-08-05T16:28:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r938977841",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/938977841"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 167,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/939527188",
      "pull_request_review_id": 1064306382,
      "id": 939527188,
      "node_id": "PRRC_kwDOABII5844AAwU",
      "diff_hunk": "@@ -575,24 +602,17 @@ std::optional<SelectionResult> ChooseSelectionResult(const CWallet& wallet, cons\n     return best_result;\n }\n \n-std::optional<SelectionResult> SelectCoins(const CWallet& wallet, CoinsResult& available_coins, const CAmount& nTargetValue, const CCoinControl& coin_control, const CoinSelectionParams& coin_selection_params)\n+std::optional<SelectionResult> SelectCoins(const CWallet& wallet, CoinsFund& coins, const CAmount& nTargetValue, const CCoinControl& coin_control, const CoinSelectionParams& coin_selection_params)\n {\n     CAmount value_to_select = nTargetValue;\n \n+    // Add the manually selected coins first",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 52,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "84b4ffe85ba0267c49080e9a096e45d6af63e720",
      "in_reply_to_id": 937201516,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Been thinking about this and pushed some refactoring that you might like a bit more.\r\n\r\nThe idea was based on try to not mix the Coin Selection code with the inputs fetching while still be able to remove the manual coins selection stuff from the automatic coin selection, the extra loops for the pre-set inputs and  the `FetchCoins` wrapper function.\r\n\r\nSo, have decoupled the `SelectCoins` into two functions:\r\n\r\n1) AutomaticCoinSelection:\r\nWhich is basically the previously called `SelectCoins` without the manually selected inputs stuff.\r\nSo, it will purely receive a set of coins and be in charge of selecting the best subset of them to\r\ncover the target amount.\r\n\r\n2) SelectCoins:\r\nIn charge of selecting all the user manually selected coins first (\"pre-set inputs\"), and\r\nif coin_control 'm_allow_other_inputs=true', call 'AutomaticCoinSelection' to select a\r\nset of coins such that the target - pre_set_inputs.total_amount is met. Then merge\r\nboth results.",
      "created_at": "2022-08-06T13:11:59Z",
      "updated_at": "2022-08-06T13:11:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r939527188",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/939527188"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 609,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/939527292",
      "pull_request_review_id": 1064306476,
      "id": 939527292,
      "node_id": "PRRC_kwDOABII5844AAx8",
      "diff_hunk": "@@ -153,6 +153,31 @@ BResult<CoinsResult> FetchSelectedInputs(const CWallet& wallet, const CCoinContr\n     return result;\n }\n \n+BResult<CoinsFund> FetchCoins(const CWallet& wallet, const CCoinControl& coin_control,",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "84b4ffe85ba0267c49080e9a096e45d6af63e720",
      "in_reply_to_id": 937199343,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "True. It's not used anywhere else for now.\r\nHave removed the function and the `CoinsFunds` struct as well.",
      "created_at": "2022-08-06T13:13:27Z",
      "updated_at": "2022-08-06T13:13:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r939527292",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/939527292"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 156,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/941723753",
      "pull_request_review_id": 1067271776,
      "id": 941723753,
      "node_id": "PRRC_kwDOABII5844IZBp",
      "diff_hunk": "@@ -105,6 +105,61 @@ void CoinsResult::clear()\n     other.clear();\n }\n \n+struct SelectedInputs\n+{\n+    std::set<COutput> coins;\n+    // If subtract fee from outputs is active, the 'total_amount'\n+    // will be the sum of each output effective value\n+    // instead of the sum of the outputs amount",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 9,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "4946384e2f56333274baf7fab1dfd41b046e12a1",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 4946384e2f56333274baf7fab1dfd41b046e12a1 \"wallet: encapsulate pre-selected-inputs lookup into its own function\"\r\n\r\nThis comment is backwards. The total amount uses the effective value normally, and real value when SFFO.",
      "created_at": "2022-08-09T19:25:08Z",
      "updated_at": "2022-08-09T19:58:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r941723753",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/941723753"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": 111,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 113,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/941726842",
      "pull_request_review_id": 1067271776,
      "id": 941726842,
      "node_id": "PRRC_kwDOABII5844IZx6",
      "diff_hunk": "@@ -136,9 +135,36 @@ std::optional<SelectionResult> ChooseSelectionResult(const CWallet& wallet, cons\n  * returns                             If successful, a SelectionResult containing the selected coins\n  *                                     If failed, a nullopt.\n  */\n-std::optional<SelectionResult> SelectCoins(const CWallet& wallet, CoinsResult& available_coins, const CAmount& nTargetValue, const CCoinControl& coin_control,\n+std::optional<SelectionResult> AutomaticCoinSelection(const CWallet& wallet, CoinsResult& available_coins, const CAmount& nTargetValue, const CCoinControl& coin_control,\n                  const CoinSelectionParams& coin_selection_params) EXCLUSIVE_LOCKS_REQUIRED(wallet.cs_wallet);\n \n+struct SelectedInputs\n+{\n+    std::set<COutput> coins;\n+    // If subtract fee from outputs is active, the 'total_amount'\n+    // will be the sum of each output effective value\n+    // instead of the sum of the outputs amount\n+    CAmount total_amount{0};\n+\n+    void Insert(const COutput& output, bool subtract_fee_outputs)\n+    {\n+        if (subtract_fee_outputs) {\n+            total_amount += output.txout.nValue;\n+        } else {\n+            total_amount += output.GetEffectiveValue();\n+        }\n+        coins.insert(output);\n+    }\n+};",
      "path": "src/wallet/spend.h",
      "position": null,
      "original_position": 35,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "bc16c074cac96e2ee9a2f3e5d2705b6168f76f80",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In bc16c074cac96e2ee9a2f3e5d2705b6168f76f80 \"wallet: remove fetch pre-selected-inputs responsibility from SelectCoins\"\r\n\r\nISTM This should just be in the previous commit.",
      "created_at": "2022-08-09T19:29:20Z",
      "updated_at": "2022-08-09T19:58:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r941726842",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/941726842"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": 141,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 142,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/941871246",
      "pull_request_review_id": 1067476230,
      "id": 941871246,
      "node_id": "PRRC_kwDOABII5844I9CO",
      "diff_hunk": "@@ -105,6 +105,61 @@ void CoinsResult::clear()\n     other.clear();\n }\n \n+struct SelectedInputs\n+{\n+    std::set<COutput> coins;\n+    // If subtract fee from outputs is active, the 'total_amount'\n+    // will be the sum of each output effective value\n+    // instead of the sum of the outputs amount",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 9,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "4946384e2f56333274baf7fab1dfd41b046e12a1",
      "in_reply_to_id": 941723753,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "ups, pushed.",
      "created_at": "2022-08-09T23:01:39Z",
      "updated_at": "2022-08-09T23:01:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r941871246",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/941871246"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": 111,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 113,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/941871296",
      "pull_request_review_id": 1067476299,
      "id": 941871296,
      "node_id": "PRRC_kwDOABII5844I9DA",
      "diff_hunk": "@@ -136,9 +135,36 @@ std::optional<SelectionResult> ChooseSelectionResult(const CWallet& wallet, cons\n  * returns                             If successful, a SelectionResult containing the selected coins\n  *                                     If failed, a nullopt.\n  */\n-std::optional<SelectionResult> SelectCoins(const CWallet& wallet, CoinsResult& available_coins, const CAmount& nTargetValue, const CCoinControl& coin_control,\n+std::optional<SelectionResult> AutomaticCoinSelection(const CWallet& wallet, CoinsResult& available_coins, const CAmount& nTargetValue, const CCoinControl& coin_control,\n                  const CoinSelectionParams& coin_selection_params) EXCLUSIVE_LOCKS_REQUIRED(wallet.cs_wallet);\n \n+struct SelectedInputs\n+{\n+    std::set<COutput> coins;\n+    // If subtract fee from outputs is active, the 'total_amount'\n+    // will be the sum of each output effective value\n+    // instead of the sum of the outputs amount\n+    CAmount total_amount{0};\n+\n+    void Insert(const COutput& output, bool subtract_fee_outputs)\n+    {\n+        if (subtract_fee_outputs) {\n+            total_amount += output.txout.nValue;\n+        } else {\n+            total_amount += output.GetEffectiveValue();\n+        }\n+        coins.insert(output);\n+    }\n+};",
      "path": "src/wallet/spend.h",
      "position": null,
      "original_position": 35,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "bc16c074cac96e2ee9a2f3e5d2705b6168f76f80",
      "in_reply_to_id": 941726842,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "done",
      "created_at": "2022-08-09T23:01:46Z",
      "updated_at": "2022-08-09T23:01:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r941871296",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/941871296"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": 141,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 142,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/943422954",
      "pull_request_review_id": 1069629761,
      "id": 943422954,
      "node_id": "PRRC_kwDOABII5844O33q",
      "diff_hunk": "@@ -885,17 +878,29 @@ static util::Result<CreatedTransactionResult> CreateTransactionInternal(\n     const CAmount not_input_fees = coin_selection_params.m_effective_feerate.GetFee(coin_selection_params.tx_noinputs_size);\n     CAmount selection_target = recipients_sum + not_input_fees;\n \n-    // Get available coins\n-    auto available_coins = AvailableCoins(wallet,\n-                                              &coin_control,\n-                                              coin_selection_params.m_effective_feerate,\n-                                              1,            /*nMinimumAmount*/\n-                                              MAX_MONEY,    /*nMaximumAmount*/\n-                                              MAX_MONEY,    /*nMinimumSumAmount*/\n-                                              0);           /*nMaximumCount*/\n+    // Fetch manually select coins",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 198,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "c8f3be406deeda72212f764d0156b47b26dbd1b3",
      "in_reply_to_id": null,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n    // Fetch manually selected coins\r\n```",
      "created_at": "2022-08-11T12:25:52Z",
      "updated_at": "2022-08-11T16:17:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r943422954",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/943422954"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 881,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/943428008",
      "pull_request_review_id": 1069636850,
      "id": 943428008,
      "node_id": "PRRC_kwDOABII5844O5Go",
      "diff_hunk": "@@ -105,6 +105,47 @@ void CoinsResult::clear()\n     other.clear();\n }\n \n+// Fetch and validate the coin control selected inputs.\n+// Coins could be internal (from the wallet) or external.\n+util::Result<SelectedInputs> FetchSelectedInputs(const CWallet& wallet, const CCoinControl& coin_control,",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "a53748e3323a33829134cb575830933ac1893323",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'd recommend calling this `GetPreSelectedInputs`. we tend to use `Get*` throughout the codebase and since this function is for pre-selected inputs only, it makes sense to make the function name specific",
      "created_at": "2022-08-11T12:31:02Z",
      "updated_at": "2022-08-11T12:39:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r943428008",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/943428008"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 110,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/943429632",
      "pull_request_review_id": 1069636850,
      "id": 943429632,
      "node_id": "PRRC_kwDOABII5844O5gA",
      "diff_hunk": "@@ -125,6 +125,26 @@ std::optional<SelectionResult> AttemptSelection(const CWallet& wallet, const CAm\n std::optional<SelectionResult> ChooseSelectionResult(const CWallet& wallet, const CAmount& nTargetValue, const CoinEligibilityFilter& eligibility_filter, const std::vector<COutput>& available_coins,\n                         const CoinSelectionParams& coin_selection_params);\n \n+// User manually selected inputs that must be part of the transaction\n+struct SelectedInputs",
      "path": "src/wallet/spend.h",
      "position": null,
      "original_position": 5,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "a53748e3323a33829134cb575830933ac1893323",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "why not call this `PreSelectedInputs` or `ManualInputs`? `SelectedInputs` doesn't really tell me who selected them and could easily be confused with a `SelectionResult`",
      "created_at": "2022-08-11T12:32:47Z",
      "updated_at": "2022-08-11T12:39:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r943429632",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/943429632"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 129,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/943608656",
      "pull_request_review_id": 1069629761,
      "id": 943608656,
      "node_id": "PRRC_kwDOABII5844PlNQ",
      "diff_hunk": "@@ -885,17 +878,29 @@ static util::Result<CreatedTransactionResult> CreateTransactionInternal(\n     const CAmount not_input_fees = coin_selection_params.m_effective_feerate.GetFee(coin_selection_params.tx_noinputs_size);\n     CAmount selection_target = recipients_sum + not_input_fees;\n \n-    // Get available coins\n-    auto available_coins = AvailableCoins(wallet,\n-                                              &coin_control,\n-                                              coin_selection_params.m_effective_feerate,\n-                                              1,            /*nMinimumAmount*/\n-                                              MAX_MONEY,    /*nMaximumAmount*/\n-                                              MAX_MONEY,    /*nMinimumSumAmount*/\n-                                              0);           /*nMaximumCount*/\n+    // Fetch manually select coins\n+    SelectedInputs preset_inputs;\n+    if (coin_control.HasSelected()) {\n+        auto res_fetch_inputs = FetchSelectedInputs(wallet, coin_control, coin_selection_params);\n+        if (!res_fetch_inputs) return util::Error{util::ErrorString(res_fetch_inputs)};\n+        preset_inputs = *res_fetch_inputs;\n+    }\n+\n+    // Fetch wallet available coins if \"other inputs\" are\n+    // allowed (coins automatically selected by the wallet)\n+    CoinsResult available_coins;\n+    if (coin_control.m_allow_other_inputs) {\n+        available_coins = AvailableCoins(wallet,\n+                                         &coin_control,\n+                                         coin_selection_params.m_effective_feerate,\n+                                         1,            /*nMinimumAmount*/\n+                                         MAX_MONEY,    /*nMaximumAmount*/\n+                                         MAX_MONEY,    /*nMinimumSumAmount*/\n+                                         0);           /*nMaximumCount*/\n+    }",
      "path": "src/wallet/spend.cpp",
      "position": 234,
      "original_position": 217,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "c8f3be406deeda72212f764d0156b47b26dbd1b3",
      "in_reply_to_id": null,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "if I'm not mistaken this would avoid a default initialization of a `CoinsResult`.\r\n```suggestion\r\n    CoinsResult available_coins{coin_control.m_allow_other_inputs ? AvailableCoins(wallet,\r\n                                         &coin_control,\r\n                                         coin_selection_params.m_effective_feerate,\r\n                                         1,            /*nMinimumAmount*/\r\n                                         MAX_MONEY,    /*nMaximumAmount*/\r\n                                         MAX_MONEY,    /*nMinimumSumAmount*/\r\n                                         0)            /*nMaximumCount*/\r\n    : CoinsResult{}};\r\n```",
      "created_at": "2022-08-11T15:14:06Z",
      "updated_at": "2022-08-11T16:17:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r943608656",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/943608656"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": 898,
      "original_start_line": 891,
      "start_side": "RIGHT",
      "line": 907,
      "original_line": 907,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/943619677",
      "pull_request_review_id": 1069629761,
      "id": 943619677,
      "node_id": "PRRC_kwDOABII5844Pn5d",
      "diff_hunk": "@@ -529,75 +571,37 @@ std::optional<SelectionResult> ChooseSelectionResult(const CWallet& wallet, cons\n     return best_result;\n }\n \n-std::optional<SelectionResult> SelectCoins(const CWallet& wallet, CoinsResult& available_coins, const CAmount& nTargetValue, const CCoinControl& coin_control, const CoinSelectionParams& coin_selection_params)\n+std::optional<SelectionResult> SelectCoins(const CWallet& wallet, CoinsResult& available_coins, const SelectedInputs& pre_set_inputs,\n+                                           const CAmount& nTargetValue, const CCoinControl& coin_control,\n+                                           const CoinSelectionParams& coin_selection_params)\n {\n-    CAmount value_to_select = nTargetValue;\n-\n-    OutputGroup preset_inputs(coin_selection_params);\n-\n-    // calculate value from preset inputs and store them\n-    std::set<COutPoint> preset_coins;\n-\n-    std::vector<COutPoint> vPresetInputs;\n-    coin_control.ListSelected(vPresetInputs);\n-    for (const COutPoint& outpoint : vPresetInputs) {\n-        int input_bytes = -1;\n-        CTxOut txout;\n-        auto ptr_wtx = wallet.GetWalletTx(outpoint.hash);\n-        if (ptr_wtx) {\n-            // Clearly invalid input, fail\n-            if (ptr_wtx->tx->vout.size() <= outpoint.n) {\n-                return std::nullopt;\n-            }\n-            txout = ptr_wtx->tx->vout.at(outpoint.n);\n-            input_bytes = CalculateMaximumSignedInputSize(txout, &wallet, &coin_control);\n-        } else {\n-            // The input is external. We did not find the tx in mapWallet.\n-            if (!coin_control.GetExternalOutput(outpoint, txout)) {\n-                return std::nullopt;\n-            }\n-            input_bytes = CalculateMaximumSignedInputSize(txout, outpoint, &coin_control.m_external_provider, &coin_control);\n-        }\n-        // If available, override calculated size with coin control specified size\n-        if (coin_control.HasInputWeight(outpoint)) {\n-            input_bytes = GetVirtualTransactionSize(coin_control.GetInputWeight(outpoint), 0, 0);\n-        }\n-\n-        if (input_bytes == -1) {\n-            return std::nullopt; // Not solvable, can't estimate size for fee\n-        }\n-\n-        /* Set some defaults for depth, spendable, solvable, safe, time, and from_me as these don't matter for preset inputs since no selection is being done. */\n-        COutput output(outpoint, txout, /*depth=*/ 0, input_bytes, /*spendable=*/ true, /*solvable=*/ true, /*safe=*/ true, /*time=*/ 0, /*from_me=*/ false, coin_selection_params.m_effective_feerate);\n-        if (coin_selection_params.m_subtract_fee_outputs) {\n-            value_to_select -= output.txout.nValue;\n-        } else {\n-            value_to_select -= output.GetEffectiveValue();\n-        }\n-        preset_coins.insert(outpoint);\n-        /* Set ancestors and descendants to 0 as they don't matter for preset inputs since no actual selection is being done.\n-         * positive_only is set to false because we want to include all preset inputs, even if they are dust.\n-         */\n-        preset_inputs.Insert(output, /*ancestors=*/ 0, /*descendants=*/ 0, /*positive_only=*/ false);\n+    // Set the pre-set inputs first (no-op if no input was manually selected)\n+    SelectionResult preset_inputs_selection(nTargetValue, SelectionAlgorithm::MANUAL);\n+    preset_inputs_selection.AddInputs(pre_set_inputs.coins);\n+\n+    // Decrease the selection target\n+    CAmount selection_target = nTargetValue - pre_set_inputs.total_amount;\n+\n+    // If automatic coin selection was disabled or if we already covered the\n+    // target with the pre-set inputs, we just want to return the preset inputs result\n+    if (!coin_control.m_allow_other_inputs || selection_target <= 0) {\n+        if (selection_target > 0) return std::nullopt; // fails only if 'allow_other_inputs=false'\n+        preset_inputs_selection.ComputeAndSetWaste(coin_selection_params.m_cost_of_change);\n+        return preset_inputs_selection;\n     }\n \n-    // coin control -> return all selected outputs (we want all selected to go into the transaction for sure)\n-    if (coin_control.HasSelected() && !coin_control.m_allow_other_inputs) {\n-        SelectionResult result(nTargetValue, SelectionAlgorithm::MANUAL);\n-        result.AddInput(preset_inputs);\n-        if (result.GetSelectedValue() < nTargetValue) return std::nullopt;\n-        result.ComputeAndSetWaste(coin_selection_params.m_cost_of_change);\n-        return result;\n-    }\n+    // Start wallet Coin Selection procedure\n+    auto op_selection_result = AutomaticCoinSelection(wallet, available_coins, selection_target, coin_control, coin_selection_params);\n+    if (!op_selection_result) return op_selection_result;\n \n-    // remove preset inputs from coins so that Coin Selection doesn't pick them.\n-    if (coin_control.HasSelected()) {\n-        available_coins.legacy.erase(remove_if(available_coins.legacy.begin(), available_coins.legacy.end(), [&](const COutput& c) { return preset_coins.count(c.outpoint); }), available_coins.legacy.end());\n-        available_coins.P2SH_segwit.erase(remove_if(available_coins.P2SH_segwit.begin(), available_coins.P2SH_segwit.end(), [&](const COutput& c) { return preset_coins.count(c.outpoint); }), available_coins.P2SH_segwit.end());\n-        available_coins.bech32.erase(remove_if(available_coins.bech32.begin(), available_coins.bech32.end(), [&](const COutput& c) { return preset_coins.count(c.outpoint); }), available_coins.bech32.end());\n-        available_coins.bech32m.erase(remove_if(available_coins.bech32m.begin(), available_coins.bech32m.end(), [&](const COutput& c) { return preset_coins.count(c.outpoint); }), available_coins.bech32m.end());\n-        available_coins.other.erase(remove_if(available_coins.other.begin(), available_coins.other.end(), [&](const COutput& c) { return preset_coins.count(c.outpoint); }), available_coins.other.end());\n-    }\n+    // Add preset inputs to the automatic coin selection result\n+    op_selection_result->AddInputs(preset_inputs_selection.GetInputSet());\n+    return op_selection_result;\n+}\n+\n+std::optional<SelectionResult> AutomaticCoinSelection(const CWallet& wallet, CoinsResult& available_coins, const CAmount& nTargetValue, const CCoinControl& coin_control, const CoinSelectionParams& coin_selection_params)\n+{\n+    CAmount value_to_select = nTargetValue;",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 157,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "c8f3be406deeda72212f764d0156b47b26dbd1b3",
      "in_reply_to_id": null,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "i think you can remove the `value_to_select` variable and use `nTargetValue` directly",
      "created_at": "2022-08-11T15:24:31Z",
      "updated_at": "2022-08-11T16:19:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r943619677",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/943619677"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 604,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/943839827",
      "pull_request_review_id": 1070226380,
      "id": 943839827,
      "node_id": "PRRC_kwDOABII5844QdpT",
      "diff_hunk": "@@ -105,6 +105,47 @@ void CoinsResult::clear()\n     other.clear();\n }\n \n+// Fetch and validate the coin control selected inputs.\n+// Coins could be internal (from the wallet) or external.\n+util::Result<SelectedInputs> FetchSelectedInputs(const CWallet& wallet, const CCoinControl& coin_control,",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "a53748e3323a33829134cb575830933ac1893323",
      "in_reply_to_id": 943428008,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The rationale behind the `Fetch*` prefix instead of `Get*` was that we aren't only accessing wallet's UTXOs. We are fetching external UTXO provided by the coin control object as well.\r\n\r\nSo, with the `Fetch*` prefix I aimed to make that distinction clear.\r\nIf the function would be only getting wallet internal data, then yeah, this should had been a `Get*` for sure.",
      "created_at": "2022-08-11T19:13:00Z",
      "updated_at": "2022-08-11T20:38:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r943839827",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/943839827"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 110,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/943996953",
      "pull_request_review_id": 1070443775,
      "id": 943996953,
      "node_id": "PRRC_kwDOABII5844REAZ",
      "diff_hunk": "@@ -125,6 +125,26 @@ std::optional<SelectionResult> AttemptSelection(const CWallet& wallet, const CAm\n std::optional<SelectionResult> ChooseSelectionResult(const CWallet& wallet, const CAmount& nTargetValue, const CoinEligibilityFilter& eligibility_filter, const std::vector<COutput>& available_coins,\n                         const CoinSelectionParams& coin_selection_params);\n \n+// User manually selected inputs that must be part of the transaction\n+struct SelectedInputs",
      "path": "src/wallet/spend.h",
      "position": null,
      "original_position": 5,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "a53748e3323a33829134cb575830933ac1893323",
      "in_reply_to_id": 943429632,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "sure",
      "created_at": "2022-08-11T22:47:52Z",
      "updated_at": "2022-08-11T22:47:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r943996953",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/943996953"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 129,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/944013468",
      "pull_request_review_id": 1070466238,
      "id": 944013468,
      "node_id": "PRRC_kwDOABII5844RICc",
      "diff_hunk": "@@ -885,17 +878,29 @@ static util::Result<CreatedTransactionResult> CreateTransactionInternal(\n     const CAmount not_input_fees = coin_selection_params.m_effective_feerate.GetFee(coin_selection_params.tx_noinputs_size);\n     CAmount selection_target = recipients_sum + not_input_fees;\n \n-    // Get available coins\n-    auto available_coins = AvailableCoins(wallet,\n-                                              &coin_control,\n-                                              coin_selection_params.m_effective_feerate,\n-                                              1,            /*nMinimumAmount*/\n-                                              MAX_MONEY,    /*nMaximumAmount*/\n-                                              MAX_MONEY,    /*nMinimumSumAmount*/\n-                                              0);           /*nMaximumCount*/\n+    // Fetch manually select coins\n+    SelectedInputs preset_inputs;\n+    if (coin_control.HasSelected()) {\n+        auto res_fetch_inputs = FetchSelectedInputs(wallet, coin_control, coin_selection_params);\n+        if (!res_fetch_inputs) return util::Error{util::ErrorString(res_fetch_inputs)};\n+        preset_inputs = *res_fetch_inputs;\n+    }\n+\n+    // Fetch wallet available coins if \"other inputs\" are\n+    // allowed (coins automatically selected by the wallet)\n+    CoinsResult available_coins;\n+    if (coin_control.m_allow_other_inputs) {\n+        available_coins = AvailableCoins(wallet,\n+                                         &coin_control,\n+                                         coin_selection_params.m_effective_feerate,\n+                                         1,            /*nMinimumAmount*/\n+                                         MAX_MONEY,    /*nMaximumAmount*/\n+                                         MAX_MONEY,    /*nMinimumSumAmount*/\n+                                         0);           /*nMaximumCount*/\n+    }",
      "path": "src/wallet/spend.cpp",
      "position": 234,
      "original_position": 217,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "c8f3be406deeda72212f764d0156b47b26dbd1b3",
      "in_reply_to_id": 943608656,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yeah, it would.\r\n\r\nBut, I'm a ~0 there, as `CoinsResult` will only have a map and a `CAmount` after #25734, this will make the code a bit harder to read for a little benefit (`AvailableCoins` has too many params so you could easily get confused by one of them and don't read the `CoinsResult` default initialization at the end).\r\n\r\nProbably with something like da44df91 the readability wouldn't be a problem anymore. And we could initialize `CoinsResults` in a single line.",
      "created_at": "2022-08-11T23:30:22Z",
      "updated_at": "2022-08-11T23:30:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r944013468",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/944013468"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": 898,
      "original_start_line": 891,
      "start_side": "RIGHT",
      "line": 907,
      "original_line": 907,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/944014195",
      "pull_request_review_id": 1070467167,
      "id": 944014195,
      "node_id": "PRRC_kwDOABII5844RINz",
      "diff_hunk": "@@ -529,75 +571,37 @@ std::optional<SelectionResult> ChooseSelectionResult(const CWallet& wallet, cons\n     return best_result;\n }\n \n-std::optional<SelectionResult> SelectCoins(const CWallet& wallet, CoinsResult& available_coins, const CAmount& nTargetValue, const CCoinControl& coin_control, const CoinSelectionParams& coin_selection_params)\n+std::optional<SelectionResult> SelectCoins(const CWallet& wallet, CoinsResult& available_coins, const SelectedInputs& pre_set_inputs,\n+                                           const CAmount& nTargetValue, const CCoinControl& coin_control,\n+                                           const CoinSelectionParams& coin_selection_params)\n {\n-    CAmount value_to_select = nTargetValue;\n-\n-    OutputGroup preset_inputs(coin_selection_params);\n-\n-    // calculate value from preset inputs and store them\n-    std::set<COutPoint> preset_coins;\n-\n-    std::vector<COutPoint> vPresetInputs;\n-    coin_control.ListSelected(vPresetInputs);\n-    for (const COutPoint& outpoint : vPresetInputs) {\n-        int input_bytes = -1;\n-        CTxOut txout;\n-        auto ptr_wtx = wallet.GetWalletTx(outpoint.hash);\n-        if (ptr_wtx) {\n-            // Clearly invalid input, fail\n-            if (ptr_wtx->tx->vout.size() <= outpoint.n) {\n-                return std::nullopt;\n-            }\n-            txout = ptr_wtx->tx->vout.at(outpoint.n);\n-            input_bytes = CalculateMaximumSignedInputSize(txout, &wallet, &coin_control);\n-        } else {\n-            // The input is external. We did not find the tx in mapWallet.\n-            if (!coin_control.GetExternalOutput(outpoint, txout)) {\n-                return std::nullopt;\n-            }\n-            input_bytes = CalculateMaximumSignedInputSize(txout, outpoint, &coin_control.m_external_provider, &coin_control);\n-        }\n-        // If available, override calculated size with coin control specified size\n-        if (coin_control.HasInputWeight(outpoint)) {\n-            input_bytes = GetVirtualTransactionSize(coin_control.GetInputWeight(outpoint), 0, 0);\n-        }\n-\n-        if (input_bytes == -1) {\n-            return std::nullopt; // Not solvable, can't estimate size for fee\n-        }\n-\n-        /* Set some defaults for depth, spendable, solvable, safe, time, and from_me as these don't matter for preset inputs since no selection is being done. */\n-        COutput output(outpoint, txout, /*depth=*/ 0, input_bytes, /*spendable=*/ true, /*solvable=*/ true, /*safe=*/ true, /*time=*/ 0, /*from_me=*/ false, coin_selection_params.m_effective_feerate);\n-        if (coin_selection_params.m_subtract_fee_outputs) {\n-            value_to_select -= output.txout.nValue;\n-        } else {\n-            value_to_select -= output.GetEffectiveValue();\n-        }\n-        preset_coins.insert(outpoint);\n-        /* Set ancestors and descendants to 0 as they don't matter for preset inputs since no actual selection is being done.\n-         * positive_only is set to false because we want to include all preset inputs, even if they are dust.\n-         */\n-        preset_inputs.Insert(output, /*ancestors=*/ 0, /*descendants=*/ 0, /*positive_only=*/ false);\n+    // Set the pre-set inputs first (no-op if no input was manually selected)\n+    SelectionResult preset_inputs_selection(nTargetValue, SelectionAlgorithm::MANUAL);\n+    preset_inputs_selection.AddInputs(pre_set_inputs.coins);\n+\n+    // Decrease the selection target\n+    CAmount selection_target = nTargetValue - pre_set_inputs.total_amount;\n+\n+    // If automatic coin selection was disabled or if we already covered the\n+    // target with the pre-set inputs, we just want to return the preset inputs result\n+    if (!coin_control.m_allow_other_inputs || selection_target <= 0) {\n+        if (selection_target > 0) return std::nullopt; // fails only if 'allow_other_inputs=false'\n+        preset_inputs_selection.ComputeAndSetWaste(coin_selection_params.m_cost_of_change);\n+        return preset_inputs_selection;\n     }\n \n-    // coin control -> return all selected outputs (we want all selected to go into the transaction for sure)\n-    if (coin_control.HasSelected() && !coin_control.m_allow_other_inputs) {\n-        SelectionResult result(nTargetValue, SelectionAlgorithm::MANUAL);\n-        result.AddInput(preset_inputs);\n-        if (result.GetSelectedValue() < nTargetValue) return std::nullopt;\n-        result.ComputeAndSetWaste(coin_selection_params.m_cost_of_change);\n-        return result;\n-    }\n+    // Start wallet Coin Selection procedure\n+    auto op_selection_result = AutomaticCoinSelection(wallet, available_coins, selection_target, coin_control, coin_selection_params);\n+    if (!op_selection_result) return op_selection_result;\n \n-    // remove preset inputs from coins so that Coin Selection doesn't pick them.\n-    if (coin_control.HasSelected()) {\n-        available_coins.legacy.erase(remove_if(available_coins.legacy.begin(), available_coins.legacy.end(), [&](const COutput& c) { return preset_coins.count(c.outpoint); }), available_coins.legacy.end());\n-        available_coins.P2SH_segwit.erase(remove_if(available_coins.P2SH_segwit.begin(), available_coins.P2SH_segwit.end(), [&](const COutput& c) { return preset_coins.count(c.outpoint); }), available_coins.P2SH_segwit.end());\n-        available_coins.bech32.erase(remove_if(available_coins.bech32.begin(), available_coins.bech32.end(), [&](const COutput& c) { return preset_coins.count(c.outpoint); }), available_coins.bech32.end());\n-        available_coins.bech32m.erase(remove_if(available_coins.bech32m.begin(), available_coins.bech32m.end(), [&](const COutput& c) { return preset_coins.count(c.outpoint); }), available_coins.bech32m.end());\n-        available_coins.other.erase(remove_if(available_coins.other.begin(), available_coins.other.end(), [&](const COutput& c) { return preset_coins.count(c.outpoint); }), available_coins.other.end());\n-    }\n+    // Add preset inputs to the automatic coin selection result\n+    op_selection_result->AddInputs(preset_inputs_selection.GetInputSet());\n+    return op_selection_result;\n+}\n+\n+std::optional<SelectionResult> AutomaticCoinSelection(const CWallet& wallet, CoinsResult& available_coins, const CAmount& nTargetValue, const CCoinControl& coin_control, const CoinSelectionParams& coin_selection_params)\n+{\n+    CAmount value_to_select = nTargetValue;",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 157,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "c8f3be406deeda72212f764d0156b47b26dbd1b3",
      "in_reply_to_id": 943619677,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "yeah great, less changes if we use `value_to_select` instead. (`value_to_select` is used in every `AttemptSelection` call)",
      "created_at": "2022-08-11T23:32:19Z",
      "updated_at": "2022-08-11T23:32:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r944014195",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/944014195"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 604,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/944016599",
      "pull_request_review_id": 1070470279,
      "id": 944016599,
      "node_id": "PRRC_kwDOABII5844RIzX",
      "diff_hunk": "@@ -885,17 +878,29 @@ static util::Result<CreatedTransactionResult> CreateTransactionInternal(\n     const CAmount not_input_fees = coin_selection_params.m_effective_feerate.GetFee(coin_selection_params.tx_noinputs_size);\n     CAmount selection_target = recipients_sum + not_input_fees;\n \n-    // Get available coins\n-    auto available_coins = AvailableCoins(wallet,\n-                                              &coin_control,\n-                                              coin_selection_params.m_effective_feerate,\n-                                              1,            /*nMinimumAmount*/\n-                                              MAX_MONEY,    /*nMaximumAmount*/\n-                                              MAX_MONEY,    /*nMinimumSumAmount*/\n-                                              0);           /*nMaximumCount*/\n+    // Fetch manually select coins",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 198,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "c8f3be406deeda72212f764d0156b47b26dbd1b3",
      "in_reply_to_id": 943422954,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "pushed",
      "created_at": "2022-08-11T23:38:47Z",
      "updated_at": "2022-08-11T23:38:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r944016599",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/944016599"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 881,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/963893002",
      "pull_request_review_id": 1097871282,
      "id": 963893002,
      "node_id": "PRRC_kwDOABII5845c9cK",
      "diff_hunk": "@@ -1137,7 +1137,7 @@ RPCHelpMan send()\n             {\"options\", RPCArg::Type::OBJ, RPCArg::Optional::OMITTED_NAMED_ARG, \"\",\n                 Cat<std::vector<RPCArg>>(\n                 {\n-                    {\"add_inputs\", RPCArg::Type::BOOL, RPCArg::Default{false}, \"If inputs are specified, automatically include more if they are not enough.\"},\n+                    {\"add_inputs\", RPCArg::Type::BOOL, RPCArg::Default{true}, \"If inputs are specified, automatically include more if they are not enough.\"},",
      "path": "src/wallet/rpc/spend.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "0d6da1668d6762b1071529c39658812ba68720d8",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 0d6da1668d6762b1071529c39658812ba68720d8 \"wallet: skip available coins fetch if \"other inputs\" are disallowed\"\r\n\r\nWe should avoid changing the defaults of the RPC interface as that may result in users scripts breaking/doing unexpected things. While the default value of `CCoinControl` can be changed, the RPCs that actually used the default of `false` should now be setting that rather than their defaults also changing.",
      "created_at": "2022-09-06T15:58:58Z",
      "updated_at": "2022-09-06T16:07:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r963893002",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/963893002"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1140,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/963895180",
      "pull_request_review_id": 1097871282,
      "id": 963895180,
      "node_id": "PRRC_kwDOABII5845c9-M",
      "diff_hunk": "@@ -444,6 +444,12 @@ void SelectionResult::AddInput(const OutputGroup& group)\n     m_use_effective = !group.m_subtract_fee_outputs;\n }\n \n+void SelectionResult::AddInputs(const std::set<COutput>& inputs, bool m_subtract_fee_outputs)",
      "path": "src/wallet/coinselection.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "e6b9e23699a5dc8e08711004f51c877fa3912db1",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In e6b9e23699a5dc8e08711004f51c877fa3912db1 \"wallet: encapsulate pre-selected-inputs lookup into its own function\"\r\n\r\nnit: only member variables should have the `m_` prefix.",
      "created_at": "2022-09-06T16:00:20Z",
      "updated_at": "2022-09-06T16:07:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r963895180",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/963895180"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 447,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/963902491",
      "pull_request_review_id": 1097871282,
      "id": 963902491,
      "node_id": "PRRC_kwDOABII5845c_wb",
      "diff_hunk": "@@ -115,6 +132,11 @@ static void WalletCreateTx(benchmark::Bench& bench, const OutputType output_type\n     });\n }\n \n-static void WalletCreateTxUseOnlyPresetInputs(benchmark::Bench& bench) { WalletCreateTx(bench, OutputType::BECH32); }\n+static void WalletCreateTxUseOnlyPresetInputs(benchmark::Bench& bench) { WalletCreateTx(bench, OutputType::BECH32, /*allow_other_inputs=*/false,\n+                                                                                        {{/*num_of_internal_inputs=*/4}}); }\n+\n+static void WalletCreateTxUsePresetInputsAndCoinSelection(benchmark::Bench& bench) { WalletCreateTx(bench, OutputType::BECH32, /*allow_other_inputs=*/true,\n+                                                                                                    {{/*num_of_internal_inputs=*/4}}); }\n \n-BENCHMARK(WalletCreateTxUseOnlyPresetInputs);",
      "path": "src/bench/wallet_create_tx.cpp",
      "position": null,
      "original_position": 58,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "08012f03bf2cc9ec4f8b21d5643f3423acb1b5d8",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 08012f03bf2cc9ec4f8b21d5643f3423acb1b5d8 \"bench: add benchmark for tx creation using pre-set inputs and coin selection\"\r\n\r\nnit: This should be in the previous commit.",
      "created_at": "2022-09-06T16:05:43Z",
      "updated_at": "2022-09-06T16:07:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r963902491",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/963902491"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 120,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/966416860",
      "pull_request_review_id": 1101411676,
      "id": 966416860,
      "node_id": "PRRC_kwDOABII5845mlnc",
      "diff_hunk": "@@ -1137,7 +1137,7 @@ RPCHelpMan send()\n             {\"options\", RPCArg::Type::OBJ, RPCArg::Optional::OMITTED_NAMED_ARG, \"\",\n                 Cat<std::vector<RPCArg>>(\n                 {\n-                    {\"add_inputs\", RPCArg::Type::BOOL, RPCArg::Default{false}, \"If inputs are specified, automatically include more if they are not enough.\"},\n+                    {\"add_inputs\", RPCArg::Type::BOOL, RPCArg::Default{true}, \"If inputs are specified, automatically include more if they are not enough.\"},",
      "path": "src/wallet/rpc/spend.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "0d6da1668d6762b1071529c39658812ba68720d8",
      "in_reply_to_id": 963893002,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This is more a bugfix than a behavior change actually. Let me expand:\r\n\r\nBefore, the default value was not `false` all the time, it was a hidden `true`. We were having a bug/workaround to always select coins automatically from the wallet even when the user explicitly set `add_inputs=false` (which means \"don't select coins automatically\").\r\n\r\nThis is why, even when I changed the field default value inside coin control, I didn't need to change any test on that commit. They actually were all depending on the bug to work properly! (including the GUI..).\r\n\r\nCan try it by setting `add_inputs=false` in any of the fund* RPC commands without pre-setting any input. The process will automatically select coins from the wallet even when you are explicitly blocking it (the proper expected behavior is fail due \"insufficient funds\").\r\nI'm going to add test coverage for this.. so the previous bad behavior and the fix commit can be contrasted. It was a truly misleading behavior.\r\n\r\n~~Side from that:\r\nI know what you mean, if the user pre-set inputs, the previous default value was `false`. So, to not change behavior in this scenario, by default, no automatic coin selection should be performed on the RPC commands.\r\nWill add coverage for this as well.~~. --> not needed since #26053.\r\nThanks.",
      "created_at": "2022-09-08T21:01:52Z",
      "updated_at": "2022-09-15T16:42:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r966416860",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/966416860"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1140,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/966421568",
      "pull_request_review_id": 1101423405,
      "id": 966421568,
      "node_id": "PRRC_kwDOABII5845mmxA",
      "diff_hunk": "@@ -115,6 +132,11 @@ static void WalletCreateTx(benchmark::Bench& bench, const OutputType output_type\n     });\n }\n \n-static void WalletCreateTxUseOnlyPresetInputs(benchmark::Bench& bench) { WalletCreateTx(bench, OutputType::BECH32); }\n+static void WalletCreateTxUseOnlyPresetInputs(benchmark::Bench& bench) { WalletCreateTx(bench, OutputType::BECH32, /*allow_other_inputs=*/false,\n+                                                                                        {{/*num_of_internal_inputs=*/4}}); }\n+\n+static void WalletCreateTxUsePresetInputsAndCoinSelection(benchmark::Bench& bench) { WalletCreateTx(bench, OutputType::BECH32, /*allow_other_inputs=*/true,\n+                                                                                                    {{/*num_of_internal_inputs=*/4}}); }\n \n-BENCHMARK(WalletCreateTxUseOnlyPresetInputs);",
      "path": "src/bench/wallet_create_tx.cpp",
      "position": null,
      "original_position": 58,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "08012f03bf2cc9ec4f8b21d5643f3423acb1b5d8",
      "in_reply_to_id": 963902491,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "ok, squashing it.",
      "created_at": "2022-09-08T21:07:44Z",
      "updated_at": "2022-09-08T21:07:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r966421568",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/966421568"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 120,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/966421713",
      "pull_request_review_id": 1101423543,
      "id": 966421713,
      "node_id": "PRRC_kwDOABII5845mmzR",
      "diff_hunk": "@@ -444,6 +444,12 @@ void SelectionResult::AddInput(const OutputGroup& group)\n     m_use_effective = !group.m_subtract_fee_outputs;\n }\n \n+void SelectionResult::AddInputs(const std::set<COutput>& inputs, bool m_subtract_fee_outputs)",
      "path": "src/wallet/coinselection.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "e6b9e23699a5dc8e08711004f51c877fa3912db1",
      "in_reply_to_id": 963895180,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "yeah, removing it..",
      "created_at": "2022-09-08T21:07:52Z",
      "updated_at": "2022-09-08T21:07:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r966421713",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/966421713"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 447,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/967375113",
      "pull_request_review_id": 1102764884,
      "id": 967375113,
      "node_id": "PRRC_kwDOABII5845qPkJ",
      "diff_hunk": "@@ -1137,7 +1137,7 @@ RPCHelpMan send()\n             {\"options\", RPCArg::Type::OBJ, RPCArg::Optional::OMITTED_NAMED_ARG, \"\",\n                 Cat<std::vector<RPCArg>>(\n                 {\n-                    {\"add_inputs\", RPCArg::Type::BOOL, RPCArg::Default{false}, \"If inputs are specified, automatically include more if they are not enough.\"},\n+                    {\"add_inputs\", RPCArg::Type::BOOL, RPCArg::Default{true}, \"If inputs are specified, automatically include more if they are not enough.\"},",
      "path": "src/wallet/rpc/spend.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "0d6da1668d6762b1071529c39658812ba68720d8",
      "in_reply_to_id": 963893002,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Pushed #26053 to fulfill this purposes, make the bug visible and to try to fix it for 24.0.\r\nOnce that one gets merged, changes in 0d6da166 will be smaller and simpler to review.",
      "created_at": "2022-09-09T18:49:55Z",
      "updated_at": "2022-09-09T18:49:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r967375113",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/967375113"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1140,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973264234",
      "pull_request_review_id": 1111036386,
      "id": 973264234,
      "node_id": "PRRC_kwDOABII5846AtVq",
      "diff_hunk": "@@ -0,0 +1,142 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#include <bench/bench.h>\n+#include <chainparams.h>\n+#include <wallet/coincontrol.h>\n+#include <consensus/merkle.h>\n+#include <kernel/chain.h>\n+#include <node/context.h>\n+#include <test/util/setup_common.h>\n+#include <test/util/wallet.h>\n+#include <validation.h>\n+#include <wallet/spend.h>\n+#include <wallet/wallet.h>\n+\n+using wallet::CWallet;\n+using wallet::CreateMockWalletDatabase;\n+using wallet::DBErrors;\n+using wallet::WALLET_FLAG_DESCRIPTORS;\n+\n+struct TipBlock\n+{\n+    uint256 prev_block_hash;\n+    int64_t prev_block_time;\n+    int tip_height;\n+};\n+\n+TipBlock getTip(const CChainParams& params, const node::NodeContext& context)\n+{\n+    auto tip = WITH_LOCK(::cs_main, return context.chainman->ActiveTip());\n+    return (tip) ? TipBlock{tip->GetBlockHash(), tip->GetBlockTime(), tip->nHeight} :\n+           TipBlock{params.GenesisBlock().GetHash(), params.GenesisBlock().GetBlockTime(), 0};\n+}\n+\n+void generateFakeBlock(const CChainParams& params,\n+                       const node::NodeContext& context,\n+                       CWallet& wallet,\n+                       const CScript& coinbase_out_script)\n+{\n+    TipBlock tip{getTip(params, context)};\n+\n+    // Create block\n+    CBlock block;\n+    CMutableTransaction coinbase_tx;\n+    coinbase_tx.vin.resize(1);\n+    coinbase_tx.vin[0].prevout.SetNull();\n+    coinbase_tx.vout.resize(2);\n+    coinbase_tx.vout[0].scriptPubKey = coinbase_out_script;\n+    coinbase_tx.vout[0].nValue = 49 * COIN;\n+    coinbase_tx.vin[0].scriptSig = CScript() << ++tip.tip_height << OP_0;\n+    coinbase_tx.vout[1].scriptPubKey = coinbase_out_script; // extra output\n+    coinbase_tx.vout[1].nValue = 1 * COIN;\n+    block.vtx = {MakeTransactionRef(std::move(coinbase_tx))};\n+\n+    block.nVersion = VERSIONBITS_LAST_OLD_BLOCK_VERSION;\n+    block.hashPrevBlock = tip.prev_block_hash;\n+    block.hashMerkleRoot = BlockMerkleRoot(block);\n+    block.nTime = ++tip.prev_block_time;\n+    block.nBits = params.GenesisBlock().nBits;\n+    block.nNonce = 0;\n+\n+    {\n+        LOCK(::cs_main);\n+        // Add it to the index\n+        CBlockIndex* pindex{context.chainman->m_blockman.AddToBlockIndex(block, context.chainman->m_best_header)};\n+        // add it to the chain\n+        context.chainman->ActiveChain().SetTip(*pindex);\n+    }\n+\n+    // notify wallet\n+    const auto& pindex = WITH_LOCK(::cs_main, return context.chainman->ActiveChain().Tip());\n+    wallet.blockConnected(kernel::MakeBlockInfo(pindex, &block));\n+}\n+\n+struct PreSelectInputs {\n+    // How many coins from the wallet the process should select\n+    int num_of_internal_inputs;\n+    // future: this could have external inputs as well.\n+};\n+\n+static void WalletCreateTx(benchmark::Bench& bench, const OutputType output_type, bool allow_other_inputs, std::optional<PreSelectInputs> preset_inputs)\n+{\n+    const auto test_setup = MakeNoLogFileContext<const TestingSetup>();\n+\n+    CWallet wallet{test_setup->m_node.chain.get(), \"\", gArgs, CreateMockWalletDatabase()};\n+    {\n+        LOCK(wallet.cs_wallet);\n+        wallet.SetWalletFlag(WALLET_FLAG_DESCRIPTORS);\n+        wallet.SetupDescriptorScriptPubKeyMans();\n+        if (wallet.LoadWallet() != DBErrors::LOAD_OK) assert(false);\n+    }\n+\n+    // Generate destinations\n+    CScript dest = GetScriptForDestination(getNewDestination(wallet, output_type));\n+\n+    // Generate chain; each coinbase will have two outputs to fill-up the wallet\n+    const auto& params = Params();\n+    unsigned int chain_size = 150000; // 150k blocks means 300k UTXO for the wallet (minus 200 due COINBASE_MATURITY)",
      "path": "src/bench/wallet_create_tx.cpp",
      "position": null,
      "original_position": 99,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "2d9ea15fe9773c3efe349579413b4a4e56c30454",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 2d9ea15fe9773c3efe349579413b4a4e56c30454 \"bench: benchmark transaction creation process\"\r\n\r\n150000 blocks is excessive. This makes the benchmark extremely slow to run. It increases the runtime of `make check` by several orders of magnitude. A few hundred blocks should be enough to illustrate the performance difference, I don't think we need more than a thousand, let alone 150,000.",
      "created_at": "2022-09-16T17:49:58Z",
      "updated_at": "2022-09-16T17:50:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r973264234",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973264234"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 99,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973304073",
      "pull_request_review_id": 1111095013,
      "id": 973304073,
      "node_id": "PRRC_kwDOABII5846A3EJ",
      "diff_hunk": "@@ -0,0 +1,142 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#include <bench/bench.h>\n+#include <chainparams.h>\n+#include <wallet/coincontrol.h>\n+#include <consensus/merkle.h>\n+#include <kernel/chain.h>\n+#include <node/context.h>\n+#include <test/util/setup_common.h>\n+#include <test/util/wallet.h>\n+#include <validation.h>\n+#include <wallet/spend.h>\n+#include <wallet/wallet.h>\n+\n+using wallet::CWallet;\n+using wallet::CreateMockWalletDatabase;\n+using wallet::DBErrors;\n+using wallet::WALLET_FLAG_DESCRIPTORS;\n+\n+struct TipBlock\n+{\n+    uint256 prev_block_hash;\n+    int64_t prev_block_time;\n+    int tip_height;\n+};\n+\n+TipBlock getTip(const CChainParams& params, const node::NodeContext& context)\n+{\n+    auto tip = WITH_LOCK(::cs_main, return context.chainman->ActiveTip());\n+    return (tip) ? TipBlock{tip->GetBlockHash(), tip->GetBlockTime(), tip->nHeight} :\n+           TipBlock{params.GenesisBlock().GetHash(), params.GenesisBlock().GetBlockTime(), 0};\n+}\n+\n+void generateFakeBlock(const CChainParams& params,\n+                       const node::NodeContext& context,\n+                       CWallet& wallet,\n+                       const CScript& coinbase_out_script)\n+{\n+    TipBlock tip{getTip(params, context)};\n+\n+    // Create block\n+    CBlock block;\n+    CMutableTransaction coinbase_tx;\n+    coinbase_tx.vin.resize(1);\n+    coinbase_tx.vin[0].prevout.SetNull();\n+    coinbase_tx.vout.resize(2);\n+    coinbase_tx.vout[0].scriptPubKey = coinbase_out_script;\n+    coinbase_tx.vout[0].nValue = 49 * COIN;\n+    coinbase_tx.vin[0].scriptSig = CScript() << ++tip.tip_height << OP_0;\n+    coinbase_tx.vout[1].scriptPubKey = coinbase_out_script; // extra output\n+    coinbase_tx.vout[1].nValue = 1 * COIN;\n+    block.vtx = {MakeTransactionRef(std::move(coinbase_tx))};\n+\n+    block.nVersion = VERSIONBITS_LAST_OLD_BLOCK_VERSION;\n+    block.hashPrevBlock = tip.prev_block_hash;\n+    block.hashMerkleRoot = BlockMerkleRoot(block);\n+    block.nTime = ++tip.prev_block_time;\n+    block.nBits = params.GenesisBlock().nBits;\n+    block.nNonce = 0;\n+\n+    {\n+        LOCK(::cs_main);\n+        // Add it to the index\n+        CBlockIndex* pindex{context.chainman->m_blockman.AddToBlockIndex(block, context.chainman->m_best_header)};\n+        // add it to the chain\n+        context.chainman->ActiveChain().SetTip(*pindex);\n+    }\n+\n+    // notify wallet\n+    const auto& pindex = WITH_LOCK(::cs_main, return context.chainman->ActiveChain().Tip());\n+    wallet.blockConnected(kernel::MakeBlockInfo(pindex, &block));\n+}\n+\n+struct PreSelectInputs {\n+    // How many coins from the wallet the process should select\n+    int num_of_internal_inputs;\n+    // future: this could have external inputs as well.\n+};\n+\n+static void WalletCreateTx(benchmark::Bench& bench, const OutputType output_type, bool allow_other_inputs, std::optional<PreSelectInputs> preset_inputs)\n+{\n+    const auto test_setup = MakeNoLogFileContext<const TestingSetup>();\n+\n+    CWallet wallet{test_setup->m_node.chain.get(), \"\", gArgs, CreateMockWalletDatabase()};\n+    {\n+        LOCK(wallet.cs_wallet);\n+        wallet.SetWalletFlag(WALLET_FLAG_DESCRIPTORS);\n+        wallet.SetupDescriptorScriptPubKeyMans();\n+        if (wallet.LoadWallet() != DBErrors::LOAD_OK) assert(false);\n+    }\n+\n+    // Generate destinations\n+    CScript dest = GetScriptForDestination(getNewDestination(wallet, output_type));\n+\n+    // Generate chain; each coinbase will have two outputs to fill-up the wallet\n+    const auto& params = Params();\n+    unsigned int chain_size = 150000; // 150k blocks means 300k UTXO for the wallet (minus 200 due COINBASE_MATURITY)",
      "path": "src/bench/wallet_create_tx.cpp",
      "position": null,
      "original_position": 99,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "2d9ea15fe9773c3efe349579413b4a4e56c30454",
      "in_reply_to_id": 973264234,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I initially set it low, at 2k (4k utxo), but it wasn't really illustrative. This becomes a problem when your wallet has a high tx volume. Otherwise, traverse 4k utxo is quite fast, almost imperceptible.\r\ne.g.\r\n### PR\r\n|               ns/op |                op/s |    err% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------:|:----------\r\n|        1,427,966.60 |              700.30 |    1.2% |      0.08 | `WalletCreateTxUseOnlyPresetInputs`\r\n\r\n### Master\r\n|               ns/op |                op/s |    err% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------:|:----------\r\n|        1,576,250.00 |              634.42 |    0.5% |      0.09 | `WalletCreateTxUseOnlyPresetInputs`\r\n----\r\n\r\nLet me try with 20k instead. We should try to get a middle-ground between the high value (agree that it's too high) and a number that can provide meaningful information on the context where this becomes a real problem for the user.",
      "created_at": "2022-09-16T18:49:45Z",
      "updated_at": "2022-09-16T19:50:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r973304073",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973304073"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 99,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/974682988",
      "pull_request_review_id": 1112871351,
      "id": 974682988,
      "node_id": "PRRC_kwDOABII5846GHts",
      "diff_hunk": "@@ -0,0 +1,142 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#include <bench/bench.h>\n+#include <chainparams.h>\n+#include <wallet/coincontrol.h>\n+#include <consensus/merkle.h>\n+#include <kernel/chain.h>\n+#include <node/context.h>\n+#include <test/util/setup_common.h>\n+#include <test/util/wallet.h>\n+#include <validation.h>\n+#include <wallet/spend.h>\n+#include <wallet/wallet.h>\n+\n+using wallet::CWallet;\n+using wallet::CreateMockWalletDatabase;\n+using wallet::DBErrors;\n+using wallet::WALLET_FLAG_DESCRIPTORS;\n+\n+struct TipBlock\n+{\n+    uint256 prev_block_hash;\n+    int64_t prev_block_time;\n+    int tip_height;\n+};\n+\n+TipBlock getTip(const CChainParams& params, const node::NodeContext& context)\n+{\n+    auto tip = WITH_LOCK(::cs_main, return context.chainman->ActiveTip());\n+    return (tip) ? TipBlock{tip->GetBlockHash(), tip->GetBlockTime(), tip->nHeight} :\n+           TipBlock{params.GenesisBlock().GetHash(), params.GenesisBlock().GetBlockTime(), 0};\n+}\n+\n+void generateFakeBlock(const CChainParams& params,\n+                       const node::NodeContext& context,\n+                       CWallet& wallet,\n+                       const CScript& coinbase_out_script)\n+{\n+    TipBlock tip{getTip(params, context)};\n+\n+    // Create block\n+    CBlock block;\n+    CMutableTransaction coinbase_tx;\n+    coinbase_tx.vin.resize(1);\n+    coinbase_tx.vin[0].prevout.SetNull();\n+    coinbase_tx.vout.resize(2);\n+    coinbase_tx.vout[0].scriptPubKey = coinbase_out_script;\n+    coinbase_tx.vout[0].nValue = 49 * COIN;\n+    coinbase_tx.vin[0].scriptSig = CScript() << ++tip.tip_height << OP_0;\n+    coinbase_tx.vout[1].scriptPubKey = coinbase_out_script; // extra output\n+    coinbase_tx.vout[1].nValue = 1 * COIN;\n+    block.vtx = {MakeTransactionRef(std::move(coinbase_tx))};\n+\n+    block.nVersion = VERSIONBITS_LAST_OLD_BLOCK_VERSION;\n+    block.hashPrevBlock = tip.prev_block_hash;\n+    block.hashMerkleRoot = BlockMerkleRoot(block);\n+    block.nTime = ++tip.prev_block_time;\n+    block.nBits = params.GenesisBlock().nBits;\n+    block.nNonce = 0;\n+\n+    {\n+        LOCK(::cs_main);\n+        // Add it to the index\n+        CBlockIndex* pindex{context.chainman->m_blockman.AddToBlockIndex(block, context.chainman->m_best_header)};\n+        // add it to the chain\n+        context.chainman->ActiveChain().SetTip(*pindex);\n+    }\n+\n+    // notify wallet\n+    const auto& pindex = WITH_LOCK(::cs_main, return context.chainman->ActiveChain().Tip());\n+    wallet.blockConnected(kernel::MakeBlockInfo(pindex, &block));\n+}\n+\n+struct PreSelectInputs {\n+    // How many coins from the wallet the process should select\n+    int num_of_internal_inputs;\n+    // future: this could have external inputs as well.\n+};\n+\n+static void WalletCreateTx(benchmark::Bench& bench, const OutputType output_type, bool allow_other_inputs, std::optional<PreSelectInputs> preset_inputs)\n+{\n+    const auto test_setup = MakeNoLogFileContext<const TestingSetup>();\n+\n+    CWallet wallet{test_setup->m_node.chain.get(), \"\", gArgs, CreateMockWalletDatabase()};\n+    {\n+        LOCK(wallet.cs_wallet);\n+        wallet.SetWalletFlag(WALLET_FLAG_DESCRIPTORS);\n+        wallet.SetupDescriptorScriptPubKeyMans();\n+        if (wallet.LoadWallet() != DBErrors::LOAD_OK) assert(false);\n+    }\n+\n+    // Generate destinations\n+    CScript dest = GetScriptForDestination(getNewDestination(wallet, output_type));\n+\n+    // Generate chain; each coinbase will have two outputs to fill-up the wallet\n+    const auto& params = Params();\n+    unsigned int chain_size = 150000; // 150k blocks means 300k UTXO for the wallet (minus 200 due COINBASE_MATURITY)",
      "path": "src/bench/wallet_create_tx.cpp",
      "position": null,
      "original_position": 99,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "2d9ea15fe9773c3efe349579413b4a4e56c30454",
      "in_reply_to_id": 973264234,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "20k is still a lot and the setup does still take quite a long time. While the real time difference may not be that noticeable, I think `ns/op` and `op/s sufficiently illustrate the difference even when this is run with 2000 blocks.",
      "created_at": "2022-09-19T20:56:03Z",
      "updated_at": "2022-09-19T20:56:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r974682988",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/974682988"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 99,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/975424674",
      "pull_request_review_id": 1113912987,
      "id": 975424674,
      "node_id": "PRRC_kwDOABII5846I8yi",
      "diff_hunk": "@@ -0,0 +1,142 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#include <bench/bench.h>\n+#include <chainparams.h>\n+#include <wallet/coincontrol.h>\n+#include <consensus/merkle.h>\n+#include <kernel/chain.h>\n+#include <node/context.h>\n+#include <test/util/setup_common.h>\n+#include <test/util/wallet.h>\n+#include <validation.h>\n+#include <wallet/spend.h>\n+#include <wallet/wallet.h>\n+\n+using wallet::CWallet;\n+using wallet::CreateMockWalletDatabase;\n+using wallet::DBErrors;\n+using wallet::WALLET_FLAG_DESCRIPTORS;\n+\n+struct TipBlock\n+{\n+    uint256 prev_block_hash;\n+    int64_t prev_block_time;\n+    int tip_height;\n+};\n+\n+TipBlock getTip(const CChainParams& params, const node::NodeContext& context)\n+{\n+    auto tip = WITH_LOCK(::cs_main, return context.chainman->ActiveTip());\n+    return (tip) ? TipBlock{tip->GetBlockHash(), tip->GetBlockTime(), tip->nHeight} :\n+           TipBlock{params.GenesisBlock().GetHash(), params.GenesisBlock().GetBlockTime(), 0};\n+}\n+\n+void generateFakeBlock(const CChainParams& params,\n+                       const node::NodeContext& context,\n+                       CWallet& wallet,\n+                       const CScript& coinbase_out_script)\n+{\n+    TipBlock tip{getTip(params, context)};\n+\n+    // Create block\n+    CBlock block;\n+    CMutableTransaction coinbase_tx;\n+    coinbase_tx.vin.resize(1);\n+    coinbase_tx.vin[0].prevout.SetNull();\n+    coinbase_tx.vout.resize(2);\n+    coinbase_tx.vout[0].scriptPubKey = coinbase_out_script;\n+    coinbase_tx.vout[0].nValue = 49 * COIN;\n+    coinbase_tx.vin[0].scriptSig = CScript() << ++tip.tip_height << OP_0;\n+    coinbase_tx.vout[1].scriptPubKey = coinbase_out_script; // extra output\n+    coinbase_tx.vout[1].nValue = 1 * COIN;\n+    block.vtx = {MakeTransactionRef(std::move(coinbase_tx))};\n+\n+    block.nVersion = VERSIONBITS_LAST_OLD_BLOCK_VERSION;\n+    block.hashPrevBlock = tip.prev_block_hash;\n+    block.hashMerkleRoot = BlockMerkleRoot(block);\n+    block.nTime = ++tip.prev_block_time;\n+    block.nBits = params.GenesisBlock().nBits;\n+    block.nNonce = 0;\n+\n+    {\n+        LOCK(::cs_main);\n+        // Add it to the index\n+        CBlockIndex* pindex{context.chainman->m_blockman.AddToBlockIndex(block, context.chainman->m_best_header)};\n+        // add it to the chain\n+        context.chainman->ActiveChain().SetTip(*pindex);\n+    }\n+\n+    // notify wallet\n+    const auto& pindex = WITH_LOCK(::cs_main, return context.chainman->ActiveChain().Tip());\n+    wallet.blockConnected(kernel::MakeBlockInfo(pindex, &block));\n+}\n+\n+struct PreSelectInputs {\n+    // How many coins from the wallet the process should select\n+    int num_of_internal_inputs;\n+    // future: this could have external inputs as well.\n+};\n+\n+static void WalletCreateTx(benchmark::Bench& bench, const OutputType output_type, bool allow_other_inputs, std::optional<PreSelectInputs> preset_inputs)\n+{\n+    const auto test_setup = MakeNoLogFileContext<const TestingSetup>();\n+\n+    CWallet wallet{test_setup->m_node.chain.get(), \"\", gArgs, CreateMockWalletDatabase()};\n+    {\n+        LOCK(wallet.cs_wallet);\n+        wallet.SetWalletFlag(WALLET_FLAG_DESCRIPTORS);\n+        wallet.SetupDescriptorScriptPubKeyMans();\n+        if (wallet.LoadWallet() != DBErrors::LOAD_OK) assert(false);\n+    }\n+\n+    // Generate destinations\n+    CScript dest = GetScriptForDestination(getNewDestination(wallet, output_type));\n+\n+    // Generate chain; each coinbase will have two outputs to fill-up the wallet\n+    const auto& params = Params();\n+    unsigned int chain_size = 150000; // 150k blocks means 300k UTXO for the wallet (minus 200 due COINBASE_MATURITY)",
      "path": "src/bench/wallet_create_tx.cpp",
      "position": null,
      "original_position": 99,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "2d9ea15fe9773c3efe349579413b4a4e56c30454",
      "in_reply_to_id": 973264234,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'm not so convinced there. I do understand the `make check` time concern but that is limiting our testing capabilities. Some big issues aren't problems at all in a small scale.\r\n\r\nAs time isn't constant between runs and the difference is so small with 2000 blocks, stuff like this can easily go unnoticed for a really long time. Which kinda break the purpose of having a benchmark for it.\r\n\r\nE.g. lets say that we have this benchmark in the code with the 2000 blocks param. And someone introduces a similar problematic (traverse the whole wallet map and do other stuff for no reason).\r\nWould you care about it if the benchmark returns a time diff between 60-100 ns? or would you just say \"it's ok\"?.\r\nWe could be hurting badly big wallets with our changes without noticing it at all.\r\n\r\nSaying that, will decrease the number to 10k blocks. So we get closer to each other's number. Would you be ok with it?\r\nI think that the 2k blocks number is too small to be helpful on this context.\r\n\r\n----------------------\r\n\r\nAs future thoughts, would be nice to be able to re-use setups in the benchmarks. So every `WalletCreateTx*` would not require to create a new chain per run.\r\nPlus, would be good to not run all the benchmarks by default in `make check`. Only people working in the specific area should run them (or even better, maybe only PRs with certain labels should run them and compare the results with master's result).",
      "created_at": "2022-09-20T14:15:48Z",
      "updated_at": "2022-09-20T16:00:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r975424674",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/975424674"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 99,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/976884473",
      "pull_request_review_id": 1115945646,
      "id": 976884473,
      "node_id": "PRRC_kwDOABII5846OhL5",
      "diff_hunk": "@@ -0,0 +1,142 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#include <bench/bench.h>\n+#include <chainparams.h>\n+#include <wallet/coincontrol.h>\n+#include <consensus/merkle.h>\n+#include <kernel/chain.h>\n+#include <node/context.h>\n+#include <test/util/setup_common.h>\n+#include <test/util/wallet.h>\n+#include <validation.h>\n+#include <wallet/spend.h>\n+#include <wallet/wallet.h>\n+\n+using wallet::CWallet;\n+using wallet::CreateMockWalletDatabase;\n+using wallet::DBErrors;\n+using wallet::WALLET_FLAG_DESCRIPTORS;\n+\n+struct TipBlock\n+{\n+    uint256 prev_block_hash;\n+    int64_t prev_block_time;\n+    int tip_height;\n+};\n+\n+TipBlock getTip(const CChainParams& params, const node::NodeContext& context)\n+{\n+    auto tip = WITH_LOCK(::cs_main, return context.chainman->ActiveTip());\n+    return (tip) ? TipBlock{tip->GetBlockHash(), tip->GetBlockTime(), tip->nHeight} :\n+           TipBlock{params.GenesisBlock().GetHash(), params.GenesisBlock().GetBlockTime(), 0};\n+}\n+\n+void generateFakeBlock(const CChainParams& params,\n+                       const node::NodeContext& context,\n+                       CWallet& wallet,\n+                       const CScript& coinbase_out_script)\n+{\n+    TipBlock tip{getTip(params, context)};\n+\n+    // Create block\n+    CBlock block;\n+    CMutableTransaction coinbase_tx;\n+    coinbase_tx.vin.resize(1);\n+    coinbase_tx.vin[0].prevout.SetNull();\n+    coinbase_tx.vout.resize(2);\n+    coinbase_tx.vout[0].scriptPubKey = coinbase_out_script;\n+    coinbase_tx.vout[0].nValue = 49 * COIN;\n+    coinbase_tx.vin[0].scriptSig = CScript() << ++tip.tip_height << OP_0;\n+    coinbase_tx.vout[1].scriptPubKey = coinbase_out_script; // extra output\n+    coinbase_tx.vout[1].nValue = 1 * COIN;\n+    block.vtx = {MakeTransactionRef(std::move(coinbase_tx))};\n+\n+    block.nVersion = VERSIONBITS_LAST_OLD_BLOCK_VERSION;\n+    block.hashPrevBlock = tip.prev_block_hash;\n+    block.hashMerkleRoot = BlockMerkleRoot(block);\n+    block.nTime = ++tip.prev_block_time;\n+    block.nBits = params.GenesisBlock().nBits;\n+    block.nNonce = 0;\n+\n+    {\n+        LOCK(::cs_main);\n+        // Add it to the index\n+        CBlockIndex* pindex{context.chainman->m_blockman.AddToBlockIndex(block, context.chainman->m_best_header)};\n+        // add it to the chain\n+        context.chainman->ActiveChain().SetTip(*pindex);\n+    }\n+\n+    // notify wallet\n+    const auto& pindex = WITH_LOCK(::cs_main, return context.chainman->ActiveChain().Tip());\n+    wallet.blockConnected(kernel::MakeBlockInfo(pindex, &block));\n+}\n+\n+struct PreSelectInputs {\n+    // How many coins from the wallet the process should select\n+    int num_of_internal_inputs;\n+    // future: this could have external inputs as well.\n+};\n+\n+static void WalletCreateTx(benchmark::Bench& bench, const OutputType output_type, bool allow_other_inputs, std::optional<PreSelectInputs> preset_inputs)\n+{\n+    const auto test_setup = MakeNoLogFileContext<const TestingSetup>();\n+\n+    CWallet wallet{test_setup->m_node.chain.get(), \"\", gArgs, CreateMockWalletDatabase()};\n+    {\n+        LOCK(wallet.cs_wallet);\n+        wallet.SetWalletFlag(WALLET_FLAG_DESCRIPTORS);\n+        wallet.SetupDescriptorScriptPubKeyMans();\n+        if (wallet.LoadWallet() != DBErrors::LOAD_OK) assert(false);\n+    }\n+\n+    // Generate destinations\n+    CScript dest = GetScriptForDestination(getNewDestination(wallet, output_type));\n+\n+    // Generate chain; each coinbase will have two outputs to fill-up the wallet\n+    const auto& params = Params();\n+    unsigned int chain_size = 150000; // 150k blocks means 300k UTXO for the wallet (minus 200 due COINBASE_MATURITY)",
      "path": "src/bench/wallet_create_tx.cpp",
      "position": null,
      "original_position": 99,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "2d9ea15fe9773c3efe349579413b4a4e56c30454",
      "in_reply_to_id": 973264234,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Even with 2000 blocks I am still able to measure a difference. It's also a lot more noticeable (and everything is a lot slower) if configured with `--enable-debug`.\r\n\r\nUsing 5000 is quite a bit faster than 10000, and the improvement is still quite noticeable without debug.",
      "created_at": "2022-09-21T18:54:50Z",
      "updated_at": "2022-09-21T18:56:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r976884473",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/976884473"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 99,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/977063795",
      "pull_request_review_id": 1116197111,
      "id": 977063795,
      "node_id": "PRRC_kwDOABII5846PM9z",
      "diff_hunk": "@@ -0,0 +1,142 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#include <bench/bench.h>\n+#include <chainparams.h>\n+#include <wallet/coincontrol.h>\n+#include <consensus/merkle.h>\n+#include <kernel/chain.h>\n+#include <node/context.h>\n+#include <test/util/setup_common.h>\n+#include <test/util/wallet.h>\n+#include <validation.h>\n+#include <wallet/spend.h>\n+#include <wallet/wallet.h>\n+\n+using wallet::CWallet;\n+using wallet::CreateMockWalletDatabase;\n+using wallet::DBErrors;\n+using wallet::WALLET_FLAG_DESCRIPTORS;\n+\n+struct TipBlock\n+{\n+    uint256 prev_block_hash;\n+    int64_t prev_block_time;\n+    int tip_height;\n+};\n+\n+TipBlock getTip(const CChainParams& params, const node::NodeContext& context)\n+{\n+    auto tip = WITH_LOCK(::cs_main, return context.chainman->ActiveTip());\n+    return (tip) ? TipBlock{tip->GetBlockHash(), tip->GetBlockTime(), tip->nHeight} :\n+           TipBlock{params.GenesisBlock().GetHash(), params.GenesisBlock().GetBlockTime(), 0};\n+}\n+\n+void generateFakeBlock(const CChainParams& params,\n+                       const node::NodeContext& context,\n+                       CWallet& wallet,\n+                       const CScript& coinbase_out_script)\n+{\n+    TipBlock tip{getTip(params, context)};\n+\n+    // Create block\n+    CBlock block;\n+    CMutableTransaction coinbase_tx;\n+    coinbase_tx.vin.resize(1);\n+    coinbase_tx.vin[0].prevout.SetNull();\n+    coinbase_tx.vout.resize(2);\n+    coinbase_tx.vout[0].scriptPubKey = coinbase_out_script;\n+    coinbase_tx.vout[0].nValue = 49 * COIN;\n+    coinbase_tx.vin[0].scriptSig = CScript() << ++tip.tip_height << OP_0;\n+    coinbase_tx.vout[1].scriptPubKey = coinbase_out_script; // extra output\n+    coinbase_tx.vout[1].nValue = 1 * COIN;\n+    block.vtx = {MakeTransactionRef(std::move(coinbase_tx))};\n+\n+    block.nVersion = VERSIONBITS_LAST_OLD_BLOCK_VERSION;\n+    block.hashPrevBlock = tip.prev_block_hash;\n+    block.hashMerkleRoot = BlockMerkleRoot(block);\n+    block.nTime = ++tip.prev_block_time;\n+    block.nBits = params.GenesisBlock().nBits;\n+    block.nNonce = 0;\n+\n+    {\n+        LOCK(::cs_main);\n+        // Add it to the index\n+        CBlockIndex* pindex{context.chainman->m_blockman.AddToBlockIndex(block, context.chainman->m_best_header)};\n+        // add it to the chain\n+        context.chainman->ActiveChain().SetTip(*pindex);\n+    }\n+\n+    // notify wallet\n+    const auto& pindex = WITH_LOCK(::cs_main, return context.chainman->ActiveChain().Tip());\n+    wallet.blockConnected(kernel::MakeBlockInfo(pindex, &block));\n+}\n+\n+struct PreSelectInputs {\n+    // How many coins from the wallet the process should select\n+    int num_of_internal_inputs;\n+    // future: this could have external inputs as well.\n+};\n+\n+static void WalletCreateTx(benchmark::Bench& bench, const OutputType output_type, bool allow_other_inputs, std::optional<PreSelectInputs> preset_inputs)\n+{\n+    const auto test_setup = MakeNoLogFileContext<const TestingSetup>();\n+\n+    CWallet wallet{test_setup->m_node.chain.get(), \"\", gArgs, CreateMockWalletDatabase()};\n+    {\n+        LOCK(wallet.cs_wallet);\n+        wallet.SetWalletFlag(WALLET_FLAG_DESCRIPTORS);\n+        wallet.SetupDescriptorScriptPubKeyMans();\n+        if (wallet.LoadWallet() != DBErrors::LOAD_OK) assert(false);\n+    }\n+\n+    // Generate destinations\n+    CScript dest = GetScriptForDestination(getNewDestination(wallet, output_type));\n+\n+    // Generate chain; each coinbase will have two outputs to fill-up the wallet\n+    const auto& params = Params();\n+    unsigned int chain_size = 150000; // 150k blocks means 300k UTXO for the wallet (minus 200 due COINBASE_MATURITY)",
      "path": "src/bench/wallet_create_tx.cpp",
      "position": null,
      "original_position": 99,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "2d9ea15fe9773c3efe349579413b4a4e56c30454",
      "in_reply_to_id": 973264234,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Interesting, that is why we have been seeing different pictures of this. Without the debug mode, the difference that have been seeing locally is almost imperceptible with 2k (less than 100 ns).\r\nThat also explains why the CI was timing out before, benchmarks there are running on debug mode too.",
      "created_at": "2022-09-21T23:33:59Z",
      "updated_at": "2022-09-21T23:34:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r977063795",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/977063795"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 99,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/989230651",
      "pull_request_review_id": 1133274033,
      "id": 989230651,
      "node_id": "PRRC_kwDOABII58469nY7",
      "diff_hunk": "@@ -575,11 +575,12 @@ std::optional<SelectionResult> SelectCoins(const CWallet& wallet, CoinsResult& a\n     // Deduct preset inputs amount from the search target\n     CAmount selection_target = nTargetValue - pre_set_inputs.total_amount;\n \n-    // If automatic coin selection was disabled, we just want to return the preset inputs result\n-    if (!coin_control.m_allow_other_inputs) {\n+    // If automatic coin selection was disabled or if we already covered the\n+    // target with the preset inputs: try to return the result right away\n+    if (!coin_control.m_allow_other_inputs || selection_target <= 0) {\n         // 'selection_target' is computed on `PreSelectedInputs::Insert` which decides whether to use the effective value\n         // or the raw output value based on the 'subtract_fee_outputs' flag.\n-        if (selection_target > 0) return std::nullopt;\n+        if (selection_target > 0) return std::nullopt; // fails only if 'allow_other_inputs=false'\n         SelectionResult result(nTargetValue, SelectionAlgorithm::MANUAL);\n         result.AddInputs(pre_set_inputs.coins, coin_selection_params.m_subtract_fee_outputs);\n         result.ComputeAndSetWaste(coin_selection_params.min_viable_change, coin_selection_params.m_cost_of_change, coin_selection_params.m_change_fee);",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 15,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "d54606dad097ac050dfdd1c820e3d7172b036146",
      "in_reply_to_id": null,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "in d54606dad097ac050dfdd1c820e3d7172b036146\r\nIMO this boolean logic:\r\n```cpp\r\n    // If automatic coin selection was disabled or if we already covered the\r\n    // target with the preset inputs: try to return the result right away\r\n    if (!coin_control.m_allow_other_inputs && selection_target > 0) return std::nullopt;\r\n\r\n    if (selection_target <= 0) {\r\n        SelectionResult result(nTargetValue, SelectionAlgorithm::MANUAL);\r\n        result.AddInputs(pre_set_inputs.coins, coin_selection_params.m_subtract_fee_outputs);\r\n        result.ComputeAndSetWaste(coin_selection_params.min_viable_change, coin_selection_params.m_cost_of_change, coin_selection_params.m_change_fee);\r\n        return result;\r\n    }\r\n```\r\nis easier to understand than this one:\r\n```cpp\r\n    // If automatic coin selection was disabled or if we already covered the\r\n    // target with the preset inputs: try to return the result right away\r\n    if (!coin_control.m_allow_other_inputs || selection_target <= 0) {\r\n        // 'selection_target' is computed on `PreSelectedInputs::Insert` which decides whether to use the effective value\r\n        // or the raw output value based on the 'subtract_fee_outputs' flag.\r\n        if (selection_target > 0) return std::nullopt; // fails only if 'allow_other_inputs=false'\r\n        SelectionResult result(nTargetValue, SelectionAlgorithm::MANUAL);\r\n        result.AddInputs(pre_set_inputs.coins, coin_selection_params.m_subtract_fee_outputs);\r\n        result.ComputeAndSetWaste(coin_selection_params.min_viable_change, coin_selection_params.m_cost_of_change, coin_selection_params.m_change_fee);\r\n        return result;\r\n    }\r\n```",
      "created_at": "2022-10-06T16:01:27Z",
      "updated_at": "2022-10-06T16:06:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r989230651",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/989230651"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": 578,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 585,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/989467217",
      "pull_request_review_id": 1133616536,
      "id": 989467217,
      "node_id": "PRRC_kwDOABII5846-hJR",
      "diff_hunk": "@@ -575,11 +575,12 @@ std::optional<SelectionResult> SelectCoins(const CWallet& wallet, CoinsResult& a\n     // Deduct preset inputs amount from the search target\n     CAmount selection_target = nTargetValue - pre_set_inputs.total_amount;\n \n-    // If automatic coin selection was disabled, we just want to return the preset inputs result\n-    if (!coin_control.m_allow_other_inputs) {\n+    // If automatic coin selection was disabled or if we already covered the\n+    // target with the preset inputs: try to return the result right away\n+    if (!coin_control.m_allow_other_inputs || selection_target <= 0) {\n         // 'selection_target' is computed on `PreSelectedInputs::Insert` which decides whether to use the effective value\n         // or the raw output value based on the 'subtract_fee_outputs' flag.\n-        if (selection_target > 0) return std::nullopt;\n+        if (selection_target > 0) return std::nullopt; // fails only if 'allow_other_inputs=false'\n         SelectionResult result(nTargetValue, SelectionAlgorithm::MANUAL);\n         result.AddInputs(pre_set_inputs.coins, coin_selection_params.m_subtract_fee_outputs);\n         result.ComputeAndSetWaste(coin_selection_params.min_viable_change, coin_selection_params.m_cost_of_change, coin_selection_params.m_change_fee);",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 15,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "d54606dad097ac050dfdd1c820e3d7172b036146",
      "in_reply_to_id": 989230651,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "yeah, better.",
      "created_at": "2022-10-06T20:44:26Z",
      "updated_at": "2022-10-06T20:44:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r989467217",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/989467217"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": 578,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 585,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1005288935",
      "pull_request_review_id": 1155953166,
      "id": 1005288935,
      "node_id": "PRRC_kwDOABII5847633n",
      "diff_hunk": "@@ -121,6 +121,26 @@ std::optional<SelectionResult> AttemptSelection(const CWallet& wallet, const CAm\n std::optional<SelectionResult> ChooseSelectionResult(const CWallet& wallet, const CAmount& nTargetValue, const CoinEligibilityFilter& eligibility_filter, const std::vector<COutput>& available_coins,\n                         const CoinSelectionParams& coin_selection_params);\n \n+// User manually selected inputs that must be part of the transaction\n+struct PreSelectedInputs",
      "path": "src/wallet/spend.h",
      "position": 5,
      "original_position": 5,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "a67d26509db982e7ad49431fdb90a0a8728b97b5",
      "in_reply_to_id": null,
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: Can we just use `SelectionResult` here? All we do we preset input is just copy them to `SelectionResult` anyway. ",
      "created_at": "2022-10-26T06:55:39Z",
      "updated_at": "2022-10-26T07:35:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r1005288935",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1005288935"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 125,
      "original_line": 125,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1005293825",
      "pull_request_review_id": 1155953166,
      "id": 1005293825,
      "node_id": "PRRC_kwDOABII584765EB",
      "diff_hunk": "@@ -575,11 +575,11 @@ std::optional<SelectionResult> SelectCoins(const CWallet& wallet, CoinsResult& a\n     // Deduct preset inputs amount from the search target\n     CAmount selection_target = nTargetValue - pre_set_inputs.total_amount;\n \n-    // If automatic coin selection was disabled, we just want to return the preset inputs result\n-    if (!coin_control.m_allow_other_inputs) {\n-        // 'selection_target' is computed on `PreSelectedInputs::Insert` which decides whether to use the effective value\n-        // or the raw output value based on the 'subtract_fee_outputs' flag.\n-        if (selection_target > 0) return std::nullopt;\n+    // Return if automatic coin selection is disabled, and we don't cover the selection target\n+    if (!coin_control.m_allow_other_inputs && selection_target > 0) return std::nullopt;\n+\n+    // Return if we can cover the target only with the preset inputs\n+    if (selection_target <= 0) {\n         SelectionResult result(nTargetValue, SelectionAlgorithm::MANUAL);",
      "path": "src/wallet/spend.cpp",
      "position": 133,
      "original_position": 14,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "36707c81372fd613689ed0ea70a147e351561239",
      "in_reply_to_id": null,
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: I'd suggest to create `SelectionResult` for preselected inputs unconditionally. This way use can reuse it later when you need to merge it with automatic coin selection.",
      "created_at": "2022-10-26T07:02:18Z",
      "updated_at": "2022-10-26T07:35:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r1005293825",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1005293825"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 583,
      "original_line": 583,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1005294598",
      "pull_request_review_id": 1155953166,
      "id": 1005294598,
      "node_id": "PRRC_kwDOABII584765QG",
      "diff_hunk": "@@ -594,9 +594,6 @@ std::optional<SelectionResult> SelectCoins(const CWallet& wallet, CoinsResult& a\n     SelectionResult preselected(pre_set_inputs.total_amount, SelectionAlgorithm::MANUAL);\n     preselected.AddInputs(pre_set_inputs.coins, coin_selection_params.m_subtract_fee_outputs);\n     op_selection_result->Merge(preselected);\n-    if (op_selection_result->GetAlgo() == SelectionAlgorithm::MANUAL) {\n-        op_selection_result->ComputeAndSetWaste(coin_selection_params.min_viable_change, coin_selection_params.m_cost_of_change, coin_selection_params.m_change_fee);",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 22,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "36707c81372fd613689ed0ea70a147e351561239",
      "in_reply_to_id": null,
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: I'd say we need to recalculate waste after adding preselected inputs because otherwise wronge waste score would be passed to USDT",
      "created_at": "2022-10-26T07:03:22Z",
      "updated_at": "2022-10-26T07:35:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r1005294598",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1005294598"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 598,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1005954007",
      "pull_request_review_id": 1156963474,
      "id": 1005954007,
      "node_id": "PRRC_kwDOABII58479aPX",
      "diff_hunk": "@@ -121,6 +121,26 @@ std::optional<SelectionResult> AttemptSelection(const CWallet& wallet, const CAm\n std::optional<SelectionResult> ChooseSelectionResult(const CWallet& wallet, const CAmount& nTargetValue, const CoinEligibilityFilter& eligibility_filter, const std::vector<COutput>& available_coins,\n                         const CoinSelectionParams& coin_selection_params);\n \n+// User manually selected inputs that must be part of the transaction\n+struct PreSelectedInputs",
      "path": "src/wallet/spend.h",
      "position": 5,
      "original_position": 5,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "a67d26509db982e7ad49431fdb90a0a8728b97b5",
      "in_reply_to_id": 1005288935,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "We actually had this convo at the beginning of the PR (https://github.com/bitcoin/bitcoin/pull/25685#discussion_r938067217).\r\n\r\nI implemented it two/three months ago and the end result wasn't so satisfactory.\r\n\r\nIf my memory doesnâ€™t fail me, the reasons were:\r\n\r\n1. We would be mixing responsibilities if we do that. The `SelectionResult` class is particular to the coin selection process (in the future, it might even be decoupled into a separated library) and `FetchSelectedInputs` is a wallet method that we use to obtain a set of outputs (similar to `AvailableCoins` but instead of traversing the whole wallet tx map, it fetches the specific outputs directly), which could be used in different contexts and not only inside the tx creation process (places where the `SelectionResult` class wouldn't make much sense).\r\n\r\n2. The `SelectionResult` constructor requires a target, which we donâ€™t have up until we fetch and sum-up all the manually selected outputs. So, we would end up doing the same that we do inside `SelectCoins` but inside `FetchSelectedInputs`: (1) first fetch and store all the outputs in a vector, then at the end of the method, create a `SelectionResult` with the accurate target and return it (so there would really be no difference with the current approach unless we add another constructor and a new `AddInput` method inside `SelectionResult` that keeps track of target etc or.. pass the tx target to `FetchSelectedInputs` which I think that is ugly as the tx target has nothing to do with a fetching-only function).â€¨\r\n3. Plus, the new struct caches the total amount and contemplates the effective/raw amount distinction. Which, for example, made #26203 issue a non-issue here.\r\n.\r\n\r\nWith this Iâ€™m not saying that we should marry to this struct (we could also use `CoinsResult` instead) but I donâ€™t think that changing it to `SelectionResult` will make the code better (at least for now). It would probably just continue entangling the coin selection code inside wallet general functions that we should be able to re-use in other processes.\r\n\r\nPlus, after the next PR in the line #25806, I think that this process will be in a much better shape to re-do this convo once more. Mainly because the coin selection process will not be so attached to the wallet internals. So, we might be able to decouple it into a different module or an external library.",
      "created_at": "2022-10-26T17:03:32Z",
      "updated_at": "2022-10-26T17:03:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r1005954007",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1005954007"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 125,
      "original_line": 125,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1005955681",
      "pull_request_review_id": 1156965517,
      "id": 1005955681,
      "node_id": "PRRC_kwDOABII58479aph",
      "diff_hunk": "@@ -594,9 +594,6 @@ std::optional<SelectionResult> SelectCoins(const CWallet& wallet, CoinsResult& a\n     SelectionResult preselected(pre_set_inputs.total_amount, SelectionAlgorithm::MANUAL);\n     preselected.AddInputs(pre_set_inputs.coins, coin_selection_params.m_subtract_fee_outputs);\n     op_selection_result->Merge(preselected);\n-    if (op_selection_result->GetAlgo() == SelectionAlgorithm::MANUAL) {\n-        op_selection_result->ComputeAndSetWaste(coin_selection_params.min_viable_change, coin_selection_params.m_cost_of_change, coin_selection_params.m_change_fee);",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 22,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "36707c81372fd613689ed0ea70a147e351561239",
      "in_reply_to_id": 1005294598,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "funny that I mentioned this here https://github.com/bitcoin/bitcoin/pull/25685#discussion_r938067217 (last sentence) almost 3 months ago.\r\n\r\nWill re-check it.",
      "created_at": "2022-10-26T17:05:05Z",
      "updated_at": "2022-10-26T17:05:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r1005955681",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1005955681"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 598,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1006060231",
      "pull_request_review_id": 1157102842,
      "id": 1006060231,
      "node_id": "PRRC_kwDOABII584790LH",
      "diff_hunk": "@@ -575,11 +575,11 @@ std::optional<SelectionResult> SelectCoins(const CWallet& wallet, CoinsResult& a\n     // Deduct preset inputs amount from the search target\n     CAmount selection_target = nTargetValue - pre_set_inputs.total_amount;\n \n-    // If automatic coin selection was disabled, we just want to return the preset inputs result\n-    if (!coin_control.m_allow_other_inputs) {\n-        // 'selection_target' is computed on `PreSelectedInputs::Insert` which decides whether to use the effective value\n-        // or the raw output value based on the 'subtract_fee_outputs' flag.\n-        if (selection_target > 0) return std::nullopt;\n+    // Return if automatic coin selection is disabled, and we don't cover the selection target\n+    if (!coin_control.m_allow_other_inputs && selection_target > 0) return std::nullopt;\n+\n+    // Return if we can cover the target only with the preset inputs\n+    if (selection_target <= 0) {\n         SelectionResult result(nTargetValue, SelectionAlgorithm::MANUAL);",
      "path": "src/wallet/spend.cpp",
      "position": 133,
      "original_position": 14,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "36707c81372fd613689ed0ea70a147e351561239",
      "in_reply_to_id": 1005293825,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I thought about it but It's not that straightforward. The `SelectionResult` target is provided on the constructor and then only modified by the `Merge` function (which adds the merged selection target to the base one).\r\n\r\nSo, it's not clear with which target the selection result should be initialized:\r\n\r\n1) If the preset inputs cover the target amount, then it needs to be initialized to the target amount, not to the preset inputs total amount. So the selection result can be returned early.\r\n\r\n2) If the preset inputs don't cover the target amount, then it needs to be initialized to the preset inputs total amount, because we need to cover the total amount when we merge it with the `SelectionResult` that comes from `AutomaticCoinSelection` (which contains a selection for the target amount minus the preset inputs total).",
      "created_at": "2022-10-26T18:40:40Z",
      "updated_at": "2022-10-26T18:40:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r1006060231",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1006060231"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 583,
      "original_line": 583,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1006076773",
      "pull_request_review_id": 1157123145,
      "id": 1006076773,
      "node_id": "PRRC_kwDOABII584794Nl",
      "diff_hunk": "@@ -594,9 +594,6 @@ std::optional<SelectionResult> SelectCoins(const CWallet& wallet, CoinsResult& a\n     SelectionResult preselected(pre_set_inputs.total_amount, SelectionAlgorithm::MANUAL);\n     preselected.AddInputs(pre_set_inputs.coins, coin_selection_params.m_subtract_fee_outputs);\n     op_selection_result->Merge(preselected);\n-    if (op_selection_result->GetAlgo() == SelectionAlgorithm::MANUAL) {\n-        op_selection_result->ComputeAndSetWaste(coin_selection_params.min_viable_change, coin_selection_params.m_cost_of_change, coin_selection_params.m_change_fee);",
      "path": "src/wallet/spend.cpp",
      "position": null,
      "original_position": 22,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "36707c81372fd613689ed0ea70a147e351561239",
      "in_reply_to_id": 1005294598,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Pushed. Squashed inside a8a75346. Thanks",
      "created_at": "2022-10-26T18:56:27Z",
      "updated_at": "2022-10-26T18:56:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r1006076773",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1006076773"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 598,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1006081208",
      "pull_request_review_id": 1157130006,
      "id": 1006081208,
      "node_id": "PRRC_kwDOABII584795S4",
      "diff_hunk": "@@ -575,11 +575,11 @@ std::optional<SelectionResult> SelectCoins(const CWallet& wallet, CoinsResult& a\n     // Deduct preset inputs amount from the search target\n     CAmount selection_target = nTargetValue - pre_set_inputs.total_amount;\n \n-    // If automatic coin selection was disabled, we just want to return the preset inputs result\n-    if (!coin_control.m_allow_other_inputs) {\n-        // 'selection_target' is computed on `PreSelectedInputs::Insert` which decides whether to use the effective value\n-        // or the raw output value based on the 'subtract_fee_outputs' flag.\n-        if (selection_target > 0) return std::nullopt;\n+    // Return if automatic coin selection is disabled, and we don't cover the selection target\n+    if (!coin_control.m_allow_other_inputs && selection_target > 0) return std::nullopt;\n+\n+    // Return if we can cover the target only with the preset inputs\n+    if (selection_target <= 0) {\n         SelectionResult result(nTargetValue, SelectionAlgorithm::MANUAL);",
      "path": "src/wallet/spend.cpp",
      "position": 133,
      "original_position": 14,
      "commit_id": "3fcb545ab26be3e785b5e5654be0bdc77099d827",
      "original_commit_id": "36707c81372fd613689ed0ea70a147e351561239",
      "in_reply_to_id": 1005293825,
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yap, agreed.",
      "created_at": "2022-10-26T19:01:45Z",
      "updated_at": "2022-10-26T19:01:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25685#discussion_r1006081208",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1006081208"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25685"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 583,
      "original_line": 583,
      "side": "RIGHT"
    }
  ]
}