{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16577",
    "id": 306101961,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MzA2MTAxOTYx",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16577",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/16577.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/16577.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16577",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16577/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16577/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16577/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/efd2474d17098c754367b844ec646ebececc7c74",
    "number": 16577,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "util: CBufferedFile fixes and unit test",
    "user": {
      "login": "LarryRuane",
      "id": 8321330,
      "node_id": "MDQ6VXNlcjgzMjEzMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LarryRuane",
      "html_url": "https://github.com/LarryRuane",
      "followers_url": "https://api.github.com/users/LarryRuane/followers",
      "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
      "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
      "repos_url": "https://api.github.com/users/LarryRuane/repos",
      "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The `CBufferedFile` object guarantees its user is able to \"rewind\" the data stream (that's being read from a file) up to a certain number of bytes, as specified by the user in the constructor. This guarantee is not honored due to a bug in the `SetPos` method. \r\n\r\nSuch rewinding is done in `LoadExternalBlockFile()` (currently the only user of this object), which deserializes a series of `CBlock` objects. If that function encounters something unexpected in the data stream, which is coming from a `blocks/blk00???.dat` file, it \"rewinds\" to an earlier position in the stream to try to get in sync again. The `CBufferedFile` object does not actually rewind its file offset; it simply repositions its internal offset, `nReadPos`, to an earlier position within the object's private buffer; this is why there's a limit to how far the user may rewind.\r\n\r\nIf `LoadExternalBlockFile()` needs to rewind (call `blkdat.SetPos()`), the stream may not be positioned as it should be, causing errors in deserialization. This need to rewind is probably rare, which is likely why this bug hasn't been noticed already. But if this object is used elsewhere in the future, this could be a serious problem, especially as, due to the nature of the bug, the `SetPos()` _sometimes_ works.\r\n\r\nThis PR adds a unit test for `CBufferedFile` that fails due to this bug. (Until now it has had no unit tests.) The unit test provides good documentation and examples for developers trying to understand `LoadExternalBlockFile()` and for future users of this object.\r\n\r\nThis PR also adds code to throw an exception from the constructor if the rewind argument is not less than the buffer size (since that doesn't make any sense).\r\n\r\nFinally, I discovered that the object is too restrictive in one respect: When the deserialization methods call this object's `read` method, a check ensures that the number of bytes being requested is less than the size of the buffer (adjusting for the rewind size), else it throws an exception. This restriction is unnecessary; the object being deserialized can be larger than the buffer because multiple reads from disk can satisfy the request.",
    "labels": [
      {
        "id": 62963516,
        "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
        "name": "Tests",
        "color": "d4c5f9",
        "default": false
      },
      {
        "id": 241832923,
        "node_id": "MDU6TGFiZWwyNDE4MzI5MjM=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Utils/log/libs",
        "name": "Utils/log/libs",
        "description": "",
        "color": "5319e7",
        "default": false
      }
    ],
    "active_lock_reason": "resolved",
    "created_at": "2019-08-09T18:58:28Z",
    "updated_at": "2021-12-16T14:12:24Z",
    "closed_at": "2019-09-26T11:39:17Z",
    "mergeable_state": "unknown",
    "merged_at": "2019-09-26T11:39:17Z",
    "merge_commit_sha": "efd2474d17098c754367b844ec646ebececc7c74",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "LarryRuane:CBufferedFile-fixes",
      "ref": "CBufferedFile-fixes",
      "sha": "efd2474d17098c754367b844ec646ebececc7c74",
      "user": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 176543842,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNzY1NDM4NDI=",
        "name": "bitcoin",
        "full_name": "LarryRuane/bitcoin",
        "owner": {
          "login": "LarryRuane",
          "id": 8321330,
          "node_id": "MDQ6VXNlcjgzMjEzMzA=",
          "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/LarryRuane",
          "html_url": "https://github.com/LarryRuane",
          "followers_url": "https://api.github.com/users/LarryRuane/followers",
          "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
          "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
          "repos_url": "https://api.github.com/users/LarryRuane/repos",
          "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/LarryRuane/bitcoin",
        "description": "Bitcore Bitcoin build with address indexes",
        "fork": true,
        "url": "https://api.github.com/repos/LarryRuane/bitcoin",
        "archive_url": "https://api.github.com/repos/LarryRuane/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/LarryRuane/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/LarryRuane/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/LarryRuane/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/LarryRuane/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/LarryRuane/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/LarryRuane/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/LarryRuane/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/LarryRuane/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/LarryRuane/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/LarryRuane/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/LarryRuane/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/LarryRuane/bitcoin/events",
        "forks_url": "https://api.github.com/repos/LarryRuane/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/LarryRuane/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/LarryRuane/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/LarryRuane/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/LarryRuane/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/LarryRuane/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/LarryRuane/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/LarryRuane/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/LarryRuane/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/LarryRuane/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/LarryRuane/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/LarryRuane/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/LarryRuane/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/LarryRuane/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/LarryRuane/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/LarryRuane/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:LarryRuane/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/LarryRuane/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/LarryRuane/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/LarryRuane/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/LarryRuane/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/LarryRuane/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/LarryRuane/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/LarryRuane/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/LarryRuane/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/LarryRuane/bitcoin/hooks",
        "svn_url": "https://github.com/LarryRuane/bitcoin",
        "homepage": "https://bitcore.io/bitcoin",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 220427,
        "default_branch": "0.12.1-bitcore",
        "open_issues_count": 9,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-28T23:12:35Z",
        "created_at": "2019-03-19T15:31:01Z",
        "updated_at": "2023-02-24T19:51:21Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "1985c4efda56b48f6f9c04f39d69268ee8f0b40a",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35475,
        "stargazers_count": 70608,
        "watchers_count": 70608,
        "size": 236222,
        "default_branch": "master",
        "open_issues_count": 672,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-02T19:06:37Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-08-02T18:21:18Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16577"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 257,
    "deletions": 11,
    "changed_files": 2,
    "commits": 1,
    "review_comments": 15,
    "comments": 11
  },
  "events": [
    {
      "event": "labeled",
      "id": 2547599702,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDI1NDc1OTk3MDI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2547599702",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-08-09T20:54:22Z",
      "label": {
        "name": "Tests",
        "color": "d4c5f9"
      }
    },
    {
      "event": "labeled",
      "id": 2547803926,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDI1NDc4MDM5MjY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2547803926",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-08-09T23:06:45Z",
      "label": {
        "name": "Utils/log/libs",
        "color": "5319e7"
      }
    },
    {
      "event": "reviewed",
      "id": 273418979,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjczNDE4OTc5",
      "url": null,
      "actor": null,
      "commit_id": "b1aee230574a7eb72ca5101458fc9ef4a957d626",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Travis is failing https://travis-ci.org/bitcoin/bitcoin/jobs/569970060#L3130-L3131.",
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16577#pullrequestreview-273418979",
      "submitted_at": "2019-08-10T09:45:53Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16577"
    },
    {
      "event": "renamed",
      "id": 2548358230,
      "node_id": "MDE3OlJlbmFtZWRUaXRsZUV2ZW50MjU0ODM1ODIzMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2548358230",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-08-10T21:38:28Z",
      "rename": {
        "from": "util: CBufferedFile fixes and unit test",
        "to": "[WIP] util: CBufferedFile fixes and unit test"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 2549167700,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MjU0OTE2NzcwMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2549167700",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-08-12T05:58:11Z"
    },
    {
      "event": "commented",
      "id": 520312788,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUyMDMxMjc4OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/520312788",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-08-12T06:39:39Z",
      "updated_at": "2019-08-12T06:39:39Z",
      "author_association": "CONTRIBUTOR",
      "body": "The second commit also adds a randomized test. It's pretty common for the kind of code under scrutiny here (the `CBufferedFile` object) to have subtle off-by-one and boundary condition bugs. A functional unit test like the one in the first commit is good, but it's hard to be sure the test covers all possible strange conditions. A random test will try many weird things that no person would ever think of. \r\n\r\nI ran this random test several million iterations, which makes me extremely confident that the code under test is correct. Of course, whether the test code itself is correct is very crucial! So please review the test code, thanks.",
      "user": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16577#issuecomment-520312788",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16577"
    },
    {
      "event": "renamed",
      "id": 2549223434,
      "node_id": "MDE3OlJlbmFtZWRUaXRsZUV2ZW50MjU0OTIyMzQzNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2549223434",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-08-12T06:39:56Z",
      "rename": {
        "from": "[WIP] util: CBufferedFile fixes and unit test",
        "to": "util: CBufferedFile fixes and unit test"
      }
    },
    {
      "event": "commented",
      "id": 520399374,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUyMDM5OTM3NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/520399374",
      "actor": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-08-12T12:11:51Z",
      "updated_at": "2019-08-12T12:11:51Z",
      "author_association": "CONTRIBUTOR",
      "body": "@LarryRuane I haven't looked at your changes yet but wanted to mention that you might want to check using `contrib/devtools/test_deterministic_coverage.sh` that the unit test is line coverage deterministic after this change.\r\n\r\nLine coverage determinism is a necessary condition for meaningful line coverage measuring :-)",
      "user": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16577#issuecomment-520399374",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16577"
    },
    {
      "event": "mentioned",
      "id": 2549977044,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MjU0OTk3NzA0NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2549977044",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-08-12T12:11:51Z"
    },
    {
      "event": "subscribed",
      "id": 2549977048,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDI1NDk5NzcwNDg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2549977048",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-08-12T12:11:51Z"
    },
    {
      "event": "commented",
      "id": 520450065,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUyMDQ1MDA2NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/520450065",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-08-12T14:32:28Z",
      "updated_at": "2019-08-12T14:32:28Z",
      "author_association": "CONTRIBUTOR",
      "body": "@practicalswift, thanks, I don't understand that script yet, but you reminded me that I have a question about the random test I wrote. It can trivially be made deterministic by seeding the random number generator at the beginning of the test. Would that be desirable, or not? It seems to me there are advantages either way. If the test is deterministic, then every time CI runs, it's not testing anything new; there could be a bug that by chance isn't uncovered (but would be by a different seed). On the other hand, if the test is non-deterministic, it's possible that a CI run would randomly fail for reasons having nothing to do with the PR that's causing CI to run. That would be very mysterious (at least until investigated).\r\n\r\nIf I had to decide, I'd say it's better for the test to be deterministic. But I don't know what the conventions are here. (Apologies in advance if this is documented somewhere.)\r\n\r\nI'll also try to understand the coverage tool, looks very interesting, thank you.",
      "user": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16577#issuecomment-520450065",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16577"
    },
    {
      "event": "mentioned",
      "id": 2550407129,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MjU1MDQwNzEyOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2550407129",
      "actor": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-08-12T14:32:28Z"
    },
    {
      "event": "subscribed",
      "id": 2550407130,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDI1NTA0MDcxMzA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2550407130",
      "actor": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-08-12T14:32:28Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 2550653262,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MjU1MDY1MzI2Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2550653262",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-08-12T15:44:31Z"
    },
    {
      "event": "renamed",
      "id": 2551120376,
      "node_id": "MDE3OlJlbmFtZWRUaXRsZUV2ZW50MjU1MTEyMDM3Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2551120376",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-08-12T18:30:47Z",
      "rename": {
        "from": "util: CBufferedFile fixes and unit test",
        "to": "[WIP] util: CBufferedFile fixes and unit test"
      }
    },
    {
      "event": "renamed",
      "id": 2551560892,
      "node_id": "MDE3OlJlbmFtZWRUaXRsZUV2ZW50MjU1MTU2MDg5Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2551560892",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-08-12T21:26:04Z",
      "rename": {
        "from": "[WIP] util: CBufferedFile fixes and unit test",
        "to": "util: CBufferedFile fixes and unit test"
      }
    },
    {
      "event": "reviewed",
      "id": 274715874,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mjc0NzE1ODc0",
      "url": null,
      "actor": null,
      "commit_id": "3c874f592183743c91e91ee9f4f14002b0c06d3f",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16577#pullrequestreview-274715874",
      "submitted_at": "2019-08-14T07:43:42Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16577"
    },
    {
      "event": "commented",
      "id": 521203575,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUyMTIwMzU3NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/521203575",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-08-14T11:12:18Z",
      "updated_at": "2019-08-14T11:12:18Z",
      "author_association": "MEMBER",
      "body": "> It can trivially be made deterministic by seeding the random number generator at the beginning of the test. Would that be desirable, or not?\r\n\r\nDeterministic tests are preferred in this project. No one really investigates individual random CI failures because there tends to be a lot of spurious failures that have nothing to do with the code, but with unreliability of the Travis platform such as timeouts.",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16577#issuecomment-521203575",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16577"
    },
    {
      "event": "commented",
      "id": 521212158,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUyMTIxMjE1OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/521212158",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-08-14T11:43:33Z",
      "updated_at": "2019-08-14T11:43:33Z",
      "author_association": "MEMBER",
      "body": "I think you have two options:\r\n\r\n* Pick a random seed, print/log it at the beginning of the test in some way\r\n* Pick a constant as the seed",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16577#issuecomment-521212158",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16577"
    },
    {
      "event": "reviewed",
      "id": 275679980,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mjc1Njc5OTgw",
      "url": null,
      "actor": null,
      "commit_id": "b1aee230574a7eb72ca5101458fc9ef4a957d626",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16577#pullrequestreview-275679980",
      "submitted_at": "2019-08-15T21:28:25Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16577"
    },
    {
      "event": "commented",
      "id": 521804558,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUyMTgwNDU1OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/521804558",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-08-15T21:30:03Z",
      "updated_at": "2019-08-15T21:30:03Z",
      "author_association": "CONTRIBUTOR",
      "body": "Hi, I am currently trying to understand `CBufferedFile` and the tests, both confuse me still :smiley:. Seems like substantial parts of `streams_buffered_file` test are added first and removed again in a later commit. Could you squash commits that fix errors in earlier ones?",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16577#issuecomment-521804558",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16577"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 2563439814,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MjU2MzQzOTgxNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2563439814",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-08-16T21:13:32Z"
    },
    {
      "event": "mentioned",
      "id": 2563445844,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MjU2MzQ0NTg0NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2563445844",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-08-16T21:16:36Z"
    },
    {
      "event": "subscribed",
      "id": 2563445845,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDI1NjM0NDU4NDU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2563445845",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-08-16T21:16:36Z"
    },
    {
      "event": "commented",
      "id": 522154700,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUyMjE1NDcwMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/522154700",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-08-16T21:19:05Z",
      "updated_at": "2019-08-16T21:19:05Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Could you squash commits that fix errors in earlier ones?\r\n\r\nYes, I ended up squashing down to a single commit, because there really are no phases or stages to this PR. Thanks for reviewing.",
      "user": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16577#issuecomment-522154700",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16577"
    },
    {
      "event": "reviewed",
      "id": 276613237,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mjc2NjEzMjM3",
      "url": null,
      "actor": null,
      "commit_id": "166358663eff37ea59ce1ec2f74685a46187e926",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16577#pullrequestreview-276613237",
      "submitted_at": "2019-08-19T14:51:01Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16577"
    },
    {
      "event": "reviewed",
      "id": 276638256,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mjc2NjM4MjU2",
      "url": null,
      "actor": null,
      "commit_id": "166358663eff37ea59ce1ec2f74685a46187e926",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16577#pullrequestreview-276638256",
      "submitted_at": "2019-08-19T15:27:46Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16577"
    },
    {
      "event": "commented",
      "id": 522630832,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUyMjYzMDgzMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/522630832",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-08-19T15:33:57Z",
      "updated_at": "2019-08-19T15:33:57Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thanks for squashing - I agree that this fixes a bug, which hasn't lead to errors because of how `CBufferedFile` is initialized in `LoadExternalBlockFile()` (see comment above). Tests look good to me, will look at them in more detail (and also perform a reindex on testnet) in the next days.",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16577#issuecomment-522630832",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16577"
    },
    {
      "event": "mentioned",
      "id": 2567996945,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MjU2Nzk5Njk0NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2567996945",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-08-20T00:01:07Z"
    },
    {
      "event": "subscribed",
      "id": 2567996947,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDI1Njc5OTY5NDc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2567996947",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-08-20T00:01:07Z"
    },
    {
      "event": "commented",
      "id": 524523033,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUyNDUyMzAzMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/524523033",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-08-24T05:49:33Z",
      "updated_at": "2019-08-25T14:44:16Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16577#issuecomment-524523033",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16577"
    },
    {
      "event": "commented",
      "id": 529840837,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUyOTg0MDgzNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/529840837",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-09-10T08:55:28Z",
      "updated_at": "2019-09-10T18:06:51Z",
      "author_association": "MEMBER",
      "body": "Looks good to me, thanks for adding the extensive testing.\r\n\r\nACK ~after squash.~ efd2474d17098c754367b844ec646ebececc7c74",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16577#issuecomment-529840837",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16577"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzplZmQyNDc0ZDE3MDk4Yzc1NDM2N2I4NDRlYzY0NmViZWNlY2M3Yzc0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/efd2474d17098c754367b844ec646ebececc7c74",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/efd2474d17098c754367b844ec646ebececc7c74",
      "tree": {
        "sha": "9329d87a0c8507e8064b4a297a99d7eca07cfc43",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9329d87a0c8507e8064b4a297a99d7eca07cfc43"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1985c4efda56b48f6f9c04f39d69268ee8f0b40a",
          "sha": "1985c4efda56b48f6f9c04f39d69268ee8f0b40a",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/1985c4efda56b48f6f9c04f39d69268ee8f0b40a"
        }
      ],
      "message": "util: CBufferedFile fixes",
      "committer": {
        "name": "Larry Ruane",
        "email": "larryruane@gmail.com",
        "date": "2019-09-10T13:53:09Z"
      },
      "author": {
        "name": "Larry Ruane",
        "email": "larryruane@gmail.com",
        "date": "2019-09-10T13:53:09Z"
      },
      "sha": "efd2474d17098c754367b844ec646ebececc7c74"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 2622346577,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MjYyMjM0NjU3Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2622346577",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-09-10T13:53:35Z"
    },
    {
      "event": "commented",
      "id": 530137395,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUzMDEzNzM5NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/530137395",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-09-10T22:00:51Z",
      "updated_at": "2019-09-10T22:00:51Z",
      "author_association": "CONTRIBUTOR",
      "body": "I had intended to follow up earlier on my last comment, ACK efd2474d17098c754367b844ec646ebececc7c74. I reviewed the code, ran tests and did a successful reindex on testnet with this branch.",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16577#issuecomment-530137395",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16577"
    },
    {
      "event": "referenced",
      "id": 2664939137,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDI2NjQ5MzkxMzc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2664939137",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "ab765c2ec7db042142298cdd6ca9c2f04cca8598",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ab765c2ec7db042142298cdd6ca9c2f04cca8598",
      "created_at": "2019-09-26T11:39:01Z"
    },
    {
      "event": "merged",
      "id": 2664939807,
      "node_id": "MDExOk1lcmdlZEV2ZW50MjY2NDkzOTgwNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2664939807",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "efd2474d17098c754367b844ec646ebececc7c74",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/efd2474d17098c754367b844ec646ebececc7c74",
      "created_at": "2019-09-26T11:39:17Z"
    },
    {
      "event": "closed",
      "id": 2664939815,
      "node_id": "MDExOkNsb3NlZEV2ZW50MjY2NDkzOTgxNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2664939815",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-09-26T11:39:17Z"
    },
    {
      "event": "referenced",
      "id": 2666088670,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDI2NjYwODg2NzA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2666088670",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "b2caa165d89f1539729418faab0301d215915051",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/b2caa165d89f1539729418faab0301d215915051",
      "created_at": "2019-09-26T17:22:31Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-09-29T01:32:26Z",
      "updated_at": "2019-09-29T01:32:26Z",
      "source": {
        "issue": {
          "id": 499835217,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MzIyNDU2MTI0",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16981",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16981/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16981/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16981/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/16981",
          "number": 16981,
          "state": "closed",
          "state_reason": null,
          "title": "Improve runtime performance of --reindex",
          "body": "### Background\r\nDuring the first part of reindexing, `LoadExternalBlockFile()` sequentially reads raw blocks from the `blocks/blk00nnn.dat` files (rather than receiving them from peers, as with initial block download) and eventually adds all of them to the block index. When an individual block is initially read, it can't be immediately added unless all its ancestors have been added, which is rare (only about 8% of the time), because the blocks are not sorted by height. When the block can't be immediately added to the block index, its disk location is saved in a map so it can be added later. When its parent is later added to the block index, `LoadExternalBlockFile()` reads and deserializes the block from disk a second time and adds it to the block index. Most blocks (92%) get deserialized twice.\r\n\r\n### This PR\r\nDuring the initial read, it's rarely useful to deserialize the entire block; only the header is needed to determine if the block can be added to the block index immediately. This change to `LoadExternalBlockFile()` initially deserializes only a block's header, then deserializes the entire block only if it can be added immediately. This reduces reindex time on mainnet by 7 hours on a Raspberry Pi, which translates to around a 25% reduction in the first part of reindexing (adding blocks to the index), and about a 6% reduction in overall reindex time. \r\n\r\nSummary: The performance gain is the result of deserializing each block only once, except its header which is deserialized twice, but the header is only 80 bytes.",
          "user": {
            "login": "LarryRuane",
            "id": 8321330,
            "node_id": "MDQ6VXNlcjgzMjEzMzA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/LarryRuane",
            "html_url": "https://github.com/LarryRuane",
            "followers_url": "https://api.github.com/users/LarryRuane/followers",
            "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
            "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
            "repos_url": "https://api.github.com/users/LarryRuane/repos",
            "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 118379652,
              "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
              "name": "Validation",
              "color": "6060aa",
              "default": false
            },
            {
              "id": 326918230,
              "node_id": "MDU6TGFiZWwzMjY5MTgyMzA=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Resource%20usage",
              "name": "Resource usage",
              "color": "981023",
              "default": false
            },
            {
              "id": 4658146127,
              "node_id": "LA_kwDOABII588AAAABFaWrTw",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20Benchmark",
              "name": "Needs Benchmark",
              "description": "",
              "color": "172389",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 87,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16981",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/16981",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/16981.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/16981.patch"
          },
          "closed_at": "2022-11-16T00:24:55Z",
          "created_at": "2019-09-29T00:17:47Z",
          "updated_at": "2022-11-16T15:33:08Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_deleted",
      "id": 2777308720,
      "node_id": "MDE5OkhlYWRSZWZEZWxldGVkRXZlbnQyNzc3MzA4NzIw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2777308720",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-11-07T00:00:37Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-12-13T22:24:14Z",
      "updated_at": "2019-12-13T22:24:14Z",
      "source": {
        "issue": {
          "id": 537804435,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MzUzMDk2Mjcx",
          "url": "https://api.github.com/repos/zcash/zcash/issues/4265",
          "repository_url": "https://api.github.com/repos/zcash/zcash",
          "labels_url": "https://api.github.com/repos/zcash/zcash/issues/4265/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/zcash/zcash/issues/4265/comments",
          "events_url": "https://api.github.com/repos/zcash/zcash/issues/4265/events",
          "html_url": "https://github.com/zcash/zcash/pull/4265",
          "number": 4265,
          "state": "closed",
          "state_reason": null,
          "title": "util: CBufferedFile fixes",
          "body": "Cherry-pick https://github.com/bitcoin/bitcoin/pull/16577",
          "user": {
            "login": "LarryRuane",
            "id": 8321330,
            "node_id": "MDQ6VXNlcjgzMjEzMzA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/LarryRuane",
            "html_url": "https://github.com/LarryRuane",
            "followers_url": "https://api.github.com/users/LarryRuane/followers",
            "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
            "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
            "repos_url": "https://api.github.com/users/LarryRuane/repos",
            "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 150272745,
              "node_id": "MDU6TGFiZWwxNTAyNzI3NDU=",
              "url": "https://api.github.com/repos/zcash/zcash/labels/C-bug",
              "name": "C-bug",
              "description": "Category: This is a bug",
              "color": "fc4949",
              "default": false
            },
            {
              "id": 1726161743,
              "node_id": "MDU6TGFiZWwxNzI2MTYxNzQz",
              "url": "https://api.github.com/repos/zcash/zcash/labels/S-scratching-an-itch",
              "name": "S-scratching-an-itch",
              "description": "Status: Something we haven't planned for a sprint but are doing anyway",
              "color": "1d76db",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "milestone": {
            "url": "https://api.github.com/repos/zcash/zcash/milestones/105",
            "html_url": "https://github.com/zcash/zcash/milestone/105",
            "labels_url": "https://api.github.com/repos/zcash/zcash/milestones/105/labels",
            "id": 5057995,
            "node_id": "MDk6TWlsZXN0b25lNTA1Nzk5NQ==",
            "number": 105,
            "state": "closed",
            "title": "Core Sprint 2020-07",
            "description": "",
            "creator": {
              "login": "r3ld3v",
              "id": 57410303,
              "node_id": "MDQ6VXNlcjU3NDEwMzAz",
              "avatar_url": "https://avatars.githubusercontent.com/u/57410303?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/r3ld3v",
              "html_url": "https://github.com/r3ld3v",
              "followers_url": "https://api.github.com/users/r3ld3v/followers",
              "following_url": "https://api.github.com/users/r3ld3v/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/r3ld3v/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/r3ld3v/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/r3ld3v/subscriptions",
              "organizations_url": "https://api.github.com/users/r3ld3v/orgs",
              "repos_url": "https://api.github.com/users/r3ld3v/repos",
              "events_url": "https://api.github.com/users/r3ld3v/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/r3ld3v/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 12,
            "created_at": "2020-01-30T18:14:35Z",
            "updated_at": "2020-03-03T17:48:43Z",
            "closed_at": "2020-03-03T17:48:43Z",
            "due_on": "2020-02-27T08:00:00Z"
          },
          "locked": false,
          "comments": 8,
          "pull_request": {
            "url": "https://api.github.com/repos/zcash/zcash/pulls/4265",
            "html_url": "https://github.com/zcash/zcash/pull/4265",
            "diff_url": "https://github.com/zcash/zcash/pull/4265.diff",
            "patch_url": "https://github.com/zcash/zcash/pull/4265.patch"
          },
          "closed_at": "2020-03-03T02:45:49Z",
          "created_at": "2019-12-13T22:24:14Z",
          "updated_at": "2020-03-10T04:29:31Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 3078980621,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDMwNzg5ODA2MjE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3078980621",
      "actor": {
        "login": "zkbot",
        "id": 17032253,
        "node_id": "MDQ6VXNlcjE3MDMyMjUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/17032253?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/zkbot",
        "html_url": "https://github.com/zkbot",
        "followers_url": "https://api.github.com/users/zkbot/followers",
        "following_url": "https://api.github.com/users/zkbot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/zkbot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/zkbot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/zkbot/subscriptions",
        "organizations_url": "https://api.github.com/users/zkbot/orgs",
        "repos_url": "https://api.github.com/users/zkbot/repos",
        "events_url": "https://api.github.com/users/zkbot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/zkbot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "28e0a729959b7670d22cee6ae124757dddf63ddb",
      "commit_url": "https://api.github.com/repos/zcash/zcash/commits/28e0a729959b7670d22cee6ae124757dddf63ddb",
      "created_at": "2020-02-27T18:29:34Z"
    },
    {
      "event": "referenced",
      "id": 3090283625,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDMwOTAyODM2MjU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3090283625",
      "actor": {
        "login": "zkbot",
        "id": 17032253,
        "node_id": "MDQ6VXNlcjE3MDMyMjUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/17032253?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/zkbot",
        "html_url": "https://github.com/zkbot",
        "followers_url": "https://api.github.com/users/zkbot/followers",
        "following_url": "https://api.github.com/users/zkbot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/zkbot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/zkbot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/zkbot/subscriptions",
        "organizations_url": "https://api.github.com/users/zkbot/orgs",
        "repos_url": "https://api.github.com/users/zkbot/repos",
        "events_url": "https://api.github.com/users/zkbot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/zkbot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "26a24da74503ae60cc9aa2d6e6ae0923ecd375fb",
      "commit_url": "https://api.github.com/repos/zcash/zcash/commits/26a24da74503ae60cc9aa2d6e6ae0923ecd375fb",
      "created_at": "2020-03-03T01:13:42Z"
    },
    {
      "event": "referenced",
      "id": 3131169968,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDMxMzExNjk5Njg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3131169968",
      "actor": {
        "login": "DeckerSU",
        "id": 22120003,
        "node_id": "MDQ6VXNlcjIyMTIwMDAz",
        "avatar_url": "https://avatars.githubusercontent.com/u/22120003?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DeckerSU",
        "html_url": "https://github.com/DeckerSU",
        "followers_url": "https://api.github.com/users/DeckerSU/followers",
        "following_url": "https://api.github.com/users/DeckerSU/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DeckerSU/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DeckerSU/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DeckerSU/subscriptions",
        "organizations_url": "https://api.github.com/users/DeckerSU/orgs",
        "repos_url": "https://api.github.com/users/DeckerSU/repos",
        "events_url": "https://api.github.com/users/DeckerSU/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DeckerSU/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "9700247d313e6af3286851ddfbf34f8d6abc996f",
      "commit_url": "https://api.github.com/repos/DeckerSU/KomodoOcean/commits/9700247d313e6af3286851ddfbf34f8d6abc996f",
      "created_at": "2020-03-16T00:39:36Z"
    },
    {
      "event": "referenced",
      "id": 3136093672,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDMxMzYwOTM2NzI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3136093672",
      "actor": {
        "login": "DeckerSU",
        "id": 22120003,
        "node_id": "MDQ6VXNlcjIyMTIwMDAz",
        "avatar_url": "https://avatars.githubusercontent.com/u/22120003?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DeckerSU",
        "html_url": "https://github.com/DeckerSU",
        "followers_url": "https://api.github.com/users/DeckerSU/followers",
        "following_url": "https://api.github.com/users/DeckerSU/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DeckerSU/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DeckerSU/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DeckerSU/subscriptions",
        "organizations_url": "https://api.github.com/users/DeckerSU/orgs",
        "repos_url": "https://api.github.com/users/DeckerSU/repos",
        "events_url": "https://api.github.com/users/DeckerSU/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DeckerSU/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "354abc52b61756759496246ab02052b1b2c192f1",
      "commit_url": "https://api.github.com/repos/DeckerSU/komodo/commits/354abc52b61756759496246ab02052b1b2c192f1",
      "created_at": "2020-03-17T07:13:05Z"
    },
    {
      "event": "referenced",
      "id": 3913319560,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDM5MTMzMTk1NjA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3913319560",
      "actor": {
        "login": "jasonbcox",
        "id": 602513,
        "node_id": "MDQ6VXNlcjYwMjUxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/602513?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jasonbcox",
        "html_url": "https://github.com/jasonbcox",
        "followers_url": "https://api.github.com/users/jasonbcox/followers",
        "following_url": "https://api.github.com/users/jasonbcox/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jasonbcox/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jasonbcox/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jasonbcox/subscriptions",
        "organizations_url": "https://api.github.com/users/jasonbcox/orgs",
        "repos_url": "https://api.github.com/users/jasonbcox/repos",
        "events_url": "https://api.github.com/users/jasonbcox/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jasonbcox/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "06a61dcb12a46be99c82afd9a5e59c52f9cac7b2",
      "commit_url": "https://api.github.com/repos/Bitcoin-ABC/bitcoin-abc/commits/06a61dcb12a46be99c82afd9a5e59c52f9cac7b2",
      "created_at": "2020-10-23T10:43:49Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-07T14:57:00Z",
      "updated_at": "2021-06-07T14:57:00Z",
      "source": {
        "issue": {
          "id": 913645538,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NjYzNjQ2MDcz",
          "url": "https://api.github.com/repos/PIVX-Project/PIVX/issues/2411",
          "repository_url": "https://api.github.com/repos/PIVX-Project/PIVX",
          "labels_url": "https://api.github.com/repos/PIVX-Project/PIVX/issues/2411/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/PIVX-Project/PIVX/issues/2411/comments",
          "events_url": "https://api.github.com/repos/PIVX-Project/PIVX/issues/2411/events",
          "html_url": "https://github.com/PIVX-Project/PIVX/pull/2411",
          "number": 2411,
          "state": "closed",
          "state_reason": null,
          "title": "Road to Tor v3 support (BIP155)",
          "body": "Conjunction of a large number of back ports, updates and refactorings that made with the final goal of implementing v3 Onion addresses support (BIP155 https://github.com/bitcoin/bips/blob/master/bip-0155.mediawiki) before the tor v2 addresses EOL, scheduled, by the Tor project, for (1) July 15th: v2 addr support removal from the code base, and (2) October 15th: v2 addr network disable, where **every peer in our network running under Tor will loose the connection and drop the network**.\r\n\r\nAs BIP155 describes, this is introducing a new P2P message to gossip longer node addresses over the P2P network. This is required to support new-generation Onion addresses, I2P, and potentially other networks that have longer endpoint addresses than fit in the 128 bits of the current addr message.\r\n\r\nIn order to achieve the end goal, had to:\r\n1.  Create Span class and push it up to latest Bitcoin implementation. \r\n2.  Update the whole serialization framework and every object using it up to latest Bitcoin implementation (3-4 years ahead of what we currently are in master).\r\n3.  Update the address manager implementing ASN-based bucketing of the network nodes.\r\n4.  Update and refactor the netAddress and address manager tests to latest Bitcoin implementation (4 years ahead of what we currently are in master).\r\n5.  Several util string, vector, encodings, parsing, hashing backports and more..\r\n\r\nImportant note: \r\nThis PR it is not meant to be merged as a standalone PR, will decouple smaller ones moving on. Adding on each sub-PR its own description isolated from this big monster.\r\n\r\nSecond note:\r\nThis is still a **work-in-progress**, not ready for testing yet. I'm probably missing to mention few PRs that have already adapted to our sources. Just making it public so can decouple the changes, we can start merging them and i can continue working a bit more confortable (rebase a +170 commits separate branch is not fun..).\r\n\r\n### List of back ported and adapted PRs:\r\n\r\nSpan and Serialization:\r\n----------------\r\n*  #12886.\r\n*  #12916.\r\n*  #13558.\r\n*  #13697. (Only Span's commit 29943a90)\r\n*  #17850.\r\n*  #17896.\r\n*  #12752.\r\n*  #16577.\r\n*  #16670. (without faebf627)\r\n*  #17957.\r\n*  #18021.\r\n*  #18087.\r\n*  #18112 (only from 353f3762 that we don't support).\r\n*  #18167.\r\n*  #18317.\r\n*  #18591 (only Span's commit 0fbde488)\r\n*  #18468.\r\n*  #19020.\r\n*  #19032.\r\n*  #19367.\r\n*  #19387.\r\n\r\nNet, NetAddress and AddrMan:\r\n----------------\r\n\r\n*  #7932.\r\n*  #10756.\r\n*  #10765.\r\n*  #12218.\r\n*  #12855.\r\n*  #13532.\r\n*  #13575.\r\n*  #13815.\r\n*  #14532.\r\n*  #15051.\r\n*  #15138.\r\n*  #15689.\r\n*  #16702.\r\n*  #17243.\r\n*  #17345.\r\n*  #17754.\r\n*  #17758.\r\n*  #17812.\r\n*  #18023.\r\n*  #18454.\r\n*  #18512.\r\n*  #19314.\r\n*  #19687\r\n\r\nKeys and Addresses encoding:\r\n----------------\r\n* #11372.\r\n* #17511.\r\n* #17721.\r\n\r\nUtil:\r\n----------------\r\n* #9140.\r\n* #16577.\r\n* #16889.\r\n* #19593.\r\n\r\nBench:\r\n----------------\r\n* #16299.\r\n\r\nBIP155:\r\n----------------\r\n*  #19351.\r\n*  #19360.\r\n*  #19534.\r\n*  #19628.\r\n*  #19841.\r\n*  #19845.\r\n*  #19954.\r\n*  #19991 (pending).\r\n*  #19845.\r\n*  #20000 (pending).\r\n*  #20120.\r\n*  #20284.\r\n*  #20564.\r\n*  #21157 (pending).\r\n*  #21564 (pending).\r\n*  Fully removed v2 onion addr support.\r\n*  Add hardcoded seeds.\r\n*  Add release-notes, changes to files.md and every needed documentation.\r\n\r\nI'm currently working on the PRs marked as \"pending\", this isn't over, but I'm pretty pretty close :). What a long road..",
          "user": {
            "login": "furszy",
            "id": 5377650,
            "node_id": "MDQ6VXNlcjUzNzc2NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/furszy",
            "html_url": "https://github.com/furszy",
            "followers_url": "https://api.github.com/users/furszy/followers",
            "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
            "organizations_url": "https://api.github.com/users/furszy/orgs",
            "repos_url": "https://api.github.com/users/furszy/repos",
            "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/furszy/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 566256651,
              "node_id": "MDU6TGFiZWw1NjYyNTY2NTE=",
              "url": "https://api.github.com/repos/PIVX-Project/PIVX/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            },
            {
              "id": 566257187,
              "node_id": "MDU6TGFiZWw1NjYyNTcxODc=",
              "url": "https://api.github.com/repos/PIVX-Project/PIVX/labels/Upstream",
              "name": "Upstream",
              "color": "bfd4f2",
              "default": false
            },
            {
              "id": 577484685,
              "node_id": "MDU6TGFiZWw1Nzc0ODQ2ODU=",
              "url": "https://api.github.com/repos/PIVX-Project/PIVX/labels/Docs%20and%20Output",
              "name": "Docs and Output",
              "color": "02d7e1",
              "default": false
            },
            {
              "id": 608273048,
              "node_id": "MDU6TGFiZWw2MDgyNzMwNDg=",
              "url": "https://api.github.com/repos/PIVX-Project/PIVX/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            },
            {
              "id": 816679263,
              "node_id": "MDU6TGFiZWw4MTY2NzkyNjM=",
              "url": "https://api.github.com/repos/PIVX-Project/PIVX/labels/Network",
              "name": "Network",
              "color": "f9d0c4",
              "default": false
            },
            {
              "id": 826053417,
              "node_id": "MDU6TGFiZWw4MjYwNTM0MTc=",
              "url": "https://api.github.com/repos/PIVX-Project/PIVX/labels/Protocol-Update",
              "name": "Protocol-Update",
              "color": "ff0000",
              "default": false
            }
          ],
          "assignee": {
            "login": "furszy",
            "id": 5377650,
            "node_id": "MDQ6VXNlcjUzNzc2NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/furszy",
            "html_url": "https://github.com/furszy",
            "followers_url": "https://api.github.com/users/furszy/followers",
            "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
            "organizations_url": "https://api.github.com/users/furszy/orgs",
            "repos_url": "https://api.github.com/users/furszy/repos",
            "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/furszy/received_events",
            "type": "User",
            "site_admin": false
          },
          "assignees": [
            {
              "login": "furszy",
              "id": 5377650,
              "node_id": "MDQ6VXNlcjUzNzc2NTA=",
              "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/furszy",
              "html_url": "https://github.com/furszy",
              "followers_url": "https://api.github.com/users/furszy/followers",
              "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
              "organizations_url": "https://api.github.com/users/furszy/orgs",
              "repos_url": "https://api.github.com/users/furszy/repos",
              "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/furszy/received_events",
              "type": "User",
              "site_admin": false
            }
          ],
          "author_association": "NONE",
          "milestone": {
            "url": "https://api.github.com/repos/PIVX-Project/PIVX/milestones/32",
            "html_url": "https://github.com/PIVX-Project/PIVX/milestone/32",
            "labels_url": "https://api.github.com/repos/PIVX-Project/PIVX/milestones/32/labels",
            "id": 6590958,
            "node_id": "MDk6TWlsZXN0b25lNjU5MDk1OA==",
            "number": 32,
            "state": "closed",
            "title": "5.3.0",
            "description": "",
            "creator": {
              "login": "random-zebra",
              "id": 18186894,
              "node_id": "MDQ6VXNlcjE4MTg2ODk0",
              "avatar_url": "https://avatars.githubusercontent.com/u/18186894?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/random-zebra",
              "html_url": "https://github.com/random-zebra",
              "followers_url": "https://api.github.com/users/random-zebra/followers",
              "following_url": "https://api.github.com/users/random-zebra/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/random-zebra/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/random-zebra/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/random-zebra/subscriptions",
              "organizations_url": "https://api.github.com/users/random-zebra/orgs",
              "repos_url": "https://api.github.com/users/random-zebra/repos",
              "events_url": "https://api.github.com/users/random-zebra/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/random-zebra/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 187,
            "created_at": "2021-03-25T15:12:45Z",
            "updated_at": "2021-08-30T19:28:54Z",
            "closed_at": "2021-08-30T19:28:54Z",
            "due_on": "2021-08-15T07:00:00Z"
          },
          "locked": false,
          "comments": 19,
          "pull_request": {
            "url": "https://api.github.com/repos/PIVX-Project/PIVX/pulls/2411",
            "html_url": "https://github.com/PIVX-Project/PIVX/pull/2411",
            "diff_url": "https://github.com/PIVX-Project/PIVX/pull/2411.diff",
            "patch_url": "https://github.com/PIVX-Project/PIVX/pull/2411.patch"
          },
          "closed_at": "2021-08-11T10:09:46Z",
          "created_at": "2021-06-07T14:56:59Z",
          "updated_at": "2022-11-29T15:44:51Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 4944315900,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ5NDQzMTU5MDA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4944315900",
      "actor": {
        "login": "PastaPastaPasta",
        "id": 6443210,
        "node_id": "MDQ6VXNlcjY0NDMyMTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6443210?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/PastaPastaPasta",
        "html_url": "https://github.com/PastaPastaPasta",
        "followers_url": "https://api.github.com/users/PastaPastaPasta/followers",
        "following_url": "https://api.github.com/users/PastaPastaPasta/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/PastaPastaPasta/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/PastaPastaPasta/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/PastaPastaPasta/subscriptions",
        "organizations_url": "https://api.github.com/users/PastaPastaPasta/orgs",
        "repos_url": "https://api.github.com/users/PastaPastaPasta/repos",
        "events_url": "https://api.github.com/users/PastaPastaPasta/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/PastaPastaPasta/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "a458081dee687a66c07b88718e5f8713532fc9e9",
      "commit_url": "https://api.github.com/repos/PastaPastaPasta/dash/commits/a458081dee687a66c07b88718e5f8713532fc9e9",
      "created_at": "2021-06-27T21:02:44Z"
    },
    {
      "event": "referenced",
      "id": 4944491364,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ5NDQ0OTEzNjQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4944491364",
      "actor": {
        "login": "PastaPastaPasta",
        "id": 6443210,
        "node_id": "MDQ6VXNlcjY0NDMyMTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6443210?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/PastaPastaPasta",
        "html_url": "https://github.com/PastaPastaPasta",
        "followers_url": "https://api.github.com/users/PastaPastaPasta/followers",
        "following_url": "https://api.github.com/users/PastaPastaPasta/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/PastaPastaPasta/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/PastaPastaPasta/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/PastaPastaPasta/subscriptions",
        "organizations_url": "https://api.github.com/users/PastaPastaPasta/orgs",
        "repos_url": "https://api.github.com/users/PastaPastaPasta/repos",
        "events_url": "https://api.github.com/users/PastaPastaPasta/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/PastaPastaPasta/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "b49a1fd25e4c713cfc377210cdf79a991763339b",
      "commit_url": "https://api.github.com/repos/PastaPastaPasta/dash/commits/b49a1fd25e4c713cfc377210cdf79a991763339b",
      "created_at": "2021-06-28T00:24:40Z"
    },
    {
      "event": "referenced",
      "id": 4950405091,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ5NTA0MDUwOTE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4950405091",
      "actor": {
        "login": "PastaPastaPasta",
        "id": 6443210,
        "node_id": "MDQ6VXNlcjY0NDMyMTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6443210?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/PastaPastaPasta",
        "html_url": "https://github.com/PastaPastaPasta",
        "followers_url": "https://api.github.com/users/PastaPastaPasta/followers",
        "following_url": "https://api.github.com/users/PastaPastaPasta/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/PastaPastaPasta/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/PastaPastaPasta/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/PastaPastaPasta/subscriptions",
        "organizations_url": "https://api.github.com/users/PastaPastaPasta/orgs",
        "repos_url": "https://api.github.com/users/PastaPastaPasta/repos",
        "events_url": "https://api.github.com/users/PastaPastaPasta/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/PastaPastaPasta/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "e668aeb77bd61619470223a41d149be9edb6b625",
      "commit_url": "https://api.github.com/repos/PastaPastaPasta/dash/commits/e668aeb77bd61619470223a41d149be9edb6b625",
      "created_at": "2021-06-29T00:06:15Z"
    },
    {
      "event": "referenced",
      "id": 4968414026,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ5Njg0MTQwMjY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4968414026",
      "actor": {
        "login": "PastaPastaPasta",
        "id": 6443210,
        "node_id": "MDQ6VXNlcjY0NDMyMTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6443210?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/PastaPastaPasta",
        "html_url": "https://github.com/PastaPastaPasta",
        "followers_url": "https://api.github.com/users/PastaPastaPasta/followers",
        "following_url": "https://api.github.com/users/PastaPastaPasta/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/PastaPastaPasta/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/PastaPastaPasta/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/PastaPastaPasta/subscriptions",
        "organizations_url": "https://api.github.com/users/PastaPastaPasta/orgs",
        "repos_url": "https://api.github.com/users/PastaPastaPasta/repos",
        "events_url": "https://api.github.com/users/PastaPastaPasta/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/PastaPastaPasta/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "a67243df43315a008fbebf00273a7ce8ef8e523c",
      "commit_url": "https://api.github.com/repos/PastaPastaPasta/dash/commits/a67243df43315a008fbebf00273a7ce8ef8e523c",
      "created_at": "2021-07-01T22:04:22Z"
    },
    {
      "event": "referenced",
      "id": 4968436438,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ5Njg0MzY0Mzg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4968436438",
      "actor": {
        "login": "PastaPastaPasta",
        "id": 6443210,
        "node_id": "MDQ6VXNlcjY0NDMyMTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6443210?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/PastaPastaPasta",
        "html_url": "https://github.com/PastaPastaPasta",
        "followers_url": "https://api.github.com/users/PastaPastaPasta/followers",
        "following_url": "https://api.github.com/users/PastaPastaPasta/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/PastaPastaPasta/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/PastaPastaPasta/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/PastaPastaPasta/subscriptions",
        "organizations_url": "https://api.github.com/users/PastaPastaPasta/orgs",
        "repos_url": "https://api.github.com/users/PastaPastaPasta/repos",
        "events_url": "https://api.github.com/users/PastaPastaPasta/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/PastaPastaPasta/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "d20b716b00beffcf285ff61eb17cbbacc3307a73",
      "commit_url": "https://api.github.com/repos/PastaPastaPasta/dash/commits/d20b716b00beffcf285ff61eb17cbbacc3307a73",
      "created_at": "2021-07-01T22:11:14Z"
    },
    {
      "event": "referenced",
      "id": 5010361281,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDUwMTAzNjEyODE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5010361281",
      "actor": {
        "login": "PastaPastaPasta",
        "id": 6443210,
        "node_id": "MDQ6VXNlcjY0NDMyMTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6443210?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/PastaPastaPasta",
        "html_url": "https://github.com/PastaPastaPasta",
        "followers_url": "https://api.github.com/users/PastaPastaPasta/followers",
        "following_url": "https://api.github.com/users/PastaPastaPasta/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/PastaPastaPasta/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/PastaPastaPasta/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/PastaPastaPasta/subscriptions",
        "organizations_url": "https://api.github.com/users/PastaPastaPasta/orgs",
        "repos_url": "https://api.github.com/users/PastaPastaPasta/repos",
        "events_url": "https://api.github.com/users/PastaPastaPasta/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/PastaPastaPasta/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "e18d4f936555038886571cc350873c247e6fd462",
      "commit_url": "https://api.github.com/repos/PastaPastaPasta/dash/commits/e18d4f936555038886571cc350873c247e6fd462",
      "created_at": "2021-07-12T23:43:10Z"
    },
    {
      "event": "referenced",
      "id": 5010684174,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDUwMTA2ODQxNzQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5010684174",
      "actor": {
        "login": "PastaPastaPasta",
        "id": 6443210,
        "node_id": "MDQ6VXNlcjY0NDMyMTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6443210?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/PastaPastaPasta",
        "html_url": "https://github.com/PastaPastaPasta",
        "followers_url": "https://api.github.com/users/PastaPastaPasta/followers",
        "following_url": "https://api.github.com/users/PastaPastaPasta/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/PastaPastaPasta/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/PastaPastaPasta/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/PastaPastaPasta/subscriptions",
        "organizations_url": "https://api.github.com/users/PastaPastaPasta/orgs",
        "repos_url": "https://api.github.com/users/PastaPastaPasta/repos",
        "events_url": "https://api.github.com/users/PastaPastaPasta/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/PastaPastaPasta/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "a5ab3fe1e626ee07c019988a920d824106f6a2e0",
      "commit_url": "https://api.github.com/repos/PastaPastaPasta/dash/commits/a5ab3fe1e626ee07c019988a920d824106f6a2e0",
      "created_at": "2021-07-13T01:55:08Z"
    },
    {
      "event": "referenced",
      "id": 5015551405,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDUwMTU1NTE0MDU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5015551405",
      "actor": {
        "login": "PastaPastaPasta",
        "id": 6443210,
        "node_id": "MDQ6VXNlcjY0NDMyMTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6443210?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/PastaPastaPasta",
        "html_url": "https://github.com/PastaPastaPasta",
        "followers_url": "https://api.github.com/users/PastaPastaPasta/followers",
        "following_url": "https://api.github.com/users/PastaPastaPasta/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/PastaPastaPasta/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/PastaPastaPasta/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/PastaPastaPasta/subscriptions",
        "organizations_url": "https://api.github.com/users/PastaPastaPasta/orgs",
        "repos_url": "https://api.github.com/users/PastaPastaPasta/repos",
        "events_url": "https://api.github.com/users/PastaPastaPasta/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/PastaPastaPasta/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "a597c1bb8e296109427e2bc6d94d7d2191caac57",
      "commit_url": "https://api.github.com/repos/PastaPastaPasta/dash/commits/a597c1bb8e296109427e2bc6d94d7d2191caac57",
      "created_at": "2021-07-13T18:15:12Z"
    },
    {
      "event": "referenced",
      "id": 5141021294,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDUxNDEwMjEyOTQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5141021294",
      "actor": {
        "login": "random-zebra",
        "id": 18186894,
        "node_id": "MDQ6VXNlcjE4MTg2ODk0",
        "avatar_url": "https://avatars.githubusercontent.com/u/18186894?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/random-zebra",
        "html_url": "https://github.com/random-zebra",
        "followers_url": "https://api.github.com/users/random-zebra/followers",
        "following_url": "https://api.github.com/users/random-zebra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/random-zebra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/random-zebra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/random-zebra/subscriptions",
        "organizations_url": "https://api.github.com/users/random-zebra/orgs",
        "repos_url": "https://api.github.com/users/random-zebra/repos",
        "events_url": "https://api.github.com/users/random-zebra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/random-zebra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "b4751e10ce976864c5d06e56c6e6f5a8f315e167",
      "commit_url": "https://api.github.com/repos/PIVX-Project/PIVX/commits/b4751e10ce976864c5d06e56c6e6f5a8f315e167",
      "created_at": "2021-08-11T10:09:46Z"
    },
    {
      "event": "locked",
      "id": 5778626488,
      "node_id": "LOE_lADOABII584cjtmCzwAAAAFYbte4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5778626488",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-16T14:12:24Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/312697097",
      "pull_request_review_id": 273418979,
      "id": 312697097,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMjY5NzA5Nw==",
      "diff_hunk": "@@ -734,17 +734,21 @@ class CBufferedFile\n             return false;\n         size_t nBytes = fread((void*)&vchBuf[pos], 1, readNow, src);\n         if (nBytes == 0) {\n-            throw std::ios_base::failure(feof(src) ? \"CBufferedFile::Fill: end of file\" : \"CBufferedFile::Fill: fread failed\");\n-        } else {\n-            nSrcPos += nBytes;\n-            return true;\n+            throw std::ios_base::failure(feof(src) ?",
      "path": "src/streams.h",
      "position": null,
      "original_position": 8,
      "commit_id": "efd2474d17098c754367b844ec646ebececc7c74",
      "original_commit_id": "b1aee230574a7eb72ca5101458fc9ef4a957d626",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "NACK this hunk, it only changes formatting.",
      "created_at": "2019-08-10T09:26:34Z",
      "updated_at": "2019-09-10T13:53:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16577#discussion_r312697097",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/312697097"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16577"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 737,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/312697122",
      "pull_request_review_id": 273418979,
      "id": 312697122,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMjY5NzEyMg==",
      "diff_hunk": "@@ -734,17 +734,21 @@ class CBufferedFile\n             return false;\n         size_t nBytes = fread((void*)&vchBuf[pos], 1, readNow, src);\n         if (nBytes == 0) {\n-            throw std::ios_base::failure(feof(src) ? \"CBufferedFile::Fill: end of file\" : \"CBufferedFile::Fill: fread failed\");\n-        } else {\n-            nSrcPos += nBytes;\n-            return true;\n+            throw std::ios_base::failure(feof(src) ?\n+                \"CBufferedFile::Fill: end of file\" :\n+                \"CBufferedFile::Fill: fread failed\");\n         }\n+        nSrcPos += nBytes;\n+        return true;\n     }\n \n public:\n     CBufferedFile(FILE *fileIn, uint64_t nBufSize, uint64_t nRewindIn, int nTypeIn, int nVersionIn) :\n-        nType(nTypeIn), nVersion(nVersionIn), nSrcPos(0), nReadPos(0), nReadLimit(std::numeric_limits<uint64_t>::max()), nRewind(nRewindIn), vchBuf(nBufSize, 0)\n+        nType(nTypeIn), nVersion(nVersionIn), nSrcPos(0), nReadPos(0),\n+        nReadLimit(std::numeric_limits<uint64_t>::max()), nRewind(nRewindIn), vchBuf(nBufSize, 0)",
      "path": "src/streams.h",
      "position": null,
      "original_position": 20,
      "commit_id": "efd2474d17098c754367b844ec646ebececc7c74",
      "original_commit_id": "b1aee230574a7eb72ca5101458fc9ef4a957d626",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "NACK this hunk, only splits the line in 2 lines.",
      "created_at": "2019-08-10T09:27:36Z",
      "updated_at": "2019-09-10T13:53:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16577#discussion_r312697122",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/312697122"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16577"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 748,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/312697302",
      "pull_request_review_id": 273418979,
      "id": 312697302,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMjY5NzMwMg==",
      "diff_hunk": "@@ -802,16 +804,19 @@ class CBufferedFile\n \n     //! rewind to a given reading position\n     bool SetPos(uint64_t nPos) {\n-        nReadPos = nPos;\n-        if (nReadPos + nRewind < nSrcPos) {\n-            nReadPos = nSrcPos - nRewind;\n+        size_t bufsize = vchBuf.size();\n+        if (nSrcPos > bufsize && nPos < nSrcPos - bufsize) {\n+            // rewinding too far, rewind as far as possible\n+            nReadPos = nSrcPos - bufsize;\n             return false;\n-        } else if (nReadPos > nSrcPos) {\n+        }",
      "path": "src/streams.h",
      "position": 43,
      "original_position": 49,
      "commit_id": "efd2474d17098c754367b844ec646ebececc7c74",
      "original_commit_id": "b1aee230574a7eb72ca5101458fc9ef4a957d626",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'd keep `else`s.",
      "created_at": "2019-08-10T09:35:07Z",
      "updated_at": "2019-09-10T13:53:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16577#discussion_r312697302",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/312697302"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16577"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 809,
      "original_line": 809,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/312697551",
      "pull_request_review_id": 273418979,
      "id": 312697551,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMjY5NzU1MQ==",
      "diff_hunk": "@@ -802,16 +804,19 @@ class CBufferedFile\n \n     //! rewind to a given reading position\n     bool SetPos(uint64_t nPos) {\n-        nReadPos = nPos;\n-        if (nReadPos + nRewind < nSrcPos) {\n-            nReadPos = nSrcPos - nRewind;\n+        size_t bufsize = vchBuf.size();\n+        if (nSrcPos > bufsize && nPos < nSrcPos - bufsize) {",
      "path": "src/streams.h",
      "position": null,
      "original_position": 44,
      "commit_id": "efd2474d17098c754367b844ec646ebececc7c74",
      "original_commit_id": "b1aee230574a7eb72ca5101458fc9ef4a957d626",
      "in_reply_to_id": null,
      "user": {
        "login": "promag",
        "id": 3534524,
        "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/promag",
        "html_url": "https://github.com/promag",
        "followers_url": "https://api.github.com/users/promag/followers",
        "following_url": "https://api.github.com/users/promag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/promag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/promag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
        "organizations_url": "https://api.github.com/users/promag/orgs",
        "repos_url": "https://api.github.com/users/promag/repos",
        "events_url": "https://api.github.com/users/promag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/promag/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think this is wrong, `vchBuf.size()` if constant and the actual read position is obtained from `nReadPos % vchBuf.size()` - it's a ring buffer.",
      "created_at": "2019-08-10T09:44:54Z",
      "updated_at": "2019-09-10T13:53:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16577#discussion_r312697551",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/312697551"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16577"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 808,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/312790825",
      "pull_request_review_id": 273523795,
      "id": 312790825,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMjc5MDgyNQ==",
      "diff_hunk": "@@ -802,16 +804,19 @@ class CBufferedFile\n \n     //! rewind to a given reading position\n     bool SetPos(uint64_t nPos) {\n-        nReadPos = nPos;\n-        if (nReadPos + nRewind < nSrcPos) {\n-            nReadPos = nSrcPos - nRewind;\n+        size_t bufsize = vchBuf.size();\n+        if (nSrcPos > bufsize && nPos < nSrcPos - bufsize) {",
      "path": "src/streams.h",
      "position": null,
      "original_position": 44,
      "commit_id": "efd2474d17098c754367b844ec646ebececc7c74",
      "original_commit_id": "b1aee230574a7eb72ca5101458fc9ef4a957d626",
      "in_reply_to_id": 312697551,
      "user": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I checked this carefully, and I'm pretty sure it's right, please check again. I did simplify it slightly (without changing the behavior) in the second commit; it's now like this:\r\n```\r\nif (nPos + bufsize < nSrcPos) {\r\n```\r\nThis says that the distance from the new (requested) read position, `nPos`, to the source pointer, `nSrcPos` must be no greater than `bufsize`. If `nPos` is further back than that, it will be pointing to bytes from a _later_ write pass across the buffer and will get data that's too new. Maybe a small example will help. Suppose the file consists of `a b c d e f g ...` and the buffer is 5 bytes. After reading `g` (total of 7 bytes) from the file into the ring buffer, the buffer looks like this:\r\n```\r\n[ f g c d e ]\r\n      ^\r\n      nSrcPos = 7\r\n```\r\nThe `nReadPos` (file read position) can be in the range 2 through 7 and we will get correct data. If `nReadPos` is _less_ than 2, let's say it's 1, then reading at that position should return `b` but will instead will return `g`, which is incorrect (`g` is too new). The smallest `nReadPos` can be is 2, which is 7 - 5 (`nSrcPos` - `bufsize`).\r\n\r\nThe existing `SetPos()` is wrong; it should not depend on `nRewind`. That variable is only needed during filling, and prevents `nSrcPos` from getting too far ahead of `nReadPos`, because if that happens, then `nReadPos` can't back up. So, in this little example,  if `nRewind` is 2, then `Fill()` will not let `nSrcPos` to get more than 5 (buffer size - rewind size) ahead of `nReadPos`. But, again, `nRewind` has no relevance to `SetPos()`.",
      "created_at": "2019-08-12T06:32:32Z",
      "updated_at": "2019-09-10T13:53:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16577#discussion_r312790825",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/312790825"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16577"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 808,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/313742947",
      "pull_request_review_id": 274715874,
      "id": 313742947,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMzc0Mjk0Nw==",
      "diff_hunk": "@@ -202,4 +203,224 @@ BOOST_AUTO_TEST_CASE(streams_serializedata_xor)\n             std::string(ds.begin(), ds.end()));\n }\n \n+BOOST_AUTO_TEST_CASE(streams_buffered_file)\n+{\n+    FILE *file = fsbridge::fopen(\"streams_test_tmp\", \"w+b\");\n+    // The value at each offset is the offset.\n+    for (uint8_t i = 0; i < 40; ++i) {\n+        fwrite(&i, 1, 1, file);\n+    }\n+    rewind(file);\n+\n+    // The buffer is 25 bytes, allow rewinding 10 bytes.\n+    CBufferedFile bf(file, 25, 10, 222, 333);\n+    BOOST_CHECK(!bf.eof());\n+\n+    // These two members have no functional effect.\n+    BOOST_CHECK_EQUAL(bf.GetType(), 222);\n+    BOOST_CHECK_EQUAL(bf.GetVersion(), 333);\n+\n+    uint8_t i;\n+    bf >> i;\n+    BOOST_CHECK_EQUAL(i, 0);\n+    bf >> i;\n+    BOOST_CHECK_EQUAL(i, 1);\n+\n+    // After reading bytes 0 and 1, we're positioned at 2.\n+    BOOST_CHECK_EQUAL(bf.GetPos(), 2);\n+\n+    // Rewind to offset 0, ok (within the 10 byte window).\n+    BOOST_CHECK(bf.SetPos(0));\n+    bf >> i;\n+    BOOST_CHECK_EQUAL(i, 0);\n+\n+    // We can go forward to where we've been, but beyond may fail.\n+    BOOST_CHECK(bf.SetPos(2));\n+    bf >> i;\n+    BOOST_CHECK_EQUAL(i, 2);\n+\n+    // If you know the maximum number of bytes that should be\n+    // read to deserialize the variable, you can limit the read\n+    // extent. The current file offset is 3, so the following\n+    // SetLimit() allows zero bytes to be read.\n+    BOOST_CHECK(bf.SetLimit(3));\n+    try {\n+        bf >> i;\n+        BOOST_CHECK(false);\n+    } catch (const std::exception& e) {\n+        BOOST_CHECK(strstr(e.what(),\n+            \"Read attempted past buffer limit\") != nullptr);\n+    }\n+    // The default argument removes the limit completely.\n+    BOOST_CHECK(bf.SetLimit());\n+    // The read position should still be at 3 (no change).\n+    BOOST_CHECK_EQUAL(bf.GetPos(), 3);\n+\n+    // Read from current offset, 3, forward until position 10.\n+    for (i = 3; i < 10; ++i) {\n+        bf >> i;\n+        BOOST_CHECK_EQUAL(i, i);\n+    }\n+    BOOST_CHECK_EQUAL(bf.GetPos(), 10);\n+\n+    // We're guaranteed (just barely) to be able to rewind to zero.\n+    BOOST_CHECK(bf.SetPos(0));\n+    BOOST_CHECK_EQUAL(bf.GetPos(), 0);\n+    bf >> i;\n+    BOOST_CHECK_EQUAL(i, 0);\n+\n+    // We can set the position forward again up to the farthest\n+    // into the stream we've been, but no farther. (Attempting\n+    // to go farther may succeed, but it's not guaranteed.)\n+    BOOST_CHECK(bf.SetPos(10));\n+    bf >> i;\n+    BOOST_CHECK_EQUAL(i, 10);\n+    BOOST_CHECK_EQUAL(bf.GetPos(), 11);\n+\n+    // Now it's only guaranteed that we can rewind to offset 1\n+    // (current read position, 11, minus rewind amount, 10).\n+    BOOST_CHECK(bf.SetPos(1));\n+    BOOST_CHECK_EQUAL(bf.GetPos(), 1);\n+    bf >> i;\n+    BOOST_CHECK_EQUAL(i, 1);\n+\n+    // We can stream into large variables, even larger than\n+    // the buffer size.\n+    BOOST_CHECK(bf.SetPos(11));\n+    {\n+        uint8_t a[40-11];\n+        bf >> a;\n+        for (size_t j = 0; j < sizeof(a); ++j) {\n+            BOOST_CHECK_EQUAL(a[j], 11+j);\n+        }\n+    }\n+    BOOST_CHECK_EQUAL(bf.GetPos(), 40);\n+\n+    // We've read the entire file, the next read should throw.\n+    try {\n+        bf >> i;\n+        BOOST_CHECK(false);\n+    } catch (const std::exception& e) {\n+        BOOST_CHECK(strstr(e.what(),\n+            \"CBufferedFile::Fill: end of file\") != nullptr);\n+    }\n+    // Attempting to read beyond the end sets the EOF indicator.\n+    BOOST_CHECK(bf.eof());\n+\n+    // Still at offset 40, we can go back 10, to 30.\n+    BOOST_CHECK_EQUAL(bf.GetPos(), 40);\n+    BOOST_CHECK(bf.SetPos(30));\n+    bf >> i;\n+    BOOST_CHECK_EQUAL(i, 30);\n+    BOOST_CHECK_EQUAL(bf.GetPos(), 31);\n+\n+    // We can explicitly close the file, or the destructor will do it.\n+    bf.fclose();\n+\n+    fs::remove(\"streams_test_tmp\");\n+}\n+\n+BOOST_AUTO_TEST_CASE(streams_buffered_file_rand)\n+{\n+    // fixed seed (reproducible test)\n+    SeedInsecureRand(true);\n+\n+    for (int rep = 0; rep < 50; ++rep) {\n+        FILE *file = fsbridge::fopen(\"streams_test_tmp\", \"w+b\");\n+        size_t fileSize = InsecureRandRange(256);\n+        for (uint8_t i = 0; i < fileSize; ++i) {\n+            fwrite(&i, 1, 1, file);\n+        }\n+        rewind(file);\n+\n+        size_t bufSize = InsecureRandRange(300)+1;\n+        size_t rewindSize = InsecureRandRange(bufSize);\n+        CBufferedFile bf(file, bufSize, rewindSize, 222, 333);\n+        size_t currentOffset = 0;\n+        size_t maxOffset = 0;\n+        for (int step = 0; step < 100; ++step) {\n+            if (currentOffset >= fileSize)\n+                break;\n+\n+            // We haven't read to the end of the file yet.\n+            BOOST_CHECK(!bf.eof());\n+            BOOST_CHECK_EQUAL(bf.GetPos(), currentOffset);\n+\n+            // The file consists of a series of objects of varying\n+            // sizes; the boundaries of the objects can interact\n+            // arbitrarily with the CBufferFile's internal buffer.\n+            // These first three cases simulate objects of various\n+            // sizes (1, 2, 5 bytes).\n+            switch (InsecureRandRange(5)) {\n+            case 0: {\n+                uint8_t a[1];\n+                if (currentOffset + 1 > fileSize)\n+                    continue;\n+                bf.SetLimit(currentOffset + 1);\n+                bf >> a;\n+                for (uint8_t i = 0; i < 1; ++i) {\n+                    BOOST_CHECK_EQUAL(a[i], currentOffset);\n+                    currentOffset++;\n+                }\n+                break;\n+            }\n+            case 1: {\n+                uint8_t a[2];\n+                if (currentOffset + 2 > fileSize)\n+                    continue;\n+                bf.SetLimit(currentOffset + 2);\n+                bf >> a;\n+                for (uint8_t i = 0; i < 2; ++i) {\n+                    BOOST_CHECK_EQUAL(a[i], currentOffset);\n+                    currentOffset++;\n+                }\n+                break;\n+            }\n+            case 2: {\n+                uint8_t a[5];\n+                if (currentOffset + 5 > fileSize)\n+                    continue;\n+                bf.SetLimit(currentOffset + 5);\n+                bf >> a;\n+                for (uint8_t i = 0; i < 5; ++i) {\n+                    BOOST_CHECK_EQUAL(a[i], currentOffset);\n+                    currentOffset++;\n+                }\n+                break;\n+            }\n+            case 3: {\n+                // Find a byte value (that is at or ahead of the current position).\n+                size_t find = currentOffset + InsecureRandRange(8);\n+                if (find >= fileSize)\n+                    find = fileSize - 1;\n+                bf.FindByte(find);",
      "path": "src/test/streams_tests.cpp",
      "position": null,
      "original_position": 202,
      "commit_id": "efd2474d17098c754367b844ec646ebececc7c74",
      "original_commit_id": "3c874f592183743c91e91ee9f4f14002b0c06d3f",
      "in_reply_to_id": null,
      "user": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "When testing this I encountered the following UBSan warning:\r\n\r\n```\r\ntest/streams_tests.cpp:396:29: runtime error: implicit conversion from type 'size_t' (aka 'unsigned long') of value 132 (64-bit, unsigned) to type 'char' changed the value to -124 (8-bit, signed)\r\n```",
      "created_at": "2019-08-14T07:43:42Z",
      "updated_at": "2019-09-10T13:53:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16577#discussion_r313742947",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/313742947"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16577"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 396,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314506490",
      "pull_request_review_id": 275679980,
      "id": 314506490,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNDUwNjQ5MA==",
      "diff_hunk": "@@ -202,4 +202,167 @@ BOOST_AUTO_TEST_CASE(streams_serializedata_xor)\n             std::string(ds.begin(), ds.end()));\n }\n \n+BOOST_AUTO_TEST_CASE(streams_buffered_file)\n+{\n+    FILE *file = fsbridge::fopen(\"streams_test_tmp\", \"w+\");\n+    for (uint8_t i = 0; i < 80; ++i) {\n+        fwrite(&i, 1, 1, file);\n+    }\n+    rewind(file);\n+\n+    // The buffer is 25 bytes, allow rewinding 10 bytes.\n+    CBufferedFile bf(file, 25, 10, 222, 333);\n+    BOOST_CHECK(!bf.eof());\n+\n+    // These two members have no functional effect.\n+    BOOST_CHECK_EQUAL(bf.GetType(), 222);\n+    BOOST_CHECK_EQUAL(bf.GetVersion(), 333);\n+\n+    uint8_t i;\n+    bf >> i;\n+    BOOST_CHECK_EQUAL(i, 0);\n+    bf >> i;\n+    BOOST_CHECK_EQUAL(i, 1);\n+\n+    // We have read bytes 0 and 1, positioned at 2.\n+    BOOST_CHECK_EQUAL(bf.GetPos(), 2);\n+\n+    // Rewind to offset 0, ok (within the 10 byte window.\n+    BOOST_CHECK(bf.SetPos(0));\n+    bf >> i;\n+    BOOST_CHECK_EQUAL(i, 0);\n+\n+    // We can go forward to where we've been, but beyond may fail.\n+    BOOST_CHECK(bf.SetPos(2));\n+    bf >> i;\n+    BOOST_CHECK_EQUAL(i, 2);\n+\n+    // Read from current offset, 3, forward until the buffer is full\n+    // (based on our knowledge of the object's internals).\n+    for (i = 3; i < 10; ++i) {\n+        bf >> i;\n+        BOOST_CHECK_EQUAL(i, i);",
      "path": "src/test/streams_tests.cpp",
      "position": null,
      "original_position": 43,
      "commit_id": "efd2474d17098c754367b844ec646ebececc7c74",
      "original_commit_id": "b1aee230574a7eb72ca5101458fc9ef4a957d626",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Does this test for an identity? Did you mean to use a different variable as  loop counter?",
      "created_at": "2019-08-15T21:28:24Z",
      "updated_at": "2019-09-10T13:53:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16577#discussion_r314506490",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314506490"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16577"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 244,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314892832",
      "pull_request_review_id": 276173610,
      "id": 314892832,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNDg5MjgzMg==",
      "diff_hunk": "@@ -202,4 +202,167 @@ BOOST_AUTO_TEST_CASE(streams_serializedata_xor)\n             std::string(ds.begin(), ds.end()));\n }\n \n+BOOST_AUTO_TEST_CASE(streams_buffered_file)\n+{\n+    FILE *file = fsbridge::fopen(\"streams_test_tmp\", \"w+\");\n+    for (uint8_t i = 0; i < 80; ++i) {\n+        fwrite(&i, 1, 1, file);\n+    }\n+    rewind(file);\n+\n+    // The buffer is 25 bytes, allow rewinding 10 bytes.\n+    CBufferedFile bf(file, 25, 10, 222, 333);\n+    BOOST_CHECK(!bf.eof());\n+\n+    // These two members have no functional effect.\n+    BOOST_CHECK_EQUAL(bf.GetType(), 222);\n+    BOOST_CHECK_EQUAL(bf.GetVersion(), 333);\n+\n+    uint8_t i;\n+    bf >> i;\n+    BOOST_CHECK_EQUAL(i, 0);\n+    bf >> i;\n+    BOOST_CHECK_EQUAL(i, 1);\n+\n+    // We have read bytes 0 and 1, positioned at 2.\n+    BOOST_CHECK_EQUAL(bf.GetPos(), 2);\n+\n+    // Rewind to offset 0, ok (within the 10 byte window.\n+    BOOST_CHECK(bf.SetPos(0));\n+    bf >> i;\n+    BOOST_CHECK_EQUAL(i, 0);\n+\n+    // We can go forward to where we've been, but beyond may fail.\n+    BOOST_CHECK(bf.SetPos(2));\n+    bf >> i;\n+    BOOST_CHECK_EQUAL(i, 2);\n+\n+    // Read from current offset, 3, forward until the buffer is full\n+    // (based on our knowledge of the object's internals).\n+    for (i = 3; i < 10; ++i) {\n+        bf >> i;\n+        BOOST_CHECK_EQUAL(i, i);",
      "path": "src/test/streams_tests.cpp",
      "position": null,
      "original_position": 43,
      "commit_id": "efd2474d17098c754367b844ec646ebececc7c74",
      "original_commit_id": "b1aee230574a7eb72ca5101458fc9ef4a957d626",
      "in_reply_to_id": 314506490,
      "user": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "@mzumsande, good catch, very silly of me! Fixed in the latest commit, 166358663eff37ea59ce1ec2f74685a46187e926.",
      "created_at": "2019-08-16T21:16:36Z",
      "updated_at": "2019-09-10T13:53:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16577#discussion_r314892832",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314892832"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16577"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 244,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/315253054",
      "pull_request_review_id": 276613237,
      "id": 315253054,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNTI1MzA1NA==",
      "diff_hunk": "@@ -733,18 +733,18 @@ class CBufferedFile\n         if (readNow == 0)\n             return false;\n         size_t nBytes = fread((void*)&vchBuf[pos], 1, readNow, src);\n-        if (nBytes == 0) {\n+        if (nBytes == 0)",
      "path": "src/streams.h",
      "position": null,
      "original_position": 5,
      "commit_id": "efd2474d17098c754367b844ec646ebececc7c74",
      "original_commit_id": "166358663eff37ea59ce1ec2f74685a46187e926",
      "in_reply_to_id": null,
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Please keep the `{}`, according to the [coding style](https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md#coding-style-c): \r\n\"If an if only has a single-statement then-clause, it can appear on the same line as the if, without braces. In every other case, braces are required, and the then and else clauses must appear correctly indented on a new line.\"\r\n(some cases below, too)",
      "created_at": "2019-08-19T14:51:00Z",
      "updated_at": "2019-09-10T13:53:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16577#discussion_r315253054",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/315253054"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16577"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 736,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/315269060",
      "pull_request_review_id": 276633272,
      "id": 315269060,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNTI2OTA2MA==",
      "diff_hunk": "@@ -802,16 +804,19 @@ class CBufferedFile\n \n     //! rewind to a given reading position\n     bool SetPos(uint64_t nPos) {\n-        nReadPos = nPos;\n-        if (nReadPos + nRewind < nSrcPos) {\n-            nReadPos = nSrcPos - nRewind;\n+        size_t bufsize = vchBuf.size();\n+        if (nSrcPos > bufsize && nPos < nSrcPos - bufsize) {",
      "path": "src/streams.h",
      "position": null,
      "original_position": 44,
      "commit_id": "efd2474d17098c754367b844ec646ebececc7c74",
      "original_commit_id": "b1aee230574a7eb72ca5101458fc9ef4a957d626",
      "in_reply_to_id": 312697551,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I also think that the first check in `SetPos()` is incorrect. This does not lead to problems in production thanks to the initialization values of `CBufferedFile` `vchBuf.size()=2*MAX_BLOCK_SERIALIZED_SIZE=8000000` and `nRewind=MAX_BLOCK_SERIALIZED_SIZE+8=4000008` in `LoadExternalBlockFile()`.\r\n\r\nAccordingly, `nSrcPos = vchBuf.size() - nRewind = 3999992 < nRewind` after the first buffer fill and  the (erroneous) condition `nReadPos + nRewind < nSrcPos` in `SetPos()` is never `true`.\r\n\r\nWhen I change  `LoadExternalBlockFile()` slightly by initializing CBufferedFile with `nRewind= MAX_BLOCK_SERIALIZED_SIZE-8` instead of `MAX_BLOCK_SERIALIZED_SIZE+8`, the functional test `feature_reindex` fails because now above condition can be `true`. Since all blocks in this test are much smaller than the maximum block size, this shouldn't happen.",
      "created_at": "2019-08-19T15:20:20Z",
      "updated_at": "2019-09-10T13:53:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16577#discussion_r315269060",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/315269060"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16577"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 808,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/315273058",
      "pull_request_review_id": 276638256,
      "id": 315273058,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNTI3MzA1OA==",
      "diff_hunk": "@@ -802,16 +800,19 @@ class CBufferedFile\n \n     //! rewind to a given reading position\n     bool SetPos(uint64_t nPos) {\n-        nReadPos = nPos;\n-        if (nReadPos + nRewind < nSrcPos) {\n-            nReadPos = nSrcPos - nRewind;\n+        size_t bufsize = vchBuf.size();\n+        if (nPos + bufsize < nSrcPos) {\n+            // rewinding too far, rewind as far as possible\n+            nReadPos = nSrcPos - bufsize;",
      "path": "src/streams.h",
      "position": 40,
      "original_position": 43,
      "commit_id": "efd2474d17098c754367b844ec646ebececc7c74",
      "original_commit_id": "166358663eff37ea59ce1ec2f74685a46187e926",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Would be nice to have a test case for \"rewinding too far\" in the test `streams_buffered_file` as well, since this code was changed.",
      "created_at": "2019-08-19T15:27:45Z",
      "updated_at": "2019-09-10T13:53:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16577#discussion_r315273058",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/315273058"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16577"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 807,
      "original_line": 807,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/315408084",
      "pull_request_review_id": 276810490,
      "id": 315408084,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNTQwODA4NA==",
      "diff_hunk": "@@ -802,16 +800,19 @@ class CBufferedFile\n \n     //! rewind to a given reading position\n     bool SetPos(uint64_t nPos) {\n-        nReadPos = nPos;\n-        if (nReadPos + nRewind < nSrcPos) {\n-            nReadPos = nSrcPos - nRewind;\n+        size_t bufsize = vchBuf.size();\n+        if (nPos + bufsize < nSrcPos) {\n+            // rewinding too far, rewind as far as possible\n+            nReadPos = nSrcPos - bufsize;",
      "path": "src/streams.h",
      "position": 40,
      "original_position": 43,
      "commit_id": "efd2474d17098c754367b844ec646ebececc7c74",
      "original_commit_id": "166358663eff37ea59ce1ec2f74685a46187e926",
      "in_reply_to_id": 315273058,
      "user": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done, https://github.com/bitcoin/bitcoin/pull/16577/commits/723baf279ecf42c42c4c73378e6bc175ae07b631.",
      "created_at": "2019-08-19T20:56:55Z",
      "updated_at": "2019-09-10T13:53:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16577#discussion_r315408084",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/315408084"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16577"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 807,
      "original_line": 807,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/315459818",
      "pull_request_review_id": 276873001,
      "id": 315459818,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNTQ1OTgxOA==",
      "diff_hunk": "@@ -802,16 +804,19 @@ class CBufferedFile\n \n     //! rewind to a given reading position\n     bool SetPos(uint64_t nPos) {\n-        nReadPos = nPos;\n-        if (nReadPos + nRewind < nSrcPos) {\n-            nReadPos = nSrcPos - nRewind;\n+        size_t bufsize = vchBuf.size();\n+        if (nSrcPos > bufsize && nPos < nSrcPos - bufsize) {",
      "path": "src/streams.h",
      "position": null,
      "original_position": 44,
      "commit_id": "efd2474d17098c754367b844ec646ebececc7c74",
      "original_commit_id": "b1aee230574a7eb72ca5101458fc9ef4a957d626",
      "in_reply_to_id": 312697551,
      "user": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "@mzumsande, it's broken even with the current production initialization values.  I made a temporary branch, https://github.com/LarryRuane/bitcoin/commit/bc9c987300782a7881edaabf7b7c5463a7688041, that simulates, after reading each block (during reindexing), what would happen if we really did need to rewind. (This temp branch doesn't include the changes from this PR.) `bitcoind --reindex` failed pretty quickly (at line 4405). \r\n\r\nThe temp branch actually verifies two things, (1) the call to `SetPos()` returns `true` (the production code doesn't look at the return value), which means that the requested position was accommodated (as it should always be in the current context), and, (2), after rewinding, we get the expected data (by reading one byte).\r\n\r\nI ran the same test with the code in the current PR's branch, and it doesn't fail.\r\n\r\nI think the easiest way to understand why the current code is broken is to note that `Fill()` can push `nSrcPos` far ahead of `nReadPos`. For best efficiency,`Fill()` always reads as much as it can from the file in a single read, so if there's a lot of \"runway\" ahead of it (lots of space to the end of the buffer), it will read a lot. It may not go quite to the end of the buffer, if doing so would violate the rewind guarantee, but it can go much farther ahead of `nReadPos` than the rewind amount. Now look again at the current `SetPos()`:\r\n```\r\nif (nReadPos + nRewind < nSrcPos) {\r\n    nReadPos = nSrcPos - nRewind;\r\n    return false;\r\n}\r\n```\r\nThis condition could easily be true if `nSrcPos` has gotten far ahead of `nReadPos`. But that doesn't mean that `nReadPos` needs to be adjusted. Actually, this code could move `nReadPos` beyond the maximum position it's ever had, meaning that it's skipping data! You're at the farthest position you've ever reached, say, offset 40, and you request to rewind to position 35, and you end up at position 45! The condition is just wrong.",
      "created_at": "2019-08-20T00:01:07Z",
      "updated_at": "2019-09-10T13:53:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16577#discussion_r315459818",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/315459818"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16577"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 808,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/322981079",
      "pull_request_review_id": 286458997,
      "id": 322981079,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMyMjk4MTA3OQ==",
      "diff_hunk": "@@ -802,16 +804,19 @@ class CBufferedFile\n \n     //! rewind to a given reading position\n     bool SetPos(uint64_t nPos) {\n-        nReadPos = nPos;\n-        if (nReadPos + nRewind < nSrcPos) {\n-            nReadPos = nSrcPos - nRewind;\n+        size_t bufsize = vchBuf.size();\n+        if (nSrcPos > bufsize && nPos < nSrcPos - bufsize) {",
      "path": "src/streams.h",
      "position": null,
      "original_position": 44,
      "commit_id": "efd2474d17098c754367b844ec646ebececc7c74",
      "original_commit_id": "b1aee230574a7eb72ca5101458fc9ef4a957d626",
      "in_reply_to_id": 312697551,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "You are right, I was more trying to understand why reindexing currently works in spite of the wrong condition. With different initialization values even no-rewind uses of `SetPos` like `SetPos(current_position)` could fail.",
      "created_at": "2019-09-10T21:58:17Z",
      "updated_at": "2019-09-10T21:58:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/16577#discussion_r322981079",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/322981079"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16577"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 808,
      "side": "RIGHT"
    }
  ]
}